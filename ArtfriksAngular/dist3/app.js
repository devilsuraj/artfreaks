(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (process,global){
!function(t){function e(t){Object.defineProperty(this,t,{enumerable:!0,get:function(){return this[d][t]}})}function n(t){var e;if(t&&t.__esModule){e={};for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.__useDefault=!1,e.__esModule=!0}else{if("[object Module]"===Object.prototype.toString.call(t)||"undefined"!=typeof System&&System.isModule&&System.isModule(t))return t;e={default:t,__useDefault:!0}}return new r(e)}function r(t){Object.defineProperty(this,d,{value:t}),Object.keys(t).forEach(e,this)}function i(t){return"@node/"===t.substr(0,6)?h(t,n(y(t.substr(6))),{}):f[t]}function o(t){var e=i(t);if(!e)throw new Error('Module "'+t+'" expected, but not contained in build.');if(e.module)return e.module;var n=e.linkRecord;return s(e,n),p(e,n,[]),e.module}function s(t,e){if(!e.depLoads){e.declare&&a(t,e),e.depLoads=[];for(var n=0;n<e.deps.length;n++){var r=i(e.deps[n]);e.depLoads.push(r),r.linkRecord&&s(r,r.linkRecord);var o=e.setters&&e.setters[n];o&&(o(r.module||r.linkRecord.moduleObj),r.importerSetters.push(o))}return t}}function a(e,n){var r=n.moduleObj,i=e.importerSetters,o=!1,s=n.declare.call(t,function(t,e){if(!o){if("object"==typeof t)for(var n in t)"__useDefault"!==n&&(r[n]=t[n]);else r[t]=e;o=!0;for(var s=0;s<i.length;s++)i[s](r);return o=!1,e}},{id:e.key});"function"!=typeof s?(n.setters=s.setters,n.execute=s.execute):(n.setters=[],n.execute=s)}function u(t,e,n){return f[t]={key:t,module:void 0,importerSetters:[],linkRecord:{deps:e,depLoads:void 0,declare:n,setters:void 0,execute:void 0,moduleObj:{}}}}function c(t,e,n,r){return f[t]={key:t,module:void 0,importerSetters:[],linkRecord:{deps:e,depLoads:void 0,declare:void 0,execute:r,executingRequire:n,moduleObj:{default:{},__useDefault:!0},setters:void 0}}}function l(t,e,n){return function(r){for(var i=0;i<t.length;i++)if(t[i]===r){var o,s=e[i];return o=-1===n.indexOf(s)?p(s,s.linkRecord,n):s.linkRecord.moduleObj,o.__useDefault?o.default:o}}}function p(e,n,i){if(i.push(e),e.module)return e.module;var o;if(n.setters){for(var s=0;s<n.deps.length;s++){var a=n.depLoads[s],u=a.linkRecord;u&&-1===i.indexOf(a)&&(o=p(a,u,u.setters?i:[]))}n.execute.call(m)}else{var c={id:e.key},h=n.moduleObj;Object.defineProperty(c,"exports",{configurable:!0,set:function(t){h.default=t},get:function(){return h.default}});var f=l(n.deps,n.depLoads,i);if(!n.executingRequire)for(var s=0;s<n.deps.length;s++)f(n.deps[s]);var d=n.execute.call(t,f,h.default,c);if(void 0!==d?h.default=d:c.exports!==h.default&&(h.default=c.exports),h.default&&h.default.__esModule)for(var y in h.default)Object.hasOwnProperty.call(h.default,y)&&"default"!==y&&(h[y]=h.default[y])}var c=e.module=new r(n.moduleObj);if(!n.setters)for(var s=0;s<e.importerSetters.length;s++)e.importerSetters[s](c);return c}function h(t,e){return f[t]={key:t,module:e,importerSetters:[],linkRecord:void 0}}var f={},d="undefined"!=typeof Symbol?Symbol():"@@baseObject";r.prototype=Object.create(null),"undefined"!=typeof Symbol&&Symbol.toStringTag&&(r.prototype[Symbol.toStringTag]="Module");var y="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&"undefined"!=typeof require.resolve&&"undefined"!=typeof process&&process.platform&&require,m={};return Object.freeze&&Object.freeze(m),function(t,e,i,s){return function(a){a(function(a){var l={_nodeRequire:y,register:u,registerDynamic:c,registry:{get:function(t){return f[t].module},set:h},newModule:function(t){return new r(t)}};h("@empty",new r({}));for(var p=0;p<e.length;p++)h(e[p],n(arguments[p],{}));s(l);var d=o(t[0]);if(t.length>1)for(var p=1;p<t.length;p++)o(t[p]);return i?d.default:(d instanceof r&&Object.defineProperty(d,"__esModule",{value:!0}),d)})}}}("undefined"!=typeof self?self:global)(["a"],[],!0,function(t){var e=this.require,n=this.exports,r=this.module;!function(e){function n(t,e){for(var n=t.split(".");n.length;)e=e[n.shift()];return e}function r(t){if("string"==typeof t)return n(t,e);if(!(t instanceof Array))throw new Error("Global exports must be a string or array.");for(var r={},i=0;i<t.length;i++)r[t[i].split(".").pop()]=n(t[i],e);return r}function i(t){if(-1===a.indexOf(t)){try{var n=e[t]}catch(e){a.push(t)}this(t,n)}}var o,s=t,a=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","webkitStorageInfo","webkitIndexedDB","mozInnerScreenY","mozInnerScreenX"];s.registry.set("@@global-helpers",s.newModule({prepareGlobal:function(t,n,s){var a=e.define;e.define=void 0;var u;if(s){u={};for(var c in s)u[c]=e[c],e[c]=s[c]}return n||(o={},Object.keys(e).forEach(i,function(t,e){o[t]=e})),function(){var t,s=n?r(n):{},c=!!n;if(n||Object.keys(e).forEach(i,function(e,r){o[e]!==r&&void 0!==r&&(n||(s[e]=r,void 0!==t?c||t===r||(c=!0):t=r))}),s=c?s:t,u)for(var l in u)e[l]=u[l];return e.define=a,s}}}))}("undefined"!=typeof self?self:global),function(i,o){"object"==typeof n&&"undefined"!=typeof r?o(n,e("@angular/core")):t.registerDynamic("b",["c"],!1,function(t,e,n){return"function"==typeof o?o.call(e,e,t("c")):o})}(this,function(t,e){"use strict";function n(t,e,n){void 0===n&&(n=null);var r=[],i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(t){var e=i(t);e&&r.push(e)}),r}function r(t){return null!=t}function i(t){return null==t}function o(t){return"object"==typeof t&&null!==t&&Object.getPrototypeOf(t)===eo}function s(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString(),n=e.indexOf("\n");return n===-1?e:e.substring(0,n)}function a(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function u(t){return!a(t)}function c(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function l(t){if(":"!=t[0])return[null,t];var e=t.indexOf(":",1);if(e==-1)throw new Error('Unsupported format "'+t+'" expecting ":namespace:name"');return[t.slice(1,e),t.slice(e+1)]}function p(t){return null===t?null:l(t)[0]}function h(t,e){return t?":"+t+":"+e:e}function f(t){return Qo[t.toLowerCase()]||Yo}function d(t){return t.replace(ss,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t[1].toUpperCase()})}function y(t,e){return v(t,":",e)}function m(t,e){return v(t,".",e)}function v(t,e,n){var r=t.indexOf(e);return r==-1?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function g(t,e,n){return Array.isArray(t)?e.visitArray(t,n):o(t)?e.visitStringMap(t,n):null==t||u(t)?e.visitPrimitive(t,n):e.visitOther(t,n)}function _(t){return t.replace(/\W/g,"_")}function b(t){if(!t||!t.reference)return null;var e=t.reference;if(e instanceof Ji)return e.name;if(e.__anonymousType)return e.__anonymousType;var n=s(e);return n.indexOf("(")>=0?(n="anonymous_"+Es++,e.__anonymousType=n):n=_(n),n}function w(t){var e=t.reference;return e instanceof Ji?e.filePath:Oo.importUri(e)}function C(t){return r(t.value)?_(t.value):b(t.identifier)}function E(t){return r(t.identifier)?t.identifier.reference:t.value}function S(t,n){var r=Zo.parse(n.selector)[0].getMatchingElementTemplate();return Os.create({isHost:!0,type:{reference:t,diDeps:[],lifecycleHooks:[]},template:new Ps({encapsulation:e.ViewEncapsulation.None,template:r,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[]}),changeDetection:e.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function x(t){return t||[]}function P(t){return t>=Is&&t<=Ls||t==ka}function O(t){return sa<=t&&t<=aa}function T(t){return t>=ga&&t<=Oa||t>=ua&&t<=ha}function A(t){return t>=ga&&t<=ba||t>=ua&&t<=la||O(t)}function M(){return function(t){return t}}function k(t,n){if(e.isDevMode()&&!i(n)){if(!Array.isArray(n))throw new Error("Expected '"+t+"' to be an array of strings.");for(var r=0;r<n.length;r+=1)if("string"!=typeof n[r])throw new Error("Expected '"+t+"' to be an array of strings.")}}function R(t,n){if(r(n)&&(!Array.isArray(n)||2!=n.length))throw new Error("Expected '"+t+"' to be an array, [start, end].");if(e.isDevMode()&&!i(n)){var o=n[0],s=n[1];Ia.forEach(function(t){if(t.test(o)||t.test(s))throw new Error("['"+o+"', '"+s+"'] contains unusable interpolation symbol.")})}}function I(t,e){return new du(t,pu.Character,e,String.fromCharCode(e))}function N(t,e){return new du(t,pu.Identifier,0,e)}function D(t,e){return new du(t,pu.Keyword,0,e)}function j(t,e){return new du(t,pu.Operator,0,e)}function V(t,e){return new du(t,pu.String,0,e)}function L(t,e){return new du(t,pu.Number,e,"")}function F(t,e){return new du(t,pu.Error,0,e)}function U(t){return ga<=t&&t<=Oa||ua<=t&&t<=ha||t==va||t==Bs}function H(t){if(0==t.length)return!1;var e=new mu(t);if(!U(e.peek))return!1;for(e.advance();e.peek!==Rs;){if(!B(e.peek))return!1;e.advance()}return!0}function B(t){return T(t)||O(t)||t==va||t==Bs}function q(t){return t==_a||t==ca}function z(t){return t==Ks||t==Qs}function W(t){return t===Ws||t===Us||t===Ra}function G(t){switch(t){case wa:return Ns;case ba:return js;case Ca:return Vs;case Ea:return Is;case xa:return Ds;default:return t}}function X(t){var e=c(t.start)+"([\\s\\S]*?)"+c(t.end);return new RegExp(e,"g")}function $(t,e,n){void 0===n&&(n=null);var r=[],i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(t){var e=i(t);e&&r.push(e)}),r}function Q(t,e,n,r,i){return void 0===r&&(r=!1),void 0===i&&(i=Da),new Bu(new xu(t,e),n,r,i).tokenize()}function Y(t){var e=t===Rs?"EOF":String.fromCharCode(t);return'Unexpected character "'+e+'"'}function K(t){return'Unknown entity "'+t+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function Z(t){return!P(t)||t===Rs}function J(t){return P(t)||t===ia||t===Js||t===Ws||t===Us||t===ra}function tt(t){return(t<ga||Oa<t)&&(t<ua||ha<t)&&(t<sa||t>aa)}function et(t){return t==ea||t==Rs||!A(t)}function nt(t){return t==ea||t==Rs||!T(t)}function rt(t,e,n){var r=!!n&&t.indexOf(n.start,e)==e;return t.charCodeAt(e)==Ta&&!r}function it(t){return t===ra||T(t)}function ot(t,e){return st(t)==st(e)}function st(t){return t>=ga&&t<=Oa?t-ga+ua:t}function at(t){for(var e,n=[],r=0;r<t.length;r++){var i=t[r];e&&e.type==ju.TEXT&&i.type==ju.TEXT?(e.parts[0]+=i.parts[0],e.sourceSpan.end=i.sourceSpan.end):(e=i,n.push(e))}return n}function ut(t,e){return t.length>0&&t[t.length-1]===e}function ct(t){var e=new ic(rc,t);return function(t,n,r){return e.toI18nMessage(t,n,r)}}function lt(t){return t.split(oc)[1]}function pt(t,e,n,r){var i=new fc(n,r);return i.extract(t,e)}function ht(t,e,n,r,i){var o=new fc(r,i);return o.merge(t,e,n)}function ft(t){return t instanceof Nu&&t.value&&t.value.startsWith("i18n")}function dt(t){return t instanceof Nu&&t.value&&"/i18n"===t.value}function yt(t){return t.attrs.find(function(t){return t.name===uc})||null}function mt(t){if(!t)return["",""];var e=t.indexOf("|");return e==-1?["",t]:[t.slice(0,e),t.slice(e+1)]}function vt(t){return yc}function gt(t){return wt(bt(t.nodes).join("")+("["+t.meaning+"]"))}function _t(t){var e=new wc,n=t.nodes.map(function(t){return t.visit(e,null)});return St(n.join(""),t.meaning)}function bt(t){return t.map(function(t){return t.visit(bc,null)})}function wt(t){var e=Ot(t),n=Dt(e,Cc.Big),r=8*e.length,i=new Array(80),o=[1732584193,4023233417,2562383102,271733878,3285377520],s=o[0],a=o[1],u=o[2],c=o[3],l=o[4];n[r>>5]|=128<<24-r%32,n[(r+64>>9<<4)+15]=r;for(var p=0;p<n.length;p+=16){for(var h=[s,a,u,c,l],f=h[0],d=h[1],y=h[2],m=h[3],v=h[4],g=0;g<80;g++){g<16?i[g]=n[p+g]:i[g]=It(i[g-3]^i[g-8]^i[g-14]^i[g-16],1);var _=Ct(g,a,u,c),b=_[0],w=_[1],C=[It(s,5),b,l,w,i[g]].reduce(At);E=[c,u,It(a,30),s,C],l=E[0],c=E[1],u=E[2],a=E[3],s=E[4]}S=[At(s,f),At(a,d),At(u,y),At(c,m),At(l,v)],s=S[0],a=S[1],u=S[2],c=S[3],l=S[4]}return Ut(Lt([s,a,u,c,l]));var E,S}function Ct(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function Et(t){var e=Ot(t),n=[xt(e,0),xt(e,102072)],r=n[0],i=n[1];return 0!=r||0!=i&&1!=i||(r^=319790063,i^=-1801410264),[r,i]}function St(t,e){var n=Et(t),r=n[0],i=n[1];if(e){var o=Et(e),s=o[0],a=o[1];u=kt(Nt([r,i],1),[s,a]),r=u[0],i=u[1]}return Ht(Lt([2147483647&r,i]));var u}function xt(t,e){var n,r=[2654435769,2654435769],i=r[0],o=r[1],s=t.length;for(n=0;n+12<=s;n+=12)i=At(i,Vt(t,n,Cc.Little)),o=At(o,Vt(t,n+4,Cc.Little)),e=At(e,Vt(t,n+8,Cc.Little)),a=Pt([i,o,e]),i=a[0],o=a[1],e=a[2];return i=At(i,Vt(t,n,Cc.Little)),o=At(o,Vt(t,n+4,Cc.Little)),e=At(e,s),e=At(e,Vt(t,n+8,Cc.Little)<<8),Pt([i,o,e])[2];var a}function Pt(t){var e=t[0],n=t[1],r=t[2];return e=Rt(e,n),e=Rt(e,r),e^=r>>>13,n=Rt(n,r),n=Rt(n,e),n^=e<<8,r=Rt(r,e),r=Rt(r,n),r^=n>>>13,e=Rt(e,n),e=Rt(e,r),e^=r>>>12,n=Rt(n,r),n=Rt(n,e),n^=e<<16,r=Rt(r,e),r=Rt(r,n),r^=n>>>5,e=Rt(e,n),e=Rt(e,r),e^=r>>>3,n=Rt(n,r),n=Rt(n,e),n^=e<<10,r=Rt(r,e),r=Rt(r,n),r^=n>>>15,[e,n,r]}function Ot(t){for(var e="",n=0;n<t.length;n++){var r=Tt(t,n);r<=127?e+=String.fromCharCode(r):r<=2047?e+=String.fromCharCode(192|r>>>6,128|63&r):r<=65535?e+=String.fromCharCode(224|r>>>12,128|r>>>6&63,128|63&r):r<=2097151&&(e+=String.fromCharCode(240|r>>>18,128|r>>>12&63,128|r>>>6&63,128|63&r))}return e}function Tt(t,e){if(e<0||e>=t.length)throw new Error("index="+e+' is out of range in "'+t+'"');var n=t.charCodeAt(e);if(n>=55296&&n<=57343&&t.length>e+1){var r=jt(t,e+1);if(r>=56320&&r<=57343)return 1024*(n-55296)+r-56320+65536}return n}function At(t,e){return Mt(t,e)[1]}function Mt(t,e){var n=(65535&t)+(65535&e),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function kt(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Mt(r,o),a=s[0],u=s[1],c=At(At(n,i),a);return[c,u]}function Rt(t,e){var n=(65535&t)-(65535&e),r=(t>>16)-(e>>16)+(n>>16);return r<<16|65535&n}function It(t,e){return t<<e|t>>>32-e}function Nt(t,e){var n=t[0],r=t[1],i=n<<e|r>>>32-e,o=r<<e|n>>>32-e;return[i,o]}function Dt(t,e){for(var n=Array(t.length+3>>>2),r=0;r<n.length;r++)n[r]=Vt(t,4*r,e);return n}function jt(t,e){return e>=t.length?0:255&t.charCodeAt(e)}function Vt(t,e,n){var r=0;if(n===Cc.Big)for(var i=0;i<4;i++)r+=jt(t,e+i)<<24-8*i;else for(var i=0;i<4;i++)r+=jt(t,e+i)<<8*i;return r}function Lt(t){return t.reduce(function(t,e){return t+Ft(e)},"")}function Ft(t){for(var e="",n=0;n<4;n++)e+=String.fromCharCode(t>>>8*(3-n)&255);return e}function Ut(t){for(var e="",n=0;n<t.length;n++){var r=jt(t,n);e+=(r>>>4).toString(16)+(15&r).toString(16)}return e.toLowerCase()}function Ht(t){for(var e="",n="1",r=t.length-1;r>=0;r--)e=Bt(e,qt(jt(t,r),n)),n=qt(256,n);return e.split("").reverse().join("")}function Bt(t,e){for(var n="",r=Math.max(t.length,e.length),i=0,o=0;i<r||o;i++){var s=o+ +(t[i]||0)+ +(e[i]||0);s>=10?(o=1,n+=s-10):(o=0,n+=s)}return n}function qt(t,e){for(var n="",r=e;0!==t;t>>>=1)1&t&&(n=Bt(n,r)),r=Bt(r,r);return n}function zt(t){return t.map(function(t){return t.visit(Pc)}).join("")}function Wt(t){return Rc.reduce(function(t,e){return t.replace(e[0],e[1])},t)}function Gt(t){switch(t.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+t}}function Xt(t){return _t(t)}function $t(t,e,n){return void 0===e&&(e=null),void 0===n&&(n="src"),null==e?"@angular/"+t+"/index":"@angular/"+t+"/"+n+"/"+e}function Qt(t){return Oo.resolveIdentifier(t.name,t.moduleUrl,t.runtime)}function Yt(t){var e=Oo.resolveIdentifier(t.name,t.moduleUrl,t.runtime);return{reference:e}}function Kt(t){return{identifier:t}}function Zt(t){return Kt(Yt(t))}function Jt(t,e){var n=Oo.resolveEnum(Qt(t),e);return{reference:n}}function te(t){var e=new Sl;return new Cl($(e,t),e.isExpanded,e.errors)}function ee(t,e){var n=t.cases.map(function(t){wl.indexOf(t.value)!=-1||t.value.match(/^=\d+$/)||e.push(new El(t.valueSourceSpan,'Plural cases should be "=<number>" or one of '+wl.join(", ")));var n=te(t.expression);return e.push.apply(e,n.errors),new Iu("template",[new Ru("ngPluralCase",""+t.value,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)}),r=new Ru("[ngPlural]",t.switchValue,t.switchValueSourceSpan);return new Iu("ng-container",[r],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}function ne(t,e){var n=t.cases.map(function(t){var n=te(t.expression);return e.push.apply(e,n.errors),"other"===t.value?new Iu("template",[new Ru("ngSwitchDefault","",t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan):new Iu("template",[new Ru("ngSwitchCase",""+t.value,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)}),r=new Ru("[ngSwitch]",t.switchValue,t.switchValueSourceSpan);return new Iu("ng-container",[r],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}function re(t,e){var n=e.useExisting,r=e.useValue,i=e.deps;return{token:t.token,useClass:t.useClass,useExisting:n,useFactory:t.useFactory,useValue:r,deps:i,multi:t.multi}}function ie(t,e){var n=e.eager,r=e.providers;return new Qi(t.token,t.multiProvider,t.eager||n,r,t.providerType,t.lifecycleHooks,t.sourceSpan)}function oe(t,e,n){var r=new Map;t.forEach(function(t){var i={token:{identifier:t.type},useClass:t.type};se([i],t.isComponent?Yi.Component:Yi.Directive,!0,e,n,r)});var i=t.filter(function(t){return t.isComponent}).concat(t.filter(function(t){return!t.isComponent}));return i.forEach(function(t){se(t.providers,Yi.PublicService,!1,e,n,r),se(t.viewProviders,Yi.PrivateService,!1,e,n,r)}),r}function se(t,e,n,i,o,s){t.forEach(function(t){var a=s.get(E(t.token));if(r(a)&&!!a.multiProvider!=!!t.multi&&o.push(new Pl("Mixing multi and non multi provider is not possible for token "+C(a.token),i)),a)t.multi||(a.providers.length=0),a.providers.push(t);else{var u=t.token.identifier&&t.token.identifier.lifecycleHooks?t.token.identifier.lifecycleHooks:[];a=new Qi(t.token,t.multi,n||u.length>0,[t],e,u,i),s.set(E(t.token),a)}})}function ae(t){var e=new Map;return t.viewQueries&&t.viewQueries.forEach(function(t){return ce(e,t)}),e}function ue(t){var e=new Map;return t.forEach(function(t){t.queries&&t.queries.forEach(function(t){return ce(e,t)})}),e}function ce(t,e){e.selectors.forEach(function(n){var r=t.get(E(n));r||(r=[],t.set(E(n),r)),r.push(e)})}function le(t){if(null==t||0===t.length||"/"==t[0])return!1;var e=t.match(Nl);return null===e||"package"==e[1]||"asset"==e[1]}function pe(t,e,n){var r=[],i=n.replace(Il,"").replace(Rl,function(){for(var n=[],i=0;i<arguments.length;i++)n[i-0]=arguments[i];var o=n[1]||n[2];return le(o)?(r.push(t.resolve(e,o)),""):n[0]});return new kl(i,r)}function he(t){return"@"==t[0]}function fe(t,n,r,i){var o=[];return Zo.parse(n).forEach(function(e){var n=e.element?[e.element]:t.allKnownElementNames(),s=new Set(e.notSelectors.filter(function(t){return t.isElementSelector()}).map(function(t){return t.element})),a=n.filter(function(t){return!s.has(t)});o.push.apply(o,a.map(function(e){return t.securityContext(e,r,i)}))}),0===o.length?[e.SecurityContext.NONE]:Array.from(new Set(o)).sort()}function de(t){var e=null,n=null,r=null,i=!1,o=null;t.attrs.forEach(function(t){var s=t.name.toLowerCase();s==Wl?e=t.value:s==Ql?n=t.value:s==$l?r=t.value:t.name==Jl?i=!0:t.name==tp&&t.value.length>0&&(o=t.value)}),e=ye(e);var s=t.name.toLowerCase(),a=ep.OTHER;return l(s)[1]==Gl?a=ep.NG_CONTENT:s==Kl?a=ep.STYLE:s==Zl?a=ep.SCRIPT:s==Xl&&r==Yl&&(a=ep.STYLESHEET),new np(a,e,n,i,o)}function ye(t){return null===t||0===t.length?"*":t}function me(t){return t.trim().split(/\s+/g)}function ve(t,e){var n=new Zo,r=l(t)[1];n.setElement(r);for(var i=0;i<e.length;i++){var o=e[i][0],s=l(o)[1],a=e[i][1];if(n.addAttribute(s,a),o.toLowerCase()==bp){var u=me(a);u.forEach(function(t){return n.addClassName(t)})}}return n}function ge(t){return t instanceof Au&&0==t.value.trim().length}function _e(t){var e=new Map;return t.forEach(function(t){e.get(t.type.reference)||e.set(t.type.reference,t)}),Array.from(e.values())}function be(t,e,n){var r=xe(t.styles,{},e,n,!1),i=new qp(r),o=t.stateNameExpr.split(/\s*,\s*/);return o.map(function(t){return new Fp(t,i)})}function we(t,e,n,r){var i=new Qp,o=[],s=t.stateChangeExpr.split(/\s*,\s*/);s.forEach(function(t){o.push.apply(o,Ee(t,r))});var a=Se(t.steps),u=Pe(a,e,n,r),c=ke(u,0,i,e,r);0==r.length&&Re(c,i,r);var l=c instanceof Wp?c:new Xp([c]);return new Hp(o,l)}function Ce(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";default:return e.push(new nh('the transition alias value "'+t+'" is not supported')),"* => *"}}function Ee(t,e){var n=[];":"==t[0]&&(t=Ce(t,e));var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(!r(i)||i.length<4)return e.push(new nh("the provided "+t+" is not of a supported format")),n;var o=i[1],s=i[2],a=i[3];n.push(new Up(o,a));var u=o==Do&&a==Do;return"<"!=s[0]||u||n.push(new Up(a,o)),n}function Se(t){return Array.isArray(t)?new ws(t):t}function xe(t,e,n,r,i){var o=t.offset;(o>1||o<0)&&r.push(new nh("Offset values for animations must be between 0 and 1"));var s=[];return t.styles.forEach(function(t){if("string"==typeof t)i?s.push.apply(s,Ae(t,e,r)):r.push(new nh("State based animations cannot contain references to other states"));else{var o=t,a={};Object.keys(o).forEach(function(t){var e=n.normalizeAnimationStyleProperty(t),i=n.normalizeAnimationStyleValue(e,t,o[t]),s=i.error;s&&r.push(new nh(s)),a[e]=i.value}),s.push(a)}}),s}function Pe(t,e,n,r){var i=Te(t,e,n,r);return t instanceof Cs?new Cs(i):new ws(i)}function Oe(t,e){if("object"==typeof e&&null!==e&&t.length>0){var n=t.length-1,r=t[n];if("object"==typeof r&&null!==r)return void(t[n]=ro.merge(r,e))}t.push(e)}function Te(t,e,n,i){var o;if(!(t instanceof bs))return[t];o=t.steps;var s,a=[];return o.forEach(function(t){if(t instanceof gs)r(s)||(s=[]),xe(t,e,n,i,!0).forEach(function(t){Oe(s,t)});else{if(r(s)&&(a.push(new gs(0,s)),s=null),t instanceof _s){var o=t.styles;o instanceof gs?o.styles=xe(o,e,n,i,!0):o instanceof vs&&o.steps.forEach(function(t){t.styles=xe(t,e,n,i,!0)})}else if(t instanceof bs){var u=Te(t,e,n,i);t=t instanceof Cs?new Cs(u):new ws(u)}a.push(t)}}),r(s)&&a.push(new gs(0,s)),a}function Ae(t,e,n){var i=[];if(":"!=t[0])n.push(new nh('Animation states via styles must be prefixed with a ":"'));else{var o=t.substring(1),s=e[o];r(s)?s.styles.forEach(function(t){"object"==typeof t&&null!==t&&i.push(t)}):n.push(new nh('Unable to apply styles due to missing a state: "'+o+'"'))}return i}function Me(t,e,n,i,o){var s=t.steps.length,a=0;t.steps.forEach(function(t){return a+=r(t.offset)?1:0}),a>0&&a<s&&(o.push(new nh("Not all style() entries contain an offset for the provided keyframe()")),a=s);var u=s-1,c=0==a?1/u:0,l=[],p=0,h=!1,f=0;t.steps.forEach(function(t){var e=t.offset,n={};t.styles.forEach(function(t){Object.keys(t).forEach(function(e){"offset"!=e&&(n[e]=t[e])})}),r(e)?h=h||e<f:e=p==u?th:c*p,l.push([e,n]),f=e,p++}),h&&l.sort(function(t,e){return t[0]<=e[0]?-1:1});var d=l[0];d[0]!=Jp&&l.splice(0,0,d=[Jp,{}]);var y=d[1];u=l.length-1;var m=l[u];m[0]!=th&&(l.push(m=[th,{}]),u++);for(var v=m[1],g=1;g<=u;g++){var _=l[g],b=_[1];Object.keys(b).forEach(function(t){r(y[t])||(y[t]=Lo)})}for(var w=function(t){var e=l[t],n=e[1];Object.keys(n).forEach(function(t){r(v[t])||(v[t]=n[t])})},g=u-1;g>=0;g--)w(g);return l.map(function(t){return new zp(t[0],new qp([t[1]]))})}function ke(t,e,n,i,o){var s,a=0,u=e;if(t instanceof bs){var c,l=0,p=[],h=t instanceof Cs;if(t.steps.forEach(function(t){var s=h?u:e;if(t instanceof gs)return t.styles.forEach(function(t){var e=t;Object.keys(e).forEach(function(t){n.insertAtTime(t,s,e[t])})}),void(c=t.styles);var f=ke(t,s,n,i,o);if(r(c)){if(t instanceof bs){var d=new qp(c);p.push(new Bp(d,[],0,0,""))}else{var y=f;(v=y.startingStyles.styles).push.apply(v,c)}c=null}var m=f.playTime;e+=m,a+=m,l=Math.max(m,l),p.push(f);var v}),r(c)){var f=new qp(c);p.push(new Bp(f,[],0,0,""))}h?(s=new Gp(p),a=l,e=u+a):s=new Xp(p)}else if(t instanceof _s){var d=Ie(t.timings,o),y=t.styles,m=void 0;if(y instanceof vs)m=Me(y,e,n,i,o);else{var v=y,g=th,_=new qp(v.styles),b=new zp(g,_);m=[b]}s=new Bp(new qp([]),m,d.duration,d.delay,d.easing),a=d.duration+d.delay,e+=a,m.forEach(function(t){return t.styles.styles.forEach(function(t){return Object.keys(t).forEach(function(r){n.insertAtTime(r,e,t[r])})})})}else s=new Bp(null,[],0,0,"");return s.playTime=a,s.startTime=u,s}function Re(t,e,n){if(t instanceof Bp&&t.keyframes.length>0){var r=t.keyframes;if(1==r.length){var i=r[0],o=Ne(i,t.startTime,t.playTime,e,n);t.keyframes=[o,i]}}else t instanceof Wp&&t.steps.forEach(function(t){return Re(t,e,n)})}function Ie(t,e){var n,o=/^([\.\d]+)(m?s)(?:\s+([\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?/i,s=0,a=null;if("string"==typeof t){var u=t.match(o);if(null===u)return e.push(new nh('The provided timing value "'+t+'" is invalid.')),new oh(0,0,null);var c=parseFloat(u[1]),l=u[2];"s"==l&&(c*=eh),n=Math.floor(c);var p=u[3],h=u[4];if(r(p)){var f=parseFloat(p);r(h)&&"s"==h&&(f*=eh),s=Math.floor(f)}var d=u[5];i(d)||(a=d)}else n=t;return new oh(n,s,a)}function Ne(t,e,n,i,o){var s={},a=e+n;return t.styles.styles.forEach(function(t){Object.keys(t).forEach(function(n){var u=t[n];if("offset"!=n){var c,l,p,h=i.indexOfAtOrBeforeTime(n,e);r(h)?(c=i.getByIndex(n,h),p=c.value,l=i.getByIndex(n,h+1)):p=Lo,r(l)&&!l.matches(a,u)&&o.push(new nh('The animated CSS property "'+n+'" unexpectedly changes between steps "'+c.time+'ms" and "'+a+'ms" at "'+l.time+'ms"')),s[n]=p}})}),new zp(Jp,new qp([s]))}function De(){return new lh}function je(){return new lh(".")}function Ve(t){var e=Fe(t);return e&&e[hh.Scheme]||""}function Le(t,e,n,i,o,s,a){var u=[];return r(t)&&u.push(t+":"),r(n)&&(u.push("//"),r(e)&&u.push(e+"@"),u.push(n),r(i)&&u.push(":"+i)),r(o)&&u.push(o),r(s)&&u.push("?"+s),r(a)&&u.push("#"+a),u.join("")}function Fe(t){return t.match(ph)}function Ue(t){if("/"==t)return"/";for(var e="/"==t[0]?"/":"",n="/"===t[t.length-1]?"/":"",r=t.split("/"),i=[],o=0,s=0;s<r.length;s++){var a=r[s];switch(a){case"":case".":break;case"..":i.length>0?i.pop():o++;break;default:i.push(a)}}if(""==e){for(;o-- >0;)i.unshift("..");0===i.length&&i.push(".")}return e+i.join("/")+n}function He(t){var e=t[hh.Path];return e=i(e)?"":Ue(e),t[hh.Path]=e,Le(t[hh.Scheme],t[hh.UserInfo],t[hh.Domain],t[hh.Port],e,t[hh.QueryData],t[hh.Fragment])}function Be(t,e){var n=Fe(encodeURI(e)),o=Fe(t);if(r(n[hh.Scheme]))return He(n);n[hh.Scheme]=o[hh.Scheme];for(var s=hh.Scheme;s<=hh.Port;s++)i(n[s])&&(n[s]=o[s]);if("/"==n[hh.Path][0])return He(n);var a=o[hh.Path];i(a)&&(a="/");var u=a.lastIndexOf("/");return a=a.substring(0,u+1)+n[hh.Path],n[hh.Path]=a,He(n)}function qe(t){return t instanceof e.Directive}function ze(t,e,n){var r=new xf(t,e);return n.visitExpression(r,null)}function We(t){var e=new Pf;return e.visitAllStatements(t,null),e.varNames}function Ge(t,e){return void 0===e&&(e=null),new Vh(t,e)}function Xe(t,e){return void 0===e&&(e=null),new Gh(t,null,e)}function $e(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),r(t)?Qe(Xe(t),e,n):null}function Qe(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),r(t)?new xh(t,e,n):null}function Ye(t,e){return void 0===e&&(e=null),new ef(t,e)}function Ke(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=!1),new rf(t.map(function(t){return new nf(t[0],t[1],n)}),e)}function Ze(t){return new $h(t)}function Je(t,e,n){return void 0===n&&(n=null),new Kh(t,e,n)}function tn(t,e){return void 0===e&&(e=null),new Wh(t,e)}function en(t){var e=""+t.fields.length,n=rn(e);return t.fields.push(new mf(n.name,null,[cf.Private])),t.ctorStmts.push(of.prop(n.name).set(Xe(Yt(_l.UNINITIALIZED))).toStmt()),new Of(n,e)}function nn(t,e,n,r){var i=Xe(Yt(_l.checkBinding)).callFn([n,e,t.currValExpr]);return t.forceUpdate&&(i=t.forceUpdate.or(i)),t.stmts.concat([new bf(i,r.concat([of.prop(e.name).set(t.currValExpr).toStmt()]))])}function rn(t){return of.prop("_expr_"+t)}function on(t){return r(t.value)?tn(t.value):Xe(t.identifier)}function sn(t){if(0===t.length)return Xe(Yt(_l.EMPTY_INLINE_ARRAY));var e=Math.log(t.length)/Math.log(2),n=Math.ceil(e),r=n<_l.inlineArrays.length?_l.inlineArrays[n]:_l.InlineArrayDynamic,i=Yt(r);return Xe(i).instantiate([tn(t.length)].concat(t))}function an(t,e,n,r){r.fields.push(new mf(n.name,null));var i=e<_l.pureProxies.length?_l.pureProxies[e]:null;if(!i)throw new Error("Unsupported number of argument for pure functions: "+e);r.ctorStmts.push(of.prop(n.name).set(Xe(Yt(i)).callFn([t])).toStmt())}function un(t,e){var n=Object.keys(t.runtime).find(function(n){return t.runtime[n]===e});if(!n)throw new Error("Unknown enum value "+e+" in "+t.name);return Xe(Jt(t,n))}function cn(t,e,n,r,i){var o=wn(i),s=[];e||(e=new Nf);var a=new If(t,e,n,Tf,i,!1),u=r.visit(a,Rf.Expression);if(!u)return null;if(a.temporaryCount)for(var c=0;c<a.temporaryCount;c++)s.push(fn(i,c));if(a.needsValueUnwrapper){var l=Tf.callMethod("reset",[]).toStmt();s.push(l)}return s.push(o.set(u).toDeclStmt(null,[cf.Final])),a.needsValueUnwrapper?new Mf(s,o,Tf.prop("hasWrappedValue")):new Mf(s,o,null)}function ln(t,e,n,r,i){e||(e=new Nf);var o=new If(t,e,n,null,i,!0),s=[];gn(r.visit(o,Rf.Statement),s),dn(o.temporaryCount,i,s);var a=s.length-1,u=null;if(a>=0){var c=s[a],l=En(c);l&&(u=Cn(i),s[a]=u.set(l.cast(Th).notIdentical(tn(!1))).toDeclStmt(null,[cf.Final]))}return new kf(s,u)}function pn(t){var e=[],n=We(t);return n.has(Tf.name)&&e.push(Tf.set(Xe(Yt(_l.ValueUnwrapper)).instantiate([])).toDeclStmt(null,[cf.Final])),e}function hn(t,e){return"tmp_"+t+"_"+e}function fn(t,e){return new pf(hn(t,e),af)}function dn(t,e,n){for(var r=t-1;r>=0;r--)n.unshift(fn(e,r))}function yn(t,e){if(t!==Rf.Statement)throw new Error("Expected a statement, but saw "+e)}function mn(t,e){if(t!==Rf.Expression)throw new Error("Expected an expression, but saw "+e)}function vn(t,e){return t===Rf.Statement?e.toStmt():e}function gn(t,e){Array.isArray(t)?t.forEach(function(t){return gn(t,e)}):e.push(t)}function _n(t,e){if(0===e.length)return Xe(Yt(_l.EMPTY_ARRAY));for(var n=of.prop("_arr_"+t.fields.length),r=[],i=[],o=0;o<e.length;o++){var s="p"+o;r.push(new Yh(s)),i.push(Ge(s))}return an(Je(r,[new df(Ye(i))],new Ph(Th)),e.length,n,t),n.callFn(e)}function bn(t,e){if(0===e.length)return Xe(Yt(_l.EMPTY_MAP));for(var n=of.prop("_map_"+t.fields.length),r=[],i=[],o=[],s=0;s<e.length;s++){var a="p"+s;r.push(new Yh(a)),i.push([e[s][0],Ge(a)]),o.push(e[s][1])}return an(Je(r,[new df(Ke(i))],new Oh(Th)),e.length,n,t),n.callFn(o)}function wn(t){return Ge("currVal_"+t)}function Cn(t){return Ge("pd_"+t)}function En(t){return t instanceof ff?t.expr:t instanceof df?t.value:null}function Sn(t,e,n,i,o,s){var a=[],u=t.prop("renderer");switch(i=xn(t,e,i,s),e.type){case Zi.Property:o&&a.push(Xe(Yt(_l.setBindingDebugInfo)).callFn([u,n,tn(e.name),i]).toStmt()),a.push(u.callMethod("setElementProperty",[n,tn(e.name),i]).toStmt());break;case Zi.Attribute:i=i.isBlank().conditional(af,i.callMethod("toString",[])),a.push(u.callMethod("setElementAttribute",[n,tn(e.name),i]).toStmt());break;case Zi.Class:a.push(u.callMethod("setElementClass",[n,tn(e.name),i]).toStmt());break;case Zi.Style:var c=i.callMethod("toString",[]);r(e.unit)&&(c=c.plus(tn(e.unit))),i=i.isBlank().conditional(af,c),a.push(u.callMethod("setElementStyle",[n,tn(e.name),i]).toStmt());break;case Zi.Animation:throw new Error("Illegal state: Should not come here!")}return a}function xn(t,n,r,i){if(n.securityContext===e.SecurityContext.NONE)return r;if(n.needsRuntimeSecurityContext||(i=un(_l.SecurityContext,n.securityContext)),!i)throw new Error("internal error, no SecurityContext given "+n.name);var o=t.prop("viewUtils").prop("sanitizer"),s=[i,r];return o.callMethod("sanitize",s)}function Pn(t,e,n,r,i,o,s,a){var u=[],c=[],l=n.name,p=e.prop("componentType").prop("animations").key(tn(l)),h=tn(Vo),f=Xe(Yt(_l.UNINITIALIZED)),d=Ge("animationTransition_"+l);c.push(d.set(p.callFn([t,o,a.equals(f).conditional(h,a),s.equals(f).conditional(h,s)])).toDeclStmt()),u.push(d.set(p.callFn([t,o,a,h])).toDeclStmt());var y=[],m=r.find(function(t){return t.isAnimation&&t.name==l&&"start"==t.phase});m&&y.push(d.callMethod("onStart",[i.callMethod(Hh.Bind,[t,tn(Bi.calcFullName(l,null,"start"))])]).toStmt());var v=r.find(function(t){return t.isAnimation&&t.name==l&&"done"==t.phase});return v&&y.push(d.callMethod("onDone",[i.callMethod(Hh.Bind,[t,tn(Bi.calcFullName(l,null,"done"))])]).toStmt()),
c.push.apply(c,y),u.push.apply(u,y),{updateStmts:c,detachStmts:u}}function On(t){var e=t.parentArgs||[],n=t.parent?[sf.callFn(e).toStmt()]:[],r=Tn(Array.isArray(t.builders)?t.builders:[t.builders]),i=new vf(null,t.ctorParams||[],n.concat(r.ctorStmts));return new _f(t.name,t.parent,r.fields,r.getters,i,r.methods,t.modifiers||[])}function Tn(t){return{fields:(e=[]).concat.apply(e,t.map(function(t){return t.fields||[]})),methods:(n=[]).concat.apply(n,t.map(function(t){return t.methods||[]})),getters:(r=[]).concat.apply(r,t.map(function(t){return t.getters||[]})),ctorStmts:(i=[]).concat.apply(i,t.map(function(t){return t.ctorStmts||[]}))};var e,n,r,i}function An(t){var e=Ge("changed"),n=[e.set(of.prop(Uf)).toDeclStmt(),of.prop(Uf).set(tn(!1)).toStmt()],r=[];if(t.genChanges){var i=[];t.ngOnChanges&&i.push(of.prop(Lf).callMethod("ngOnChanges",[of.prop(Ff)]).toStmt()),t.compilerConfig.logBindingUpdate&&i.push(Xe(Yt(_l.setBindingDebugInfoForChanges)).callFn([Wf.prop("renderer"),Xf,of.prop(Ff)]).toStmt()),i.push(Qf),r.push(new bf(e,i))}t.ngOnInit&&r.push(new bf(Wf.prop("numberOfChecks").identical(new Wh(0)),[of.prop(Lf).callMethod("ngOnInit",[]).toStmt()])),t.ngDoCheck&&r.push(of.prop(Lf).callMethod("ngDoCheck",[]).toStmt()),r.length>0&&n.push(new bf(Ze(qf),r)),n.push(new df(e)),t.methods.push(new vf("ngDoCheck",[new Yh(Wf.name,$e(Yt(_l.AppView),[Th])),new Yh(Xf.name,Th),new Yh(qf.name,Ah)],n,Ah))}function Mn(t,e){var n=en(e),r=[of.prop(Uf).set(tn(!0)).toStmt(),of.prop(Lf).prop(t).set(Bf).toStmt()];e.genChanges&&r.push(of.prop(Ff).key(tn(t)).set(Xe(Yt(_l.SimpleChange)).instantiate([n.expression,Bf])).toStmt());var i=nn({currValExpr:Bf,forceUpdate:zf,stmts:[]},n.expression,qf,r);e.methods.push(new vf("check_"+t,[new Yh(Bf.name,Th),new Yh(qf.name,Ah),new Yh(zf.name,Ah)],i))}function kn(t,e,n){var r=[],i=[new Yh(Wf.name,$e(Yt(_l.AppView),[Th])),new Yh(Gf.name,$e(Yt(_l.AppView),[Th])),new Yh(Xf.name,Th),new Yh(qf.name,Ah)];t.forEach(function(t,o){var s=en(n),a=cn(n,null,of.prop(Lf),t.value,s.bindingId);if(a){var u;t.needsRuntimeSecurityContext&&(u=Ge("secCtx_"+i.length),i.push(new Yh(u.name,$e(Yt(_l.SecurityContext)))));var c;if(t.isAnimation){var l=Pn(Wf,Gf,t,e,of.prop(Hf).or(Xe(Yt(_l.noop))),Xf,a.currValExpr,s.expression),p=l.updateStmts,h=l.detachStmts;c=p,(f=n.detachStmts).push.apply(f,h)}else c=Sn(Wf,t,Xf,a.currValExpr,n.compilerConfig.logBindingUpdate,u);r.push.apply(r,nn(a,s.expression,qf,c));var f}}),n.methods.push(new vf("checkHost",i,r))}function Rn(t,e){var n=Ge("result"),r=[n.set(tn(!0)).toDeclStmt(Ah)];t.forEach(function(t,i){var o=ln(e,null,of.prop(Lf),t.handler,"sub_"+i),s=o.stmts;o.preventDefault&&s.push(n.set(o.preventDefault.and(n)).toStmt()),r.push(new bf($f.equals(tn(t.fullName)),s))}),r.push(new df(n)),e.methods.push(new vf("handleEvent",[new Yh($f.name,kh),new Yh(Af.event.name,Th)],r,Ah))}function In(t,e){var n=[new Yh(Wf.name,$e(Yt(_l.AppView),[Th])),new Yh(Hf,Th)],r=[of.prop(Hf).set(Ge(Hf)).toStmt()];Object.keys(t.outputs).forEach(function(i,o){var s=t.outputs[i],a="emit"+o;n.push(new Yh(a,Ah));var u="subscription"+o;e.fields.push(new mf(u,Th)),r.push(new bf(Ge(a),[of.prop(u).set(of.prop(Lf).prop(i).callMethod(Hh.SubscribeObservable,[Ge(Hf).callMethod(Hh.Bind,[Wf,tn(s)])])).toStmt()])),e.destroyStmts.push(of.prop(u).and(of.prop(u).callMethod("unsubscribe",[])).toStmt())}),e.methods.push(new vf("subscribe",n,r))}function Nn(t,e,n){var r=[],i=new ql(e,Da,n,[],r),o=w(t.type),s=o?"in Directive "+b(t.type)+" in "+o:"in Directive "+b(t.type),a=new xu("",s),u=new Pu(new Su(a,null,null,null),new Su(a,null,null,null)),c=i.createDirectiveHostPropertyAsts(t.toSummary(),u),l=i.createDirectiveHostEventAsts(t.toSummary(),u);return new Zf(c,l,r)}function Dn(t,e){var n=t.filter(function(t){return t.level===Ou.WARNING}),r=t.filter(function(t){return t.level===Ou.FATAL});if(n.length>0&&this._console.warn("Directive parse warnings:\n"+n.join("\n")),r.length>0)throw new Error("Directive parse errors:\n"+r.join("\n"))}function jn(t,e){return Oo.hasLifecycleHook(e,Vn(t))}function Vn(t){switch(t){case ao.OnInit:return"ngOnInit";case ao.OnDestroy:return"ngOnDestroy";case ao.DoCheck:return"ngDoCheck";case ao.OnChanges:return"ngOnChanges";case ao.AfterContentInit:return"ngAfterContentInit";case ao.AfterContentChecked:return"ngAfterContentChecked";case ao.AfterViewInit:return"ngAfterViewInit";case ao.AfterViewChecked:return"ngAfterViewChecked"}}function Ln(t){return t instanceof e.NgModule}function Fn(t){return t instanceof e.Pipe}function Un(t,n){if(void 0===n&&(n=[]),t)for(var r=0;r<t.length;r++){var i=e.resolveForwardRef(t[r]);Array.isArray(i)?Un(i,n):n.push(i)}return n}function Hn(t){return t?Array.from(new Set(t)):[]}function Bn(t){return Hn(Un(t))}function qn(t){return t instanceof Ji||t instanceof e.Type}function zn(t,e,n){if(e instanceof Ji)return e.filePath;var r=n.moduleId;if("string"==typeof r){var i=Ve(r);return i?r:"package:"+r+os}if(null!==r&&void 0!==r)throw new cs('moduleId should be a string in "'+Gn(e)+"\". See https://goo.gl/wIDDiL for more information.\nIf you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return t.importUri(e)}function Wn(t,e){g(t,new dd,e)}function Gn(t){return t instanceof Ji?t.name+" in "+t.filePath:s(t)}function Xn(t,e){return void 0===e&&(e=null),g(t,new md,e)}function $n(t,e,n){if(void 0===n&&(n=!0),i(t))return null;var r=t.replace(xd,function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return"$"==t[0]?e?"\\$":"$":"\n"==t[0]?"\\n":"\r"==t[0]?"\\r":"\\"+t[0]}),o=n||!Pd.test(r);return o?"'"+r+"'":r}function Qn(t){for(var e="",n=0;n<t;n++)e+="  ";return e}function Yn(t){var e=new Dd(Id),n=Md.createRoot([]),r=Array.isArray(t)?t:[t];return r.forEach(function(t){if(t instanceof lf)t.visitStatement(e,n);else if(t instanceof Dh)t.visitExpression(e,n);else{if(!(t instanceof Ch))throw new Error("Don't know how to print debug info for "+t);t.visitType(e,n)}}),n.toSource()}function Kn(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];jd[i.toLowerCase()]=t}}function Zn(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}function Jn(t){return t.replace(py,"")}function tr(t){var e=t.match(hy);return e?e[0]:""}function er(t,e){var n=nr(t),r=0;return n.escapedString.replace(fy,function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];var o=t[2],s="",a=t[4],u="";a&&a.startsWith("{"+vy)&&(s=n.blocks[r++],a=a.substring(vy.length+1),u="{");var c=e(new gy(o,s));return""+t[1]+c.selector+t[3]+u+c.content+a})}function nr(t){for(var e=t.split(dy),n=[],r=[],i=0,o=[],s=0;s<e.length;s++){var a=e[s];a==my&&i--,i>0?o.push(a):(o.length>0&&(r.push(o.join("")),n.push(vy),o=[]),n.push(a)),a==yy&&i++}return o.length>0&&(r.push(o.join("")),n.push(vy)),new _y(n.join(""),r)}function rr(t){var e="styles";return t&&(e+="_"+b(t.type)),e}function ir(t,e,n){if(e===n)return t;for(var r=of,i=e;i!==n&&i.declarationElement.view;)i=i.declarationElement.view,r=r.prop("parentView");if(i!==n)throw new Error("Internal error: Could not calculate a property in a parent view: "+t);return t.visitExpression(new Iy(r,n),null)}function or(t,e,n){var r;r=t.viewType===go.HOST?of:of.prop("parentView");var i=[on(e),of.prop("parentIndex")];return n&&i.push(af),r.callMethod("injectorGet",i)}function sr(t,e){return"View_"+b(t.type)+e}function ar(t){return"handleEvent_"+t}function ur(t){return io.flatten(t.values.map(function(t){return t instanceof Ny?cr(t.view.declarationElement.viewContainer,t.view,ur(t)):t}))}function cr(t,e,n){var r=n.map(function(t){return ze(of.name,Ge("nestedView"),t)});return t.callMethod("mapNestedViews",[Ge(e.className),Je([new Yh("nestedView",e.classType)],[new df(Ye(r))],Th)])}function lr(t,e){e.fields.push(new mf(t,$e(Yt(_l.QueryList),[Th])));var n=of.prop(t);return e.createMethod.addStmt(of.prop(t).set(Xe(Yt(_l.QueryList),[Th]).instantiate([])).toStmt()),n}function pr(t,e){e.meta.selectors.forEach(function(n){var r=t.get(E(n));r||(r=[],t.set(E(n),r)),r.push(e)})}function hr(t,e,n,r){var i;return i=e>0?tn(t).lowerEquals(Hy.requestNodeIndex).and(Hy.requestNodeIndex.lowerEquals(tn(t+e))):tn(t).identical(Hy.requestNodeIndex),new bf(Hy.token.identical(on(n.token)).and(i),[new df(r)])}function fr(t,e,n,r,i){var o,s,a=i.view;if(n?(o=Ye(e),s=new Ph(Th)):(o=e[0],s=e[0].type),s||(s=Th),r)a.fields.push(new mf(t,s)),a.createMethod.addStmt(of.prop(t).set(o).toStmt());else{var u="_"+t;a.fields.push(new mf(u,s));var c=new ky(a);c.resetDebugInfo(i.nodeIndex,i.sourceAst),c.addStmt(new bf(of.prop(u).isBlank(),[of.prop(u).set(o).toStmt()])),c.addStmt(new df(of.prop(u))),a.getters.push(new gf(t,c.finish(),s))}return of.prop(t)}function dr(t,e){for(var n=null,r=t.pipeMetas.length-1;r>=0;r--){var i=t.pipeMetas[r];if(i.name==e){n=i;break}}if(!n)throw new Error("Illegal state: Could not find pipe "+e+" although the parser should have detected this error!");return n}function yr(t,e){return e>0?go.EMBEDDED:t.isHost?go.HOST:go.COMPONENT}function mr(t,e,n,r){var i=vr(t,e);return!!i.size&&(r&&gr(i,n),_r(i,e,n),br(t,e,n),!0)}function vr(t,e){var n=new Map;return t.forEach(function(t){n.set(t.fullName,t)}),e.forEach(function(t){t.hostEvents.forEach(function(t){n.set(t.fullName,t)})}),n}function gr(t,e){var n=[];if(t.forEach(function(t){t.phase||n.push(tn(t.name),tn(t.target))}),n.length){var r=Ge("disposable_"+e.view.disposables.length);e.view.disposables.push(r),e.view.createMethod.addStmt(r.set(Xe(Yt(_l.subscribeToRenderElement)).callFn([of,e.renderNode,sn(n),wr(e)])).toDeclStmt(Rh,[cf.Private]))}}function _r(t,e,n){var r=Array.from(t.keys());e.forEach(function(t){var e=n.directiveWrapperInstance.get(t.directive.type.reference);n.view.createMethod.addStmts(Jf.subscribe(t.directive,t.hostProperties,r,e,of,wr(n)))})}function br(t,e,n){var r=e.some(function(t){return t.hostEvents.some(function(e){return t.directive.isComponent})}),i=r?n.compViewExpr:of,o=new ky(n.view);o.resetDebugInfo(n.nodeIndex,n.sourceAst),o.push(i.callMethod("markPathToRootAsCheckOnce",[]).toStmt());var s=Ge("eventName"),a=Ge("result");o.push(a.set(tn(!0)).toDeclStmt(Ah)),e.forEach(function(t,e){var r=n.directiveWrapperInstance.get(t.directive.type.reference);t.hostEvents.length>0&&o.push(a.set(Jf.handleEvent(t.hostEvents,r,s,Af.event).and(a)).toStmt())}),t.forEach(function(t,e){var r=ln(n.view,n.view,n.view.componentContext,t.handler,"sub_"+e),i=r.stmts;r.preventDefault&&i.push(a.set(r.preventDefault.and(a)).toStmt()),o.push(new bf(s.equals(tn(t.fullName)),i))}),o.push(new df(a)),n.view.methods.push(new vf(ar(n.nodeIndex),[new Yh(s.name,kh),new Yh(Af.event.name,Th)],o.finish(),Ah))}function wr(t){var e=ar(t.nodeIndex);return of.callMethod("eventHandler",[of.prop(e)])}function Cr(t,e,n){var r=n.view,i=t.type.lifecycleHooks,o=r.afterContentLifecycleCallbacksMethod;o.resetDebugInfo(n.nodeIndex,n.sourceAst),i.indexOf(ao.AfterContentInit)!==-1&&o.addStmt(new bf(Jy,[e.callMethod("ngAfterContentInit",[]).toStmt()])),i.indexOf(ao.AfterContentChecked)!==-1&&o.addStmt(e.callMethod("ngAfterContentChecked",[]).toStmt())}function Er(t,e,n){var r=n.view,i=t.type.lifecycleHooks,o=r.afterViewLifecycleCallbacksMethod;o.resetDebugInfo(n.nodeIndex,n.sourceAst),i.indexOf(ao.AfterViewInit)!==-1&&o.addStmt(new bf(Jy,[e.callMethod("ngAfterViewInit",[]).toStmt()])),i.indexOf(ao.AfterViewChecked)!==-1&&o.addStmt(e.callMethod("ngAfterViewChecked",[]).toStmt())}function Sr(t,e,n){n.view.destroyMethod.addStmts(Jf.ngOnDestroy(t.directive,e)),n.view.detachMethod.addStmts(Jf.ngOnDetach(t.hostProperties,e,of,n.compViewExpr||of,n.renderNode))}function xr(t,e,n){var r=n.view.destroyMethod;r.resetDebugInfo(n.nodeIndex,n.sourceAst),t.providerType!==Yi.Directive&&t.providerType!==Yi.Component&&t.lifecycleHooks.indexOf(ao.OnDestroy)!==-1&&r.addStmt(e.callMethod("ngOnDestroy",[]).toStmt())}function Pr(t,e,n){var r=n.destroyMethod;t.type.lifecycleHooks.indexOf(ao.OnDestroy)!==-1&&r.addStmt(e.callMethod("ngOnDestroy",[]).toStmt())}function Or(t,e,n){var r=en(n),i=cn(n,n,n.componentContext,t.value,r.bindingId);return i?(n.detectChangesRenderPropertiesMethod.resetDebugInfo(e.nodeIndex,t),void n.detectChangesRenderPropertiesMethod.addStmts(nn(i,r.expression,By.throwOnChange,[of.prop("renderer").callMethod("setText",[e.renderNode,i.currValExpr]).toStmt()]))):null}function Tr(t,e,n,r){var i=r.view,o=r.renderNode;t.forEach(function(t){var s=en(i);i.detectChangesRenderPropertiesMethod.resetDebugInfo(r.nodeIndex,t);var a=cn(i,i,r.view.componentContext,t.value,s.bindingId);if(a){var u=[],c=i.detectChangesRenderPropertiesMethod;switch(t.type){case Zi.Property:case Zi.Attribute:case Zi.Class:case Zi.Style:u.push.apply(u,Sn(of,t,o,a.currValExpr,i.genConfig.logBindingUpdate));break;case Zi.Animation:c=i.animationBindingsMethod;var l=Pn(of,of,t,e,(n?of.prop(ar(r.nodeIndex)):Xe(Yt(_l.noop))).callMethod(Hh.Bind,[of]),r.renderNode,a.currValExpr,s.expression),p=l.updateStmts,h=l.detachStmts;u.push.apply(u,p),i.detachMethod.addStmts(h)}c.addStmts(nn(a,s.expression,By.throwOnChange,u))}})}function Ar(t,e,n,r,i){var o=t.hostProperties.filter(function(t){return t.needsRuntimeSecurityContext}).map(function(t){var e;switch(t.type){case Zi.Property:e=i.securityContext(r,t.name,!1);break;case Zi.Attribute:e=i.securityContext(r,t.name,!0);break;default:throw new Error("Illegal state: Only property / attribute bindings can have an unknown security context! Binding "+t.name)}return un(_l.SecurityContext,e)});n.view.detectChangesRenderPropertiesMethod.addStmts(Jf.checkHost(t.hostProperties,e,of,n.compViewExpr||of,n.renderNode,By.throwOnChange,o))}function Mr(t,e,n,r){var i=r.view,o=i.detectChangesInInputsMethod;o.resetDebugInfo(r.nodeIndex,r.sourceAst),t.inputs.forEach(function(t,s){var a=r.nodeIndex+"_"+n+"_"+s;o.resetDebugInfo(r.nodeIndex,t);var u=cn(i,i,i.componentContext,t.value,a);u&&(o.addStmts(u.stmts),o.addStmt(e.callMethod("check_"+t.directiveName,[u.currValExpr,By.throwOnChange,u.forceUpdate||tn(!1)]).toStmt()))});var s=t.directive.isComponent&&!oo(t.directive.changeDetection),a=Jf.ngDoCheck(e,of,r.renderNode,By.throwOnChange),u=s?new bf(a,[r.compViewExpr.callMethod("markAsCheckOnce",[]).toStmt()]):a.toStmt();o.addStmt(u)}function kr(t){var e=[];t.getProviderTokens().forEach(function(n){var r=t.getQueriesFor(n);e.push.apply(e,r.map(function(t){return new tm(t,n)}))}),Object.keys(t.referenceTokens).forEach(function(n){var r={value:n};e.push.apply(e,t.getQueriesFor(r).map(function(t){return new tm(t,r)}))}),e.forEach(function(e){var n;if(e.read.identifier)n=t.instances.get(E(e.read));else{var r=t.referenceTokens[e.read.value];n=r?t.instances.get(E(r)):t.elementRef}n&&e.query.addValue(n,t.view)})}function Rr(t,e,r){var i=new em(t,r);n(i,e),t.pipes.forEach(function(t){Pr(t.meta,t.instance,t.view)})}function Ir(t,e,r){var i=new um(t,r),o=t.declarationElement.isNull()?t.declarationElement:t.declarationElement.parent;return n(i,e,o),t.viewType!==go.EMBEDDED&&t.viewType!==go.HOST||(t.lastRenderNode=i.getOrCreateLastRenderNode()),i.nestedViewCount}function Nr(t,e){t.nodes.forEach(function(t){t instanceof $y&&(t.finish(),t.hasEmbeddedView&&Nr(t.embeddedView,e))}),t.finish(),Hr(t,e)}function Dr(t){for(var e=t.view;Vr(t.parent,e);)t=t.parent;return t}function jr(t){for(var e=t.view;Vr(t,e);)t=t.parent;return t}function Vr(t,e){return!t.isNull()&&t.sourceAst.name===om&&t.view===e}function Lr(t,e){var n={};Object.keys(t).forEach(function(e){n[e]=t[e]}),e.forEach(function(t){Object.keys(t.hostAttributes).forEach(function(e){var i=t.hostAttributes[e],o=n[e];n[e]=r(o)?Ur(e,o,i):i})});var i=[];return Object.keys(n).sort().forEach(function(t){i.push(t,n[t])}),i}function Fr(t){var e={};return t.forEach(function(t){e[t.name]=t.value}),e}function Ur(t,e,n){return t==rm||t==im?e+" "+n:n}function Hr(t,e){var n=af;t.genConfig.genDebugInfo&&(n=Ge("nodeDebugInfos_"+b(t.component.type)+t.viewIndex),e.push(n.set(Ye(t.nodes.map(Br),new Ph($e(Yt(_l.StaticNodeDebugInfo)),[wh.Const]))).toDeclStmt(null,[cf.Final])));var r=Ge("renderType_"+b(t.component.type));if(0===t.viewIndex){var i=void 0;i=t.component.template.templateUrl==w(t.component.type)?w(t.component.type)+" class "+b(t.component.type)+" - inline template":t.component.template.templateUrl,e.push(r.set(Xe(Yt(_l.createRenderComponentType)).callFn([tn(t.genConfig.genDebugInfo?i:""),tn(t.component.template.ngContentSelectors.length),Vy.fromValue(t.component.template.encapsulation),t.styles,Ke(t.animations.map(function(t){return[t.name,t.fnExp]}),null,!0)])).toDeclStmt($e(Yt(_l.RenderComponentType))))}var o=qr(t,r,n);e.push(o)}function Br(t){var e=t instanceof $y?t:null,n=[],i=af,o=[];return r(e)&&(n=e.getProviderTokens().map(function(t){return on(t)}),r(e.component)&&(i=on(Kt(e.component.type))),Object.keys(e.referenceTokens).forEach(function(t){var n=e.referenceTokens[t];o.push([t,r(n)?on(n):af])})),Xe(Yt(_l.StaticNodeDebugInfo)).instantiate([Ye(n,new Ph(Th,[wh.Const])),i,Ke(o,new Oh(Th,[wh.Const]))],$e(Yt(_l.StaticNodeDebugInfo),null,[wh.Const]))}function qr(t,e,n){var r=[new Yh(Fy.viewUtils.name,$e(Yt(_l.ViewUtils))),new Yh(Fy.parentView.name,$e(Yt(_l.AppView),[Th])),new Yh(Fy.parentIndex.name,Mh),new Yh(Fy.parentElement.name,Th)],i=[Ge(t.className),e,jy.fromValue(t.viewType),Fy.viewUtils,Fy.parentView,Fy.parentIndex,Fy.parentElement,Ly.fromValue(Qr(t))];t.genConfig.genDebugInfo&&i.push(n),t.viewType===go.EMBEDDED&&(r.push(new Yh("declaredViewContainer",$e(Yt(_l.ViewContainer)))),i.push(Ge("declaredViewContainer")));var o=[new vf("createInternal",[new Yh(am.name,kh)],Wr(t),$e(Yt(_l.ComponentRef),[Th])),new vf("injectorGetInternal",[new Yh(Hy.token.name,Th),new Yh(Hy.requestNodeIndex.name,Mh),new Yh(Hy.notFoundResult.name,Th)],Xr(t.injectorGetMethod.finish(),Hy.notFoundResult),Th),new vf("detectChangesInternal",[new Yh(By.throwOnChange.name,Ah)],Gr(t)),new vf("dirtyParentQueriesInternal",[],t.dirtyParentQueriesMethod.finish()),new vf("destroyInternal",[],zr(t)),new vf("detachInternal",[],t.detachMethod.finish()),Yr(t),Kr(t),Jr(t)].filter(function(t){return t.body.length>0}),s=t.genConfig.genDebugInfo?_l.DebugAppView:_l.AppView,a=On({name:t.className,parent:Xe(Yt(s),[$r(t)]),parentArgs:i,ctorParams:r,builders:[{methods:o},t]});return a}function zr(t){var e=[];return t.viewContainers.forEach(function(t){e.push(t.callMethod("destroyNestedViews",[]).toStmt())}),t.viewChildren.forEach(function(t){e.push(t.callMethod("destroy",[]).toStmt())}),e.push.apply(e,t.destroyMethod.finish()),e}function Wr(t){var e=af,n=[];t.viewType===go.COMPONENT&&(e=Uy.renderer.callMethod("createViewRoot",[of.prop("parentElement")]),n=[sm.set(e).toDeclStmt($e(t.genConfig.renderTypes.renderNode),[cf.Final])]);var r;if(t.viewType===go.HOST){var i=t.nodes[0];r=Xe(Yt(_l.ComponentRef_),[Th]).instantiate([tn(i.nodeIndex),of,i.renderNode,i.getComponent()])}else r=af;var o=Uy.renderer.cast(Th).prop("directRenderer").conditional(af,Ye(t.nodes.map(function(t){return t.renderNode})));return n.concat(t.createMethod.finish(),[of.callMethod("init",[t.lastRenderNode,o,t.disposables.length?Ye(t.disposables):af]).toStmt(),new df(r)])}function Gr(t){var e=[];if(t.animationBindingsMethod.isEmpty()&&t.detectChangesInInputsMethod.isEmpty()&&t.updateContentQueriesMethod.isEmpty()&&t.afterContentLifecycleCallbacksMethod.isEmpty()&&t.detectChangesRenderPropertiesMethod.isEmpty()&&t.updateViewQueriesMethod.isEmpty()&&t.afterViewLifecycleCallbacksMethod.isEmpty()&&0===t.viewContainers.length&&0===t.viewChildren.length)return e;e.push.apply(e,t.animationBindingsMethod.finish()),e.push.apply(e,t.detectChangesInInputsMethod.finish()),t.viewContainers.forEach(function(t){e.push(t.callMethod("detectChangesInNestedViews",[By.throwOnChange]).toStmt())});var n=t.updateContentQueriesMethod.finish().concat(t.afterContentLifecycleCallbacksMethod.finish());n.length>0&&e.push(new bf(Ze(By.throwOnChange),n)),e.push.apply(e,t.detectChangesRenderPropertiesMethod.finish()),t.viewChildren.forEach(function(t){e.push(t.callMethod("internalDetectChanges",[By.throwOnChange]).toStmt())});var r=t.updateViewQueriesMethod.finish().concat(t.afterViewLifecycleCallbacksMethod.finish());r.length>0&&e.push(new bf(Ze(By.throwOnChange),r));var i=[],o=We(e);return o.has(By.changed.name)&&i.push(By.changed.set(tn(!0)).toDeclStmt(Ah)),o.has(By.changes.name)&&i.push(By.changes.set(af).toDeclStmt(new Oh($e(Yt(_l.SimpleChange))))),i.push.apply(i,pn(e)),i.concat(e)}function Xr(t,e){return t.length>0?t.concat([new df(e)]):t}function $r(t){return t.viewType===go.COMPONENT?$e(t.component.type):Th}function Qr(t){var e;return e=t.viewType===go.COMPONENT?oo(t.component.changeDetection)?so.CheckAlways:so.CheckOnce:so.CheckAlways}function Yr(t){var e=Ge("cb"),n=Ge("ctx"),r=Zr(t.rootNodes,e,n);return new vf("visitRootNodesInternal",[new Yh(e.name,Th),new Yh(n.name,Th)],r)}function Kr(t){var e=Ge("nodeIndex"),n=Ge("ngContentIndex"),r=Ge("cb"),i=Ge("ctx"),o=[];return t.nodes.forEach(function(t){t instanceof $y&&t.component&&t.contentNodesByNgContentIndex.forEach(function(s,a){o.push(new bf(e.equals(tn(t.nodeIndex)).and(n.equals(tn(a))),Zr(s,r,i)))})}),new vf("visitProjectableNodesInternal",[new Yh(e.name,Mh),new Yh(n.name,Mh),new Yh(r.name,Th),new Yh(i.name,Th)],o)}function Zr(t,e,n){var r=[];return t.forEach(function(t){switch(t.type){case Yy.Node:r.push(e.callFn([t.expr,n]).toStmt());break;case Yy.ViewContainer:r.push(e.callFn([t.expr.prop("nativeElement"),n]).toStmt()),r.push(t.expr.callMethod("visitNestedViewRootNodes",[e,n]).toStmt());break;case Yy.NgContent:r.push(of.callMethod("visitProjectedNodes",[tn(t.ngContentIndex),e,n]).toStmt())}}),r}function Jr(t){var e=Ge("nodeIndex"),n=[];return t.nodes.forEach(function(t){t instanceof $y&&t.embeddedView&&n.push(new bf(e.equals(tn(t.nodeIndex)),[new df(t.embeddedView.classExpr.instantiate([Uy.viewUtils,of,tn(t.nodeIndex),t.renderNode,t.viewContainer]))]))}),n.length>0&&n.push(new df(af)),new vf("createEmbeddedViewInternal",[new Yh(e.name,Mh)],n,$e(Yt(_l.AppView),[Th]))}function ti(t,e){var n=tn(Vo);switch(e){case Vo:return t.equals(n);case Do:return tn(!0);default:return t.equals(tn(e))}}function ei(t){if(t instanceof Bp&&t.duration>0&&2==t.keyframes.length){var e=ni(t.keyframes[0])[0],n=ni(t.keyframes[1])[0];return 0===Object.keys(e).length&&0===Object.keys(n).length}return!1}function ni(t){return t.styles.styles}function ri(t,e,n,r,i){var o=new jm(t);r.forEach(function(t){return o.addOrMergeSummary({symbol:t.symbol,metadata:t.metadata})});for(var s=0;s<o.symbols.length;s++){var a=o.symbols[s];if(!t.isSourceFile(a.filePath)){var u=e.resolveSummary(a);if(!u){var c=n.resolveSymbol(a);c&&(u={symbol:c.symbol,metadata:c.metadata})}u&&o.addOrMergeSummary(u)}}return i.forEach(function(n){if(o.addOrMergeSummary({symbol:n.type.reference,metadata:{__symbolic:"class"},type:n}),n.summaryKind===Ss.NgModule){var r=n;r.exportedDirectives.concat(r.exportedPipes).forEach(function(n){var r=n.reference;t.isSourceFile(r.filePath)||o.addOrMergeSummary(e.resolveSummary(r))})}}),o.serialize()}function ii(t,e){var n=new Vm(t);return n.deserialize(e)}function oi(t){var e=t.replace(Dm,"");return e+".ngsummary.json"}function si(t,e){return e.dependencies.forEach(function(e){if(e instanceof qy){var n=e;n.placeholder.reference=t.getStaticSymbol(ui(w(n.comp)),e.name)}else if(e instanceof zy){var r=e;r.placeholder.reference=t.getStaticSymbol(ui(w(r.comp)),ci(r.comp))}else if(e instanceof Wy){var i=e;i.placeholder.reference=t.getStaticSymbol(ui(w(i.dir)),i.name)}}),e.statements}function ai(t,e,n){return e.dependencies.forEach(function(e){e.valuePlaceholder.reference=t.getStaticSymbol(li(e.moduleUrl,e.isShimmed,n),e.name)}),e.statements}function ui(t){var e=hi(t);return e[0]+".ngfactory"+e[1]}function ci(t){return b(t)+"NgFactory"}function li(t,e,n){return""+t+(e?".shim":"")+".ngstyle"+n}function pi(t){if(!t.isComponent)throw new Error("Could not compile '"+b(t.type)+"' because it is not a component.")}function hi(t){if(t.endsWith(".d.ts"))return[t.slice(0,-5),".ts"];var e=t.lastIndexOf(".");return e!==-1?[t.substring(0,e),t.substring(e)]:[t,""]}function fi(t,e,n){var r=vi(t,e,n),i=r.ngModules,o=r.symbolsMissingModule;return yi(t,i,o,n)}function di(t,e,n){var r=fi(t,e,n);if(r.symbolsMissingModule&&r.symbolsMissingModule.length){var i=r.symbolsMissingModule.map(function(t){return"Cannot determine the module for class "+t.name+" in "+t.filePath+"!"});throw new Error(i.join("\n"))}return r}function yi(t,e,n,r){var i=new Map;e.forEach(function(t){return i.set(t.type.reference,t)});var o=new Map,s=new Map,a=new Map,u=new Map,c=new Map,l=new Set;t.forEach(function(t){var e=t.filePath;l.add(e),r.isInjectable(t)&&c.set(e,(c.get(e)||[]).concat(t))}),e.forEach(function(t){var e=t.type.reference.filePath;l.add(e),s.set(e,(s.get(e)||[]).concat(t.type.reference)),t.declaredDirectives.forEach(function(e){var n=e.reference.filePath;l.add(n),a.set(n,(a.get(n)||[]).concat(e.reference)),o.set(e.reference,t)}),t.declaredPipes.forEach(function(e){var n=e.reference.filePath;l.add(n),u.set(n,(u.get(n)||[]).concat(e.reference)),o.set(e.reference,t)})});var p=[];return l.forEach(function(t){var e=a.get(t)||[],n=u.get(t)||[],r=s.get(t)||[],i=c.get(t)||[];p.push({srcUrl:t,directives:e,pipes:n,ngModules:r,injectables:i})}),{ngModuleByPipeOrDirective:o,files:p,ngModules:e,symbolsMissingModule:n}}function mi(t,e,n){var r=[];return e.filter(function(t){return n.isSourceFile(t)}).forEach(function(e){t.getSymbolsOf(e).forEach(function(e){var n=t.resolveSymbol(e),i=n.metadata;i&&"error"!=i.__symbolic&&r.push(n.symbol)})}),r}function vi(t,e,n){var r=new Map,i=[],o=new Set,s=function(t){if(r.has(t)||!e.isSourceFile(t.filePath))return!1;var i=n.getNgModuleMetadata(t,!1);return i&&(r.set(i.type.reference,i),i.declaredDirectives.forEach(function(t){return o.add(t.reference)}),i.declaredPipes.forEach(function(t){return o.add(t.reference)}),i.transitiveModule.modules.forEach(function(t){return s(t.reference)})),!!i};t.forEach(function(t){s(t)||!n.isDirective(t)&&!n.isPipe(t)||i.push(t)});var a=i.filter(function(t){return!o.has(t)});return{ngModules:Array.from(r.values()),symbolsMissingModule:a}}function gi(t){return"object"==typeof t&&t.name&&t.filePath}function _i(t){switch(t.message){case"Reference to non-exported class":if(t.context&&t.context.className)return"Reference to a non-exported class "+t.context.className+". Consider exporting the class";break;case"Variable not initialized":return"Only initialized variables and constants can be referenced because the value of this variable is needed by the template compiler";case"Destructuring not supported":return"Referencing an exported destructured variable or constant is not supported by the template compiler. Consider simplifying this to avoid destructuring";case"Could not resolve type":if(t.context&&t.context.typeName)return"Could not resolve type "+t.context.typeName;break;case"Function call not supported":var e=t.context&&t.context.name?"Calling function '"+t.context.name+"', f":"F";return e+"unction calls are not supported. Consider replacing the function or lambda with a reference to an exported function";case"Reference to a local symbol":if(t.context&&t.context.name)return"Reference to a local (non-exported) symbol '"+t.context.name+"'. Consider exporting the symbol"}return t.message}function bi(t){return"Error encountered resolving symbol values statically. "+_i(t)}function wi(t,e){if(!t)return{};var n={};return Object.keys(t).forEach(function(r){var i=e(t[r],r);Ei(i)||(Bm.test(r)?Object.defineProperty(n,r,{enumerable:!1,configurable:!0,value:i}):n[r]=i)}),n}function Ci(t){return null===t||"function"!=typeof t&&"object"!=typeof t}function Ei(t){return t&&"ignore"==t.__symbolic}function Si(t,e,n,r){var i=new Error(t);return i.fileName=e,i.line=n,i.column=r,i}function xi(t,n){var r=n.translations||"",i=je(),o=new to,s=new Ym(t,o),a=new Qm(t,o,s),u=new qm(a);Fm.install(u);var c=new dl(new pl,r,n.i18nFormat),l=new Rp({genDebugInfo:n.debug===!0,defaultEncapsulation:e.ViewEncapsulation.Emulated,logBindingUpdate:!1,useJit:!1}),p=new yh({get:function(e){return t.loadResource(e)}},i,c,l),h=new wu(new fu),f=new Gd,d=new Po,y=new xp(h,f,c,d,[]),m=new fd(new nd(u),new _h(u),new od(u),s,f,p,u),v=new Lm(t,m,y,new Ty(i),new hm(l,f),new Yf(l,h,f,d),new wd,new Nd(t),s,n.locale,n.i18nFormat,new ih(f),a);return{compiler:v,reflector:u}}function Pi(t,e){var n=t.concat([new df(Ge(e))]),i=new Km(null,null,null,new Map),o=new Jm,s=o.visitAllStatements(n,i);return r(s)?s.value:null}function Oi(t,e,n,i,o){for(var s=i.createChildWihtLocalVars(),a=0;a<t.length;a++)s.vars.set(t[a],e[a]);var u=o.visitAllStatements(n,s);return r(u)?u.value:null}function Ti(t,e,n){var r={};t.getters.forEach(function(i){r[i.name]={configurable:!1,get:function(){var r=new Km(e,this,t.name,e.vars);return Oi([],[],i.body,r,n)}}}),t.methods.forEach(function(i){var o=i.params.map(function(t){return t.name});r[i.name]={writable:!1,configurable:!1,value:function(){for(var r=[],s=0;s<arguments.length;s++)r[s-0]=arguments[s];var a=new Km(e,this,t.name,e.vars);return Oi(o,r,i.body,a,n)}}});var i=t.constructorMethod.params.map(function(t){return t.name}),o=function(){for(var r=this,o=[],s=0;s<arguments.length;s++)o[s-0]=arguments[s];var a=new Km(e,this,t.name,e.vars);t.fields.forEach(function(t){r[t.name]=void 0}),Oi(i,o,t.constructorMethod.body,a,n)},s=t.parent?t.parent.visitExpression(n,e):Object;return o.prototype=Object.create(s.prototype,r),o}function Ai(t,e,n,r){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return Oi(t,i,e,n,r)}}function Mi(t,e,n,r){var i=n+"\nreturn "+e+"\n//# sourceURL="+t,o=[],s=[];for(var a in r)o.push(a),s.push(r[a]);return(new(Function.bind.apply(Function,[void 0].concat(o.concat(i))))).apply(void 0,s)}function ki(t,e,n){var r=new ov,i=Md.createRoot([n]);return r.visitAllStatements(e,i),Mi(t,n,i.toSource(),r.getArgs())}function Ri(t){if(!t.isComponent)throw new Error("Could not compile '"+b(t.type)+"' because it is not a component.")}function Ii(){Oo.reflectionCapabilities=new Ao}function Ni(t){return{useDebug:Di(t.map(function(t){return t.useDebug})),useJit:Di(t.map(function(t){return t.useJit})),defaultEncapsulation:Di(t.map(function(t){return t.defaultEncapsulation})),providers:ji(t.map(function(t){return t.providers}))}}function Di(t){for(var e=t.length-1;e>=0;e--)if(void 0!==t[e])return t[e]}function ji(t){var e=[];return t.forEach(function(t){return t&&e.push.apply(e,t)}),e}var Vi=new e.Version("2.4.8"),Li=function(){function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),Fi=function(){function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitBoundText(this,e)},t}(),Ui=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitAttr(this,e)},t}(),Hi=function(){function t(t,e,n,r,i,o,s){this.name=t,this.type=e,this.securityContext=n,this.needsRuntimeSecurityContext=r,this.value=i,this.unit=o,this.sourceSpan=s}return t.prototype.visit=function(t,e){return t.visitElementProperty(this,e)},Object.defineProperty(t.prototype,"isAnimation",{get:function(){return this.type===Zi.Animation},enumerable:!0,configurable:!0}),t}(),Bi=function(){function t(t,e,n,r,i){this.name=t,this.target=e,this.phase=n,this.handler=r,this.sourceSpan=i}return t.calcFullName=function(t,e,n){return e?e+":"+t:n?"@"+t+"."+n:t},t.prototype.visit=function(t,e){return t.visitEvent(this,e)},Object.defineProperty(t.prototype,"fullName",{get:function(){
return t.calcFullName(this.name,this.target,this.phase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimation",{get:function(){return!!this.phase},enumerable:!0,configurable:!0}),t}(),qi=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitReference(this,e)},t}(),zi=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitVariable(this,e)},t}(),Wi=function(){function t(t,e,n,r,i,o,s,a,u,c,l,p){this.name=t,this.attrs=e,this.inputs=n,this.outputs=r,this.references=i,this.directives=o,this.providers=s,this.hasViewContainer=a,this.children=u,this.ngContentIndex=c,this.sourceSpan=l,this.endSourceSpan=p}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),Gi=function(){function t(t,e,n,r,i,o,s,a,u,c){this.attrs=t,this.outputs=e,this.references=n,this.variables=r,this.directives=i,this.providers=o,this.hasViewContainer=s,this.children=a,this.ngContentIndex=u,this.sourceSpan=c}return t.prototype.visit=function(t,e){return t.visitEmbeddedTemplate(this,e)},t}(),Xi=function(){function t(t,e,n,r){this.directiveName=t,this.templateName=e,this.value=n,this.sourceSpan=r}return t.prototype.visit=function(t,e){return t.visitDirectiveProperty(this,e)},t}(),$i=function(){function t(t,e,n,r,i){this.directive=t,this.inputs=e,this.hostProperties=n,this.hostEvents=r,this.sourceSpan=i}return t.prototype.visit=function(t,e){return t.visitDirective(this,e)},t}(),Qi=function(){function t(t,e,n,r,i,o,s){this.token=t,this.multiProvider=e,this.eager=n,this.providers=r,this.providerType=i,this.lifecycleHooks=o,this.sourceSpan=s}return t.prototype.visit=function(t,e){return null},t}(),Yi={};Yi.PublicService=0,Yi.PrivateService=1,Yi.Component=2,Yi.Directive=3,Yi.Builtin=4,Yi[Yi.PublicService]="PublicService",Yi[Yi.PrivateService]="PrivateService",Yi[Yi.Component]="Component",Yi[Yi.Directive]="Directive",Yi[Yi.Builtin]="Builtin";var Ki=function(){function t(t,e,n){this.index=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitNgContent(this,e)},t}(),Zi={};Zi.Property=0,Zi.Attribute=1,Zi.Class=2,Zi.Style=3,Zi.Animation=4,Zi[Zi.Property]="Property",Zi[Zi.Attribute]="Attribute",Zi[Zi.Class]="Class",Zi[Zi.Style]="Style",Zi[Zi.Animation]="Animation";var Ji=function(){function t(t,e,n){this.filePath=t,this.name=e,this.members=n}return t}(),to=function(){function t(){this.cache=new Map}return t.prototype.get=function(t,e,n){n=n||[];var r=n.length?"."+n.join("."):"",i='"'+t+'".'+e+r,o=this.cache.get(i);return o||(o=new Ji(t,e,n),this.cache.set(i,o)),o},t}(),eo=Object.getPrototypeOf({}),no=function(){function t(){}return t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e},t.isNumeric=function(t){return!isNaN(t-parseFloat(t))},t}(),ro=function(){function t(){}return t.merge=function(t,e){for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n[o]=t[o]}for(var s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];n[o]=e[o]}return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!==e[o])return!1}return!0},t}(),io=function(){function t(){}return t.findLast=function(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);r>-1&&t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.flatten=function(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t.flatten(n):n;return e.concat(r)},[])},t}(),oo=e.__core_private__.isDefaultChangeDetectionStrategy,so=e.__core_private__.ChangeDetectorStatus,ao=e.__core_private__.LifecycleHooks,uo=e.__core_private__.LIFECYCLE_HOOKS_VALUES,co=e.__core_private__.ReflectorReader,lo=e.__core_private__.ViewContainer,po=e.__core_private__.CodegenComponentFactoryResolver,ho=e.__core_private__.ComponentRef_,fo=e.__core_private__.AppView,yo=e.__core_private__.DebugAppView,mo=e.__core_private__.NgModuleInjector,vo=e.__core_private__.registerModuleFactory,go=e.__core_private__.ViewType,_o=e.__core_private__.view_utils,bo=e.__core_private__.DebugContext,wo=e.__core_private__.StaticNodeDebugInfo,Co=e.__core_private__.devModeEqual,Eo=e.__core_private__.UNINITIALIZED,So=e.__core_private__.ValueUnwrapper,xo=e.__core_private__.TemplateRef_,Po=e.__core_private__.Console,Oo=e.__core_private__.reflector,To=e.__core_private__.Reflector,Ao=e.__core_private__.ReflectionCapabilities,Mo=e.__core_private__.NoOpAnimationPlayer,ko=e.__core_private__.AnimationSequencePlayer,Ro=e.__core_private__.AnimationGroupPlayer,Io=e.__core_private__.AnimationKeyframe,No=e.__core_private__.AnimationStyles,Do=e.__core_private__.ANY_STATE,jo=e.__core_private__.DEFAULT_STATE,Vo=e.__core_private__.EMPTY_STATE,Lo=e.__core_private__.FILL_STYLE_FLAG,Fo=e.__core_private__.prepareFinalAnimationStyles,Uo=e.__core_private__.balanceAnimationKeyframes,Ho=e.__core_private__.clearStyles,Bo=e.__core_private__.collectAndResolveStyles,qo=e.__core_private__.renderStyles,zo=e.__core_private__.ComponentStillLoadingError,Wo=e.__core_private__.AnimationTransition,Go={};Go.RAW_TEXT=0,Go.ESCAPABLE_RAW_TEXT=1,Go.PARSABLE_DATA=2,Go[Go.RAW_TEXT]="RAW_TEXT",Go[Go.ESCAPABLE_RAW_TEXT]="ESCAPABLE_RAW_TEXT",Go[Go.PARSABLE_DATA]="PARSABLE_DATA";var Xo={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞",int:"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"},$o=function(){function t(t){var e=this,n=void 0===t?{}:t,r=n.closedByChildren,i=n.requiredParents,o=n.implicitNamespacePrefix,s=n.contentType,a=void 0===s?Go.PARSABLE_DATA:s,u=n.closedByParent,c=void 0!==u&&u,l=n.isVoid,p=void 0!==l&&l,h=n.ignoreFirstLf,f=void 0!==h&&h;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,r&&r.length>0&&r.forEach(function(t){return e.closedByChildren[t]=!0}),this.isVoid=p,this.closedByParent=c||p,i&&i.length>0&&(this.requiredParents={},this.parentToAdd=i[0],i.forEach(function(t){return e.requiredParents[t]=!0})),this.implicitNamespacePrefix=o,this.contentType=a,this.ignoreFirstLf=f}return t.prototype.requireExtraParent=function(t){if(!this.requiredParents)return!1;if(!t)return!0;var e=t.toLowerCase();return 1!=this.requiredParents[e]&&"template"!=e},t.prototype.isClosedByChild=function(t){return this.isVoid||t.toLowerCase()in this.closedByChildren},t}(),Qo={base:new $o({isVoid:!0}),meta:new $o({isVoid:!0}),area:new $o({isVoid:!0}),embed:new $o({isVoid:!0}),link:new $o({isVoid:!0}),img:new $o({isVoid:!0}),input:new $o({isVoid:!0}),param:new $o({isVoid:!0}),hr:new $o({isVoid:!0}),br:new $o({isVoid:!0}),source:new $o({isVoid:!0}),track:new $o({isVoid:!0}),wbr:new $o({isVoid:!0}),p:new $o({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new $o({closedByChildren:["tbody","tfoot"]}),tbody:new $o({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new $o({closedByChildren:["tbody"],closedByParent:!0}),tr:new $o({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new $o({closedByChildren:["td","th"],closedByParent:!0}),th:new $o({closedByChildren:["td","th"],closedByParent:!0}),col:new $o({requiredParents:["colgroup"],isVoid:!0}),svg:new $o({implicitNamespacePrefix:"svg"}),math:new $o({implicitNamespacePrefix:"math"}),li:new $o({closedByChildren:["li"],closedByParent:!0}),dt:new $o({closedByChildren:["dt","dd"]}),dd:new $o({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new $o({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new $o({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new $o({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new $o({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new $o({closedByChildren:["optgroup"],closedByParent:!0}),option:new $o({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new $o({ignoreFirstLf:!0}),listing:new $o({ignoreFirstLf:!0}),style:new $o({contentType:Go.RAW_TEXT}),script:new $o({contentType:Go.RAW_TEXT}),title:new $o({contentType:Go.ESCAPABLE_RAW_TEXT}),textarea:new $o({contentType:Go.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},Yo=new $o,Ko=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)","g"),Zo=function(){function t(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return t.parse=function(e){var n,r=[],i=function(t,e){e.notSelectors.length>0&&!e.element&&0==e.classNames.length&&0==e.attrs.length&&(e.element="*"),t.push(e)},o=new t,s=o,a=!1;for(Ko.lastIndex=0;n=Ko.exec(e);){if(n[1]){if(a)throw new Error("Nesting :not is not allowed in a selector");a=!0,s=new t,o.notSelectors.push(s)}if(n[2]&&s.setElement(n[2]),n[3]&&s.addClassName(n[3]),n[4]&&s.addAttribute(n[4],n[5]),n[6]&&(a=!1,s=o),n[7]){if(a)throw new Error("Multiple selectors in :not are not supported");i(r,o),o=s=new t}}return i(r,o),r},t.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},t.prototype.hasElementSelector=function(){return!!this.element},t.prototype.setElement=function(t){void 0===t&&(t=null),this.element=t},t.prototype.getMatchingElementTemplate=function(){for(var t=this.element||"div",e=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",n="",r=0;r<this.attrs.length;r+=2){var i=this.attrs[r],o=""!==this.attrs[r+1]?'="'+this.attrs[r+1]+'"':"";n+=" "+i+o}return f(t).isVoid?"<"+t+e+n+"/>":"<"+t+e+n+"></"+t+">"},t.prototype.addAttribute=function(t,e){void 0===e&&(e=""),this.attrs.push(t,e&&e.toLowerCase()||"")},t.prototype.addClassName=function(t){this.classNames.push(t.toLowerCase())},t.prototype.toString=function(){var t=this.element||"";if(this.classNames&&this.classNames.forEach(function(e){return t+="."+e}),this.attrs)for(var e=0;e<this.attrs.length;e+=2){var n=this.attrs[e],r=this.attrs[e+1];t+="["+n+(r?"="+r:"")+"]"}return this.notSelectors.forEach(function(e){return t+=":not("+e+")"}),t},t}(),Jo=function(){function t(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return t.createNotMatcher=function(e){var n=new t;return n.addSelectables(e,null),n},t.prototype.addSelectables=function(t,e){var n=null;t.length>1&&(n=new ts(t),this._listContexts.push(n));for(var r=0;r<t.length;r++)this._addSelectable(t[r],e,n)},t.prototype._addSelectable=function(t,e,n){var r=this,i=t.element,o=t.classNames,s=t.attrs,a=new es(t,e,n);if(i){var u=0===s.length&&0===o.length;u?this._addTerminal(r._elementMap,i,a):r=this._addPartial(r._elementPartialMap,i)}if(o)for(var c=0;c<o.length;c++){var u=0===s.length&&c===o.length-1,l=o[c];u?this._addTerminal(r._classMap,l,a):r=this._addPartial(r._classPartialMap,l)}if(s)for(var c=0;c<s.length;c+=2){var u=c===s.length-2,p=s[c],h=s[c+1];if(u){var f=r._attrValueMap,d=f.get(p);d||(d=new Map,f.set(p,d)),this._addTerminal(d,h,a)}else{var y=r._attrValuePartialMap,m=y.get(p);m||(m=new Map,y.set(p,m)),r=this._addPartial(m,h)}}},t.prototype._addTerminal=function(t,e,n){var r=t.get(e);r||(r=[],t.set(e,r)),r.push(n)},t.prototype._addPartial=function(e,n){var r=e.get(n);return r||(r=new t,e.set(n,r)),r},t.prototype.match=function(t,e){for(var n=!1,r=t.element,i=t.classNames,o=t.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,t,e)||n,n=this._matchPartial(this._elementPartialMap,r,t,e)||n,i)for(var s=0;s<i.length;s++){var a=i[s];n=this._matchTerminal(this._classMap,a,t,e)||n,n=this._matchPartial(this._classPartialMap,a,t,e)||n}if(o)for(var s=0;s<o.length;s+=2){var u=o[s],c=o[s+1],l=this._attrValueMap.get(u);c&&(n=this._matchTerminal(l,"",t,e)||n),n=this._matchTerminal(l,c,t,e)||n;var p=this._attrValuePartialMap.get(u);c&&(n=this._matchPartial(p,"",t,e)||n),n=this._matchPartial(p,c,t,e)||n}return n},t.prototype._matchTerminal=function(t,e,n,r){if(!t||"string"!=typeof e)return!1;var i=t.get(e)||[],o=t.get("*");if(o&&(i=i.concat(o)),0===i.length)return!1;for(var s,a=!1,u=0;u<i.length;u++)s=i[u],a=s.finalize(n,r)||a;return a},t.prototype._matchPartial=function(t,e,n,r){if(!t||"string"!=typeof e)return!1;var i=t.get(e);return!!i&&i.match(n,r)},t}(),ts=function(){function t(t){this.selectors=t,this.alreadyMatched=!1}return t}(),es=function(){function t(t,e,n){this.selector=t,this.cbContext=e,this.listContext=n,this.notSelectors=t.notSelectors}return t.prototype.finalize=function(t,e){var n=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){var r=Jo.createNotMatcher(this.notSelectors);n=!r.match(t,null)}return!n||!e||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),e(this.selector,this.cbContext)),n},t}(),ns=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},rs=function(t){function e(e){t.call(this,e);var n=new Error(e);this._nativeError=n}return ns(e,t),Object.defineProperty(e.prototype,"message",{get:function(){return this._nativeError.message},set:function(t){this._nativeError.message=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._nativeError.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stack",{get:function(){return this._nativeError.stack},set:function(t){this._nativeError.stack=t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this._nativeError.toString()},e}(Error),is=(function(t){function e(e,n){t.call(this,e+" caused by: "+(n instanceof Error?n.message:n)),this.originalError=n}return ns(e,t),Object.defineProperty(e.prototype,"stack",{get:function(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:!0,configurable:!0}),e}(rs),this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),os="",ss=/-+([a-z0-9])/g,as=function(){function t(){}return t.prototype.visitArray=function(t,e){var n=this;return t.map(function(t){return g(t,n,e)})},t.prototype.visitStringMap=function(t,e){var n=this,r={};return Object.keys(t).forEach(function(i){r[i]=g(t[i],n,e)}),r},t.prototype.visitPrimitive=function(t,e){return t},t.prototype.visitOther=function(t,e){return t},t}(),us=function(){function t(t,e){void 0===e&&(e=null),this.syncResult=t,this.asyncResult=e,e||(this.asyncResult=Promise.resolve(t))}return t}(),cs=function(t){function e(){t.apply(this,arguments)}return is(e,t),e}(rs),ls=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ps=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/,hs=function(){function t(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.name=t,this.definitions=e}return t}(),fs=function(){function t(){}return t}(),ds=function(t){function e(e,n){t.call(this),this.stateNameExpr=e,this.styles=n}return ls(e,t),e}(fs),ys=function(t){function e(e,n){t.call(this),this.stateChangeExpr=e,this.steps=n}return ls(e,t),e}(fs),ms=function(){function t(){}return t}(),vs=function(t){function e(e){void 0===e&&(e=[]),t.call(this),this.steps=e}return ls(e,t),e}(ms),gs=function(t){function e(e,n){void 0===n&&(n=null),t.call(this),this.offset=e,this.styles=n}return ls(e,t),e}(ms),_s=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=null),t.call(this),this.timings=e,this.styles=n}return ls(e,t),e}(ms),bs=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.steps=e}return ls(e,t),e}(ms),ws=function(t){function e(e){void 0===e&&(e=null),t.call(this,e)}return ls(e,t),e}(bs),Cs=function(t){function e(e){void 0===e&&(e=null),t.call(this,e)}return ls(e,t),e}(bs),Es=0,Ss={};Ss.Pipe=0,Ss.Directive=1,Ss.NgModule=2,Ss.Injectable=3,Ss[Ss.Pipe]="Pipe",Ss[Ss.Directive]="Directive",Ss[Ss.NgModule]="NgModule",Ss[Ss.Injectable]="Injectable";var xs=function(){function t(t){var e=void 0===t?{}:t,n=e.moduleUrl,r=e.styles,i=e.styleUrls;this.moduleUrl=n,this.styles=x(r),this.styleUrls=x(i)}return t}(),Ps=function(){function t(t){var e=void 0===t?{}:t,n=e.encapsulation,r=e.template,i=e.templateUrl,o=e.styles,s=e.styleUrls,a=e.externalStylesheets,u=e.animations,c=e.ngContentSelectors,l=e.interpolation;if(this.encapsulation=n,this.template=r,this.templateUrl=i,this.styles=x(o),this.styleUrls=x(s),this.externalStylesheets=x(a),this.animations=u?io.flatten(u):[],this.ngContentSelectors=c||[],l&&2!=l.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=l}return t.prototype.toSummary=function(){return{animations:this.animations.map(function(t){return t.name}),ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation}},t}(),Os=function(){function t(t){var e=void 0===t?{}:t,n=e.isHost,r=e.type,i=e.isComponent,o=e.selector,s=e.exportAs,a=e.changeDetection,u=e.inputs,c=e.outputs,l=e.hostListeners,p=e.hostProperties,h=e.hostAttributes,f=e.providers,d=e.viewProviders,y=e.queries,m=e.viewQueries,v=e.entryComponents,g=e.template;this.isHost=!!n,this.type=r,this.isComponent=i,this.selector=o,this.exportAs=s,this.changeDetection=a,this.inputs=u,this.outputs=c,this.hostListeners=l,this.hostProperties=p,this.hostAttributes=h,this.providers=x(f),this.viewProviders=x(d),this.queries=x(y),this.viewQueries=x(m),this.entryComponents=x(v),this.template=g}return t.create=function(e){var n=void 0===e?{}:e,i=n.isHost,o=n.type,s=n.isComponent,a=n.selector,u=n.exportAs,c=n.changeDetection,l=n.inputs,p=n.outputs,h=n.host,f=n.providers,d=n.viewProviders,m=n.queries,v=n.viewQueries,g=n.entryComponents,_=n.template,b={},w={},C={};r(h)&&Object.keys(h).forEach(function(t){var e=h[t],n=t.match(ps);null===n?C[t]=e:r(n[1])?w[n[1]]=e:r(n[2])&&(b[n[2]]=e)});var E={};r(l)&&l.forEach(function(t){var e=y(t,[t,t]);E[e[0]]=e[1]});var S={};return r(p)&&p.forEach(function(t){var e=y(t,[t,t]);S[e[0]]=e[1]}),new t({isHost:i,type:o,isComponent:!!s,selector:a,exportAs:u,changeDetection:c,inputs:E,outputs:S,hostListeners:b,hostProperties:w,hostAttributes:C,providers:f,viewProviders:d,queries:m,viewQueries:v,entryComponents:g,template:_})},t.prototype.toSummary=function(){return{summaryKind:Ss.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary()}},t}(),Ts=function(){function t(t){var e=void 0===t?{}:t,n=e.type,r=e.name,i=e.pure;this.type=n,this.name=r,this.pure=!!i}return t.prototype.toSummary=function(){return{summaryKind:Ss.Pipe,type:this.type,name:this.name,pure:this.pure}},t}(),As=function(){function t(t){var e=void 0===t?{}:t,n=e.type,r=e.providers,i=e.declaredDirectives,o=e.exportedDirectives,s=e.declaredPipes,a=e.exportedPipes,u=e.entryComponents,c=e.bootstrapComponents,l=e.importedModules,p=e.exportedModules,h=e.schemas,f=e.transitiveModule,d=e.id;this.type=n,this.declaredDirectives=x(i),this.exportedDirectives=x(o),this.declaredPipes=x(s),this.exportedPipes=x(a),this.providers=x(r),this.entryComponents=x(u),this.bootstrapComponents=x(c),this.importedModules=x(l),this.exportedModules=x(p),this.schemas=x(h),this.id=d,this.transitiveModule=f}return t.prototype.toSummary=function(){return{summaryKind:Ss.NgModule,type:this.type,entryComponents:this.transitiveModule.entryComponents,providers:this.transitiveModule.providers,modules:this.transitiveModule.modules,exportedDirectives:this.transitiveModule.exportedDirectives,exportedPipes:this.transitiveModule.exportedPipes}},t}(),Ms=function(){function t(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}return t.prototype.addProvider=function(t,e){this.providers.push({provider:t,module:e})},t.prototype.addDirective=function(t){this.directivesSet.has(t.reference)||(this.directivesSet.add(t.reference),this.directives.push(t))},t.prototype.addExportedDirective=function(t){this.exportedDirectivesSet.has(t.reference)||(this.exportedDirectivesSet.add(t.reference),this.exportedDirectives.push(t))},t.prototype.addPipe=function(t){this.pipesSet.has(t.reference)||(this.pipesSet.add(t.reference),this.pipes.push(t))},t.prototype.addExportedPipe=function(t){this.exportedPipesSet.has(t.reference)||(this.exportedPipesSet.add(t.reference),this.exportedPipes.push(t))},t.prototype.addModule=function(t){this.modulesSet.has(t.reference)||(this.modulesSet.add(t.reference),this.modules.push(t))},t.prototype.addEntryComponent=function(t){this.entryComponentsSet.has(t.reference)||(this.entryComponentsSet.add(t.reference),this.entryComponents.push(t))},t}(),ks=function(){function t(t,e){var n=e.useClass,r=e.useValue,i=e.useExisting,o=e.useFactory,s=e.deps,a=e.multi;this.token=t,this.useClass=n,this.useValue=r,this.useExisting=i,this.useFactory=o,this.dependencies=s,this.multi=!!a}return t}(),Rs=0,Is=9,Ns=10,Ds=11,js=12,Vs=13,Ls=32,Fs=33,Us=34,Hs=35,Bs=36,qs=37,zs=38,Ws=39,Gs=40,Xs=41,$s=42,Qs=43,Ys=44,Ks=45,Zs=46,Js=47,ta=58,ea=59,na=60,ra=61,ia=62,oa=63,sa=48,aa=57,ua=65,ca=69,la=70,pa=88,ha=90,fa=91,da=92,ya=93,ma=94,va=95,ga=97,_a=101,ba=102,wa=110,Ca=114,Ea=116,Sa=117,xa=118,Pa=120,Oa=122,Ta=123,Aa=124,Ma=125,ka=160,Ra=96,Ia=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//],Na=function(){function t(t,e){this.start=t,this.end=e}return t.fromArray=function(e){return e?(R("interpolation",e),new t(e[0],e[1])):Da},t}(),Da=new Na("{{","}}"),ja=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Va=function(){function t(t,e,n,r){this.input=e,this.errLocation=n,this.ctxLocation=r,this.message="Parser Error: "+t+" "+n+" ["+e+"] in "+r}return t}(),La=function(){function t(t,e){this.start=t,this.end=e}return t}(),Fa=function(){function t(t){this.span=t}return t.prototype.visit=function(t,e){return void 0===e&&(e=null),null},t.prototype.toString=function(){return"AST"},t}(),Ua=function(t){function e(e,n,r,i){t.call(this,e),this.prefix=n,this.uninterpretedExpression=r,this.location=i}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitQuote(this,e)},e.prototype.toString=function(){return"Quote"},e}(Fa),Ha=function(t){function e(){t.apply(this,arguments)}return ja(e,t),e.prototype.visit=function(t,e){void 0===e&&(e=null)},e}(Fa),Ba=function(t){function e(){t.apply(this,arguments)}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitImplicitReceiver(this,e)},e}(Fa),qa=function(t){function e(e,n){t.call(this,e),this.expressions=n}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitChain(this,e)},e}(Fa),za=function(t){function e(e,n,r,i){t.call(this,e),this.condition=n,this.trueExp=r,this.falseExp=i}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitConditional(this,e)},e}(Fa),Wa=function(t){function e(e,n,r){t.call(this,e),this.receiver=n,this.name=r}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyRead(this,e)},e}(Fa),Ga=function(t){function e(e,n,r,i){t.call(this,e),this.receiver=n,this.name=r,this.value=i}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyWrite(this,e)},e}(Fa),Xa=function(t){function e(e,n,r){t.call(this,e),this.receiver=n,this.name=r}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafePropertyRead(this,e)},e}(Fa),$a=function(t){function e(e,n,r){t.call(this,e),this.obj=n,this.key=r}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedRead(this,e)},e}(Fa),Qa=function(t){function e(e,n,r,i){t.call(this,e),this.obj=n,this.key=r,this.value=i}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedWrite(this,e)},e}(Fa),Ya=function(t){function e(e,n,r,i){t.call(this,e),this.exp=n,this.name=r,this.args=i}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPipe(this,e)},e}(Fa),Ka=function(t){function e(e,n){t.call(this,e),this.value=n}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralPrimitive(this,e)},e}(Fa),Za=function(t){function e(e,n){t.call(this,e),this.expressions=n}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralArray(this,e)},e}(Fa),Ja=function(t){function e(e,n,r){t.call(this,e),this.keys=n,this.values=r}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralMap(this,e)},e}(Fa),tu=function(t){function e(e,n,r){t.call(this,e),this.strings=n,this.expressions=r}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitInterpolation(this,e)},e}(Fa),eu=function(t){function e(e,n,r,i){t.call(this,e),this.operation=n,this.left=r,this.right=i}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitBinary(this,e)},e}(Fa),nu=function(t){function e(e,n){t.call(this,e),this.expression=n}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPrefixNot(this,e)},e}(Fa),ru=function(t){function e(e,n,r,i){t.call(this,e),this.receiver=n,this.name=r,this.args=i}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitMethodCall(this,e)},e}(Fa),iu=function(t){function e(e,n,r,i){t.call(this,e),this.receiver=n,this.name=r,this.args=i}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafeMethodCall(this,e)},e}(Fa),ou=function(t){function e(e,n,r){t.call(this,e),this.target=n,this.args=r}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitFunctionCall(this,e)},e}(Fa),su=function(t){function e(e,n,r,o){t.call(this,new La(0,i(n)?0:n.length)),this.ast=e,this.source=n,this.location=r,this.errors=o}return ja(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),this.ast.visit(t,e)},e.prototype.toString=function(){return this.source+" in "+this.location},e}(Fa),au=function(){function t(t,e,n,r,i){this.span=t,this.key=e,this.keyIsVar=n,this.name=r,this.expression=i}return t}(),uu=function(){function t(){}return t.prototype.visitBinary=function(t,e){return t.left.visit(this),t.right.visit(this),null},t.prototype.visitChain=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){return t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this),null},t.prototype.visitPipe=function(t,e){return t.exp.visit(this),this.visitAll(t.args,e),null},t.prototype.visitFunctionCall=function(t,e){return t.target.visit(this),this.visitAll(t.args,e),null},t.prototype.visitImplicitReceiver=function(t,e){return null},t.prototype.visitInterpolation=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitKeyedRead=function(t,e){return t.obj.visit(this),t.key.visit(this),null},t.prototype.visitKeyedWrite=function(t,e){return t.obj.visit(this),t.key.visit(this),t.value.visit(this),null},t.prototype.visitLiteralArray=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitLiteralMap=function(t,e){return this.visitAll(t.values,e)},t.prototype.visitLiteralPrimitive=function(t,e){return null},t.prototype.visitMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitPrefixNot=function(t,e){return t.expression.visit(this),null},t.prototype.visitPropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitPropertyWrite=function(t,e){return t.receiver.visit(this),t.value.visit(this),null},t.prototype.visitSafePropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitSafeMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitAll=function(t,e){var n=this;return t.forEach(function(t){return t.visit(n,e)}),null},t.prototype.visitQuote=function(t,e){return null},t}(),cu=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},lu=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pu={};
pu.Character=0,pu.Identifier=1,pu.Keyword=2,pu.String=3,pu.Operator=4,pu.Number=5,pu.Error=6,pu[pu.Character]="Character",pu[pu.Identifier]="Identifier",pu[pu.Keyword]="Keyword",pu[pu.String]="String",pu[pu.Operator]="Operator",pu[pu.Number]="Number",pu[pu.Error]="Error";var hu=["var","let","null","undefined","true","false","if","else","this"],fu=function(){function t(){}return t.prototype.tokenize=function(t){for(var e=new mu(t),n=[],r=e.scanToken();null!=r;)n.push(r),r=e.scanToken();return n},t=cu([M(),lu("design:paramtypes",[])],t)}(),du=function(){function t(t,e,n,r){this.index=t,this.type=e,this.numValue=n,this.strValue=r}return t.prototype.isCharacter=function(t){return this.type==pu.Character&&this.numValue==t},t.prototype.isNumber=function(){return this.type==pu.Number},t.prototype.isString=function(){return this.type==pu.String},t.prototype.isOperator=function(t){return this.type==pu.Operator&&this.strValue==t},t.prototype.isIdentifier=function(){return this.type==pu.Identifier},t.prototype.isKeyword=function(){return this.type==pu.Keyword},t.prototype.isKeywordLet=function(){return this.type==pu.Keyword&&"let"==this.strValue},t.prototype.isKeywordNull=function(){return this.type==pu.Keyword&&"null"==this.strValue},t.prototype.isKeywordUndefined=function(){return this.type==pu.Keyword&&"undefined"==this.strValue},t.prototype.isKeywordTrue=function(){return this.type==pu.Keyword&&"true"==this.strValue},t.prototype.isKeywordFalse=function(){return this.type==pu.Keyword&&"false"==this.strValue},t.prototype.isKeywordThis=function(){return this.type==pu.Keyword&&"this"==this.strValue},t.prototype.isError=function(){return this.type==pu.Error},t.prototype.toNumber=function(){return this.type==pu.Number?this.numValue:-1},t.prototype.toString=function(){switch(this.type){case pu.Character:case pu.Identifier:case pu.Keyword:case pu.Operator:case pu.String:case pu.Error:return this.strValue;case pu.Number:return this.numValue.toString();default:return null}},t}(),yu=new du(-1,pu.Character,0,""),mu=function(){function t(t){this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}return t.prototype.advance=function(){this.peek=++this.index>=this.length?Rs:this.input.charCodeAt(this.index)},t.prototype.scanToken=function(){for(var t=this.input,e=this.length,n=this.peek,r=this.index;n<=Ls;){if(++r>=e){n=Rs;break}n=t.charCodeAt(r)}if(this.peek=n,this.index=r,r>=e)return null;if(U(n))return this.scanIdentifier();if(O(n))return this.scanNumber(r);var i=r;switch(n){case Zs:return this.advance(),O(this.peek)?this.scanNumber(i):I(i,Zs);case Gs:case Xs:case Ta:case Ma:case fa:case ya:case Ys:case ta:case ea:return this.scanCharacter(i,n);case Ws:case Us:return this.scanString();case Hs:case Qs:case Ks:case $s:case Js:case qs:case ma:return this.scanOperator(i,String.fromCharCode(n));case oa:return this.scanComplexOperator(i,"?",Zs,".");case na:case ia:return this.scanComplexOperator(i,String.fromCharCode(n),ra,"=");case Fs:case ra:return this.scanComplexOperator(i,String.fromCharCode(n),ra,"=",ra,"=");case zs:return this.scanComplexOperator(i,"&",zs,"&");case Aa:return this.scanComplexOperator(i,"|",Aa,"|");case ka:for(;P(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(n)+"]",0)},t.prototype.scanCharacter=function(t,e){return this.advance(),I(t,e)},t.prototype.scanOperator=function(t,e){return this.advance(),j(t,e)},t.prototype.scanComplexOperator=function(t,e,n,r,i,o){this.advance();var s=e;return this.peek==n&&(this.advance(),s+=r),null!=i&&this.peek==i&&(this.advance(),s+=o),j(t,s)},t.prototype.scanIdentifier=function(){var t=this.index;for(this.advance();B(this.peek);)this.advance();var e=this.input.substring(t,this.index);return hu.indexOf(e)>-1?D(t,e):N(t,e)},t.prototype.scanNumber=function(t){var e=this.index===t;for(this.advance();;){if(O(this.peek));else if(this.peek==Zs)e=!1;else{if(!q(this.peek))break;if(this.advance(),z(this.peek)&&this.advance(),!O(this.peek))return this.error("Invalid exponent",-1);e=!1}this.advance()}var n=this.input.substring(t,this.index),r=e?no.parseIntAutoRadix(n):parseFloat(n);return L(t,r)},t.prototype.scanString=function(){var t=this.index,e=this.peek;this.advance();for(var n="",r=this.index,i=this.input;this.peek!=e;)if(this.peek==da){n+=i.substring(r,this.index),this.advance();var o=void 0;if(this.peek==Sa){var s=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(s))return this.error("Invalid unicode escape [\\u"+s+"]",0);o=parseInt(s,16);for(var a=0;a<5;a++)this.advance()}else o=G(this.peek),this.advance();n+=String.fromCharCode(o),r=this.index}else{if(this.peek==Rs)return this.error("Unterminated quote",0);this.advance()}var u=i.substring(r,this.index);return this.advance(),V(t,n+u)},t.prototype.error=function(t,e){var n=this.index+e;return F(n,"Lexer Error: "+t+" at column "+n+" in expression ["+this.input+"]")},t}(),vu=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},gu=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_u=function(){function t(t,e,n){this.strings=t,this.expressions=e,this.offsets=n}return t}(),bu=function(){function t(t,e,n){this.templateBindings=t,this.warnings=e,this.errors=n}return t}(),wu=function(){function t(t){this._lexer=t,this.errors=[]}return t.prototype.parseAction=function(t,e,n){void 0===n&&(n=Da),this._checkNoInterpolation(t,e,n);var r=this._stripComments(t),i=this._lexer.tokenize(this._stripComments(t)),o=new Cu(t,e,i,r.length,!0,this.errors,t.length-r.length).parseChain();return new su(o,t,e,this.errors)},t.prototype.parseBinding=function(t,e,n){void 0===n&&(n=Da);var r=this._parseBindingAst(t,e,n);return new su(r,t,e,this.errors)},t.prototype.parseSimpleBinding=function(t,e,n){void 0===n&&(n=Da);var r=this._parseBindingAst(t,e,n),i=Eu.check(r);return i.length>0&&this._reportError("Host binding expression cannot contain "+i.join(" "),t,e),new su(r,t,e,this.errors)},t.prototype._reportError=function(t,e,n,r){this.errors.push(new Va(t,e,n,r))},t.prototype._parseBindingAst=function(t,e,n){var i=this._parseQuote(t,e);if(r(i))return i;this._checkNoInterpolation(t,e,n);var o=this._stripComments(t),s=this._lexer.tokenize(o);return new Cu(t,e,s,o.length,!1,this.errors,t.length-o.length).parseChain()},t.prototype._parseQuote=function(t,e){if(i(t))return null;var n=t.indexOf(":");if(n==-1)return null;var r=t.substring(0,n).trim();if(!H(r))return null;var o=t.substring(n+1);return new Ua(new La(0,t.length),r,o,e)},t.prototype.parseTemplateBindings=function(t,e,n){var r=this._lexer.tokenize(e);if(t){var i=this._lexer.tokenize(t).map(function(t){return t.index=0,t});r.unshift.apply(r,i)}return new Cu(e,n,r,e.length,!1,this.errors,0).parseTemplateBindings()},t.prototype.parseInterpolation=function(t,e,n){void 0===n&&(n=Da);var r=this.splitInterpolation(t,e,n);if(null==r)return null;for(var o=[],s=0;s<r.expressions.length;++s){var a=r.expressions[s],u=this._stripComments(a),c=this._lexer.tokenize(this._stripComments(r.expressions[s])),l=new Cu(t,e,c,u.length,!1,this.errors,r.offsets[s]+(a.length-u.length)).parseChain();o.push(l)}return new su(new tu(new La(0,i(t)?0:t.length),r.strings,o),t,e,this.errors)},t.prototype.splitInterpolation=function(t,e,n){void 0===n&&(n=Da);var r=X(n),i=t.split(r);if(i.length<=1)return null;for(var o=[],s=[],a=[],u=0,c=0;c<i.length;c++){var l=i[c];c%2===0?(o.push(l),u+=l.length):l.trim().length>0?(u+=n.start.length,s.push(l),a.push(u),u+=l.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",t,"at column "+this._findInterpolationErrorColumn(i,c,n)+" in",e),s.push("$implict"),a.push(u))}return new _u(o,s,a)},t.prototype.wrapLiteralPrimitive=function(t,e){return new su(new Ka(new La(0,i(t)?0:t.length),t),t,e,this.errors)},t.prototype._stripComments=function(t){var e=this._commentStart(t);return r(e)?t.substring(0,e).trim():t},t.prototype._commentStart=function(t){for(var e=null,n=0;n<t.length-1;n++){var r=t.charCodeAt(n),o=t.charCodeAt(n+1);if(r===Js&&o==Js&&i(e))return n;e===r?e=null:i(e)&&W(r)&&(e=r)}return null},t.prototype._checkNoInterpolation=function(t,e,n){var r=X(n),i=t.split(r);i.length>1&&this._reportError("Got interpolation ("+n.start+n.end+") where expression was expected",t,"at column "+this._findInterpolationErrorColumn(i,1,n)+" in",e)},t.prototype._findInterpolationErrorColumn=function(t,e,n){for(var r="",i=0;i<e;i++)r+=i%2===0?t[i]:""+n.start+t[i]+n.end;return r.length},t=vu([M(),gu("design:paramtypes",[fu])],t)}(),Cu=function(){function t(t,e,n,r,i,o,s){this.input=t,this.location=e,this.tokens=n,this.inputLength=r,this.parseAction=i,this.errors=o,this.offset=s,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return t.prototype.peek=function(t){var e=this.index+t;return e<this.tokens.length?this.tokens[e]:yu},Object.defineProperty(t.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),t.prototype.span=function(t){return new La(t,this.inputIndex)},t.prototype.advance=function(){this.index++},t.prototype.optionalCharacter=function(t){return!!this.next.isCharacter(t)&&(this.advance(),!0)},t.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},t.prototype.expectCharacter=function(t){this.optionalCharacter(t)||this.error("Missing expected "+String.fromCharCode(t))},t.prototype.optionalOperator=function(t){return!!this.next.isOperator(t)&&(this.advance(),!0)},t.prototype.expectOperator=function(t){this.optionalOperator(t)||this.error("Missing expected operator "+t)},t.prototype.expectIdentifierOrKeyword=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier or keyword"),"")},t.prototype.expectIdentifierOrKeywordOrString=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()||t.isString()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier, keyword, or string"),"")},t.prototype.parseChain=function(){for(var t=[],e=this.inputIndex;this.index<this.tokens.length;){var n=this.parsePipe();if(t.push(n),this.optionalCharacter(ea))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(ea););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==t.length?new Ha(this.span(e)):1==t.length?t[0]:new qa(this.span(e),t)},t.prototype.parsePipe=function(){var t=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var e=this.expectIdentifierOrKeyword(),n=[];this.optionalCharacter(ta);)n.push(this.parseExpression());t=new Ya(this.span(t.span.start),t,e,n)}while(this.optionalOperator("|"))}return t},t.prototype.parseExpression=function(){return this.parseConditional()},t.prototype.parseConditional=function(){var t=this.inputIndex,e=this.parseLogicalOr();if(this.optionalOperator("?")){var n=this.parsePipe(),r=void 0;if(this.optionalCharacter(ta))r=this.parsePipe();else{var i=this.inputIndex,o=this.input.substring(t,i);this.error("Conditional expression "+o+" requires all 3 expressions"),r=new Ha(this.span(t))}return new za(this.span(t),e,n,r)}return e},t.prototype.parseLogicalOr=function(){for(var t=this.parseLogicalAnd();this.optionalOperator("||");){var e=this.parseLogicalAnd();t=new eu(this.span(t.span.start),"||",t,e)}return t},t.prototype.parseLogicalAnd=function(){for(var t=this.parseEquality();this.optionalOperator("&&");){var e=this.parseEquality();t=new eu(this.span(t.span.start),"&&",t,e)}return t},t.prototype.parseEquality=function(){for(var t=this.parseRelational();this.next.type==pu.Operator;){var e=this.next.strValue;switch(e){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational();t=new eu(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseRelational=function(){for(var t=this.parseAdditive();this.next.type==pu.Operator;){var e=this.next.strValue;switch(e){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive();t=new eu(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseAdditive=function(){for(var t=this.parseMultiplicative();this.next.type==pu.Operator;){var e=this.next.strValue;switch(e){case"+":case"-":this.advance();var n=this.parseMultiplicative();t=new eu(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseMultiplicative=function(){for(var t=this.parsePrefix();this.next.type==pu.Operator;){var e=this.next.strValue;switch(e){case"*":case"%":case"/":this.advance();var n=this.parsePrefix();t=new eu(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parsePrefix=function(){if(this.next.type==pu.Operator){var t=this.inputIndex,e=this.next.strValue,n=void 0;switch(e){case"+":return this.advance(),this.parsePrefix();case"-":return this.advance(),n=this.parsePrefix(),new eu(this.span(t),e,new Ka(new La(t,t),0),n);case"!":return this.advance(),n=this.parsePrefix(),new nu(this.span(t),n)}}return this.parseCallChain()},t.prototype.parseCallChain=function(){for(var t=this.parsePrimary();;)if(this.optionalCharacter(Zs))t=this.parseAccessMemberOrMethodCall(t,!1);else if(this.optionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,!0);else if(this.optionalCharacter(fa)){this.rbracketsExpected++;var e=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(ya),this.optionalOperator("=")){var n=this.parseConditional();t=new Qa(this.span(t.span.start),t,e,n)}else t=new $a(this.span(t.span.start),t,e)}else{if(!this.optionalCharacter(Gs))return t;this.rparensExpected++;var r=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(Xs),t=new ou(this.span(t.span.start),t,r)}},t.prototype.parsePrimary=function(){var t=this.inputIndex;if(this.optionalCharacter(Gs)){this.rparensExpected++;var e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(Xs),e}if(this.next.isKeywordNull())return this.advance(),new Ka(this.span(t),null);if(this.next.isKeywordUndefined())return this.advance(),new Ka(this.span(t),void 0);if(this.next.isKeywordTrue())return this.advance(),new Ka(this.span(t),!0);if(this.next.isKeywordFalse())return this.advance(),new Ka(this.span(t),!1);if(this.next.isKeywordThis())return this.advance(),new Ba(this.span(t));if(this.optionalCharacter(fa)){this.rbracketsExpected++;var n=this.parseExpressionList(ya);return this.rbracketsExpected--,this.expectCharacter(ya),new Za(this.span(t),n)}if(this.next.isCharacter(Ta))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new Ba(this.span(t)),!1);if(this.next.isNumber()){var r=this.next.toNumber();return this.advance(),new Ka(this.span(t),r)}if(this.next.isString()){var i=this.next.toString();return this.advance(),new Ka(this.span(t),i)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new Ha(this.span(t))):(this.error("Unexpected token "+this.next),new Ha(this.span(t)))},t.prototype.parseExpressionList=function(t){var e=[];if(!this.next.isCharacter(t))do e.push(this.parsePipe());while(this.optionalCharacter(Ys));return e},t.prototype.parseLiteralMap=function(){var t=[],e=[],n=this.inputIndex;if(this.expectCharacter(Ta),!this.optionalCharacter(Ma)){this.rbracesExpected++;do{var r=this.expectIdentifierOrKeywordOrString();t.push(r),this.expectCharacter(ta),e.push(this.parsePipe())}while(this.optionalCharacter(Ys));this.rbracesExpected--,this.expectCharacter(Ma)}return new Ja(this.span(n),t,e)},t.prototype.parseAccessMemberOrMethodCall=function(t,e){void 0===e&&(e=!1);var n=t.span.start,r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(Gs)){this.rparensExpected++;var i=this.parseCallArguments();this.expectCharacter(Xs),this.rparensExpected--;var o=this.span(n);return e?new iu(o,t,r,i):new ru(o,t,r,i)}if(e)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new Ha(this.span(n))):new Xa(this.span(n),t,r);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new Ha(this.span(n));var s=this.parseConditional();return new Ga(this.span(n),t,r,s)}return new Wa(this.span(n),t,r)},t.prototype.parseCallArguments=function(){if(this.next.isCharacter(Xs))return[];var t=[];do t.push(this.parsePipe());while(this.optionalCharacter(Ys));return t},t.prototype.expectTemplateBindingKey=function(){var t="",e=!1;do t+=this.expectIdentifierOrKeywordOrString(),e=this.optionalOperator("-"),e&&(t+="-");while(e);return t.toString()},t.prototype.parseTemplateBindings=function(){for(var t=[],e=null,n=[];this.index<this.tokens.length;){var r=this.inputIndex,i=this.peekKeywordLet();i&&this.advance();var o=this.expectTemplateBindingKey();i||(null==e?e=o:o=e+o[0].toUpperCase()+o.substring(1)),this.optionalCharacter(ta);var s=null,a=null;if(i)s=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==yu&&!this.peekKeywordLet()){var u=this.inputIndex,c=this.parsePipe(),l=this.input.substring(u-this.offset,this.inputIndex-this.offset);a=new su(c,l,this.location,this.errors)}t.push(new au(this.span(r),o,i,s,a)),this.optionalCharacter(ea)||this.optionalCharacter(Ys)}return new bu(t,n,this.errors)},t.prototype.error=function(t,e){void 0===e&&(e=null),this.errors.push(new Va(t,this.input,this.locationText(e),this.location)),this.skip()},t.prototype.locationText=function(t){return void 0===t&&(t=null),i(t)&&(t=this.index),t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression"},t.prototype.skip=function(){for(var t=this.next;this.index<this.tokens.length&&!t.isCharacter(ea)&&(this.rparensExpected<=0||!t.isCharacter(Xs))&&(this.rbracesExpected<=0||!t.isCharacter(Ma))&&(this.rbracketsExpected<=0||!t.isCharacter(ya));)this.next.isError()&&this.errors.push(new Va(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),t=this.next},t}(),Eu=function(){function t(){this.errors=[]}return t.check=function(e){var n=new t;return e.visit(n),n.errors},t.prototype.visitImplicitReceiver=function(t,e){},t.prototype.visitInterpolation=function(t,e){},t.prototype.visitLiteralPrimitive=function(t,e){},t.prototype.visitPropertyRead=function(t,e){},t.prototype.visitPropertyWrite=function(t,e){},t.prototype.visitSafePropertyRead=function(t,e){},t.prototype.visitMethodCall=function(t,e){},t.prototype.visitSafeMethodCall=function(t,e){},t.prototype.visitFunctionCall=function(t,e){},t.prototype.visitLiteralArray=function(t,e){this.visitAll(t.expressions)},t.prototype.visitLiteralMap=function(t,e){this.visitAll(t.values)},t.prototype.visitBinary=function(t,e){},t.prototype.visitPrefixNot=function(t,e){},t.prototype.visitConditional=function(t,e){},t.prototype.visitPipe=function(t,e){this.errors.push("pipes")},t.prototype.visitKeyedRead=function(t,e){},t.prototype.visitKeyedWrite=function(t,e){},t.prototype.visitAll=function(t){var e=this;return t.map(function(t){return t.visit(e)})},t.prototype.visitChain=function(t,e){},t.prototype.visitQuote=function(t,e){},t}(),Su=function(){function t(t,e,n,r){this.file=t,this.offset=e,this.line=n,this.col=r}return t.prototype.toString=function(){return r(this.offset)?this.file.url+"@"+this.line+":"+this.col:this.file.url},t.prototype.moveBy=function(e){for(var n=this.file.content,r=n.length,i=this.offset,o=this.line,s=this.col;i>0&&e<0;){i--,e++;var a=n.charCodeAt(i);if(a==Ns){o--;var u=n.substr(0,i-1).lastIndexOf(String.fromCharCode(Ns));s=u>0?i-u:i}else s--}for(;i<r&&e>0;){var a=n.charCodeAt(i);i++,e--,a==Ns?(o++,s=0):s++}return new t(this.file,i,o,s)},t.prototype.getContext=function(t,e){var n=this.file.content,i=this.offset;if(r(i)){i>n.length-1&&(i=n.length-1);for(var o=i,s=0,a=0;s<t&&i>0&&(i--,s++,"\n"!=n[i]||++a!=e););for(s=0,a=0;s<t&&o<n.length-1&&(o++,s++,"\n"!=n[o]||++a!=e););return{before:n.substring(i,this.offset),after:n.substring(this.offset,o+1)}}return null},t}(),xu=function(){function t(t,e){this.content=t,this.url=e}return t}(),Pu=function(){function t(t,e,n){void 0===n&&(n=null),this.start=t,this.end=e,this.details=n}return t.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},t}(),Ou={};Ou.WARNING=0,Ou.FATAL=1,Ou[Ou.WARNING]="WARNING",Ou[Ou.FATAL]="FATAL";var Tu=function(){function t(t,e,n){void 0===n&&(n=Ou.FATAL),this.span=t,this.msg=e,this.level=n}return t.prototype.toString=function(){var t=this.span.start.getContext(100,3),e=t?' ("'+t.before+"[ERROR ->]"+t.after+'")':"",n=this.span.details?", "+this.span.details:"";return""+this.msg+e+": "+this.span.start+n},t}(),Au=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),Mu=function(){function t(t,e,n,r,i){this.switchValue=t,this.type=e,this.cases=n,this.sourceSpan=r,this.switchValueSourceSpan=i}return t.prototype.visit=function(t,e){return t.visitExpansion(this,e)},t}(),ku=function(){function t(t,e,n,r,i){this.value=t,this.expression=e,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=i}return t.prototype.visit=function(t,e){return t.visitExpansionCase(this,e)},t}(),Ru=function(){function t(t,e,n,r){this.name=t,this.value=e,this.sourceSpan=n,this.valueSpan=r}return t.prototype.visit=function(t,e){return t.visitAttribute(this,e)},t}(),Iu=function(){function t(t,e,n,r,i,o){this.name=t,this.attrs=e,this.children=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=o}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),Nu=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitComment(this,e)},t}(),Du=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ju={};ju.TAG_OPEN_START=0,ju.TAG_OPEN_END=1,ju.TAG_OPEN_END_VOID=2,ju.TAG_CLOSE=3,ju.TEXT=4,ju.ESCAPABLE_RAW_TEXT=5,ju.RAW_TEXT=6,ju.COMMENT_START=7,ju.COMMENT_END=8,ju.CDATA_START=9,ju.CDATA_END=10,ju.ATTR_NAME=11,ju.ATTR_VALUE=12,ju.DOC_TYPE=13,ju.EXPANSION_FORM_START=14,ju.EXPANSION_CASE_VALUE=15,ju.EXPANSION_CASE_EXP_START=16,ju.EXPANSION_CASE_EXP_END=17,ju.EXPANSION_FORM_END=18,ju.EOF=19,ju[ju.TAG_OPEN_START]="TAG_OPEN_START",ju[ju.TAG_OPEN_END]="TAG_OPEN_END",ju[ju.TAG_OPEN_END_VOID]="TAG_OPEN_END_VOID",ju[ju.TAG_CLOSE]="TAG_CLOSE",ju[ju.TEXT]="TEXT",ju[ju.ESCAPABLE_RAW_TEXT]="ESCAPABLE_RAW_TEXT",ju[ju.RAW_TEXT]="RAW_TEXT",ju[ju.COMMENT_START]="COMMENT_START",ju[ju.COMMENT_END]="COMMENT_END",ju[ju.CDATA_START]="CDATA_START",ju[ju.CDATA_END]="CDATA_END",ju[ju.ATTR_NAME]="ATTR_NAME",ju[ju.ATTR_VALUE]="ATTR_VALUE",ju[ju.DOC_TYPE]="DOC_TYPE",ju[ju.EXPANSION_FORM_START]="EXPANSION_FORM_START",ju[ju.EXPANSION_CASE_VALUE]="EXPANSION_CASE_VALUE",ju[ju.EXPANSION_CASE_EXP_START]="EXPANSION_CASE_EXP_START",ju[ju.EXPANSION_CASE_EXP_END]="EXPANSION_CASE_EXP_END",ju[ju.EXPANSION_FORM_END]="EXPANSION_FORM_END",ju[ju.EOF]="EOF";var Vu=function(){function t(t,e,n){this.type=t,this.parts=e,this.sourceSpan=n}return t}(),Lu=function(t){function e(e,n,r){t.call(this,r,e),this.tokenType=n}return Du(e,t),e}(Tu),Fu=function(){function t(t,e){this.tokens=t,this.errors=e}return t}(),Uu=/\r\n?/g,Hu=function(){function t(t){this.error=t}return t}(),Bu=function(){function t(t,e,n,r){void 0===r&&(r=Da),this._file=t,this._getTagDefinition=e,this._tokenizeIcu=n,this._interpolationConfig=r,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=t.content,this._length=t.content.length,this._advance()}return t.prototype._processCarriageReturns=function(t){return t.replace(Uu,"\n")},t.prototype.tokenize=function(){for(;this._peek!==Rs;){var t=this._getLocation();try{this._attemptCharCode(na)?this._attemptCharCode(Fs)?this._attemptCharCode(fa)?this._consumeCdata(t):this._attemptCharCode(Ks)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode(Js)?this._consumeTagClose(t):this._consumeTagOpen(t):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){if(!(t instanceof Hu))throw t;this.errors.push(t.error)}}return this._beginToken(ju.EOF),this._endToken([]),new Fu(at(this.tokens),this.errors)},t.prototype._tokenizeExpansionForm=function(){if(rt(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(it(this._peek)&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._peek===Ma){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},t.prototype._getLocation=function(){return new Su(this._file,this._index,this._line,this._column)},t.prototype._getSpan=function(t,e){return void 0===t&&(t=this._getLocation()),void 0===e&&(e=this._getLocation()),new Pu(t,e)},t.prototype._beginToken=function(t,e){void 0===e&&(e=this._getLocation()),this._currentTokenStart=e,this._currentTokenType=t},t.prototype._endToken=function(t,e){void 0===e&&(e=this._getLocation());var n=new Vu(this._currentTokenType,t,new Pu(this._currentTokenStart,e));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n},t.prototype._createError=function(t,e){this._isInExpansionForm()&&(t+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var n=new Lu(t,this._currentTokenType,e);return this._currentTokenStart=null,this._currentTokenType=null,new Hu(n)},t.prototype._advance=function(){if(this._index>=this._length)throw this._createError(Y(Rs),this._getSpan());this._peek===Ns?(this._line++,this._column=0):this._peek!==Ns&&this._peek!==Vs&&this._column++,this._index++,this._peek=this._index>=this._length?Rs:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?Rs:this._input.charCodeAt(this._index+1)},t.prototype._attemptCharCode=function(t){return this._peek===t&&(this._advance(),!0)},t.prototype._attemptCharCodeCaseInsensitive=function(t){return!!ot(this._peek,t)&&(this._advance(),!0)},t.prototype._requireCharCode=function(t){var e=this._getLocation();if(!this._attemptCharCode(t))throw this._createError(Y(this._peek),this._getSpan(e,e))},t.prototype._attemptStr=function(t){var e=t.length;if(this._index+e>this._length)return!1;for(var n=this._savePosition(),r=0;r<e;r++)if(!this._attemptCharCode(t.charCodeAt(r)))return this._restorePosition(n),!1;return!0},t.prototype._attemptStrCaseInsensitive=function(t){for(var e=0;e<t.length;e++)if(!this._attemptCharCodeCaseInsensitive(t.charCodeAt(e)))return!1;return!0},t.prototype._requireStr=function(t){var e=this._getLocation();if(!this._attemptStr(t))throw this._createError(Y(this._peek),this._getSpan(e))},t.prototype._attemptCharCodeUntilFn=function(t){for(;!t(this._peek);)this._advance()},t.prototype._requireCharCodeUntilFn=function(t,e){var n=this._getLocation();if(this._attemptCharCodeUntilFn(t),this._index-n.offset<e)throw this._createError(Y(this._peek),this._getSpan(n,n))},t.prototype._attemptUntilChar=function(t){for(;this._peek!==t;)this._advance()},t.prototype._readChar=function(t){if(t&&this._peek===zs)return this._decodeEntity();var e=this._index;return this._advance(),this._input[e]},t.prototype._decodeEntity=function(){var t=this._getLocation();if(this._advance(),!this._attemptCharCode(Hs)){var e=this._savePosition();if(this._attemptCharCodeUntilFn(nt),this._peek!=ea)return this._restorePosition(e),"&";this._advance();var n=this._input.substring(t.offset+1,this._index-1),r=Xo[n];if(!r)throw this._createError(K(n),this._getSpan(t));return r}var i=this._attemptCharCode(Pa)||this._attemptCharCode(pa),o=this._getLocation().offset;if(this._attemptCharCodeUntilFn(et),this._peek!=ea)throw this._createError(Y(this._peek),this._getSpan());this._advance();var s=this._input.substring(o,this._index-1);try{var a=parseInt(s,i?16:10);return String.fromCharCode(a)}catch(e){var u=this._input.substring(t.offset+1,this._index-1);throw this._createError(K(u),this._getSpan(t))}},t.prototype._consumeRawText=function(t,e,n){var r,i=this._getLocation();this._beginToken(t?ju.ESCAPABLE_RAW_TEXT:ju.RAW_TEXT,i);for(var o=[];;){if(r=this._getLocation(),this._attemptCharCode(e)&&n())break;for(this._index>r.offset&&o.push(this._input.substring(r.offset,this._index));this._peek!==e;)o.push(this._readChar(t))}return this._endToken([this._processCarriageReturns(o.join(""))],r)},t.prototype._consumeComment=function(t){var e=this;this._beginToken(ju.COMMENT_START,t),this._requireCharCode(Ks),this._endToken([]);var n=this._consumeRawText(!1,Ks,function(){return e._attemptStr("->")});this._beginToken(ju.COMMENT_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeCdata=function(t){var e=this;this._beginToken(ju.CDATA_START,t),this._requireStr("CDATA["),this._endToken([]);var n=this._consumeRawText(!1,ya,function(){return e._attemptStr("]>")});this._beginToken(ju.CDATA_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeDocType=function(t){this._beginToken(ju.DOC_TYPE,t),this._attemptUntilChar(ia),this._advance(),this._endToken([this._input.substring(t.offset+2,this._index-1)])},t.prototype._consumePrefixAndName=function(){for(var t=this._index,e=null;this._peek!==ta&&!tt(this._peek);)this._advance();var n;this._peek===ta?(this._advance(),e=this._input.substring(t,this._index-1),n=this._index):n=t,this._requireCharCodeUntilFn(J,this._index===n?1:0);var r=this._input.substring(n,this._index);return[e,r]},t.prototype._consumeTagOpen=function(t){var e,n,r=this._savePosition();try{if(!T(this._peek))throw this._createError(Y(this._peek),this._getSpan());var i=this._index;for(this._consumeTagOpenStart(t),e=this._input.substring(i,this._index),n=e.toLowerCase(),this._attemptCharCodeUntilFn(Z);this._peek!==Js&&this._peek!==ia;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(Z),this._attemptCharCode(ra)&&(this._attemptCharCodeUntilFn(Z),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(Z);this._consumeTagOpenEnd()}catch(e){if(e instanceof Hu)return this._restorePosition(r),this._beginToken(ju.TEXT,t),void this._endToken(["<"]);throw e}var o=this._getTagDefinition(e).contentType;o===Go.RAW_TEXT?this._consumeRawTextWithTagClose(n,!1):o===Go.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,!0)},t.prototype._consumeRawTextWithTagClose=function(t,e){var n=this,r=this._consumeRawText(e,na,function(){return!!n._attemptCharCode(Js)&&(n._attemptCharCodeUntilFn(Z),!!n._attemptStrCaseInsensitive(t)&&(n._attemptCharCodeUntilFn(Z),n._attemptCharCode(ia)))});this._beginToken(ju.TAG_CLOSE,r.sourceSpan.end),this._endToken([null,t])},t.prototype._consumeTagOpenStart=function(t){this._beginToken(ju.TAG_OPEN_START,t);var e=this._consumePrefixAndName();this._endToken(e)},t.prototype._consumeAttributeName=function(){this._beginToken(ju.ATTR_NAME);var t=this._consumePrefixAndName();this._endToken(t)},t.prototype._consumeAttributeValue=function(){this._beginToken(ju.ATTR_VALUE);var t;if(this._peek===Ws||this._peek===Us){var e=this._peek;this._advance();for(var n=[];this._peek!==e;)n.push(this._readChar(!0));t=n.join(""),this._advance()}else{var r=this._index;this._requireCharCodeUntilFn(J,1),
t=this._input.substring(r,this._index)}this._endToken([this._processCarriageReturns(t)])},t.prototype._consumeTagOpenEnd=function(){var t=this._attemptCharCode(Js)?ju.TAG_OPEN_END_VOID:ju.TAG_OPEN_END;this._beginToken(t),this._requireCharCode(ia),this._endToken([])},t.prototype._consumeTagClose=function(t){this._beginToken(ju.TAG_CLOSE,t),this._attemptCharCodeUntilFn(Z);var e=this._consumePrefixAndName();this._attemptCharCodeUntilFn(Z),this._requireCharCode(ia),this._endToken(e)},t.prototype._consumeExpansionFormStart=function(){this._beginToken(ju.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(Ta),this._endToken([]),this._expansionCaseStack.push(ju.EXPANSION_FORM_START),this._beginToken(ju.RAW_TEXT,this._getLocation());var t=this._readUntil(Ys);this._endToken([t],this._getLocation()),this._requireCharCode(Ys),this._attemptCharCodeUntilFn(Z),this._beginToken(ju.RAW_TEXT,this._getLocation());var e=this._readUntil(Ys);this._endToken([e],this._getLocation()),this._requireCharCode(Ys),this._attemptCharCodeUntilFn(Z)},t.prototype._consumeExpansionCaseStart=function(){this._beginToken(ju.EXPANSION_CASE_VALUE,this._getLocation());var t=this._readUntil(Ta).trim();this._endToken([t],this._getLocation()),this._attemptCharCodeUntilFn(Z),this._beginToken(ju.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(Ta),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(Z),this._expansionCaseStack.push(ju.EXPANSION_CASE_EXP_START)},t.prototype._consumeExpansionCaseEnd=function(){this._beginToken(ju.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(Ma),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(Z),this._expansionCaseStack.pop()},t.prototype._consumeExpansionFormEnd=function(){this._beginToken(ju.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(Ma),this._endToken([]),this._expansionCaseStack.pop()},t.prototype._consumeText=function(){var t=this._getLocation();this._beginToken(ju.TEXT,t);var e=[];do this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(e.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(e.push(this._interpolationConfig.end),this._inInterpolation=!1):e.push(this._readChar(!0));while(!this._isTextEnd());this._endToken([this._processCarriageReturns(e.join(""))])},t.prototype._isTextEnd=function(){if(this._peek===na||this._peek===Rs)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(rt(this._input,this._index,this._interpolationConfig))return!0;if(this._peek===Ma&&this._isInExpansionCase())return!0}return!1},t.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},t.prototype._readUntil=function(t){var e=this._index;return this._attemptUntilChar(t),this._input.substring(e,this._index)},t.prototype._restorePosition=function(t){this._peek=t[0],this._index=t[1],this._column=t[2],this._line=t[3];var e=t[4];e<this.tokens.length&&(this.tokens=this.tokens.slice(0,e))},t.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===ju.EXPANSION_CASE_EXP_START},t.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===ju.EXPANSION_FORM_START},t}(),qu=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},zu=function(t){function e(e,n,r){t.call(this,n,r),this.elementName=e}return qu(e,t),e.create=function(t,n,r){return new e(t,n,r)},e}(Tu),Wu=function(){function t(t,e){this.rootNodes=t,this.errors=e}return t}(),Gu=function(){function t(t){this.getTagDefinition=t}return t.prototype.parse=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=Da);var i=Q(t,e,this.getTagDefinition,n,r),o=new Xu(i.tokens,this.getTagDefinition).build();return new Wu(o.rootNodes,i.errors.concat(o.errors))},t}(),Xu=function(){function t(t,e){this.tokens=t,this.getTagDefinition=e,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return t.prototype.build=function(){for(;this._peek.type!==ju.EOF;)this._peek.type===ju.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===ju.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===ju.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===ju.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===ju.TEXT||this._peek.type===ju.RAW_TEXT||this._peek.type===ju.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===ju.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new Wu(this._rootNodes,this._errors)},t.prototype._advance=function(){var t=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],t},t.prototype._advanceIf=function(t){return this._peek.type===t?this._advance():null},t.prototype._consumeCdata=function(t){this._consumeText(this._advance()),this._advanceIf(ju.CDATA_END)},t.prototype._consumeComment=function(t){var e=this._advanceIf(ju.RAW_TEXT);this._advanceIf(ju.COMMENT_END);var n=r(e)?e.parts[0].trim():null;this._addToParent(new Nu(n,t.sourceSpan))},t.prototype._consumeExpansion=function(t){for(var e=this._advance(),n=this._advance(),r=[];this._peek.type===ju.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(!i)return;r.push(i)}if(this._peek.type!==ju.EXPANSION_FORM_END)return void this._errors.push(zu.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));var o=new Pu(t.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new Mu(e.parts[0],n.parts[0],r,o,e.sourceSpan)),this._advance()},t.prototype._parseExpansionCase=function(){var e=this._advance();if(this._peek.type!==ju.EXPANSION_CASE_EXP_START)return this._errors.push(zu.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;var i=this._advance();r.push(new Vu(ju.EOF,[],i.sourceSpan));var o=new t(r,this.getTagDefinition).build();if(o.errors.length>0)return this._errors=this._errors.concat(o.errors),null;var s=new Pu(e.sourceSpan.start,i.sourceSpan.end),a=new Pu(n.sourceSpan.start,i.sourceSpan.end);return new ku(e.parts[0],o.rootNodes,s,e.sourceSpan,a)},t.prototype._collectExpansionExpTokens=function(t){for(var e=[],n=[ju.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==ju.EXPANSION_FORM_START&&this._peek.type!==ju.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===ju.EXPANSION_CASE_EXP_END){if(!ut(n,ju.EXPANSION_CASE_EXP_START))return this._errors.push(zu.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return e}if(this._peek.type===ju.EXPANSION_FORM_END){if(!ut(n,ju.EXPANSION_FORM_START))return this._errors.push(zu.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===ju.EOF)return this._errors.push(zu.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;e.push(this._advance())}},t.prototype._consumeText=function(t){var e=t.parts[0];if(e.length>0&&"\n"==e[0]){var n=this._getParentElement();r(n)&&0==n.children.length&&this.getTagDefinition(n.name).ignoreFirstLf&&(e=e.substring(1))}e.length>0&&this._addToParent(new Au(e,t.sourceSpan))},t.prototype._closeVoidElement=function(){if(this._elementStack.length>0){var t=this._elementStack[this._elementStack.length-1];this.getTagDefinition(t.name).isVoid&&this._elementStack.pop()}},t.prototype._consumeStartTag=function(t){for(var e=t.parts[0],n=t.parts[1],r=[];this._peek.type===ju.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));var i=this._getElementFullName(e,n,this._getParentElement()),o=!1;if(this._peek.type===ju.TAG_OPEN_END_VOID){this._advance(),o=!0;var s=this.getTagDefinition(i);s.canSelfClose||null!==p(i)||s.isVoid||this._errors.push(zu.create(i,t.sourceSpan,'Only void and foreign elements can be self closed "'+t.parts[1]+'"'))}else this._peek.type===ju.TAG_OPEN_END&&(this._advance(),o=!1);var a=this._peek.sourceSpan.start,u=new Pu(t.sourceSpan.start,a),c=new Iu(i,r,[],u,u,null);this._pushElement(c),o&&(this._popElement(i),c.endSourceSpan=u)},t.prototype._pushElement=function(t){if(this._elementStack.length>0){var e=this._elementStack[this._elementStack.length-1];this.getTagDefinition(e.name).isClosedByChild(t.name)&&this._elementStack.pop()}var n=this.getTagDefinition(t.name),r=this._getParentElementSkippingContainers(),i=r.parent,o=r.container;if(i&&n.requireExtraParent(i.name)){var s=new Iu(n.parentToAdd,[],[],t.sourceSpan,t.startSourceSpan,t.endSourceSpan);this._insertBeforeContainer(i,o,s)}this._addToParent(t),this._elementStack.push(t)},t.prototype._consumeEndTag=function(t){var e=this._getElementFullName(t.parts[0],t.parts[1],this._getParentElement());this._getParentElement()&&(this._getParentElement().endSourceSpan=t.sourceSpan),this.getTagDefinition(e).isVoid?this._errors.push(zu.create(e,t.sourceSpan,'Void elements do not have end tags "'+t.parts[1]+'"')):this._popElement(e)||this._errors.push(zu.create(e,t.sourceSpan,'Unexpected closing tag "'+t.parts[1]+'"'))},t.prototype._popElement=function(t){for(var e=this._elementStack.length-1;e>=0;e--){var n=this._elementStack[e];if(n.name==t)return this._elementStack.splice(e,this._elementStack.length-e),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1},t.prototype._consumeAttr=function(t){var e,n=h(t.parts[0],t.parts[1]),r=t.sourceSpan.end,i="";if(this._peek.type===ju.ATTR_VALUE){var o=this._advance();i=o.parts[0],r=o.sourceSpan.end,e=o.sourceSpan}return new Ru(n,i,new Pu(t.sourceSpan.start,r),e)},t.prototype._getParentElement=function(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null},t.prototype._getParentElementSkippingContainers=function(){for(var t=null,e=this._elementStack.length-1;e>=0;e--){if("ng-container"!==this._elementStack[e].name)return{parent:this._elementStack[e],container:t};t=this._elementStack[e]}return{parent:this._elementStack[this._elementStack.length-1],container:t}},t.prototype._addToParent=function(t){var e=this._getParentElement();r(e)?e.children.push(t):this._rootNodes.push(t)},t.prototype._insertBeforeContainer=function(t,e,n){if(e){if(t){var r=t.children.indexOf(e);t.children[r]=n}else this._rootNodes.push(n);n.children.push(e),this._elementStack.splice(this._elementStack.indexOf(e),0,n)}else this._addToParent(n),this._elementStack.push(n)},t.prototype._getElementFullName=function(t,e,n){return i(t)&&(t=this.getTagDefinition(e).implicitNamespacePrefix,i(t)&&r(n)&&(t=p(n.name))),h(t,e)},t}(),$u=function(){function t(t,e,n,r,i){this.nodes=t,this.placeholders=e,this.placeholderToMessage=n,this.meaning=r,this.description=i}return t}(),Qu=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),Yu=function(){function t(t,e){this.children=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitContainer(this,e)},t}(),Ku=function(){function t(t,e,n,r){this.expression=t,this.type=e,this.cases=n,this.sourceSpan=r}return t.prototype.visit=function(t,e){return t.visitIcu(this,e)},t}(),Zu=function(){function t(t,e,n,r,i,o,s){this.tag=t,this.attrs=e,this.startName=n,this.closeName=r,this.children=i,this.isVoid=o,this.sourceSpan=s}return t.prototype.visit=function(t,e){return t.visitTagPlaceholder(this,e)},t}(),Ju=function(){function t(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitPlaceholder(this,e)},t}(),tc=function(){function t(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitIcuPlaceholder(this,e)},t}(),ec={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},nc=function(){function t(){this._placeHolderNameCounts={},this._signatureToName={}}return t.prototype.getStartTagPlaceholderName=function(t,e,n){var r=this._hashTag(t,e,n);if(this._signatureToName[r])return this._signatureToName[r];var i=t.toUpperCase(),o=ec[i]||"TAG_"+i,s=this._generateUniqueName(n?o:"START_"+o);return this._signatureToName[r]=s,s},t.prototype.getCloseTagPlaceholderName=function(t){var e=this._hashClosingTag(t);if(this._signatureToName[e])return this._signatureToName[e];var n=t.toUpperCase(),r=ec[n]||"TAG_"+n,i=this._generateUniqueName("CLOSE_"+r);return this._signatureToName[e]=i,i},t.prototype.getPlaceholderName=function(t,e){var n=t.toUpperCase(),r="PH: "+n+"="+e;if(this._signatureToName[r])return this._signatureToName[r];var i=this._generateUniqueName(n);return this._signatureToName[r]=i,i},t.prototype.getUniquePlaceholder=function(t){return this._generateUniqueName(t.toUpperCase())},t.prototype._hashTag=function(t,e,n){var r="<"+t,i=Object.keys(e).sort().map(function(t){return" "+t+"="+e[t]}).join(""),o=n?"/>":"></"+t+">";return r+i+o},t.prototype._hashClosingTag=function(t){return this._hashTag("/"+t,{},!1)},t.prototype._generateUniqueName=function(t){var e=this._placeHolderNameCounts.hasOwnProperty(t);if(!e)return this._placeHolderNameCounts[t]=1,t;var n=this._placeHolderNameCounts[t];return this._placeHolderNameCounts[t]=n+1,t+"_"+n},t}(),rc=new wu(new fu),ic=function(){function t(t,e){this._expressionParser=t,this._interpolationConfig=e}return t.prototype.toI18nMessage=function(t,e,n){this._isIcu=1==t.length&&t[0]instanceof Mu,this._icuDepth=0,this._placeholderRegistry=new nc,this._placeholderToContent={},this._placeholderToMessage={};var r=$(this,t,{});return new $u(r,this._placeholderToContent,this._placeholderToMessage,e,n)},t.prototype.visitElement=function(t,e){var n=$(this,t.children),r={};t.attrs.forEach(function(t){r[t.name]=t.value});var i=f(t.name).isVoid,o=this._placeholderRegistry.getStartTagPlaceholderName(t.name,r,i);this._placeholderToContent[o]=t.sourceSpan.toString();var s="";return i||(s=this._placeholderRegistry.getCloseTagPlaceholderName(t.name),this._placeholderToContent[s]="</"+t.name+">"),new Zu(t.name,r,o,s,n,i,t.sourceSpan)},t.prototype.visitAttribute=function(t,e){return this._visitTextWithInterpolation(t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){return this._visitTextWithInterpolation(t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitExpansion=function(e,n){var r=this;this._icuDepth++;var i={},o=new Ku(e.switchValue,e.type,i,e.sourceSpan);if(e.cases.forEach(function(t){i[t.value]=new Yu(t.expression.map(function(t){return t.visit(r,{})}),t.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0){var s=this._placeholderRegistry.getUniquePlaceholder("VAR_"+e.type);return o.expressionPlaceholder=s,this._placeholderToContent[s]=e.switchValue,o}var a=this._placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString()),u=new t(this._expressionParser,this._interpolationConfig);return this._placeholderToMessage[a]=u.toI18nMessage([e],"",""),new tc(o,a,e.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){throw new Error("Unreachable code")},t.prototype._visitTextWithInterpolation=function(t,e){var n=this._expressionParser.splitInterpolation(t,e.start.toString(),this._interpolationConfig);if(!n)return new Qu(t,e);for(var r=[],i=new Yu(r,e),o=this._interpolationConfig,s=o.start,a=o.end,u=0;u<n.strings.length-1;u++){var c=n.expressions[u],l=lt(c)||"INTERPOLATION",p=this._placeholderRegistry.getPlaceholderName(l,c);n.strings[u].length&&r.push(new Qu(n.strings[u],e)),r.push(new Ju(c,p,e)),this._placeholderToContent[p]=s+c+a}var h=n.strings.length-1;return n.strings[h].length&&r.push(new Qu(n.strings[h],e)),i},t}(),oc=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*"([\s\S]*?)"[\s\S]*\)/g,sc=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ac=function(t){function e(e,n){t.call(this,e,n)}return sc(e,t),e}(Tu),uc="i18n",cc="i18n-",lc=/^i18n:?/,pc=function(){function t(t,e){this.messages=t,this.errors=e}return t}(),hc={};hc.Extract=0,hc.Merge=1,hc[hc.Extract]="Extract",hc[hc.Merge]="Merge";var fc=function(){function t(t,e){this._implicitTags=t,this._implicitAttrs=e}return t.prototype.extract=function(t,e){var n=this;return this._init(hc.Extract,e),t.forEach(function(t){return t.visit(n,null)}),this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new pc(this._messages,this._errors)},t.prototype.merge=function(t,e,n){this._init(hc.Merge,n),this._translations=e;var r=new Iu("wrapper",[],t,null,null,null),i=r.visit(this,null);return this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new Wu(i.children,this._errors)},t.prototype.visitExpansionCase=function(t,e){var n=$(this,t.expression,e);if(this._mode===hc.Merge)return new ku(t.value,n,t.sourceSpan,t.valueSourceSpan,t.expSourceSpan)},t.prototype.visitExpansion=function(t,e){this._mayBeAddBlockChildren(t);var n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([t]),this._inIcu=!0);var r=$(this,t.cases,e);return this._mode===hc.Merge&&(t=new Mu(t.switchValue,t.type,r,t.sourceSpan,t.switchValueSourceSpan)),this._inIcu=n,t},t.prototype.visitComment=function(t,e){var n=ft(t);if(n&&this._isInTranslatableSection)return void this._reportError(t,"Could not start a block inside a translatable section");var r=dt(t);if(r&&!this._inI18nBlock)return void this._reportError(t,"Trying to close an unopened block");if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(r){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(t,this._blockChildren),this._inI18nBlock=!1;var i=this._addMessage(this._blockChildren,this._blockMeaningAndDesc),o=this._translateMessage(t,i);return $(this,o)}return void this._reportError(t,"I18N blocks should not cross element boundaries")}}else n&&(this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=t.value.replace(lc,"").trim(),this._openTranslatableSection(t))},t.prototype.visitText=function(t,e){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(t),t},t.prototype.visitElement=function(t,e){var n=this;this._mayBeAddBlockChildren(t),this._depth++;var r,i=this._inI18nNode,o=this._inImplicitNode,s=[],a=yt(t),u=a?a.value:"",c=this._implicitTags.some(function(e){return t.name===e})&&!this._inIcu&&!this._isInTranslatableSection,l=!o&&c;if(this._inImplicitNode=o||c,this._isInTranslatableSection||this._inIcu)(a||l)&&this._reportError(t,"Could not mark an element as translatable inside a translatable section"),this._mode==hc.Extract&&$(this,t.children);else{if(a||l){this._inI18nNode=!0;var p=this._addMessage(t.children,u);r=this._translateMessage(t,p)}if(this._mode==hc.Extract){var h=a||l;h&&this._openTranslatableSection(t),$(this,t.children),h&&this._closeTranslatableSection(t,t.children)}}if(this._mode===hc.Merge){var f=r||t.children;f.forEach(function(t){var r=t.visit(n,e);r&&!n._isInTranslatableSection&&(s=s.concat(r))})}if(this._visitAttributesOf(t),this._depth--,this._inI18nNode=i,this._inImplicitNode=o,this._mode===hc.Merge){var d=this._translateAttributes(t);return new Iu(t.name,d,s,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}},t.prototype.visitAttribute=function(t,e){throw new Error("unreachable code")},t.prototype._init=function(t,e){this._mode=t,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=ct(e)},t.prototype._visitAttributesOf=function(t){var e=this,n={},r=this._implicitAttrs[t.name]||[];t.attrs.filter(function(t){return t.name.startsWith(cc)}).forEach(function(t){return n[t.name.slice(cc.length)]=t.value}),t.attrs.forEach(function(t){t.name in n?e._addMessage([t],n[t.name]):r.some(function(e){return t.name===e})&&e._addMessage([t])})},t.prototype._addMessage=function(t,e){if(!(0==t.length||1==t.length&&t[0]instanceof Ru&&!t[0].value)){var n=mt(e),r=n[0],i=n[1],o=this._createI18nMessage(t,r,i);return this._messages.push(o),o}},t.prototype._translateMessage=function(t,e){if(e&&this._mode===hc.Merge){var n=this._translations.get(e);if(n)return n;this._reportError(t,'Translation unavailable for message id="'+this._translations.digest(e)+'"')}return[]},t.prototype._translateAttributes=function(t){var e=this,n=t.attrs,r={};n.forEach(function(t){t.name.startsWith(cc)&&(r[t.name.slice(cc.length)]=mt(t.value)[0])});var i=[];return n.forEach(function(n){if(n.name!==uc&&!n.name.startsWith(cc))if(n.value&&""!=n.value&&r.hasOwnProperty(n.name)){var o=r[n.name],s=e._createI18nMessage([n],o,""),a=e._translations.get(s);if(a)if(0==a.length)i.push(new Ru(n.name,"",n.sourceSpan));else if(a[0]instanceof Au){var u=a[0].value;i.push(new Ru(n.name,u,n.sourceSpan))}else e._reportError(t,'Unexpected translation for attribute "'+n.name+'" (id="'+e._translations.digest(s)+'")');else e._reportError(t,'Translation unavailable for attribute "'+n.name+'" (id="'+e._translations.digest(s)+'")')}else i.push(n)}),i},t.prototype._mayBeAddBlockChildren=function(t){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(t)},t.prototype._openTranslatableSection=function(t){this._isInTranslatableSection?this._reportError(t,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(t.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),t.prototype._closeTranslatableSection=function(t,e){if(!this._isInTranslatableSection)return void this._reportError(t,"Unexpected section end");var n=this._msgCountAtSectionStart,r=e.reduce(function(t,e){return t+(e instanceof Nu?0:1)},0);if(1==r)for(var i=this._messages.length-1;i>=n;i--){var o=this._messages[i].nodes;if(!(1==o.length&&o[0]instanceof Qu)){this._messages.splice(i,1);break}}this._msgCountAtSectionStart=void 0},t.prototype._reportError=function(t,e){this._errors.push(new ac(t.sourceSpan,e))},t}(),dc=function(){function t(){this.closedByParent=!1,this.contentType=Go.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return t.prototype.requireExtraParent=function(t){return!1},t.prototype.isClosedByChild=function(t){return!1},t}(),yc=new dc,mc=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},vc=function(t){function e(){t.call(this,vt)}return mc(e,t),e.prototype.parse=function(e,n,r){return void 0===r&&(r=!1),t.prototype.parse.call(this,e,n,r,null)},e}(Gu),gc=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},_c=function(){function t(){}return t.prototype.visitText=function(t,e){return t.value},t.prototype.visitContainer=function(t,e){var n=this;return"["+t.children.map(function(t){return t.visit(n)}).join(", ")+"]"},t.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.expression+", "+t.type+", "+r.join(", ")+"}"},t.prototype.visitTagPlaceholder=function(t,e){var n=this;return t.isVoid?'<ph tag name="'+t.startName+'"/>':'<ph tag name="'+t.startName+'">'+t.children.map(function(t){return t.visit(n)}).join(", ")+'</ph name="'+t.closeName+'">'},t.prototype.visitPlaceholder=function(t,e){return t.value?'<ph name="'+t.name+'">'+t.value+"</ph>":'<ph name="'+t.name+'"/>'},t.prototype.visitIcuPlaceholder=function(t,e){return'<ph icu name="'+t.name+'">'+t.value.visit(this)+"</ph>"},t}(),bc=new _c,wc=function(t){function e(){t.apply(this,arguments)}return gc(e,t),e.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.type+", "+r.join(", ")+"}"},e}(_c),Cc={};Cc.Little=0,Cc.Big=1,Cc[Cc.Little]="Little",Cc[Cc.Big]="Big";var Ec=function(){function t(){}return t.prototype.write=function(t){},t.prototype.load=function(t,e){},t.prototype.digest=function(t){},t.prototype.createNameMapper=function(t){return null},t}(),Sc=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},xc=function(){function t(){}return t.prototype.visitTag=function(t){var e=this,n=this._serializeAttributes(t.attrs);if(0==t.children.length)return"<"+t.name+n+"/>";var r=t.children.map(function(t){return t.visit(e)});return"<"+t.name+n+">"+r.join("")+"</"+t.name+">"},t.prototype.visitText=function(t){return t.value},t.prototype.visitDeclaration=function(t){return"<?xml"+this._serializeAttributes(t.attrs)+" ?>"},t.prototype._serializeAttributes=function(t){var e=Object.keys(t).map(function(e){return e+'="'+t[e]+'"'}).join(" ");return e.length>0?" "+e:""},t.prototype.visitDoctype=function(t){return"<!DOCTYPE "+t.rootTag+" [\n"+t.dtd+"\n]>"},t}(),Pc=new xc,Oc=function(){function t(t){var e=this;this.attrs={},Object.keys(t).forEach(function(n){e.attrs[n]=Wt(t[n])})}return t.prototype.visit=function(t){return t.visitDeclaration(this)},t}(),Tc=function(){function t(t,e){this.rootTag=t,this.dtd=e}return t.prototype.visit=function(t){return t.visitDoctype(this)},t}(),Ac=function(){function t(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n=[]),this.name=t,this.children=n,this.attrs={},Object.keys(e).forEach(function(t){r.attrs[t]=Wt(e[t])})}return t.prototype.visit=function(t){return t.visitTag(this)},t}(),Mc=function(){function t(t){this.value=Wt(t)}return t.prototype.visit=function(t){return t.visitText(this)},t}(),kc=function(t){function e(e){void 0===e&&(e=0),t.call(this,"\n"+new Array(e+1).join(" "))}return Sc(e,t),e}(Mc),Rc=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]],Ic=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Nc="1.2",Dc="urn:oasis:names:tc:xliff:document:1.2",jc="en",Vc="x",Lc="source",Fc="target",Uc="trans-unit",Hc=function(t){function e(){t.apply(this,arguments)}return Ic(e,t),e.prototype.write=function(t){var e=this,n=new Bc,r={},i=[];t.forEach(function(t){var o=e.digest(t);if(!r[o]){r[o]=!0;var s=new Ac(Uc,{id:o,datatype:"html"});s.children.push(new kc(8),new Ac(Lc,{},n.serialize(t.nodes)),new kc(8),new Ac(Fc)),t.description&&s.children.push(new kc(8),new Ac("note",{priority:"1",from:"description"},[new Mc(t.description)])),t.meaning&&s.children.push(new kc(8),new Ac("note",{priority:"1",from:"meaning"},[new Mc(t.meaning)])),s.children.push(new kc(6)),i.push(new kc(6),s)}});var o=new Ac("body",{},i.concat([new kc(4)])),s=new Ac("file",{"source-language":jc,datatype:"plaintext",original:"ng2.template"},[new kc(4),o,new kc(2)]),a=new Ac("xliff",{version:Nc,xmlns:Dc},[new kc(2),s,new kc]);return zt([new Oc({version:"1.0",encoding:"UTF-8"}),new kc,a,new kc])},e.prototype.load=function(t,e){var n=new qc,r=n.parse(t,e),i=r.mlNodesByMsgId,o=r.errors,s={},a=new zc;if(Object.keys(i).forEach(function(t){var e=a.convert(i[t]),n=e.i18nNodes,r=e.errors;o.push.apply(o,r),s[t]=n}),o.length)throw new Error("xliff parse errors:\n"+o.join("\n"));return s},e.prototype.digest=function(t){return gt(t)},e}(Ec),Bc=function(){function t(){}return t.prototype.visitText=function(t,e){return[new Mc(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,r=[];return t.children.forEach(function(t){return r.push.apply(r,t.visit(n))}),r},t.prototype.visitIcu=function(t,e){if(this._isInIcu)throw new Error("xliff does not support nested ICU messages");this._isInIcu=!0;var n=[];return this._isInIcu=!1,n},t.prototype.visitTagPlaceholder=function(t,e){var n=Gt(t.tag),r=new Ac(Vc,{id:t.startName,ctype:n});if(t.isVoid)return[r];var i=new Ac(Vc,{id:t.closeName,ctype:n});return[r].concat(this.serialize(t.children),[i])},t.prototype.visitPlaceholder=function(t,e){return[new Ac(Vc,{id:t.name})]},t.prototype.visitIcuPlaceholder=function(t,e){return[new Ac(Vc,{id:t.name})]},t.prototype.serialize=function(t){var e=this;return this._isInIcu=!1,(n=[]).concat.apply(n,t.map(function(t){return t.visit(e)}));var n},t}(),qc=function(){function t(){}return t.prototype.parse=function(t,e){this._unitMlNodes=[],this._mlNodesByMsgId={};var n=(new vc).parse(t,e,!1);return this._errors=n.errors,$(this,n.rootNodes,null),{mlNodesByMsgId:this._mlNodesByMsgId,errors:this._errors}},t.prototype.visitElement=function(t,e){switch(t.name){case Uc:this._unitMlNodes=null;var n=t.attrs.find(function(t){return"id"===t.name});if(n){var r=n.value;this._mlNodesByMsgId.hasOwnProperty(r)?this._addError(t,"Duplicated translations for msg "+r):($(this,t.children,null),this._unitMlNodes?this._mlNodesByMsgId[r]=this._unitMlNodes:this._addError(t,"Message "+r+" misses a translation"))}else this._addError(t,"<"+Uc+'> misses the "id" attribute');break;case Lc:break;case Fc:this._unitMlNodes=t.children;break;default:$(this,t.children,null)}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new ac(t.sourceSpan,e))},t}(),zc=function(){function t(){}return t.prototype.convert=function(t){return this._errors=[],{i18nNodes:$(this,t),errors:this._errors}},t.prototype.visitText=function(t,e){return new Qu(t.value,t.sourceSpan)},t.prototype.visitElement=function(t,e){if(t.name===Vc){var n=t.attrs.find(function(t){return"id"===t.name});if(n)return new Ju("",n.value,t.sourceSpan);this._addError(t,"<"+Vc+'> misses the "id" attribute')}else this._addError(t,"Unexpected tag")},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new ac(t.sourceSpan,e))},t}(),Wc=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Gc="messagebundle",Xc="msg",$c="ph",Qc="ex",Yc='<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>',Kc=function(t){function e(){t.apply(this,arguments)}return Wc(e,t),e.prototype.write=function(t){var e=this,n=new Jc,r=new Zc,i={},o=new Ac(Gc);return t.forEach(function(t){var n=e.digest(t);
if(!i[n]){i[n]=!0;var s=e.createNameMapper(t),a={id:n};t.description&&(a.desc=t.description),t.meaning&&(a.meaning=t.meaning),o.children.push(new kc(2),new Ac(Xc,a,r.serialize(t.nodes,{mapper:s})))}}),o.children.push(new kc),zt([new Oc({version:"1.0",encoding:"UTF-8"}),new kc,new Tc(Gc,Yc),new kc,n.addDefaultExamples(o),new kc])},e.prototype.load=function(t,e){throw new Error("Unsupported")},e.prototype.digest=function(t){return Xt(t)},e.prototype.createNameMapper=function(t){return new tl(t)},e}(Ec),Zc=function(){function t(){}return t.prototype.visitText=function(t,e){return[new Mc(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,r=[];return t.children.forEach(function(t){return r.push.apply(r,t.visit(n,e))}),r},t.prototype.visitIcu=function(t,e){var n=this,r=[new Mc("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(i){r.push.apply(r,[new Mc(i+" {")].concat(t.cases[i].visit(n,e),[new Mc("} ")]))}),r.push(new Mc("}")),r},t.prototype.visitTagPlaceholder=function(t,e){var n=new Ac(Qc,{},[new Mc("<"+t.tag+">")]),r=e.mapper.toPublicName(t.startName),i=new Ac($c,{name:r},[n]);if(t.isVoid)return[i];var o=new Ac(Qc,{},[new Mc("</"+t.tag+">")]);r=e.mapper.toPublicName(t.closeName);var s=new Ac($c,{name:r},[o]);return[i].concat(this.serialize(t.children,e),[s])},t.prototype.visitPlaceholder=function(t,e){var n=e.mapper.toPublicName(t.name);return[new Ac($c,{name:n})]},t.prototype.visitIcuPlaceholder=function(t,e){var n=e.mapper.toPublicName(t.name);return[new Ac($c,{name:n})]},t.prototype.serialize=function(t,e){var n=this;return(r=[]).concat.apply(r,t.map(function(t){return t.visit(n,e)}));var r},t}(),Jc=function(){function t(){}return t.prototype.addDefaultExamples=function(t){return t.visit(this),t},t.prototype.visitTag=function(t){var e=this;if(t.name===$c){if(!t.children||0==t.children.length){var n=new Mc(t.attrs.name||"...");t.children=[new Ac(Qc,{},[n])]}}else t.children&&t.children.forEach(function(t){return t.visit(e)})},t.prototype.visitText=function(t){},t.prototype.visitDeclaration=function(t){},t.prototype.visitDoctype=function(t){},t}(),tl=function(){function t(t){var e=this;this.internalToXmb={},this.xmbToNextId={},this.xmbToInternal={},t.nodes.forEach(function(t){return t.visit(e)})}return t.prototype.toPublicName=function(t){return this.internalToXmb.hasOwnProperty(t)?this.internalToXmb[t]:null},t.prototype.toInternalName=function(t){return this.xmbToInternal.hasOwnProperty(t)?this.xmbToInternal[t]:null},t.prototype.visitText=function(t,e){return null},t.prototype.visitContainer=function(t,e){var n=this;t.children.forEach(function(t){return t.visit(n)})},t.prototype.visitIcu=function(t,e){var n=this;Object.keys(t.cases).forEach(function(e){t.cases[e].visit(n)})},t.prototype.visitTagPlaceholder=function(t,e){var n=this;this.addPlaceholder(t.startName),t.children.forEach(function(t){return t.visit(n)}),this.addPlaceholder(t.closeName)},t.prototype.visitPlaceholder=function(t,e){this.addPlaceholder(t.name)},t.prototype.visitIcuPlaceholder=function(t,e){this.addPlaceholder(t.name)},t.prototype.addPlaceholder=function(t){if(t&&!this.internalToXmb.hasOwnProperty(t)){var e=t.toUpperCase().replace(/[^A-Z0-9_]/g,"_");if(this.xmbToInternal.hasOwnProperty(e)){var n=this.xmbToNextId[e];this.xmbToNextId[e]=n+1,e=e+"_"+n}else this.xmbToNextId[e]=1;this.internalToXmb[t]=e,this.xmbToInternal[e]=t}},t}(),el=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},nl="translationbundle",rl="translation",il="ph",ol=function(t){function e(){t.apply(this,arguments)}return el(e,t),e.prototype.write=function(t){throw new Error("Unsupported")},e.prototype.load=function(t,e){var n=new sl,r=n.parse(t,e),i=r.mlNodesByMsgId,o=r.errors,s={},a=new al;if(Object.keys(i).forEach(function(t){var e=a.convert(i[t]),n=e.i18nNodes,r=e.errors;o.push.apply(o,r),s[t]=n}),o.length)throw new Error("xtb parse errors:\n"+o.join("\n"));return s},e.prototype.digest=function(t){return Xt(t)},e.prototype.createNameMapper=function(t){return new tl(t)},e}(Ec),sl=function(){function t(){}return t.prototype.parse=function(t,e){this._bundleDepth=0,this._mlNodesByMsgId={};var n=(new vc).parse(t,e,!0);return this._errors=n.errors,$(this,n.rootNodes),{mlNodesByMsgId:this._mlNodesByMsgId,errors:this._errors}},t.prototype.visitElement=function(t,e){switch(t.name){case nl:this._bundleDepth++,this._bundleDepth>1&&this._addError(t,"<"+nl+"> elements can not be nested"),$(this,t.children,null),this._bundleDepth--;break;case rl:var n=t.attrs.find(function(t){return"id"===t.name});if(n){var r=n.value;this._mlNodesByMsgId.hasOwnProperty(r)?this._addError(t,"Duplicated translations for msg "+r):this._mlNodesByMsgId[r]=t.children}else this._addError(t,"<"+rl+'> misses the "id" attribute');break;default:this._addError(t,"Unexpected tag")}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new ac(t.sourceSpan,e))},t}(),al=function(){function t(){}return t.prototype.convert=function(t){return this._errors=[],{i18nNodes:$(this,t),errors:this._errors}},t.prototype.visitText=function(t,e){return new Qu(t.value,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){var n={};return $(this,t.cases).forEach(function(e){n[e.value]=new Yu(e.nodes,t.sourceSpan)}),new Ku(t.switchValue,t.type,n,t.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){return{value:t.value,nodes:$(this,t.expression)}},t.prototype.visitElement=function(t,e){if(t.name===il){var n=t.attrs.find(function(t){return"name"===t.name});if(n)return new Ju("",n.value,t.sourceSpan);this._addError(t,"<"+il+'> misses the "name" attribute')}else this._addError(t,"Unexpected tag")},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new ac(t.sourceSpan,e))},t}(),ul=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},cl=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ll=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pl=function(t){function e(){t.call(this,f)}return ul(e,t),e.prototype.parse=function(e,n,r,i){return void 0===r&&(r=!1),void 0===i&&(i=Da),t.prototype.parse.call(this,e,n,r,i)},e=cl([M(),ll("design:paramtypes",[])],e)}(Gu),hl=function(){function t(t,e,n){void 0===t&&(t={}),this._i18nNodesByMsgId=t,this.digest=e,this.mapperFactory=n,this._i18nToHtml=new fl(t,e,n)}return t.load=function(e,n,r){var i=r.load(e,n),o=function(t){return r.digest(t)},s=function(t){return r.createNameMapper(t)};return new t(i,o,s)},t.prototype.get=function(t){var e=this._i18nToHtml.convert(t);if(e.errors.length)throw new Error(e.errors.join("\n"));return e.nodes},t.prototype.has=function(t){return this.digest(t)in this._i18nNodesByMsgId},t}(),fl=function(){function t(t,e,n){void 0===t&&(t={}),this._i18nNodesByMsgId=t,this._digest=e,this._mapperFactory=n,this._contextStack=[],this._errors=[]}return t.prototype.convert=function(t){this._contextStack.length=0,this._errors.length=0;var e=this._convertToText(t),n=t.nodes[0].sourceSpan.start.file.url,r=(new pl).parse(e,n,!0);return{nodes:r.rootNodes,errors:this._errors.concat(r.errors)}},t.prototype.visitText=function(t,e){return t.value},t.prototype.visitContainer=function(t,e){var n=this;return t.children.map(function(t){return t.visit(n)}).join("")},t.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"}),i=this._srcMsg.placeholders.hasOwnProperty(t.expression)?this._srcMsg.placeholders[t.expression]:t.expression;return"{"+i+", "+t.type+", "+r.join(" ")+"}"},t.prototype.visitPlaceholder=function(t,e){var n=this._mapper(t.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(t,"Unknown placeholder"),"")},t.prototype.visitTagPlaceholder=function(t,e){throw"unreachable code"},t.prototype.visitIcuPlaceholder=function(t,e){throw"unreachable code"},t.prototype._convertToText=function(t){var e=this,n=this._digest(t),r=this._mapperFactory?this._mapperFactory(t):null;if(this._i18nNodesByMsgId.hasOwnProperty(n)){this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=t,this._mapper=function(t){return r?r.toInternalName(t):t};var i=this._i18nNodesByMsgId[n],o=i.map(function(t){return t.visit(e)}).join(""),s=this._contextStack.pop();return this._srcMsg=s.msg,this._mapper=s.mapper,o}return this._addError(t.nodes[0],"Missing translation for message "+n),""},t.prototype._addError=function(t,e){this._errors.push(new ac(t.sourceSpan,e))},t}(),dl=function(){function t(t,e,n){this._htmlParser=t,this._translations=e,this._translationsFormat=n}return t.prototype.parse=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=Da);var i=this._htmlParser.parse(t,e,n,r);if(!this._translations||""===this._translations)return i;if(i.errors.length)return new Wu(i.rootNodes,i.errors);var o=this._createSerializer(),s=hl.load(this._translations,e,o);return ht(i.rootNodes,s,r,[],{})},t.prototype._createSerializer=function(){var t=(this._translationsFormat||"xlf").toLowerCase();switch(t){case"xmb":return new Kc;case"xtb":return new ol;case"xliff":case"xlf":default:return new Hc}},t}(),yl=$t("core","linker/view"),ml=$t("core","linker/view_utils"),vl=$t("core","change_detection/change_detection"),gl=$t("core","animation/animation_style_util"),_l=function(){function t(){}return t.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleUrl:$t("core","metadata/di"),runtime:e.ANALYZE_FOR_ENTRY_COMPONENTS},t.ViewUtils={name:"ViewUtils",moduleUrl:$t("core","linker/view_utils"),runtime:_o.ViewUtils},t.AppView={name:"AppView",moduleUrl:yl,runtime:fo},t.DebugAppView={name:"DebugAppView",moduleUrl:yl,runtime:yo},t.ViewContainer={name:"ViewContainer",moduleUrl:$t("core","linker/view_container"),runtime:lo},t.ElementRef={name:"ElementRef",moduleUrl:$t("core","linker/element_ref"),runtime:e.ElementRef},t.ViewContainerRef={name:"ViewContainerRef",moduleUrl:$t("core","linker/view_container_ref"),runtime:e.ViewContainerRef},t.ChangeDetectorRef={name:"ChangeDetectorRef",moduleUrl:$t("core","change_detection/change_detector_ref"),runtime:e.ChangeDetectorRef},t.RenderComponentType={name:"RenderComponentType",moduleUrl:$t("core","render/api"),runtime:e.RenderComponentType},t.QueryList={name:"QueryList",moduleUrl:$t("core","linker/query_list"),runtime:e.QueryList},t.TemplateRef={name:"TemplateRef",moduleUrl:$t("core","linker/template_ref"),runtime:e.TemplateRef},t.TemplateRef_={name:"TemplateRef_",moduleUrl:$t("core","linker/template_ref"),runtime:xo},t.CodegenComponentFactoryResolver={name:"CodegenComponentFactoryResolver",moduleUrl:$t("core","linker/component_factory_resolver"),runtime:po},t.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleUrl:$t("core","linker/component_factory_resolver"),runtime:e.ComponentFactoryResolver},t.ComponentFactory={name:"ComponentFactory",runtime:e.ComponentFactory,moduleUrl:$t("core","linker/component_factory")},t.ComponentRef_={name:"ComponentRef_",runtime:ho,moduleUrl:$t("core","linker/component_factory")},t.ComponentRef={name:"ComponentRef",runtime:e.ComponentRef,moduleUrl:$t("core","linker/component_factory")},t.NgModuleFactory={name:"NgModuleFactory",runtime:e.NgModuleFactory,moduleUrl:$t("core","linker/ng_module_factory")},t.NgModuleInjector={name:"NgModuleInjector",runtime:mo,moduleUrl:$t("core","linker/ng_module_factory")},t.RegisterModuleFactoryFn={name:"registerModuleFactory",runtime:vo,moduleUrl:$t("core","linker/ng_module_factory_loader")},t.ValueUnwrapper={name:"ValueUnwrapper",moduleUrl:vl,runtime:So},t.Injector={name:"Injector",moduleUrl:$t("core","di/injector"),runtime:e.Injector},t.ViewEncapsulation={name:"ViewEncapsulation",moduleUrl:$t("core","metadata/view"),runtime:e.ViewEncapsulation},t.ViewType={name:"ViewType",moduleUrl:$t("core","linker/view_type"),runtime:go},t.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleUrl:vl,runtime:e.ChangeDetectionStrategy},t.StaticNodeDebugInfo={name:"StaticNodeDebugInfo",moduleUrl:$t("core","linker/debug_context"),runtime:wo},t.DebugContext={name:"DebugContext",moduleUrl:$t("core","linker/debug_context"),runtime:bo},t.Renderer={name:"Renderer",moduleUrl:$t("core","render/api"),runtime:e.Renderer},t.SimpleChange={name:"SimpleChange",moduleUrl:vl,runtime:e.SimpleChange},t.UNINITIALIZED={name:"UNINITIALIZED",moduleUrl:vl,runtime:Eo},t.ChangeDetectorStatus={name:"ChangeDetectorStatus",moduleUrl:vl,runtime:so},t.checkBinding={name:"checkBinding",moduleUrl:ml,runtime:_o.checkBinding},t.devModeEqual={name:"devModeEqual",moduleUrl:vl,runtime:Co},t.inlineInterpolate={name:"inlineInterpolate",moduleUrl:ml,runtime:_o.inlineInterpolate},t.interpolate={name:"interpolate",moduleUrl:ml,runtime:_o.interpolate},t.castByValue={name:"castByValue",moduleUrl:ml,runtime:_o.castByValue},t.EMPTY_ARRAY={name:"EMPTY_ARRAY",moduleUrl:ml,runtime:_o.EMPTY_ARRAY},t.EMPTY_MAP={name:"EMPTY_MAP",moduleUrl:ml,runtime:_o.EMPTY_MAP},t.createRenderElement={name:"createRenderElement",moduleUrl:ml,runtime:_o.createRenderElement},t.selectOrCreateRenderHostElement={name:"selectOrCreateRenderHostElement",moduleUrl:ml,runtime:_o.selectOrCreateRenderHostElement},t.pureProxies=[null,{name:"pureProxy1",moduleUrl:ml,runtime:_o.pureProxy1},{name:"pureProxy2",moduleUrl:ml,runtime:_o.pureProxy2},{name:"pureProxy3",moduleUrl:ml,runtime:_o.pureProxy3},{name:"pureProxy4",moduleUrl:ml,runtime:_o.pureProxy4},{name:"pureProxy5",moduleUrl:ml,runtime:_o.pureProxy5},{name:"pureProxy6",moduleUrl:ml,runtime:_o.pureProxy6},{name:"pureProxy7",moduleUrl:ml,runtime:_o.pureProxy7},{name:"pureProxy8",moduleUrl:ml,runtime:_o.pureProxy8},{name:"pureProxy9",moduleUrl:ml,runtime:_o.pureProxy9},{name:"pureProxy10",moduleUrl:ml,runtime:_o.pureProxy10}],t.SecurityContext={name:"SecurityContext",moduleUrl:$t("core","security"),runtime:e.SecurityContext},t.AnimationKeyframe={name:"AnimationKeyframe",moduleUrl:$t("core","animation/animation_keyframe"),runtime:Io},t.AnimationStyles={name:"AnimationStyles",moduleUrl:$t("core","animation/animation_styles"),runtime:No},t.NoOpAnimationPlayer={name:"NoOpAnimationPlayer",moduleUrl:$t("core","animation/animation_player"),runtime:Mo},t.AnimationGroupPlayer={name:"AnimationGroupPlayer",moduleUrl:$t("core","animation/animation_group_player"),runtime:Ro},t.AnimationSequencePlayer={name:"AnimationSequencePlayer",moduleUrl:$t("core","animation/animation_sequence_player"),runtime:ko},t.prepareFinalAnimationStyles={name:"prepareFinalAnimationStyles",moduleUrl:gl,runtime:Fo},t.balanceAnimationKeyframes={name:"balanceAnimationKeyframes",moduleUrl:gl,runtime:Uo},t.clearStyles={name:"clearStyles",moduleUrl:gl,runtime:Ho},t.renderStyles={name:"renderStyles",moduleUrl:gl,runtime:qo},t.collectAndResolveStyles={name:"collectAndResolveStyles",moduleUrl:gl,runtime:Bo},t.LOCALE_ID={name:"LOCALE_ID",moduleUrl:$t("core","i18n/tokens"),runtime:e.LOCALE_ID},t.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleUrl:$t("core","i18n/tokens"),runtime:e.TRANSLATIONS_FORMAT},t.setBindingDebugInfo={name:"setBindingDebugInfo",moduleUrl:ml,runtime:_o.setBindingDebugInfo},t.setBindingDebugInfoForChanges={name:"setBindingDebugInfoForChanges",moduleUrl:ml,runtime:_o.setBindingDebugInfoForChanges},t.AnimationTransition={name:"AnimationTransition",moduleUrl:$t("core","animation/animation_transition"),runtime:Wo},t.InlineArray={name:"InlineArray",moduleUrl:ml,runtime:null},t.inlineArrays=[{name:"InlineArray2",moduleUrl:ml,runtime:_o.InlineArray2},{name:"InlineArray2",moduleUrl:ml,runtime:_o.InlineArray2},{name:"InlineArray4",moduleUrl:ml,runtime:_o.InlineArray4},{name:"InlineArray8",moduleUrl:ml,runtime:_o.InlineArray8},{name:"InlineArray16",moduleUrl:ml,runtime:_o.InlineArray16}],t.EMPTY_INLINE_ARRAY={name:"EMPTY_INLINE_ARRAY",moduleUrl:ml,runtime:_o.EMPTY_INLINE_ARRAY},t.InlineArrayDynamic={name:"InlineArrayDynamic",moduleUrl:ml,runtime:_o.InlineArrayDynamic},t.subscribeToRenderElement={name:"subscribeToRenderElement",moduleUrl:ml,runtime:_o.subscribeToRenderElement},t.createRenderComponentType={name:"createRenderComponentType",moduleUrl:ml,runtime:_o.createRenderComponentType},t.noop={name:"noop",moduleUrl:ml,runtime:_o.noop},t}(),bl=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},wl=["zero","one","two","few","many","other"],Cl=function(){function t(t,e,n){this.nodes=t,this.expanded=e,this.errors=n}return t}(),El=function(t){function e(e,n){t.call(this,e,n)}return bl(e,t),e}(Tu),Sl=function(){function t(){this.isExpanded=!1,this.errors=[]}return t.prototype.visitElement=function(t,e){return new Iu(t.name,t.attrs,$(this,t.children),t.sourceSpan,t.startSourceSpan,t.endSourceSpan)},t.prototype.visitAttribute=function(t,e){return t},t.prototype.visitText=function(t,e){return t},t.prototype.visitComment=function(t,e){return t},t.prototype.visitExpansion=function(t,e){return this.isExpanded=!0,"plural"==t.type?ee(t,this.errors):ne(t,this.errors)},t.prototype.visitExpansionCase=function(t,e){throw new Error("Should not be reached")},t}(),xl=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Pl=function(t){function e(e,n){t.call(this,n,e)}return xl(e,t),e}(Tu),Ol=function(){function t(t,e){var n=this;this.component=t,this.sourceSpan=e,this.errors=[],this.viewQueries=ae(t),this.viewProviders=new Map,t.viewProviders.forEach(function(t){i(n.viewProviders.get(E(t.token)))&&n.viewProviders.set(E(t.token),!0)})}return t}(),Tl=function(){function t(t,e,n,i,o,s,a){var u=this;this.viewContext=t,this._parent=e,this._isViewRoot=n,this._directiveAsts=i,this._sourceSpan=a,this._transformedProviders=new Map,this._seenProviders=new Map,this._hasViewContainer=!1,this._attrs={},o.forEach(function(t){return u._attrs[t.name]=t.value});var c=i.map(function(t){return t.directive});this._allProviders=oe(c,a,t.errors),this._contentQueries=ue(c);var l=new Map;Array.from(this._allProviders.values()).forEach(function(t){u._addQueryReadsTo(t.token,l)}),s.forEach(function(t){u._addQueryReadsTo({value:t.name},l)}),r(l.get(Qt(_l.ViewContainerRef)))&&(this._hasViewContainer=!0),Array.from(this._allProviders.values()).forEach(function(t){var e=t.eager||r(l.get(E(t.token)));e&&u._getOrCreateLocalProvider(t.providerType,t.token,!0)})}return t.prototype.afterElement=function(){var t=this;Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.providerType,e.token,!1)})},Object.defineProperty(t.prototype,"transformProviders",{get:function(){return Array.from(this._transformedProviders.values())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedDirectiveAsts",{get:function(){var t=this.transformProviders.map(function(t){return t.token.identifier}),e=this._directiveAsts.slice();return e.sort(function(e,n){return t.indexOf(e.directive.type)-t.indexOf(n.directive.type)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),t.prototype._addQueryReadsTo=function(t,e){this._getQueriesFor(t).forEach(function(n){var r=n.read||t;i(e.get(E(r)))&&e.set(E(r),!0)})},t.prototype._getQueriesFor=function(t){for(var e,n=[],r=this,i=0;null!==r;)e=r._contentQueries.get(E(t)),e&&n.push.apply(n,e.filter(function(t){return t.descendants||i<=1})),r._directiveAsts.length>0&&i++,r=r._parent;return e=this.viewContext.viewQueries.get(E(t)),e&&n.push.apply(n,e),n},t.prototype._getOrCreateLocalProvider=function(t,e,n){var i=this,o=this._allProviders.get(E(e));if(!o||(t===Yi.Directive||t===Yi.PublicService)&&o.providerType===Yi.PrivateService||(t===Yi.PrivateService||t===Yi.PublicService)&&o.providerType===Yi.Builtin)return null;var s=this._transformedProviders.get(E(e));if(s)return s;if(r(this._seenProviders.get(E(e))))return this.viewContext.errors.push(new Pl("Cannot instantiate cyclic dependency! "+C(e),this._sourceSpan)),null;this._seenProviders.set(E(e),!0);var a=o.providers.map(function(t){var e,s=t.useValue,a=t.useExisting;if(r(t.useExisting)){var u=i._getDependency(o.providerType,{token:t.useExisting},n);r(u.token)?a=u.token:(a=null,s=u.value)}else if(t.useFactory){var c=t.deps||t.useFactory.diDeps;e=c.map(function(t){return i._getDependency(o.providerType,t,n)})}else if(t.useClass){var c=t.deps||t.useClass.diDeps;e=c.map(function(t){return i._getDependency(o.providerType,t,n)})}return re(t,{useExisting:a,useValue:s,deps:e})});return s=ie(o,{eager:n,providers:a}),this._transformedProviders.set(E(e),s),s},t.prototype._getLocalDependency=function(t,e,n){if(void 0===n&&(n=null),e.isAttribute){var i=this._attrs[e.token.value];return{isValue:!0,value:null==i?null:i}}if(r(e.token)){if(t===Yi.Directive||t===Yi.Component){if(E(e.token)===Qt(_l.Renderer)||E(e.token)===Qt(_l.ElementRef)||E(e.token)===Qt(_l.ChangeDetectorRef)||E(e.token)===Qt(_l.TemplateRef))return e;E(e.token)===Qt(_l.ViewContainerRef)&&(this._hasViewContainer=!0)}if(E(e.token)===Qt(_l.Injector))return e;if(r(this._getOrCreateLocalProvider(t,e.token,n)))return e}return null},t.prototype._getDependency=function(t,e,n){void 0===n&&(n=null);var i=this,o=n,s=null;if(e.isSkipSelf||(s=this._getLocalDependency(t,e,n)),e.isSelf)!s&&e.isOptional&&(s={isValue:!0,value:null});else{for(;!s&&i._parent;){var a=i;i=i._parent,a._isViewRoot&&(o=!1),s=i._getLocalDependency(Yi.PublicService,e,o)}s||(s=!e.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===E(e.token)||r(this.viewContext.viewProviders.get(E(e.token)))?e:e.isOptional?s={isValue:!0,value:null}:null)}return s||this.viewContext.errors.push(new Pl("No provider for "+C(e.token),this._sourceSpan)),s},t}(),Al=function(){function t(t,e,n){var r=this;this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,t.transitiveModule.modules.forEach(function(t){var e={token:{identifier:t},useClass:t};se([e],Yi.PublicService,!0,n,r._errors,r._allProviders)}),se(t.transitiveModule.providers.map(function(t){return t.provider}).concat(e),Yi.PublicService,!1,n,this._errors,this._allProviders)}return t.prototype.parse=function(){var t=this;if(Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.token,e.eager)}),this._errors.length>0){var e=this._errors.join("\n");throw new Error("Provider parse errors:\n"+e)}return Array.from(this._transformedProviders.values())},t.prototype._getOrCreateLocalProvider=function(t,e){var n=this,i=this._allProviders.get(E(t));if(!i)return null;var o=this._transformedProviders.get(E(t));if(o)return o;if(r(this._seenProviders.get(E(t))))return this._errors.push(new Pl("Cannot instantiate cyclic dependency! "+C(t),i.sourceSpan)),null;this._seenProviders.set(E(t),!0);var s=i.providers.map(function(t){var o,s=t.useValue,a=t.useExisting;if(r(t.useExisting)){var u=n._getDependency({token:t.useExisting},e,i.sourceSpan);r(u.token)?a=u.token:(a=null,s=u.value)}else if(t.useFactory){var c=t.deps||t.useFactory.diDeps;o=c.map(function(t){return n._getDependency(t,e,i.sourceSpan)})}else if(t.useClass){var c=t.deps||t.useClass.diDeps;o=c.map(function(t){return n._getDependency(t,e,i.sourceSpan)})}return re(t,{useExisting:a,useValue:s,deps:o})});return o=ie(i,{eager:e,providers:s}),this._transformedProviders.set(E(t),o),o},t.prototype._getDependency=function(t,e,n){void 0===e&&(e=null);var i=!1;!t.isSkipSelf&&r(t.token)&&(E(t.token)===Qt(_l.Injector)||E(t.token)===Qt(_l.ComponentFactoryResolver)?i=!0:r(this._getOrCreateLocalProvider(t.token,e))&&(i=!0));var o=t;return t.isSelf&&!i&&(t.isOptional?o={isValue:!0,value:null}:this._errors.push(new Pl("No provider for "+C(t.token),n))),o},t}(),Ml=function(){function t(){}return t.prototype.hasProperty=function(t,e,n){},t.prototype.hasElement=function(t,e){},t.prototype.securityContext=function(t,e,n){},t.prototype.allKnownElementNames=function(){},t.prototype.getMappedPropName=function(t){},t.prototype.getDefaultComponentElementName=function(){},t.prototype.validateProperty=function(t){},t.prototype.validateAttribute=function(t){},t.prototype.normalizeAnimationStyleProperty=function(t){},t.prototype.normalizeAnimationStyleValue=function(t,e,n){},t}(),kl=function(){function t(t,e){this.style=t,this.styleUrls=e}return t}(),Rl=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,Il=/\/\*.+?\*\//g,Nl=/^([^:\/?#]+):/,Dl=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},jl=".",Vl="attr",Ll="class",Fl="style",Ul="animate-",Hl={};Hl.DEFAULT=0,Hl.LITERAL_ATTR=1,Hl.ANIMATION=2,Hl[Hl.DEFAULT]="DEFAULT",Hl[Hl.LITERAL_ATTR]="LITERAL_ATTR",Hl[Hl.ANIMATION]="ANIMATION";var Bl=function(){function t(t,e,n,r){this.name=t,this.expression=e,this.type=n,this.sourceSpan=r}return Object.defineProperty(t.prototype,"isLiteral",{get:function(){return this.type===Hl.LITERAL_ATTR},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimation",{get:function(){return this.type===Hl.ANIMATION},enumerable:!0,configurable:!0}),t}(),ql=function(){function t(t,e,n,r,i){var o=this;this._exprParser=t,this._interpolationConfig=e,this._schemaRegistry=n,this._targetErrors=i,this.pipesByName=new Map,r.forEach(function(t){return o.pipesByName.set(t.name,t)})}return t.prototype.createDirectiveHostPropertyAsts=function(t,e){var n=this;if(t.hostProperties){var r=[];return Object.keys(t.hostProperties).forEach(function(i){var o=t.hostProperties[i];"string"==typeof o?n.parsePropertyBinding(i,o,!0,e,[],r):n._reportError('Value of the host property binding "'+i+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",e)}),r.map(function(e){return n.createElementPropertyAst(t.selector,e)})}},t.prototype.createDirectiveHostEventAsts=function(t,e){var n=this;if(t.hostListeners){var r=[];return Object.keys(t.hostListeners).forEach(function(i){var o=t.hostListeners[i];"string"==typeof o?n.parseEvent(i,o,e,[],r):n._reportError('Value of the host listener "'+i+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",e)}),r}},t.prototype.parseInterpolation=function(t,e){var n=e.start.toString();try{var r=this._exprParser.parseInterpolation(t,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,e),this._checkPipes(r,e),r}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype.parseInlineTemplateBinding=function(t,e,n,r,i,o){for(var s=this._parseTemplateBindings(t,e,n),a=0;a<s.length;a++){var u=s[a];u.keyIsVar?o.push(new zi(u.key,u.name,n)):u.expression?this._parsePropertyAst(u.key,u.expression,n,r,i):(r.push([u.key,""]),this.parseLiteralAttr(u.key,null,n,r,i))}},t.prototype._parseTemplateBindings=function(t,e,n){var r=this,i=n.start.toString();try{var o=this._exprParser.parseTemplateBindings(t,e,i);return this._reportExpressionParserErrors(o.errors,n),o.templateBindings.forEach(function(t){t.expression&&r._checkPipes(t.expression,n)}),o.warnings.forEach(function(t){r._reportError(t,n,Ou.WARNING)}),o.templateBindings}catch(t){return this._reportError(""+t,n),[]}},t.prototype.parseLiteralAttr=function(t,e,n,r,i){he(t)?(t=t.substring(1),e&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,Ou.FATAL),this._parseAnimation(t,e,n,r,i)):i.push(new Bl(t,this._exprParser.wrapLiteralPrimitive(e,""),Hl.LITERAL_ATTR,n))},t.prototype.parsePropertyBinding=function(t,e,n,r,i,o){var s=!1;t.startsWith(Ul)?(s=!0,t=t.substring(Ul.length)):he(t)&&(s=!0,t=t.substring(1)),s?this._parseAnimation(t,e,r,i,o):this._parsePropertyAst(t,this._parseBinding(e,n,r),r,i,o)},t.prototype.parsePropertyInterpolation=function(t,e,n,r,i){var o=this.parseInterpolation(e,n);return!!o&&(this._parsePropertyAst(t,o,n,r,i),!0)},t.prototype._parsePropertyAst=function(t,e,n,r,i){r.push([t,e.source]),i.push(new Bl(t,e,Hl.DEFAULT,n))},t.prototype._parseAnimation=function(t,e,n,r,i){var o=this._parseBinding(e||"null",!1,n);r.push([t,o.source]),i.push(new Bl(t,o,Hl.ANIMATION,n))},t.prototype._parseBinding=function(t,e,n){var r=n.start.toString();try{var i=e?this._exprParser.parseSimpleBinding(t,r,this._interpolationConfig):this._exprParser.parseBinding(t,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),this._checkPipes(i,n),i}catch(t){return this._reportError(""+t,n),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},t.prototype.createElementPropertyAst=function(t,n){if(n.isAnimation)return new Hi(n.name,Zi.Animation,e.SecurityContext.NONE,!1,n.expression,null,n.sourceSpan);var r,i,o=null,s=null,a=n.name.split(jl);if(a.length>1)if(a[0]==Vl){s=a[1],this._validatePropertyOrAttributeName(s,n.sourceSpan,!0),i=fe(this._schemaRegistry,t,s,!0);var u=s.indexOf(":");if(u>-1){var c=s.substring(0,u),l=s.substring(u+1);s=h(c,l)}r=Zi.Attribute}else a[0]==Ll?(s=a[1],r=Zi.Class,i=[e.SecurityContext.NONE]):a[0]==Fl&&(o=a.length>2?a[2]:null,s=a[1],r=Zi.Style,i=[e.SecurityContext.STYLE]);return null===s&&(s=this._schemaRegistry.getMappedPropName(n.name),i=fe(this._schemaRegistry,t,s,!1),r=Zi.Property,this._validatePropertyOrAttributeName(s,n.sourceSpan,!1)),new Hi(s,r,1===i.length?i[0]:null,i.length>1,n.expression,o,n.sourceSpan)},t.prototype.parseEvent=function(t,e,n,r,i){he(t)?(t=t.substr(1),this._parseAnimationEvent(t,e,n,i)):this._parseEvent(t,e,n,r,i)},t.prototype._parseAnimationEvent=function(t,e,n,r){var i=m(t,[t,""]),o=i[0],s=i[1].toLowerCase();if(s)switch(s){case"start":case"done":var a=this._parseAction(e,n);r.push(new Bi(o,null,s,a,n));break;default:this._reportError('The provided animation output phase value "'+s+'" for "@'+o+'" is not supported (use start or done)',n)}else this._reportError("The animation trigger output event (@"+o+") is missing its phase value name (start or done are currently supported)",n)},t.prototype._parseEvent=function(t,e,n,r,i){var o=y(t,[null,t]),s=o[0],a=o[1],u=this._parseAction(e,n);r.push([t,u.source]),i.push(new Bi(a,s,null,u,n))},t.prototype._parseAction=function(t,e){var n=e.start.toString();try{var r=this._exprParser.parseAction(t,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,e),!r||r.ast instanceof Ha?(this._reportError("Empty expressions are not allowed",e),this._exprParser.wrapLiteralPrimitive("ERROR",n)):(this._checkPipes(r,e),r)}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype._reportError=function(t,e,n){void 0===n&&(n=Ou.FATAL),this._targetErrors.push(new Tu(e,t,n))},t.prototype._reportExpressionParserErrors=function(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];this._reportError(i.message,e);
}},t.prototype._checkPipes=function(t,e){var n=this;if(t){var r=new zl;t.visit(r),r.pipes.forEach(function(t,r){n.pipesByName.has(r)||n._reportError("The pipe '"+r+"' could not be found",new Pu(e.start.moveBy(t.span.start),e.start.moveBy(t.span.end)))})}},t.prototype._validatePropertyOrAttributeName=function(t,e,n){var r=n?this._schemaRegistry.validateAttribute(t):this._schemaRegistry.validateProperty(t);r.error&&this._reportError(r.msg,e,Ou.FATAL)},t}(),zl=function(t){function e(){t.apply(this,arguments),this.pipes=new Map}return Dl(e,t),e.prototype.visitPipe=function(t,e){return this.pipes.set(t.name,t),t.exp.visit(this),this.visitAll(t.args,e),null},e}(uu),Wl="select",Gl="ng-content",Xl="link",$l="rel",Ql="href",Yl="stylesheet",Kl="style",Zl="script",Jl="ngNonBindable",tp="ngProjectAs",ep={};ep.NG_CONTENT=0,ep.STYLE=1,ep.STYLESHEET=2,ep.SCRIPT=3,ep.OTHER=4,ep[ep.NG_CONTENT]="NG_CONTENT",ep[ep.STYLE]="STYLE",ep[ep.STYLESHEET]="STYLESHEET",ep[ep.SCRIPT]="SCRIPT",ep[ep.OTHER]="OTHER";var np=function(){function t(t,e,n,r,i){this.type=t,this.selectAttr=e,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}return t}(),rp=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ip=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},op=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},sp=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,ap=1,up=2,cp=3,lp=4,pp=5,hp=6,fp=7,dp=8,yp=9,mp=10,vp="template",gp="template",_p="*",bp="class",wp=Zo.parse("*")[0],Cp=new e.OpaqueToken("TemplateTransforms"),Ep=function(t){function e(e,n,r){t.call(this,n,e,r)}return rp(e,t),e}(Tu),Sp=function(){function t(t,e){this.templateAst=t,this.errors=e}return t}(),xp=function(){function t(t,e,n,r,i){this._exprParser=t,this._schemaRegistry=e,this._htmlParser=n,this._console=r,this.transforms=i}return t.prototype.parse=function(t,e,n,r,i,o){var s=this.tryParse(t,e,n,r,i,o),a=s.errors.filter(function(t){return t.level===Ou.WARNING}),u=s.errors.filter(function(t){return t.level===Ou.FATAL});if(a.length>0&&this._console.warn("Template parse warnings:\n"+a.join("\n")),u.length>0){var c=u.join("\n");throw new cs("Template parse errors:\n"+c)}return s.templateAst},t.prototype.tryParse=function(t,e,n,r,i,o){return this.tryParseHtml(this.expandHtml(this._htmlParser.parse(e,o,!0,this.getInterpolationConfig(t))),t,e,n,r,i,o)},t.prototype.tryParseHtml=function(t,e,r,i,o,s,a){var u,c=t.errors;if(t.rootNodes.length>0){var l=_e(i),p=_e(o),h=new Ol(e,t.rootNodes[0].sourceSpan),f=void 0;e.template&&e.template.interpolation&&(f={start:e.template.interpolation[0],end:e.template.interpolation[1]});var d=new ql(this._exprParser,f,this._schemaRegistry,p,c),y=new Pp(h,l,d,this._schemaRegistry,s,c);u=$(y,t.rootNodes,Mp),c.push.apply(c,h.errors)}else u=[];return this._assertNoReferenceDuplicationOnTemplate(u,c),c.length>0?new Sp(u,c):(this.transforms&&this.transforms.forEach(function(t){u=n(t,u)}),new Sp(u,c))},t.prototype.expandHtml=function(t,e){void 0===e&&(e=!1);var n=t.errors;if(0==n.length||e){var r=te(t.rootNodes);n.push.apply(n,r.errors),t=new Wu(r.nodes,n)}return t},t.prototype.getInterpolationConfig=function(t){if(t.template)return Na.fromArray(t.template.interpolation)},t.prototype._assertNoReferenceDuplicationOnTemplate=function(t,e){var n=[];t.filter(function(t){return!!t.references}).forEach(function(t){return t.references.forEach(function(t){var r=t.name;if(n.indexOf(r)<0)n.push(r);else{var i=new Ep('Reference "#'+r+'" is defined several times',t.sourceSpan,Ou.FATAL);e.push(i)}})})},t.ctorParameters=function(){return[{type:wu},{type:Ml},{type:dl},{type:Po},{type:Array,decorators:[{type:e.Optional},{type:e.Inject,args:[Cp]}]}]},t=ip([M(),op("design:paramtypes",[wu,Ml,dl,Po,Array])],t)}(),Pp=function(){function t(t,e,n,r,i,o){var s=this;this.providerViewContext=t,this._bindingParser=n,this._schemaRegistry=r,this._schemas=i,this._targetErrors=o,this.selectorMatcher=new Jo,this.directivesIndex=new Map,this.ngContentCount=0,e.forEach(function(t,e){var n=Zo.parse(t.selector);s.selectorMatcher.addSelectables(n,t),s.directivesIndex.set(t,e)})}return t.prototype.visitExpansion=function(t,e){return null},t.prototype.visitExpansionCase=function(t,e){return null},t.prototype.visitText=function(t,e){var n=e.findNgContentIndex(wp),r=this._bindingParser.parseInterpolation(t.value,t.sourceSpan);return r?new Fi(r,n,t.sourceSpan):new Li(t.value,n,t.sourceSpan)},t.prototype.visitAttribute=function(t,e){return new Ui(t.name,t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitElement=function(t,e){var n=this,i=t.name,o=de(t);if(o.type===ep.SCRIPT||o.type===ep.STYLE)return null;if(o.type===ep.STYLESHEET&&le(o.hrefAttr))return null;var s=[],a=[],u=[],c=[],p=[],h=[],f=[],d=[],y=!1,m=[],v=l(i.toLowerCase())[1],g=v==vp;t.attrs.forEach(function(t){var e,i,o=n._parseAttr(g,t,s,a,p,u,c),l=n._normalizeAttributeName(t.name);l==gp?e=t.value:l.startsWith(_p)&&(e=t.value,i=l.substring(_p.length)+":");var v=r(e);v&&(y&&n._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",t.sourceSpan),y=!0,n._bindingParser.parseInlineTemplateBinding(i,e,t.sourceSpan,f,h,d)),o||v||(m.push(n.visitAttribute(t,null)),s.push([t.name,t.value]))});var _=ve(i,s),b=this._parseDirectives(this.selectorMatcher,_),w=b.directives,C=b.matchElement,E=[],S=this._createDirectiveAsts(g,t.name,w,a,u,t.sourceSpan,E),x=this._createElementPropertyAsts(t.name,a,S),P=e.isTemplateElement||y,O=new Tl(this.providerViewContext,e.providerContext,P,S,m,E,t.sourceSpan),T=$(o.nonBindable?kp:this,t.children,Ap.create(g,S,g?e.providerContext:O));O.afterElement();var A,M=r(o.projectAs)?Zo.parse(o.projectAs)[0]:_,k=e.findNgContentIndex(M);if(o.type===ep.NG_CONTENT)t.children&&!t.children.every(ge)&&this._reportError("<ng-content> element cannot have content.",t.sourceSpan),A=new Ki(this.ngContentCount++,y?null:k,t.sourceSpan);else if(g)this._assertAllEventsPublishedByDirectives(S,p),this._assertNoComponentsNorElementBindingsOnTemplate(S,x,t.sourceSpan),A=new Gi(m,p,E,c,O.transformedDirectiveAsts,O.transformProviders,O.transformedHasViewContainer,T,y?null:k,t.sourceSpan);else{this._assertElementExists(C,t),this._assertOnlyOneComponent(S,t.sourceSpan);var R=y?null:e.findNgContentIndex(M);A=new Wi(i,m,x,p,E,O.transformedDirectiveAsts,O.transformProviders,O.transformedHasViewContainer,T,y?null:R,t.sourceSpan,t.endSourceSpan),this._findComponentDirectives(S).forEach(function(t){return n._validateElementAnimationInputOutputs(t.hostProperties,t.hostEvents,t.directive.template)});var I=O.viewContext.component.template;this._validateElementAnimationInputOutputs(x,p,I.toSummary())}if(y){var N=ve(vp,f),D=this._parseDirectives(this.selectorMatcher,N).directives,j=this._createDirectiveAsts(!0,t.name,D,h,[],t.sourceSpan,[]),V=this._createElementPropertyAsts(t.name,h,j);this._assertNoComponentsNorElementBindingsOnTemplate(j,V,t.sourceSpan);var L=new Tl(this.providerViewContext,e.providerContext,e.isTemplateElement,j,[],[],t.sourceSpan);L.afterElement(),A=new Gi([],[],[],d,L.transformedDirectiveAsts,L.transformProviders,L.transformedHasViewContainer,[A],k,t.sourceSpan)}return A},t.prototype._validateElementAnimationInputOutputs=function(t,e,n){var r=this,i=new Set;n.animations.forEach(function(t){i.add(t)});var o=t.filter(function(t){return t.isAnimation});o.forEach(function(t){var e=t.name;i.has(e)||r._reportError("Couldn't find an animation entry for \""+e+'"',t.sourceSpan)}),e.forEach(function(t){if(t.isAnimation){var e=o.find(function(e){return e.name==t.name});e||r._reportError("Unable to listen on (@"+t.name+"."+t.phase+") because the animation trigger [@"+t.name+"] isn't being used on the same element",t.sourceSpan)}})},t.prototype._parseAttr=function(t,e,n,i,o,s,a){var u=this._normalizeAttributeName(e.name),c=e.value,l=e.sourceSpan,p=u.match(sp),h=!1;if(null!==p)if(h=!0,r(p[ap]))this._bindingParser.parsePropertyBinding(p[fp],c,!1,l,n,i);else if(p[up])if(t){var f=p[fp];this._parseVariable(f,c,l,a)}else this._reportError('"let-" is only supported on template elements.',l);else if(p[cp]){var f=p[fp];this._parseReference(f,c,l,s)}else p[lp]?this._bindingParser.parseEvent(p[fp],c,l,n,o):p[pp]?(this._bindingParser.parsePropertyBinding(p[fp],c,!1,l,n,i),this._parseAssignmentEvent(p[fp],c,l,n,o)):p[hp]?this._bindingParser.parseLiteralAttr(u,c,l,n,i):p[dp]?(this._bindingParser.parsePropertyBinding(p[dp],c,!1,l,n,i),this._parseAssignmentEvent(p[dp],c,l,n,o)):p[yp]?this._bindingParser.parsePropertyBinding(p[yp],c,!1,l,n,i):p[mp]&&this._bindingParser.parseEvent(p[mp],c,l,n,o);else h=this._bindingParser.parsePropertyInterpolation(u,c,l,n,i);return h||this._bindingParser.parseLiteralAttr(u,c,l,n,i),h},t.prototype._normalizeAttributeName=function(t){return/^data-/i.test(t)?t.substring(5):t},t.prototype._parseVariable=function(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),r.push(new zi(t,e,n))},t.prototype._parseReference=function(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',n),r.push(new Tp(t,e,n))},t.prototype._parseAssignmentEvent=function(t,e,n,r,i){this._bindingParser.parseEvent(t+"Change",e+"=$event",n,r,i)},t.prototype._parseDirectives=function(t,e){var n=this,r=new Array(this.directivesIndex.size),i=!1;return t.match(e,function(t,e){r[n.directivesIndex.get(e)]=e,i=i||t.hasElementSelector()}),{directives:r.filter(function(t){return!!t}),matchElement:i}},t.prototype._createDirectiveAsts=function(t,e,n,r,i,o,s){var a=this,u=new Set,c=null,l=n.map(function(t){var n=new Pu(o.start,o.end,"Directive "+b(t.type));t.isComponent&&(c=t);var l=[],p=a._bindingParser.createDirectiveHostPropertyAsts(t,n);a._checkPropertiesInSchema(e,p);var h=a._bindingParser.createDirectiveHostEventAsts(t,n);return a._createDirectivePropertyAsts(t.inputs,r,l),i.forEach(function(e){(0===e.value.length&&t.isComponent||t.exportAs==e.value)&&(s.push(new qi(e.name,Kt(t.type),e.sourceSpan)),u.add(e.name))}),new $i(t,l,p,h,n)});return i.forEach(function(e){if(e.value.length>0)u.has(e.name)||a._reportError('There is no directive with "exportAs" set to "'+e.value+'"',e.sourceSpan);else if(!c){var n=null;t&&(n=Zt(_l.TemplateRef)),s.push(new qi(e.name,n,e.sourceSpan))}}),l},t.prototype._createDirectivePropertyAsts=function(t,e,n){if(t){var r=new Map;e.forEach(function(t){var e=r.get(t.name);e&&!e.isLiteral||r.set(t.name,t)}),Object.keys(t).forEach(function(e){var i=t[e],o=r.get(i);o&&n.push(new Xi(e,o.name,o.expression,o.sourceSpan))})}},t.prototype._createElementPropertyAsts=function(t,e,n){var r=this,i=[],o=new Map;return n.forEach(function(t){t.inputs.forEach(function(t){o.set(t.templateName,t)})}),e.forEach(function(e){e.isLiteral||o.get(e.name)||i.push(r._bindingParser.createElementPropertyAst(t,e))}),this._checkPropertiesInSchema(t,i),i},t.prototype._findComponentDirectives=function(t){return t.filter(function(t){return t.directive.isComponent})},t.prototype._findComponentDirectiveNames=function(t){return this._findComponentDirectives(t).map(function(t){return b(t.directive.type)})},t.prototype._assertOnlyOneComponent=function(t,e){var n=this._findComponentDirectiveNames(t);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\nConflicting components: "+n.join(","),e)},t.prototype._assertElementExists=function(t,e){var n=e.name.replace(/^:xhtml:/,"");if(!t&&!this._schemaRegistry.hasElement(n,this._schemas)){var r="'"+n+"' is not a known element:\n"+("1. If '"+n+"' is an Angular component, then verify that it is part of this module.\n")+("2. If '"+n+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schemas' of this component to suppress this message.");this._reportError(r,e.sourceSpan)}},t.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(t,e,n){var r=this,i=this._findComponentDirectiveNames(t);i.length>0&&this._reportError("Components on an embedded template: "+i.join(","),n),e.forEach(function(t){r._reportError("Property binding "+t.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".',n)})},t.prototype._assertAllEventsPublishedByDirectives=function(t,e){var n=this,i=new Set;t.forEach(function(t){Object.keys(t.directive.outputs).forEach(function(e){var n=t.directive.outputs[e];i.add(n)})}),e.forEach(function(t){!r(t.target)&&i.has(t.name)||n._reportError("Event binding "+t.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".',t.sourceSpan)})},t.prototype._checkPropertiesInSchema=function(t,e){var n=this;e.forEach(function(e){if(e.type===Zi.Property&&!n._schemaRegistry.hasProperty(t,e.name,n._schemas)){var r="Can't bind to '"+e.name+"' since it isn't a known property of '"+t+"'.";t.indexOf("-")>-1&&(r+="\n1. If '"+t+"' is an Angular component and it has '"+e.name+"' input, then verify that it is part of this module."+("\n2. If '"+t+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schemas' of this component to suppress this message.\n")),n._reportError(r,e.sourceSpan)}})},t.prototype._reportError=function(t,e,n){void 0===n&&(n=Ou.FATAL),this._targetErrors.push(new Tu(e,t,n))},t}(),Op=function(){function t(){}return t.prototype.visitElement=function(t,e){var n=de(t);if(n.type===ep.SCRIPT||n.type===ep.STYLE||n.type===ep.STYLESHEET)return null;var r=t.attrs.map(function(t){return[t.name,t.value]}),i=ve(t.name,r),o=e.findNgContentIndex(i),s=$(this,t.children,Mp);return new Wi(t.name,$(this,t.attrs),[],[],[],[],[],!1,s,o,t.sourceSpan,t.endSourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttribute=function(t,e){return new Ui(t.name,t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){var n=e.findNgContentIndex(wp);return new Li(t.value,n,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){return t},t.prototype.visitExpansionCase=function(t,e){return t},t}(),Tp=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t}(),Ap=function(){function t(t,e,n,r){this.isTemplateElement=t,this._ngContentIndexMatcher=e,this._wildcardNgContentIndex=n,this.providerContext=r}return t.create=function(e,n,r){var i=new Jo,o=null,s=n.find(function(t){return t.directive.isComponent});if(s)for(var a=s.directive.template.ngContentSelectors,u=0;u<a.length;u++){var c=a[u];"*"===c?o=u:i.addSelectables(Zo.parse(a[u]),u)}return new t(e,i,o,r)},t.prototype.findNgContentIndex=function(t){var e=[];return this._ngContentIndexMatcher.match(t,function(t,n){e.push(n)}),e.sort(),r(this._wildcardNgContentIndex)&&e.push(this._wildcardNgContentIndex),e.length>0?e[0]:null},t}(),Mp=new Ap(!0,new Jo,null,null),kp=new Op,Rp=function(){function t(t){var n=void 0===t?{}:t,r=n.renderTypes,i=void 0===r?new Np:r,o=n.defaultEncapsulation,s=void 0===o?e.ViewEncapsulation.Emulated:o,a=n.genDebugInfo,u=n.logBindingUpdate,c=n.useJit,l=void 0===c||c;this.renderTypes=i,this.defaultEncapsulation=s,this._genDebugInfo=a,this._logBindingUpdate=u,this.useJit=l}return Object.defineProperty(t.prototype,"genDebugInfo",{get:function(){return void 0===this._genDebugInfo?e.isDevMode():this._genDebugInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logBindingUpdate",{get:function(){return void 0===this._logBindingUpdate?e.isDevMode():this._logBindingUpdate},enumerable:!0,configurable:!0}),t}(),Ip=function(){function t(){}return t.prototype.renderer=function(){},t.prototype.renderText=function(){},t.prototype.renderElement=function(){},t.prototype.renderComment=function(){},t.prototype.renderNode=function(){},t.prototype.renderEvent=function(){},t}(),Np=function(){function t(){this.renderText=null,this.renderElement=null,this.renderComment=null,this.renderNode=null,this.renderEvent=null}return Object.defineProperty(t.prototype,"renderer",{get:function(){return Yt(_l.Renderer)},enumerable:!0,configurable:!0}),t}(),Dp=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},jp=function(){function t(){this.startTime=0,this.playTime=0}return t.prototype.visit=function(t,e){},t}(),Vp=function(t){function e(){t.apply(this,arguments)}return Dp(e,t),e.prototype.visit=function(t,e){},e}(jp),Lp=function(t){function e(e,n,r){t.call(this),this.name=e,this.stateDeclarations=n,this.stateTransitions=r}return Dp(e,t),e.prototype.visit=function(t,e){return t.visitAnimationEntry(this,e)},e}(jp),Fp=function(t){function e(e,n){t.call(this),this.stateName=e,this.styles=n}return Dp(e,t),e.prototype.visit=function(t,e){return t.visitAnimationStateDeclaration(this,e)},e}(Vp),Up=function(){function t(t,e){this.fromState=t,this.toState=e}return t}(),Hp=function(t){function e(e,n){t.call(this),this.stateChanges=e,this.animation=n}return Dp(e,t),e.prototype.visit=function(t,e){return t.visitAnimationStateTransition(this,e)},e}(Vp),Bp=function(t){function e(e,n,r,i,o){t.call(this),this.startingStyles=e,this.keyframes=n,this.duration=r,this.delay=i,this.easing=o}return Dp(e,t),e.prototype.visit=function(t,e){return t.visitAnimationStep(this,e)},e}(jp),qp=function(t){function e(e){t.call(this),this.styles=e}return Dp(e,t),e.prototype.visit=function(t,e){return t.visitAnimationStyles(this,e)},e}(jp),zp=function(t){function e(e,n){t.call(this),this.offset=e,this.styles=n}return Dp(e,t),e.prototype.visit=function(t,e){return t.visitAnimationKeyframe(this,e)},e}(jp),Wp=function(t){function e(e){t.call(this),this.steps=e}return Dp(e,t),e}(jp),Gp=function(t){function e(e){t.call(this,e)}return Dp(e,t),e.prototype.visit=function(t,e){return t.visitAnimationGroup(this,e)},e}(Wp),Xp=function(t){function e(e){t.call(this,e)}return Dp(e,t),e.prototype.visit=function(t,e){return t.visitAnimationSequence(this,e)},e}(Wp),$p=function(){function t(t,e){this.time=t,this.value=e}return t.prototype.matches=function(t,e){return t==this.time&&e==this.value},t}(),Qp=function(){function t(){this.styles={}}return t.prototype.insertAtTime=function(t,e,n){var i=new $p(e,n),o=this.styles[t];r(o)||(o=this.styles[t]=[]);for(var s=0,a=o.length-1;a>=0;a--)if(o[a].time<=e){s=a+1;break}o.splice(s,0,i)},t.prototype.getByIndex=function(t,e){var n=this.styles[t];return r(n)?e>=n.length?null:n[e]:null},t.prototype.indexOfAtOrBeforeTime=function(t,e){var n=this.styles[t];if(r(n))for(var i=n.length-1;i>=0;i--)if(n[i].time<=e)return i;return null},t}(),Yp=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Kp=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Zp=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Jp=0,th=1,eh=1e3,nh=function(t){function e(e){t.call(this,null,e)}return Yp(e,t),e.prototype.toString=function(){return""+this.msg},e}(Tu),rh=function(){function t(t,e){this.ast=t,this.errors=e}return t}(),ih=function(){function t(t){this._schema=t}return t.prototype.parseComponent=function(t){var e=this,n=[],r=b(t.type),i=new Set,o=t.template.animations.map(function(t){var o=e.parseEntry(t),s=o.ast,a=s.name;if(i.has(a)?o.errors.push(new nh('The animation trigger "'+a+'" has already been registered for the '+r+" component")):i.add(a),o.errors.length>0){var u='- Unable to parse the animation sequence for "'+a+'" on the '+r+" component due to the following errors:";o.errors.forEach(function(t){u+="\n-- "+t.msg}),n.push(u)}return s});if(n.length>0){var s=n.join("\n");throw new Error("Animation parse errors:\n"+s)}return o},t.prototype.parseEntry=function(t){var e=this,n=[],r={},i=[],o=[];t.definitions.forEach(function(t){t instanceof ds?be(t,e._schema,n).forEach(function(t){o.push(t),r[t.stateName]=t.styles}):i.push(t)});var s=i.map(function(t){return we(t,r,e._schema,n)}),a=new Lp(t.name,o,s);return new rh(a,n)},t=Kp([M(),Zp("design:paramtypes",[Ml])],t)}(),oh=function(){function t(t,e,n){this.duration=t,this.delay=e,this.easing=n}return t}(),sh=function(){function t(){}return t.prototype.get=function(t){return null},t}(),ah=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},uh=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ch={provide:e.PACKAGE_ROOT_URL,useValue:"/"},lh=function(){function t(t){void 0===t&&(t=null),this._packagePrefix=t}return t.prototype.resolve=function(t,e){var n=e;r(t)&&t.length>0&&(n=Be(t,n));var i=Fe(n),o=this._packagePrefix;if(r(o)&&r(i)&&"package"==i[hh.Scheme]){var s=i[hh.Path];return o=o.replace(/\/+$/,""),s=s.replace(/^\/+/,""),o+"/"+s}return n},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.PACKAGE_ROOT_URL]}]}]},t=ah([M(),uh("design:paramtypes",[String])],t)}(),ph=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),hh={};hh.Scheme=1,hh.UserInfo=2,hh.Domain=3,hh.Port=4,hh.Path=5,hh.QueryData=6,hh.Fragment=7,hh[hh.Scheme]="Scheme",hh[hh.UserInfo]="UserInfo",hh[hh.Domain]="Domain",hh[hh.Port]="Port",hh[hh.Path]="Path",hh[hh.QueryData]="QueryData",hh[hh.Fragment]="Fragment";var fh=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},dh=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yh=function(){function t(t,e,n,r){this._resourceLoader=t,this._urlResolver=e,this._htmlParser=n,this._config=r,this._resourceLoaderCache=new Map}return t.prototype.clearCache=function(){this._resourceLoaderCache.clear()},t.prototype.clearCacheFor=function(t){var e=this;t.isComponent&&(this._resourceLoaderCache.delete(t.template.templateUrl),t.template.externalStylesheets.forEach(function(t){e._resourceLoaderCache.delete(t.moduleUrl)}))},t.prototype._fetch=function(t){var e=this._resourceLoaderCache.get(t);return e||(e=this._resourceLoader.get(t),this._resourceLoaderCache.set(t,e)),e},t.prototype.normalizeTemplate=function(t){var e,n=this,i=null;if(r(t.template))i=this.normalizeTemplateSync(t),e=Promise.resolve(i);else{if(!t.templateUrl)throw new cs("No template specified for component "+s(t.componentType));e=this.normalizeTemplateAsync(t)}return i&&0===i.styleUrls.length?new us(i):new us(null,e.then(function(t){return n.normalizeExternalStylesheets(t)}))},t.prototype.normalizeTemplateSync=function(t){return this.normalizeLoadedTemplate(t,t.template,t.moduleUrl)},t.prototype.normalizeTemplateAsync=function(t){var e=this,n=this._urlResolver.resolve(t.moduleUrl,t.templateUrl);return this._fetch(n).then(function(r){return e.normalizeLoadedTemplate(t,r,n)})},t.prototype.normalizeLoadedTemplate=function(t,n,r){var o=Na.fromArray(t.interpolation),a=this._htmlParser.parse(n,s(t.componentType),!0,o);if(a.errors.length>0){var u=a.errors.join("\n");throw new cs("Template parse errors:\n"+u)}var c=this.normalizeStylesheet(new xs({styles:t.styles,styleUrls:t.styleUrls,moduleUrl:t.moduleUrl})),l=new mh;$(l,a.rootNodes);var p=this.normalizeStylesheet(new xs({styles:l.styles,styleUrls:l.styleUrls,moduleUrl:r})),h=t.encapsulation;i(h)&&(h=this._config.defaultEncapsulation);var f=c.styles.concat(p.styles),d=c.styleUrls.concat(p.styleUrls);return h===e.ViewEncapsulation.Emulated&&0===f.length&&0===d.length&&(h=e.ViewEncapsulation.None),new Ps({encapsulation:h,template:n,templateUrl:r,styles:f,styleUrls:d,ngContentSelectors:l.ngContentSelectors,animations:t.animations,interpolation:t.interpolation})},t.prototype.normalizeExternalStylesheets=function(t){return this._loadMissingExternalStylesheets(t.styleUrls).then(function(e){return new Ps({encapsulation:t.encapsulation,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,externalStylesheets:e,ngContentSelectors:t.ngContentSelectors,animations:t.animations,interpolation:t.interpolation})})},t.prototype._loadMissingExternalStylesheets=function(t,e){var n=this;return void 0===e&&(e=new Map),Promise.all(t.filter(function(t){return!e.has(t)}).map(function(t){return n._fetch(t).then(function(r){var i=n.normalizeStylesheet(new xs({styles:[r],moduleUrl:t}));return e.set(t,i),n._loadMissingExternalStylesheets(i.styleUrls,e)})})).then(function(t){return Array.from(e.values())})},t.prototype.normalizeStylesheet=function(t){var e=this,n=t.styleUrls.filter(le).map(function(n){return e._urlResolver.resolve(t.moduleUrl,n)}),r=t.styles.map(function(r){var i=pe(e._urlResolver,t.moduleUrl,r);return n.push.apply(n,i.styleUrls),i.style});return new xs({styles:r,styleUrls:n,moduleUrl:t.moduleUrl})},t=fh([M(),dh("design:paramtypes",[sh,lh,pl,Rp])],t)}(),mh=function(){function t(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return t.prototype.visitElement=function(t,e){var n=de(t);switch(n.type){case ep.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case ep.STYLE:var r="";t.children.forEach(function(t){t instanceof Au&&(r+=t.value)}),this.styles.push(r);break;case ep.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,$(this,t.children),n.nonBindable&&this.ngNonBindableStackCount--,null},t.prototype.visitExpansion=function(t,e){$(this,t.cases)},t.prototype.visitExpansionCase=function(t,e){$(this,t.expression)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttribute=function(t,e){return null},t.prototype.visitText=function(t,e){return null},t}(),vh=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},gh=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_h=function(){function t(t){void 0===t&&(t=Oo),this._reflector=t}return t.prototype.isDirective=function(t){var n=this._reflector.annotations(e.resolveForwardRef(t));return n&&n.some(qe)},t.prototype.resolve=function(t,n){void 0===n&&(n=!0);var r=this._reflector.annotations(e.resolveForwardRef(t));if(r){var i=io.findLast(r,qe);if(i){var o=this._reflector.propMetadata(t);return this._mergeWithPropertyMetadata(i,o,t)}}if(n)throw new Error("No Directive annotation found on "+s(t));return null},t.prototype._mergeWithPropertyMetadata=function(t,n,r){var i=[],o=[],s={},a={};return Object.keys(n).forEach(function(t){var r=io.findLast(n[t],function(t){return t instanceof e.Input});r&&(r.bindingPropertyName?i.push(t+": "+r.bindingPropertyName):i.push(t));var u=io.findLast(n[t],function(t){return t instanceof e.Output});u&&(u.bindingPropertyName?o.push(t+": "+u.bindingPropertyName):o.push(t));var c=n[t].filter(function(t){return t&&t instanceof e.HostBinding});c.forEach(function(e){if(e.hostPropertyName){var n=e.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");s["["+e.hostPropertyName+"]"]=t}else s["["+t+"]"]=t});var l=n[t].filter(function(t){return t&&t instanceof e.HostListener});l.forEach(function(e){var n=e.args||[];s["("+e.eventName+")"]=t+"("+n.join(",")+")"});var p=io.findLast(n[t],function(t){return t instanceof e.Query});p&&(a[t]=p)}),this._merge(t,i,o,s,a,r)},t.prototype._extractPublicName=function(t){return y(t,[null,t])[1].trim()},t.prototype._dedupeBindings=function(t){for(var e=new Set,n=[],r=t.length-1;r>=0;r--){var i=t[r],o=this._extractPublicName(i);e.has(o)||(e.add(o),n.push(i))}return n.reverse()},t.prototype._merge=function(t,n,r,i,o,s){var a=this._dedupeBindings(t.inputs?t.inputs.concat(n):n),u=this._dedupeBindings(t.outputs?t.outputs.concat(r):r),c=t.host?ro.merge(t.host,i):i,l=t.queries?ro.merge(t.queries,o):o;return t instanceof e.Component?new e.Component({selector:t.selector,inputs:a,outputs:u,host:c,exportAs:t.exportAs,moduleId:t.moduleId,queries:l,changeDetection:t.changeDetection,providers:t.providers,viewProviders:t.viewProviders,entryComponents:t.entryComponents,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,encapsulation:t.encapsulation,animations:t.animations,interpolation:t.interpolation}):new e.Directive({selector:t.selector,inputs:a,outputs:u,host:c,exportAs:t.exportAs,queries:l,providers:t.providers})},t=vh([M(),gh("design:paramtypes",[co])],t)}(),bh=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},wh={};wh.Const=0,wh[wh.Const]="Const";var Ch=function(){function t(t){void 0===t&&(t=null),this.modifiers=t,t||(this.modifiers=[])}return t.prototype.visitType=function(t,e){},t.prototype.hasModifier=function(t){return this.modifiers.indexOf(t)!==-1},t}(),Eh={};Eh.Dynamic=0,Eh.Bool=1,Eh.String=2,Eh.Int=3,Eh.Number=4,Eh.Function=5,Eh.Null=6,Eh[Eh.Dynamic]="Dynamic",Eh[Eh.Bool]="Bool",Eh[Eh.String]="String",Eh[Eh.Int]="Int",Eh[Eh.Number]="Number",Eh[Eh.Function]="Function",Eh[Eh.Null]="Null";var Sh=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.name=e}return bh(e,t),e.prototype.visitType=function(t,e){return t.visitBuiltintType(this,e)},e}(Ch),xh=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,r),this.value=e,this.typeParams=n}return bh(e,t),e.prototype.visitType=function(t,e){return t.visitExpressionType(this,e)},e}(Ch),Ph=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.of=e}return bh(e,t),e.prototype.visitType=function(t,e){return t.visitArrayType(this,e)},e}(Ch),Oh=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.valueType=e}return bh(e,t),e.prototype.visitType=function(t,e){return t.visitMapType(this,e)},e}(Ch),Th=new Sh(Eh.Dynamic),Ah=new Sh(Eh.Bool),Mh=(new Sh(Eh.Int),new Sh(Eh.Number)),kh=new Sh(Eh.String),Rh=new Sh(Eh.Function),Ih=new Sh(Eh.Null),Nh={};Nh.Equals=0,Nh.NotEquals=1,
Nh.Identical=2,Nh.NotIdentical=3,Nh.Minus=4,Nh.Plus=5,Nh.Divide=6,Nh.Multiply=7,Nh.Modulo=8,Nh.And=9,Nh.Or=10,Nh.Lower=11,Nh.LowerEquals=12,Nh.Bigger=13,Nh.BiggerEquals=14,Nh[Nh.Equals]="Equals",Nh[Nh.NotEquals]="NotEquals",Nh[Nh.Identical]="Identical",Nh[Nh.NotIdentical]="NotIdentical",Nh[Nh.Minus]="Minus",Nh[Nh.Plus]="Plus",Nh[Nh.Divide]="Divide",Nh[Nh.Multiply]="Multiply",Nh[Nh.Modulo]="Modulo",Nh[Nh.And]="And",Nh[Nh.Or]="Or",Nh[Nh.Lower]="Lower",Nh[Nh.LowerEquals]="LowerEquals",Nh[Nh.Bigger]="Bigger",Nh[Nh.BiggerEquals]="BiggerEquals";var Dh=function(){function t(t){this.type=t}return t.prototype.visitExpression=function(t,e){},t.prototype.prop=function(t){return new Jh(this,t)},t.prototype.key=function(t,e){return void 0===e&&(e=null),new tf(this,t,e)},t.prototype.callMethod=function(t,e){return new Bh(this,t,e)},t.prototype.callFn=function(t){return new qh(this,t)},t.prototype.instantiate=function(t,e){return void 0===e&&(e=null),new zh(this,t,e)},t.prototype.conditional=function(t,e){return void 0===e&&(e=null),new Xh(this,t,e)},t.prototype.equals=function(t){return new Zh(Nh.Equals,this,t)},t.prototype.notEquals=function(t){return new Zh(Nh.NotEquals,this,t)},t.prototype.identical=function(t){return new Zh(Nh.Identical,this,t)},t.prototype.notIdentical=function(t){return new Zh(Nh.NotIdentical,this,t)},t.prototype.minus=function(t){return new Zh(Nh.Minus,this,t)},t.prototype.plus=function(t){return new Zh(Nh.Plus,this,t)},t.prototype.divide=function(t){return new Zh(Nh.Divide,this,t)},t.prototype.multiply=function(t){return new Zh(Nh.Multiply,this,t)},t.prototype.modulo=function(t){return new Zh(Nh.Modulo,this,t)},t.prototype.and=function(t){return new Zh(Nh.And,this,t)},t.prototype.or=function(t){return new Zh(Nh.Or,this,t)},t.prototype.lower=function(t){return new Zh(Nh.Lower,this,t)},t.prototype.lowerEquals=function(t){return new Zh(Nh.LowerEquals,this,t)},t.prototype.bigger=function(t){return new Zh(Nh.Bigger,this,t)},t.prototype.biggerEquals=function(t){return new Zh(Nh.BiggerEquals,this,t)},t.prototype.isBlank=function(){return this.equals(uf)},t.prototype.cast=function(t){return new Qh(this,t)},t.prototype.toStmt=function(){return new ff(this)},t}(),jh={};jh.This=0,jh.Super=1,jh.CatchError=2,jh.CatchStack=3,jh[jh.This]="This",jh[jh.Super]="Super",jh[jh.CatchError]="CatchError",jh[jh.CatchStack]="CatchStack";var Vh=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),"string"==typeof e?(this.name=e,this.builtin=null):(this.name=null,this.builtin=e)}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadVarExpr(this,e)},e.prototype.set=function(t){return new Lh(this.name,t)},e}(Dh),Lh=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r||n.type),this.name=e,this.value=n}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitWriteVarExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),new pf(this.name,this.value,t,e)},e}(Dh),Fh=function(t){function e(e,n,r,i){void 0===i&&(i=null),t.call(this,i||r.type),this.receiver=e,this.index=n,this.value=r}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitWriteKeyExpr(this,e)},e}(Dh),Uh=function(t){function e(e,n,r,i){void 0===i&&(i=null),t.call(this,i||r.type),this.receiver=e,this.name=n,this.value=r}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitWritePropExpr(this,e)},e}(Dh),Hh={};Hh.ConcatArray=0,Hh.SubscribeObservable=1,Hh.Bind=2,Hh[Hh.ConcatArray]="ConcatArray",Hh[Hh.SubscribeObservable]="SubscribeObservable",Hh[Hh.Bind]="Bind";var Bh=function(t){function e(e,n,r,i){void 0===i&&(i=null),t.call(this,i),this.receiver=e,this.args=r,"string"==typeof n?(this.name=n,this.builtin=null):(this.name=null,this.builtin=n)}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitInvokeMethodExpr(this,e)},e}(Dh),qh=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r),this.fn=e,this.args=n}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitInvokeFunctionExpr(this,e)},e}(Dh),zh=function(t){function e(e,n,r){t.call(this,r),this.classExpr=e,this.args=n}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitInstantiateExpr(this,e)},e}(Dh),Wh=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.value=e}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralExpr(this,e)},e}(Dh),Gh=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n),this.value=e,this.typeParams=r}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitExternalExpr(this,e)},e}(Dh),Xh=function(t){function e(e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),t.call(this,i||n.type),this.condition=e,this.falseCase=r,this.trueCase=n}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitConditionalExpr(this,e)},e}(Dh),$h=function(t){function e(e){t.call(this,Ah),this.condition=e}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitNotExpr(this,e)},e}(Dh),Qh=function(t){function e(e,n){t.call(this,n),this.value=e}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitCastExpr(this,e)},e}(Dh),Yh=function(){function t(t,e){void 0===e&&(e=null),this.name=t,this.type=e}return t}(),Kh=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r),this.params=e,this.statements=n}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitFunctionExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return void 0===e&&(e=null),new hf(t,this.params,this.statements,this.type,e)},e}(Dh),Zh=function(t){function e(e,n,r,i){void 0===i&&(i=null),t.call(this,i||n.type),this.operator=e,this.rhs=r,this.lhs=n}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitBinaryOperatorExpr(this,e)},e}(Dh),Jh=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r),this.receiver=e,this.name=n}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadPropExpr(this,e)},e.prototype.set=function(t){return new Uh(this.receiver,this.name,t)},e}(Dh),tf=function(t){function e(e,n,r){void 0===r&&(r=null),t.call(this,r),this.receiver=e,this.index=n}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadKeyExpr(this,e)},e.prototype.set=function(t){return new Fh(this.receiver,this.index,t)},e}(Dh),ef=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.entries=e}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralArrayExpr(this,e)},e}(Dh),nf=function(){function t(t,e,n){void 0===n&&(n=!1),this.key=t,this.value=e,this.quoted=n}return t}(),rf=function(t){function e(e,n){void 0===n&&(n=null),t.call(this,n),this.entries=e,this.valueType=null,r(n)&&(this.valueType=n.valueType)}return bh(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralMapExpr(this,e)},e}(Dh),of=new Vh(jh.This),sf=new Vh(jh.Super),af=(new Vh(jh.CatchError),new Vh(jh.CatchStack),new Wh(null,null)),uf=new Wh(null,Ih),cf={};cf.Final=0,cf.Private=1,cf[cf.Final]="Final",cf[cf.Private]="Private";var lf=function(){function t(t){void 0===t&&(t=null),this.modifiers=t,t||(this.modifiers=[])}return t.prototype.visitStatement=function(t,e){},t.prototype.hasModifier=function(t){return this.modifiers.indexOf(t)!==-1},t}(),pf=function(t){function e(e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),t.call(this,i),this.name=e,this.value=n,this.type=r||n.type}return bh(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareVarStmt(this,e)},e}(lf),hf=function(t){function e(e,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=null),t.call(this,o),this.name=e,this.params=n,this.statements=r,this.type=i}return bh(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareFunctionStmt(this,e)},e}(lf),ff=function(t){function e(e){t.call(this),this.expr=e}return bh(e,t),e.prototype.visitStatement=function(t,e){return t.visitExpressionStmt(this,e)},e}(lf),df=function(t){function e(e){t.call(this),this.value=e}return bh(e,t),e.prototype.visitStatement=function(t,e){return t.visitReturnStmt(this,e)},e}(lf),yf=function(){function t(t,e){void 0===t&&(t=null),this.type=t,this.modifiers=e,e||(this.modifiers=[])}return t.prototype.hasModifier=function(t){return this.modifiers.indexOf(t)!==-1},t}(),mf=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this.name=e}return bh(e,t),e}(yf),vf=function(t){function e(e,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=null),t.call(this,i,o),this.name=e,this.params=n,this.body=r}return bh(e,t),e}(yf),gf=function(t){function e(e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),t.call(this,r,i),this.name=e,this.body=n}return bh(e,t),e}(yf),_f=function(t){function e(e,n,r,i,o,s,a){void 0===a&&(a=null),t.call(this,a),this.name=e,this.parent=n,this.fields=r,this.getters=i,this.constructorMethod=o,this.methods=s}return bh(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareClassStmt(this,e)},e}(lf),bf=function(t){function e(e,n,r){void 0===r&&(r=[]),t.call(this),this.condition=e,this.trueCase=n,this.falseCase=r}return bh(e,t),e.prototype.visitStatement=function(t,e){return t.visitIfStmt(this,e)},e}(lf),wf=(function(t){function e(e){t.call(this),this.comment=e}return bh(e,t),e.prototype.visitStatement=function(t,e){return t.visitCommentStmt(this,e)},e}(lf),function(t){function e(e,n){t.call(this),this.bodyStmts=e,this.catchStmts=n}return bh(e,t),e.prototype.visitStatement=function(t,e){return t.visitTryCatchStmt(this,e)},e}(lf)),Cf=function(t){function e(e){t.call(this),this.error=e}return bh(e,t),e.prototype.visitStatement=function(t,e){return t.visitThrowStmt(this,e)},e}(lf),Ef=function(){function t(){}return t.prototype.visitReadVarExpr=function(t,e){return t},t.prototype.visitWriteVarExpr=function(t,e){return new Lh(t.name,t.value.visitExpression(this,e))},t.prototype.visitWriteKeyExpr=function(t,e){return new Fh(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e))},t.prototype.visitWritePropExpr=function(t,e){return new Uh(t.receiver.visitExpression(this,e),t.name,t.value.visitExpression(this,e))},t.prototype.visitInvokeMethodExpr=function(t,e){var n=t.builtin||t.name;return new Bh(t.receiver.visitExpression(this,e),n,this.visitAllExpressions(t.args,e),t.type)},t.prototype.visitInvokeFunctionExpr=function(t,e){return new qh(t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type)},t.prototype.visitInstantiateExpr=function(t,e){return new zh(t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type)},t.prototype.visitLiteralExpr=function(t,e){return t},t.prototype.visitExternalExpr=function(t,e){return t},t.prototype.visitConditionalExpr=function(t,e){return new Xh(t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e))},t.prototype.visitNotExpr=function(t,e){return new $h(t.condition.visitExpression(this,e))},t.prototype.visitCastExpr=function(t,e){return new Qh(t.value.visitExpression(this,e),e)},t.prototype.visitFunctionExpr=function(t,e){return t},t.prototype.visitBinaryOperatorExpr=function(t,e){return new Zh(t.operator,t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t.type)},t.prototype.visitReadPropExpr=function(t,e){return new Jh(t.receiver.visitExpression(this,e),t.name,t.type)},t.prototype.visitReadKeyExpr=function(t,e){return new tf(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.type)},t.prototype.visitLiteralArrayExpr=function(t,e){return new ef(this.visitAllExpressions(t.entries,e))},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r=t.entries.map(function(t){return new nf(t.key,t.value.visitExpression(n,e),t.quoted)});return new rf(r)},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return new pf(t.name,t.value.visitExpression(this,e),t.type,t.modifiers)},t.prototype.visitDeclareFunctionStmt=function(t,e){return t},t.prototype.visitExpressionStmt=function(t,e){return new ff(t.expr.visitExpression(this,e))},t.prototype.visitReturnStmt=function(t,e){return new df(t.value.visitExpression(this,e))},t.prototype.visitDeclareClassStmt=function(t,e){return t},t.prototype.visitIfStmt=function(t,e){return new bf(t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e))},t.prototype.visitTryCatchStmt=function(t,e){return new wf(this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e))},t.prototype.visitThrowStmt=function(t,e){return new Cf(t.error.visitExpression(this,e))},t.prototype.visitCommentStmt=function(t,e){return t},t.prototype.visitAllStatements=function(t,e){var n=this;return t.map(function(t){return t.visitStatement(n,e)})},t}(),Sf=function(){function t(){}return t.prototype.visitReadVarExpr=function(t,e){return t},t.prototype.visitWriteVarExpr=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitWriteKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),t},t.prototype.visitWritePropExpr=function(t,e){return t.receiver.visitExpression(this,e),t.value.visitExpression(this,e),t},t.prototype.visitInvokeMethodExpr=function(t,e){return t.receiver.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitInstantiateExpr=function(t,e){return t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitLiteralExpr=function(t,e){return t},t.prototype.visitExternalExpr=function(t,e){return t},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),t},t.prototype.visitNotExpr=function(t,e){return t.condition.visitExpression(this,e),t},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitFunctionExpr=function(t,e){return t},t.prototype.visitBinaryOperatorExpr=function(t,e){return t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),t},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e),t},t.prototype.visitLiteralMapExpr=function(t,e){var n=this;return t.entries.forEach(function(t){return t.value.visitExpression(n,e)}),t},t.prototype.visitAllExpressions=function(t,e){var n=this;t.forEach(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareFunctionStmt=function(t,e){return t},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),t},t.prototype.visitReturnStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareClassStmt=function(t,e){return t},t.prototype.visitIfStmt=function(t,e){return t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t},t.prototype.visitTryCatchStmt=function(t,e){return this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t},t.prototype.visitThrowStmt=function(t,e){return t.error.visitExpression(this,e),t},t.prototype.visitCommentStmt=function(t,e){return t},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}(),xf=function(t){function e(e,n){t.call(this),this._varName=e,this._newValue=n}return bh(e,t),e.prototype.visitReadVarExpr=function(t,e){return t.name==this._varName?this._newValue:t},e}(Ef),Pf=function(t){function e(){t.apply(this,arguments),this.varNames=new Set}return bh(e,t),e.prototype.visitReadVarExpr=function(t,e){return this.varNames.add(t.name),null},e}(Sf),Of=function(){function t(t,e){this.expression=t,this.bindingId=e}return t}(),Tf=Ge("valUnwrapper"),Af=function(){function t(){}return t.event=Ge("$event"),t}(),Mf=function(){function t(t,e,n){this.stmts=t,this.currValExpr=e,this.forceUpdate=n}return t}(),kf=function(){function t(t,e){this.stmts=t,this.preventDefault=e}return t}(),Rf={};Rf.Statement=0,Rf.Expression=1,Rf[Rf.Statement]="Statement",Rf[Rf.Expression]="Expression";var If=function(){function t(t,e,n,r,i,o){this._builder=t,this._nameResolver=e,this._implicitReceiver=n,this._valueUnwrapper=r,this.bindingId=i,this.isAction=o,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.needsValueUnwrapper=!1,this.temporaryCount=0}return t.prototype.visitBinary=function(t,e){var n;switch(t.operation){case"+":n=Nh.Plus;break;case"-":n=Nh.Minus;break;case"*":n=Nh.Multiply;break;case"/":n=Nh.Divide;break;case"%":n=Nh.Modulo;break;case"&&":n=Nh.And;break;case"||":n=Nh.Or;break;case"==":n=Nh.Equals;break;case"!=":n=Nh.NotEquals;break;case"===":n=Nh.Identical;break;case"!==":n=Nh.NotIdentical;break;case"<":n=Nh.Lower;break;case">":n=Nh.Bigger;break;case"<=":n=Nh.LowerEquals;break;case">=":n=Nh.BiggerEquals;break;default:throw new Error("Unsupported operation "+t.operation)}return vn(e,new Zh(n,this.visit(t.left,Rf.Expression),this.visit(t.right,Rf.Expression)))},t.prototype.visitChain=function(t,e){return yn(e,t),this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){var n=this.visit(t.condition,Rf.Expression);return vn(e,n.conditional(this.visit(t.trueExp,Rf.Expression),this.visit(t.falseExp,Rf.Expression)))},t.prototype.visitPipe=function(t,e){var n=this.visit(t.exp,Rf.Expression),r=this.visitAll(t.args,Rf.Expression),i=this._nameResolver.callPipe(t.name,n,r);if(!i)throw new Error("Illegal state: Pipe "+t.name+" is not allowed here!");return this.needsValueUnwrapper=!0,vn(e,this._valueUnwrapper.callMethod("unwrap",[i]))},t.prototype.visitFunctionCall=function(t,e){return vn(e,this.visit(t.target,Rf.Expression).callFn(this.visitAll(t.args,Rf.Expression)))},t.prototype.visitImplicitReceiver=function(t,e){return mn(e,t),this._implicitReceiver},t.prototype.visitInterpolation=function(t,e){mn(e,t);for(var n=[tn(t.expressions.length)],r=0;r<t.strings.length-1;r++)n.push(tn(t.strings[r])),n.push(this.visit(t.expressions[r],Rf.Expression));return n.push(tn(t.strings[t.strings.length-1])),t.expressions.length<=9?Xe(Yt(_l.inlineInterpolate)).callFn(n):Xe(Yt(_l.interpolate)).callFn([n[0],Ye(n.slice(1))])},t.prototype.visitKeyedRead=function(t,e){var n=this.leftMostSafeNode(t);return n?this.convertSafeAccess(t,n,e):vn(e,this.visit(t.obj,Rf.Expression).key(this.visit(t.key,Rf.Expression)))},t.prototype.visitKeyedWrite=function(t,e){var n=this.visit(t.obj,Rf.Expression),r=this.visit(t.key,Rf.Expression),i=this.visit(t.value,Rf.Expression);return vn(e,n.key(r).set(i))},t.prototype.visitLiteralArray=function(t,e){var n=this.visitAll(t.expressions,e),r=this.isAction?Ye(n):_n(this._builder,n);return vn(e,r)},t.prototype.visitLiteralMap=function(t,e){for(var n=[],r=0;r<t.keys.length;r++)n.push([t.keys[r],this.visit(t.values[r],Rf.Expression)]);var i=this.isAction?Ke(n):bn(this._builder,n);return vn(e,i)},t.prototype.visitLiteralPrimitive=function(t,e){return vn(e,tn(t.value))},t.prototype._getLocal=function(t){return this.isAction&&t==Af.event.name?Af.event:this._nameResolver.getLocal(t)},t.prototype.visitMethodCall=function(t,e){var n=this.leftMostSafeNode(t);if(n)return this.convertSafeAccess(t,n,e);var r=this.visitAll(t.args,Rf.Expression),o=null,s=this.visit(t.receiver,Rf.Expression);if(s===this._implicitReceiver){var a=this._getLocal(t.name);a&&(o=a.callFn(r))}return i(o)&&(o=s.callMethod(t.name,r)),vn(e,o)},t.prototype.visitPrefixNot=function(t,e){return vn(e,Ze(this.visit(t.expression,Rf.Expression)))},t.prototype.visitPropertyRead=function(t,e){var n=this.leftMostSafeNode(t);if(n)return this.convertSafeAccess(t,n,e);var r=null,o=this.visit(t.receiver,Rf.Expression);return o===this._implicitReceiver&&(r=this._getLocal(t.name)),i(r)&&(r=o.prop(t.name)),vn(e,r)},t.prototype.visitPropertyWrite=function(t,e){var n=this.visit(t.receiver,Rf.Expression);if(n===this._implicitReceiver){var r=this._getLocal(t.name);if(r)throw new Error("Cannot assign to a reference or variable!")}return vn(e,n.prop(t.name).set(this.visit(t.value,Rf.Expression)))},t.prototype.visitSafePropertyRead=function(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)},t.prototype.visitSafeMethodCall=function(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)},t.prototype.visitAll=function(t,e){var n=this;return t.map(function(t){return n.visit(t,e)})},t.prototype.visitQuote=function(t,e){throw new Error("Quotes are not supported for evaluation!")},t.prototype.visit=function(t,e){var n=this._resultMap.get(t);return n?n:(this._nodeMap.get(t)||t).visit(this,e)},t.prototype.convertSafeAccess=function(t,e,n){var r,i=this.visit(e.receiver,Rf.Expression);this.needsTemporary(e.receiver)&&(r=this.allocateTemporary(),i=r.set(i),this._resultMap.set(e.receiver,r));var o=i.isBlank();e instanceof iu?this._nodeMap.set(e,new ru(e.span,e.receiver,e.name,e.args)):this._nodeMap.set(e,new Wa(e.span,e.receiver,e.name));var s=this.visit(t,Rf.Expression);return this._nodeMap.delete(e),r&&this.releaseTemporary(r),vn(n,o.conditional(tn(null),s))},t.prototype.leftMostSafeNode=function(t){var e=this,n=function(t,n){return(e._nodeMap.get(n)||n).visit(t)};return t.visit({visitBinary:function(t){return null},visitChain:function(t){return null},visitConditional:function(t){return null},visitFunctionCall:function(t){return null},visitImplicitReceiver:function(t){return null},visitInterpolation:function(t){return null},visitKeyedRead:function(t){return n(this,t.obj)},visitKeyedWrite:function(t){return null},visitLiteralArray:function(t){return null},visitLiteralMap:function(t){return null},visitLiteralPrimitive:function(t){return null},visitMethodCall:function(t){return n(this,t.receiver)},visitPipe:function(t){return null},visitPrefixNot:function(t){return null},visitPropertyRead:function(t){return n(this,t.receiver)},visitPropertyWrite:function(t){return null},visitQuote:function(t){return null},visitSafeMethodCall:function(t){return n(this,t.receiver)||t},visitSafePropertyRead:function(t){return n(this,t.receiver)||t}})},t.prototype.needsTemporary=function(t){var e=this,n=function(t,n){return n&&(e._nodeMap.get(n)||n).visit(t)},r=function(t,e){return e.some(function(e){return n(t,e)})};return t.visit({visitBinary:function(t){return n(this,t.left)||n(this,t.right)},visitChain:function(t){return!1},visitConditional:function(t){return n(this,t.condition)||n(this,t.trueExp)||n(this,t.falseExp)},visitFunctionCall:function(t){return!0},visitImplicitReceiver:function(t){return!1},visitInterpolation:function(t){return r(this,t.expressions)},visitKeyedRead:function(t){return!1},visitKeyedWrite:function(t){return!1},visitLiteralArray:function(t){return!0},visitLiteralMap:function(t){return!0},visitLiteralPrimitive:function(t){return!1},visitMethodCall:function(t){return!0},visitPipe:function(t){return!0},visitPrefixNot:function(t){return n(this,t.expression)},visitPropertyRead:function(t){return!1},visitPropertyWrite:function(t){return!1},visitQuote:function(t){return!1},visitSafeMethodCall:function(t){return!0},visitSafePropertyRead:function(t){return!1}})},t.prototype.allocateTemporary=function(){var t=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new Vh(hn(this.bindingId,t))},t.prototype.releaseTemporary=function(t){if(this._currentTemporary--,t.name!=hn(this.bindingId,this._currentTemporary))throw new Error("Temporary "+t.name+" released out of order")},t}(),Nf=function(){function t(){}return t.prototype.callPipe=function(t,e,n){return null},t.prototype.getLocal=function(t){return null},t}(),Df=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},jf=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vf=function(){function t(t,e){this.statements=t,this.dirWrapperClassVar=e}return t}(),Lf="context",Ff="_changes",Uf="_changed",Hf="_eventHandler",Bf=Ge("currValue"),qf=Ge("throwOnChange"),zf=Ge("forceUpdate"),Wf=Ge("view"),Gf=Ge("componentView"),Xf=Ge("el"),$f=Ge("eventName"),Qf=of.prop(Ff).set(Ke([])).toStmt(),Yf=function(){function t(t,e,n,r){this.compilerConfig=t,this._exprParser=e,this._schemaRegistry=n,this._console=r}return t.dirWrapperClassName=function(t){return"Wrapper_"+b(t)},t.prototype.compile=function(t){var e=Nn(t,this._exprParser,this._schemaRegistry);Dn(e.errors,this._console);var n=new Kf(this.compilerConfig,t);Object.keys(t.inputs).forEach(function(t){Mn(t,n)}),An(n),kn(e.hostProps,e.hostListeners,n),Rn(e.hostListeners,n),In(t,n);var r=n.build();return new Vf([r],r.name)},t=Df([M(),jf("design:paramtypes",[Rp,wu,Ml,Po])],t)}(),Kf=function(){function t(t,e){this.compilerConfig=t,this.dirMeta=e,this.fields=[],this.getters=[],this.methods=[],this.ctorStmts=[],this.detachStmts=[],this.destroyStmts=[];var n=e.type.lifecycleHooks;this.genChanges=n.indexOf(ao.OnChanges)!==-1||this.compilerConfig.logBindingUpdate,this.ngOnChanges=n.indexOf(ao.OnChanges)!==-1,this.ngOnInit=n.indexOf(ao.OnInit)!==-1,this.ngDoCheck=n.indexOf(ao.DoCheck)!==-1,this.ngOnDestroy=n.indexOf(ao.OnDestroy)!==-1,this.ngOnDestroy&&this.destroyStmts.push(of.prop(Lf).callMethod("ngOnDestroy",[]).toStmt())}return t.prototype.build=function(){for(var t=[],e=0;e<this.dirMeta.type.diDeps.length;e++)t.push("p"+e);var n=[new vf("ngOnDetach",[new Yh(Wf.name,$e(Yt(_l.AppView),[Th])),new Yh(Gf.name,$e(Yt(_l.AppView),[Th])),new Yh(Xf.name,Th)],this.detachStmts),new vf("ngOnDestroy",[],this.destroyStmts)],r=[new mf(Hf,Rh,[cf.Private]),new mf(Lf,$e(this.dirMeta.type)),new mf(Uf,Ah,[cf.Private])],i=[of.prop(Uf).set(tn(!1)).toStmt()];return this.genChanges&&(r.push(new mf(Ff,new Oh(Th),[cf.Private])),i.push(Qf)),i.push(of.prop(Lf).set(Xe(this.dirMeta.type).instantiate(t.map(function(t){return Ge(t)}))).toStmt()),On({name:Yf.dirWrapperClassName(this.dirMeta.type),ctorParams:t.map(function(t){return new Yh(t,Th)}),builders:[{fields:r,ctorStmts:i,methods:n},this]})},t}(),Zf=function(){function t(t,e,n){this.hostProps=t,this.hostListeners=e,this.errors=n}return t}(),Jf=function(){function t(){}return t.create=function(t,e){return Xe(t).instantiate(e,$e(t))},t.context=function(t){return t.prop(Lf)},t.ngDoCheck=function(t,e,n,r){return t.callMethod("ngDoCheck",[e,n,r])},t.checkHost=function(t,e,n,r,i,o,s){return t.length?[e.callMethod("checkHost",[n,r,i,o].concat(s)).toStmt()]:[]},t.ngOnDetach=function(t,e,n,r,i){return t.some(function(t){return t.isAnimation})?[e.callMethod("ngOnDetach",[n,r,i]).toStmt()]:[]},t.ngOnDestroy=function(t,e){return t.type.lifecycleHooks.indexOf(ao.OnDestroy)!==-1||Object.keys(t.outputs).length>0?[e.callMethod("ngOnDestroy",[]).toStmt()]:[]},t.subscribe=function(t,e,n,r,i,o){var s=!1,a=[];return Object.keys(t.outputs).forEach(function(e){var r=t.outputs[e],i=n.indexOf(r)>-1;s=s||i,a.push(tn(i))}),e.forEach(function(t){t.isAnimation&&n.length>0&&(s=!0)}),s?[r.callMethod("subscribe",[i,o].concat(a)).toStmt()]:[]},t.handleEvent=function(t,e,n,r){return e.callMethod("handleEvent",[n,r])},t}(),td=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ed=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},nd=function(){function t(t){void 0===t&&(t=Oo),this._reflector=t}return t.prototype.isNgModule=function(t){return this._reflector.annotations(t).some(Ln)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var n=io.findLast(this._reflector.annotations(t),Ln);if(n)return n;if(e)throw new Error("No NgModule metadata found for '"+s(t)+"'.");return null},t=td([M(),ed("design:paramtypes",[co])],t)}(),rd=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},id=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},od=function(){function t(t){void 0===t&&(t=Oo),this._reflector=t}return t.prototype.isPipe=function(t){var n=this._reflector.annotations(e.resolveForwardRef(t));return n&&n.some(Fn)},t.prototype.resolve=function(t,n){void 0===n&&(n=!0);var r=this._reflector.annotations(e.resolveForwardRef(t));if(r){var i=io.findLast(r,Fn);if(i)return i}if(n)throw new Error("No Pipe decorator found on "+s(t));return null},t=rd([M(),id("design:paramtypes",[co])],t)}(),sd=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ad=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ud=function(){function t(){}return t.prototype.resolveSummary=function(t){return null},t.prototype.getSymbolsOf=function(t){return[]},t=sd([M(),ad("design:paramtypes",[])],t)}(),cd=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ld=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},pd=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},hd=new e.OpaqueToken("ErrorCollector"),fd=function(){function t(t,e,n,r,i,o,s,a){void 0===s&&(s=Oo),this._ngModuleResolver=t,this._directiveResolver=e,this._pipeResolver=n,this._summaryResolver=r,this._schemaRegistry=i,this._directiveNormalizer=o,this._reflector=s,this._errorCollector=a,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map}return t.prototype.clearCacheFor=function(t){var e=this._directiveCache.get(t);this._directiveCache.delete(t),this._summaryCache.delete(t),this._pipeCache.delete(t),this._ngModuleOfTypes.delete(t),this._ngModuleCache.clear(),e&&this._directiveNormalizer.clearCacheFor(e)},t.prototype.clearCache=function(){this._directiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()},t.prototype.getAnimationEntryMetadata=function(t){var e=this,n=t.definitions.map(function(t){
return e._getAnimationStateMetadata(t)});return new hs(t.name,n)},t.prototype._getAnimationStateMetadata=function(t){if(t instanceof e.AnimationStateDeclarationMetadata){var n=this._getAnimationStyleMetadata(t.styles);return new ds(t.stateNameExpr,n)}return t instanceof e.AnimationStateTransitionMetadata?new ys(t.stateChangeExpr,this._getAnimationMetadata(t.steps)):null},t.prototype._getAnimationStyleMetadata=function(t){return new gs(t.offset,t.styles)},t.prototype._getAnimationMetadata=function(t){var n=this;if(t instanceof e.AnimationStyleMetadata)return this._getAnimationStyleMetadata(t);if(t instanceof e.AnimationKeyframesSequenceMetadata)return new vs(t.steps.map(function(t){return n._getAnimationStyleMetadata(t)}));if(t instanceof e.AnimationAnimateMetadata){var r=this._getAnimationMetadata(t.styles);return new _s(t.timings,r)}if(t instanceof e.AnimationWithStepsMetadata){var i=t.steps.map(function(t){return n._getAnimationMetadata(t)});return t instanceof e.AnimationGroupMetadata?new Cs(i):new ws(i)}return null},t.prototype._loadSummary=function(t,e){var n=this._summaryCache.get(t);if(!n){var r=this._summaryResolver.resolveSummary(t);n=r?r.type:null,this._summaryCache.set(t,n)}return n&&n.summaryKind===e?n:null},t.prototype._loadDirectiveMetadata=function(t,n){var r=this;if(!this._directiveCache.has(t)){t=e.resolveForwardRef(t);var i=this.getNonNormalizedDirectiveMetadata(t),o=i.annotation,s=i.metadata,a=function(e){var n=new Os({type:s.type,isComponent:s.isComponent,selector:s.selector,exportAs:s.exportAs,changeDetection:s.changeDetection,inputs:s.inputs,outputs:s.outputs,hostListeners:s.hostListeners,hostProperties:s.hostProperties,hostAttributes:s.hostAttributes,providers:s.providers,viewProviders:s.viewProviders,queries:s.queries,viewQueries:s.viewQueries,entryComponents:s.entryComponents,template:e});return r._directiveCache.set(t,n),r._summaryCache.set(t,n.toSummary()),n};if(s.isComponent){var u=this._directiveNormalizer.normalizeTemplate({componentType:t,moduleUrl:zn(this._reflector,t,o),encapsulation:s.template.encapsulation,template:s.template.template,templateUrl:s.template.templateUrl,styles:s.template.styles,styleUrls:s.template.styleUrls,animations:s.template.animations,interpolation:s.template.interpolation});return u.syncResult?(a(u.syncResult),null):n?(this._reportError(new zo(t),t),null):u.asyncResult.then(a)}return a(null),null}},t.prototype.getNonNormalizedDirectiveMetadata=function(t){var n=this;t=e.resolveForwardRef(t);var i=this._directiveResolver.resolve(t);if(!i)return null;var o;if(i instanceof e.Component){k("styles",i.styles),k("styleUrls",i.styleUrls),R("interpolation",i.interpolation);var s=i.animations?i.animations.map(function(t){return n.getAnimationEntryMetadata(t)}):null;o=new Ps({encapsulation:i.encapsulation,template:i.template,templateUrl:i.templateUrl,styles:i.styles,styleUrls:i.styleUrls,animations:s,interpolation:i.interpolation})}var a=null,u=[],c=[],l=i.selector;i instanceof e.Component?(a=i.changeDetection,i.viewProviders&&(u=this._getProvidersMetadata(i.viewProviders,c,'viewProviders for "'+Gn(t)+'"',[],t)),i.entryComponents&&(c=Bn(i.entryComponents).map(function(t){return n._getIdentifierMetadata(t)}).concat(c)),l||(l=this._schemaRegistry.getDefaultComponentElementName())):l||(this._reportError(new cs("Directive "+Gn(t)+" has no selector, please add it!"),t),l="error");var p=[];r(i.providers)&&(p=this._getProvidersMetadata(i.providers,c,'providers for "'+Gn(t)+'"',[],t));var h=[],f=[];r(i.queries)&&(h=this._getQueriesMetadata(i.queries,!1,t),f=this._getQueriesMetadata(i.queries,!0,t));var d=Os.create({selector:l,exportAs:i.exportAs,isComponent:!!o,type:this._getTypeMetadata(t),template:o,changeDetection:a,inputs:i.inputs,outputs:i.outputs,host:i.host,providers:p,viewProviders:u,queries:h,viewQueries:f,entryComponents:c});return{metadata:d,annotation:i}},t.prototype.getDirectiveMetadata=function(t){var e=this._directiveCache.get(t);return e||this._reportError(new cs("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive "+Gn(t)+"."),t),e},t.prototype.getDirectiveSummary=function(t){var e=this._loadSummary(t,Ss.Directive);return e||this._reportError(new cs("Illegal state: Could not load the summary for directive "+Gn(t)+"."),t),e},t.prototype.isDirective=function(t){return this._directiveResolver.isDirective(t)},t.prototype.isPipe=function(t){return this._pipeResolver.isPipe(t)},t.prototype.getNgModuleSummary=function(t){var e=this._loadSummary(t,Ss.NgModule);if(!e){var n=this.getNgModuleMetadata(t,!1);e=n?n.toSummary():null,e&&this._summaryCache.set(t,e)}return e},t.prototype.loadNgModuleDirectiveAndPipeMetadata=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=this.getNgModuleMetadata(t,n),o=[];return i&&(i.declaredDirectives.forEach(function(t){var n=r._loadDirectiveMetadata(t.reference,e);n&&o.push(n)}),i.declaredPipes.forEach(function(t){return r._loadPipeMetadata(t.reference)})),Promise.all(o)},t.prototype.getNgModuleMetadata=function(t,n){var r=this;void 0===n&&(n=!0),t=e.resolveForwardRef(t);var i=this._ngModuleCache.get(t);if(i)return i;var o=this._ngModuleResolver.resolve(t,n);if(!o)return null;var s=[],a=[],u=[],c=[],l=[],p=[],h=[],f=[],d=[];o.imports&&Bn(o.imports).forEach(function(e){var n;if(qn(e))n=e;else if(e&&e.ngModule){var i=e;n=i.ngModule,i.providers&&p.push.apply(p,r._getProvidersMetadata(i.providers,h,"provider for the NgModule '"+Gn(n)+"'",[],e))}if(!n)return void r._reportError(new cs("Unexpected value '"+Gn(e)+"' imported by the module '"+Gn(t)+"'"),t);var o=r.getNgModuleSummary(n);return o?void c.push(o):void r._reportError(new cs("Unexpected "+r._getTypeDescriptor(e)+" '"+Gn(e)+"' imported by the module '"+Gn(t)+"'"),t)}),o.exports&&Bn(o.exports).forEach(function(e){if(!qn(e))return void r._reportError(new cs("Unexpected value '"+Gn(e)+"' exported by the module '"+Gn(t)+"'"),t);var n=r.getNgModuleSummary(e);n?l.push(n):a.push(r._getIdentifierMetadata(e))});var y=this._getTransitiveNgModuleMetadata(c,l);o.declarations&&Bn(o.declarations).forEach(function(e){if(!qn(e))return void r._reportError(new cs("Unexpected value '"+Gn(e)+"' declared by the module '"+Gn(t)+"'"),t);var n=r._getIdentifierMetadata(e);if(r._directiveResolver.isDirective(e))y.addDirective(n),s.push(n),r._addTypeToModule(e,t);else{if(!r._pipeResolver.isPipe(e))return void r._reportError(new cs("Unexpected "+r._getTypeDescriptor(e)+" '"+Gn(e)+"' declared by the module '"+Gn(t)+"'"),t);y.addPipe(n),y.pipes.push(n),u.push(n),r._addTypeToModule(e,t)}});var m=[],v=[];return a.forEach(function(e){y.directivesSet.has(e.reference)?(m.push(e),y.addExportedDirective(e)):y.pipesSet.has(e.reference)?(v.push(e),y.addExportedPipe(e)):r._reportError(new cs("Can't export "+r._getTypeDescriptor(e.reference)+" "+Gn(e.reference)+" from "+Gn(t)+" as it was neither declared nor imported!"),t)}),o.providers&&p.push.apply(p,this._getProvidersMetadata(o.providers,h,"provider for the NgModule '"+Gn(t)+"'",[],t)),o.entryComponents&&h.push.apply(h,Bn(o.entryComponents).map(function(t){return r._getIdentifierMetadata(t)})),o.bootstrap&&Bn(o.bootstrap).forEach(function(e){return qn(e)?void f.push(r._getIdentifierMetadata(e)):void r._reportError(new cs("Unexpected value '"+Gn(e)+"' used in the bootstrap property of module '"+Gn(t)+"'"),t)}),h.push.apply(h,f),o.schemas&&d.push.apply(d,Bn(o.schemas)),i=new As({type:this._getTypeMetadata(t),providers:p,entryComponents:h,bootstrapComponents:f,schemas:d,declaredDirectives:s,exportedDirectives:m,declaredPipes:u,exportedPipes:v,importedModules:c,exportedModules:l,transitiveModule:y,id:o.id}),h.forEach(function(t){return y.addEntryComponent(t)}),p.forEach(function(t){return y.addProvider(t,i.type)}),y.addModule(i.type),this._ngModuleCache.set(t,i),i},t.prototype._getTypeDescriptor=function(t){return this._directiveResolver.isDirective(t)?"directive":this._pipeResolver.isPipe(t)?"pipe":this._ngModuleResolver.isNgModule(t)?"module":t.provide?"provider":"value"},t.prototype._addTypeToModule=function(t,e){var n=this._ngModuleOfTypes.get(t);n&&n!==e&&this._reportError(new cs("Type "+Gn(t)+" is part of the declarations of 2 modules: "+Gn(n)+" and "+Gn(e)+"! "+("Please consider moving "+Gn(t)+" to a higher module that imports "+Gn(n)+" and "+Gn(e)+". ")+("You can also create a new NgModule that exports and includes "+Gn(t)+" then import that NgModule in "+Gn(n)+" and "+Gn(e)+".")),e),this._ngModuleOfTypes.set(t,e)},t.prototype._getTransitiveNgModuleMetadata=function(t,e){var n=new Ms,r=new Map;return t.concat(e).forEach(function(t){t.modules.forEach(function(t){return n.addModule(t)}),t.entryComponents.forEach(function(t){return n.addEntryComponent(t)});var e=new Set;t.providers.forEach(function(t){var i=E(t.provider.token),o=r.get(i);o||(o=new Set,r.set(i,o));var s=t.module.reference;!e.has(i)&&o.has(s)||(o.add(s),e.add(i),n.addProvider(t.provider,t.module))})}),e.forEach(function(t){t.exportedDirectives.forEach(function(t){return n.addExportedDirective(t)}),t.exportedPipes.forEach(function(t){return n.addExportedPipe(t)})}),t.forEach(function(t){t.exportedDirectives.forEach(function(t){return n.addDirective(t)}),t.exportedPipes.forEach(function(t){return n.addPipe(t)})}),n},t.prototype._getIdentifierMetadata=function(t){return t=e.resolveForwardRef(t),{reference:t}},t.prototype.isInjectable=function(t){var n=this._reflector.annotations(t);return n.some(function(t){return t.constructor===e.Injectable})},t.prototype.getInjectableSummary=function(t){return{summaryKind:Ss.Injectable,type:this._getTypeMetadata(t)}},t.prototype._getInjectableMetadata=function(t,e){void 0===e&&(e=null);var n=this._loadSummary(t,Ss.Injectable);return n?n.type:this._getTypeMetadata(t,e)},t.prototype._getTypeMetadata=function(t,e){void 0===e&&(e=null);var n=this._getIdentifierMetadata(t);return{reference:n.reference,diDeps:this._getDependenciesMetadata(n.reference,e),lifecycleHooks:uo.filter(function(t){return jn(t,n.reference)})}},t.prototype._getFactoryMetadata=function(t,n){return void 0===n&&(n=null),t=e.resolveForwardRef(t),{reference:t,diDeps:this._getDependenciesMetadata(t,n)}},t.prototype.getPipeMetadata=function(t){var e=this._pipeCache.get(t);return e||this._reportError(new cs("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe "+Gn(t)+"."),t),e},t.prototype.getPipeSummary=function(t){var e=this._loadSummary(t,Ss.Pipe);return e||this._reportError(new cs("Illegal state: Could not load the summary for pipe "+Gn(t)+"."),t),e},t.prototype.getOrLoadPipeMetadata=function(t){var e=this._pipeCache.get(t);return e||(e=this._loadPipeMetadata(t)),e},t.prototype._loadPipeMetadata=function(t){t=e.resolveForwardRef(t);var n=this._pipeResolver.resolve(t),r=new Ts({type:this._getTypeMetadata(t),name:n.name,pure:n.pure});return this._pipeCache.set(t,r),this._summaryCache.set(t,r.toSummary()),r},t.prototype._getDependenciesMetadata=function(t,n){var r=this,o=!1,s=n||this._reflector.parameters(t)||[],a=s.map(function(t){var n=!1,s=!1,a=!1,u=!1,c=!1,l=null;return Array.isArray(t)?t.forEach(function(t){t instanceof e.Host?s=!0:t instanceof e.Self?a=!0:t instanceof e.SkipSelf?u=!0:t instanceof e.Optional?c=!0:t instanceof e.Attribute?(n=!0,l=t.attributeName):t instanceof e.Inject?l=t.token:qn(t)&&i(l)&&(l=t)}):l=t,i(l)?(o=!0,null):{isAttribute:n,isHost:s,isSelf:a,isSkipSelf:u,isOptional:c,token:r._getTokenMetadata(l)}});if(o){var u=a.map(function(t){return t?Gn(t.token):"?"}).join(", ");this._reportError(new cs("Can't resolve all parameters for "+Gn(t)+": ("+u+")."),t)}return a},t.prototype._getTokenMetadata=function(t){t=e.resolveForwardRef(t);var n;return n="string"==typeof t?{value:t}:{identifier:{reference:t}}},t.prototype._getProvidersMetadata=function(t,n,r,i,o){var s=this;return void 0===i&&(i=[]),t.forEach(function(a,u){if(Array.isArray(a))s._getProvidersMetadata(a,n,r,i);else{a=e.resolveForwardRef(a);var c=void 0;if(a&&"object"==typeof a&&a.hasOwnProperty("provide"))c=new ks(a.provide,a);else if(qn(a))c=new ks(a,{useClass:a});else{var l=t.reduce(function(t,e,n){return n<u?t.push(""+Gn(e)):n==u?t.push("?"+Gn(e)+"?"):n==u+1&&t.push("..."),t},[]).join(", ");s._reportError(new cs("Invalid "+(r?r:"provider")+" - only instances of Provider and Type are allowed, got: ["+l+"]"),o)}c.token===Qt(_l.ANALYZE_FOR_ENTRY_COMPONENTS)?n.push.apply(n,s._getEntryComponentsFromProvider(c,o)):i.push(s.getProviderMetadata(c))}}),i},t.prototype._getEntryComponentsFromProvider=function(t,e){var n=this,r=[],i=[];return t.useFactory||t.useExisting||t.useClass?(this._reportError(new cs("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),e),[]):t.multi?(Wn(t.useValue,i),i.forEach(function(t){(n._directiveResolver.isDirective(t.reference)||n._loadSummary(t.reference,Ss.Directive))&&r.push(t)}),r):(this._reportError(new cs("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),e),[])},t.prototype.getProviderMetadata=function(t){var e,n=null,r=null,i=this._getTokenMetadata(t.token);return t.useClass?(n=this._getInjectableMetadata(t.useClass,t.dependencies),e=n.diDeps,t.token===t.useClass&&(i={identifier:n})):t.useFactory&&(r=this._getFactoryMetadata(t.useFactory,t.dependencies),e=r.diDeps),{token:i,useClass:n,useValue:t.useValue,useFactory:r,useExisting:t.useExisting?this._getTokenMetadata(t.useExisting):null,deps:e,multi:t.multi}},t.prototype._getQueriesMetadata=function(t,e,n){var r=this,i=[];return Object.keys(t).forEach(function(o){var s=t[o];s.isViewQuery===e&&i.push(r._getQueryMetadata(s,o,n))}),i},t.prototype._queryVarBindings=function(t){return t.split(/\s*,\s*/)},t.prototype._getQueryMetadata=function(t,e,n){var r,i=this;return"string"==typeof t.selector?r=this._queryVarBindings(t.selector).map(function(t){return i._getTokenMetadata(t)}):(t.selector||this._reportError(new cs("Can't construct a query for the property \""+e+'" of "'+Gn(n)+"\" since the query selector wasn't defined."),n),r=[this._getTokenMetadata(t.selector)]),{selectors:r,first:t.first,descendants:t.descendants,propertyName:e,read:t.read?this._getTokenMetadata(t.read):null}},t.prototype._reportError=function(t,e,n){if(!this._errorCollector)throw t;this._errorCollector(t,e),n&&this._errorCollector(t,n)},t.ctorParameters=function(){return[{type:nd},{type:_h},{type:od},{type:ud},{type:Ml},{type:yh},{type:co},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[hd]}]}]},t=ld([M(),pd("design:paramtypes",[nd,_h,od,ud,Ml,yh,co,Function])],t)}(),dd=function(t){function e(){t.apply(this,arguments)}return cd(e,t),e.prototype.visitOther=function(t,e){e.push({reference:t})},e}(as),yd="$quoted$",md=function(){function t(){}return t.prototype.visitArray=function(t,e){var n=this;return Ye(t.map(function(t){return g(t,n,null)}),e)},t.prototype.visitStringMap=function(t,e){var n=this,r=[],i=new Set(t&&t[yd]);return Object.keys(t).forEach(function(e){r.push(new nf(e,g(t[e],n,null),i.has(e)))}),new rf(r,e)},t.prototype.visitPrimitive=function(t,e){return tn(t,e)},t.prototype.visitOther=function(t,e){return t instanceof Dh?t:Xe({reference:t})},t}(),vd=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},gd=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_d=function(){function t(t,e){this.comp=t,this.placeholder=e}return t}(),bd=function(){function t(t,e,n){this.statements=t,this.ngModuleFactoryVar=e,this.dependencies=n}return t}(),wd=function(){function t(){}return t.prototype.compile=function(t,e){var n=w(t.type),i=r(n)?"in NgModule "+b(t.type)+" in "+n:"in NgModule "+b(t.type),o=new xu("",i),s=new Pu(new Su(o,null,null,null),new Su(o,null,null,null)),a=[],u=[],c=t.transitiveModule.entryComponents.map(function(e){var n={reference:null};return t.bootstrapComponents.some(function(t){return t.reference===e.reference})&&u.push(n),a.push(new _d(e,n)),n}),l=new Cd(t,c,u,s),p=new Al(t,e,s);p.parse().forEach(function(t){return l.addProvider(t)});var h=l.build(),f=b(t.type)+"NgFactory",d=Ge(f).set(Xe(Yt(_l.NgModuleFactory)).instantiate([Ge(h.name),Xe(t.type)],$e(Yt(_l.NgModuleFactory),[$e(t.type)],[wh.Const]))).toDeclStmt(null,[cf.Final]),y=[h,d];if(t.id){var m=Xe(Yt(_l.RegisterModuleFactoryFn)).callFn([tn(t.id),Ge(f)]).toStmt();y.push(m)}return new bd(y,f,a)},t=vd([M(),gd("design:paramtypes",[])],t)}(),Cd=function(){function t(t,e,n,r){this._ngModuleMeta=t,this._entryComponentFactories=e,this._bootstrapComponentFactories=n,this._sourceSpan=r,this.fields=[],this.getters=[],this.methods=[],this.ctorStmts=[],this._tokens=[],this._instances=new Map,this._createStmts=[],this._destroyStmts=[]}return t.prototype.addProvider=function(t){var e=this,n=t.providers.map(function(t){return e._getProviderValue(t)}),r="_"+C(t.token)+"_"+this._instances.size,i=this._createProviderProperty(r,t,n,t.multiProvider,t.eager);t.lifecycleHooks.indexOf(ao.OnDestroy)!==-1&&this._destroyStmts.push(i.callMethod("ngOnDestroy",[]).toStmt()),this._tokens.push(t.token),this._instances.set(E(t.token),i)},t.prototype.build=function(){var t=this,e=this._tokens.map(function(e){var n=t._instances.get(E(e));return new bf(Sd.token.identical(on(e)),[new df(n)])}),n=[new vf("createInternal",[],this._createStmts.concat(new df(this._instances.get(this._ngModuleMeta.type.reference))),$e(this._ngModuleMeta.type)),new vf("getInternal",[new Yh(Sd.token.name,Th),new Yh(Sd.notFoundResult.name,Th)],e.concat([new df(Sd.notFoundResult)]),Th),new vf("destroyInternal",[],this._destroyStmts)],r=[Ge(Ed.parent.name),Ye(this._entryComponentFactories.map(function(t){return Xe(t)})),Ye(this._bootstrapComponentFactories.map(function(t){return Xe(t)}))],i=b(this._ngModuleMeta.type)+"Injector";return On({name:i,ctorParams:[new Yh(Ed.parent.name,$e(Yt(_l.Injector)))],parent:Xe(Yt(_l.NgModuleInjector),[$e(this._ngModuleMeta.type)]),parentArgs:r,builders:[{methods:n},this]})},t.prototype._getProviderValue=function(t){var e,n=this;if(r(t.useExisting))e=this._getDependency({token:t.useExisting});else if(r(t.useFactory)){var i=t.deps||t.useFactory.diDeps,o=i.map(function(t){return n._getDependency(t)});e=Xe(t.useFactory).callFn(o)}else if(r(t.useClass)){var i=t.deps||t.useClass.diDeps,o=i.map(function(t){return n._getDependency(t)});e=Xe(t.useClass).instantiate(o,$e(t.useClass))}else e=Xn(t.useValue);return e},t.prototype._createProviderProperty=function(t,e,n,r,i){var o,s;if(r?(o=Ye(n),s=new Ph(Th)):(o=n[0],s=n[0].type),s||(s=Th),i)this.fields.push(new mf(t,s)),this._createStmts.push(of.prop(t).set(o).toStmt());else{var a="_"+t;this.fields.push(new mf(a,s));var u=[new bf(of.prop(a).isBlank(),[of.prop(a).set(o).toStmt()]),new df(of.prop(a))];this.getters.push(new gf(t,u,s))}return of.prop(t)},t.prototype._getDependency=function(t){var e=null;if(t.isValue&&(e=tn(t.value)),t.isSkipSelf||(!t.token||E(t.token)!==Qt(_l.Injector)&&E(t.token)!==Qt(_l.ComponentFactoryResolver)||(e=of),e||(e=this._instances.get(E(t.token)))),!e){var n=[on(t.token)];t.isOptional&&n.push(af),e=Ed.parent.callMethod("get",n)}return e},t}(),Ed=function(){function t(){}return t.parent=of.prop("parent"),t}(),Sd=function(){function t(){}return t.token=Ge("token"),t.notFoundResult=Ge("notFoundResult"),t}(),xd=/'|\\|\n|\r|\$/g,Pd=/^[$A-Z_][0-9A-Z_$]*$/i,Od=Ge("error"),Td=Ge("stack"),Ad=function(){function t(t){this.indent=t,this.parts=[]}return t}(),Md=function(){function t(t,e){this._exportedVars=t,this._indent=e,this._classes=[],this._lines=[new Ad(e)]}return t.createRoot=function(e){return new t(e,0)},Object.defineProperty(t.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),t.prototype.isExportedVar=function(t){return this._exportedVars.indexOf(t)!==-1},t.prototype.println=function(t){void 0===t&&(t=""),this.print(t,!0)},t.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},t.prototype.print=function(t,e){void 0===e&&(e=!1),t.length>0&&this._currentLine.parts.push(t),e&&this._lines.push(new Ad(this._indent))},t.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},t.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},t.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},t.prototype.pushClass=function(t){this._classes.push(t)},t.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(t.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.toSource=function(){var t=this._lines;return 0===t[t.length-1].parts.length&&(t=t.slice(0,t.length-1)),t.map(function(t){return t.parts.length>0?Qn(t.indent)+t.parts.join(""):""}).join("\n")},t}(),kd=function(){function t(t){this._escapeDollarInStrings=t}return t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),e.println(";"),null},t.prototype.visitReturnStmt=function(t,e){return e.print("return "),t.value.visitExpression(this,e),e.println(";"),null},t.prototype.visitCastExpr=function(t,e){},t.prototype.visitDeclareClassStmt=function(t,e){},t.prototype.visitIfStmt=function(t,e){e.print("if ("),t.condition.visitExpression(this,e),e.print(") {");var n=r(t.falseCase)&&t.falseCase.length>0;return t.trueCase.length<=1&&!n?(e.print(" "),this.visitAllStatements(t.trueCase,e),e.removeEmptyLastLine(),e.print(" ")):(e.println(),e.incIndent(),this.visitAllStatements(t.trueCase,e),e.decIndent(),n&&(e.println("} else {"),e.incIndent(),this.visitAllStatements(t.falseCase,e),e.decIndent())),e.println("}"),null},t.prototype.visitTryCatchStmt=function(t,e){},t.prototype.visitThrowStmt=function(t,e){return e.print("throw "),t.error.visitExpression(this,e),e.println(";"),null},t.prototype.visitCommentStmt=function(t,e){var n=t.comment.split("\n");return n.forEach(function(t){e.println("// "+t)}),null},t.prototype.visitDeclareVarStmt=function(t,e){},t.prototype.visitWriteVarExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print("("),e.print(t.name+" = "),t.value.visitExpression(this,e),n||e.print(")"),null},t.prototype.visitWriteKeyExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print("("),t.receiver.visitExpression(this,e),e.print("["),t.index.visitExpression(this,e),e.print("] = "),t.value.visitExpression(this,e),n||e.print(")"),null},t.prototype.visitWritePropExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print("("),t.receiver.visitExpression(this,e),e.print("."+t.name+" = "),t.value.visitExpression(this,e),n||e.print(")"),null},t.prototype.visitInvokeMethodExpr=function(t,e){t.receiver.visitExpression(this,e);var n=t.name;return r(t.builtin)&&(n=this.getBuiltinMethodName(t.builtin),i(n))?null:(e.print("."+n+"("),this.visitAllExpressions(t.args,e,","),e.print(")"),null)},t.prototype.getBuiltinMethodName=function(t){},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),e.print("("),this.visitAllExpressions(t.args,e,","),e.print(")"),null},t.prototype.visitReadVarExpr=function(t,e){var n=t.name;if(r(t.builtin))switch(t.builtin){case jh.Super:n="super";break;case jh.This:n="this";break;case jh.CatchError:n=Od.name;break;case jh.CatchStack:n=Td.name;break;default:throw new Error("Unknown builtin variable "+t.builtin)}return e.print(n),null},t.prototype.visitInstantiateExpr=function(t,e){return e.print("new "),t.classExpr.visitExpression(this,e),e.print("("),this.visitAllExpressions(t.args,e,","),e.print(")"),null},t.prototype.visitLiteralExpr=function(t,e){var n=t.value;return"string"==typeof n?e.print($n(n,this._escapeDollarInStrings)):e.print(""+n),null},t.prototype.visitExternalExpr=function(t,e){},t.prototype.visitConditionalExpr=function(t,e){return e.print("("),t.condition.visitExpression(this,e),e.print("? "),t.trueCase.visitExpression(this,e),e.print(": "),t.falseCase.visitExpression(this,e),e.print(")"),null},t.prototype.visitNotExpr=function(t,e){return e.print("!"),t.condition.visitExpression(this,e),null},t.prototype.visitFunctionExpr=function(t,e){},t.prototype.visitDeclareFunctionStmt=function(t,e){},t.prototype.visitBinaryOperatorExpr=function(t,e){var n;switch(t.operator){case Nh.Equals:n="==";break;case Nh.Identical:n="===";break;case Nh.NotEquals:n="!=";break;case Nh.NotIdentical:n="!==";break;case Nh.And:n="&&";break;case Nh.Or:n="||";break;case Nh.Plus:n="+";break;case Nh.Minus:n="-";break;case Nh.Divide:n="/";break;case Nh.Multiply:n="*";break;case Nh.Modulo:n="%";break;case Nh.Lower:n="<";break;case Nh.LowerEquals:n="<=";break;case Nh.Bigger:n=">";break;case Nh.BiggerEquals:n=">=";break;default:throw new Error("Unknown operator "+t.operator)}return e.print("("),t.lhs.visitExpression(this,e),e.print(" "+n+" "),t.rhs.visitExpression(this,e),e.print(")"),null},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print("."),e.print(t.name),null},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print("["),t.index.visitExpression(this,e),e.print("]"),null},t.prototype.visitLiteralArrayExpr=function(t,e){var n=t.entries.length>1;return e.print("[",n),e.incIndent(),this.visitAllExpressions(t.entries,e,",",n),e.decIndent(),e.print("]",n),null},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r=t.entries.length>1;return e.print("{",r),e.incIndent(),this.visitAllObjects(function(t){e.print($n(t.key,n._escapeDollarInStrings,t.quoted)+": "),t.value.visitExpression(n,e)},t.entries,e,",",r),e.decIndent(),e.print("}",r),null},t.prototype.visitAllExpressions=function(t,e,n,r){var i=this;void 0===r&&(r=!1),this.visitAllObjects(function(t){return t.visitExpression(i,e)},t,e,n,r)},t.prototype.visitAllObjects=function(t,e,n,r,i){void 0===i&&(i=!1);for(var o=0;o<e.length;o++)o>0&&n.print(r,i),t(e[o]);i&&n.println()},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}(),Rd=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Id="/debug/lib",Nd=function(){function t(t){this._importGenerator=t}return t.prototype.emitStatements=function(t,e,n){var r=this,i=new Dd(t),o=Md.createRoot(n);i.visitAllStatements(e,o);var s=[];return i.importsWithPrefixes.forEach(function(e,n){s.push("imp"+("ort * as "+e+" from '"+r._importGenerator.fileNameToModuleName(n,t)+"';"))}),s.push(o.toSource()),s.join("\n")},t}(),Dd=function(t){function e(e){t.call(this,!1),this._moduleUrl=e,this.importsWithPrefixes=new Map}return Rd(e,t),e.prototype.visitType=function(t,e,n){void 0===n&&(n="any"),r(t)?t.visitType(this,e):e.print(n)},e.prototype.visitLiteralExpr=function(e,n){var r=e.value;return i(r)&&e.type!=Ih?(n.print("("+r+" as any)"),null):t.prototype.visitLiteralExpr.call(this,e,n)},e.prototype.visitLiteralArrayExpr=function(e,n){0===e.entries.length&&n.print("(");var r=t.prototype.visitLiteralArrayExpr.call(this,e,n);return 0===e.entries.length&&n.print(" as any[])"),r},e.prototype.visitExternalExpr=function(t,e){return this._visitIdentifier(t.value,t.typeParams,e),null},e.prototype.visitDeclareVarStmt=function(t,e){return e.isExportedVar(t.name)&&e.print("export "),t.hasModifier(cf.Final)?e.print("const"):e.print("var"),e.print(" "+t.name+":"),this.visitType(t.type,e),e.print(" = "),t.value.visitExpression(this,e),e.println(";"),null},e.prototype.visitCastExpr=function(t,e){return e.print("(<"),t.type.visitType(this,e),e.print(">"),t.value.visitExpression(this,e),e.print(")"),null},e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),e.isExportedVar(t.name)&&e.print("export "),e.print("class "+t.name),r(t.parent)&&(e.print(" extends "),t.parent.visitExpression(this,e)),e.println(" {"),e.incIndent(),t.fields.forEach(function(t){return n._visitClassField(t,e)}),r(t.constructorMethod)&&this._visitClassConstructor(t,e),t.getters.forEach(function(t){return n._visitClassGetter(t,e)}),t.methods.forEach(function(t){return n._visitClassMethod(t,e)}),e.decIndent(),e.println("}"),e.popClass(),null},e.prototype._visitClassField=function(t,e){t.hasModifier(cf.Private)&&e.print("/*private*/ "),e.print(t.name),e.print(":"),this.visitType(t.type,e),e.println(";")},e.prototype._visitClassGetter=function(t,e){t.hasModifier(cf.Private)&&e.print("private "),e.print("get "+t.name+"()"),e.print(":"),this.visitType(t.type,e),e.println(" {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println("}")},e.prototype._visitClassConstructor=function(t,e){e.print("constructor("),this._visitParams(t.constructorMethod.params,e),e.println(") {"),e.incIndent(),this.visitAllStatements(t.constructorMethod.body,e),e.decIndent(),e.println("}")},e.prototype._visitClassMethod=function(t,e){t.hasModifier(cf.Private)&&e.print("private "),e.print(t.name+"("),this._visitParams(t.params,e),e.print("):"),this.visitType(t.type,e,"void"),e.println(" {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println("}")},e.prototype.visitFunctionExpr=function(t,e){return e.print("("),this._visitParams(t.params,e),e.print("):"),this.visitType(t.type,e,"void"),e.println(" => {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print("}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return e.isExportedVar(t.name)&&e.print("export "),e.print("function "+t.name+"("),this._visitParams(t.params,e),e.print("):"),this.visitType(t.type,e,"void"),e.println(" {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println("}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println("try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println("} catch ("+Od.name+") {"),e.incIndent();var n=[Td.set(Od.prop("stack")).toDeclStmt(null,[cf.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println("}"),null},e.prototype.visitBuiltintType=function(t,e){var n;switch(t.name){case Eh.Bool:n="boolean";break;case Eh.Dynamic:n="any";break;case Eh.Function:n="Function";break;case Eh.Number:n="number";break;case Eh.Int:n="number";break;case Eh.String:n="string";break;default:throw new Error("Unsupported builtin type "+t.name)}return e.print(n),null},e.prototype.visitExpressionType=function(t,e){var n=this;return t.value.visitExpression(this,e),r(t.typeParams)&&t.typeParams.length>0&&(e.print("<"),this.visitAllObjects(function(t){return t.visitType(n,e)},t.typeParams,e,","),e.print(">")),null},e.prototype.visitArrayType=function(t,e){return this.visitType(t.of,e),e.print("[]"),null},e.prototype.visitMapType=function(t,e){return e.print("{[key: string]:"),this.visitType(t.valueType,e),e.print("}"),null},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case Hh.ConcatArray:e="concat";break;case Hh.SubscribeObservable:e="subscribe";break;case Hh.Bind:e="bind";break;default:throw new Error("Unknown builtin method: "+t)}return e},e.prototype._visitParams=function(t,e){var n=this;this.visitAllObjects(function(t){e.print(t.name),e.print(":"),n.visitType(t.type,e)},t,e,",")},e.prototype._visitIdentifier=function(t,e,n){var o=this,s=b(t),a=w(t);if(i(s))throw new Error("Internal error: unknown identifier "+t);if(r(a)&&a!=this._moduleUrl){var u=this.importsWithPrefixes.get(a);i(u)&&(u="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(a,u)),n.print(u+".")}t.reference&&t.reference.members&&t.reference.members.length?(n.print(t.reference.name),n.print("."),n.print(t.reference.members.join("."))):n.print(s),r(e)&&e.length>0&&(n.print("<"),
this.visitAllObjects(function(t){return t.visitType(o,n)},e,n,","),n.print(">"))},e}(kd),jd={};Kn(e.SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Kn(e.SecurityContext.STYLE,["*|style"]),Kn(e.SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),Kn(e.SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]);var Vd=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ld=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Fd=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ud="boolean",Hd="number",Bd="string",qd="object",zd=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen^[HTMLElement]|!autofocus,challenge,!disabled,keytype,name","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:cursor^:svg:|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime"],Wd={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Gd=function(t){function n(){var e=this;t.call(this),this._schema={},zd.forEach(function(t){var n={},r=t.split("|"),i=r[0],o=r[1],s=o.split(","),a=i.split("^"),u=a[0],c=a[1];u.split(",").forEach(function(t){return e._schema[t.toLowerCase()]=n});var l=c&&e._schema[c.toLowerCase()];l&&Object.keys(l).forEach(function(t){n[t]=l[t]}),s.forEach(function(t){if(t.length>0)switch(t[0]){case"*":break;case"!":n[t.substring(1)]=Ud;break;case"#":n[t.substring(1)]=Hd;break;case"%":n[t.substring(1)]=qd;break;default:n[t]=Bd}})})}return Vd(n,t),n.prototype.hasProperty=function(t,n,r){if(r.some(function(t){return t.name===e.NO_ERRORS_SCHEMA.name}))return!0;if(t.indexOf("-")>-1){if("ng-container"===t||"ng-content"===t)return!1;if(r.some(function(t){return t.name===e.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}var i=this._schema[t.toLowerCase()]||this._schema.unknown;return!!i[n]},n.prototype.hasElement=function(t,n){if(n.some(function(t){return t.name===e.NO_ERRORS_SCHEMA.name}))return!0;if(t.indexOf("-")>-1){if("ng-container"===t||"ng-content"===t)return!0;if(n.some(function(t){return t.name===e.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}return!!this._schema[t.toLowerCase()]},n.prototype.securityContext=function(t,n,r){r&&(n=this.getMappedPropName(n)),t=t.toLowerCase(),n=n.toLowerCase();var i=jd[t+"|"+n];return i?i:(i=jd["*|"+n],i?i:e.SecurityContext.NONE)},n.prototype.getMappedPropName=function(t){return Wd[t]||t},n.prototype.getDefaultComponentElementName=function(){return"ng-component"},n.prototype.validateProperty=function(t){if(t.toLowerCase().startsWith("on")){var e="Binding to event property '"+t+"' is disallowed for security reasons, "+("please use ("+t.slice(2)+")=...")+("\nIf '"+t+"' is a directive input, make sure the directive is imported by the")+" current module.";return{error:!0,msg:e}}return{error:!1}},n.prototype.validateAttribute=function(t){if(t.toLowerCase().startsWith("on")){var e="Binding to event attribute '"+t+"' is disallowed for security reasons, "+("please use ("+t.slice(2)+")=...");return{error:!0,msg:e}}return{error:!1}},n.prototype.allKnownElementNames=function(){return Object.keys(this._schema)},n.prototype.normalizeAnimationStyleProperty=function(t){return d(t)},n.prototype.normalizeAnimationStyleValue=function(t,e,n){var r="",i=n.toString().trim(),o=null;if(Zn(t)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&(o="Please provide a CSS unit value for "+e+":"+n)}return{error:o,value:i+r}},n=Ld([M(),Fd("design:paramtypes",[])],n)}(Ml),Xd=function(){function t(){this.strictStyling=!0}return t.prototype.shimCssText=function(t,e,n){void 0===n&&(n="");var r=tr(t);return t=Jn(t),t=this._insertDirectives(t),this._scopeCssText(t,e,n)+r},t.prototype._insertDirectives=function(t){return t=this._insertPolyfillDirectivesInCssText(t),this._insertPolyfillRulesInCssText(t)},t.prototype._insertPolyfillDirectivesInCssText=function(t){return t.replace(Qd,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t[2]+"{"})},t.prototype._insertPolyfillRulesInCssText=function(t){return t.replace(Yd,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[0].replace(t[1],"").replace(t[2],"");return t[4]+n})},t.prototype._scopeCssText=function(t,e,n){var r=this._extractUnscopedRulesFromCssText(t);return t=this._insertPolyfillHostInCssText(t),t=this._convertColonHost(t),t=this._convertColonHostContext(t),t=this._convertShadowDOMSelectors(t),e&&(t=this._scopeSelectors(t,e,n)),t=t+"\n"+r,t.trim()},t.prototype._extractUnscopedRulesFromCssText=function(t){var e,n="";for(Kd.lastIndex=0;null!==(e=Kd.exec(t));){var r=e[0].replace(e[2],"").replace(e[1],e[4]);n+=r+"\n\n"}return n},t.prototype._convertColonHost=function(t){return this._convertColonRule(t,ey,this._colonHostPartReplacer)},t.prototype._convertColonHostContext=function(t){return this._convertColonRule(t,ny,this._colonHostContextPartReplacer)},t.prototype._convertColonRule=function(t,e,n){return t.replace(e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(t[2]){for(var r=t[2].split(","),i=[],o=0;o<r.length;o++){var s=r[o].trim();if(!s)break;i.push(n(ry,s,t[3]))}return i.join(",")}return ry+t[3]})},t.prototype._colonHostContextPartReplacer=function(t,e,n){return e.indexOf(Zd)>-1?this._colonHostPartReplacer(t,e,n):t+e+n+", "+e+" "+t+n},t.prototype._colonHostPartReplacer=function(t,e,n){return t+e.replace(Zd,"")+n},t.prototype._convertShadowDOMSelectors=function(t){return oy.reduce(function(t,e){return t.replace(e," ")},t)},t.prototype._scopeSelectors=function(t,e,n){var r=this;return er(t,function(t){var i=t.selector,o=t.content;return"@"!=t.selector[0]?i=r._scopeSelector(t.selector,e,n,r.strictStyling):(t.selector.startsWith("@media")||t.selector.startsWith("@supports")||t.selector.startsWith("@page")||t.selector.startsWith("@document"))&&(o=r._scopeSelectors(t.content,e,n)),new gy(i,o)})},t.prototype._scopeSelector=function(t,e,n,r){var i=this;return t.split(",").map(function(t){return t.trim().split(sy)}).map(function(t){var o=t[0],s=t.slice(1),a=function(t){return i._selectorNeedsScoping(t,e)?r?i._applyStrictSelectorScope(t,e,n):i._applySelectorScope(t,e,n):t};return[a(o)].concat(s).join(" ")}).join(", ")},t.prototype._selectorNeedsScoping=function(t,e){var n=this._makeScopeMatcher(e);return!n.test(t)},t.prototype._makeScopeMatcher=function(t){var e=/\[/g,n=/\]/g;return t=t.replace(e,"\\[").replace(n,"\\]"),new RegExp("^("+t+")"+ay,"m")},t.prototype._applySelectorScope=function(t,e,n){return this._applySimpleSelectorScope(t,e,n)},t.prototype._applySimpleSelectorScope=function(t,e,n){if(uy.lastIndex=0,uy.test(t)){var r=this.strictStyling?"["+n+"]":e;return t.replace(iy,function(t,e){return e.replace(/([^:]*)(:*)(.*)/,function(t,e,n,i){return e+r+n+i})}).replace(uy,r+" ")}return e+" "+t},t.prototype._applyStrictSelectorScope=function(t,e,n){var r=this,i=/\[is=([^\]]*)\]/g;e=e.replace(i,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e[0]});var o="["+e+"]",s=function(t){var i=t.trim();if(!i)return"";if(t.indexOf(ry)>-1)i=r._applySimpleSelectorScope(t,e,n);else{var s=t.replace(uy,"");if(s.length>0){var a=s.match(/([^:]*)(:*)(.*)/);a&&(i=a[1]+o+a[2]+a[3])}}return i},a=new $d(t);t=a.content();for(var u,c="",l=0,p=/( |>|\+|~(?!=))\s*/g,h=t.indexOf(ry);null!==(u=p.exec(t));){var f=u[1],d=t.slice(l,u.index).trim(),y=l>=h?s(d):d;c+=y+" "+f+" ",l=p.lastIndex}return c+=s(t.substring(l)),a.restore(c)},t.prototype._insertPolyfillHostInCssText=function(t){return t.replace(ly,Jd).replace(cy,Zd)},t}(),$d=function(){function t(t){var e=this;this.placeholders=[],this.index=0,t=t.replace(/(\[[^\]]*\])/g,function(t,n){var r="__ph-"+e.index+"__";return e.placeholders.push(n),e.index++,r}),this._content=t.replace(/(:nth-[-\w]+)(\([^)]+\))/g,function(t,n,r){var i="__ph-"+e.index+"__";return e.placeholders.push(r),e.index++,n+i})}return t.prototype.restore=function(t){var e=this;return t.replace(/__ph-(\d+)__/g,function(t,n){return e.placeholders[+n]})},t.prototype.content=function(){return this._content},t}(),Qd=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,Yd=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Kd=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Zd="-shadowcsshost",Jd="-shadowcsscontext",ty=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",ey=new RegExp("("+Zd+ty,"gim"),ny=new RegExp("("+Jd+ty,"gim"),ry=Zd+"-no-combinator",iy=/-shadowcsshost-no-combinator([^\s]*)/,oy=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],sy=/(?:>>>)|(?:\/deep\/)/g,ay="([>\\s~+[.,{:][\\s\\S]*)?$",uy=/-shadowcsshost/gim,cy=/:host/gim,ly=/:host-context/gim,py=/\/\*\s*[\s\S]*?\*\//g,hy=/\/\*\s*#\s*sourceMappingURL=[\s\S]+?\*\//,fy=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,dy=/([{}])/g,yy="{",my="}",vy="%BLOCK%",gy=function(){function t(t,e){this.selector=t,this.content=e}return t}(),_y=function(){function t(t,e){this.escapedString=t,this.blocks=e}return t}(),by=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},wy=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Cy="%COMP%",Ey="_nghost-"+Cy,Sy="_ngcontent-"+Cy,xy=function(){function t(t,e,n,r){this.name=t,this.moduleUrl=e,this.isShimmed=n,this.valuePlaceholder=r}return t}(),Py=function(){function t(t,e){this.componentStylesheet=t,this.externalStylesheets=e}return t}(),Oy=function(){function t(t,e,n,r,i){this.statements=t,this.stylesVar=e,this.dependencies=n,this.isShimmed=r,this.meta=i}return t}(),Ty=function(){function t(t){this._urlResolver=t,this._shadowCss=new Xd}return t.prototype.compileComponent=function(t){var e=this,n=[],r=this._compileStyles(t,new xs({styles:t.template.styles,styleUrls:t.template.styleUrls,moduleUrl:w(t.type)}),!0);return t.template.externalStylesheets.forEach(function(r){var i=e._compileStyles(t,r,!1);n.push(i)}),new Py(r,n)},t.prototype._compileStyles=function(t,n,r){for(var i=this,o=t.template.encapsulation===e.ViewEncapsulation.Emulated,s=n.styles.map(function(t){return tn(i._shimIfNeeded(t,o))}),a=[],u=0;u<n.styleUrls.length;u++){var c={reference:null};a.push(new xy(rr(null),n.styleUrls[u],o,c)),s.push(new Gh(c))}var l=rr(r?t:null),p=Ge(l).set(Ye(s,new Ph(Th,[wh.Const]))).toDeclStmt(null,[cf.Final]);return new Oy([p],l,a,o,n)},t.prototype._shimIfNeeded=function(t,e){return e?this._shadowCss.shimCssText(t,Sy,Ey):t},t=by([M(),wy("design:paramtypes",[lh])],t)}(),Ay=function(){function t(t,e){this.nodeIndex=t,this.sourceAst=e}return t}(),My=new Ay(null,null),ky=function(){function t(t){this._view=t,this._newState=My,this._currState=My,this._bodyStatements=[],this._debugEnabled=this._view.genConfig.genDebugInfo}return t.prototype._updateDebugContextIfNeeded=function(){if(this._newState.nodeIndex!==this._currState.nodeIndex||this._newState.sourceAst!==this._currState.sourceAst){var t=this._updateDebugContext(this._newState);t&&this._bodyStatements.push(t.toStmt())}},t.prototype._updateDebugContext=function(t){if(this._currState=this._newState=t,this._debugEnabled){var e=t.sourceAst?t.sourceAst.sourceSpan.start:null;return of.callMethod("debug",[tn(t.nodeIndex),e?tn(e.line):af,e?tn(e.col):af])}return null},t.prototype.resetDebugInfoExpr=function(t,e){var n=this._updateDebugContext(new Ay(t,e));return n||af},t.prototype.resetDebugInfo=function(t,e){this._newState=new Ay(t,e)},t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this.addStmts(t)},t.prototype.addStmt=function(t){this._updateDebugContextIfNeeded(),this._bodyStatements.push(t)},t.prototype.addStmts=function(t){this._updateDebugContextIfNeeded(),(e=this._bodyStatements).push.apply(e,t);var e},t.prototype.finish=function(){return this._bodyStatements},t.prototype.isEmpty=function(){return 0===this._bodyStatements.length},t}(),Ry=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Iy=function(t){function e(e,n){t.call(this),this._viewExpr=e,this._view=n}return Ry(e,t),e.prototype._isThis=function(t){return t instanceof Vh&&t.builtin===jh.This},e.prototype.visitReadVarExpr=function(t,e){return this._isThis(t)?this._viewExpr:t},e.prototype.visitReadPropExpr=function(e,n){return this._isThis(e.receiver)&&(this._view.fields.some(function(t){return t.name==e.name})||this._view.getters.some(function(t){return t.name==e.name}))?this._viewExpr.cast(this._view.classType).prop(e.name):t.prototype.visitReadPropExpr.call(this,e,n)},e}(Ef),Ny=function(){function t(t,e){this.view=t,this.values=e}return t}(),Dy=function(){function t(t,e,n,r){this.meta=t,this.queryList=e,this.ownerDirectiveExpression=n,this.view=r,this._values=new Ny(r,[])}return t.prototype.addValue=function(t,e){for(var n=e,r=[];n&&n!==this.view;){var i=n.declarationElement;r.unshift(i),n=i.view}var o=ir(this.queryList,e,this.view),s=this._values;r.forEach(function(t){var e=s.values.length>0?s.values[s.values.length-1]:null;if(e instanceof Ny&&e.view===t.embeddedView)s=e;else{var n=new Ny(t.embeddedView,[]);s.values.push(n),s=n}}),s.values.push(t),r.length>0&&e.dirtyParentQueriesMethod.addStmt(o.callMethod("setDirty",[]).toStmt())},t.prototype._isStatic=function(){return!this._values.values.some(function(t){return t instanceof Ny})},t.prototype.generateStatements=function(t,e){var n=ur(this._values),r=[this.queryList.callMethod("reset",[Ye(n)]).toStmt()];if(this.ownerDirectiveExpression){var i=this.meta.first?this.queryList.prop("first"):this.queryList;r.push(this.ownerDirectiveExpression.prop(this.meta.propertyName).set(i).toStmt())}this.meta.first||r.push(this.queryList.callMethod("notifyOnChanges",[]).toStmt()),this.meta.first&&this._isStatic()?t.addStmts(r):e.addStmt(new bf(this.queryList.prop("dirty"),r))},t}(),jy=function(){function t(){}return t.fromValue=function(t){return un(_l.ViewType,t)},t}(),Vy=function(){function t(){}return t.fromValue=function(t){return un(_l.ViewEncapsulation,t)},t}(),Ly=function(){function t(){}return t.fromValue=function(t){return un(_l.ChangeDetectorStatus,t)},t}(),Fy=function(){function t(){}return t.viewUtils=Ge("viewUtils"),t.parentView=Ge("parentView"),t.parentIndex=Ge("parentIndex"),t.parentElement=Ge("parentElement"),t}(),Uy=function(){function t(){}return t.renderer=of.prop("renderer"),t.viewUtils=of.prop("viewUtils"),t}(),Hy=function(){function t(){}return t.token=Ge("token"),t.requestNodeIndex=Ge("requestNodeIndex"),t.notFoundResult=Ge("notFoundResult"),t}(),By=function(){function t(){}return t.throwOnChange=Ge("throwOnChange"),t.changes=Ge("changes"),t.changed=Ge("changed"),t}(),qy=function(){function t(t,e,n){this.comp=t,this.name=e,this.placeholder=n}return t}(),zy=function(){function t(t,e){this.comp=t,this.placeholder=e}return t}(),Wy=function(){function t(t,e,n){this.dir=t,this.name=e,this.placeholder=n}return t}(),Gy=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Xy=function(){function t(t,e,n,r,i){this.parent=t,this.view=e,this.nodeIndex=n,this.renderNode=r,this.sourceAst=i}return t.prototype.isNull=function(){return!this.renderNode},t.prototype.isRootElement=function(){return this.view!=this.parent.view},t}(),$y=function(t){function e(e,n,r,i,o,s,a,u,c,l,p){var h=this;t.call(this,e,n,r,i,o),this.component=s,this._directives=a,this._resolvedProvidersArray=u,this.hasViewContainer=c,this.hasEmbeddedView=l,this.compViewExpr=null,this.instances=new Map,this.directiveWrapperInstance=new Map,this._queryCount=0,this._queries=new Map,this.contentNodesByNgContentIndex=null,this.referenceTokens={},p.forEach(function(t){return h.referenceTokens[t.name]=t.value}),this.elementRef=Xe(Yt(_l.ElementRef)).instantiate([this.renderNode]),this.instances.set(Qt(_l.ElementRef),this.elementRef),this.instances.set(Qt(_l.Injector),of.callMethod("injector",[tn(this.nodeIndex)])),this.instances.set(Qt(_l.Renderer),of.prop("renderer")),(this.hasViewContainer||this.hasEmbeddedView)&&this._createViewContainer(),this.component&&this._createComponentFactoryResolver()}return Gy(e,t),e.createNull=function(){return new e(null,null,null,null,null,null,[],[],!1,!1,[])},e.prototype._createViewContainer=function(){var t="_vc_"+this.nodeIndex,e=this.isRootElement()?null:this.parent.nodeIndex;this.view.fields.push(new mf(t,$e(Yt(_l.ViewContainer)),[cf.Private]));var n=of.prop(t).set(Xe(Yt(_l.ViewContainer)).instantiate([tn(this.nodeIndex),tn(e),of,this.renderNode])).toStmt();this.view.createMethod.addStmt(n),this.viewContainer=of.prop(t),this.instances.set(Qt(_l.ViewContainer),this.viewContainer),this.view.viewContainers.push(this.viewContainer)},e.prototype._createComponentFactoryResolver=function(){var t=this,e=this.component.entryComponents.map(function(e){var n={reference:null};return t.view.targetDependencies.push(new zy(e,n)),n});if(e&&0!==e.length){var n=Xe(Yt(_l.CodegenComponentFactoryResolver)).instantiate([Ye(e.map(function(t){return Xe(t)})),or(this.view,Zt(_l.ComponentFactoryResolver),!1)]),r={token:Zt(_l.ComponentFactoryResolver),useValue:n};this._resolvedProvidersArray.unshift(new Qi(r.token,!1,!0,[r],Yi.PrivateService,[],this.sourceAst.sourceSpan))}},e.prototype.setComponentView=function(t){this.compViewExpr=t,this.contentNodesByNgContentIndex=new Array(this.component.template.ngContentSelectors.length);for(var e=0;e<this.contentNodesByNgContentIndex.length;e++)this.contentNodesByNgContentIndex[e]=[]},e.prototype.setEmbeddedView=function(t){if(this.embeddedView=t,r(t)){var e=Xe(Yt(_l.TemplateRef_)).instantiate([of,tn(this.nodeIndex),this.renderNode]),n={token:Zt(_l.TemplateRef),useValue:e};this._resolvedProvidersArray.unshift(new Qi(n.token,!1,!0,[n],Yi.Builtin,[],this.sourceAst.sourceSpan))}},e.prototype.beforeChildren=function(){var t=this;this.hasViewContainer&&this.instances.set(Qt(_l.ViewContainerRef),this.viewContainer.prop("vcRef")),this._resolvedProviders=new Map,this._resolvedProvidersArray.forEach(function(e){return t._resolvedProviders.set(E(e.token),e)}),Array.from(this._resolvedProviders.values()).forEach(function(e){var n=e.providerType===Yi.Component||e.providerType===Yi.Directive,r=e.providers.map(function(r){if(r.useExisting)return t._getDependency(e.providerType,{token:r.useExisting});if(r.useFactory){var i=r.deps||r.useFactory.diDeps,o=i.map(function(n){return t._getDependency(e.providerType,n)});return Xe(r.useFactory).callFn(o)}if(r.useClass){var i=r.deps||r.useClass.diDeps,o=i.map(function(n){return t._getDependency(e.providerType,n)});if(n){var s={reference:null};return t.view.targetDependencies.push(new Wy(r.useClass,Yf.dirWrapperClassName(r.useClass),s)),Jf.create(s,o)}return Xe(r.useClass).instantiate(o,$e(r.useClass))}return Xn(r.useValue)}),i="_"+C(e.token)+"_"+t.nodeIndex+"_"+t.instances.size,o=fr(i,r,e.multiProvider,e.eager,t);n?(t.directiveWrapperInstance.set(E(e.token),o),t.instances.set(E(e.token),Jf.context(o))):t.instances.set(E(e.token),o)});for(var e=function(e){var r=n._directives[e],i=n.instances.get(E(Kt(r.type)));r.queries.forEach(function(e){t._addQuery(e,i)})},n=this,r=0;r<this._directives.length;r++)e(r);Object.keys(this.referenceTokens).forEach(function(e){var n,r=t.referenceTokens[e];n=r?t.instances.get(E(r)):t.renderNode,t.view.locals.set(e,n)})},e.prototype.afterChildren=function(t){var e=this;Array.from(this._resolvedProviders.values()).forEach(function(n){var r=e.instances.get(E(n.token)),i=n.providerType===Yi.PrivateService?0:t;e.view.injectorGetMethod.addStmt(hr(e.nodeIndex,i,n,r))})},e.prototype.finish=function(){var t=this;Array.from(this._queries.values()).forEach(function(e){return e.forEach(function(e){return e.generateStatements(t.view.createMethod,t.view.updateContentQueriesMethod)})})},e.prototype.addContentNode=function(t,e){this.contentNodesByNgContentIndex[t].push(e)},e.prototype.getComponent=function(){return r(this.component)?this.instances.get(E(Kt(this.component.type))):null},e.prototype.getProviderTokens=function(){return Array.from(this._resolvedProviders.values()).map(function(t){return t.token})},e.prototype.getQueriesFor=function(t){for(var e,n=[],i=this,o=0;!i.isNull();)e=i._queries.get(E(t)),r(e)&&n.push.apply(n,e.filter(function(t){return t.meta.descendants||o<=1})),i._directives.length>0&&o++,i=i.parent;return e=this.view.componentView.viewQueries.get(E(t)),r(e)&&n.push.apply(n,e),n},e.prototype._addQuery=function(t,e){var n="_query_"+C(t.selectors[0])+"_"+this.nodeIndex+"_"+this._queryCount++,r=lr(n,this.view),i=new Dy(t,r,e,this.view);return pr(this._queries,i),i},e.prototype._getLocalDependency=function(t,e){var n=null;if(r(e.token)){if(!n&&E(e.token)===Qt(_l.ChangeDetectorRef))return t===Yi.Component?this.compViewExpr.prop("ref"):ir(of.prop("ref"),this.view,this.view.componentView);
if(!n){var i=this._resolvedProviders.get(E(e.token));if(i&&(t===Yi.Directive||t===Yi.PublicService)&&i.providerType===Yi.PrivateService)return null;n=this.instances.get(E(e.token))}}return n},e.prototype._getDependency=function(t,e){var n=this,r=null;for(e.isValue&&(r=tn(e.value)),r||e.isSkipSelf||(r=this._getLocalDependency(t,e));!r&&!n.parent.isNull();)n=n.parent,r=n._getLocalDependency(Yi.PublicService,{token:e.token});return r||(r=or(this.view,e.token,e.isOptional)),r||(r=af),ir(r,this.view,n.view)},e}(Xy),Qy=function(){function t(t,e){var n=this;this.view=t,this.meta=e,this._purePipeProxyCount=0,this.instance=of.prop("_pipe_"+e.name+"_"+t.pipeCount++);var r=this.meta.type.diDeps.map(function(e){return E(e.token)===Qt(_l.ChangeDetectorRef)?ir(of.prop("ref"),n.view,n.view.componentView):or(t,e.token,!1)});this.view.fields.push(new mf(this.instance.name,$e(this.meta.type))),this.view.createMethod.resetDebugInfo(null,null),this.view.createMethod.addStmt(of.prop(this.instance.name).set(Xe(this.meta.type).instantiate(r)).toStmt())}return t.call=function(e,n,r){var i,o=e.componentView,s=dr(o,n);return s.pure?(i=o.purePipes.get(n),i||(i=new t(o,s),o.purePipes.set(n,i),o.pipes.push(i))):(i=new t(e,s),e.pipes.push(i)),i._call(e,r)},Object.defineProperty(t.prototype,"pure",{get:function(){return this.meta.pure},enumerable:!0,configurable:!0}),t.prototype._call=function(t,e){if(this.meta.pure){var n=of.prop(this.instance.name+"_"+this._purePipeProxyCount++),r=ir(this.instance,t,this.view);return an(r.prop("transform").callMethod(Hh.Bind,[r]),e.length,n,{fields:t.fields,ctorStmts:t.createMethod}),Xe(Yt(_l.castByValue)).callFn([n,r.prop("transform")]).callFn(e)}return ir(this.instance,t,this.view).callMethod("transform",e)},t}(),Yy={};Yy.Node=0,Yy.ViewContainer=1,Yy.NgContent=2,Yy[Yy.Node]="Node",Yy[Yy.ViewContainer]="ViewContainer",Yy[Yy.NgContent]="NgContent";var Ky=function(){function t(t,e,n){this.type=t,this.expr=e,this.ngContentIndex=n}return t}(),Zy=function(){function t(t,e,n,r,i,o,s,a,u){var c=this;this.component=t,this.genConfig=e,this.pipeMetas=n,this.styles=r,this.animations=i,this.viewIndex=o,this.declarationElement=s,this.templateVariableBindings=a,this.targetDependencies=u,this.viewChildren=[],this.nodes=[],this.rootNodes=[],this.lastRenderNode=af,this.viewContainers=[],this.methods=[],this.ctorStmts=[],this.fields=[],this.getters=[],this.disposables=[],this.purePipes=new Map,this.pipes=[],this.locals=new Map,this.literalArrayCount=0,this.literalMapCount=0,this.pipeCount=0,this.createMethod=new ky(this),this.animationBindingsMethod=new ky(this),this.injectorGetMethod=new ky(this),this.updateContentQueriesMethod=new ky(this),this.dirtyParentQueriesMethod=new ky(this),this.updateViewQueriesMethod=new ky(this),this.detectChangesInInputsMethod=new ky(this),this.detectChangesRenderPropertiesMethod=new ky(this),this.afterContentLifecycleCallbacksMethod=new ky(this),this.afterViewLifecycleCallbacksMethod=new ky(this),this.destroyMethod=new ky(this),this.detachMethod=new ky(this),this.viewType=yr(t,o),this.className=sr(t,o),this.classType=Qe(Ge(this.className)),this.classExpr=Ge(this.className),this.viewType===go.COMPONENT||this.viewType===go.HOST?this.componentView=this:this.componentView=this.declarationElement.view.componentView,this.componentContext=ir(of.prop("context"),this,this.componentView);var l=new Map;if(this.viewType===go.COMPONENT){var p=of.prop("context");this.component.viewQueries.forEach(function(t,e){var n="_viewQuery_"+C(t.selectors[0])+"_"+e,r=lr(n,c),i=new Dy(t,r,p,c);pr(l,i)})}this.viewQueries=l,a.forEach(function(t){c.locals.set(t[1],of.prop("context").prop(t[0]))}),this.declarationElement.isNull()||this.declarationElement.setEmbeddedView(this)}return t.prototype.callPipe=function(t,e,n){return Qy.call(this,t,[e].concat(n))},t.prototype.getLocal=function(t){if(t==Af.event.name)return Af.event;for(var e=this,n=e.locals.get(t);!n&&r(e.declarationElement.view);)e=e.declarationElement.view,n=e.locals.get(t);return r(n)?ir(n,this,e):null},t.prototype.finish=function(){var t=this;Array.from(this.viewQueries.values()).forEach(function(e){return e.forEach(function(e){return e.generateStatements(t.createMethod,t.updateViewQueriesMethod)})})},t}(),Jy=of.prop("numberOfChecks").identical(new Wh(0)),tm=(Ze(By.throwOnChange),function(){function t(t,e){this.query=t,this.read=t.meta.read||e}return t}()),em=function(){function t(t,e){this.view=t,this._schemaRegistry=e,this._nodeIndex=0}return t.prototype.visitBoundText=function(t,e){var n=this.view.nodes[this._nodeIndex++];return Or(t,n,this.view),null},t.prototype.visitText=function(t,e){return this._nodeIndex++,null},t.prototype.visitNgContent=function(t,e){return null},t.prototype.visitElement=function(t,e){var r=this,i=this.view.nodes[this._nodeIndex++];kr(i);var o=mr(t.outputs,t.directives,i,!0);return Tr(t.inputs,t.outputs,o,i),t.directives.forEach(function(e,n){var o=i.directiveWrapperInstance.get(e.directive.type.reference);Mr(e,o,n,i),Ar(e,o,i,t.name,r._schemaRegistry)}),n(this,t.children,i),t.directives.forEach(function(t){var e=i.instances.get(t.directive.type.reference),n=i.directiveWrapperInstance.get(t.directive.type.reference);Cr(t.directive,e,i),Er(t.directive,e,i),Sr(t,n,i)}),t.providers.forEach(function(t){var e=i.instances.get(E(t.token));xr(t,e,i)}),null},t.prototype.visitEmbeddedTemplate=function(t,e){var n=this.view.nodes[this._nodeIndex++];return kr(n),mr(t.outputs,t.directives,n,!1),t.directives.forEach(function(t,e){var r=n.instances.get(t.directive.type.reference),i=n.directiveWrapperInstance.get(t.directive.type.reference);Mr(t,i,e,n),Cr(t.directive,r,n),Er(t.directive,r,n),Sr(t,i,n)}),t.providers.forEach(function(t){var e=n.instances.get(E(t.token));xr(t,e,n)}),Rr(n.embeddedView,t.children,this._schemaRegistry),null},t.prototype.visitAttr=function(t,e){return null},t.prototype.visitDirective=function(t,e){return null},t.prototype.visitEvent=function(t,e){return null},t.prototype.visitReference=function(t,e){return null},t.prototype.visitVariable=function(t,e){return null},t.prototype.visitDirectiveProperty=function(t,e){return null},t.prototype.visitElementProperty=function(t,e){return null},t}(),nm="$implicit",rm="class",im="style",om="ng-container",sm=Ge("parentRenderNode"),am=Ge("rootSelector"),um=function(){function t(t,e){this.view=t,this.targetDependencies=e,this.nestedViewCount=0}return t.prototype._isRootNode=function(t){return t.view!==this.view},t.prototype._addRootNodeAndProject=function(t){var e=Dr(t),n=e.parent,i=e.sourceAst.ngContentIndex,o=t instanceof $y&&t.hasViewContainer?t.viewContainer:null;this._isRootNode(n)?this.view.viewType!==go.COMPONENT&&this.view.rootNodes.push(new Ky(o?Yy.ViewContainer:Yy.Node,o||t.renderNode)):r(n.component)&&r(i)&&n.addContentNode(i,new Ky(o?Yy.ViewContainer:Yy.Node,o||t.renderNode))},t.prototype._getParentRenderNode=function(t){return t=jr(t),this._isRootNode(t)?this.view.viewType===go.COMPONENT?sm:af:r(t.component)&&t.component.template.encapsulation!==e.ViewEncapsulation.Native?af:t.renderNode},t.prototype.getOrCreateLastRenderNode=function(){var t=this.view;if(0===t.rootNodes.length||t.rootNodes[t.rootNodes.length-1].type!==Yy.Node){var e="_el_"+t.nodes.length;t.fields.push(new mf(e,$e(t.genConfig.renderTypes.renderElement))),t.createMethod.addStmt(of.prop(e).set(Uy.renderer.callMethod("createTemplateAnchor",[af,af])).toStmt()),t.rootNodes.push(new Ky(Yy.Node,of.prop(e)))}return t.rootNodes[t.rootNodes.length-1].expr},t.prototype.visitBoundText=function(t,e){return this._visitText(t,"",e)},t.prototype.visitText=function(t,e){return this._visitText(t,t.value,e)},t.prototype._visitText=function(t,e,n){var r="_text_"+this.view.nodes.length;this.view.fields.push(new mf(r,$e(this.view.genConfig.renderTypes.renderText)));var i=of.prop(r),o=new Xy(n,this.view,this.view.nodes.length,i,t),s=of.prop(r).set(Uy.renderer.callMethod("createText",[this._getParentRenderNode(n),tn(e),this.view.createMethod.resetDebugInfoExpr(this.view.nodes.length,t)])).toStmt();return this.view.nodes.push(o),this.view.createMethod.addStmt(s),this._addRootNodeAndProject(o),i},t.prototype.visitNgContent=function(t,e){this.view.createMethod.resetDebugInfo(null,t);var n=this._getParentRenderNode(e);return n!==af?this.view.createMethod.addStmt(of.callMethod("projectNodes",[n,tn(t.index)]).toStmt()):this._isRootNode(e)?this.view.viewType!==go.COMPONENT&&this.view.rootNodes.push(new Ky(Yy.NgContent,null,t.index)):r(e.component)&&r(t.ngContentIndex)&&e.addContentNode(t.ngContentIndex,new Ky(Yy.NgContent,null,t.index)),null},t.prototype.visitElement=function(t,e){var i,o=this.view.nodes.length,s=this.view.createMethod.resetDebugInfoExpr(o,t),a=t.directives.map(function(t){return t.directive}),u=a.find(function(t){return t.isComponent});if(t.name===om)i=Uy.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(e),s]);else{var c=Fr(t.attrs),l=sn(Lr(c,a).map(function(t){return tn(t)}));i=0===o&&this.view.viewType===go.HOST?Xe(Yt(_l.selectOrCreateRenderHostElement)).callFn([Uy.renderer,tn(t.name),l,am,s]):Xe(Yt(_l.createRenderElement)).callFn([Uy.renderer,this._getParentRenderNode(e),tn(t.name),l,s])}var p="_el_"+o;this.view.fields.push(new mf(p,$e(this.view.genConfig.renderTypes.renderElement))),this.view.createMethod.addStmt(of.prop(p).set(i).toStmt());var h=of.prop(p),f=new $y(e,this.view,o,h,t,u,a,t.providers,t.hasViewContainer,!1,t.references);this.view.nodes.push(f);var d=null;if(r(u)){var y={reference:null};this.targetDependencies.push(new qy(u.type,sr(u,0),y)),d=of.prop("compView_"+o),this.view.fields.push(new mf(d.name,$e(Yt(_l.AppView),[$e(u.type)]))),this.view.viewChildren.push(d),f.setComponentView(d),this.view.createMethod.addStmt(d.set(Xe(y).instantiate([Uy.viewUtils,of,tn(o),h])).toStmt())}return f.beforeChildren(),this._addRootNodeAndProject(f),n(this,t.children,f),f.afterChildren(this.view.nodes.length-o-1),r(d)&&this.view.createMethod.addStmt(d.callMethod("create",[f.getComponent()]).toStmt()),null},t.prototype.visitEmbeddedTemplate=function(t,e){var n=this.view.nodes.length,r="_anchor_"+n;this.view.fields.push(new mf(r,$e(this.view.genConfig.renderTypes.renderComment))),this.view.createMethod.addStmt(of.prop(r).set(Uy.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(e),this.view.createMethod.resetDebugInfoExpr(n,t)])).toStmt());var i=of.prop(r),o=t.variables.map(function(t){return[t.value.length>0?t.value:nm,t.name]}),s=t.directives.map(function(t){return t.directive}),a=new $y(e,this.view,n,i,t,null,s,t.providers,t.hasViewContainer,!0,t.references);this.view.nodes.push(a),this.nestedViewCount++;var u=new Zy(this.view.component,this.view.genConfig,this.view.pipeMetas,af,this.view.animations,this.view.viewIndex+this.nestedViewCount,a,o,this.targetDependencies);return this.nestedViewCount+=Ir(u,t.children,this.targetDependencies),a.beforeChildren(),this._addRootNodeAndProject(a),a.afterChildren(0),null},t.prototype.visitAttr=function(t,e){return null},t.prototype.visitDirective=function(t,e){return null},t.prototype.visitEvent=function(t,e){return null},t.prototype.visitReference=function(t,e){return null},t.prototype.visitVariable=function(t,e){return null},t.prototype.visitDirectiveProperty=function(t,e){return null},t.prototype.visitElementProperty=function(t,e){return null},t}(),cm=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},lm=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pm=function(){function t(t,e,n){this.statements=t,this.viewClassVar=e,this.dependencies=n}return t}(),hm=function(){function t(t,e){this._genConfig=t,this._schemaRegistry=e}return t.prototype.compileComponent=function(t,e,n,r,i){var o=[],s=new Zy(t,this._genConfig,r,n,i,0,$y.createNull(),[],o),a=[];return Ir(s,e,o),Rr(s,e,this._schemaRegistry),Nr(s,a),new pm(a,s.classExpr.name,o)},t=cm([M(),lm("design:paramtypes",[Rp,Ml])],t)}(),fm=function(){function t(t,e,n){this.name=t,this.statements=e,this.fnExp=n}return t}(),dm=function(){function t(){}return t.prototype.compile=function(t,e){return e.map(function(e){var n=t+"_"+e.name,r=new Mm(e.name,n);return r.build(e)})},t}(),ym=Ge("element"),mm=Ge("defaultStateStyles"),vm=Ge("view"),gm=vm.prop("animationContext"),_m=vm.prop("renderer"),bm=Ge("currentState"),wm=Ge("nextState"),Cm=Ge("player"),Em=Ge("totalTime"),Sm=Ge("startStateStyles"),xm=Ge("endStateStyles"),Pm=Ge("collectedStyles"),Om=Ge("previousPlayers"),Tm=Ke([]),Am=Ye([]),Mm=function(){function t(t,e){this.animationName=t,this._fnVarName=e+"_factory",this._statesMapVarName=e+"_states",this._statesMapVar=Ge(this._statesMapVarName)}return t.prototype.visitAnimationStyles=function(t,e){var n=[];return e.isExpectingFirstStyleStep&&(n.push(Sm),e.isExpectingFirstStyleStep=!1),t.styles.forEach(function(t){var e=Object.keys(t).map(function(e){return[e,tn(t[e])]});n.push(Ke(e,null,!0))}),Xe(Yt(_l.AnimationStyles)).instantiate([Xe(Yt(_l.collectAndResolveStyles)).callFn([Pm,Ye(n)])])},t.prototype.visitAnimationKeyframe=function(t,e){return Xe(Yt(_l.AnimationKeyframe)).instantiate([tn(t.offset),t.styles.visit(this,e)])},t.prototype.visitAnimationStep=function(t,e){var n=this;if(e.endStateAnimateStep===t)return this._visitEndStateAnimation(t,e);var r=t.startingStyles.visit(this,e),i=t.keyframes.map(function(t){return t.visit(n,e)});return this._callAnimateMethod(t,r,Ye(i),e)},t.prototype._visitEndStateAnimation=function(t,e){var n=this,r=t.startingStyles.visit(this,e),i=t.keyframes.map(function(t){return t.visit(n,e)}),o=Xe(Yt(_l.balanceAnimationKeyframes)).callFn([Pm,xm,Ye(i)]);return this._callAnimateMethod(t,r,o,e)},t.prototype._callAnimateMethod=function(t,e,n,r){var i=Am;return r.isExpectingFirstAnimateStep&&(i=Om,r.isExpectingFirstAnimateStep=!1),r.totalTransitionTime+=t.duration+t.delay,_m.callMethod("animate",[ym,e,n,tn(t.duration),tn(t.delay),tn(t.easing),i])},t.prototype.visitAnimationSequence=function(t,e){var n=this,r=t.steps.map(function(t){return t.visit(n,e)});return Xe(Yt(_l.AnimationSequencePlayer)).instantiate([Ye(r)])},t.prototype.visitAnimationGroup=function(t,e){var n=this,r=t.steps.map(function(t){return t.visit(n,e)});return Xe(Yt(_l.AnimationGroupPlayer)).instantiate([Ye(r)])},t.prototype.visitAnimationStateDeclaration=function(t,e){var n={};ni(t).forEach(function(t){Object.keys(t).forEach(function(e){n[e]=t[e]})}),e.stateMap.registerState(t.stateName,n)},t.prototype.visitAnimationStateTransition=function(t,e){var n=t.animation.steps,r=n[n.length-1];ei(r)&&(e.endStateAnimateStep=r),e.totalTransitionTime=0,e.isExpectingFirstStyleStep=!0,e.isExpectingFirstAnimateStep=!0;var i=[];t.stateChanges.forEach(function(t){i.push(ti(bm,t.fromState).and(ti(wm,t.toState))),t.fromState!=Do&&e.stateMap.registerState(t.fromState),t.toState!=Do&&e.stateMap.registerState(t.toState)});var o=t.animation.visit(this,e),s=i.reduce(function(t,e){return t.or(e)}),a=Cm.equals(af).and(s),u=Cm.set(o).toStmt(),c=Em.set(tn(e.totalTransitionTime)).toStmt();return new bf(a,[u,c])},t.prototype.visitAnimationEntry=function(t,e){var n=this;t.stateDeclarations.forEach(function(t){return t.visit(n,e)}),e.stateMap.registerState(jo,{});var r=[];r.push(Om.set(gm.callMethod("getAnimationPlayers",[ym,wm.equals(tn(Vo)).conditional(af,tn(this.animationName))])).toDeclStmt()),r.push(Pm.set(Tm).toDeclStmt()),r.push(Cm.set(af).toDeclStmt()),r.push(Em.set(tn(0)).toDeclStmt()),r.push(mm.set(this._statesMapVar.key(tn(jo))).toDeclStmt()),r.push(Sm.set(this._statesMapVar.key(bm)).toDeclStmt()),r.push(new bf(Sm.equals(af),[Sm.set(mm).toStmt()])),r.push(xm.set(this._statesMapVar.key(wm)).toDeclStmt()),r.push(new bf(xm.equals(af),[xm.set(mm).toStmt()]));var i=Xe(Yt(_l.renderStyles));return t.stateTransitions.forEach(function(t){return r.push(t.visit(n,e))}),r.push(new bf(Cm.equals(af),[Cm.set(Xe(Yt(_l.NoOpAnimationPlayer)).instantiate([])).toStmt()])),r.push(Cm.callMethod("onDone",[Je([],[Cm.callMethod("destroy",[]).toStmt(),i.callFn([ym,_m,Xe(Yt(_l.prepareFinalAnimationStyles)).callFn([Sm,xm])]).toStmt()])]).toStmt()),r.push(Xe(Yt(_l.AnimationSequencePlayer)).instantiate([Om]).callMethod("destroy",[]).toStmt()),r.push(i.callFn([ym,_m,Xe(Yt(_l.clearStyles)).callFn([Sm])]).toStmt()),r.push(gm.callMethod("queueAnimation",[ym,tn(this.animationName),Cm]).toStmt()),r.push(new df(Xe(Yt(_l.AnimationTransition)).instantiate([Cm,bm,wm,Em]))),Je([new Yh(vm.name,$e(Yt(_l.AppView),[Th])),new Yh(ym.name,Th),new Yh(bm.name,Th),new Yh(wm.name,Th)],r,$e(Yt(_l.AnimationTransition)))},t.prototype.build=function(t){var e=new km,n=t.visit(this,e).toDeclStmt(this._fnVarName),i=Ge(this._fnVarName),o=[];Object.keys(e.stateMap.states).forEach(function(t){var n=e.stateMap.states[t],i=Tm;if(r(n)){var s=[];Object.keys(n).forEach(function(t){s.push([t,tn(n[t])])}),i=Ke(s,null,!0)}o.push([t,i])});var s=this._statesMapVar.set(Ke(o,null,!0)).toDeclStmt(),a=[s,n];return new fm(this.animationName,a,i)},t}(),km=function(){function t(){this.stateMap=new Rm,this.endStateAnimateStep=null,this.isExpectingFirstStyleStep=!1,this.isExpectingFirstAnimateStep=!1,this.totalTransitionTime=0}return t}(),Rm=function(){function t(){this._states={}}return Object.defineProperty(t.prototype,"states",{get:function(){return this._states},enumerable:!0,configurable:!0}),t.prototype.registerState=function(t,e){void 0===e&&(e=null);var n=this._states[t];n||(this._states[t]=e)},t}(),Im=function(){function t(t,e,n){this.srcFileUrl=t,this.genFileUrl=e,this.source=n}return t}(),Nm=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Dm=/(\.ts|\.d\.ts|\.js|\.jsx|\.tsx)$/,jm=function(t){function e(e){t.call(this),this.host=e,this.symbols=[],this.indexBySymbol=new Map,this.processedSummaryBySymbol=new Map,this.processedSummaries=[]}return Nm(e,t),e.prototype.addOrMergeSummary=function(t){var e=t.metadata;e&&"class"===e.__symbolic&&(e={__symbolic:"class",statics:e.statics});var n=this.processedSummaryBySymbol.get(t.symbol);n||(n=this.processValue({symbol:t.symbol}),this.processedSummaries.push(n),this.processedSummaryBySymbol.set(t.symbol,n)),null==n.metadata&&null!=e&&(n.metadata=this.processValue(e)),null==n.type&&null!=t.type&&(n.type=this.processValue(t.type))},e.prototype.serialize=function(){var t=this;return JSON.stringify({summaries:this.processedSummaries,symbols:this.symbols.map(function(e,n){return{__symbol:n,name:e.name,filePath:t.host.getOutputFileName(e.filePath)}})})},e.prototype.processValue=function(t){return g(t,this,null)},e.prototype.visitOther=function(t,e){if(t instanceof Ji){var n=this.indexBySymbol.get(t);return null==n&&(n=this.indexBySymbol.size,this.indexBySymbol.set(t,n),this.symbols.push(t)),{__symbol:n}}},e}(as),Vm=function(t){function e(e){t.call(this),this.symbolCache=e}return Nm(e,t),e.prototype.deserialize=function(t){var e=this,n=JSON.parse(t);return this.symbols=n.symbols.map(function(t){return e.symbolCache.get(t.filePath,t.name)}),g(n.summaries,this,null)},e.prototype.visitStringMap=function(e,n){return"__symbol"in e?this.symbols[e.__symbol]:t.prototype.visitStringMap.call(this,e,n)},e}(as),Lm=function(){function t(t,e,n,r,i,o,s,a,u,c,l,p,h){this._host=t,this._metadataResolver=e,this._templateParser=n,this._styleCompiler=r,this._viewCompiler=i,this._dirWrapperCompiler=o,this._ngModuleCompiler=s,this._outputEmitter=a,this._summaryResolver=u,this._localeId=c,this._translationFormat=l,this._animationParser=p,this._symbolResolver=h,this._animationCompiler=new dm}return t.prototype.clearCache=function(){this._metadataResolver.clearCache()},t.prototype.compileAll=function(t){var e=this,n=mi(this._symbolResolver,t,this._host),r=di(n,this._host,this._metadataResolver),i=r.ngModuleByPipeOrDirective,o=r.files,s=r.ngModules;return Promise.all(s.map(function(t){return e._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1)})).then(function(){var t=o.map(function(t){return e._compileSrcFile(t.srcUrl,i,t.directives,t.pipes,t.ngModules,t.injectables)});return io.flatten(t)})},t.prototype._compileSrcFile=function(t,e,n,r,i,o){var s=this,a=hi(t)[1],u=[],c=[],l=[];if(l.push(this._createSummary(t,n,r,i,o)),c.push.apply(c,i.map(function(t){return s._compileModule(t,u)})),c.push.apply(c,n.map(function(t){return s._compileDirectiveWrapper(t,u)})),n.forEach(function(n){var r=s._metadataResolver.getDirectiveMetadata(n);if(!r.isComponent)return Promise.resolve(null);var i=e.get(n);if(!i)throw new Error("Internal Error: cannot determine the module for component "+b(r.type)+"!");pi(r);var o=s._styleCompiler.compileComponent(r);o.externalStylesheets.forEach(function(e){l.push(s._codgenStyles(t,e,a))}),c.push(s._compileComponentFactory(r,i,a,u),s._compileComponent(r,i,i.transitiveModule.directives,o.componentStylesheet,a,u))}),u.length>0){var p=this._codegenSourceModule(t,ui(t),u,c);l.unshift(p)}return l},t.prototype._createSummary=function(t,e,n,r,i){var o=this,s=this._symbolResolver.getSymbolsOf(t).map(function(t){return o._symbolResolver.resolveSymbol(t)}),a=r.map(function(t){return o._metadataResolver.getNgModuleSummary(t)}).concat(e.map(function(t){return o._metadataResolver.getDirectiveSummary(t)}),n.map(function(t){return o._metadataResolver.getPipeSummary(t)}),i.map(function(t){return o._metadataResolver.getInjectableSummary(t)})),u=ri(this._host,this._summaryResolver,this._symbolResolver,s,a);return new Im(t,oi(t),u)},t.prototype._compileModule=function(t,e){var n=this,r=this._metadataResolver.getNgModuleMetadata(t),i=[];this._localeId&&i.push({token:Zt(_l.LOCALE_ID),useValue:this._localeId}),this._translationFormat&&i.push({token:Zt(_l.TRANSLATIONS_FORMAT),useValue:this._translationFormat});var o=this._ngModuleCompiler.compile(r,i);return o.dependencies.forEach(function(t){t.placeholder.reference=n._symbolResolver.getStaticSymbol(ui(w(t.comp)),ci(t.comp))}),e.push.apply(e,o.statements),o.ngModuleFactoryVar},t.prototype._compileDirectiveWrapper=function(t,e){var n=this._metadataResolver.getDirectiveMetadata(t),r=this._dirWrapperCompiler.compile(n);return e.push.apply(e,r.statements),r.dirWrapperClassVar},t.prototype._compileComponentFactory=function(t,e,n,r){var i=S(this._symbolResolver.getStaticSymbol(w(t.type),b(t.type)+"_Host"),t),o=this._compileComponent(i,e,[t.type],null,n,r),s=ci(t.type);return r.push(Ge(s).set(Xe(Yt(_l.ComponentFactory),[$e(t.type)]).instantiate([tn(t.selector),Ge(o),Xe(t.type)],$e(Yt(_l.ComponentFactory),[$e(t.type)],[wh.Const]))).toDeclStmt(null,[cf.Final])),s},t.prototype._compileComponent=function(t,e,n,r,i,o){var s=this,a=this._animationParser.parseComponent(t),u=n.map(function(t){return s._metadataResolver.getDirectiveSummary(t.reference)}),c=e.transitiveModule.pipes.map(function(t){return s._metadataResolver.getPipeSummary(t.reference)}),l=this._templateParser.parse(t,t.template.template,u,c,e.schemas,b(t.type)),p=r?Ge(r.stylesVar):Ye([]),h=this._animationCompiler.compile(b(t.type),a),f=this._viewCompiler.compileComponent(t,l,p,c,h);return r&&o.push.apply(o,ai(this._symbolResolver,r,i)),h.forEach(function(t){return o.push.apply(o,t.statements)}),o.push.apply(o,si(this._symbolResolver,f)),f.viewClassVar},t.prototype._codgenStyles=function(t,e,n){return ai(this._symbolResolver,e,n),this._codegenSourceModule(t,li(e.meta.moduleUrl,e.isShimmed,n),e.statements,[e.stylesVar])},t.prototype._codegenSourceModule=function(t,e,n,r){return new Im(t,e,this._outputEmitter.emitStatements(e,n,r))},t}(),Fm=function(){function t(t){this.staticDelegate=t,this.dynamicDelegate=new Ao}return t.install=function(e){Oo.updateCapabilities(new t(e))},t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return this.dynamicDelegate.factory(t)},t.prototype.hasLifecycleHook=function(t,e){return gi(t)?this.staticDelegate.hasLifecycleHook(t,e):this.dynamicDelegate.hasLifecycleHook(t,e)},t.prototype.parameters=function(t){return gi(t)?this.staticDelegate.parameters(t):this.dynamicDelegate.parameters(t)},t.prototype.annotations=function(t){return gi(t)?this.staticDelegate.annotations(t):this.dynamicDelegate.annotations(t)},t.prototype.propMetadata=function(t){return gi(t)?this.staticDelegate.propMetadata(t):this.dynamicDelegate.propMetadata(t)},t.prototype.getter=function(t){return this.dynamicDelegate.getter(t)},t.prototype.setter=function(t){return this.dynamicDelegate.setter(t)},t.prototype.method=function(t){return this.dynamicDelegate.method(t)},t.prototype.importUri=function(t){return this.staticDelegate.importUri(t)},t.prototype.resolveIdentifier=function(t,e,n){return this.staticDelegate.resolveIdentifier(t,e)},t.prototype.resolveEnum=function(t,e){return gi(t)?this.staticDelegate.resolveEnum(t,e):null},t}(),Um=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Hm={coreDecorators:"@angular/core/src/metadata",diDecorators:"@angular/core/src/di/metadata",diMetadata:"@angular/core/src/di/metadata",diOpaqueToken:"@angular/core/src/di/opaque_token",animationMetadata:"@angular/core/src/animation/metadata",provider:"@angular/core/src/di/provider"},Bm=/^\$.*\$$/,qm=function(){function t(t,e,n,r){var i=this;void 0===e&&(e=[]),void 0===n&&(n=[]),this.symbolResolver=t,this.errorRecorder=r,this.annotationCache=new Map,this.propertyCache=new Map,this.parameterCache=new Map,this.methodCache=new Map,this.conversionMap=new Map,this.initializeConversionMap(),e.forEach(function(t){return i._registerDecoratorOrConstructor(i.getStaticSymbol(t.filePath,t.name),t.ctor)}),n.forEach(function(t){return i._registerFunction(i.getStaticSymbol(t.filePath,t.name),t.fn)})}return t.prototype.importUri=function(t){var e=this.findSymbolDeclaration(t);return e?e.filePath:null},t.prototype.resolveIdentifier=function(t,e){return this.findDeclaration(e,t)},t.prototype.findDeclaration=function(t,e,n){return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(t,e,n))},t.prototype.findSymbolDeclaration=function(t){var e=this.symbolResolver.resolveSymbol(t);return e&&e.metadata instanceof Ji?this.findSymbolDeclaration(e.metadata):t},t.prototype.resolveEnum=function(t,e){var n=t;return this.getStaticSymbol(n.filePath,n.name,[e])},t.prototype.annotations=function(t){var e=this.annotationCache.get(t);if(!e){e=[];var n=this.getTypeMetadata(t);if(n.extends){var r=this.annotations(this.simplify(t,n.extends));e.push.apply(e,r)}if(n.decorators){var i=this.simplify(t,n.decorators);e.push.apply(e,i)}this.annotationCache.set(t,e.filter(function(t){return!!t}))}return e},t.prototype.propMetadata=function(t){var e=this,n=this.propertyCache.get(t);if(!n){var r=this.getTypeMetadata(t);if(n={},r.extends){var i=this.propMetadata(this.simplify(t,r.extends));Object.keys(i).forEach(function(t){n[t]=i[t]})}var o=r.members||{};Object.keys(o).forEach(function(r){var i=o[r],s=i.find(function(t){return"property"==t.__symbolic||"method"==t.__symbolic}),a=[];n[r]&&a.push.apply(a,n[r]),n[r]=a,s&&s.decorators&&a.push.apply(a,e.simplify(t,s.decorators))}),this.propertyCache.set(t,n)}return n},t.prototype.parameters=function(t){if(!(t instanceof Ji))return this.reportError(new Error("parameters received "+JSON.stringify(t)+" which is not a StaticSymbol"),t),[];try{var e=this.parameterCache.get(t);if(!e){var n=this.getTypeMetadata(t),r=n?n.members:null,i=r?r.__ctor__:null;if(i){var o=i.find(function(t){return"constructor"==t.__symbolic}),s=this.simplify(t,o.parameters||[]),a=this.simplify(t,o.parameterDecorators||[]);e=[],s.forEach(function(t,n){var r=[];t&&r.push(t);var i=a?a[n]:null;i&&r.push.apply(r,i),e.push(r)})}else n.extends&&(e=this.parameters(this.simplify(t,n.extends)));e||(e=[]),this.parameterCache.set(t,e)}return e}catch(e){throw console.error("Failed on type "+JSON.stringify(t)+" with error "+e),e}},t.prototype._methodNames=function(t){var e=this.methodCache.get(t);if(!e){var n=this.getTypeMetadata(t);if(e={},n.extends){var r=this._methodNames(this.simplify(t,n.extends));Object.keys(r).forEach(function(t){e[t]=r[t]})}var i=n.members||{};Object.keys(i).forEach(function(t){var n=i[t],r=n.some(function(t){return"method"==t.__symbolic});e[t]=e[t]||r}),this.methodCache.set(t,e)}return e},t.prototype.hasLifecycleHook=function(t,e){t instanceof Ji||this.reportError(new Error("hasLifecycleHook received "+JSON.stringify(t)+" which is not a StaticSymbol"),t);try{return!!this._methodNames(t)[e]}catch(e){throw console.error("Failed on type "+JSON.stringify(t)+" with error "+e),e}},t.prototype._registerDecoratorOrConstructor=function(t,e){this.conversionMap.set(t,function(t,n){return new(e.bind.apply(e,[void 0].concat(n)))})},t.prototype._registerFunction=function(t,e){this.conversionMap.set(t,function(t,n){return e.apply(void 0,n)})},t.prototype.initializeConversionMap=function(){var t=Hm.coreDecorators,n=Hm.diDecorators,r=Hm.diMetadata,i=Hm.diOpaqueToken,o=Hm.animationMetadata;Hm.provider;this.opaqueToken=this.findDeclaration(i,"OpaqueToken"),this._registerDecoratorOrConstructor(this.findDeclaration(n,"Host"),e.Host),this._registerDecoratorOrConstructor(this.findDeclaration(n,"Injectable"),e.Injectable),this._registerDecoratorOrConstructor(this.findDeclaration(n,"Self"),e.Self),this._registerDecoratorOrConstructor(this.findDeclaration(n,"SkipSelf"),e.SkipSelf),this._registerDecoratorOrConstructor(this.findDeclaration(n,"Inject"),e.Inject),this._registerDecoratorOrConstructor(this.findDeclaration(n,"Optional"),e.Optional),this._registerDecoratorOrConstructor(this.findDeclaration(t,"Attribute"),e.Attribute),this._registerDecoratorOrConstructor(this.findDeclaration(t,"ContentChild"),e.ContentChild),this._registerDecoratorOrConstructor(this.findDeclaration(t,"ContentChildren"),e.ContentChildren),this._registerDecoratorOrConstructor(this.findDeclaration(t,"ViewChild"),e.ViewChild),this._registerDecoratorOrConstructor(this.findDeclaration(t,"ViewChildren"),e.ViewChildren),this._registerDecoratorOrConstructor(this.findDeclaration(t,"Input"),e.Input),this._registerDecoratorOrConstructor(this.findDeclaration(t,"Output"),e.Output),this._registerDecoratorOrConstructor(this.findDeclaration(t,"Pipe"),e.Pipe),this._registerDecoratorOrConstructor(this.findDeclaration(t,"HostBinding"),e.HostBinding),this._registerDecoratorOrConstructor(this.findDeclaration(t,"HostListener"),e.HostListener),this._registerDecoratorOrConstructor(this.findDeclaration(t,"Directive"),e.Directive),this._registerDecoratorOrConstructor(this.findDeclaration(t,"Component"),e.Component),this._registerDecoratorOrConstructor(this.findDeclaration(t,"NgModule"),e.NgModule),this._registerDecoratorOrConstructor(this.findDeclaration(r,"Host"),e.Host),this._registerDecoratorOrConstructor(this.findDeclaration(r,"Self"),e.Self),this._registerDecoratorOrConstructor(this.findDeclaration(r,"SkipSelf"),e.SkipSelf),this._registerDecoratorOrConstructor(this.findDeclaration(r,"Optional"),e.Optional),this._registerFunction(this.findDeclaration(o,"trigger"),e.trigger),this._registerFunction(this.findDeclaration(o,"state"),e.state),this._registerFunction(this.findDeclaration(o,"transition"),e.transition),this._registerFunction(this.findDeclaration(o,"style"),e.style),this._registerFunction(this.findDeclaration(o,"animate"),e.animate),this._registerFunction(this.findDeclaration(o,"keyframes"),e.keyframes),this._registerFunction(this.findDeclaration(o,"sequence"),e.sequence),this._registerFunction(this.findDeclaration(o,"group"),e.group)},t.prototype.getStaticSymbol=function(t,e,n){return this.symbolResolver.getStaticSymbol(t,e,n)},t.prototype.reportError=function(t,e,n){if(!this.errorRecorder)throw t;
this.errorRecorder(t,e&&e.filePath||n)},t.prototype.simplify=function(t,e){function n(t,e,r){function a(t){var e=i.symbolResolver.resolveSymbol(t);return e?e.metadata:null}function u(e,i,a){if(i&&"function"==i.__symbolic){if(s.get(e))throw new Error("Recursion not supported");s.set(e,!0);try{var u=i.value;if(u&&(0!=r||"error"!=u.__symbolic)){var l=i.parameters,p=i.defaults;a=a.map(function(e){return n(t,e,r+1)}),p&&p.length>a.length&&a.push.apply(a,p.slice(a.length).map(function(t){return c(t)}));for(var h=zm.build(),f=0;f<l.length;f++)h.define(l[f],a[f]);var d,y=o;try{o=h.done(),d=n(e,u,r+1)}finally{o=y}return d}}finally{s.delete(e)}}return 0===r?{__symbolic:"ignore"}:c({__symbolic:"error",message:"Function call not supported",context:e})}function c(e){if(Ci(e))return e;if(e instanceof Array){for(var s=[],l=0,p=e;l<p.length;l++){var h=p[l];if(h&&"spread"===h.__symbolic){var f=c(h.expression);if(Array.isArray(f)){for(var d=0,y=f;d<y.length;d++){var m=y[d];s.push(m)}continue}}var v=c(h);Ei(v)||s.push(v)}return s}if(e instanceof Ji){if(e===i.opaqueToken||i.conversionMap.has(e))return e;var g=e,_=a(g);return _?n(g,_,r+1):g}if(e){if(e.__symbolic){var g=void 0;switch(e.__symbolic){case"binop":var b=c(e.left);if(Ei(b))return b;var w=c(e.right);if(Ei(w))return w;switch(e.operator){case"&&":return b&&w;case"||":return b||w;case"|":return b|w;case"^":return b^w;case"&":return b&w;case"==":return b==w;case"!=":return b!=w;case"===":return b===w;case"!==":return b!==w;case"<":return b<w;case">":return b>w;case"<=":return b<=w;case">=":return b>=w;case"<<":return b<<w;case">>":return b>>w;case"+":return b+w;case"-":return b-w;case"*":return b*w;case"/":return b/w;case"%":return b%w}return null;case"if":var C=c(e.condition);return c(C?e.thenExpression:e.elseExpression);case"pre":var E=c(e.operand);if(Ei(E))return E;switch(e.operator){case"+":return E;case"-":return-E;case"!":return!E;case"~":return~E}return null;case"index":var S=c(e.expression),x=c(e.index);return S&&Ci(x)?S[x]:null;case"select":var P=e.member,O=t,T=c(e.expression);if(T instanceof Ji){var A=T.members.concat(P);O=i.getStaticSymbol(T.filePath,T.name,A);var _=a(O);return _?n(O,_,r+1):O}return T&&Ci(P)?n(O,T[P],r+1):null;case"reference":var M=e.name,k=o.resolve(M);if(k!=zm.missing)return k;break;case"class":return t;case"function":return t;case"new":case"call":if(g=n(t,e.expression,r+1),g instanceof Ji){if(g===i.opaqueToken)return t;var R=e.arguments||[],I=i.conversionMap.get(g);if(I){var N=R.map(function(e){return n(t,e,r+1)});return I(t,N)}var D=a(g);return u(g,D,R)}break;case"error":var j=bi(e);if(e.line)throw j=j+" (position "+(e.line+1)+":"+(e.character+1)+" in the original .ts file)",Si(j,t.filePath,e.line,e.character);throw new Error(j)}return null}return wi(e,function(t,e){return c(t)})}return null}try{return c(e)}catch(e){var l=t.members.length?"."+t.members.join("."):"",p=e.message+", resolving symbol "+t.name+l+" in "+t.filePath;if(e.fileName)throw Si(p,e.fileName,e.line,e.column);throw new cs(p)}}var r=this,i=this,o=zm.empty,s=new Map,a=function(t,e,i){try{return n(t,e,i)}catch(e){r.reportError(e,t)}},u=this.errorRecorder?a(t,e,0):n(t,e,0);if(!Ei(u))return u},t.prototype.getTypeMetadata=function(t){var e=this.symbolResolver.resolveSymbol(t);return e&&e.metadata?e.metadata:{__symbolic:"class"}},t}(),zm=function(){function t(){}return t.prototype.resolve=function(t){},t.build=function(){var e=new Map;return{define:function(t,n){return e.set(t,n),this},done:function(){return e.size>0?new Wm(e):t.empty}}},t.missing={},t.empty={resolve:function(e){return t.missing}},t}(),Wm=function(t){function e(e){t.call(this),this.bindings=e}return Um(e,t),e.prototype.resolve=function(t){return this.bindings.has(t)?this.bindings.get(t):zm.missing},e}(zm),Gm=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Xm=function(){function t(t,e){this.symbol=t,this.metadata=e}return t}(),$m=3,Qm=function(){function t(t,e,n,r){this.host=t,this.staticSymbolCache=e,this.summaryResolver=n,this.errorRecorder=r,this.metadataCache=new Map,this.resolvedSymbols=new Map,this.resolvedFilePaths=new Set}return t.prototype.resolveSymbol=function(t){if(t.members.length>0)return this._resolveSymbolMembers(t);var e=this._resolveSymbolFromSummary(t);return e||(this._createSymbolsOf(t.filePath),e=this.resolvedSymbols.get(t)),e},t.prototype._resolveSymbolMembers=function(t){var e=t.members,n=this.resolveSymbol(this.getStaticSymbol(t.filePath,t.name));if(!n)return null;var r=n.metadata;if(r instanceof Ji)return new Xm(t,this.getStaticSymbol(r.filePath,r.name,e));if(!r||"class"!==r.__symbolic){for(var i=r,o=0;o<e.length&&i;o++)i=i[e[o]];return new Xm(t,i)}return r.statics&&1===e.length?new Xm(t,r.statics[e[0]]):null},t.prototype._resolveSymbolFromSummary=function(t){var e=this.summaryResolver.resolveSummary(t);return e?new Xm(t,e.metadata):null},t.prototype.getStaticSymbol=function(t,e,n){return this.staticSymbolCache.get(t,e,n)},t.prototype.getSymbolsOf=function(t){var e=new Set(this.summaryResolver.getSymbolsOf(t));return this._createSymbolsOf(t),this.resolvedSymbols.forEach(function(n){n.symbol.filePath===t&&e.add(n.symbol)}),Array.from(e)},t.prototype._createSymbolsOf=function(t){var e=this;if(!this.resolvedFilePaths.has(t)){this.resolvedFilePaths.add(t);var n=[],r=this.getModuleMetadata(t);if(r.metadata&&Object.keys(r.metadata).forEach(function(i){var o=r.metadata[i];n.push(e.createResolvedSymbol(e.getStaticSymbol(t,i),o))}),r.exports)for(var i=function(r){if(r.export)r.export.forEach(function(i){var o;o="string"==typeof i?i:i.as;var s=o;"string"!=typeof i&&(s=i.name);var a=e.resolveModule(r.from,t);if(a){var u=e.getStaticSymbol(a,s),c=e.getStaticSymbol(t,o);n.push(new Xm(c,u))}});else{var i=o.resolveModule(r.from,t);if(i){var s=o.getSymbolsOf(i);s.forEach(function(r){var i=e.getStaticSymbol(t,r.name);n.push(new Xm(i,r))})}}},o=this,s=0,a=r.exports;s<a.length;s++){var u=a[s];i(u)}n.forEach(function(t){return e.resolvedSymbols.set(t.symbol,t)})}},t.prototype.createResolvedSymbol=function(t,e){var n=this,r=function(e){function r(){e.apply(this,arguments)}return Gm(r,e),r.prototype.visitStringMap=function(r,i){var o=r.__symbolic;if("function"===o){var s=i.length;i.push.apply(i,r.parameters||[]);var a=e.prototype.visitStringMap.call(this,r,i);return i.length=s,a}if("reference"===o){var u=r.module,c=r.name;if(!c)return null;var l=void 0;if(u){if(l=n.resolveModule(u,t.filePath),!l)return{__symbolic:"error",message:"Could not resolve "+u+" relative to "+t.filePath+"."}}else{var p=i.indexOf(c)>=0;p||(l=t.filePath)}return l?n.getStaticSymbol(l,c):{__symbolic:"reference",name:c}}return e.prototype.visitStringMap.call(this,r,i)},r}(as),i=g(e,new r,[]);return new Xm(t,i)},t.prototype.reportError=function(t,e,n){if(!this.errorRecorder)throw t;this.errorRecorder(t,e&&e.filePath||n)},t.prototype.getModuleMetadata=function(t){var e=this.metadataCache.get(t);if(!e){var n=this.host.getMetadataFor(t);if(n){var r=-1;n.forEach(function(t){t.version>r&&(r=t.version,e=t)})}if(e||(e={__symbolic:"module",version:$m,module:t,metadata:{}}),e.version!=$m){var i=2==e.version?"Unsupported metadata version "+e.version+" for module "+t+". This module should be compiled with a newer version of ngc":"Metadata version mismatch for module "+t+", found version "+e.version+", expected "+$m;this.reportError(new Error(i),null)}this.metadataCache.set(t,e)}return e},t.prototype.getSymbolByModule=function(t,e,n){var r=this.resolveModule(t,n);return r?this.getStaticSymbol(r,e):(this.reportError(new Error("Could not resolve module "+t+(n?" relative to $ {\n            containingFile\n          } ":"")),null),this.getStaticSymbol("ERROR:"+t,e))},t.prototype.resolveModule=function(t,e){try{return this.host.moduleNameToFileName(t,e)}catch(n){console.error("Could not resolve module '"+t+"' relative to file "+e),this.reportError(new n,null,e)}},t}(),Ym=function(){function t(t,e){this.host=t,this.staticSymbolCache=e,this.summaryCache=new Map,this.loadedFilePaths=new Set}return t.prototype._assertNoMembers=function(t){if(t.members.length)throw new Error("Internal state: StaticSymbols in summaries can't have members! "+JSON.stringify(t))},t.prototype.resolveSummary=function(t){this._assertNoMembers(t);var e=this.summaryCache.get(t);return e||(this._loadSummaryFile(t.filePath),e=this.summaryCache.get(t)),e},t.prototype.getSymbolsOf=function(t){return this._loadSummaryFile(t),Array.from(this.summaryCache.keys()).filter(function(e){return e.filePath===t})},t.prototype._loadSummaryFile=function(t){var e=this;if(!this.loadedFilePaths.has(t)&&(this.loadedFilePaths.add(t),!this.host.isSourceFile(t))){var n=oi(t),r=void 0;try{r=this.host.loadSummary(n)}catch(t){throw console.error("Error loading summary file "+n),t}if(r){var i=ii(this.staticSymbolCache,r);i.forEach(function(t){e.summaryCache.set(t.symbol,t)})}}},t}(),Km=function(){function t(t,e,n,r){this.parent=t,this.instance=e,this.className=n,this.vars=r}return t.prototype.createChildWihtLocalVars=function(){return new t(this,this.instance,this.className,new Map)},t}(),Zm=function(){function t(t){this.value=t}return t}(),Jm=function(){function t(){}return t.prototype.debugAst=function(t){return Yn(t)},t.prototype.visitDeclareVarStmt=function(t,e){return e.vars.set(t.name,t.value.visitExpression(this,e)),null},t.prototype.visitWriteVarExpr=function(t,e){for(var n=t.value.visitExpression(this,e),r=e;null!=r;){if(r.vars.has(t.name))return r.vars.set(t.name,n),n;r=r.parent}throw new Error("Not declared variable "+t.name)},t.prototype.visitReadVarExpr=function(t,e){var n=t.name;if(r(t.builtin))switch(t.builtin){case jh.Super:return e.instance.__proto__;case jh.This:return e.instance;case jh.CatchError:n=tv;break;case jh.CatchStack:n=ev;break;default:throw new Error("Unknown builtin variable "+t.builtin)}for(var i=e;null!=i;){if(i.vars.has(n))return i.vars.get(n);i=i.parent}throw new Error("Not declared variable "+n)},t.prototype.visitWriteKeyExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.index.visitExpression(this,e),i=t.value.visitExpression(this,e);return n[r]=i,i},t.prototype.visitWritePropExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.value.visitExpression(this,e);return n[t.name]=r,r},t.prototype.visitInvokeMethodExpr=function(t,e){var n,i=t.receiver.visitExpression(this,e),o=this.visitAllExpressions(t.args,e);if(r(t.builtin))switch(t.builtin){case Hh.ConcatArray:n=i.concat.apply(i,o);break;case Hh.SubscribeObservable:n=i.subscribe({next:o[0]});break;case Hh.Bind:n=i.bind.apply(i,o);break;default:throw new Error("Unknown builtin method "+t.builtin)}else n=i[t.name].apply(i,o);return n},t.prototype.visitInvokeFunctionExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),r=t.fn;if(r instanceof Vh&&r.builtin===jh.Super)return e.instance.constructor.prototype.constructor.apply(e.instance,n),null;var i=t.fn.visitExpression(this,e);return i.apply(null,n)},t.prototype.visitReturnStmt=function(t,e){return new Zm(t.value.visitExpression(this,e))},t.prototype.visitDeclareClassStmt=function(t,e){var n=Ti(t,e,this);return e.vars.set(t.name,n),null},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e)},t.prototype.visitIfStmt=function(t,e){var n=t.condition.visitExpression(this,e);return n?this.visitAllStatements(t.trueCase,e):r(t.falseCase)?this.visitAllStatements(t.falseCase,e):null},t.prototype.visitTryCatchStmt=function(t,e){try{return this.visitAllStatements(t.bodyStmts,e)}catch(r){var n=e.createChildWihtLocalVars();return n.vars.set(tv,r),n.vars.set(ev,r.stack),this.visitAllStatements(t.catchStmts,n)}},t.prototype.visitThrowStmt=function(t,e){throw t.error.visitExpression(this,e)},t.prototype.visitCommentStmt=function(t,e){return null},t.prototype.visitInstantiateExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),r=t.classExpr.visitExpression(this,e);return new(r.bind.apply(r,[void 0].concat(n)))},t.prototype.visitLiteralExpr=function(t,e){return t.value},t.prototype.visitExternalExpr=function(t,e){return t.value.reference},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e)?t.trueCase.visitExpression(this,e):r(t.falseCase)?t.falseCase.visitExpression(this,e):null},t.prototype.visitNotExpr=function(t,e){return!t.condition.visitExpression(this,e)},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e)},t.prototype.visitFunctionExpr=function(t,e){var n=t.params.map(function(t){return t.name});return Ai(n,t.statements,e,this)},t.prototype.visitDeclareFunctionStmt=function(t,e){var n=t.params.map(function(t){return t.name});return e.vars.set(t.name,Ai(n,t.statements,e,this)),null},t.prototype.visitBinaryOperatorExpr=function(t,e){var n=this,r=function(){return t.lhs.visitExpression(n,e)},i=function(){return t.rhs.visitExpression(n,e)};switch(t.operator){case Nh.Equals:return r()==i();case Nh.Identical:return r()===i();case Nh.NotEquals:return r()!=i();case Nh.NotIdentical:return r()!==i();case Nh.And:return r()&&i();case Nh.Or:return r()||i();case Nh.Plus:return r()+i();case Nh.Minus:return r()-i();case Nh.Divide:return r()/i();case Nh.Multiply:return r()*i();case Nh.Modulo:return r()%i();case Nh.Lower:return r()<i();case Nh.LowerEquals:return r()<=i();case Nh.Bigger:return r()>i();case Nh.BiggerEquals:return r()>=i();default:throw new Error("Unknown operator "+t.operator)}},t.prototype.visitReadPropExpr=function(t,e){var n,r=t.receiver.visitExpression(this,e);return n=r[t.name]},t.prototype.visitReadKeyExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.index.visitExpression(this,e);return n[r]},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r={};return t.entries.forEach(function(t){return r[t.key]=t.value.visitExpression(n,e)}),r},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitAllStatements=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=r.visitStatement(this,e);if(i instanceof Zm)return i}return null},t}(),tv="error",ev="stack",nv=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},rv=function(t){function e(){t.call(this,!1)}return nv(e,t),e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),this._visitClassConstructor(t,e),r(t.parent)&&(e.print(t.name+".prototype = Object.create("),t.parent.visitExpression(this,e),e.println(".prototype);")),t.getters.forEach(function(r){return n._visitClassGetter(t,r,e)}),t.methods.forEach(function(r){return n._visitClassMethod(t,r,e)}),e.popClass(),null},e.prototype._visitClassConstructor=function(t,e){e.print("function "+t.name+"("),r(t.constructorMethod)&&this._visitParams(t.constructorMethod.params,e),e.println(") {"),e.incIndent(),r(t.constructorMethod)&&t.constructorMethod.body.length>0&&(e.println("var self = this;"),this.visitAllStatements(t.constructorMethod.body,e)),e.decIndent(),e.println("}")},e.prototype._visitClassGetter=function(t,e,n){n.println("Object.defineProperty("+t.name+".prototype, '"+e.name+"', { get: function() {"),n.incIndent(),e.body.length>0&&(n.println("var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println("}});")},e.prototype._visitClassMethod=function(t,e,n){n.print(t.name+".prototype."+e.name+" = function("),this._visitParams(e.params,n),n.println(") {"),n.incIndent(),e.body.length>0&&(n.println("var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println("};")},e.prototype.visitReadVarExpr=function(e,n){if(e.builtin===jh.This)n.print("self");else{if(e.builtin===jh.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");t.prototype.visitReadVarExpr.call(this,e,n)}return null},e.prototype.visitDeclareVarStmt=function(t,e){return e.print("var "+t.name+" = "),t.value.visitExpression(this,e),e.println(";"),null},e.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),null},e.prototype.visitInvokeFunctionExpr=function(e,n){var r=e.fn;return r instanceof Vh&&r.builtin===jh.Super?(n.currentClass.parent.visitExpression(this,n),n.print(".call(this"),e.args.length>0&&(n.print(", "),this.visitAllExpressions(e.args,n,",")),n.print(")")):t.prototype.visitInvokeFunctionExpr.call(this,e,n),null},e.prototype.visitFunctionExpr=function(t,e){return e.print("function("),this._visitParams(t.params,e),e.println(") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print("}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return e.print("function "+t.name+"("),this._visitParams(t.params,e),e.println(") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println("}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println("try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println("} catch ("+Od.name+") {"),e.incIndent();var n=[Td.set(Od.prop("stack")).toDeclStmt(null,[cf.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println("}"),null},e.prototype._visitParams=function(t,e){this.visitAllObjects(function(t){return e.print(t.name)},t,e,",")},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case Hh.ConcatArray:e="concat";break;case Hh.SubscribeObservable:e="subscribe";break;case Hh.Bind:e="bind";break;default:throw new Error("Unknown builtin method: "+t)}return e},e}(kd),iv=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ov=function(t){function e(){t.apply(this,arguments),this._evalArgNames=[],this._evalArgValues=[]}return iv(e,t),e.prototype.getArgs=function(){for(var t={},e=0;e<this._evalArgNames.length;e++)t[this._evalArgNames[e]]=this._evalArgValues[e];return t},e.prototype.visitExternalExpr=function(t,e){var n=t.value.reference,r=this._evalArgValues.indexOf(n);if(r===-1){r=this._evalArgValues.length,this._evalArgValues.push(n);var i=b(t.value)||"val";this._evalArgNames.push("jit_"+i+r)}return e.print(this._evalArgNames[r]),null},e}(rv),sv=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},av=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},uv=function(){function t(t,e,n,r,i,o,s,a,u){this._injector=t,this._metadataResolver=e,this._templateParser=n,this._styleCompiler=r,this._viewCompiler=i,this._ngModuleCompiler=o,this._directiveWrapperCompiler=s,this._compilerConfig=a,this._animationParser=u,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._animationCompiler=new dm}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.compileModuleSync=function(t){return this._compileModuleAndComponents(t,!0).syncResult},t.prototype.compileModuleAsync=function(t){return this._compileModuleAndComponents(t,!1).asyncResult},t.prototype.compileModuleAndAllComponentsSync=function(t){return this._compileModuleAndAllComponents(t,!0).syncResult},t.prototype.compileModuleAndAllComponentsAsync=function(t){return this._compileModuleAndAllComponents(t,!1).asyncResult},t.prototype.getNgContentSelectors=function(t){var e=this._compiledTemplateCache.get(t);if(!e)throw new Error("The component "+s(t)+" is not yet compiled!");return e.compMeta.template.ngContentSelectors},t.prototype._compileModuleAndComponents=function(t,e){var n=this,r=this._loadModules(t,e),i=function(){return n._compileComponents(t,null),n._compileModule(t)};return e?new us(i()):new us(null,r.then(i))},t.prototype._compileModuleAndAllComponents=function(t,n){var r=this,i=this._loadModules(t,n),o=function(){var n=[];return r._compileComponents(t,n),new e.ModuleWithComponentFactories(r._compileModule(t),n)};return n?new us(o()):new us(null,i.then(o))},t.prototype._loadModules=function(t,e){var n=this,r=[],i=this._metadataResolver.getNgModuleMetadata(t);return i.transitiveModule.modules.forEach(function(t){r.push(n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.reference,e))}),Promise.all(r)},t.prototype._compileModule=function(t){var n=this,r=this._compiledNgModuleCache.get(t);if(!r){var i=this._metadataResolver.getNgModuleMetadata(t),o=[this._metadataResolver.getProviderMetadata(new ks(e.Compiler,{useFactory:function(){return new lv(n,i.type.reference)}}))],s=this._ngModuleCompiler.compile(i,o);s.dependencies.forEach(function(t){t.placeholder.reference=n._assertComponentKnown(t.comp.reference,!0).proxyComponentFactory}),r=this._compilerConfig.useJit?ki("/"+b(i.type)+"/module.ngfactory.js",s.statements,s.ngModuleFactoryVar):Pi(s.statements,s.ngModuleFactoryVar),this._compiledNgModuleCache.set(i.type.reference,r)}return r},t.prototype._compileComponents=function(t,e){var n=this,r=this._metadataResolver.getNgModuleMetadata(t),i=new Map,o=new Set;r.transitiveModule.modules.forEach(function(t){var r=n._metadataResolver.getNgModuleMetadata(t.reference);r.declaredDirectives.forEach(function(t){i.set(t.reference,r);var s=n._metadataResolver.getDirectiveMetadata(t.reference);if(n._compileDirectiveWrapper(s,r),s.isComponent&&(o.add(n._createCompiledTemplate(s,r)),e)){var a=n._createCompiledHostTemplate(s.type.reference,r);o.add(a),e.push(a.proxyComponentFactory)}})}),r.transitiveModule.modules.forEach(function(t){var e=n._metadataResolver.getNgModuleMetadata(t.reference);e.declaredDirectives.forEach(function(t){var e=n._metadataResolver.getDirectiveMetadata(t.reference);e.isComponent&&e.entryComponents.forEach(function(t){var e=i.get(t.reference);o.add(n._createCompiledHostTemplate(t.reference,e))})}),e.entryComponents.forEach(function(t){var e=i.get(t.reference);o.add(n._createCompiledHostTemplate(t.reference,e))})}),o.forEach(function(t){return n._compileTemplate(t)})},t.prototype.clearCacheFor=function(t){this._compiledNgModuleCache.delete(t),this._metadataResolver.clearCacheFor(t),this._compiledHostTemplateCache.delete(t);var e=this._compiledTemplateCache.get(t);e&&this._compiledTemplateCache.delete(t)},t.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()},t.prototype._createCompiledHostTemplate=function(t,e){if(!e)throw new Error("Component "+s(t)+" is not part of any NgModule or the module has not been imported into your module.");var n=this._compiledHostTemplateCache.get(t);if(!n){var r=this._metadataResolver.getDirectiveMetadata(t);Ri(r);var i=function(){};i.overriddenName=b(r.type)+"_Host";var o=S(i,r);n=new cv(!0,r.selector,r.type,o,e,[r.type]),this._compiledHostTemplateCache.set(t,n)}return n},t.prototype._createCompiledTemplate=function(t,e){var n=this._compiledTemplateCache.get(t.type.reference);return n||(Ri(t),n=new cv(!1,t.selector,t.type,t,e,e.transitiveModule.directives),this._compiledTemplateCache.set(t.type.reference,n)),n},t.prototype._assertComponentKnown=function(t,e){var n=e?this._compiledHostTemplateCache.get(t):this._compiledTemplateCache.get(t);if(!n)throw new Error("Illegal state: Compiled view for component "+s(t)+" (host: "+e+") does not exist!");return n},t.prototype._assertDirectiveWrapper=function(t){var e=this._compiledDirectiveWrapperCache.get(t);if(!e)throw new Error("Illegal state: Directive wrapper for "+s(t)+" has not been compiled!");return e},t.prototype._compileDirectiveWrapper=function(t,e){var n,r=this._directiveWrapperCompiler.compile(t),i=r.statements;n=this._compilerConfig.useJit?ki("/"+b(e.type)+"/"+b(t.type)+"/wrapper.ngfactory.js",i,r.dirWrapperClassVar):Pi(i,r.dirWrapperClassVar),this._compiledDirectiveWrapperCache.set(t.type.reference,n)},t.prototype._compileTemplate=function(t){var e=this;if(!t.isCompiled){var n=t.compMeta,r=new Map,i=this._styleCompiler.compileComponent(n);i.externalStylesheets.forEach(function(t){r.set(t.meta.moduleUrl,t)}),this._resolveStylesCompileResult(i.componentStylesheet,r);var o=this._animationParser.parseComponent(n),s=t.directives.map(function(t){return e._metadataResolver.getDirectiveSummary(t.reference)}),a=t.ngModule.transitiveModule.pipes.map(function(t){return e._metadataResolver.getPipeSummary(t.reference)}),u=this._templateParser.parse(n,n.template.template,s,a,t.ngModule.schemas,b(n.type)),c=this._animationCompiler.compile(b(n.type),o),l=this._viewCompiler.compileComponent(n,u,Ge(i.componentStylesheet.stylesVar),a,c);l.dependencies.forEach(function(t){var n;if(t instanceof qy){var r=t;n=e._assertComponentKnown(r.comp.reference,!1),r.placeholder.reference=n.proxyViewClass}else if(t instanceof zy){var i=t;n=e._assertComponentKnown(i.comp.reference,!0),i.placeholder.reference=n.proxyComponentFactory}else if(t instanceof Wy){var o=t;o.placeholder.reference=e._assertDirectiveWrapper(o.dir.reference)}});var p,h=(f=i.componentStylesheet.statements).concat.apply(f,c.map(function(t){return t.statements})).concat(l.statements);p=this._compilerConfig.useJit?ki("/"+b(t.ngModule.type)+"/"+b(t.compType)+"/"+(t.isHost?"host":"component")+".ngfactory.js",h,l.viewClassVar):Pi(h,l.viewClassVar),t.compiled(p);var f}},t.prototype._resolveStylesCompileResult=function(t,e){var n=this;t.dependencies.forEach(function(t,r){var i=e.get(t.moduleUrl),o=n._resolveAndEvalStylesCompileResult(i,e);t.valuePlaceholder.reference=o})},t.prototype._resolveAndEvalStylesCompileResult=function(t,e){return this._resolveStylesCompileResult(t,e),this._compilerConfig.useJit?ki("/"+t.meta.moduleUrl+".ngstyle.js",t.statements,t.stylesVar):Pi(t.statements,t.stylesVar)},t=sv([M(),av("design:paramtypes",[e.Injector,fd,xp,Ty,hm,wd,Yf,Rp,ih])],t)}(),cv=function(){function t(t,n,r,i,o,a){this.isHost=t,this.compType=r,this.compMeta=i,this.ngModule=o,this.directives=a,this._viewClass=null,this.isCompiled=!1;var u=this;this.proxyViewClass=function(){if(!u._viewClass)throw new Error("Illegal state: CompiledTemplate for "+s(u.compType)+" is not compiled yet!");return u._viewClass.apply(this,arguments)},this.proxyComponentFactory=t?new e.ComponentFactory(n,this.proxyViewClass,r.reference):null}return t.prototype.compiled=function(t){this._viewClass=t,this.proxyViewClass.prototype=t.prototype,this.isCompiled=!0},t}(),lv=function(){function t(t,e){this._delegate=t,this._ngModule=e}return Object.defineProperty(t.prototype,"_injector",{get:function(){return this._delegate.injector},enumerable:!0,configurable:!0}),t.prototype.compileModuleSync=function(t){return this._delegate.compileModuleSync(t)},t.prototype.compileModuleAsync=function(t){return this._delegate.compileModuleAsync(t)},t.prototype.compileModuleAndAllComponentsSync=function(t){return this._delegate.compileModuleAndAllComponentsSync(t)},t.prototype.compileModuleAndAllComponentsAsync=function(t){return this._delegate.compileModuleAndAllComponentsAsync(t)},t.prototype.getNgContentSelectors=function(t){return this._delegate.getNgContentSelectors(t)},t.prototype.clearCache=function(){this._delegate.clearCache()},t.prototype.clearCacheFor=function(t){this._delegate.clearCacheFor(t)},t}(),pv=function(){function t(t,e,n){this._htmlParser=t,this._implicitTags=e,this._implicitAttrs=n,this._messages=[]}return t.prototype.updateFromTemplate=function(t,e,n){var r=this._htmlParser.parse(t,e,!0,n);if(r.errors.length)return r.errors;var i=pt(r.rootNodes,n,this._implicitTags,this._implicitAttrs);if(i.errors.length)return i.errors;(o=this._messages).push.apply(o,i.messages);var o},t.prototype.getMessages=function(){return this._messages},t.prototype.write=function(t){return t.write(this._messages)},t}(),hv=function(){function t(t,e,n,r){this.host=t,this.staticSymbolResolver=e,this.messageBundle=n,this.metadataResolver=r}return t.prototype.extract=function(t){var e=this,n=mi(this.staticSymbolResolver,t,this.host),r=di(n,this.host,this.metadataResolver),i=r.files,o=r.ngModules;return Promise.all(o.map(function(t){return e.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1)})).then(function(){var t=[];if(i.forEach(function(n){var r=[];n.directives.forEach(function(t){var n=e.metadataResolver.getDirectiveMetadata(t);n&&n.isComponent&&r.push(n)}),r.forEach(function(r){var i=r.template.template,o=Na.fromArray(r.template.interpolation);t.push.apply(t,e.messageBundle.updateFromTemplate(i,n.srcUrl,o))})}),t.length)throw new Error(t.map(function(t){return t.toString()}).join("\n"));return e.messageBundle})},t.create=function(n){var r=new dl(new pl),i=je(),o=new to,s=new Ym(n,o),a=new Qm(n,o,s),u=new qm(a);Fm.install(u);var c=new Rp({genDebugInfo:!1,defaultEncapsulation:e.ViewEncapsulation.Emulated,logBindingUpdate:!1,useJit:!1}),l=new yh({get:function(t){return n.loadResource(t)}},i,r,c),p=new Gd,h=new fd(new nd(u),new _h(u),new od(u),s,p,l,u),f=new pv(r,[],{}),d=new t(n,a,f,h);return{extractor:d,staticReflector:u}},t}(),fv=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},dv=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yv={get:function(t){throw new Error("No ResourceLoader implementation has been provided. Can't read the url \""+t+'"')}},mv=new e.OpaqueToken("HtmlParser"),vv=[{provide:To,useValue:Oo},{provide:co,useExisting:To},{provide:sh,useValue:yv},ud,Po,fu,wu,{provide:mv,useClass:pl},{provide:dl,useFactory:function(t,e,n){return new dl(t,e,n)},deps:[mv,[new e.Optional,new e.Inject(e.TRANSLATIONS)],[new e.Optional,new e.Inject(e.TRANSLATIONS_FORMAT)]]},{provide:pl,useExisting:dl},xp,yh,fd,ch,Ty,hm,wd,Yf,{provide:Rp,useValue:new Rp},uv,{provide:e.Compiler,useExisting:uv},Gd,{provide:Ml,useExisting:Gd},lh,_h,od,nd,ih],gv=function(){function t(t){this._defaultOptions=[{useDebug:e.isDevMode(),useJit:!0,defaultEncapsulation:e.ViewEncapsulation.Emulated}].concat(t)}return t.prototype.createCompiler=function(t){void 0===t&&(t=[]);var n=Ni(this._defaultOptions.concat(t)),r=e.ReflectiveInjector.resolveAndCreate([vv,{provide:Rp,useFactory:function(){return new Rp({genDebugInfo:n.useDebug,useJit:n.useJit,defaultEncapsulation:n.defaultEncapsulation,logBindingUpdate:n.useDebug})},deps:[]},n.providers]);return r.get(e.Compiler)},t.ctorParameters=function(){return[{type:Array,decorators:[{type:e.Inject,args:[e.COMPILER_OPTIONS]}]}]},t=fv([M(),dv("design:paramtypes",[Array])],t)}(),_v=e.createPlatformFactory(e.platformCore,"coreDynamic",[{provide:e.COMPILER_OPTIONS,useValue:{},multi:!0},{provide:e.CompilerFactory,useClass:gv},{provide:e.PLATFORM_INITIALIZER,useValue:Ii,multi:!0}]),bv=function(){function t(){}return t.prototype.fileNameToModuleName=function(t,e){},t}();t.VERSION=Vi,t.TextAst=Li,t.BoundTextAst=Fi,t.AttrAst=Ui,t.BoundElementPropertyAst=Hi,t.BoundEventAst=Bi,t.ReferenceAst=qi,t.VariableAst=zi,t.ElementAst=Wi,t.EmbeddedTemplateAst=Gi,t.BoundDirectivePropertyAst=Xi,t.DirectiveAst=$i,t.ProviderAst=Qi,t.ProviderAstType=Yi,t.NgContentAst=Ki,t.PropertyBindingType=Zi,t.templateVisitAll=n,t.TEMPLATE_TRANSFORMS=Cp,t.CompilerConfig=Rp,t.RenderTypes=Ip,
t.CompileAnimationEntryMetadata=hs,t.CompileAnimationStateMetadata=fs,t.CompileAnimationStateDeclarationMetadata=ds,t.CompileAnimationStateTransitionMetadata=ys,t.CompileAnimationMetadata=ms,t.CompileAnimationKeyframesSequenceMetadata=vs,t.CompileAnimationStyleMetadata=gs,t.CompileAnimationAnimateMetadata=_s,t.CompileAnimationWithStepsMetadata=bs,t.CompileAnimationSequenceMetadata=ws,t.CompileAnimationGroupMetadata=Cs,t.identifierName=b,t.identifierModuleUrl=w,t.CompileSummaryKind=Ss,t.tokenName=C,t.tokenReference=E,t.CompileStylesheetMetadata=xs,t.CompileTemplateMetadata=Ps,t.CompileDirectiveMetadata=Os,t.createHostComponentMeta=S,t.CompilePipeMetadata=Ts,t.CompileNgModuleMetadata=As,t.TransitiveCompileNgModuleMetadata=Ms,t.ProviderMeta=ks,t.createAotCompiler=xi,t.AotCompiler=Lm,t.analyzeNgModules=fi,t.analyzeAndValidateNgModules=di,t.extractProgramSymbols=mi,t.StaticReflector=qm,t.StaticAndDynamicReflectionCapabilities=Fm,t.StaticSymbol=Ji,t.StaticSymbolCache=to,t.ResolvedStaticSymbol=Xm,t.StaticSymbolResolver=Qm,t.AotSummaryResolver=Ym,t.SummaryResolver=ud,t.JitCompiler=uv,t.COMPILER_PROVIDERS=vv,t.JitCompilerFactory=gv,t.platformCoreDynamic=_v,t.createUrlResolverWithoutPackagePrefix=De,t.createOfflineCompileUrlResolver=je,t.DEFAULT_PACKAGE_URL_PROVIDER=ch,t.UrlResolver=lh,t.getUrlScheme=Ve,t.ResourceLoader=sh,t.DirectiveResolver=_h,t.PipeResolver=od,t.NgModuleResolver=nd,t.DEFAULT_INTERPOLATION_CONFIG=Da,t.InterpolationConfig=Na,t.ElementSchemaRegistry=Ml,t.Extractor=hv,t.I18NHtmlParser=dl,t.MessageBundle=pv,t.Serializer=Ec,t.Xliff=Hc,t.Xmb=Kc,t.Xtb=ol,t.DirectiveNormalizer=yh,t.TokenType=pu,t.Lexer=fu,t.Token=du,t.EOF=yu,t.isIdentifier=H,t.isQuote=W,t.SplitInterpolation=_u,t.TemplateBindingParseResult=bu,t.Parser=wu,t._ParseAST=Cu,t.ERROR_COLLECTOR_TOKEN=hd,t.CompileMetadataResolver=fd,t.componentModuleUrl=zn,t.ParseTreeResult=Wu,t.TreeError=zu,t.HtmlParser=pl,t.NgModuleCompiler=wd,t.DirectiveWrapperCompiler=Yf,t.ImportResolver=bv,t.debugOutputAstAsTypeScript=Yn,t.TypeScriptEmitter=Nd,t.ParseLocation=Su,t.ParseSourceFile=xu,t.ParseSourceSpan=Pu,t.ParseErrorLevel=Ou,t.ParseError=Tu,t.DomElementSchemaRegistry=Gd,t.CssSelector=Zo,t.SelectorMatcher=Jo,t.SelectorListContext=ts,t.SelectorContext=es,t.StylesCompileDependency=xy,t.StylesCompileResult=Py,t.CompiledStylesheet=Oy,t.StyleCompiler=Ty,t.TemplateParseError=Ep,t.TemplateParseResult=Sp,t.TemplateParser=xp,t.splitClasses=me,t.createElementCssSelector=ve,t.removeSummaryDuplicates=_e,t.ViewCompiler=hm,t.AnimationParser=ih,t.SyntaxError=cs}),function(i,o){"object"==typeof n&&"undefined"!=typeof r?o(n,e("@angular/compiler"),e("@angular/core"),e("@angular/platform-browser")):t.registerDynamic("d",["b","c","e"],!1,function(t,e,n){return"function"==typeof o?o.call(e,e,t("b"),t("c"),t("e")):o})}(this,function(t,e,n,r){"use strict";var i,o=r.__platform_browser_private__.INTERNAL_BROWSER_PLATFORM_PROVIDERS,s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.get=function(t){var e,n,r=new Promise(function(t,r){e=t,n=r}),i=new XMLHttpRequest;return i.open("GET",t,!0),i.responseType="text",i.onload=function(){var r=i.response||i.responseText,o=1223===i.status?204:i.status;0===o&&(o=r?200:0),200<=o&&o<=300?e(r):n("Failed to load "+t)},i.onerror=function(){n("Failed to load "+t)},i.send(),r},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[]},e}(e.ResourceLoader),u=[o,{provide:n.COMPILER_OPTIONS,useValue:{providers:[{provide:e.ResourceLoader,useClass:a}]},multi:!0}];i="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var c=i;c.assert=function(t){};var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},p=function(t){function e(){if(t.call(this),this._cache=c.$templateCache,null==this._cache)throw new Error("CachedResourceLoader: Template cache was not found in $templateCache.")}return l(e,t),e.prototype.get=function(t){return this._cache.hasOwnProperty(t)?Promise.resolve(this._cache[t]):Promise.reject("CachedResourceLoader: Did not find cached template for "+t)},e}(e.ResourceLoader),h={INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS:u,ResourceLoaderImpl:a},f=new n.Version("2.4.8"),d=[{provide:e.ResourceLoader,useClass:p}],y=n.createPlatformFactory(e.platformCoreDynamic,"browserDynamic",u);t.RESOURCE_CACHE_PROVIDER=d,t.platformBrowserDynamic=y,t.VERSION=f,t.__platform_browser_dynamic_private__=h}),t.registerDynamic("f",[],!1,function(i,o,s){var a=t.registry.get("@@global-helpers").prepareGlobal(s.id,null,null);return function(t){var i=t.jQuery,o=t.Vel;if("undefined"==typeof i){var i;i="function"==typeof e?$=e("jquery"):$}i.easing.jswing=i.easing.swing,i.extend(i.easing,{def:"easeOutQuad",swing:function(t,e,n,r,o){return i.easing[i.easing.def](t,e,n,r,o)},easeInQuad:function(t,e,n,r,i){return r*(e/=i)*e+n},easeOutQuad:function(t,e,n,r,i){return-r*(e/=i)*(e-2)+n},easeInOutQuad:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e+n:-r/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,r,i){return r*(e/=i)*e*e+n},easeOutCubic:function(t,e,n,r,i){return r*((e=e/i-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e*e+n:r/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,r,i){return r*(e/=i)*e*e*e+n},easeOutQuart:function(t,e,n,r,i){return-r*((e=e/i-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e*e*e+n:-r/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,r,i){return r*(e/=i)*e*e*e*e+n},easeOutQuint:function(t,e,n,r,i){return r*((e=e/i-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e*e*e*e+n:r/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,r,i){return-r*Math.cos(e/i*(Math.PI/2))+r+n},easeOutSine:function(t,e,n,r,i){return r*Math.sin(e/i*(Math.PI/2))+n},easeInOutSine:function(t,e,n,r,i){return-r/2*(Math.cos(Math.PI*e/i)-1)+n},easeInExpo:function(t,e,n,r,i){return 0==e?n:r*Math.pow(2,10*(e/i-1))+n},easeOutExpo:function(t,e,n,r,i){return e==i?n+r:r*(-Math.pow(2,-10*e/i)+1)+n},easeInOutExpo:function(t,e,n,r,i){return 0==e?n:e==i?n+r:(e/=i/2)<1?r/2*Math.pow(2,10*(e-1))+n:r/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(t,e,n,r,i){return-r*(Math.sqrt(1-(e/=i)*e)-1)+n},easeOutCirc:function(t,e,n,r,i){return r*Math.sqrt(1-(e=e/i-1)*e)+n},easeInOutCirc:function(t,e,n,r,i){return(e/=i/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+n:r/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,r,i){var o=1.70158,s=0,a=r;if(0==e)return n;if(1==(e/=i))return n+r;if(s||(s=.3*i),a<Math.abs(r)){a=r;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(r/a);return-(a*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/s))+n},easeOutElastic:function(t,e,n,r,i){var o=1.70158,s=0,a=r;if(0==e)return n;if(1==(e/=i))return n+r;if(s||(s=.3*i),a<Math.abs(r)){a=r;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(r/a);return a*Math.pow(2,-10*e)*Math.sin((e*i-o)*(2*Math.PI)/s)+r+n},easeInOutElastic:function(t,e,n,r,i){var o=1.70158,s=0,a=r;if(0==e)return n;if(2==(e/=i/2))return n+r;if(s||(s=i*(.3*1.5)),a<Math.abs(r)){a=r;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(r/a);return e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/s))+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/s)*.5+r+n},easeInBack:function(t,e,n,r,i,o){return void 0==o&&(o=1.70158),r*(e/=i)*e*((o+1)*e-o)+n},easeOutBack:function(t,e,n,r,i,o){return void 0==o&&(o=1.70158),r*((e=e/i-1)*e*((o+1)*e+o)+1)+n},easeInOutBack:function(t,e,n,r,i,o){return void 0==o&&(o=1.70158),(e/=i/2)<1?r/2*(e*e*(((o*=1.525)+1)*e-o))+n:r/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+n},easeInBounce:function(t,e,n,r,o){return r-i.easing.easeOutBounce(t,o-e,0,r,o)+n},easeOutBounce:function(t,e,n,r,i){return(e/=i)<1/2.75?r*(7.5625*e*e)+n:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+n:r*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,r,o){return e<o/2?.5*i.easing.easeInBounce(t,2*e,0,r,o)+n:.5*i.easing.easeOutBounce(t,2*e-o,0,r,o)+.5*r+n}}),i.extend(i.easing,{easeInOutMaterial:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e+n:r/4*((e-=2)*e*e+2)+n}}),i.Velocity?console.log("Velocity is already loaded. You may be needlessly importing Velocity again; note that Materialize includes Velocity."):(!function(t){function e(t){var e=t.length,r=n.type(t);return"function"!==r&&!n.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t))}if(!t.jQuery){var n=function(t,e){return new n.fn.init(t,e)};n.isWindow=function(t){return null!=t&&t==t.window},n.type=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[s.call(t)]||"object":typeof t},n.isArray=Array.isArray||function(t){return"array"===n.type(t)},n.isPlainObject=function(t){var e;if(!t||"object"!==n.type(t)||t.nodeType||n.isWindow(t))return!1;try{if(t.constructor&&!o.call(t,"constructor")&&!o.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(e in t);return void 0===e||o.call(t,e)},n.each=function(t,n,r){var i,o=0,s=t.length,a=e(t);if(r){if(a)for(;s>o&&(i=n.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=n.apply(t[o],r),i===!1)break}else if(a)for(;s>o&&(i=n.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=n.call(t[o],o,t[o]),i===!1)break;return t},n.data=function(t,e,i){if(void 0===i){var o=t[n.expando],s=o&&r[o];if(void 0===e)return s;if(s&&e in s)return s[e]}else if(void 0!==e){var o=t[n.expando]||(t[n.expando]=++n.uuid);return r[o]=r[o]||{},r[o][e]=i,i}},n.removeData=function(t,e){var i=t[n.expando],o=i&&r[i];o&&n.each(e,function(t,e){delete o[e]})},n.extend=function(){var t,e,r,i,o,s,a=arguments[0]||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[u]||{},u++),"object"!=typeof a&&"function"!==n.type(a)&&(a={}),u===c&&(a=this,u--);c>u;u++)if(null!=(o=arguments[u]))for(i in o)t=a[i],r=o[i],a!==r&&(l&&r&&(n.isPlainObject(r)||(e=n.isArray(r)))?(e?(e=!1,s=t&&n.isArray(t)?t:[]):s=t&&n.isPlainObject(t)?t:{},a[i]=n.extend(l,s,r)):void 0!==r&&(a[i]=r));return a},n.queue=function(t,r,i){function o(t,n){var r=n||[];return null!=t&&(e(Object(t))?!function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;)t[i++]=e[r++];if(n!==n)for(;void 0!==e[r];)t[i++]=e[r++];return t.length=i,t}(r,"string"==typeof t?[t]:t):[].push.call(r,t)),r}if(t){r=(r||"fx")+"queue";var s=n.data(t,r);return i?(!s||n.isArray(i)?s=n.data(t,r,o(i)):s.push(i),s):s||[]}},n.dequeue=function(t,e){n.each(t.nodeType?[t]:t,function(t,r){e=e||"fx";var i=n.queue(r,e),o=i.shift();"inprogress"===o&&(o=i.shift()),o&&("fx"===e&&i.unshift("inprogress"),o.call(r,function(){n.dequeue(r,e)}))})},n.fn=n.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function t(){for(var t=this.offsetParent||document;t&&"html"===!t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}var e=this[0],t=t.apply(e),r=this.offset(),i=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:n(t).offset();return r.top-=parseFloat(e.style.marginTop)||0,r.left-=parseFloat(e.style.marginLeft)||0,t.style&&(i.top+=parseFloat(t.style.borderTopWidth)||0,i.left+=parseFloat(t.style.borderLeftWidth)||0),{top:r.top-i.top,left:r.left-i.left}}};var r={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var i={},o=i.hasOwnProperty,s=i.toString,a="Boolean Number String Function Array Date RegExp Object Error".split(" "),u=0;u<a.length;u++)i["[object "+a[u]+"]"]=a[u].toLowerCase();n.fn.init.prototype=n.fn,t.Velocity={Utilities:n}}}(window),function(t){"object"==typeof r&&"object"==typeof r.exports?r.exports=t():"function"==typeof define&&define.amd?define(t):t()}(function(){return function(t,e,n,r){function o(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var i=t[e];i&&r.push(i)}return r}function s(t){return m.isWrapped(t)?t=[].slice.call(t):m.isNode(t)&&(t=[t]),t}function a(t){var e=f.data(t,"velocity");return null===e?r:e}function u(t){return function(e){return Math.round(e*t)*(1/t)}}function c(t,n,r,i){function o(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function a(t){return 3*t}function u(t,e,n){return((o(e,n)*t+s(e,n))*t+a(e))*t}function c(t,e,n){return 3*o(e,n)*t*t+2*s(e,n)*t+a(e)}function l(e,n){for(var i=0;y>i;++i){var o=c(n,t,r);if(0===o)return n;var s=u(n,t,r)-e;n-=s/o}return n}function p(){for(var e=0;_>e;++e)E[e]=u(e*b,t,r)}function h(e,n,i){var o,s,a=0;do s=n+(i-n)/2,o=u(s,t,r)-e,o>0?i=s:n=s;while(Math.abs(o)>v&&++a<g);return s}function f(e){for(var n=0,i=1,o=_-1;i!=o&&E[i]<=e;++i)n+=b;--i;var s=(e-E[i])/(E[i+1]-E[i]),a=n+s*b,u=c(a,t,r);return u>=m?l(e,a):0==u?a:h(e,n,n+b)}function d(){S=!0,(t!=n||r!=i)&&p()}var y=4,m=.001,v=1e-7,g=10,_=11,b=1/(_-1),w="Float32Array"in e;if(4!==arguments.length)return!1;for(var C=0;4>C;++C)if("number"!=typeof arguments[C]||isNaN(arguments[C])||!isFinite(arguments[C]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var E=w?new Float32Array(_):new Array(_),S=!1,x=function(e){return S||d(),t===n&&r===i?e:0===e?0:1===e?1:u(f(e),n,i)};x.getControlPoints=function(){return[{x:t,y:n},{x:r,y:i}]};var P="generateBezier("+[t,n,r,i]+")";return x.toString=function(){return P},x}function l(t,e){var n=t;return m.isString(t)?b.Easings[t]||(n=!1):n=m.isArray(t)&&1===t.length?u.apply(null,t):m.isArray(t)&&2===t.length?w.apply(null,t.concat([e])):!(!m.isArray(t)||4!==t.length)&&c.apply(null,t),n===!1&&(n=b.Easings[b.defaults.easing]?b.defaults.easing:_),n}function p(t){if(t){var e=(new Date).getTime(),n=b.State.calls.length;n>1e4&&(b.State.calls=o(b.State.calls));for(var i=0;n>i;i++)if(b.State.calls[i]){var s=b.State.calls[i],u=s[0],c=s[2],l=s[3],d=!!l,y=null;l||(l=b.State.calls[i][3]=e-16);for(var v=Math.min((e-l)/c.duration,1),g=0,_=u.length;_>g;g++){var w=u[g],E=w.element;if(a(E)){var x=!1;if(c.display!==r&&null!==c.display&&"none"!==c.display){if("flex"===c.display){var P=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];f.each(P,function(t,e){C.setPropertyValue(E,"display",e)})}C.setPropertyValue(E,"display",c.display)}c.visibility!==r&&"hidden"!==c.visibility&&C.setPropertyValue(E,"visibility",c.visibility);for(var O in w)if("element"!==O){var T,A=w[O],M=m.isString(A.easing)?b.Easings[A.easing]:A.easing;if(1===v)T=A.endValue;else{var k=A.endValue-A.startValue;if(T=A.startValue+k*M(v,c,k),!d&&T===A.currentValue)continue}if(A.currentValue=T,"tween"===O)y=T;else{if(C.Hooks.registered[O]){var R=C.Hooks.getRoot(O),I=a(E).rootPropertyValueCache[R];I&&(A.rootPropertyValue=I)}var N=C.setPropertyValue(E,O,A.currentValue+(0===parseFloat(T)?"":A.unitType),A.rootPropertyValue,A.scrollData);C.Hooks.registered[O]&&(a(E).rootPropertyValueCache[R]=C.Normalizations.registered[R]?C.Normalizations.registered[R]("extract",null,N[1]):N[1]),"transform"===N[0]&&(x=!0)}}c.mobileHA&&a(E).transformCache.translate3d===r&&(a(E).transformCache.translate3d="(0px, 0px, 0px)",x=!0),x&&C.flushTransformCache(E)}}c.display!==r&&"none"!==c.display&&(b.State.calls[i][2].display=!1),c.visibility!==r&&"hidden"!==c.visibility&&(b.State.calls[i][2].visibility=!1),c.progress&&c.progress.call(s[1],s[1],v,Math.max(0,l+c.duration-e),l,y),1===v&&h(i)}}b.State.isTicking&&S(p)}function h(t,e){if(!b.State.calls[t])return!1;for(var n=b.State.calls[t][0],i=b.State.calls[t][1],o=b.State.calls[t][2],s=b.State.calls[t][4],u=!1,c=0,l=n.length;l>c;c++){var p=n[c].element;if(e||o.loop||("none"===o.display&&C.setPropertyValue(p,"display",o.display),"hidden"===o.visibility&&C.setPropertyValue(p,"visibility",o.visibility)),o.loop!==!0&&(f.queue(p)[1]===r||!/\.velocityQueueEntryFlag/i.test(f.queue(p)[1]))&&a(p)){a(p).isAnimating=!1,a(p).rootPropertyValueCache={};var h=!1;f.each(C.Lists.transforms3D,function(t,e){var n=/^scale/.test(e)?1:0,i=a(p).transformCache[e];a(p).transformCache[e]!==r&&new RegExp("^\\("+n+"[^.]").test(i)&&(h=!0,delete a(p).transformCache[e])}),o.mobileHA&&(h=!0,delete a(p).transformCache.translate3d),h&&C.flushTransformCache(p),C.Values.removeClass(p,"velocity-animating")}if(!e&&o.complete&&!o.loop&&c===l-1)try{o.complete.call(i,i)}catch(t){setTimeout(function(){throw t},1)}s&&o.loop!==!0&&s(i),a(p)&&o.loop===!0&&!e&&(f.each(a(p).tweensContainer,function(t,e){/^rotate/.test(t)&&360===parseFloat(e.endValue)&&(e.endValue=0,e.startValue=360),/^backgroundPosition/.test(t)&&100===parseFloat(e.endValue)&&"%"===e.unitType&&(e.endValue=0,e.startValue=100)}),b(p,"reverse",{loop:!0,delay:o.delay})),o.queue!==!1&&f.dequeue(p,o.queue)}b.State.calls[t]=!1;for(var d=0,y=b.State.calls.length;y>d;d++)if(b.State.calls[d]!==!1){u=!0;break}u===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var f,d=function(){if(n.documentMode)return n.documentMode;for(var t=7;t>4;t--){var e=n.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return r}(),y=function(){var t=0;return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var n,r=(new Date).getTime();return n=Math.max(0,16-(r-t)),t=r+n,setTimeout(function(){e(r+n)},n)}}(),m={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==r&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)},isWrapped:function(t){return t&&(t.jquery||e.Zepto&&e.Zepto.zepto.isZ(t))},isSVG:function(t){return e.SVGElement&&t instanceof e.SVGElement},isEmptyObject:function(t){for(var e in t)return!1;return!0}},v=!1;if(t.fn&&t.fn.jquery?(f=t,v=!0):f=e.Velocity.Utilities,8>=d&&!v)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=d)return void(i.fn.velocity=i.fn.animate);var g=400,_="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:e.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:f,Redirects:{},Easings:{},Promise:e.Promise,defaults:{queue:"",duration:g,easing:_,begin:r,complete:r,progress:r,display:r,visibility:r,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(t){f.data(t,"velocity",{isSVG:m.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};e.pageYOffset!==r?(b.State.scrollAnchor=e,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var w=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,r){var i={x:e.x+r.dx*n,v:e.v+r.dv*n,tension:e.tension,friction:e.friction};return{dx:i.v,dv:t(i)}}function n(n,r){var i={dx:n.v,dv:t(n)},o=e(n,.5*r,i),s=e(n,.5*r,o),a=e(n,r,s),u=1/6*(i.dx+2*(o.dx+s.dx)+a.dx),c=1/6*(i.dv+2*(o.dv+s.dv)+a.dv);return n.x=n.x+u*r,n.v=n.v+c*r,n}return function t(e,r,i){var o,s,a,u={x:-1,v:0,tension:null,friction:null},c=[0],l=0,p=1e-4,h=.016;for(e=parseFloat(e)||500,r=parseFloat(r)||20,i=i||null,u.tension=e,u.friction=r,o=null!==i,o?(l=t(e,r),s=l/i*h):s=h;a=n(a||u,s),c.push(1+a.x),l+=16,Math.abs(a.x)>p&&Math.abs(a.v)>p;);return o?function(t){return c[t*(c.length-1)|0]}:l}}();b.Easings={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},f.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(t,e){b.Easings[e[0]]=c.apply(null,e[1])});var C=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<C.Lists.colors.length;t++){var e="color"===C.Lists.colors[t]?"0 0 0 1":"255 255 255 1";C.Hooks.templates[C.Lists.colors[t]]=["Red Green Blue Alpha",e]}var n,r,i;if(d)for(n in C.Hooks.templates){r=C.Hooks.templates[n],i=r[0].split(" ");var o=r[1].match(C.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),o.push(o.shift()),C.Hooks.templates[n]=[i.join(" "),o.join(" ")])}for(n in C.Hooks.templates){r=C.Hooks.templates[n],i=r[0].split(" ");for(var t in i){var s=n+i[t],a=t;C.Hooks.registered[s]=[n,a]}}},getRoot:function(t){var e=C.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return C.RegEx.valueUnwrap.test(e)&&(e=e.match(C.RegEx.valueUnwrap)[1]),C.Values.isCSSNullValue(e)&&(e=C.Hooks.templates[t][1]),e},extractValue:function(t,e){var n=C.Hooks.registered[t];if(n){var r=n[0],i=n[1];return e=C.Hooks.cleanRootPropertyValue(r,e),e.toString().match(C.RegEx.valueSplit)[i]}return e},injectValue:function(t,e,n){var r=C.Hooks.registered[t];if(r){var i,o,s=r[0],a=r[1];return n=C.Hooks.cleanRootPropertyValue(s,n),i=n.toString().match(C.RegEx.valueSplit),i[a]=e,o=i.join(" ")}return n}},Normalizations:{registered:{clip:function(t,e,n){switch(t){case"name":return"clip";case"extract":var r;return C.RegEx.wrappedValueAlreadyExtracted.test(n)?r=n:(r=n.toString().match(C.RegEx.valueUnwrap),r=r?r[1].replace(/,(\s+)?/g," "):n),r;case"inject":return"rect("+n+")"}},blur:function(t,e,n){switch(t){case"name":return b.State.isFirefox?"filter":"-webkit-filter";case"extract":var r=parseFloat(n);if(!r&&0!==r){var i=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);r=i?i[1]:0}return r;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(t,e,n){if(8>=d)switch(t){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=r?r[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(t){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=d||b.State.isGingerbread||(C.Lists.transformsBase=C.Lists.transformsBase.concat(C.Lists.transforms3D));for(var t=0;t<C.Lists.transformsBase.length;t++)!function(){var e=C.Lists.transformsBase[t];C.Normalizations.registered[e]=function(t,n,i){switch(t){case"name":return"transform";case"extract":return a(n)===r||a(n).transformCache[e]===r?/^scale/i.test(e)?1:0:a(n).transformCache[e].replace(/[()]/g,"");case"inject":var o=!1;switch(e.substr(0,e.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(i);break;case"scal":case"scale":b.State.isAndroid&&a(n).transformCache[e]===r&&1>i&&(i=1),o=!/(\d)$/i.test(i);break;case"skew":o=!/(deg|\d)$/i.test(i);break;case"rotate":o=!/(deg|\d)$/i.test(i)}return o||(a(n).transformCache[e]="("+i+")"),a(n).transformCache[e]}}}();for(var t=0;t<C.Lists.colors.length;t++)!function(){var e=C.Lists.colors[t];C.Normalizations.registered[e]=function(t,n,i){switch(t){case"name":return e;case"extract":var o;if(C.RegEx.wrappedValueAlreadyExtracted.test(i))o=i;else{var s,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(i)?s=a[i]!==r?a[i]:a.black:C.RegEx.isHex.test(i)?s="rgb("+C.Values.hexToRgb(i).join(" ")+")":/^rgba?\(/i.test(i)||(s=a.black),o=(s||i).toString().match(C.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=d||3!==o.split(" ").length||(o+=" 1"),o;case"inject":return 8>=d?4===i.split(" ").length&&(i=i.split(/\s+/).slice(0,3).join(" ")):3===i.split(" ").length&&(i+=" 1"),(8>=d?"rgb":"rgba")+"("+i.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(d||b.State.isAndroid&&!b.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(b.State.prefixMatches[t])return[b.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],n=0,r=e.length;r>n;n++){var i;if(i=0===n?t:e[n]+t.replace(/^\w/,function(t){return t.toUpperCase()}),m.isString(b.State.prefixElement.style[i]))return b.State.prefixMatches[t]=i,[i,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(n,function(t,e,n,r){return e+e+n+n+r+r}),e=r.exec(t),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t&&t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":/^(table)$/i.test(e)?"table":/^(tbody)$/i.test(e)?"table-row-group":"block"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=(t.className.length?" ":"")+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,n,i,o){function s(t,n){function i(){c&&C.setPropertyValue(t,"display","none")}var u=0;if(8>=d)u=f.css(t,n);else{var c=!1;if(/^(width|height)$/.test(n)&&0===C.getPropertyValue(t,"display")&&(c=!0,C.setPropertyValue(t,"display",C.Values.getDisplayType(t))),!o){if("height"===n&&"border-box"!==C.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var l=t.offsetHeight-(parseFloat(C.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(C.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(C.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(C.getPropertyValue(t,"paddingBottom"))||0);return i(),l}if("width"===n&&"border-box"!==C.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var p=t.offsetWidth-(parseFloat(C.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(C.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(C.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(C.getPropertyValue(t,"paddingRight"))||0);return i(),p}}var h;h=a(t)===r?e.getComputedStyle(t,null):a(t).computedStyle?a(t).computedStyle:a(t).computedStyle=e.getComputedStyle(t,null),"borderColor"===n&&(n="borderTopColor"),u=9===d&&"filter"===n?h.getPropertyValue(n):h[n],(""===u||null===u)&&(u=t.style[n]),i()}if("auto"===u&&/^(top|right|bottom|left)$/i.test(n)){var y=s(t,"position");("fixed"===y||"absolute"===y&&/top|left/i.test(n))&&(u=f(t).position()[n]+"px")}return u}var u;if(C.Hooks.registered[n]){var c=n,l=C.Hooks.getRoot(c);i===r&&(i=C.getPropertyValue(t,C.Names.prefixCheck(l)[0])),C.Normalizations.registered[l]&&(i=C.Normalizations.registered[l]("extract",t,i)),u=C.Hooks.extractValue(c,i)}else if(C.Normalizations.registered[n]){var p,h;p=C.Normalizations.registered[n]("name",t),"transform"!==p&&(h=s(t,C.Names.prefixCheck(p)[0]),C.Values.isCSSNullValue(h)&&C.Hooks.templates[n]&&(h=C.Hooks.templates[n][1])),u=C.Normalizations.registered[n]("extract",t,h)}if(!/^[\d-]/.test(u))if(a(t)&&a(t).isSVG&&C.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{u=t.getBBox()[n]}catch(t){u=0}else u=t.getAttribute(n);else u=s(t,C.Names.prefixCheck(n)[0]);return C.Values.isCSSNullValue(u)&&(u=0),b.debug>=2&&console.log("Get "+n+": "+u),u},setPropertyValue:function(t,n,r,i,o){var s=n;if("scroll"===n)o.container?o.container["scroll"+o.direction]=r:"Left"===o.direction?e.scrollTo(r,o.alternateValue):e.scrollTo(o.alternateValue,r);else if(C.Normalizations.registered[n]&&"transform"===C.Normalizations.registered[n]("name",t))C.Normalizations.registered[n]("inject",t,r),s="transform",r=a(t).transformCache[n];else{if(C.Hooks.registered[n]){var u=n,c=C.Hooks.getRoot(n);i=i||C.getPropertyValue(t,c),r=C.Hooks.injectValue(u,r,i),n=c}if(C.Normalizations.registered[n]&&(r=C.Normalizations.registered[n]("inject",t,r),n=C.Normalizations.registered[n]("name",t)),s=C.Names.prefixCheck(n)[0],8>=d)try{t.style[s]=r}catch(t){b.debug&&console.log("Browser does not support ["+r+"] for ["+s+"]")}else a(t)&&a(t).isSVG&&C.Names.SVGAttribute(n)?t.setAttribute(n,r):t.style[s]=r;b.debug>=2&&console.log("Set "+n+" ("+s+"): "+r)}return[s,r]},flushTransformCache:function(t){function e(e){return parseFloat(C.getPropertyValue(t,e))}var n="";if((d||b.State.isAndroid&&!b.State.isChrome)&&a(t).isSVG){var r={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};f.each(a(t).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),r[t]&&(n+=t+"("+r[t].join(" ")+") ",delete r[t])})}else{var i,o;f.each(a(t).transformCache,function(e){return i=a(t).transformCache[e],"transformPerspective"===e?(o=i,!0):(9===d&&"rotateZ"===e&&(e="rotate"),void(n+=e+i+" "))}),o&&(n="perspective"+o+" "+n)}C.setPropertyValue(t,"transform",n)}};C.Hooks.register(),C.Normalizations.register(),b.hook=function(t,e,n){var i=r;return t=s(t),f.each(t,function(t,o){if(a(o)===r&&b.init(o),n===r)i===r&&(i=b.CSS.getPropertyValue(o,e));else{var s=b.CSS.setPropertyValue(o,e,n);"transform"===s[0]&&b.CSS.flushTransformCache(o),i=s}}),i};var E=function(){function t(){return o?O.promise||null:u}function i(){function t(t){function c(t,e){var n=r,i=r,a=r;return m.isArray(t)?(n=t[0],!m.isArray(t[1])&&/^[\d-]/.test(t[1])||m.isFunction(t[1])||C.RegEx.isHex.test(t[1])?a=t[1]:(m.isString(t[1])&&!C.RegEx.isHex.test(t[1])||m.isArray(t[1]))&&(i=e?t[1]:l(t[1],s.duration),
t[2]!==r&&(a=t[2]))):n=t,e||(i=i||s.easing),m.isFunction(n)&&(n=n.call(o,S,w)),m.isFunction(a)&&(a=a.call(o,S,w)),[n||0,i,a]}function h(t,e){var n,r;return r=(e||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(t){return n=t,""}),n||(n=C.Values.getUnitType(t)),[r,n]}function g(){var t={myParent:o.parentNode||n.body,position:C.getPropertyValue(o,"position"),fontSize:C.getPropertyValue(o,"fontSize")},r=t.position===N.lastPosition&&t.myParent===N.lastParent,i=t.fontSize===N.lastFontSize;N.lastParent=t.myParent,N.lastPosition=t.position,N.lastFontSize=t.fontSize;var s=100,u={};if(i&&r)u.emToPx=N.lastEmToPx,u.percentToPxWidth=N.lastPercentToPxWidth,u.percentToPxHeight=N.lastPercentToPxHeight;else{var c=a(o).isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");b.init(c),t.myParent.appendChild(c),f.each(["overflow","overflowX","overflowY"],function(t,e){b.CSS.setPropertyValue(c,e,"hidden")}),b.CSS.setPropertyValue(c,"position",t.position),b.CSS.setPropertyValue(c,"fontSize",t.fontSize),b.CSS.setPropertyValue(c,"boxSizing","content-box"),f.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(t,e){b.CSS.setPropertyValue(c,e,s+"%")}),b.CSS.setPropertyValue(c,"paddingLeft",s+"em"),u.percentToPxWidth=N.lastPercentToPxWidth=(parseFloat(C.getPropertyValue(c,"width",null,!0))||1)/s,u.percentToPxHeight=N.lastPercentToPxHeight=(parseFloat(C.getPropertyValue(c,"height",null,!0))||1)/s,u.emToPx=N.lastEmToPx=(parseFloat(C.getPropertyValue(c,"paddingLeft"))||1)/s,t.myParent.removeChild(c)}return null===N.remToPx&&(N.remToPx=parseFloat(C.getPropertyValue(n.body,"fontSize"))||16),null===N.vwToPx&&(N.vwToPx=parseFloat(e.innerWidth)/100,N.vhToPx=parseFloat(e.innerHeight)/100),u.remToPx=N.remToPx,u.vwToPx=N.vwToPx,u.vhToPx=N.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(u),o),u}if(s.begin&&0===S)try{s.begin.call(d,d)}catch(t){setTimeout(function(){throw t},1)}if("scroll"===T){var _,E,x,P=/^x$/i.test(s.axis)?"Left":"Top",A=parseFloat(s.offset)||0;s.container?m.isWrapped(s.container)||m.isNode(s.container)?(s.container=s.container[0]||s.container,_=s.container["scroll"+P],x=_+f(o).position()[P.toLowerCase()]+A):s.container=null:(_=b.State.scrollAnchor[b.State["scrollProperty"+P]],E=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===P?"Top":"Left")]],x=f(o).offset()[P.toLowerCase()]+A),u={scroll:{rootPropertyValue:!1,startValue:_,currentValue:_,endValue:x,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:P,alternateValue:E}},element:o},b.debug&&console.log("tweensContainer (scroll): ",u.scroll,o)}else if("reverse"===T){if(!a(o).tweensContainer)return void f.dequeue(o,s.queue);"none"===a(o).opts.display&&(a(o).opts.display="auto"),"hidden"===a(o).opts.visibility&&(a(o).opts.visibility="visible"),a(o).opts.loop=!1,a(o).opts.begin=null,a(o).opts.complete=null,v.easing||delete s.easing,v.duration||delete s.duration,s=f.extend({},a(o).opts,s);var M=f.extend(!0,{},a(o).tweensContainer);for(var k in M)if("element"!==k){var R=M[k].startValue;M[k].startValue=M[k].currentValue=M[k].endValue,M[k].endValue=R,m.isEmptyObject(v)||(M[k].easing=s.easing),b.debug&&console.log("reverse tweensContainer ("+k+"): "+JSON.stringify(M[k]),o)}u=M}else if("start"===T){var M;a(o).tweensContainer&&a(o).isAnimating===!0&&(M=a(o).tweensContainer),f.each(y,function(t,e){if(RegExp("^"+C.Lists.colors.join("$|^")+"$").test(t)){var n=c(e,!0),i=n[0],o=n[1],s=n[2];if(C.RegEx.isHex.test(i)){for(var a=["Red","Green","Blue"],u=C.Values.hexToRgb(i),l=s?C.Values.hexToRgb(s):r,p=0;p<a.length;p++){var h=[u[p]];o&&h.push(o),l!==r&&h.push(l[p]),y[t+a[p]]=h}delete y[t]}}});for(var I in y){var j=c(y[I]),V=j[0],L=j[1],F=j[2];I=C.Names.camelCase(I);var U=C.Hooks.getRoot(I),H=!1;if(a(o).isSVG||"tween"===U||C.Names.prefixCheck(U)[1]!==!1||C.Normalizations.registered[U]!==r){(s.display!==r&&null!==s.display&&"none"!==s.display||s.visibility!==r&&"hidden"!==s.visibility)&&/opacity|filter/.test(I)&&!F&&0!==V&&(F=0),s._cacheValues&&M&&M[I]?(F===r&&(F=M[I].endValue+M[I].unitType),H=a(o).rootPropertyValueCache[U]):C.Hooks.registered[I]?F===r?(H=C.getPropertyValue(o,U),F=C.getPropertyValue(o,I,H)):H=C.Hooks.templates[U][1]:F===r&&(F=C.getPropertyValue(o,I));var B,q,z,W=!1;if(B=h(I,F),F=B[0],z=B[1],B=h(I,V),V=B[0].replace(/^([+-\/*])=/,function(t,e){return W=e,""}),q=B[1],F=parseFloat(F)||0,V=parseFloat(V)||0,"%"===q&&(/^(fontSize|lineHeight)$/.test(I)?(V/=100,q="em"):/^scale/.test(I)?(V/=100,q=""):/(Red|Green|Blue)$/i.test(I)&&(V=V/100*255,q="")),/[\/*]/.test(W))q=z;else if(z!==q&&0!==F)if(0===V)q=z;else{i=i||g();var G=/margin|padding|left|right|width|text|word|letter/i.test(I)||/X$/.test(I)||"x"===I?"x":"y";switch(z){case"%":F*="x"===G?i.percentToPxWidth:i.percentToPxHeight;break;case"px":break;default:F*=i[z+"ToPx"]}switch(q){case"%":F*=1/("x"===G?i.percentToPxWidth:i.percentToPxHeight);break;case"px":break;default:F*=1/i[q+"ToPx"]}}switch(W){case"+":V=F+V;break;case"-":V=F-V;break;case"*":V*=F;break;case"/":V=F/V}u[I]={rootPropertyValue:H,startValue:F,currentValue:F,endValue:V,unitType:q,easing:L},b.debug&&console.log("tweensContainer ("+I+"): "+JSON.stringify(u[I]),o)}else b.debug&&console.log("Skipping ["+U+"] due to a lack of browser support.")}u.element=o}u.element&&(C.Values.addClass(o,"velocity-animating"),D.push(u),""===s.queue&&(a(o).tweensContainer=u,a(o).opts=s),a(o).isAnimating=!0,S===w-1?(b.State.calls.push([D,d,s,null,O.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,p())):S++)}var i,o=this,s=f.extend({},b.defaults,v),u={};switch(a(o)===r&&b.init(o),parseFloat(s.delay)&&s.queue!==!1&&f.queue(o,s.queue,function(t){b.velocityQueueEntryFlag=!0,a(o).delayTimer={setTimeout:setTimeout(t,parseFloat(s.delay)),next:t}}),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=g;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}b.mock!==!1&&(b.mock===!0?s.duration=s.delay=1:(s.duration*=parseFloat(b.mock)||1,s.delay*=parseFloat(b.mock)||1)),s.easing=l(s.easing,s.duration),s.begin&&!m.isFunction(s.begin)&&(s.begin=null),s.progress&&!m.isFunction(s.progress)&&(s.progress=null),s.complete&&!m.isFunction(s.complete)&&(s.complete=null),s.display!==r&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),"auto"===s.display&&(s.display=b.CSS.Values.getDisplayType(o))),s.visibility!==r&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,s.queue===!1?s.delay?setTimeout(t,s.delay):t():f.queue(o,s.queue,function(e,n){return n===!0?(O.promise&&O.resolver(d),!0):(b.velocityQueueEntryFlag=!0,void t(e))}),""!==s.queue&&"fx"!==s.queue||"inprogress"===f.queue(o)[0]||f.dequeue(o)}var o,u,c,d,y,v,_=arguments[0]&&(arguments[0].p||f.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));if(m.isWrapped(this)?(o=!1,c=0,d=this,u=this):(o=!0,c=1,d=_?arguments[0].elements||arguments[0].e:arguments[0]),d=s(d)){_?(y=arguments[0].properties||arguments[0].p,v=arguments[0].options||arguments[0].o):(y=arguments[c],v=arguments[c+1]);var w=d.length,S=0;if(!/^(stop|finish)$/i.test(y)&&!f.isPlainObject(v)){var x=c+1;v={};for(var P=x;P<arguments.length;P++)m.isArray(arguments[P])||!/^(fast|normal|slow)$/i.test(arguments[P])&&!/^\d/.test(arguments[P])?m.isString(arguments[P])||m.isArray(arguments[P])?v.easing=arguments[P]:m.isFunction(arguments[P])&&(v.complete=arguments[P]):v.duration=arguments[P]}var O={promise:null,resolver:null,rejecter:null};o&&b.Promise&&(O.promise=new b.Promise(function(t,e){O.resolver=t,O.rejecter=e}));var T;switch(y){case"scroll":T="scroll";break;case"reverse":T="reverse";break;case"finish":case"stop":f.each(d,function(t,e){a(e)&&a(e).delayTimer&&(clearTimeout(a(e).delayTimer.setTimeout),a(e).delayTimer.next&&a(e).delayTimer.next(),delete a(e).delayTimer)});var A=[];return f.each(b.State.calls,function(t,e){e&&f.each(e[1],function(n,i){var o=v===r?"":v;return o!==!0&&e[2].queue!==o&&(v!==r||e[2].queue!==!1)||void f.each(d,function(n,r){r===i&&((v===!0||m.isString(v))&&(f.each(f.queue(r,m.isString(v)?v:""),function(t,e){m.isFunction(e)&&e(null,!0)}),f.queue(r,m.isString(v)?v:"",[])),"stop"===y?(a(r)&&a(r).tweensContainer&&o!==!1&&f.each(a(r).tweensContainer,function(t,e){e.endValue=e.currentValue}),A.push(t)):"finish"===y&&(e[2].duration=1))})})}),"stop"===y&&(f.each(A,function(t,e){h(e,!0)}),O.promise&&O.resolver(d)),t();default:if(!f.isPlainObject(y)||m.isEmptyObject(y)){if(m.isString(y)&&b.Redirects[y]){var M=f.extend({},v),k=M.duration,R=M.delay||0;return M.backwards===!0&&(d=f.extend(!0,[],d).reverse()),f.each(d,function(t,e){parseFloat(M.stagger)?M.delay=R+parseFloat(M.stagger)*t:m.isFunction(M.stagger)&&(M.delay=R+M.stagger.call(e,t,w)),M.drag&&(M.duration=parseFloat(k)||(/^(callout|transition)/.test(y)?1e3:g),M.duration=Math.max(M.duration*(M.backwards?1-t/w:(t+1)/w),.75*M.duration,200)),b.Redirects[y].call(e,e,M||{},t,w,d,O.promise?O:r)}),t()}var I="Velocity: First argument ("+y+") was not a property map, a known action, or a registered redirect. Aborting.";return O.promise?O.rejecter(new Error(I)):console.log(I),t()}T="start"}var N={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},D=[];f.each(d,function(t,e){m.isNode(e)&&i.call(e)});var j,M=f.extend({},b.defaults,v);if(M.loop=parseInt(M.loop),j=2*M.loop-1,M.loop)for(var V=0;j>V;V++){var L={delay:M.delay,progress:M.progress};V===j-1&&(L.display=M.display,L.visibility=M.visibility,L.complete=M.complete),E(d,"reverse",L)}return t()}};b=f.extend(E,b),b.animate=E;var S=e.requestAnimationFrame||y;return b.State.isMobile||n.hidden===r||n.addEventListener("visibilitychange",function(){n.hidden?(S=function(t){return setTimeout(function(){t(!0)},16)},p()):S=e.requestAnimationFrame||y}),t.Velocity=b,t!==e&&(t.fn.velocity=E,t.fn.velocity.defaults=b.defaults),f.each(["Down","Up"],function(t,e){b.Redirects["slide"+e]=function(t,n,i,o,s,a){var u=f.extend({},n),c=u.begin,l=u.complete,p={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},h={};u.display===r&&(u.display="Down"===e?"inline"===b.CSS.Values.getDisplayType(t)?"inline-block":"block":"none"),u.begin=function(){c&&c.call(s,s);for(var n in p){h[n]=t.style[n];var r=b.CSS.getPropertyValue(t,n);p[n]="Down"===e?[r,0]:[0,r]}h.overflow=t.style.overflow,t.style.overflow="hidden"},u.complete=function(){for(var e in h)t.style[e]=h[e];l&&l.call(s,s),a&&a.resolver(s)},b(t,p,u)}}),f.each(["In","Out"],function(t,e){b.Redirects["fade"+e]=function(t,n,i,o,s,a){var u=f.extend({},n),c={opacity:"In"===e?1:0},l=u.complete;u.complete=i!==o-1?u.begin=null:function(){l&&l.call(s,s),a&&a.resolver(s)},u.display===r&&(u.display="In"===e?"auto":"none"),b(this,c,u)}}),b}(window.jQuery||window.Zepto||window,window,document)})),!function(t,e,n,i){"use strict";function o(t,e,n){return setTimeout(p(t,n),e)}function s(t,e,n){return!!Array.isArray(t)&&(a(t,n[e],n),!0)}function a(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function u(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t}function c(t,e){return u(t,e,!0)}function l(t,e,n){var r,i=e.prototype;r=t.prototype=Object.create(i),r.constructor=t,r._super=i,n&&u(r,n)}function p(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==pt?t.apply(e?e[0]||i:i,e):t}function f(t,e){return t===i?e:t}function d(t,e,n){a(g(e),function(e){t.addEventListener(e,n,!1)})}function y(t,e,n){a(g(e),function(e){t.removeEventListener(e,n,!1)})}function m(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function _(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function b(t){return Array.prototype.slice.call(t,0)}function w(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];_(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function C(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),s=0;s<ct.length;){if(n=ct[s],r=n?n+o:e,r in t)return r;s++}return i}function E(){return yt++}function S(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function x(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function P(t){var e,n=t.options.inputClass;return new(e=n?n:gt?U:_t?q:vt?W:F)(t,O)}function O(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&xt&&0===r-i,s=e&(Ot|Tt)&&0===r-i;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,T(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function T(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=k(e)),i>1&&!n.firstMultiple?n.firstMultiple=k(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=R(r);e.timeStamp=dt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=j(a,u),e.distance=D(a,u),A(n,e),e.offsetDirection=N(e.deltaX,e.deltaY),e.scale=s?L(s.pointers,r):1,e.rotation=s?V(s.pointers,r):0,M(n,e);var c=t.element;m(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function A(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};(e.eventType===xt||o.eventType===Ot)&&(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}function M(t,e){var n,r,o,s,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Tt&&(u>St||a.velocity===i)){var c=a.deltaX-e.deltaX,l=a.deltaY-e.deltaY,p=I(u,c,l);r=p.x,o=p.y,n=ft(p.x)>ft(p.y)?p.x:p.y,s=N(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=s}function k(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:ht(t.pointers[n].clientX),clientY:ht(t.pointers[n].clientY)},n++;return{timeStamp:dt(),pointers:e,center:R(e),deltaX:t.deltaX,deltaY:t.deltaY}}function R(t){var e=t.length;if(1===e)return{x:ht(t[0].clientX),y:ht(t[0].clientY)};for(var n=0,r=0,i=0;e>i;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:ht(n/e),y:ht(r/e)}}function I(t,e,n){return{x:e/t||0,y:n/t||0}}function N(t,e){return t===e?At:ft(t)>=ft(e)?t>0?Mt:kt:e>0?Rt:It}function D(t,e,n){n||(n=Vt);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function j(t,e,n){n||(n=Vt);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function V(t,e){return j(e[1],e[0],Lt)-j(t[1],t[0],Lt)}function L(t,e){return D(e[0],e[1],Lt)/D(t[0],t[1],Lt)}function F(){this.evEl=Ut,this.evWin=Ht,this.allow=!0,this.pressed=!1,x.apply(this,arguments)}function U(){this.evEl=zt,this.evWin=Wt,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.evTarget=Xt,this.evWin=$t,this.started=!1,x.apply(this,arguments)}function B(t,e){var n=b(t.touches),r=b(t.changedTouches);return e&(Ot|Tt)&&(n=w(n.concat(r),"identifier",!0)),[n,r]}function q(){this.evTarget=Yt,this.targetIds={},x.apply(this,arguments)}function z(t,e){var n=b(t.touches),r=this.targetIds;if(e&(xt|Pt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=b(t.changedTouches),a=[],u=this.target;if(o=n.filter(function(t){return m(t.target,u)}),e===xt)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),e&(Ot|Tt)&&delete r[s[i].identifier],i++;return a.length?[w(o.concat(a),"identifier",!0),a]:void 0}function W(){x.apply(this,arguments);var t=p(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new F(this.manager,t)}function G(t,e){this.manager=t,this.set(e)}function X(t){if(v(t,ne))return ne;var e=v(t,re),n=v(t,ie);return e&&n?re+" "+ie:e||n?e?re:ie:v(t,ee)?ee:te}function $(t){this.id=E(),this.manager=null,this.options=c(t||{},this.defaults),this.options.enable=f(this.options.enable,!0),this.state=oe,this.simultaneous={},this.requireFail=[]}function Q(t){return t&le?"cancel":t&ue?"end":t&ae?"move":t&se?"start":""}function Y(t){return t==It?"down":t==Rt?"up":t==Mt?"left":t==kt?"right":""}function K(t,e){var n=e.manager;return n?n.get(t):t}function Z(){$.apply(this,arguments)}function J(){Z.apply(this,arguments),this.pX=null,this.pY=null}function tt(){Z.apply(this,arguments)}function et(){$.apply(this,arguments),this._timer=null,this._input=null}function nt(){Z.apply(this,arguments)}function rt(){Z.apply(this,arguments)}function it(){$.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ot(t,e){return e=e||{},e.recognizers=f(e.recognizers,ot.defaults.preset),new st(t,e)}function st(t,e){e=e||{},this.options=c(e,ot.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=P(this),this.touchAction=new G(this,this.options.touchAction),at(this,!0),a(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function at(t,e){var n=t.element;a(t.options.cssProps,function(t,r){n.style[C(n.style,r)]=e?t:""})}function ut(t,n){var r=e.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=n,n.target.dispatchEvent(r)}var ct=["","webkit","moz","MS","ms","o"],lt=e.createElement("div"),pt="function",ht=Math.round,ft=Math.abs,dt=Date.now,yt=1,mt=/mobile|tablet|ip(ad|hone|od)|android/i,vt="ontouchstart"in t,gt=C(t,"PointerEvent")!==i,_t=vt&&mt.test(navigator.userAgent),bt="touch",wt="pen",Ct="mouse",Et="kinect",St=25,xt=1,Pt=2,Ot=4,Tt=8,At=1,Mt=2,kt=4,Rt=8,It=16,Nt=Mt|kt,Dt=Rt|It,jt=Nt|Dt,Vt=["x","y"],Lt=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(S(this.element),this.evWin,this.domHandler)}};var Ft={mousedown:xt,mousemove:Pt,mouseup:Ot},Ut="mousedown",Ht="mousemove mouseup";l(F,x,{handler:function(t){var e=Ft[t.type];e&xt&&0===t.button&&(this.pressed=!0),e&Pt&&1!==t.which&&(e=Ot),this.pressed&&this.allow&&(e&Ot&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ct,srcEvent:t}))}});var Bt={pointerdown:xt,pointermove:Pt,pointerup:Ot,pointercancel:Tt,pointerout:Tt},qt={2:bt,3:wt,4:Ct,5:Et},zt="pointerdown",Wt="pointermove pointerup pointercancel";t.MSPointerEvent&&(zt="MSPointerDown",Wt="MSPointerMove MSPointerUp MSPointerCancel"),l(U,x,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Bt[r],o=qt[t.pointerType]||t.pointerType,s=o==bt,a=_(e,t.pointerId,"pointerId");i&xt&&(0===t.button||s)?0>a&&(e.push(t),a=e.length-1):i&(Ot|Tt)&&(n=!0),0>a||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var Gt={touchstart:xt,touchmove:Pt,touchend:Ot,touchcancel:Tt},Xt="touchstart",$t="touchstart touchmove touchend touchcancel";l(H,x,{handler:function(t){var e=Gt[t.type];if(e===xt&&(this.started=!0),this.started){var n=B.call(this,t,e);e&(Ot|Tt)&&0===n[0].length-n[1].length&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:bt,srcEvent:t})}}});var Qt={touchstart:xt,touchmove:Pt,touchend:Ot,touchcancel:Tt},Yt="touchstart touchmove touchend touchcancel";l(q,x,{handler:function(t){var e=Qt[t.type],n=z.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:bt,srcEvent:t})}}),l(W,x,{handler:function(t,e,n){var r=n.pointerType==bt,i=n.pointerType==Ct;if(r)this.mouse.allow=!1;else if(i&&!this.mouse.allow)return;e&(Ot|Tt)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Kt=C(lt.style,"touchAction"),Zt=Kt!==i,Jt="compute",te="auto",ee="manipulation",ne="none",re="pan-x",ie="pan-y";G.prototype={set:function(t){t==Jt&&(t=this.compute()),Zt&&(this.manager.element.style[Kt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),X(t.join(" "))},preventDefaults:function(t){if(!Zt){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,i=v(r,ne),o=v(r,ie),s=v(r,re);return i||o&&n&Nt||s&&n&Dt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var oe=1,se=2,ae=4,ue=8,ce=ue,le=16,pe=32;$.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===_(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=K(t,this);var e=_(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?Q(r):""),t)}var n=this,r=this.state;ue>r&&e(!0),e(),r>=ue&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=pe)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(pe|oe)))return!1;t++}return!0},recognize:function(t){var e=u({},t);return h(this.options.enable,[this,e])?(this.state&(ce|le|pe)&&(this.state=oe),this.state=this.process(e),void(this.state&(se|ae|ue|le)&&this.tryEmit(e))):(this.reset(),void(this.state=pe))},process:function(){},getTouchAction:function(){},reset:function(){}},l(Z,$,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(se|ae),i=this.attrTest(t);return r&&(n&Tt||!i)?e|le:r||i?n&Ot?e|ue:e&se?e|ae:se:pe}}),l(J,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:jt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Nt&&e.push(ie),t&Dt&&e.push(re),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(e.direction&Nt?(i=0===o?At:0>o?Mt:kt,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?At:0>s?Rt:It,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Z.prototype.attrTest.call(this,t)&&(this.state&se||!(this.state&se)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Y(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),l(tt,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ne]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&se)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),l(et,$,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[te]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Ot|Tt)&&!i)this.reset();else if(t.eventType&xt)this.reset(),this._timer=o(function(){this.state=ce,this.tryEmit()},e.time,this);else if(t.eventType&Ot)return ce;return pe},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ce&&(t&&t.eventType&Ot?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=dt(),this.manager.emit(this.options.event,this._input)))}}),l(nt,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ne]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&se)}}),l(rt,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Nt|Dt,pointers:1},getTouchAction:function(){return J.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Nt|Dt)?e=t.velocity:n&Nt?e=t.velocityX:n&Dt&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&ft(e)>this.options.velocity&&t.eventType&Ot},emit:function(t){var e=Y(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(it,$,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ee]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&xt&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=Ot)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var u=this.count%e.taps;if(0===u)return this.hasRequireFailures()?(this._timer=o(function(){this.state=ce,this.tryEmit()},e.interval,this),se):ce}return pe},failTimeout:function(){return this._timer=o(function(){this.state=pe},this.options.interval,this),pe},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ce&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ot.VERSION="2.0.4",ot.defaults={domEvents:!1,touchAction:Jt,enable:!0,inputTarget:null,inputClass:null,preset:[[nt,{enable:!1}],[tt,{enable:!1},["rotate"]],[rt,{direction:Nt}],[J,{direction:Nt},["swipe"]],[it],[it,{event:"doubletap",taps:2},["tap"]],[et]],cssProps:{userSelect:"default",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var he=1,fe=2;st.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?fe:he},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&ce)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],e.stopped===fe||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(se|ae|ue)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof $)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(_(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return a(g(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return a(g(t),function(t){e?n[t].splice(_(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&ut(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&at(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(ot,{INPUT_START:xt,INPUT_MOVE:Pt,INPUT_END:Ot,INPUT_CANCEL:Tt,STATE_POSSIBLE:oe,STATE_BEGAN:se,STATE_CHANGED:ae,STATE_ENDED:ue,STATE_RECOGNIZED:ce,STATE_CANCELLED:le,STATE_FAILED:pe,DIRECTION_NONE:At,DIRECTION_LEFT:Mt,DIRECTION_RIGHT:kt,DIRECTION_UP:Rt,DIRECTION_DOWN:It,DIRECTION_HORIZONTAL:Nt,DIRECTION_VERTICAL:Dt,DIRECTION_ALL:jt,Manager:st,Input:x,TouchAction:G,TouchInput:q,MouseInput:F,PointerEventInput:U,TouchMouseInput:W,SingleTouchInput:H,Recognizer:$,AttrRecognizer:Z,Tap:it,Pan:J,Swipe:rt,Pinch:tt,Rotate:nt,Press:et,on:d,off:y,each:a,merge:c,extend:u,inherit:l,bindFn:p,prefixed:C}),typeof define==pt&&define.amd?define(function(){return ot}):"undefined"!=typeof r&&r.exports?r.exports=ot:t[n]=ot}(window,document,"Hammer"),function(t){"function"==typeof define&&define.amd?define(["jquery","hammerjs"],t):"object"==typeof n?t(e("jquery"),e("hammerjs")):t(i,Hammer)}(function(t,e){function n(n,r){var i=t(n);i.data("hammer")||i.data("hammer",new e(i[0],r))}t.fn.hammer=function(t){return this.each(function(){n(this,t)})},e.Manager.prototype.emit=function(e){return function(n,r){e.call(this,n,r),t(this.element).trigger({type:n,gesture:r})}}(e.Manager.prototype.emit)}),function(t){t.Package?Materialize={}:t.Materialize={}}(window),function(t){for(var e=0,n=["webkit","moz"],r=t.requestAnimationFrame,i=t.cancelAnimationFrame,o=n.length;--o>=0&&!r;)r=t[n[o]+"RequestAnimationFrame"],i=t[n[o]+"CancelRequestAnimationFrame"];r&&i||(r=function(t){var n=+Date.now(),r=Math.max(e+16,n);return setTimeout(function(){t(e=r)},r-n)},i=clearTimeout),t.requestAnimationFrame=r,t.cancelAnimationFrame=i}(window),Materialize.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),Materialize.escapeHash=function(t){return t.replace(/(:|\.|\[|\]|,|=)/g,"\\$1")},Materialize.elementOrParentIsFixed=function(t){var e=$(t),n=e.add(e.parents()),r=!1;return n.each(function(){if("fixed"===$(this).css("position"))return r=!0,!1}),r};var o;o=i?i.Velocity:$?$.Velocity:Velocity,function(t){t.fn.collapsible=function(e){var n={accordion:void 0,onOpen:void 0,onClose:void 0};return e=t.extend(n,e),this.each(function(){function n(e){c=u.find("> li > .collapsible-header"),e.hasClass("active")?e.parent().addClass("active"):e.parent().removeClass("active"),e.parent().hasClass("active")?e.siblings(".collapsible-body").stop(!0,!1).slideDown({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}}):e.siblings(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}}),c.not(e).removeClass("active").parent().removeClass("active"),c.not(e).parent().children(".collapsible-body").stop(!0,!1).each(function(){t(this).is(":visible")&&t(this).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height",""),o(t(this).siblings(".collapsible-header"))}})})}function r(e){e.hasClass("active")?e.parent().addClass("active"):e.parent().removeClass("active"),e.parent().hasClass("active")?e.siblings(".collapsible-body").stop(!0,!1).slideDown({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}}):e.siblings(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}})}function i(t){e.accordion||"accordion"===l||void 0===l?n(t):r(t),o(t)}function o(t){t.hasClass("active")?"function"==typeof e.onOpen&&e.onOpen.call(this,t.parent()):"function"==typeof e.onClose&&e.onClose.call(this,t.parent());
}function s(t){var e=a(t);return e.length>0}function a(t){return t.closest("li > .collapsible-header")}var u=t(this),c=t(this).find("> li > .collapsible-header"),l=u.data("collapsible");u.off("click.collapse","> li > .collapsible-header"),c.off("click.collapse"),u.on("click.collapse","> li > .collapsible-header",function(e){var n=t(e.target);s(n)&&(n=a(n)),n.toggleClass("active"),i(n)}),e.accordion||"accordion"===l||void 0===l?i(c.filter(".active").first()):c.filter(".active").each(function(){i(t(this))})})},t(document).ready(function(){t(".collapsible").collapsible()})}(i),function(t){t.fn.scrollTo=function(e){return t(this).scrollTop(t(this).scrollTop()-t(this).offset().top+t(e).offset().top),this},t.fn.dropdown=function(e){var n={inDuration:300,outDuration:225,constrain_width:!0,hover:!1,gutter:0,belowOrigin:!1,alignment:"left",stopPropagation:!1};return"open"===e?(this.each(function(){t(this).trigger("open")}),!1):"close"===e?(this.each(function(){t(this).trigger("close")}),!1):void this.each(function(){function r(){void 0!==s.data("induration")&&(a.inDuration=s.data("induration")),void 0!==s.data("outduration")&&(a.outDuration=s.data("outduration")),void 0!==s.data("constrainwidth")&&(a.constrain_width=s.data("constrainwidth")),void 0!==s.data("hover")&&(a.hover=s.data("hover")),void 0!==s.data("gutter")&&(a.gutter=s.data("gutter")),void 0!==s.data("beloworigin")&&(a.belowOrigin=s.data("beloworigin")),void 0!==s.data("alignment")&&(a.alignment=s.data("alignment")),void 0!==s.data("stoppropagation")&&(a.stopPropagation=s.data("stoppropagation"))}function i(e){"focus"===e&&(u=!0),r(),c.addClass("active"),s.addClass("active"),a.constrain_width===!0?c.css("width",s.outerWidth()):c.css("white-space","nowrap");var n=window.innerHeight,i=s.innerHeight(),o=s.offset().left,l=s.offset().top-t(window).scrollTop(),p=a.alignment,h=0,f=0,d=0;a.belowOrigin===!0&&(d=i);var y=0,m=0,v=s.parent();if(v.is("body")||(v[0].scrollHeight>v[0].clientHeight&&(y=v[0].scrollTop),v[0].scrollWidth>v[0].clientWidth&&(m=v[0].scrollLeft)),o+c.innerWidth()>t(window).width()?p="right":o-c.innerWidth()+s.innerWidth()<0&&(p="left"),l+c.innerHeight()>n)if(l+i-c.innerHeight()<0){var g=n-l-d;c.css("max-height",g)}else d||(d+=i),d-=c.innerHeight();if("left"===p)h=a.gutter,f=s.position().left+h;else if("right"===p){var _=s.position().left+s.outerWidth()-c.outerWidth();h=-a.gutter,f=_+h}c.css({position:"absolute",top:s.position().top+d+y,left:f+m}),c.stop(!0,!0).css("opacity",0).slideDown({queue:!1,duration:a.inDuration,easing:"easeOutCubic",complete:function(){t(this).css("height","")}}).animate({opacity:1},{queue:!1,duration:a.inDuration,easing:"easeOutSine"})}function o(){u=!1,c.fadeOut(a.outDuration),c.removeClass("active"),s.removeClass("active"),setTimeout(function(){c.css("max-height","")},a.outDuration)}var s=t(this),a=t.extend({},n,e),u=!1,c=t("#"+s.attr("data-activates"));if(r(),s.after(c),a.hover){var l=!1;s.unbind("click."+s.attr("id")),s.on("mouseenter",function(t){l===!1&&(i(),l=!0)}),s.on("mouseleave",function(e){var n=e.toElement||e.relatedTarget;t(n).closest(".dropdown-content").is(c)||(c.stop(!0,!0),o(),l=!1)}),c.on("mouseleave",function(e){var n=e.toElement||e.relatedTarget;t(n).closest(".dropdown-button").is(s)||(c.stop(!0,!0),o(),l=!1)})}else s.unbind("click."+s.attr("id")),s.bind("click."+s.attr("id"),function(e){u||(s[0]!=e.currentTarget||s.hasClass("active")||0!==t(e.target).closest(".dropdown-content").length?s.hasClass("active")&&(o(),t(document).unbind("click."+c.attr("id")+" touchstart."+c.attr("id"))):(e.preventDefault(),a.stopPropagation&&e.stopPropagation(),i("click")),c.hasClass("active")&&t(document).bind("click."+c.attr("id")+" touchstart."+c.attr("id"),function(e){c.is(e.target)||s.is(e.target)||s.find(e.target).length||(o(),t(document).unbind("click."+c.attr("id")+" touchstart."+c.attr("id")))}))});s.on("open",function(t,e){i(e)}),s.on("close",o)})},t(document).ready(function(){t(".dropdown-button").dropdown()})}(i),function(t){var e=0,n=0,r=function(){return n++,"materialize-modal-overlay-"+n},i={init:function(n){var i={opacity:.5,in_duration:350,out_duration:250,ready:void 0,complete:void 0,dismissible:!0,starting_top:"4%",ending_top:"10%"};return n=t.extend(i,n),this.each(function(){var i=t(this),o=t(this).attr("id")||"#"+t(this).data("target"),s=function(){var r=i.data("overlay-id"),o=t("#"+r);i.removeClass("open"),t("body").css({overflow:"",width:""}),i.find(".modal-close").off("click.close"),t(document).off("keyup.modal"+r),o.velocity({opacity:0},{duration:n.out_duration,queue:!1,ease:"easeOutQuart"});var s={duration:n.out_duration,queue:!1,ease:"easeOutCubic",complete:function(){t(this).css({display:"none"}),"function"==typeof n.complete&&n.complete.call(this,i),o.remove(),e--}};i.hasClass("bottom-sheet")?i.velocity({bottom:"-100%",opacity:0},s):i.velocity({top:n.starting_top,opacity:0,scaleX:.7},s)},a=function(o){var a=t("body"),u=a.innerWidth();if(a.css("overflow","hidden"),a.width(u),!i.hasClass("open")){var c=r(),l=t('<div class="modal-overlay"></div>');lStack=++e,l.attr("id",c).css("z-index",1e3+2*lStack),i.data("overlay-id",c).css("z-index",1e3+2*lStack+1),i.addClass("open"),t("body").append(l),n.dismissible&&(l.click(function(){s()}),t(document).on("keyup.modal"+c,function(t){27===t.keyCode&&s()})),i.find(".modal-close").on("click.close",function(t){s()}),l.css({display:"block",opacity:0}),i.css({display:"block",opacity:0}),l.velocity({opacity:n.opacity},{duration:n.in_duration,queue:!1,ease:"easeOutCubic"}),i.data("associated-overlay",l[0]);var p={duration:n.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof n.ready&&n.ready.call(this,i,o)}};i.hasClass("bottom-sheet")?i.velocity({bottom:"0",opacity:1},p):(t.Velocity.hook(i,"scaleX",.7),i.css({top:n.starting_top}),i.velocity({top:n.ending_top,opacity:1,scaleX:"1"},p))}};t(document).off("click.modalTrigger",'a[href="#'+o+'"], [data-target="'+o+'"]'),t(this).off("openModal"),t(this).off("closeModal"),t(document).on("click.modalTrigger",'a[href="#'+o+'"], [data-target="'+o+'"]',function(e){n.starting_top=(t(this).offset().top-t(window).scrollTop())/1.15,a(t(this)),e.preventDefault()}),t(this).on("openModal",function(){t(this).attr("href")||"#"+t(this).data("target");a()}),t(this).on("closeModal",function(){s()})})},open:function(){t(this).trigger("openModal")},close:function(){t(this).trigger("closeModal")}};t.fn.modal=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.modal"):i.init.apply(this,arguments)}}(i),function(t){t.fn.materialbox=function(){return this.each(function(){function e(){o=!1;var e=u.parent(".material-placeholder"),r=(window.innerWidth,window.innerHeight,u.data("width")),s=u.data("height");u.velocity("stop",!0),t("#materialbox-overlay").velocity("stop",!0),t(".materialbox-caption").velocity("stop",!0),t("#materialbox-overlay").velocity({opacity:0},{duration:a,queue:!1,easing:"easeOutQuad",complete:function(){i=!1,t(this).remove()}}),u.velocity({width:r,height:s,left:0,top:0},{duration:a,queue:!1,easing:"easeOutQuad"}),t(".materialbox-caption").velocity({opacity:0},{duration:a,queue:!1,easing:"easeOutQuad",complete:function(){e.css({height:"",width:"",position:"",top:"",left:""}),u.css({height:"",top:"",left:"",width:"","max-width":"",position:"","z-index":""}),u.removeClass("active"),o=!0,t(this).remove(),n&&n.css("overflow","")}})}if(!t(this).hasClass("initialized")){t(this).addClass("initialized");var n,r,i=!1,o=!0,s=275,a=200,u=t(this),c=t("<div></div>").addClass("material-placeholder");u.wrap(c),u.on("click",function(){var a=u.parent(".material-placeholder"),c=window.innerWidth,l=window.innerHeight,p=u.width(),h=u.height();if(o===!1)return e(),!1;if(i&&o===!0)return e(),!1;o=!1,u.addClass("active"),i=!0,a.css({width:a[0].getBoundingClientRect().width,height:a[0].getBoundingClientRect().height,position:"relative",top:0,left:0}),n=void 0,r=a[0].parentNode;for(;null!==r&&!t(r).is(document);){var f=t(r);"visible"!==f.css("overflow")&&(f.css("overflow","visible"),n=void 0===n?f:n.add(f)),r=r.parentNode}u.css({position:"absolute","z-index":1e3}).data("width",p).data("height",h);var d=t('<div id="materialbox-overlay"></div>').css({opacity:0}).click(function(){o===!0&&e()});if(u.before(d),d.velocity({opacity:1},{duration:s,queue:!1,easing:"easeOutQuad"}),""!==u.data("caption")){var y=t('<div class="materialbox-caption"></div>');y.text(u.data("caption")),t("body").append(y),y.css({display:"inline"}),y.velocity({opacity:1},{duration:s,queue:!1,easing:"easeOutQuad"})}var m=0,v=p/c,g=h/l,_=0,b=0;v>g?(m=h/p,_=.9*c,b=.9*c*m):(m=p/h,_=.9*l*m,b=.9*l),u.hasClass("responsive-img")?u.velocity({"max-width":_,width:p},{duration:0,queue:!1,complete:function(){u.css({left:0,top:0}).velocity({height:b,width:_,left:t(document).scrollLeft()+c/2-u.parent(".material-placeholder").offset().left-_/2,top:t(document).scrollTop()+l/2-u.parent(".material-placeholder").offset().top-b/2},{duration:s,queue:!1,easing:"easeOutQuad",complete:function(){o=!0}})}}):u.css("left",0).css("top",0).velocity({height:b,width:_,left:t(document).scrollLeft()+c/2-u.parent(".material-placeholder").offset().left-_/2,top:t(document).scrollTop()+l/2-u.parent(".material-placeholder").offset().top-b/2},{duration:s,queue:!1,easing:"easeOutQuad",complete:function(){o=!0}})}),t(window).scroll(function(){i&&e()}),t(document).keyup(function(t){27===t.keyCode&&o===!0&&i&&e()})}})},t(document).ready(function(){t(".materialboxed").materialbox()})}(i),function(t){t.fn.parallax=function(){var e=t(window).width();return this.each(function(n){function r(n){var r;r=e<601?i.height()>0?i.height():i.children("img").height():i.height()>0?i.height():500;var o=i.children("img").first(),s=o.height(),a=s-r,u=i.offset().top+r,c=i.offset().top,l=t(window).scrollTop(),p=window.innerHeight,h=l+p,f=(h-c)/(r+p),d=Math.round(a*f);n&&o.css("display","block"),u>l&&c<l+p&&o.css("transform","translate3D(-50%,"+d+"px, 0)")}var i=t(this);i.addClass("parallax"),i.children("img").one("load",function(){r(!0)}).each(function(){this.complete&&t(this).trigger("load")}),t(window).scroll(function(){e=t(window).width(),r(!1)}),t(window).resize(function(){e=t(window).width(),r(!1)})})}}(i),function(t){var e={init:function(e){var n={onShow:null};return e=t.extend(n,e),this.each(function(){var n,r,i=t(this),o=(t(window).width(),i.find("li.tab a")),s=i.width(),a=Math.max(s,i[0].scrollWidth)/o.length,u=0,c=function(t){return s-t.position().left-t.outerWidth()-i.scrollLeft()},l=function(t){return t.position().left+i.scrollLeft()};n=t(o.filter('[href="'+location.hash+'"]')),0===n.length&&(n=t(this).find("li.tab a.active").first()),0===n.length&&(n=t(this).find("li.tab a").first()),n.addClass("active"),u=o.index(n),u<0&&(u=0),void 0!==n[0]&&(r=t(n[0].hash)),i.append('<div class="indicator"></div>');var p=i.find(".indicator");i.is(":visible")&&setTimeout(function(){p.css({right:c(n)}),p.css({left:l(n)})},0),t(window).resize(function(){s=i.width(),a=Math.max(s,i[0].scrollWidth)/o.length,u<0&&(u=0),0!==a&&0!==s&&(p.css({right:c(n)}),p.css({left:l(n)}))}),o.not(n).each(function(){t(Materialize.escapeHash(this.hash)).hide()}),i.on("click","a",function(h){if(t(this).parent().hasClass("disabled"))return void h.preventDefault();if(!t(this).attr("target")){s=i.width(),a=Math.max(s,i[0].scrollWidth)/o.length,n.removeClass("active"),void 0!==r&&r.hide(),n=t(this),r=t(Materialize.escapeHash(this.hash)),o=i.find("li.tab a");n.position();n.addClass("active");var f=u;u=o.index(t(this)),u<0&&(u=0),void 0!==r&&(r.show(),"function"==typeof e.onShow&&e.onShow.call(this,r)),u-f>=0?(p.velocity({right:c(n)},{duration:300,queue:!1,easing:"easeOutQuad"}),p.velocity({left:l(n)},{duration:300,queue:!1,easing:"easeOutQuad",delay:90})):(p.velocity({left:l(n)},{duration:300,queue:!1,easing:"easeOutQuad"}),p.velocity({right:c(n)},{duration:300,queue:!1,easing:"easeOutQuad",delay:90})),h.preventDefault()}})})},select_tab:function(t){this.find('a[href="#'+t+'"]').trigger("click")}};t.fn.tabs=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.tabs"):e.init.apply(this,arguments)},t(document).ready(function(){t("ul.tabs").tabs()})}(i),function(t){t.fn.tooltip=function(n){var r=5,i={delay:350,tooltip:"",position:"bottom",html:!1};return"remove"===n?(this.each(function(){t("#"+t(this).attr("data-tooltip-id")).remove(),t(this).off("mouseenter.tooltip mouseleave.tooltip")}),!1):(n=t.extend(i,n),this.each(function(){var i=Materialize.guid(),o=t(this);o.attr("data-tooltip-id")&&t("#"+o.attr("data-tooltip-id")).remove(),o.attr("data-tooltip-id",i);var s,a,u,c,l,p,h=function(){s=o.attr("data-html")?"true"===o.attr("data-html"):n.html,a=o.attr("data-delay"),a=void 0===a||""===a?n.delay:a,u=o.attr("data-position"),u=void 0===u||""===u?n.position:u,c=o.attr("data-tooltip"),c=void 0===c||""===c?n.tooltip:c};h();var f=function(){var e=t('<div class="material-tooltip"></div>');return c=s?t("<span></span>").html(c):t("<span></span>").text(c),e.append(c).appendTo(t("body")).attr("id",i),p=t('<div class="backdrop"></div>'),p.appendTo(e),e};l=f(),o.off("mouseenter.tooltip mouseleave.tooltip");var d,y=!1;o.on({"mouseenter.tooltip":function(t){var n=function(){h(),y=!0,l.velocity("stop"),p.velocity("stop"),l.css({display:"block",left:"0px",top:"0px"});var t,n,i,s=o.outerWidth(),a=o.outerHeight(),c=l.outerHeight(),f=l.outerWidth(),d="0px",m="0px",v=8,g=8;"top"===u?(t=o.offset().top-c-r,n=o.offset().left+s/2-f/2,i=e(n,t,f,c),d="-10px",p.css({bottom:0,left:0,borderRadius:"14px 14px 0 0",transformOrigin:"50% 100%",marginTop:c,marginLeft:f/2-p.width()/2})):"left"===u?(t=o.offset().top+a/2-c/2,n=o.offset().left-f-r,i=e(n,t,f,c),m="-10px",p.css({top:"-7px",right:0,width:"14px",height:"14px",borderRadius:"14px 0 0 14px",transformOrigin:"95% 50%",marginTop:c/2,marginLeft:f})):"right"===u?(t=o.offset().top+a/2-c/2,n=o.offset().left+s+r,i=e(n,t,f,c),m="+10px",p.css({top:"-7px",left:0,width:"14px",height:"14px",borderRadius:"0 14px 14px 0",transformOrigin:"5% 50%",marginTop:c/2,marginLeft:"0px"})):(t=o.offset().top+o.outerHeight()+r,n=o.offset().left+s/2-f/2,i=e(n,t,f,c),d="+10px",p.css({top:0,left:0,marginLeft:f/2-p.width()/2})),l.css({top:i.y,left:i.x}),v=Math.SQRT2*f/parseInt(p.css("width")),g=Math.SQRT2*c/parseInt(p.css("height")),l.velocity({marginTop:d,marginLeft:m},{duration:350,queue:!1}).velocity({opacity:1},{duration:300,delay:50,queue:!1}),p.css({display:"block"}).velocity({opacity:1},{duration:55,delay:0,queue:!1}).velocity({scaleX:v,scaleY:g},{duration:300,delay:0,queue:!1,easing:"easeInOutQuad"})};d=setTimeout(n,a)},"mouseleave.tooltip":function(){y=!1,clearTimeout(d),setTimeout(function(){y!==!0&&(l.velocity({opacity:0,marginTop:0,marginLeft:0},{duration:225,queue:!1}),p.velocity({opacity:0,scaleX:1,scaleY:1},{duration:225,queue:!1,complete:function(){p.css("display","none"),l.css("display","none"),y=!1}}))},225)}})}))};var e=function(e,n,r,i){var o=e,s=n;return o<0?o=4:o+r>window.innerWidth&&(o-=o+r-window.innerWidth),s<0?s=4:s+i>window.innerHeight+t(window).scrollTop&&(s-=s+i-window.innerHeight),{x:o,y:s}};t(document).ready(function(){t(".tooltipped").tooltip()})}(i),function(t){"use strict";function e(t){return null!==t&&t===t.window}function n(t){return e(t)?t:9===t.nodeType&&t.defaultView}function r(t){var e,r,i={top:0,left:0},o=t&&t.ownerDocument;return e=o.documentElement,"undefined"!=typeof t.getBoundingClientRect&&(i=t.getBoundingClientRect()),r=n(o),{top:i.top+r.pageYOffset-e.clientTop,left:i.left+r.pageXOffset-e.clientLeft}}function i(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}function o(t){if(l.allowEvent(t)===!1)return null;for(var e=null,n=t.target||t.srcElement;null!==n.parentElement;){if(!(n instanceof SVGElement||n.className.indexOf("waves-effect")===-1)){e=n;break}if(n.classList.contains("waves-effect")){e=n;break}n=n.parentElement}return e}function s(e){var n=o(e);null!==n&&(c.show(e,n),"ontouchstart"in t&&(n.addEventListener("touchend",c.hide,!1),n.addEventListener("touchcancel",c.hide,!1)),n.addEventListener("mouseup",c.hide,!1),n.addEventListener("mouseleave",c.hide,!1))}var a=a||{},u=document.querySelectorAll.bind(document),c={duration:750,show:function(t,e){if(2===t.button)return!1;var n=e||this,o=document.createElement("div");o.className="waves-ripple",n.appendChild(o);var s=r(n),a=t.pageY-s.top,u=t.pageX-s.left,l="scale("+n.clientWidth/100*10+")";"touches"in t&&(a=t.touches[0].pageY-s.top,u=t.touches[0].pageX-s.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",l),o.setAttribute("data-x",u),o.setAttribute("data-y",a);var p={top:a+"px",left:u+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",i(p)),o.className=o.className.replace("waves-notransition",""),p["-webkit-transform"]=l,p["-moz-transform"]=l,p["-ms-transform"]=l,p["-o-transform"]=l,p.transform=l,p.opacity="1",p["-webkit-transition-duration"]=c.duration+"ms",p["-moz-transition-duration"]=c.duration+"ms",p["-o-transition-duration"]=c.duration+"ms",p["transition-duration"]=c.duration+"ms",p["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",i(p))},hide:function(t){l.touchup(t);var e=this,n=(1.4*e.clientWidth,null),r=e.getElementsByClassName("waves-ripple");if(!(r.length>0))return!1;n=r[r.length-1];var o=n.getAttribute("data-x"),s=n.getAttribute("data-y"),a=n.getAttribute("data-scale"),u=Date.now()-Number(n.getAttribute("data-hold")),p=350-u;p<0&&(p=0),setTimeout(function(){var t={top:s+"px",left:o+"px",opacity:"0","-webkit-transition-duration":c.duration+"ms","-moz-transition-duration":c.duration+"ms","-o-transition-duration":c.duration+"ms","transition-duration":c.duration+"ms","-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,"-o-transform":a,transform:a};n.setAttribute("style",i(t)),setTimeout(function(){try{e.removeChild(n)}catch(t){return!1}},c.duration)},p)},wrapInput:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("input"===n.tagName.toLowerCase()){var r=n.parentNode;if("i"===r.tagName.toLowerCase()&&r.className.indexOf("waves-effect")!==-1)continue;var i=document.createElement("i");i.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),i.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),r.replaceChild(i,n),i.appendChild(n)}}}},l={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?l.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout(function(){l.touches>0&&(l.touches-=1)},500):"mousedown"===t.type&&l.touches>0&&(e=!1),e},touchup:function(t){l.allowEvent(t)}};a.displayEffect=function(e){e=e||{},"duration"in e&&(c.duration=e.duration),c.wrapInput(u(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",s,!1),document.body.addEventListener("mousedown",s,!1)},a.attach=function(e){"input"===e.tagName.toLowerCase()&&(c.wrapInput([e]),e=e.parentElement),"ontouchstart"in t&&e.addEventListener("touchstart",s,!1),e.addEventListener("mousedown",s,!1)},t.Waves=a,document.addEventListener("DOMContentLoaded",function(){a.displayEffect()},!1)}(window),Materialize.toast=function(t,e,n,r){function s(t){var e=document.createElement("div");if(e.classList.add("toast"),n)for(var s=n.split(" "),a=0,u=s.length;a<u;a++)e.classList.add(s[a]);("object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)?e.appendChild(t):t instanceof i?e.appendChild(t[0]):e.innerHTML=t;var c=new Hammer(e,{prevent_default:!1});return c.on("pan",function(t){var n=t.deltaX,r=80;e.classList.contains("panning")||e.classList.add("panning");var i=1-Math.abs(n/r);i<0&&(i=0),o(e,{left:n,opacity:i},{duration:50,queue:!1,easing:"easeOutQuad"})}),c.on("panend",function(t){var n=t.deltaX,i=80;Math.abs(n)>i?o(e,{marginTop:"-40px"},{duration:375,easing:"easeOutExpo",queue:!1,complete:function(){"function"==typeof r&&r(),e.parentNode.removeChild(e)}}):(e.classList.remove("panning"),o(e,{left:0,opacity:1},{duration:300,easing:"easeOutExpo",queue:!1}))}),e}n=n||"";var a=document.getElementById("toast-container");null===a&&(a=document.createElement("div"),a.id="toast-container",document.body.appendChild(a));var u=s(t);t&&a.appendChild(u),u.style.top="35px",u.style.opacity=0,o(u,{top:"0px",opacity:1},{duration:300,easing:"easeOutCubic",queue:!1});var c,l=e;null!=l&&(c=setInterval(function(){null===u.parentNode&&window.clearInterval(c),u.classList.contains("panning")||(l-=20),l<=0&&(o(u,{opacity:0,marginTop:"-40px"},{duration:375,easing:"easeOutExpo",queue:!1,complete:function(){"function"==typeof r&&r(),this[0].parentNode.removeChild(this[0])}}),window.clearInterval(c))},20))},function(t){var e={init:function(e){var n={menuWidth:300,edge:"left",closeOnClick:!1,draggable:!0};e=t.extend(n,e),t(this).each(function(){var n=t(this),r=t("#"+n.attr("data-activates"));300!=e.menuWidth&&r.css("width",e.menuWidth);var i;e.draggable?(i=t('<div class="drag-target"></div>').attr("data-sidenav",n.attr("data-activates")),t("body").append(i)):i=t(),"left"==e.edge?(r.css("transform","translateX(-100%)"),i.css({left:0})):(r.addClass("right-aligned").css("transform","translateX(100%)"),i.css({right:0})),r.hasClass("fixed")&&window.innerWidth>992&&r.css("transform","translateX(0)"),r.hasClass("fixed")&&t(window).resize(function(){window.innerWidth>992?0!==t("#sidenav-overlay").length&&a?o(!0):r.css("transform","translateX(0%)"):a===!1&&("left"===e.edge?r.css("transform","translateX(-100%)"):r.css("transform","translateX(100%)"))}),e.closeOnClick===!0&&r.on("click.itemclick","a:not(.collapsible-header)",function(){o()});var o=function(n){s=!1,a=!1,t("body").css({overflow:"",width:""}),t("#sidenav-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}}),"left"===e.edge?(i.css({width:"",right:"",left:"0"}),r.velocity({translateX:"-100%"},{duration:200,queue:!1,easing:"easeOutCubic",complete:function(){n===!0&&(r.removeAttr("style"),r.css("width",e.menuWidth))}})):(i.css({width:"",right:"0",left:""}),r.velocity({translateX:"100%"},{duration:200,queue:!1,easing:"easeOutCubic",complete:function(){n===!0&&(r.removeAttr("style"),r.css("width",e.menuWidth))}}))},s=!1,a=!1;e.draggable&&(i.on("click",function(){a&&o()}),i.hammer({prevent_default:!1}).bind("pan",function(n){if("touch"==n.gesture.pointerType){var i=(n.gesture.direction,n.gesture.center.x),s=(n.gesture.center.y,n.gesture.velocityX,t("body")),u=t("#sidenav-overlay"),c=s.innerWidth();if(s.css("overflow","hidden"),s.width(c),0===u.length&&(u=t('<div id="sidenav-overlay"></div>'),u.css("opacity",0).click(function(){o()}),t("body").append(u)),"left"===e.edge&&(i>e.menuWidth?i=e.menuWidth:i<0&&(i=0)),"left"===e.edge)i<e.menuWidth/2?a=!1:i>=e.menuWidth/2&&(a=!0),r.css("transform","translateX("+(i-e.menuWidth)+"px)");else{i<window.innerWidth-e.menuWidth/2?a=!0:i>=window.innerWidth-e.menuWidth/2&&(a=!1);var l=i-e.menuWidth/2;l<0&&(l=0),r.css("transform","translateX("+l+"px)")}var p;"left"===e.edge?(p=i/e.menuWidth,u.velocity({opacity:p},{duration:10,queue:!1,easing:"easeOutQuad"})):(p=Math.abs((i-window.innerWidth)/e.menuWidth),u.velocity({opacity:p},{duration:10,queue:!1,easing:"easeOutQuad"}))}}).bind("panend",function(n){if("touch"==n.gesture.pointerType){var o=t('<div id="sidenav-overlay"></div>'),u=n.gesture.velocityX,c=n.gesture.center.x,l=c-e.menuWidth,p=c-e.menuWidth/2;l>0&&(l=0),p<0&&(p=0),s=!1,"left"===e.edge?a&&u<=.3||u<-.5?(0!==l&&r.velocity({translateX:[0,l]},{duration:300,queue:!1,easing:"easeOutQuad"}),o.velocity({opacity:1},{duration:50,queue:!1,easing:"easeOutQuad"}),i.css({width:"50%",right:0,left:""}),a=!0):(!a||u>.3)&&(t("body").css({overflow:"",width:""}),r.velocity({translateX:[-1*e.menuWidth-10,l]},{duration:200,queue:!1,easing:"easeOutQuad"}),o.velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}}),i.css({width:"10px",right:"",left:0})):a&&u>=-.3||u>.5?(0!==p&&r.velocity({translateX:[0,p]},{duration:300,queue:!1,easing:"easeOutQuad"}),o.velocity({opacity:1},{duration:50,queue:!1,easing:"easeOutQuad"}),i.css({width:"50%",right:"",left:0}),a=!0):(!a||u<-.3)&&(t("body").css({overflow:"",width:""}),r.velocity({translateX:[e.menuWidth+10,p]},{duration:200,queue:!1,easing:"easeOutQuad"}),o.velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}}),i.css({width:"10px",right:0,left:""}))}})),n.click(function(){if(a===!0)a=!1,s=!1,o();else{var n=t("body"),u=t('<div id="sidenav-overlay"></div>'),c=n.innerWidth();n.css("overflow","hidden"),n.width(c),t("body").append(i),"left"===e.edge?(i.css({width:"50%",right:0,left:""}),r.velocity({translateX:[0,-1*e.menuWidth]},{duration:300,queue:!1,easing:"easeOutQuad"})):(i.css({width:"50%",right:"",left:0}),r.velocity({translateX:[0,e.menuWidth]},{duration:300,queue:!1,easing:"easeOutQuad"})),u.css("opacity",0).click(function(){a=!1,s=!1,o(),u.velocity({opacity:0},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}})}),t("body").append(u),u.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){a=!0,s=!1}})}return!1})})},destroy:function(){var e=t("#sidenav-overlay"),n=t('.drag-target[data-sidenav="'+t(this).attr("data-activates")+'"]');e.trigger("click"),n.remove(),t(this).off("click"),e.remove()},show:function(){this.trigger("click")},hide:function(){t("#sidenav-overlay").trigger("click")}};t.fn.sideNav=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.sideNav"):e.init.apply(this,arguments)}}(i),function(t){function e(e,n,r,i){var o=t();return t.each(s,function(t,s){if(s.height()>0){var a=s.offset().top,u=s.offset().left,c=u+s.width(),l=a+s.height(),p=!(u>n||c<i||a>r||l<e);p&&o.push(s)}}),o}function n(n){++c;var r=o.scrollTop(),i=o.scrollLeft(),s=i+o.width(),u=r+o.height(),p=e(r+l.top+n||200,s+l.right,u+l.bottom,i+l.left);t.each(p,function(t,e){var n=e.data("scrollSpy:ticks");"number"!=typeof n&&e.triggerHandler("scrollSpy:enter"),e.data("scrollSpy:ticks",c)}),t.each(a,function(t,e){var n=e.data("scrollSpy:ticks");"number"==typeof n&&n!==c&&(e.triggerHandler("scrollSpy:exit"),e.data("scrollSpy:ticks",null))}),a=p}function r(){o.trigger("scrollSpy:winSize")}function i(t,e,n){var r,i,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:p(),s=null,o=t.apply(r,i),r=i=null};return function(){var c=p();a||n.leading!==!1||(a=c);var l=e-(c-a);return r=this,i=arguments,l<=0?(clearTimeout(s),s=null,a=c,o=t.apply(r,i),r=i=null):s||n.trailing===!1||(s=setTimeout(u,l)),o}}var o=t(window),s=[],a=[],u=!1,c=0,l={top:0,right:0,bottom:0,left:0},p=Date.now||function(){return(new Date).getTime()};t.scrollSpy=function(e,r){var a={throttle:100,scrollOffset:200};r=t.extend(a,r);var c=[];e=t(e),e.each(function(e,n){s.push(t(n)),t(n).data("scrollSpy:id",e),t('a[href="#'+t(n).attr("id")+'"]').click(function(e){e.preventDefault();var n=t(Materialize.escapeHash(this.hash)).offset().top+1;t("html, body").animate({scrollTop:n-r.scrollOffset},{duration:400,queue:!1,easing:"easeOutCubic"})})}),l.top=r.offsetTop||0,l.right=r.offsetRight||0,l.bottom=r.offsetBottom||0,l.left=r.offsetLeft||0;var p=i(function(){n(r.scrollOffset)},r.throttle||100),h=function(){t(document).ready(p)};return u||(o.on("scroll",h),o.on("resize",h),u=!0),setTimeout(h,0),e.on("scrollSpy:enter",function(){c=t.grep(c,function(t){return 0!=t.height()});var e=t(this);c[0]?(t('a[href="#'+c[0].attr("id")+'"]').removeClass("active"),e.data("scrollSpy:id")<c[0].data("scrollSpy:id")?c.unshift(t(this)):c.push(t(this))):c.push(t(this)),t('a[href="#'+c[0].attr("id")+'"]').addClass("active")}),e.on("scrollSpy:exit",function(){if(c=t.grep(c,function(t){return 0!=t.height()}),c[0]){t('a[href="#'+c[0].attr("id")+'"]').removeClass("active");var e=t(this);c=t.grep(c,function(t){return t.attr("id")!=e.attr("id")}),c[0]&&t('a[href="#'+c[0].attr("id")+'"]').addClass("active")}}),e},t.winSizeSpy=function(e){return t.winSizeSpy=function(){return o},e=e||{throttle:100},o.on("resize",i(r,e.throttle||100))},t.fn.scrollSpy=function(e){return t.scrollSpy(t(this),e)}}(i),function(t){t(document).ready(function(){function e(e){var n=e.css("font-family"),r=e.css("font-size"),o=e.css("line-height");r&&i.css("font-size",r),n&&i.css("font-family",n),o&&i.css("line-height",o),"off"===e.attr("wrap")&&i.css("overflow-wrap","normal").css("white-space","pre"),i.text(e.val()+"\n");var s=i.html().replace(/\n/g,"<br>");i.html(s),e.is(":visible")?i.css("width",e.width()):i.css("width",t(window).width()/2),e.css("height",i.height())}Materialize.updateTextFields=function(){var e="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea";t(e).each(function(e,n){t(n).val().length>0||n.autofocus||void 0!==t(this).attr("placeholder")||t(n)[0].validity.badInput===!0?t(this).siblings("label").addClass("active"):t(this).siblings("label").removeClass("active")})};var n="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea";t(document).on("change",n,function(){0===t(this).val().length&&void 0===t(this).attr("placeholder")||t(this).siblings("label").addClass("active"),validate_field(t(this))}),t(document).ready(function(){Materialize.updateTextFields()}),t(document).on("reset",function(e){var r=t(e.target);r.is("form")&&(r.find(n).removeClass("valid").removeClass("invalid"),r.find(n).each(function(){""===t(this).attr("value")&&t(this).siblings("label").removeClass("active")}),r.find("select.initialized").each(function(){var t=r.find("option[selected]").text();r.siblings("input.select-dropdown").val(t)}))}),t(document).on("focus",n,function(){t(this).siblings("label, .prefix").addClass("active")}),t(document).on("blur",n,function(){var e=t(this),n=".prefix";0===e.val().length&&e[0].validity.badInput!==!0&&void 0===e.attr("placeholder")&&(n+=", label"),e.siblings(n).removeClass("active"),validate_field(e)}),window.validate_field=function(t){var e=void 0!==t.attr("length"),n=parseInt(t.attr("length")),r=t.val().length;0===t.val().length&&t[0].validity.badInput===!1?t.hasClass("validate")&&(t.removeClass("valid"),t.removeClass("invalid")):t.hasClass("validate")&&(t.is(":valid")&&e&&r<=n||t.is(":valid")&&!e?(t.removeClass("invalid"),t.addClass("valid")):(t.removeClass("valid"),t.addClass("invalid")))};var r="input[type=radio], input[type=checkbox]";t(document).on("keyup.radio",r,function(e){if(9===e.which){t(this).addClass("tabbed");var n=t(this);return void n.one("blur",function(e){t(this).removeClass("tabbed")})}});var i=t(".hiddendiv").first();i.length||(i=t('<div class="hiddendiv common"></div>'),t("body").append(i));var o=".materialize-textarea";t(o).each(function(){var n=t(this);n.val().length&&e(n)}),t("body").on("keyup keydown autoresize",o,function(){e(t(this))}),t(document).on("change",'.file-field input[type="file"]',function(){for(var e=t(this).closest(".file-field"),n=e.find("input.file-path"),r=t(this)[0].files,i=[],o=0;o<r.length;o++)i.push(r[o].name);n.val(i.join(", ")),n.trigger("change")});var s,a="input[type=range]",u=!1;t(a).each(function(){var e=t('<span class="thumb"><span class="value"></span></span>');t(this).after(e)});var c=".range-field";t(document).on("change",a,function(e){var n=t(this).siblings(".thumb");n.find(".value").html(t(this).val())}),t(document).on("input mousedown touchstart",a,function(e){
var n=t(this).siblings(".thumb"),r=t(this).outerWidth();n.length<=0&&(n=t('<span class="thumb"><span class="value"></span></span>'),t(this).after(n)),n.find(".value").html(t(this).val()),u=!0,t(this).addClass("active"),n.hasClass("active")||n.velocity({height:"30px",width:"30px",top:"-20px",marginLeft:"-15px"},{duration:300,easing:"easeOutExpo"}),"input"!==e.type&&(s=void 0===e.pageX||null===e.pageX?e.originalEvent.touches[0].pageX-t(this).offset().left:e.pageX-t(this).offset().left,s<0?s=0:s>r&&(s=r),n.addClass("active").css("left",s)),n.find(".value").html(t(this).val())}),t(document).on("mouseup touchend",c,function(){u=!1,t(this).removeClass("active")}),t(document).on("mousemove touchmove",c,function(e){var n,r=t(this).children(".thumb");if(u){r.hasClass("active")||r.velocity({height:"30px",width:"30px",top:"-20px",marginLeft:"-15px"},{duration:300,easing:"easeOutExpo"}),n=void 0===e.pageX||null===e.pageX?e.originalEvent.touches[0].pageX-t(this).offset().left:e.pageX-t(this).offset().left;var i=t(this).outerWidth();n<0?n=0:n>i&&(n=i),r.addClass("active").css("left",n),r.find(".value").html(r.siblings(a).val())}}),t(document).on("mouseout touchleave",c,function(){if(!u){var e=t(this).children(".thumb");e.hasClass("active")&&e.velocity({height:"0",width:"0",top:"10px",marginLeft:"-6px"},{duration:100}),e.removeClass("active")}}),t.fn.autocomplete=function(e){var n={data:{}};return e=t.extend(n,e),this.each(function(){var n=t(this),r=e.data,i=n.closest(".input-field");if(!t.isEmptyObject(r)){var o=t('<ul class="autocomplete-content dropdown-content"></ul>');i.length?i.append(o):n.after(o);var s=function(t,e){var n=e.find("img"),r=e.text().toLowerCase().indexOf(""+t.toLowerCase()),i=r+t.length-1,o=e.text().slice(0,r),s=e.text().slice(r,i+1),a=e.text().slice(i+1);e.html("<span>"+o+"<span class='highlight'>"+s+"</span>"+a+"</span>"),n.length&&e.prepend(n)};n.on("keyup",function(e){if(13===e.which)return void o.find("li").first().click();var i=n.val().toLowerCase();if(o.empty(),""!==i)for(var a in r)if(r.hasOwnProperty(a)&&a.toLowerCase().indexOf(i)!==-1&&a.toLowerCase()!==i){var u=t("<li></li>");r[a]?u.append('<img src="'+r[a]+'" class="right circle"><span>'+a+"</span>"):u.append("<span>"+a+"</span>"),o.append(u),s(i,u)}}),o.on("click","li",function(){n.val(t(this).text().trim()),n.trigger("change"),o.empty()})}})}}),t.fn.material_select=function(e){function n(t,e,n){var i=t.indexOf(e),o=i===-1;return o?t.push(e):t.splice(i,1),n.siblings("ul.dropdown-content").find("li").eq(e).toggleClass("active"),n.find("option").eq(e).prop("selected",o),r(t,n),o}function r(t,e){for(var n="",r=0,i=t.length;r<i;r++){var o=e.find("option").eq(t[r]).text();n+=0===r?o:", "+o}""===n&&(n=e.find("option:disabled").eq(0).text()),e.siblings("input.select-dropdown").val(n)}t(this).each(function(){var r=t(this);if(!r.hasClass("browser-default")){var i=!!r.attr("multiple"),o=r.data("select-id");if(o&&(r.parent().find("span.caret").remove(),r.parent().find("input").remove(),r.unwrap(),t("ul#select-options-"+o).remove()),"destroy"===e)return void r.data("select-id",null).removeClass("initialized");var s=Materialize.guid();r.data("select-id",s);var a=t('<div class="select-wrapper"></div>');a.addClass(r.attr("class"));var u=t('<ul id="select-options-'+s+'" class="dropdown-content select-dropdown '+(i?"multiple-select-dropdown":"")+'"></ul>'),c=r.children("option, optgroup"),l=[],p=!1,h=r.find("option:selected").html()||r.find("option:first").html()||"",f=function(e,n,r){var i=n.is(":disabled")?"disabled ":"",o="optgroup-option"===r?"optgroup-option ":"",s=n.data("icon"),a=n.attr("class");if(s){var c="";return a&&(c=' class="'+a+'"'),"multiple"===r?u.append(t('<li class="'+i+'"><img alt="" src="'+s+'"'+c+'><span><input type="checkbox"'+i+"/><label></label>"+n.html()+"</span></li>")):u.append(t('<li class="'+i+o+'"><img alt="" src="'+s+'"'+c+"><span>"+n.html()+"</span></li>")),!0}"multiple"===r?u.append(t('<li class="'+i+'"><span><input type="checkbox"'+i+"/><label></label>"+n.html()+"</span></li>")):u.append(t('<li class="'+i+o+'"><span>'+n.html()+"</span></li>"))};c.length&&c.each(function(){if(t(this).is("option"))i?f(r,t(this),"multiple"):f(r,t(this));else if(t(this).is("optgroup")){var e=t(this).children("option");u.append(t('<li class="optgroup"><span>'+t(this).attr("label")+"</span></li>")),e.each(function(){f(r,t(this),"optgroup-option")})}}),u.find("li:not(.optgroup)").each(function(o){t(this).click(function(s){if(!t(this).hasClass("disabled")&&!t(this).hasClass("optgroup")){var a=!0;i?(t('input[type="checkbox"]',this).prop("checked",function(t,e){return!e}),a=n(l,t(this).index(),r),m.trigger("focus")):(u.find("li").removeClass("active"),t(this).toggleClass("active"),m.val(t(this).text())),v(u,t(this)),r.find("option").eq(o).prop("selected",a),r.trigger("change"),"undefined"!=typeof e&&e()}s.stopPropagation()})}),r.wrap(a);var d=t('<span class="caret">&#9660;</span>');r.is(":disabled")&&d.addClass("disabled");var y=h.replace(/"/g,"&quot;"),m=t('<input type="text" class="select-dropdown" readonly="true" '+(r.is(":disabled")?"disabled":"")+' data-activates="select-options-'+s+'" value="'+y+'"/>');r.before(m),m.before(d),m.after(u),r.is(":disabled")||m.dropdown({hover:!1,closeOnClick:!1}),r.attr("tabindex")&&t(m[0]).attr("tabindex",r.attr("tabindex")),r.addClass("initialized"),m.on({focus:function(){if(t("ul.select-dropdown").not(u[0]).is(":visible")&&t("input.select-dropdown").trigger("close"),!u.is(":visible")){t(this).trigger("open",["focus"]);var e=t(this).val(),n=u.find("li").filter(function(){return t(this).text().toLowerCase()===e.toLowerCase()})[0];v(u,n)}},click:function(t){t.stopPropagation()}}),m.on("blur",function(){i||t(this).trigger("close"),u.find("li.selected").removeClass("selected")}),u.hover(function(){p=!0},function(){p=!1}),t(window).on({click:function(){i&&(p||m.trigger("close"))}}),i&&r.find("option:selected:not(:disabled)").each(function(){var e=t(this).index();n(l,e,r),u.find("li").eq(e).find(":checkbox").prop("checked",!0)});var v=function(e,n){if(n){e.find("li.selected").removeClass("selected");var r=t(n);r.addClass("selected"),u.scrollTo(r)}},g=[],_=function(e){if(9==e.which)return void m.trigger("close");if(40==e.which&&!u.is(":visible"))return void m.trigger("open");if(13!=e.which||u.is(":visible")){e.preventDefault();var n=String.fromCharCode(e.which).toLowerCase(),r=[9,13,27,38,40];if(n&&r.indexOf(e.which)===-1){g.push(n);var o=g.join(""),s=u.find("li").filter(function(){return 0===t(this).text().toLowerCase().indexOf(o)})[0];s&&v(u,s)}if(13==e.which){var a=u.find("li.selected:not(.disabled)")[0];a&&(t(a).trigger("click"),i||m.trigger("close"))}40==e.which&&(s=u.find("li.selected").length?u.find("li.selected").next("li:not(.disabled)")[0]:u.find("li:not(.disabled)")[0],v(u,s)),27==e.which&&m.trigger("close"),38==e.which&&(s=u.find("li.selected").prev("li:not(.disabled)")[0],s&&v(u,s)),setTimeout(function(){g=[]},1e3)}};m.on("keydown",_)}})}}(i),function(t){var e={init:function(e){var n={indicators:!0,height:400,transition:500,interval:6e3};return e=t.extend(n,e),this.each(function(){function n(t,e){t.hasClass("center-align")?t.velocity({opacity:0,translateY:-100},{duration:e,queue:!1}):t.hasClass("right-align")?t.velocity({opacity:0,translateX:100},{duration:e,queue:!1}):t.hasClass("left-align")&&t.velocity({opacity:0,translateX:-100},{duration:e,queue:!1})}function r(t){t>=c.length?t=0:t<0&&(t=c.length-1),l=u.find(".active").index(),l!=t&&(i=c.eq(l),$caption=i.find(".caption"),i.removeClass("active"),i.velocity({opacity:0},{duration:e.transition,queue:!1,easing:"easeOutQuad",complete:function(){c.not(".active").velocity({opacity:0,translateX:0,translateY:0},{duration:0,queue:!1})}}),n($caption,e.transition),e.indicators&&o.eq(l).removeClass("active"),c.eq(t).velocity({opacity:1},{duration:e.transition,queue:!1,easing:"easeOutQuad"}),c.eq(t).find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:e.transition,delay:e.transition,queue:!1,easing:"easeOutQuad"}),c.eq(t).addClass("active"),e.indicators&&o.eq(t).addClass("active"))}var i,o,s,a=t(this),u=a.find("ul.slides").first(),c=u.find("> li"),l=u.find(".active").index();l!=-1&&(i=c.eq(l)),a.hasClass("fullscreen")||(e.indicators?a.height(e.height+40):a.height(e.height),u.height(e.height)),c.find(".caption").each(function(){n(t(this),0)}),c.find("img").each(function(){var e="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";t(this).attr("src")!==e&&(t(this).css("background-image","url("+t(this).attr("src")+")"),t(this).attr("src",e))}),e.indicators&&(o=t('<ul class="indicators"></ul>'),c.each(function(n){var i=t('<li class="indicator-item"></li>');i.click(function(){var n=u.parent(),i=n.find(t(this)).index();r(i),clearInterval(s),s=setInterval(function(){l=u.find(".active").index(),c.length==l+1?l=0:l+=1,r(l)},e.transition+e.interval)}),o.append(i)}),a.append(o),o=a.find("ul.indicators").find("li.indicator-item")),i?i.show():(c.first().addClass("active").velocity({opacity:1},{duration:e.transition,queue:!1,easing:"easeOutQuad"}),l=0,i=c.eq(l),e.indicators&&o.eq(l).addClass("active")),i.find("img").each(function(){i.find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:e.transition,queue:!1,easing:"easeOutQuad"})}),s=setInterval(function(){l=u.find(".active").index(),r(l+1)},e.transition+e.interval);var p=!1,h=!1,f=!1;a.hammer({prevent_default:!1}).bind("pan",function(t){if("touch"===t.gesture.pointerType){clearInterval(s);var e=t.gesture.direction,n=t.gesture.deltaX,r=t.gesture.velocityX;$curr_slide=u.find(".active"),$curr_slide.velocity({translateX:n},{duration:50,queue:!1,easing:"easeOutQuad"}),4===e&&(n>a.innerWidth()/2||r<-.65)?f=!0:2===e&&(n<-1*a.innerWidth()/2||r>.65)&&(h=!0);var i;h&&(i=$curr_slide.next(),0===i.length&&(i=c.first()),i.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad"})),f&&(i=$curr_slide.prev(),0===i.length&&(i=c.last()),i.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad"}))}}).bind("panend",function(t){"touch"===t.gesture.pointerType&&($curr_slide=u.find(".active"),p=!1,curr_index=u.find(".active").index(),!f&&!h||c.length<=1?$curr_slide.velocity({translateX:0},{duration:300,queue:!1,easing:"easeOutQuad"}):h?(r(curr_index+1),$curr_slide.velocity({translateX:-1*a.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})):f&&(r(curr_index-1),$curr_slide.velocity({translateX:a.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})),h=!1,f=!1,clearInterval(s),s=setInterval(function(){l=u.find(".active").index(),c.length==l+1?l=0:l+=1,r(l)},e.transition+e.interval))}),a.on("sliderPause",function(){clearInterval(s)}),a.on("sliderStart",function(){clearInterval(s),s=setInterval(function(){l=u.find(".active").index(),c.length==l+1?l=0:l+=1,r(l)},e.transition+e.interval)}),a.on("sliderNext",function(){l=u.find(".active").index(),r(l+1)}),a.on("sliderPrev",function(){l=u.find(".active").index(),r(l-1)})})},pause:function(){t(this).trigger("sliderPause")},start:function(){t(this).trigger("sliderStart")},next:function(){t(this).trigger("sliderNext")},prev:function(){t(this).trigger("sliderPrev")}};t.fn.slider=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.tooltip"):e.init.apply(this,arguments)}}(i),function(t){t(document).ready(function(){t(document).on("click.card",".card",function(e){t(this).find("> .card-reveal").length&&(t(e.target).is(t(".card-reveal .card-title"))||t(e.target).is(t(".card-reveal .card-title i"))?t(this).find(".card-reveal").velocity({translateY:0},{duration:225,queue:!1,easing:"easeInOutQuad",complete:function(){t(this).css({display:"none"})}}):(t(e.target).is(t(".card .activator"))||t(e.target).is(t(".card .activator i")))&&(t(e.target).closest(".card").css("overflow","hidden"),t(this).find(".card-reveal").css({display:"block"}).velocity("stop",!1).velocity({translateY:"-100%"},{duration:300,queue:!1,easing:"easeInOutQuad"})))})})}(i),function(t){var e=!1,n={data:[],placeholder:"",secondaryPlaceholder:""};t(document).ready(function(){t(document).on("click",".chip .close",function(e){var n=t(this).closest(".chips");n.attr("data-initialized")||t(this).closest(".chip").remove()})}),t.fn.material_chip=function(r){var i=this;if(this.$el=t(this),this.$document=t(document),this.SELS={CHIPS:".chips",CHIP:".chip",INPUT:"input",DELETE:".material-icons",SELECTED_CHIP:".selected"},"data"===r)return this.$el.data("chips");var o=t.extend({},n,r);this.init=function(){var e=0;i.$el.each(function(){var n=t(this),r=Materialize.guid();o.data&&o.data instanceof Array||(o.data=[]),n.data("chips",o.data),n.attr("data-index",e),n.attr("data-initialized",!0),n.hasClass(i.SELS.CHIPS)||n.addClass("chips"),i.chips(n,r),e++})},this.handleEvents=function(){var e=i.SELS;i.$document.off("click.chips-focus",e.CHIPS).on("click.chips-focus",e.CHIPS,function(n){t(n.target).find(e.INPUT).focus()}),i.$document.off("click.chips-select",e.CHIP).on("click.chips-select",e.CHIP,function(n){t(e.CHIP).removeClass("selected"),t(this).toggleClass("selected")}),i.$document.off("keydown.chips").on("keydown.chips",function(n){if(!t(n.target).is("input, textarea")){var r,o=i.$document.find(e.CHIP+e.SELECTED_CHIP),s=o.closest(e.CHIPS),a=o.siblings(e.CHIP).length;if(o.length)if(8===n.which||46===n.which){n.preventDefault(),r=o.index(),i.deleteChip(r,s);var u=null;r+1<a?u=r:r!==a&&r+1!==a||(u=a-1),u<0&&(u=null),null!==u&&i.selectChip(u,s),a||s.find("input").focus()}else if(37===n.which){if(r=o.index()-1,r<0)return;t(e.CHIP).removeClass("selected"),i.selectChip(r,s)}else if(39===n.which){if(r=o.index()+1,t(e.CHIP).removeClass("selected"),r>a)return void s.find("input").focus();i.selectChip(r,s)}}}),i.$document.off("focusin.chips",e.CHIPS+" "+e.INPUT).on("focusin.chips",e.CHIPS+" "+e.INPUT,function(n){var r=t(n.target).closest(e.CHIPS);r.addClass("focus"),r.siblings("label, .prefix").addClass("active"),t(e.CHIP).removeClass("selected")}),i.$document.off("focusout.chips",e.CHIPS+" "+e.INPUT).on("focusout.chips",e.CHIPS+" "+e.INPUT,function(n){var r=t(n.target).closest(e.CHIPS);r.removeClass("focus"),r.data("chips").length||r.siblings("label").removeClass("active"),r.siblings(".prefix").removeClass("active")}),i.$document.off("keydown.chips-add",e.CHIPS+" "+e.INPUT).on("keydown.chips-add",e.CHIPS+" "+e.INPUT,function(n){var r=t(n.target),o=r.closest(e.CHIPS),s=o.children(e.CHIP).length;return 13===n.which?(n.preventDefault(),i.addChip({tag:r.val()},o),void r.val("")):8!==n.keyCode&&37!==n.keyCode||""!==r.val()||!s?void 0:(i.selectChip(s-1,o),void r.blur())}),i.$document.off("click.chips-delete",e.CHIPS+" "+e.DELETE).on("click.chips-delete",e.CHIPS+" "+e.DELETE,function(n){var r=t(n.target),o=r.closest(e.CHIPS),s=r.closest(e.CHIP);n.stopPropagation(),i.deleteChip(s.index(),o),o.find("input").focus()})},this.chips=function(t,e){var n="";t.data("chips").forEach(function(t){n+=i.renderChip(t)}),n+='<input id="'+e+'" class="input" placeholder="">',t.html(n),i.setPlaceholder(t);var r=t.next("label");r.length&&(r.attr("for",e),t.data("chips").length&&r.addClass("active"))},this.renderChip=function(t){if(t.tag){var e='<div class="chip">'+t.tag;return t.image&&(e+=' <img src="'+t.image+'"> '),e+='<i class="material-icons close">close</i>',e+="</div>"}},this.setPlaceholder=function(t){t.data("chips").length&&o.placeholder?t.find("input").prop("placeholder",o.placeholder):!t.data("chips").length&&o.secondaryPlaceholder&&t.find("input").prop("placeholder",o.secondaryPlaceholder)},this.isValid=function(t,e){for(var n=t.data("chips"),r=!1,i=0;i<n.length;i++)if(n[i].tag===e.tag)return void(r=!0);return""!==e.tag&&!r},this.addChip=function(e,n){if(i.isValid(n,e)){for(var r=i.renderChip(e),o=[],s=n.data("chips"),a=0;a<s.length;a++)o.push(s[a]);o.push(e),n.data("chips",o),t(r).insertBefore(n.find("input")),n.trigger("chip.add",e),i.setPlaceholder(n)}},this.deleteChip=function(t,e){var n=e.data("chips")[t];e.find(".chip").eq(t).remove();for(var r=[],o=e.data("chips"),s=0;s<o.length;s++)s!==t&&r.push(o[s]);e.data("chips",r),e.trigger("chip.delete",n),i.setPlaceholder(e)},this.selectChip=function(t,e){var n=e.find(".chip").eq(t);n&&!1===n.hasClass("selected")&&(n.addClass("selected"),e.trigger("chip.select",e.data("chips")[t]))},this.getChipsElement=function(t,e){return e.eq(t)},this.init(),e||(this.handleEvents(),e=!0)}}(i),function(t){t.fn.pushpin=function(e){var n={top:0,bottom:1/0,offset:0};return"remove"===e?(this.each(function(){(id=t(this).data("pushpin-id"))&&(t(window).off("scroll."+id),t(this).removeData("pushpin-id").removeClass("pin-top pinned pin-bottom").removeAttr("style"))}),!1):(e=t.extend(n,e),$index=0,this.each(function(){function n(t){t.removeClass("pin-top"),t.removeClass("pinned"),t.removeClass("pin-bottom")}function r(r,i){r.each(function(){e.top<=i&&e.bottom>=i&&!t(this).hasClass("pinned")&&(n(t(this)),t(this).css("top",e.offset),t(this).addClass("pinned")),i<e.top&&!t(this).hasClass("pin-top")&&(n(t(this)),t(this).css("top",0),t(this).addClass("pin-top")),i>e.bottom&&!t(this).hasClass("pin-bottom")&&(n(t(this)),t(this).addClass("pin-bottom"),t(this).css("top",e.bottom-s))})}var i=Materialize.guid(),o=t(this),s=t(this).offset().top;t(this).data("pushpin-id",i),r(o,t(window).scrollTop()),t(window).on("scroll."+i,function(){var n=t(window).scrollTop()+e.offset;r(o,n)})}))}}(i),function(t){t(document).ready(function(){t.fn.reverse=[].reverse,t(document).on("mouseenter.fixedActionBtn",".fixed-action-btn:not(.click-to-toggle):not(.toolbar)",function(n){var r=t(this);e(r)}),t(document).on("mouseleave.fixedActionBtn",".fixed-action-btn:not(.click-to-toggle):not(.toolbar)",function(e){var r=t(this);n(r)}),t(document).on("click.fabClickToggle",".fixed-action-btn.click-to-toggle > a",function(r){var i=t(this),o=i.parent();o.hasClass("active")?n(o):e(o)}),t(document).on("click.fabToolbar",".fixed-action-btn.toolbar > a",function(e){var n=t(this),i=n.parent();r(i)})}),t.fn.extend({openFAB:function(){e(t(this))},closeFAB:function(){n(t(this))},openToolbar:function(){r(t(this))},closeToolbar:function(){i(t(this))}});var e=function(e){var n=e;if(n.hasClass("active")===!1){var r,i,o=n.hasClass("horizontal");o===!0?i=40:r=40,n.addClass("active"),n.find("ul .btn-floating").velocity({scaleY:".4",scaleX:".4",translateY:r+"px",translateX:i+"px"},{duration:0});var s=0;n.find("ul .btn-floating").reverse().each(function(){t(this).velocity({opacity:"1",scaleX:"1",scaleY:"1",translateY:"0",translateX:"0"},{duration:80,delay:s}),s+=40})}},n=function(t){var e,n,r=t,i=r.hasClass("horizontal");i===!0?n=40:e=40,r.removeClass("active");r.find("ul .btn-floating").velocity("stop",!0),r.find("ul .btn-floating").velocity({opacity:"0",scaleX:".4",scaleY:".4",translateY:e+"px",translateX:n+"px"},{duration:80})},r=function(e){if("true"!==e.attr("data-open")){var n,r,o,s=window.innerWidth,a=window.innerHeight,u=e[0].getBoundingClientRect(),c=e.find("> a").first(),l=e.find("> ul").first(),p=t('<div class="fab-backdrop"></div>'),h=c.css("background-color");c.append(p),n=u.left-s/2+u.width/2,r=a-u.bottom,o=s/p.width(),e.attr("data-origin-bottom",u.bottom),e.attr("data-origin-left",u.left),e.attr("data-origin-width",u.width),e.addClass("active"),e.attr("data-open",!0),e.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+n+"px)",transition:"none"}),c.css({transform:"translateY("+-r+"px)",transition:"none"}),p.css({"background-color":h}),setTimeout(function(){e.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),c.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){e.css({overflow:"hidden","background-color":h}),p.css({transform:"scale("+o+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),l.find("> li > a").css({opacity:1}),t(window).on("scroll.fabToolbarClose",function(){i(e),t(window).off("scroll.fabToolbarClose"),t(document).off("click.fabToolbarClose")}),t(document).on("click.fabToolbarClose",function(n){t(n.target).closest(l).length||(i(e),t(window).off("scroll.fabToolbarClose"),t(document).off("click.fabToolbarClose"))})},100)},0)}},i=function(t){if("true"===t.attr("data-open")){var e,n,r,i=window.innerWidth,o=window.innerHeight,s=t.attr("data-origin-width"),a=t.attr("data-origin-bottom"),u=t.attr("data-origin-left"),c=t.find("> .btn-floating").first(),l=t.find("> ul").first(),p=t.find(".fab-backdrop"),h=c.css("background-color");e=u-i/2+s/2,n=o-a,r=i/p.width(),t.removeClass("active"),t.attr("data-open",!1),t.css({"background-color":"transparent",transition:"none"}),c.css({transition:"none"}),p.css({transform:"scale(0)","background-color":h}),l.find("> li > a").css({opacity:""}),setTimeout(function(){p.remove(),t.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-e+"px,0,0)"}),c.css({overflow:"",transform:"translate3d(0,"+n+"px,0)"}),setTimeout(function(){t.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),c.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}}(i),function(t){Materialize.fadeInImage=function(e){var n;if("string"==typeof e)n=t(e);else{if("object"!=typeof e)return;n=e}n.css({opacity:0}),t(n).velocity({opacity:1},{duration:650,queue:!1,easing:"easeOutSine"}),t(n).velocity({opacity:1},{duration:1300,queue:!1,easing:"swing",step:function(e,n){n.start=100;var r=e/100,i=150-(100-e)/1.75;i<100&&(i=100),e>=0&&t(this).css({"-webkit-filter":"grayscale("+r+")brightness("+i+"%)",filter:"grayscale("+r+")brightness("+i+"%)"})}})},Materialize.showStaggeredList=function(e){var n;if("string"==typeof e)n=t(e);else{if("object"!=typeof e)return;n=e}var r=0;n.find("li").velocity({translateX:"-100px"},{duration:0}),n.find("li").each(function(){t(this).velocity({opacity:"1",translateX:"0"},{duration:800,delay:r,easing:[60,10]}),r+=120})},t(document).ready(function(){var e=!1,n=!1;t(".dismissable").each(function(){t(this).hammer({prevent_default:!1}).bind("pan",function(r){if("touch"===r.gesture.pointerType){var i=t(this),o=r.gesture.direction,s=r.gesture.deltaX,a=r.gesture.velocityX;i.velocity({translateX:s},{duration:50,queue:!1,easing:"easeOutQuad"}),4===o&&(s>i.innerWidth()/2||a<-.75)&&(e=!0),2===o&&(s<-1*i.innerWidth()/2||a>.75)&&(n=!0)}}).bind("panend",function(r){if(Math.abs(r.gesture.deltaX)<t(this).innerWidth()/2&&(n=!1,e=!1),"touch"===r.gesture.pointerType){var i=t(this);if(e||n){var o;o=e?i.innerWidth():-1*i.innerWidth(),i.velocity({translateX:o},{duration:100,queue:!1,easing:"easeOutQuad",complete:function(){i.css("border","none"),i.velocity({height:0,padding:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){i.remove()}})}})}else i.velocity({translateX:0},{duration:100,queue:!1,easing:"easeOutQuad"});e=!1,n=!1}})})})}(i),function(t){Materialize.scrollFire=function(t){var e=!1;window.addEventListener("scroll",function(){e=!0}),setInterval(function(){if(e){e=!1;for(var n=window.pageYOffset+window.innerHeight,r=0;r<t.length;r++){var i=t[r],o=i.selector,s=i.offset,a=i.callback,u=document.querySelector(o);if(null!==u){var c=u.getBoundingClientRect().top+window.pageYOffset;if(n>c+s&&i.done!==!0){if("function"==typeof a)a.call(this,u);else if("string"==typeof a){var l=new Function(a);l(u)}i.done=!0}}}}},100)}}(i),function(t){"function"==typeof define&&define.amd?define("picker",["jquery"],t):"object"==typeof n?r.exports=t(e("jquery")):this.Picker=t(i)}(function(t){function e(o,s,u,p){function h(){return e._.node("div",e._.node("div",e._.node("div",e._.node("div",S.component.nodes(_.open),w.box),w.wrap),w.frame),w.holder)}function f(){C.data(s,S).addClass(w.input).attr("tabindex",-1).val(C.data("value")?S.get("select",b.format):o.value),b.editable||C.on("focus."+_.id+" click."+_.id,function(t){t.preventDefault(),S.$root.eq(0).focus()}).on("keydown."+_.id,m),i(o,{haspopup:!0,expanded:!1,readonly:!1,owns:o.id+"_root"})}function d(){S.$root.on({keydown:m,focusin:function(t){S.$root.removeClass(w.focused),t.stopPropagation()},"mousedown click":function(e){var n=e.target;n!=S.$root.children()[0]&&(e.stopPropagation(),"mousedown"!=e.type||t(n).is("input, select, textarea, button, option")||(e.preventDefault(),S.$root.eq(0).focus()))}}).on({focus:function(){C.addClass(w.target)},blur:function(){C.removeClass(w.target)}}).on("focus.toOpen",v).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var e=t(this),n=e.data(),r=e.hasClass(w.navDisabled)||e.hasClass(w.disabled),i=a();i=i&&(i.type||i.href),(r||i&&!t.contains(S.$root[0],i))&&S.$root.eq(0).focus(),!r&&n.nav?S.set("highlight",S.component.item.highlight,{nav:n.nav}):!r&&"pick"in n?S.set("select",n.pick):n.clear?S.clear().close(!0):n.close&&S.close(!0)}),i(S.$root[0],"hidden",!0)}function y(){var e;b.hiddenName===!0?(e=o.name,o.name=""):(e=["string"==typeof b.hiddenPrefix?b.hiddenPrefix:"","string"==typeof b.hiddenSuffix?b.hiddenSuffix:"_submit"],e=e[0]+o.name+e[1]),S._hidden=t('<input type=hidden name="'+e+'"'+(C.data("value")||o.value?' value="'+S.get("select",b.formatSubmit)+'"':"")+">")[0],C.on("change."+_.id,function(){S._hidden.value=o.value?S.get("select",b.formatSubmit):""}),b.container?t(b.container).append(S._hidden):C.after(S._hidden)}function m(t){var e=t.keyCode,n=/^(8|46)$/.test(e);return 27==e?(S.close(),!1):void((32==e||n||!_.open&&S.component.key[e])&&(t.preventDefault(),t.stopPropagation(),n?S.clear().close():S.open()))}function v(t){t.stopPropagation(),"focus"==t.type&&S.$root.addClass(w.focused),S.open()}if(!o)return e;var g=!1,_={id:o.id||"P"+Math.abs(~~(Math.random()*new Date))},b=u?t.extend(!0,{},u.defaults,p):p||{},w=t.extend({},e.klasses(),b.klass),C=t(o),E=function(){return this.start()},S=E.prototype={constructor:E,$node:C,start:function(){return _&&_.start?S:(_.methods={},_.start=!0,_.open=!1,_.type=o.type,o.autofocus=o==a(),o.readOnly=!b.editable,o.id=o.id||_.id,"text"!=o.type&&(o.type="text"),S.component=new u(S,b),S.$root=t(e._.node("div",h(),w.picker,'id="'+o.id+'_root" tabindex="0"')),d(),b.formatSubmit&&y(),f(),b.container?t(b.container).append(S.$root):C.after(S.$root),S.on({start:S.component.onStart,render:S.component.onRender,stop:S.component.onStop,open:S.component.onOpen,close:S.component.onClose,set:S.component.onSet}).on({start:b.onStart,render:b.onRender,stop:b.onStop,open:b.onOpen,close:b.onClose,set:b.onSet}),g=n(S.$root.children()[0]),o.autofocus&&S.open(),S.trigger("start").trigger("render"))},render:function(t){return t?S.$root.html(h()):S.$root.find("."+w.box).html(S.component.nodes(_.open)),S.trigger("render")},stop:function(){return _.start?(S.close(),S._hidden&&S._hidden.parentNode.removeChild(S._hidden),S.$root.remove(),C.removeClass(w.input).removeData(s),setTimeout(function(){C.off("."+_.id)},0),o.type=_.type,o.readOnly=!1,S.trigger("stop"),_.methods={},_.start=!1,S):S},open:function(n){return _.open?S:(C.addClass(w.active),i(o,"expanded",!0),setTimeout(function(){S.$root.addClass(w.opened),i(S.$root[0],"hidden",!1)},0),n!==!1&&(_.open=!0,g&&l.css("overflow","hidden").css("padding-right","+="+r()),S.$root.eq(0).focus(),c.on("click."+_.id+" focusin."+_.id,function(t){var e=t.target;e!=o&&e!=document&&3!=t.which&&S.close(e===S.$root.children()[0])}).on("keydown."+_.id,function(n){var r=n.keyCode,i=S.component.key[r],o=n.target;27==r?S.close(!0):o!=S.$root[0]||!i&&13!=r?t.contains(S.$root[0],o)&&13==r&&(n.preventDefault(),o.click()):(n.preventDefault(),i?e._.trigger(S.component.key.go,S,[e._.trigger(i)]):S.$root.find("."+w.highlighted).hasClass(w.disabled)||S.set("select",S.component.item.highlight).close())})),S.trigger("open"))},close:function(t){return t&&(S.$root.off("focus.toOpen").eq(0).focus(),setTimeout(function(){S.$root.on("focus.toOpen",v)},0)),C.removeClass(w.active),i(o,"expanded",!1),setTimeout(function(){S.$root.removeClass(w.opened+" "+w.focused),i(S.$root[0],"hidden",!0)},0),_.open?(_.open=!1,g&&l.css("overflow","").css("padding-right","-="+r()),c.off("."+_.id),S.trigger("close")):S},clear:function(t){return S.set("clear",null,t)},set:function(e,n,r){var i,o,s=t.isPlainObject(e),a=s?e:{};if(r=s&&t.isPlainObject(n)?n:r||{},e){s||(a[e]=n);for(i in a)o=a[i],i in S.component.item&&(void 0===o&&(o=null),S.component.set(i,o,r)),"select"!=i&&"clear"!=i||C.val("clear"==i?"":S.get(i,b.format)).trigger("change");S.render()}return r.muted?S:S.trigger("set",a)},get:function(t,n){if(t=t||"value",null!=_[t])return _[t];if("valueSubmit"==t){if(S._hidden)return S._hidden.value;t="value"}if("value"==t)return o.value;if(t in S.component.item){if("string"==typeof n){var r=S.component.get(t);return r?e._.trigger(S.component.formats.toString,S.component,[n,r]):""}return S.component.get(t)}},on:function(e,n,r){var i,o,s=t.isPlainObject(e),a=s?e:{};if(e){s||(a[e]=n);for(i in a)o=a[i],r&&(i="_"+i),_.methods[i]=_.methods[i]||[],_.methods[i].push(o)}return S},off:function(){var t,e,n=arguments;for(t=0,namesCount=n.length;t<namesCount;t+=1)e=n[t],e in _.methods&&delete _.methods[e];return S},trigger:function(t,n){var r=function(t){var r=_.methods[t];r&&r.map(function(t){e._.trigger(t,S,[n])})};return r("_"+t),r(t),S}};return new E}function n(t){var e,n="position";return t.currentStyle?e=t.currentStyle[n]:window.getComputedStyle&&(e=getComputedStyle(t)[n]),"fixed"==e}function r(){if(l.height()<=u.height())return 0;var e=t('<div style="visibility:hidden;width:100px" />').appendTo("body"),n=e[0].offsetWidth;e.css("overflow","scroll");var r=t('<div style="width:100%" />').appendTo(e),i=r[0].offsetWidth;return e.remove(),n-i}function i(e,n,r){if(t.isPlainObject(n))for(var i in n)o(e,i,n[i]);else o(e,n,r)}function o(t,e,n){t.setAttribute(("role"==e?"":"aria-")+e,n)}function s(e,n){t.isPlainObject(e)||(e={attribute:n}),n="";for(var r in e){var i=("role"==r?"":"aria-")+r,o=e[r];n+=null==o?"":i+'="'+e[r]+'"'}return n}function a(){try{return document.activeElement}catch(t){}}var u=t(window),c=t(document),l=t(document.documentElement);return e.klasses=function(t){return t=t||"picker",{picker:t,opened:t+"--opened",focused:t+"--focused",input:t+"__input",active:t+"__input--active",target:t+"__input--target",holder:t+"__holder",frame:t+"__frame",wrap:t+"__wrap",box:t+"__box"}},e._={group:function(t){for(var n,r="",i=e._.trigger(t.min,t);i<=e._.trigger(t.max,t,[i]);i+=t.i)n=e._.trigger(t.item,t,[i]),r+=e._.node(t.node,n[0],n[1],n[2]);return r},node:function(e,n,r,i){return n?(n=t.isArray(n)?n.join(""):n,r=r?' class="'+r+'"':"",i=i?" "+i:"","<"+e+r+i+">"+n+"</"+e+">"):""},lead:function(t){return(t<10?"0":"")+t},trigger:function(t,e,n){return"function"==typeof t?t.apply(e,n||[]):t},digits:function(t){return/\d/.test(t[1])?2:1},isDate:function(t){return{}.toString.call(t).indexOf("Date")>-1&&this.isInteger(t.getDate())},isInteger:function(t){return{}.toString.call(t).indexOf("Number")>-1&&t%1===0},ariaAttr:s},e.extend=function(n,r){t.fn[n]=function(i,o){var s=this.data(n);return"picker"==i?s:s&&"string"==typeof i?e._.trigger(s[i],s,[o]):this.each(function(){var o=t(this);o.data(n)||new e(this,n,r,i)})},t.fn[n].defaults=r.defaults},e}),function(t){"function"==typeof define&&define.amd?define(["picker","jquery"],t):"object"==typeof n?r.exports=t(e("./picker.js"),e("jquery")):t(Picker,i)}(function(t,e){function n(t,e){var n=this,r=t.$node[0],i=r.value,o=t.$node.data("value"),s=o||i,a=o?e.formatSubmit:e.format,u=function(){return r.currentStyle?"rtl"==r.currentStyle.direction:"rtl"==getComputedStyle(t.$root[0]).direction};n.settings=e,n.$node=t.$node,n.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",
disable:"deactivate",enable:"activate"},n.item={},n.item.clear=null,n.item.disable=(e.disable||[]).slice(0),n.item.enable=-function(t){return t[0]===!0?t.shift():-1}(n.item.disable),n.set("min",e.min).set("max",e.max).set("now"),s?n.set("select",s,{format:a}):n.set("select",null).set("highlight",n.item.now),n.key={40:7,38:-7,39:function(){return u()?-1:1},37:function(){return u()?1:-1},go:function(t){var e=n.item.highlight,r=new Date(e.year,e.month,e.date+t);n.set("highlight",r,{interval:t}),this.render()}},t.on("render",function(){t.$root.find("."+e.klass.selectMonth).on("change",function(){var n=this.value;n&&(t.set("highlight",[t.get("view").year,n,t.get("highlight").date]),t.$root.find("."+e.klass.selectMonth).trigger("focus"))}),t.$root.find("."+e.klass.selectYear).on("change",function(){var n=this.value;n&&(t.set("highlight",[n,t.get("view").month,t.get("highlight").date]),t.$root.find("."+e.klass.selectYear).trigger("focus"))})},1).on("open",function(){var r="";n.disabled(n.get("now"))&&(r=":not(."+e.klass.buttonToday+")"),t.$root.find("button"+r+", select").attr("disabled",!1)},1).on("close",function(){t.$root.find("button, select").attr("disabled",!0)},1)}var r=7,i=6,o=t._;n.prototype.set=function(t,e,n){var r=this,i=r.item;return null===e?("clear"==t&&(t="select"),i[t]=e,r):(i["enable"==t?"disable":"flip"==t?"enable":t]=r.queue[t].split(" ").map(function(i){return e=r[i](t,e,n)}).pop(),"select"==t?r.set("highlight",i.select,n):"highlight"==t?r.set("view",i.highlight,n):t.match(/^(flip|min|max|disable|enable)$/)&&(i.select&&r.disabled(i.select)&&r.set("select",i.select,n),i.highlight&&r.disabled(i.highlight)&&r.set("highlight",i.highlight,n)),r)},n.prototype.get=function(t){return this.item[t]},n.prototype.create=function(t,n,r){var i,s=this;return n=void 0===n?t:n,n==-(1/0)||n==1/0?i=n:e.isPlainObject(n)&&o.isInteger(n.pick)?n=n.obj:e.isArray(n)?(n=new Date(n[0],n[1],n[2]),n=o.isDate(n)?n:s.create().obj):n=o.isInteger(n)||o.isDate(n)?s.normalize(new Date(n),r):s.now(t,n,r),{year:i||n.getFullYear(),month:i||n.getMonth(),date:i||n.getDate(),day:i||n.getDay(),obj:i||n,pick:i||n.getTime()}},n.prototype.createRange=function(t,n){var r=this,i=function(t){return t===!0||e.isArray(t)||o.isDate(t)?r.create(t):t};return o.isInteger(t)||(t=i(t)),o.isInteger(n)||(n=i(n)),o.isInteger(t)&&e.isPlainObject(n)?t=[n.year,n.month,n.date+t]:o.isInteger(n)&&e.isPlainObject(t)&&(n=[t.year,t.month,t.date+n]),{from:i(t),to:i(n)}},n.prototype.withinRange=function(t,e){return t=this.createRange(t.from,t.to),e.pick>=t.from.pick&&e.pick<=t.to.pick},n.prototype.overlapRanges=function(t,e){var n=this;return t=n.createRange(t.from,t.to),e=n.createRange(e.from,e.to),n.withinRange(t,e.from)||n.withinRange(t,e.to)||n.withinRange(e,t.from)||n.withinRange(e,t.to)},n.prototype.now=function(t,e,n){return e=new Date,n&&n.rel&&e.setDate(e.getDate()+n.rel),this.normalize(e,n)},n.prototype.navigate=function(t,n,r){var i,o,s,a,u=e.isArray(n),c=e.isPlainObject(n),l=this.item.view;if(u||c){for(c?(o=n.year,s=n.month,a=n.date):(o=+n[0],s=+n[1],a=+n[2]),r&&r.nav&&l&&l.month!==s&&(o=l.year,s=l.month),i=new Date(o,s+(r&&r.nav?r.nav:0),1),o=i.getFullYear(),s=i.getMonth();new Date(o,s,a).getMonth()!==s;)a-=1;n=[o,s,a]}return n},n.prototype.normalize=function(t){return t.setHours(0,0,0,0),t},n.prototype.measure=function(t,e){var n=this;return e?"string"==typeof e?e=n.parse(t,e):o.isInteger(e)&&(e=n.now(t,e,{rel:e})):e="min"==t?-(1/0):1/0,e},n.prototype.viewset=function(t,e){return this.create([e.year,e.month,1])},n.prototype.validate=function(t,n,r){var i,s,a,u,c=this,l=n,p=r&&r.interval?r.interval:1,h=c.item.enable===-1,f=c.item.min,d=c.item.max,y=h&&c.item.disable.filter(function(t){if(e.isArray(t)){var r=c.create(t).pick;r<n.pick?i=!0:r>n.pick&&(s=!0)}return o.isInteger(t)}).length;if((!r||!r.nav)&&(!h&&c.disabled(n)||h&&c.disabled(n)&&(y||i||s)||!h&&(n.pick<=f.pick||n.pick>=d.pick)))for(h&&!y&&(!s&&p>0||!i&&p<0)&&(p*=-1);c.disabled(n)&&(Math.abs(p)>1&&(n.month<l.month||n.month>l.month)&&(n=l,p=p>0?1:-1),n.pick<=f.pick?(a=!0,p=1,n=c.create([f.year,f.month,f.date+(n.pick===f.pick?0:-1)])):n.pick>=d.pick&&(u=!0,p=-1,n=c.create([d.year,d.month,d.date+(n.pick===d.pick?0:1)])),!a||!u);)n=c.create([n.year,n.month,n.date+p]);return n},n.prototype.disabled=function(t){var n=this,r=n.item.disable.filter(function(r){return o.isInteger(r)?t.day===(n.settings.firstDay?r:r-1)%7:e.isArray(r)||o.isDate(r)?t.pick===n.create(r).pick:e.isPlainObject(r)?n.withinRange(r,t):void 0});return r=r.length&&!r.filter(function(t){return e.isArray(t)&&"inverted"==t[3]||e.isPlainObject(t)&&t.inverted}).length,n.item.enable===-1?!r:r||t.pick<n.item.min.pick||t.pick>n.item.max.pick},n.prototype.parse=function(t,e,n){var r=this,i={};return e&&"string"==typeof e?(n&&n.format||(n=n||{},n.format=r.settings.format),r.formats.toArray(n.format).map(function(t){var n=r.formats[t],s=n?o.trigger(n,r,[e,i]):t.replace(/^!/,"").length;n&&(i[t]=e.substr(0,s)),e=e.substr(s)}),[i.yyyy||i.yy,+(i.mm||i.m)-1,i.dd||i.d]):e},n.prototype.formats=function(){function t(t,e,n){var r=t.match(/\w+/)[0];return n.mm||n.m||(n.m=e.indexOf(r)+1),r.length}function e(t){return t.match(/\w+/)[0].length}return{d:function(t,e){return t?o.digits(t):e.date},dd:function(t,e){return t?2:o.lead(e.date)},ddd:function(t,n){return t?e(t):this.settings.weekdaysShort[n.day]},dddd:function(t,n){return t?e(t):this.settings.weekdaysFull[n.day]},m:function(t,e){return t?o.digits(t):e.month+1},mm:function(t,e){return t?2:o.lead(e.month+1)},mmm:function(e,n){var r=this.settings.monthsShort;return e?t(e,r,n):r[n.month]},mmmm:function(e,n){var r=this.settings.monthsFull;return e?t(e,r,n):r[n.month]},yy:function(t,e){return t?2:(""+e.year).slice(2)},yyyy:function(t,e){return t?4:e.year},toArray:function(t){return t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(t,e){var n=this;return n.formats.toArray(t).map(function(t){return o.trigger(n.formats[t],n,[0,e])||t.replace(/^!/,"")}).join("")}}}(),n.prototype.isDateExact=function(t,n){var r=this;return o.isInteger(t)&&o.isInteger(n)||"boolean"==typeof t&&"boolean"==typeof n?t===n:(o.isDate(t)||e.isArray(t))&&(o.isDate(n)||e.isArray(n))?r.create(t).pick===r.create(n).pick:!(!e.isPlainObject(t)||!e.isPlainObject(n))&&(r.isDateExact(t.from,n.from)&&r.isDateExact(t.to,n.to))},n.prototype.isDateOverlap=function(t,n){var r=this,i=r.settings.firstDay?1:0;return o.isInteger(t)&&(o.isDate(n)||e.isArray(n))?(t=t%7+i,t===r.create(n).day+1):o.isInteger(n)&&(o.isDate(t)||e.isArray(t))?(n=n%7+i,n===r.create(t).day+1):!(!e.isPlainObject(t)||!e.isPlainObject(n))&&r.overlapRanges(t,n)},n.prototype.flipEnable=function(t){var e=this.item;e.enable=t||(e.enable==-1?1:-1)},n.prototype.deactivate=function(t,n){var r=this,i=r.item.disable.slice(0);return"flip"==n?r.flipEnable():n===!1?(r.flipEnable(1),i=[]):n===!0?(r.flipEnable(-1),i=[]):n.map(function(t){for(var n,s=0;s<i.length;s+=1)if(r.isDateExact(t,i[s])){n=!0;break}n||(o.isInteger(t)||o.isDate(t)||e.isArray(t)||e.isPlainObject(t)&&t.from&&t.to)&&i.push(t)}),i},n.prototype.activate=function(t,n){var r=this,i=r.item.disable,s=i.length;return"flip"==n?r.flipEnable():n===!0?(r.flipEnable(1),i=[]):n===!1?(r.flipEnable(-1),i=[]):n.map(function(t){var n,a,u,c;for(u=0;u<s;u+=1){if(a=i[u],r.isDateExact(a,t)){n=i[u]=null,c=!0;break}if(r.isDateOverlap(a,t)){e.isPlainObject(t)?(t.inverted=!0,n=t):e.isArray(t)?(n=t,n[3]||n.push("inverted")):o.isDate(t)&&(n=[t.getFullYear(),t.getMonth(),t.getDate(),"inverted"]);break}}if(n)for(u=0;u<s;u+=1)if(r.isDateExact(i[u],t)){i[u]=null;break}if(c)for(u=0;u<s;u+=1)if(r.isDateOverlap(i[u],t)){i[u]=null;break}n&&i.push(n)}),i.filter(function(t){return null!=t})},n.prototype.nodes=function(t){var e=this,n=e.settings,s=e.item,a=s.now,u=s.select,c=s.highlight,l=s.view,p=s.disable,h=s.min,f=s.max,d=function(t,e){return n.firstDay&&(t.push(t.shift()),e.push(e.shift())),o.node("thead",o.node("tr",o.group({min:0,max:r-1,i:1,node:"th",item:function(r){return[t[r],n.klass.weekdays,'scope=col title="'+e[r]+'"']}})))}((n.showWeekdaysFull?n.weekdaysFull:n.weekdaysLetter).slice(0),n.weekdaysFull.slice(0)),y=function(t){return o.node("div"," ",n.klass["nav"+(t?"Next":"Prev")]+(t&&l.year>=f.year&&l.month>=f.month||!t&&l.year<=h.year&&l.month<=h.month?" "+n.klass.navDisabled:""),"data-nav="+(t||-1)+" "+o.ariaAttr({role:"button",controls:e.$node[0].id+"_table"})+' title="'+(t?n.labelMonthNext:n.labelMonthPrev)+'"')},m=function(r){var i=n.showMonthsShort?n.monthsShort:n.monthsFull;return"short_months"==r&&(i=n.monthsShort),n.selectMonths&&void 0==r?o.node("select",o.group({min:0,max:11,i:1,node:"option",item:function(t){return[i[t],0,"value="+t+(l.month==t?" selected":"")+(l.year==h.year&&t<h.month||l.year==f.year&&t>f.month?" disabled":"")]}}),n.klass.selectMonth+" browser-default",(t?"":"disabled")+" "+o.ariaAttr({controls:e.$node[0].id+"_table"})+' title="'+n.labelMonthSelect+'"'):"short_months"==r?null!=u?o.node("div",i[u.month]):o.node("div",i[l.month]):o.node("div",i[l.month],n.klass.month)},v=function(r){var i=l.year,s=n.selectYears===!0?5:~~(n.selectYears/2);if(s){var a=h.year,u=f.year,c=i-s,p=i+s;if(a>c&&(p+=a-c,c=a),u<p){var d=c-a,y=p-u;c-=d>y?y:d,p=u}if(n.selectYears&&void 0==r)return o.node("select",o.group({min:c,max:p,i:1,node:"option",item:function(t){return[t,0,"value="+t+(i==t?" selected":"")]}}),n.klass.selectYear+" browser-default",(t?"":"disabled")+" "+o.ariaAttr({controls:e.$node[0].id+"_table"})+' title="'+n.labelYearSelect+'"')}return"raw"==r?o.node("div",i):o.node("div",i,n.klass.year)};return createDayLabel=function(){return null!=u?o.node("div",u.date):o.node("div",a.date)},createWeekdayLabel=function(){var t;t=null!=u?u.day:a.day;var e=n.weekdaysFull[t];return e},o.node("div",o.node("div",createWeekdayLabel(),"picker__weekday-display")+o.node("div",m("short_months"),n.klass.month_display)+o.node("div",createDayLabel(),n.klass.day_display)+o.node("div",v("raw"),n.klass.year_display),n.klass.date_display)+o.node("div",o.node("div",(n.selectYears?m()+v():m()+v())+y()+y(1),n.klass.header)+o.node("table",d+o.node("tbody",o.group({min:0,max:i-1,i:1,node:"tr",item:function(t){var i=n.firstDay&&0===e.create([l.year,l.month,1]).day?-7:0;return[o.group({min:r*t-l.day+i+1,max:function(){return this.min+r-1},i:1,node:"td",item:function(t){t=e.create([l.year,l.month,t+(n.firstDay?1:0)]);var r=u&&u.pick==t.pick,i=c&&c.pick==t.pick,s=p&&e.disabled(t)||t.pick<h.pick||t.pick>f.pick,d=o.trigger(e.formats.toString,e,[n.format,t]);return[o.node("div",t.date,function(e){return e.push(l.month==t.month?n.klass.infocus:n.klass.outfocus),a.pick==t.pick&&e.push(n.klass.now),r&&e.push(n.klass.selected),i&&e.push(n.klass.highlighted),s&&e.push(n.klass.disabled),e.join(" ")}([n.klass.day]),"data-pick="+t.pick+" "+o.ariaAttr({role:"gridcell",label:d,selected:!(!r||e.$node.val()!==d)||null,activedescendant:!!i||null,disabled:!!s||null})),"",o.ariaAttr({role:"presentation"})]}})]}})),n.klass.table,'id="'+e.$node[0].id+'_table" '+o.ariaAttr({role:"grid",controls:e.$node[0].id,readonly:!0})),n.klass.calendar_container)+o.node("div",o.node("button",n.today,"btn-flat picker__today","type=button data-pick="+a.pick+(t&&!e.disabled(a)?"":" disabled")+" "+o.ariaAttr({controls:e.$node[0].id}))+o.node("button",n.clear,"btn-flat picker__clear","type=button data-clear=1"+(t?"":" disabled")+" "+o.ariaAttr({controls:e.$node[0].id}))+o.node("button",n.close,"btn-flat picker__close","type=button data-close=true "+(t?"":" disabled")+" "+o.ariaAttr({controls:e.$node[0].id})),n.klass.footer)},n.defaults=function(t){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysLetter:["S","M","T","W","T","F","S"],today:"Today",clear:"Clear",close:"Close",format:"d mmmm, yyyy",klass:{table:t+"table",header:t+"header",date_display:t+"date-display",day_display:t+"day-display",month_display:t+"month-display",year_display:t+"year-display",calendar_container:t+"calendar-container",navPrev:t+"nav--prev",navNext:t+"nav--next",navDisabled:t+"nav--disabled",month:t+"month",year:t+"year",selectMonth:t+"select--month",selectYear:t+"select--year",weekdays:t+"weekday",day:t+"day",disabled:t+"day--disabled",selected:t+"day--selected",highlighted:t+"day--highlighted",now:t+"day--today",infocus:t+"day--infocus",outfocus:t+"day--outfocus",footer:t+"footer",buttonClear:t+"button--clear",buttonToday:t+"button--today",buttonClose:t+"button--close"}}}(t.klasses().picker+"__"),t.extend("pickadate",n)}),function(t){function e(){var e=+t(this).attr("length"),n=+t(this).val().length,r=n<=e;t(this).parent().find('span[class="character-counter"]').html(n+"/"+e),i(r,t(this))}function n(e){var n=e.parent().find('span[class="character-counter"]');n.length||(n=t("<span/>").addClass("character-counter").css("float","right").css("font-size","12px").css("height",1),e.parent().append(n))}function r(){t(this).parent().find('span[class="character-counter"]').html("")}function i(t,e){var n=e.hasClass("invalid");t&&n?e.removeClass("invalid"):t||n||(e.removeClass("valid"),e.addClass("invalid"))}t.fn.characterCounter=function(){return this.each(function(){var i=t(this),o=i.parent().find('span[class="character-counter"]');if(!o.length){var s=void 0!==i.attr("length");s&&(i.on("input",e),i.on("focus",e),i.on("blur",r),n(i))}})},t(document).ready(function(){t("input, textarea").characterCounter()})}(i),function(t){var e={init:function(e){var n={time_constant:200,dist:-100,shift:0,padding:0,full_width:!1,indicators:!1,no_wrap:!1};return e=t.extend(n,e),this.each(function(){function n(){"undefined"!=typeof window.ontouchstart&&(I[0].addEventListener("touchstart",p),I[0].addEventListener("touchmove",h),I[0].addEventListener("touchend",f)),I[0].addEventListener("mousedown",p),I[0].addEventListener("mousemove",h),I[0].addEventListener("mouseup",f),I[0].addEventListener("mouseleave",f),I[0].addEventListener("click",c)}function r(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function i(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function o(t){return t>=b?t%b:t<0?o(b+t%b):t}function s(t){var n,r,i,s,a,u,c;if(m="number"==typeof t?t:m,v=Math.floor((m+_/2)/_),i=m-v*_,s=i<0?1:-1,a=-s*i*2/_,r=b>>1,e.full_width?c="translateX(0)":(c="translateX("+(I[0].clientWidth-item_width)/2+"px) ",c+="translateY("+(I[0].clientHeight-item_width)/2+"px)"),N){var l=v%b,p=R.find(".indicator-item.active");p.index()!==l&&(p.removeClass("active"),R.find(".indicator-item").eq(l).addClass("active"))}for((!e.no_wrap||v>=0&&v<b)&&(u=d[o(v)],u.style[P]=c+" translateX("+-i/2+"px) translateX("+s*e.shift*a*n+"px) translateZ("+e.dist*a+"px)",u.style.zIndex=0,e.full_width?tweenedOpacity=1:tweenedOpacity=1-.2*a,u.style.opacity=tweenedOpacity,u.style.display="block"),n=1;n<=r;++n)e.full_width?(zTranslation=e.dist,tweenedOpacity=n===r&&i<0?1-a:1):(zTranslation=e.dist*(2*n+a*s),tweenedOpacity=1-.2*(2*n+a*s)),(!e.no_wrap||v+n<b)&&(u=d[o(v+n)],u.style[P]=c+" translateX("+(e.shift+(_*n-i)/2)+"px) translateZ("+zTranslation+"px)",u.style.zIndex=-n,u.style.opacity=tweenedOpacity,u.style.display="block"),e.full_width?(zTranslation=e.dist,tweenedOpacity=n===r&&i>0?1-a:1):(zTranslation=e.dist*(2*n-a*s),tweenedOpacity=1-.2*(2*n-a*s)),(!e.no_wrap||v-n>=0)&&(u=d[o(v-n)],u.style[P]=c+" translateX("+(-e.shift+(-_*n-i)/2)+"px) translateZ("+zTranslation+"px)",u.style.zIndex=-n,u.style.opacity=tweenedOpacity,u.style.display="block");(!e.no_wrap||v>=0&&v<b)&&(u=d[o(v)],u.style[P]=c+" translateX("+-i/2+"px) translateX("+s*e.shift*a+"px) translateZ("+e.dist*a+"px)",u.style.zIndex=0,e.full_width?tweenedOpacity=1:tweenedOpacity=1-.2*a,u.style.opacity=tweenedOpacity,u.style.display="block")}function a(){var t,e,n,r;t=Date.now(),e=t-T,T=t,n=m-O,O=m,r=1e3*n/(1+e),x=.8*r+.2*x}function u(){var t,n;E&&(t=Date.now()-T,n=E*Math.exp(-t/e.time_constant),n>2||n<-2?(s(S-n),requestAnimationFrame(u)):s(S))}function c(n){if(M)return n.preventDefault(),n.stopPropagation(),!1;if(!e.full_width){var r=t(n.target).closest(".carousel-item").index(),i=v%b-r;0!==i&&(n.preventDefault(),n.stopPropagation()),l(r)}}function l(t){var n=v%b-t;e.no_wrap||(n<0?Math.abs(n+b)<Math.abs(n)&&(n+=b):n>0&&Math.abs(n-b)<n&&(n-=b)),n<0?I.trigger("carouselNext",[Math.abs(n)]):n>0&&I.trigger("carouselPrev",[n])}function p(t){g=!0,M=!1,k=!1,w=r(t),C=i(t),x=E=0,O=m,T=Date.now(),clearInterval(A),A=setInterval(a,100)}function h(t){var e,n,o;if(g)if(e=r(t),y=i(t),n=w-e,o=Math.abs(C-y),o<30&&!k)(n>2||n<-2)&&(M=!0,w=e,s(m+n));else{if(M)return t.preventDefault(),t.stopPropagation(),!1;k=!0}if(M)return t.preventDefault(),t.stopPropagation(),!1}function f(t){if(g)return g=!1,clearInterval(A),S=m,(x>10||x<-10)&&(E=.9*x,S=m+E),S=Math.round(S/_)*_,e.no_wrap&&(S>=_*(b-1)?S=_*(b-1):S<0&&(S=0)),E=S-m,T=Date.now(),requestAnimationFrame(u),M&&(t.preventDefault(),t.stopPropagation()),!1}var d,m,v,g,_,b,w,C,E,S,x,P,O,T,A,M,k,R=t('<ul class="indicators"></ul>'),I=t(this),N=I.attr("data-indicators")||e.indicators;if(I.hasClass("initialized"))return t(this).trigger("carouselNext",[1e-6]),!0;if(e.full_width){e.dist=0;var D=I.find(".carousel-item img").first();D.length?imageHeight=D.on("load",function(){I.css("height",t(this).height())}):(imageHeight=I.find(".carousel-item").first().height(),I.css("height",imageHeight)),N&&I.find(".carousel-fixed-item").addClass("with-indicators")}I.addClass("initialized"),g=!1,m=S=0,d=[],item_width=I.find(".carousel-item").first().innerWidth(),_=2*item_width+e.padding,I.find(".carousel-item").each(function(e){if(d.push(t(this)[0]),N){var n=t('<li class="indicator-item"></li>');0===e&&n.addClass("active"),n.click(function(){var e=t(this).index();l(e)}),R.append(n)}}),N&&I.append(R),b=d.length,P="transform",["webkit","Moz","O","ms"].every(function(t){var e=t+"Transform";return"undefined"==typeof document.body.style[e]||(P=e,!1)}),window.onresize=s,n(),s(m),t(this).on("carouselNext",function(t,e){void 0===e&&(e=1),S=m+_*e,m!==S&&(E=S-m,T=Date.now(),requestAnimationFrame(u))}),t(this).on("carouselPrev",function(t,e){void 0===e&&(e=1),S=m-_*e,m!==S&&(E=S-m,T=Date.now(),requestAnimationFrame(u))}),t(this).on("carouselSet",function(t,e){void 0===e&&(e=0),l(e)})})},next:function(e){t(this).trigger("carouselNext",[e])},prev:function(e){t(this).trigger("carouselPrev",[e])},set:function(e){t(this).trigger("carouselSet",[e])}};t.fn.carousel=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.carousel"):e.init.apply(this,arguments)}}(i),t.jQuery=i,t.Vel=o}(this),a()}),t.registerDynamic("10",["c"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=function(){function t(){this.name="Angular"}return t=r([o.Component({selector:"body",templateUrl:"./app/app.component.html"}),i("design:paramtypes",[])],t)}();e.AppComponent=s}),t.registerDynamic("11",["c"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=function(){function t(){}return t=r([o.Component({selector:"header",templateUrl:"./app/shared/header/header.html"}),i("design:paramtypes",[])],t)}();e.header=s}),t.registerDynamic("12",["c"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=function(){function t(){}return t=r([o.Component({selector:"footer",templateUrl:"./app/shared/footer/footer.html"}),i("design:paramtypes",[])],t)}();e.footer=s}),t.registerDynamic("13",["c"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=function(){function t(){}return t=r([o.Component({selector:"loader",templateUrl:"./app/shared/loader/loader.html",animations:[o.trigger("cardrole",[o.state("*",o.style({"-ms-transform":"translate3D(0px, 0px, 0px)","-webkit-transform":"translate3D(0px, 0px, 0px)","-moz-transform":"translate3D(0px, 0px, 0px)","-o-transform":"translate3D(0px, 0px, 0px)",transform:"translate3D(0px, 0px, 0px)",opacity:1})),o.transition("void => *",[o.style({opacity:0,"-ms-transform":"translate3D(0px, 150px, 0px)","-webkit-transform":"translate3D(0px, 150px, 0px)","-moz-transform":"translate3D(0px, 150px, 0px)","-o-transform":"translate3D(0px, 150px, 0px)",transform:"translate3D(0px, 150px, 0px)"}),o.animate("0.3s 0s ease-out")])])]}),i("design:paramtypes",[])],t)}();e.loader=s}),function(i,o){"object"==typeof n&&"undefined"!=typeof r?o(n,e("@angular/core"),e("rxjs/operator/toPromise"),e("rxjs/Subject"),e("rxjs/Observable"),e("rxjs/observable/fromPromise")):t.registerDynamic("14",["c","15","16","17","18"],!1,function(t,e,n){return"function"==typeof o?o.call(e,e,t("c"),t("15"),t("16"),t("17"),t("18")):o})}(this,function(t,e,n,r,i,o){"use strict";function s(t){return null!=t}function a(t){return null==t}function u(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function c(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function l(t){return!c(t)}function p(t){return null==t||0===t.length}function h(t){return z(t)?t:n.toPromise.call(t)}function f(t,e){return e.map(function(e){return e(t)})}function d(t,e){return e.map(function(e){return e(t)})}function y(t){var e=t.reduce(function(t,e){return s(e)?B.merge(t,e):t},{});return 0===Object.keys(e).length?null:e}function m(t){return t.validate?function(e){return t.validate(e)}:t}function v(t){return t.validate?function(e){return t.validate(e)}:t}function g(){throw new Error("unimplemented")}function _(t,e){return null==t?""+e:(l(e)||(e="Object"),(t+": "+e).slice(0,50))}function b(t){return t.split(":")[0]}function w(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),l(e)||(e="Object"),(t+": "+e).slice(0,50))}function C(t){return t.split(":")[0]}function E(t,e){return e.path.concat([t])}function S(t,e){t||T(e,"Cannot find control with"),e.valueAccessor||T(e,"No value accessor for form control with"),t.validator=$.compose([t.validator,e.validator]),t.asyncValidator=$.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),e.valueAccessor.registerOnChange(function(n){e.viewToModelUpdate(n),t.markAsDirty(),t.setValue(n,{emitModelToViewChange:!1})}),e.valueAccessor.registerOnTouched(function(){return t.markAsTouched()}),t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function x(t,e){e.valueAccessor.registerOnChange(function(){return O(e)}),e.valueAccessor.registerOnTouched(function(){return O(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}function P(t,e){a(t)&&T(e,"Cannot find control with"),t.validator=$.compose([t.validator,e.validator]),t.asyncValidator=$.composeAsync([t.asyncValidator,e.asyncValidator])}function O(t){return T(t,"There is no FormControl instance attached to form control element with")}function T(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function A(t){return s(t)?$.compose(t.map(m)):null}function M(t){return s(t)?$.composeAsync(t.map(v)):null}function k(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!u(e,n.currentValue)}function R(t){return yt.some(function(e){return t.constructor===e})}function I(t,e){if(!e)return null;var n,r,i;return e.forEach(function(e){e.constructor===J?n=e:R(e)?(r&&T(t,"More than one built-in value accessor matches form control with"),r=e):(i&&T(t,"More than one custom value accessor matches form control with"),i=e)}),i?i:r?r:n?n:(T(t,"No valid value accessor for form control with"),null)}function N(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(n)),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof Rt?t.controls[e]||null:t instanceof It?t.at(e)||null:null},t))}function D(t){return z(t)?o.fromPromise(t):t}function j(t){return Array.isArray(t)?A(t):t}function V(t){return Array.isArray(t)?M(t):t}function L(t){return!(t instanceof ne||t instanceof Jt||t instanceof ie)}var F=function(){function t(){}return Object.defineProperty(t.prototype,"control",{get:function(){throw new Error("unimplemented")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return void 0===e&&(e=null),!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return void 0===e&&(e=null),this.control?this.control.getError(t,e):null},t}(),U=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},H=function(t){function e(){t.apply(this,arguments)}return U(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(F),B=function(){function t(){}return t.merge=function(t,e){for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n[o]=t[o]}for(var s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];n[o]=e[o]}return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!==e[o])return!1}return!0},t}(),q=function(){function t(){}return t.findLast=function(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);r>-1&&t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.flatten=function(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t.flatten(n):n;return e.concat(r)},[])},t}(),z=e.__core_private__.isPromise,W=e.__core_private__.isObservable,G=new e.OpaqueToken("NgValidators"),X=new e.OpaqueToken("NgAsyncValidators"),$=function(){function t(){}return t.required=function(t){return p(t.value)?{required:!0}:null},t.requiredTrue=function(t){return t.value===!0?null:{required:!0}},t.minLength=function(t){return function(e){if(p(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){if(!e)return t.nullValidator;var n,r;return"string"==typeof e?(r="^"+e+"$",n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(p(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(s);return 0==e.length?null:function(t){return y(f(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(s);return 0==e.length?null:function(t){var n=d(t,e).map(h);return Promise.all(n).then(y)}},t}(),Q=new e.OpaqueToken("NgValueAccessor"),Y={provide:Q,useExisting:e.forwardRef(function(){return K}),multi:!0},K=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",t);
},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.decorators=[{type:e.Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[Y]}]}],t.ctorParameters=function(){return[{type:e.Renderer},{type:e.ElementRef}]},t}(),Z={provide:Q,useExisting:e.forwardRef(function(){return J}),multi:!0},J=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.decorators=[{type:e.Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Z]}]}],t.ctorParameters=function(){return[{type:e.Renderer},{type:e.ElementRef}]},t}(),tt={provide:Q,useExisting:e.forwardRef(function(){return et}),multi:!0},et=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.decorators=[{type:e.Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[tt]}]}],t.ctorParameters=function(){return[{type:e.Renderer},{type:e.ElementRef}]},t}(),nt=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},rt=function(t){function e(){t.apply(this,arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}return nt(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return g()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return g()},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){},e}(F),it={provide:Q,useExisting:e.forwardRef(function(){return st}),multi:!0},ot=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),st=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(rt),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t.decorators=[{type:e.Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[it]}]}],t.ctorParameters=function(){return[{type:e.Renderer},{type:e.ElementRef},{type:ot},{type:e.Injector}]},t.propDecorators={name:[{type:e.Input}],formControlName:[{type:e.Input}],value:[{type:e.Input}]},t}(),at={provide:Q,useExisting:e.forwardRef(function(){return ut}),multi:!0},ut=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.decorators=[{type:e.Directive,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[at]}]}],t.ctorParameters=function(){return[{type:e.Renderer},{type:e.ElementRef}]},t}(),ct={provide:Q,useExisting:e.forwardRef(function(){return lt}),multi:!0},lt=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setElementProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=_(e,t);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=n,t(e._getOptionValue(n))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(u(this._optionMap.get(r),t))return r}return null},t.prototype._getOptionValue=function(t){var e=b(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t.decorators=[{type:e.Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[ct]}]}],t.ctorParameters=function(){return[{type:e.Renderer},{type:e.ElementRef}]},t}(),pt=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(_(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setElementProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t.decorators=[{type:e.Directive,args:[{selector:"option"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer},{type:lt,decorators:[{type:e.Optional},{type:e.Host}]}]},t.propDecorators={ngValue:[{type:e.Input,args:["ngValue"]}],value:[{type:e.Input,args:["value"]}]},t}(),ht={provide:Q,useExisting:e.forwardRef(function(){return ft}),multi:!0},ft=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=this;this.value=t;var n;if(Array.isArray(t)){var r=t.map(function(t){return e._getOptionId(t)});n=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else n=function(t,e){t._setSelected(!1)};this._optionMap.forEach(n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=e._getOptionValue(s.value);r.push(a)}else for(var i=n.options,o=0;o<i.length;o++){var s=i.item(o);if(s.selected){var a=e._getOptionValue(s.value);r.push(a)}}e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(u(this._optionMap.get(r)._value,t))return r}return null},t.prototype._getOptionValue=function(t){var e=C(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t.decorators=[{type:e.Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[ht]}]}],t.ctorParameters=function(){return[{type:e.Renderer},{type:e.ElementRef}]},t}(),dt=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(w(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(w(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setElementProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setElementProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t.decorators=[{type:e.Directive,args:[{selector:"option"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer},{type:ft,decorators:[{type:e.Optional},{type:e.Host}]}]},t.propDecorators={ngValue:[{type:e.Input,args:["ngValue"]}],value:[{type:e.Input,args:["value"]}]},t}(),yt=[K,ut,et,lt,ft,st],mt=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},vt=function(t){function e(){t.apply(this,arguments)}return mt(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return E(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return A(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return M(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(H),gt=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},_t=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),bt={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},wt=function(t){function n(e){t.call(this,e)}return gt(n,t),n.decorators=[{type:e.Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:bt}]}],n.ctorParameters=function(){return[{type:rt,decorators:[{type:e.Self}]}]},n}(_t),Ct=function(t){function n(e){t.call(this,e)}return gt(n,t),n.decorators=[{type:e.Directive,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:bt}]}],n.ctorParameters=function(){return[{type:H,decorators:[{type:e.Self}]}]},n}(_t),Et=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},St=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this.__isAsync=e}return Et(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},s=function(){return null};return e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,s)},e}(r.Subject),xt=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Pt="VALID",Ot="INVALID",Tt="PENDING",At="DISABLED",Mt=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this._pristine=!0,this._touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this._status===Pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this._status===Ot},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this._status==Tt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._status===At},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._status!==At},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=j(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=V(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=!0,this._parent&&!e&&this._parent.markAsTouched({onlySelf:e})},t.prototype.markAsUntouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!e&&this._parent._updateTouched({onlySelf:e})},t.prototype.markAsDirty=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!1,this._parent&&!e&&this._parent.markAsDirty({onlySelf:e})},t.prototype.markAsPristine=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!0,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!e&&this._parent._updatePristine({onlySelf:e})},t.prototype.markAsPending=function(t){var e=(void 0===t?{}:t).onlySelf;this._status=Tt,this._parent&&!e&&this._parent.markAsPending({onlySelf:e})},t.prototype.disable=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;this._status=At,this._errors=null,this._forEachChild(function(t){t.disable({onlySelf:!0})}),this._updateValue(),r!==!1&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(n),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;this._status=Pt,this._forEachChild(function(t){t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r}),this._updateAncestors(n),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.setValue=function(t,e){},t.prototype.patchValue=function(t,e){},t.prototype.reset=function(t,e){},t.prototype.updateValueAndValidity=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;this._setInitialStatus(),this._updateValue(),this.enabled&&(this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!==Pt&&this._status!==Tt||this._runAsyncValidator(r)),r!==!1&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._parent&&!n&&this._parent.updateValueAndValidity({onlySelf:n,emitEvent:r})},t.prototype._updateTreeValidity=function(t){var e=(void 0===t?{emitEvent:!0}:t).emitEvent;this._forEachChild(function(t){return t._updateTreeValidity({emitEvent:e})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e})},t.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?At:Pt},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this._status=Tt,this._cancelExistingSubscription();var n=D(this.asyncValidator(this));if(!W(n))throw new Error("expected the following validator to return Promise or Observable: "+this.asyncValidator+". If you are using FormBuilder; did you forget to brace your validators in an array?");this._asyncValidationSubscription=n.subscribe({next:function(n){return e.setErrors(n,{emitEvent:t})}})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){var n=(void 0===e?{}:e).emitEvent;this._errors=t,this._updateControlsErrors(n!==!1)},t.prototype.get=function(t){return N(this,t,".")},t.prototype.getError=function(t,e){void 0===e&&(e=null);var n=e?this.get(e):this;return n&&n._errors?n._errors[t]:null},t.prototype.hasError=function(t,e){return void 0===e&&(e=null),!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this._status=this._calculateStatus(),t&&this._statusChanges.emit(this._status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this._valueChanges=new St,this._statusChanges=new St},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?At:this._errors?Ot:this._anyControlsHaveStatus(Tt)?Tt:this._anyControlsHaveStatus(Ot)?Ot:Pt},t.prototype._updateValue=function(){},t.prototype._forEachChild=function(t){},t.prototype._anyControls=function(t){},t.prototype._allControlsDisabled=function(){},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!this._anyControlsDirty(),this._parent&&!e&&this._parent._updatePristine({onlySelf:e})},t.prototype._updateTouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=this._anyControlsTouched(),this._parent&&!e&&this._parent._updateTouched({onlySelf:e})},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t}(),kt=function(t){function e(e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,j(n),V(r)),this._onChange=[],this._applyFormState(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return xt(e,t),e.prototype.setValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent,s=r.emitModelToViewChange,a=r.emitViewToModelChange;this._value=t,this._onChange.length&&s!==!1&&this._onChange.forEach(function(t){return t(n._value,a!==!1)}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null);var n=void 0===e?{}:e,r=n.onlySelf,i=n.emitEvent;this._applyFormState(t),this.markAsPristine({onlySelf:r}),this.markAsUntouched({onlySelf:r}),this.setValue(this._value,{onlySelf:r,emitEvent:i})},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this._value=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=t},e}(Mt),Rt=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this.controls=e,this._initObservables(),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return xt(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent;this._checkAllValuesPresent(t),Object.keys(t).forEach(function(e){n._throwIfControlMissing(e),n.controls[e].setValue(t[e],{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.patchValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent;Object.keys(t).forEach(function(e){n.controls[e]&&n.controls[e].patchValue(t[e],{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.reset=function(t,e){void 0===t&&(t={});var n=void 0===e?{}:e,r=n.onlySelf,i=n.emitEvent;this._forEachChild(function(e,n){e.reset(t[n],{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:r,emitEvent:i}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof kt?e.value:e.getRawValue(),t})},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this._value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(Mt),It=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this.controls=e,this._initObservables(),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return xt(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent;this._checkAllValuesPresent(t),t.forEach(function(t,e){n._throwIfControlMissing(e),n.at(e).setValue(t,{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.patchValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent;t.forEach(function(t,e){n.at(e)&&n.at(e).patchValue(t,{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.reset=function(t,e){void 0===t&&(t=[]);var n=void 0===e?{}:e,r=n.onlySelf,i=n.emitEvent;this._forEachChild(function(e,n){e.reset(t[n],{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:r,emitEvent:i}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof kt?t.value:t.getRawValue()})},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this._value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;
this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++){var n=e[t];if(n.enabled)return!1}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(Mt),Nt=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Dt={provide:H,useExisting:e.forwardRef(function(){return Vt})},jt=Promise.resolve(null),Vt=function(t){function n(e,n){t.call(this),this._submitted=!1,this.ngSubmit=new St,this.form=new Rt({},A(e),M(n))}return Nt(n,t),Object.defineProperty(n.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),n.prototype.addControl=function(t){var e=this;jt.then(function(){var n=e._findContainer(t.path);t._control=n.registerControl(t.name,t.control),S(t.control,t),t.control.updateValueAndValidity({emitEvent:!1})})},n.prototype.getControl=function(t){return this.form.get(t.path)},n.prototype.removeControl=function(t){var e=this;jt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},n.prototype.addFormGroup=function(t){var e=this;jt.then(function(){var n=e._findContainer(t.path),r=new Rt({});P(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},n.prototype.removeFormGroup=function(t){var e=this;jt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},n.prototype.getFormGroup=function(t){return this.form.get(t.path)},n.prototype.updateModel=function(t,e){var n=this;jt.then(function(){var r=n.form.get(t.path);r.setValue(e)})},n.prototype.setValue=function(t){this.control.setValue(t)},n.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},n.prototype.onReset=function(){this.resetForm()},n.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},n.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},n.decorators=[{type:e.Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[Dt],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],n.ctorParameters=function(){return[{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[G]}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[X]}]}]},n}(H),Lt={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; let i=index">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '},Ft=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+Lt.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+Lt.ngModelWithFormGroup)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+Lt.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+Lt.ngModelGroup)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+Lt.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+Lt.ngModelGroup)},t}(),Ut=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ht={provide:H,useExisting:e.forwardRef(function(){return Bt})},Bt=function(t){function n(e,n,r){t.call(this),this._parent=e,this._validators=n,this._asyncValidators=r}return Ut(n,t),n.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof Vt||Ft.modelGroupParentException()},n.decorators=[{type:e.Directive,args:[{selector:"[ngModelGroup]",providers:[Ht],exportAs:"ngModelGroup"}]}],n.ctorParameters=function(){return[{type:H,decorators:[{type:e.Host},{type:e.SkipSelf}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[G]}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[X]}]}]},n.propDecorators={name:[{type:e.Input,args:["ngModelGroup"]}]},n}(vt),qt=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},zt={provide:rt,useExisting:e.forwardRef(function(){return Gt})},Wt=Promise.resolve(null),Gt=function(t){function n(e,n,r,i){t.call(this),this._control=new kt,this._registered=!1,this.update=new St,this._parent=e,this._rawValidators=n||[],this._rawAsyncValidators=r||[],this.valueAccessor=I(this,i)}return qt(n,t),n.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),k(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},n.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(n.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._parent?E(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"validator",{get:function(){return A(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncValidator",{get:function(){return M(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),n.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},n.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},n.prototype._isStandalone=function(){return!this._parent||this.options&&this.options.standalone},n.prototype._setUpStandalone=function(){S(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},n.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},n.prototype._checkParentType=function(){!(this._parent instanceof Bt)&&this._parent instanceof vt?Ft.formGroupNameException():this._parent instanceof Bt||this._parent instanceof Vt||Ft.modelParentException()},n.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ft.missingNameException()},n.prototype._updateValue=function(t){var e=this;Wt.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},n.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Wt.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},n.decorators=[{type:e.Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[zt],exportAs:"ngModel"}]}],n.ctorParameters=function(){return[{type:H,decorators:[{type:e.Optional},{type:e.Host}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[G]}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[X]}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[Q]}]}]},n.propDecorators={name:[{type:e.Input}],isDisabled:[{type:e.Input,args:["disabled"]}],model:[{type:e.Input,args:["ngModel"]}],options:[{type:e.Input,args:["ngModelOptions"]}],update:[{type:e.Output,args:["ngModelChange"]}]},n}(rt),Xt=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Lt.formControlName)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+Lt.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+Lt.ngModelGroup)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Lt.formControlName)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Lt.formGroupName)},t.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+Lt.formArrayName)},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t}(),$t=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Qt={provide:rt,useExisting:e.forwardRef(function(){return Yt})},Yt=function(t){function n(e,n,r){t.call(this),this.update=new St,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=I(this,r)}return $t(n,t),Object.defineProperty(n.prototype,"isDisabled",{set:function(t){Xt.disabledAttrWarning()},enumerable:!0,configurable:!0}),n.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(S(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),k(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(n.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"validator",{get:function(){return A(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncValidator",{get:function(){return M(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),n.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},n.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},n.decorators=[{type:e.Directive,args:[{selector:"[formControl]",providers:[Qt],exportAs:"ngForm"}]}],n.ctorParameters=function(){return[{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[G]}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[X]}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[Q]}]}]},n.propDecorators={form:[{type:e.Input,args:["formControl"]}],model:[{type:e.Input,args:["ngModel"]}],update:[{type:e.Output,args:["ngModelChange"]}],isDisabled:[{type:e.Input,args:["disabled"]}]},n}(rt),Kt=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Zt={provide:H,useExisting:e.forwardRef(function(){return Jt})},Jt=function(t){function n(e,n){t.call(this),this._validators=e,this._asyncValidators=n,this._submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new St}return Kt(n,t),n.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(n.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),n.prototype.addControl=function(t){var e=this.form.get(t.path);return S(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},n.prototype.getControl=function(t){return this.form.get(t.path)},n.prototype.removeControl=function(t){q.remove(this.directives,t)},n.prototype.addFormGroup=function(t){var e=this.form.get(t.path);P(e,t),e.updateValueAndValidity({emitEvent:!1})},n.prototype.removeFormGroup=function(t){},n.prototype.getFormGroup=function(t){return this.form.get(t.path)},n.prototype.addFormArray=function(t){var e=this.form.get(t.path);P(e,t),e.updateValueAndValidity({emitEvent:!1})},n.prototype.removeFormArray=function(t){},n.prototype.getFormArray=function(t){return this.form.get(t.path)},n.prototype.updateModel=function(t,e){var n=this.form.get(t.path);n.setValue(e)},n.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},n.prototype.onReset=function(){this.resetForm()},n.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},n.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e._control!==n&&(x(e._control,e),n&&S(n,e),e._control=n)}),this.form._updateTreeValidity({emitEvent:!1})},n.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},n.prototype._updateValidators=function(){var t=A(this._validators);this.form.validator=$.compose([this.form.validator,t]);var e=M(this._asyncValidators);this.form.asyncValidator=$.composeAsync([this.form.asyncValidator,e])},n.prototype._checkFormPresent=function(){this.form||Xt.missingFormException()},n.decorators=[{type:e.Directive,args:[{selector:"[formGroup]",providers:[Zt],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],n.ctorParameters=function(){return[{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[G]}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[X]}]}]},n.propDecorators={form:[{type:e.Input,args:["formGroup"]}],ngSubmit:[{type:e.Output}]},n}(H),te=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ee={provide:H,useExisting:e.forwardRef(function(){return ne})},ne=function(t){function n(e,n,r){t.call(this),this._parent=e,this._validators=n,this._asyncValidators=r}return te(n,t),n.prototype._checkParentType=function(){L(this._parent)&&Xt.groupParentException()},n.decorators=[{type:e.Directive,args:[{selector:"[formGroupName]",providers:[ee]}]}],n.ctorParameters=function(){return[{type:H,decorators:[{type:e.Optional},{type:e.Host},{type:e.SkipSelf}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[G]}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[X]}]}]},n.propDecorators={name:[{type:e.Input,args:["formGroupName"]}]},n}(vt),re={provide:H,useExisting:e.forwardRef(function(){return ie})},ie=function(t){function n(e,n,r){t.call(this),this._parent=e,this._validators=n,this._asyncValidators=r}return te(n,t),n.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},n.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(n.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return E(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"validator",{get:function(){return A(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncValidator",{get:function(){return M(this._asyncValidators)},enumerable:!0,configurable:!0}),n.prototype._checkParentType=function(){L(this._parent)&&Xt.arrayParentException()},n.decorators=[{type:e.Directive,args:[{selector:"[formArrayName]",providers:[re]}]}],n.ctorParameters=function(){return[{type:H,decorators:[{type:e.Optional},{type:e.Host},{type:e.SkipSelf}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[G]}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[X]}]}]},n.propDecorators={name:[{type:e.Input,args:["formArrayName"]}]},n}(H),oe=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},se={provide:rt,useExisting:e.forwardRef(function(){return ae})},ae=function(t){function n(e,n,r,i){t.call(this),this._added=!1,this.update=new St,this._parent=e,this._rawValidators=n||[],this._rawAsyncValidators=r||[],this.valueAccessor=I(this,i)}return oe(n,t),Object.defineProperty(n.prototype,"isDisabled",{set:function(t){Xt.disabledAttrWarning()},enumerable:!0,configurable:!0}),n.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),k(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},n.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},n.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(n.prototype,"path",{get:function(){return E(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"validator",{get:function(){return A(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asyncValidator",{get:function(){return M(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),n.prototype._checkParentType=function(){!(this._parent instanceof ne)&&this._parent instanceof vt?Xt.ngModelGroupException():this._parent instanceof ne||this._parent instanceof Jt||this._parent instanceof ie||Xt.controlParentException()},n.prototype._setUpControl=function(){this._checkParentType(),this._control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},n.decorators=[{type:e.Directive,args:[{selector:"[formControlName]",providers:[se]}]}],n.ctorParameters=function(){return[{type:H,decorators:[{type:e.Optional},{type:e.Host},{type:e.SkipSelf}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[G]}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[X]}]},{type:Array,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[Q]}]}]},n.propDecorators={name:[{type:e.Input,args:["formControlName"]}],model:[{type:e.Input,args:["ngModel"]}],update:[{type:e.Output,args:["ngModelChange"]}],isDisabled:[{type:e.Input,args:["disabled"]}]},n}(rt),ue=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ce={provide:G,useExisting:e.forwardRef(function(){return pe}),multi:!0},le={provide:G,useExisting:e.forwardRef(function(){return he}),multi:!0},pe=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&t!==!1&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?$.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.decorators=[{type:e.Directive,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[ce],host:{"[attr.required]":'required ? "" : null'}}]}],t.ctorParameters=function(){return[]},t.propDecorators={required:[{type:e.Input}]},t}(),he=function(t){function n(){t.apply(this,arguments)}return ue(n,t),n.prototype.validate=function(t){return this.required?$.requiredTrue(t):null},n.decorators=[{type:e.Directive,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[le],host:{"[attr.required]":'required ? "" : null'}}]}],n.ctorParameters=function(){return[]},n}(pe),fe={provide:G,useExisting:e.forwardRef(function(){return de}),multi:!0},de=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=$.minLength(parseInt(this.minlength,10))},t.decorators=[{type:e.Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[fe],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],t.ctorParameters=function(){return[]},t.propDecorators={minlength:[{type:e.Input}]},t}(),ye={provide:G,useExisting:e.forwardRef(function(){return me}),multi:!0},me=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=$.maxLength(parseInt(this.maxlength,10))},t.decorators=[{type:e.Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[ye],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],t.ctorParameters=function(){return[]},t.propDecorators={maxlength:[{type:e.Input}]},t}(),ve={provide:G,useExisting:e.forwardRef(function(){return ge}),multi:!0},ge=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=$.pattern(this.pattern)},t.decorators=[{type:e.Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[ve],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],t.ctorParameters=function(){return[]},t.propDecorators={pattern:[{type:e.Input}]},t}(),_e=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t),r=s(e)?e.validator:null,i=s(e)?e.asyncValidator:null;return new Rt(n,r,i)},t.prototype.control=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),new kt(t,e,n)},t.prototype.array=function(t,e,n){var r=this;void 0===e&&(e=null),void 0===n&&(n=null);var i=t.map(function(t){return r._createControl(t)});return new It(i,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){if(t instanceof kt||t instanceof Rt||t instanceof It)return t;if(Array.isArray(t)){var e=t[0],n=t.length>1?t[1]:null,r=t.length>2?t[2]:null;return this.control(e,n,r)}return this.control(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),be=new e.Version("2.4.8"),we=[pt,dt,J,et,ut,K,lt,ft,st,wt,Ct,pe,de,me,ge,he],Ce=[Gt,Bt,Vt],Ee=[Yt,Jt,ae,ne,ie],Se=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:we,exports:we}]}],t.ctorParameters=function(){return[]},t}(),xe=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:Ce,providers:[ot],exports:[Se,Ce]}]}],t.ctorParameters=function(){return[]},t}(),Pe=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[Ee],providers:[_e,ot],exports:[Se,Ee]}]}],t.ctorParameters=function(){return[]},t}();t.AbstractControlDirective=F,t.AbstractFormGroupDirective=vt,t.CheckboxControlValueAccessor=K,t.ControlContainer=H,t.NG_VALUE_ACCESSOR=Q,t.DefaultValueAccessor=J,t.NgControl=rt,t.NgControlStatus=wt,t.NgControlStatusGroup=Ct,t.NgForm=Vt,t.NgModel=Gt,t.NgModelGroup=Bt,t.RadioControlValueAccessor=st,t.FormControlDirective=Yt,t.FormControlName=ae,t.FormGroupDirective=Jt,t.FormArrayName=ie,t.FormGroupName=ne,t.NgSelectOption=pt,t.SelectControlValueAccessor=lt,t.SelectMultipleControlValueAccessor=ft,t.CheckboxRequiredValidator=he,t.MaxLengthValidator=me,t.MinLengthValidator=de,t.PatternValidator=ge,t.RequiredValidator=pe,t.FormBuilder=_e,t.AbstractControl=Mt,t.FormArray=It,t.FormControl=kt,t.FormGroup=Rt,t.NG_ASYNC_VALIDATORS=X,t.NG_VALIDATORS=G,t.Validators=$,t.VERSION=be,t.FormsModule=xe,t.ReactiveFormsModule=Pe}),t.registerDynamic("19",["c"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=function(){function t(){this.src="/images/preloader.gif",this.width="16",this.alt="...",this.loading=!0}return t.prototype.onLoad=function(){this.loading=!1},r([o.Input(),i("design:type",String)],t.prototype,"src",void 0),r([o.Input(),i("design:type",String)],t.prototype,"width",void 0),r([o.Input(),i("design:type",String)],t.prototype,"alt",void 0),t=r([o.Component({selector:"image",templateUrl:"./app/shared/image/image.html"}),i("design:paramtypes",[])],t)}();e.ImageModule=s}),t.registerDynamic("1a",["1b","17","1c"],!0,function(t,e,n){"use strict";function r(t){var e=t[l.$$iterator];if(!e&&"string"==typeof t)return new h(t);if(!e&&void 0!==t.length)return new f(t);if(!e)throw new TypeError("object is not iterable");return t[l.$$iterator]()}function i(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=s(e)*Math.floor(Math.abs(e)),e<=0?0:e>d?d:e):e}function o(t){return"number"==typeof t&&u.root.isFinite(t)}function s(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var a=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=t("1b"),c=t("17"),l=t("1c"),p=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=r(e)}return a(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,r=t.iterator,i=t.subscriber;if(n)return void i.error(t.error);var o=r.next();return o.done?void i.complete():(i.next(o.value),t.index=e+1,i.closed?void("function"==typeof r.return&&r.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var n=0,r=this,i=r.iterator,o=r.scheduler;if(o)return o.schedule(e.dispatch,0,{index:n,iterator:i,subscriber:t});for(;;){var s=i.next();if(s.done){t.complete();break}if(t.next(s.value),t.closed){"function"==typeof i.return&&i.return();break}}},e}(c.Observable);e.IteratorObservable=p;var h=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),f=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=i(t)),
this.arr=t,this.idx=e,this.len=n}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1}),t.registerDynamic("1d",["17","1e","1f"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t("17"),o=t("1e"),s=t("1f"),a=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){var r=t.length;return 0===r?new s.EmptyObservable:1===r?new o.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.length,i=t.subscriber;if(!i.closed){if(n>=r)return void i.complete();i.next(e[n]),t.index=n+1,this.schedule(t)}},e.prototype._subscribe=function(t){var n=0,r=this,i=r.arrayLike,o=r.scheduler,s=i.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:i,index:n,length:s,subscriber:t});for(var a=0;a<s&&!t.closed;a++)t.next(i[a]);t.complete()},e}(i.Observable);e.ArrayLikeObservable=a}),t.registerDynamic("20",["17"],!0,function(t,e,n){"use strict";var r=(this||self,t("17")),i=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){var r=this.kind;switch(r){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=i}),t.registerDynamic("21",["22","20"],!0,function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=0),this.lift(new a(t,e))}var i=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=t("22"),s=t("20");e.observeOn=r;var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=a;var u=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return i(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n)},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},e}(o.Subscriber);e.ObserveOnSubscriber=u;var c=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=c}),t.registerDynamic("23",["24","25","26","1a","27","1d","1c","17","21","28"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t("24"),o=t("25"),s=t("26"),a=t("1a"),u=t("27"),c=t("1d"),l=t("1c"),p=t("17"),h=t("21"),f=t("28"),d=function(t){return t&&"number"==typeof t.length},y=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return r(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[f.$$observable])return t instanceof p.Observable&&!n?t:new e(t,n);if(i.isArray(t))return new u.ArrayObservable(t,n);if(o.isPromise(t))return new s.PromiseObservable(t,n);if("function"==typeof t[l.$$iterator]||"string"==typeof t)return new a.IteratorObservable(t,n);if(d(t))return new c.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[f.$$observable]().subscribe(t):e[f.$$observable]().subscribe(new h.ObserveOnSubscriber(t,n,0))},e}(p.Observable);e.FromObservable=y}),t.registerDynamic("29",["23"],!0,function(t,e,n){"use strict";var r=(this||self,t("23"));e.from=r.FromObservable.create}),t.registerDynamic("1e",["17"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t("17"),o=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,r=t.subscriber;return e?void r.complete():(r.next(n),void(r.closed||(t.done=!0,this.schedule(t))))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;return r?r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t}):(t.next(n),void(t.closed||t.complete()))},e}(i.Observable);e.ScalarObservable=o}),t.registerDynamic("1f",["17"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t("17"),o=function(t){function e(e){t.call(this),this.scheduler=e}return r(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){var e=t.subscriber;e.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;return n?n.schedule(e.dispatch,0,{subscriber:t}):void t.complete()},e}(i.Observable);e.EmptyObservable=o}),t.registerDynamic("2a",[],!0,function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}this||self;e.isScheduler=r}),t.registerDynamic("27",["17","1e","1f","2a"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t("17"),o=t("1e"),s=t("1f"),a=t("2a"),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];a.isScheduler(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.ScalarObservable(t[0],r):new s.EmptyObservable(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.count,i=t.subscriber;return n>=r?void i.complete():(i.next(e[n]),void(i.closed||(t.index=n+1,this.schedule(t))))},e.prototype._subscribe=function(t){var n=0,r=this.array,i=r.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:r,index:n,count:i,subscriber:t});for(var s=0;s<i&&!t.closed;s++)t.next(r[s]);t.complete()},e}(i.Observable);e.ArrayObservable=u}),t.registerDynamic("2b",["27"],!0,function(t,e,n){"use strict";var r=(this||self,t("27"));e.of=r.ArrayObservable.of}),t.registerDynamic("2c",["2d"],!0,function(t,e,n){"use strict";function r(t,e){return this.lift(new i.MergeMapOperator(t,e,1))}var i=(this||self,t("2d"));e.concatMap=r}),t.registerDynamic("2e",["22"],!0,function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e,this))}var i=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=t("22");e.every=r;var s=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg,this.source))},t}(),a=function(t){function e(e,n,r,i){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)}),t.registerDynamic("2f",["22","30"],!0,function(t,e,n){"use strict";function r(t,e,n){return this.lift(new a(t,e,n,this))}var i=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=t("22"),s=t("30");e.first=r;var a=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return i(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){return this.resultSelector?void this._tryResultSelector(t,e):void this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new s.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)}),t.registerDynamic("2d",["31","32"],!0,function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new a(t,e,n))}var i=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=t("31"),s=t("32");e.mergeMap=r;var a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=a;var u=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);e.MergeMapSubscriber=u}),t.registerDynamic("33",["22"],!0,function(t,e,n){"use strict";function r(t,e){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new s(t,e,n))}var i=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=t("22");e.reduce=r;var s=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}();e.ReduceOperator=s;var a=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this.hasSeed=i,this.hasValue=!1,this.acc=r}return i(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t)}catch(t){return void this.destination.error(t)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(o.Subscriber);e.ReduceSubscriber=a}),t.registerDynamic("34",["35"],!0,function(t,e,n){"use strict";function r(){return this.lift(new i.MergeAllOperator(1))}var i=(this||self,t("35"));e.concatAll=r}),t.registerDynamic("26",["1b","17"],!0,function(t,e,n){"use strict";function r(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function i(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}var o=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=t("1b"),a=t("17"),u=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return o(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){s.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(r,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(o.schedule(r,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(o.schedule(i,0,{err:e,subscriber:t}))}).then(null,function(t){s.root.setTimeout(function(){throw t})})},e}(a.Observable);e.PromiseObservable=u}),t.registerDynamic("18",["26"],!0,function(t,e,n){"use strict";var r=(this||self,t("26"));e.fromPromise=r.PromiseObservable.create}),t.registerDynamic("30",[],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.EmptyError=i}),t.registerDynamic("36",["22","30"],!0,function(t,e,n){"use strict";function r(t,e,n){return this.lift(new a(t,e,n,this))}var i=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=t("22"),s=t("30");e.last=r;var a=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof i&&(this.lastValue=i,this.hasValue=!0)}return i(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)}),t.registerDynamic("35",["32","31"],!0,function(t,e,n){"use strict";function r(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new a(t))}var i=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=t("32"),s=t("31");e.mergeAll=r;var a=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.concurrent))},t}();e.MergeAllOperator=a;var u=function(t){function e(e,n){t.call(this,e),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(s.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeAllSubscriber=u}),t.registerDynamic("37",["22"],!0,function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e))}var i=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=t("22");e.filter=r;var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0,this.predicate=n}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.Subscriber)}),function(i,o){"object"==typeof n&&"undefined"!=typeof r?o(n,e("@angular/common"),e("@angular/core"),e("rxjs/BehaviorSubject"),e("rxjs/Subject"),e("rxjs/observable/from"),e("rxjs/observable/of"),e("rxjs/operator/concatMap"),e("rxjs/operator/every"),e("rxjs/operator/first"),e("rxjs/operator/map"),e("rxjs/operator/mergeMap"),e("rxjs/operator/reduce"),e("rxjs/Observable"),e("rxjs/operator/catch"),e("rxjs/operator/concatAll"),e("rxjs/util/EmptyError"),e("rxjs/observable/fromPromise"),e("rxjs/operator/last"),e("rxjs/operator/mergeAll"),e("@angular/platform-browser"),e("rxjs/operator/filter")):t.registerDynamic("38",["39","c","3a","16","29","2b","2c","2e","2f","3b","2d","33","17","3c","34","30","18","36","35","e","37"],!1,function(t,e,n){return"function"==typeof o?o.call(e,e,t("39"),t("c"),t("3a"),t("16"),t("29"),t("2b"),t("2c"),t("2e"),t("2f"),t("3b"),t("2d"),t("33"),t("17"),t("3c"),t("34"),t("30"),t("18"),t("36"),t("35"),t("e"),t("37")):o})}(this,function(t,e,n,r,i,o,s,a,u,c,l,p,h,f,d,y,m,v,g,_,b,w){"use strict";function C(t,e,n){for(var r=n.path,i=r.split("/"),o={},s=[],a=0,u=0;u<i.length;++u){if(a>=t.length)return null;var c=t[a],l=i[u],p=l.startsWith(":");if(!p&&l!==c.path)return null;p&&(o[l.substring(1)]=c),s.push(c),a++}return"full"===n.pathMatch&&(e.hasChildren()||a<t.length)?null:{consumed:s,posParams:o}}function E(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!S(t[n],e[n]))return!1;return!0}function S(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}function x(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}function P(t){return t.length>0?t[t.length-1]:null}function O(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function T(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function A(t,e){var n=[],r={};if(T(t,function(t,i){i===Me&&n.push(l.map.call(e(i,t),function(t){return r[i]=t,t}))}),T(t,function(t,i){i!==Me&&n.push(l.map.call(e(i,t),function(t){return r[i]=t,t}))}),n.length>0){var i=y.concatAll.call(s.of.apply(void 0,n)),o=g.last.call(i);return l.map.call(o,function(){return r})}return s.of(r)}function M(t){var e=_.mergeAll.call(t);return u.every.call(e,function(t){return t===!0})}function k(t){return Te(t)?t:Oe(t)?v.fromPromise(t):s.of(t)}function R(){return new De(new je([],{}),{},null)}function I(t,e,n){return n?N(t.queryParams,e.queryParams)&&D(t.root,e.root):j(t.queryParams,e.queryParams)&&V(t.root,e.root)}function N(t,e){return S(t,e)}function D(t,e){if(!U(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!D(t.children[n],e.children[n]))return!1}return!0}function j(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}function V(t,e){return L(t,e,e.segments)}function L(t,e,n){if(t.segments.length>n.length){var r=t.segments.slice(0,n.length);return!!U(r,n)&&!e.hasChildren()}if(t.segments.length===n.length){if(!U(t.segments,n))return!1;for(var i in e.children){if(!t.children[i])return!1;if(!V(t.children[i],e.children[i]))return!1}return!0}var r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!U(t.segments,r)&&(!!t.children[Me]&&L(t.children[Me],e,o))}function F(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n){if(t[n].path!==e[n].path)return!1;if(!S(t[n].parameters,e[n].parameters))return!1}return!0}function U(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n].path!==e[n].path)return!1;return!0}function H(t,e){var n=[];return T(t.children,function(t,r){r===Me&&(n=n.concat(e(t,r)))}),T(t.children,function(t,r){r!==Me&&(n=n.concat(e(t,r)))}),n}function B(t){return t.segments.map(function(t){return G(t)}).join("/")}function q(t,e){if(t.hasChildren()&&e){var n=t.children[Me]?q(t.children[Me],!1):"",r=[];return T(t.children,function(t,e){e!==Me&&r.push(e+":"+q(t,!1))}),r.length>0?n+"("+r.join("//")+")":""+n}if(t.hasChildren()&&!e){var i=H(t,function(e,n){return n===Me?[q(t.children[Me],!1)]:[n+":"+q(e,!1)]});return B(t)+"/("+i.join("//")+")"}return B(t)}function z(t){return encodeURIComponent(t)}function W(t){return decodeURIComponent(t)}function G(t){return""+z(t.path)+X(t.parameters)}function X(t){return Q(t).map(function(t){return";"+z(t.first)+"="+z(t.second)}).join("")}function $(t){var e=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return z(e)+"="+z(t)}).join("&"):z(e)+"="+z(n)});return e.length?"?"+e.join("&"):""}function Q(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(new Ue(n,t[n]));return e}function Y(t){He.lastIndex=0;var e=t.match(He);return e?e[0]:""}function K(t){Be.lastIndex=0;var e=t.match(He);return e?e[0]:""}function Z(t){qe.lastIndex=0;var e=t.match(qe);return e?e[0]:""}function J(t){return new f.Observable(function(e){return e.error(new We(t))})}function tt(t){return new f.Observable(function(e){return e.error(new Ge(t))})}function et(t){return new f.Observable(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function nt(t){return new f.Observable(function(e){return e.error(new ke("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}function rt(t,e,n,r,i){return new Xe(t,e,n,r,i).apply()}function it(t,e){var n=e.canLoad;if(!n||0===n.length)return s.of(!0);var r=l.map.call(o.from(n),function(n){var r=t.get(n);return k(r.canLoad?r.canLoad(e):r(e))});return M(r)}function ot(t,e,n){var r={matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}};if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=e.matcher||C,o=i(n,t,e);return o?{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,positionalParamSegments:o.posParams}:r}function st(t,e,n,r){if(n.length>0&&lt(t,n,r)){var i=new je(e,ct(r,new je(n,t.children)));return{segmentGroup:at(i),slicedSegments:[]}}if(0===n.length&&pt(t,n,r)){var i=new je(t.segments,ut(t,n,r,t.children));return{segmentGroup:at(i),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}function at(t){if(1===t.numberOfChildren&&t.children[Me]){var e=t.children[Me];return new je(t.segments.concat(e.segments),e.children)}return t}function ut(t,e,n,r){for(var i={},o=0,s=n;o<s.length;o++){var a=s[o];ht(t,e,a)&&!r[ft(a)]&&(i[ft(a)]=new je([],{}))}return O(r,i)}function ct(t,e){var n={};n[Me]=e;for(var r=0,i=t;r<i.length;r++){var o=i[r];""===o.path&&ft(o)!==Me&&(n[ft(o)]=new je([],{}))}return n}function lt(t,e,n){return n.filter(function(n){return ht(t,e,n)&&ft(n)!==Me}).length>0}function pt(t,e,n){return n.filter(function(n){return ht(t,e,n)}).length>0}function ht(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function ft(t){return t.outlet?t.outlet:Me}function dt(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n],i=mt(e,r);yt(r,i)}}function yt(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n       \n      Example: \n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==Me)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){var n="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. "+n)}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&dt(t.children,e)}function mt(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function vt(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var i=r[n],o=vt(t,i);if(o)return o}return null}function gt(t,e,n){if(n.push(e),t===e.value)return n;for(var r=0,i=e.children;r<i.length;r++){var o=i[r],s=n.slice(0),a=gt(t,o,s);if(a.length>0)return a}return[]}function _t(t,e){var n=bt(t,e),i=new r.BehaviorSubject([new Ve("",{})]),o=new r.BehaviorSubject({}),s=new r.BehaviorSubject({}),a=new r.BehaviorSubject({}),u=new r.BehaviorSubject(""),c=new Ze(i,o,a,u,s,Me,e,n.root);return c.snapshot=n.root,new Ke(new Qe(c,[]),n)}function bt(t,e){var n={},r={},i={},o="",s=new Je([],n,i,o,r,Me,e,null,t.root,-1,{});return new tn("",new Qe(s,[]))}function wt(t){for(var e=t.pathFromRoot,n=e.length-1;n>=1;){var r=e[n],i=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(i.component)break;n--}}return e.slice(n).reduce(function(t,e){var n=O(t.params,e.params),r=O(t.data,e.data),i=O(t.resolve,e._resolvedData);return{params:n,data:r,resolve:i}},{params:{},data:{},resolve:{}})}function Ct(t,e){e.value._routerState=t,e.children.forEach(function(e){return Ct(t,e)})}function Et(t){var e=t.children.length>0?" { "+t.children.map(Et).join(", ")+" } ":"";return""+t.value+e}function St(t){if(t.snapshot){var e=t.snapshot;t.snapshot=t._futureSnapshot,S(e.queryParams,t._futureSnapshot.queryParams)||t.queryParams.next(t._futureSnapshot.queryParams),e.fragment!==t._futureSnapshot.fragment&&t.fragment.next(t._futureSnapshot.fragment),S(e.params,t._futureSnapshot.params)||t.params.next(t._futureSnapshot.params),E(e.url,t._futureSnapshot.url)||t.url.next(t._futureSnapshot.url),xt(e,t._futureSnapshot)||t.data.next(t._futureSnapshot.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function xt(t,e){return S(t.params,e.params)&&F(t.url,e.url)}function Pt(t,e,n){var r=Ot(t,e._root,n?n._root:void 0);return new Ke(r,e)}function Ot(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=At(t,e,n);return new Qe(r,i)}if(t.retrieve(e.value)){var o=t.retrieve(e.value).route;return Tt(e,o),o}var r=Mt(e.value),i=e.children.map(function(e){return Ot(t,e)});return new Qe(r,i)}function Tt(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)Tt(t.children[n],e.children[n])}function At(t,e,n){return e.children.map(function(e){for(var r=0,i=n.children;r<i.length;r++){var o=i[r];if(t.shouldReuseRoute(o.value.snapshot,e.value))return Ot(t,e,o)}return Ot(t,e)})}function Mt(t){return new Ze(new r.BehaviorSubject(t.url),new r.BehaviorSubject(t.params),new r.BehaviorSubject(t.queryParams),new r.BehaviorSubject(t.fragment),new r.BehaviorSubject(t.data),t.outlet,t.component,t)}function kt(t,e,n,r,i){if(0===n.length)return It(e.root,e.root,e,r,i);
var o=Dt(n);if(o.toRoot())return It(e.root,new je([],{}),e,r,i);var s=jt(o,e,t),a=s.processChildren?Ht(s.segmentGroup,s.index,o.commands):Ut(s.segmentGroup,s.index,o.commands);return It(s.segmentGroup,a,e,r,i)}function Rt(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function It(t,e,n,r,i){return n.root===t?new De(e,Wt(r),i):new De(Nt(n.root,t,e),Wt(r),i)}function Nt(t,e,n){var r={};return T(t.children,function(t,i){t===e?r[i]=n:r[i]=Nt(t,e,n)}),new je(t.segments,r)}function Dt(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new en(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return T(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):t.concat([r])},[]);return new en(n,e,r)}function jt(t,e,n){if(t.isAbsolute)return new nn(e.root,!0,0);if(n.snapshot._lastPathIndex===-1)return new nn(n.snapshot._urlSegment,!0,0);var r=Rt(t.commands[0])?0:1,i=n.snapshot._lastPathIndex+r;return Vt(n.snapshot._urlSegment,i,t.numberOfDoubleDots)}function Vt(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new nn(r,!1,i-o)}function Lt(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Me]:""+t}function Ft(t){return"object"!=typeof t[0]?(e={},e[Me]=t,e):void 0===t[0].outlets?(n={},n[Me]=t,n):t[0].outlets;var e,n}function Ut(t,e,n){if(t||(t=new je([],{})),0===t.segments.length&&t.hasChildren())return Ht(t,e,n);var r=Bt(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new je(t.segments.slice(0,r.pathIndex),{});return o.children[Me]=new je(t.segments.slice(r.pathIndex),t.children),Ht(o,0,i)}return r.match&&0===i.length?new je(t.segments,{}):r.match&&!t.hasChildren()?qt(t,e,n):r.match?Ht(t,0,i):qt(t,e,n)}function Ht(t,e,n){if(0===n.length)return new je(t.segments,{});var r=Ft(n),i={};return T(r,function(n,r){null!==n&&(i[r]=Ut(t.children[r],e,n))}),T(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new je(t.segments,i)}function Bt(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var s=t.segments[i],a=Lt(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Gt(a,u,s))return o;r+=2}else{if(!Gt(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function qt(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=zt(n[i].outlets);return new je(r,o)}if(0===i&&Rt(n[0])){var s=t.segments[e];r.push(new Ve(s.path,n[0])),i++}else{var a=Lt(n[i]),u=i<n.length-1?n[i+1]:null;a&&u&&Rt(u)?(r.push(new Ve(a,Wt(u))),i+=2):(r.push(new Ve(a,{})),i++)}}return new je(r,{})}function zt(t){var e={};return T(t,function(t,n){null!==t&&(e[n]=qt(new je([],{}),0,t))}),e}function Wt(t){var e={};return T(t,function(t,n){return e[n]=""+t}),e}function Gt(t,e,n){return t==n.path&&S(e,n.parameters)}function Xt(t,e,n,r){return new on(t,e,n,r).recognize()}function $t(t){t.sort(function(t,e){return t.value.outlet===Me?-1:e.value.outlet===Me?1:t.value.outlet.localeCompare(e.value.outlet)})}function Qt(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}function Yt(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new rn;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=e.matcher||C,i=r(n,t,e);if(!i)throw new rn;var o={};T(i.posParams,function(t,e){o[e]=t.path});var s=O(o,i.consumed[i.consumed.length-1].parameters);return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}function Kt(t){var e={};t.forEach(function(t){var n=e[t.value.outlet];if(n){var r=n.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}e[t.value.outlet]=t.value})}function Zt(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Jt(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function te(t,e,n,r){if(n.length>0&&re(t,n,r)){var i=new je(e,ne(t,e,r,new je(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&ie(t,n,r)){var i=new je(t.segments,ee(t,n,r,t.children));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}var i=new je(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function ee(t,e,n,r){for(var i={},o=0,s=n;o<s.length;o++){var a=s[o];if(oe(t,e,a)&&!r[se(a)]){var u=new je([],{});u._sourceSegment=t,u._segmentIndexShift=t.segments.length,i[se(a)]=u}}return O(r,i)}function ne(t,e,n,r){var i={};i[Me]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var o=0,s=n;o<s.length;o++){var a=s[o];if(""===a.path&&se(a)!==Me){var u=new je([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[se(a)]=u}}return i}function re(t,e,n){return n.filter(function(n){return oe(t,e,n)&&se(n)!==Me}).length>0}function ie(t,e,n){return n.filter(function(n){return oe(t,e,n)}).length>0}function oe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function se(t){return t.outlet?t.outlet:Me}function ae(t){return t.data?t.data:{}}function ue(t){return t.resolve?t.resolve:{}}function ce(t){throw t}function le(t){return s.of(null)}function pe(t){St(t.value),t.children.forEach(pe)}function he(t){for(var e=t.parent;e;){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null;e=e.parent}return null}function fe(t){if(!t)return null;for(var e=t.parent;e;){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;e=e.parent}return null}function de(t){return t?t.children.reduce(function(t,e){return t[e.value.outlet]=e,t},{}):{}}function ye(t,e){var n=t._outlets[e.outlet];if(!n){var r=e.component.name;throw e.outlet===Me?new Error("Cannot find primary outlet to load '"+r+"'"):new Error("Cannot find the outlet "+e.outlet+" to load '"+r+"'")}return n}function me(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}function ve(t){return""===t||!!t}function ge(){return new n.NgProbeToken("Router",yn)}function _e(t,n,r){return void 0===r&&(r={}),r.useHash?new e.HashLocationStrategy(t,n):new e.PathLocationStrategy(t,n)}function be(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function we(t){return[{provide:n.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:Re,multi:!0,useValue:t}]}function Ce(t,e,n,r,i,o,s,a,u,c,l){void 0===u&&(u={});var p=new yn(null,e,n,r,i,o,s,x(a));if(c&&(p.urlHandlingStrategy=c),l&&(p.routeReuseStrategy=l),u.errorHandler&&(p.errorHandler=u.errorHandler),u.enableTracing){var h=xn();p.events.subscribe(function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return p}function Ee(t){return t.routerState.root}function Se(t){return t.appInitializer.bind(t)}function xe(t){return t.bootstrapListener.bind(t)}function Pe(){return[Dn,{provide:n.APP_INITIALIZER,multi:!0,useFactory:Se,deps:[Dn]},{provide:jn,useFactory:xe,deps:[Dn]},{provide:n.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:jn}]}var Oe=n.__core_private__.isPromise,Te=n.__core_private__.isObservable,Ae=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Me="primary",ke=function(t){function e(e){t.call(this,e),this.message=e,this.stack=new Error(e).stack}return Ae(e,t),e.prototype.toString=function(){return this.message},e}(Error),Re=new n.OpaqueToken("ROUTES"),Ie=function(){function t(t,e,n,r){this.routes=t,this.injector=e,this.factoryResolver=n,this.injectorFactory=r}return t}(),Ne=function(){function t(t,e){this.loader=t,this.compiler=e}return t.prototype.load=function(t,e){return l.map.call(this.loadModuleFactory(e),function(e){var n=e.create(t),r=function(t){return e.create(t).injector};return new Ie(x(n.injector.get(Re)),n.injector,n.componentFactoryResolver,r)})},t.prototype.loadModuleFactory=function(t){var e=this;if("string"==typeof t)return v.fromPromise(this.loader.load(t));var r=this.compiler instanceof n.Compiler;return p.mergeMap.call(k(t()),function(t){return r?s.of(t):v.fromPromise(e.compiler.compileModuleAsync(t))})},t}(),De=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return t.prototype.toString=function(){return(new Fe).serialize(this)},t}(),je=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,T(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return B(this)},t}(),Ve=function(){function t(t,e){this.path=t,this.parameters=e}return t.prototype.toString=function(){return G(this)},t}(),Le=function(){function t(){}return t.prototype.parse=function(t){},t.prototype.serialize=function(t){},t}(),Fe=function(){function t(){}return t.prototype.parse=function(t){var e=new ze(t);return new De(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e="/"+q(t.root,!0),n=$(t.queryParams),r=null!==t.fragment&&void 0!==t.fragment?"#"+encodeURI(t.fragment):"";return""+e+n+r},t}(),Ue=function(){function t(t,e){this.first=t,this.second=e}return t}(),He=/^[^\/()?;=&#]+/,Be=/^[^=?&#]+/,qe=/^[^?&#]+/,ze=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.capture=function(t){if(!this.remaining.startsWith(t))throw new Error('Expected "'+t+'".');this.remaining=this.remaining.substring(t.length)},t.prototype.parseRootSegment=function(){return this.remaining.startsWith("/")&&this.capture("/"),""===this.remaining||this.remaining.startsWith("?")||this.remaining.startsWith("#")?new je([],{}):new je([],this.parseChildren())},t.prototype.parseChildren=function(){if(0==this.remaining.length)return{};this.peekStartsWith("/")&&this.capture("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegments());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegments());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Me]=new je(t,e)),n},t.prototype.parseSegments=function(){var t=Y(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");this.capture(t);var e={};return this.peekStartsWith(";")&&(e=this.parseMatrixParams()),new Ve(W(t),e)},t.prototype.parseQueryParams=function(){var t={};if(this.peekStartsWith("?"))for(this.capture("?"),this.parseQueryParam(t);this.remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(t);return t},t.prototype.parseFragment=function(){return this.peekStartsWith("#")?decodeURI(this.remaining.substring(1)):null},t.prototype.parseMatrixParams=function(){for(var t={};this.remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Y(this.remaining);if(e){this.capture(e);var n="";if(this.peekStartsWith("=")){this.capture("=");var r=Y(this.remaining);r&&(n=r,this.capture(n))}t[W(e)]=W(n)}},t.prototype.parseQueryParam=function(t){var e=K(this.remaining);if(e){this.capture(e);var n="";if(this.peekStartsWith("=")){this.capture("=");var r=Z(this.remaining);r&&(n=r,this.capture(n))}var i=W(e),o=W(n);if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.peekStartsWith(")")&&this.remaining.length>0;){var n=Y(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Me);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Me]:new je([],o),this.peekStartsWith("//")&&this.capture("//")}return this.capture(")"),e},t}(),We=function(){function t(t){void 0===t&&(t=null),this.segmentGroup=t}return t}(),Ge=function(){function t(t){this.urlTree=t}return t}(),Xe=function(){function t(t,e,n,r,i){this.injector=t,this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.injector,this.config,this.urlTree.root,Me),n=l.map.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return d._catch.call(n,function(e){if(e instanceof Ge)return t.allowRedirects=!1,t.match(e.urlTree);throw e instanceof We?t.noMatchError(e):e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.injector,this.config,t.root,Me),r=l.map.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return d._catch.call(r,function(t){throw t instanceof We?e.noMatchError(t):t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r=t.segments.length>0?new je([],(i={},i[Me]=t,i)):t;return new De(r,e,n);var i},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?l.map.call(this.expandChildren(t,e,n),function(t){return new je([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return A(n.children,function(n,i){return r.expandSegmentGroup(t,e,i,n)})},t.prototype.expandSegment=function(t,e,n,r,i,o){var a=this,u=s.of.apply(void 0,n),p=l.map.call(u,function(u){var c=a.expandSegmentAgainstRoute(t,e,n,u,r,i,o);return d._catch.call(c,function(t){if(t instanceof We)return s.of(null);throw t})}),h=y.concatAll.call(p),f=c.first.call(h,function(t){return!!t});return d._catch.call(f,function(t,n){if(t instanceof m.EmptyError){if(a.noLeftoversInUrl(e,r,i))return s.of(new je([],{}));throw new We(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,s){return ft(r)!==o?J(e):void 0===r.redirectTo||s&&this.allowRedirects?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):J(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?tt(o):p.mergeMap.call(this.lineralizeSegments(n,o),function(n){var o=new je(n,{});return i.expandSegment(t,o,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var s=this,a=ot(e,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return J(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?tt(f):p.mergeMap.call(this.lineralizeSegments(r,f),function(r){return s.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?l.map.call(this.configLoader.load(t,n.loadChildren),function(t){return n._loadedConfig=t,new je(r,{})}):s.of(new je(r,{}));var o=ot(e,n,r),a=o.matched,u=o.consumedSegments,c=o.lastChild;if(!a)return J(e);var h=r.slice(c),f=this.getChildConfig(t,n);return p.mergeMap.call(f,function(t){var n=t.injector,r=t.routes,o=st(e,u,h,r),a=o.segmentGroup,c=o.slicedSegments;if(0===c.length&&a.hasChildren()){var p=i.expandChildren(n,r,a);return l.map.call(p,function(t){return new je(u,t)})}if(0===r.length&&0===c.length)return s.of(new je(u,{}));var p=i.expandSegment(n,a,r,c,Me,!0);return l.map.call(p,function(t){return new je(u.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?s.of(new Ie(e.children,t,null,null)):e.loadChildren?p.mergeMap.call(it(t,e),function(r){return r?e._loadedConfig?s.of(e._loadedConfig):l.map.call(n.configLoader.load(t,e.loadChildren),function(t){return e._loadedConfig=t,t}):nt(e)}):s.of(new Ie([],t,null,null))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return s.of(n);if(r.numberOfChildren>1||!r.children[Me])return et(t.redirectTo);r=r.children[Me]}},t.prototype.applyRedirectCommands=function(t,e,n){this.urlSerializer.parse(e);return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new De(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return T(t,function(t,r){t.startsWith(":")?n[r]=e[t.substring(1)]:n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),s={};return T(e.children,function(e,o){s[o]=i.createSegmentGroup(t,e,n,r)}),new je(o,s)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];if(o.path===t.path)return e.splice(n),o;n++}return t},t}(),$e=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=vt(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=vt(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=gt(t,this._root,[]);if(e.length<2)return[];var n=e[e.length-2].children.map(function(t){return t.value});return n.filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return gt(t,this._root,[]).map(function(t){return t.value})},t}(),Qe=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),Ye=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ke=function(t){function e(e,n){t.call(this,e),this.snapshot=n,Ct(this,e)}return Ye(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}($e),Ze=function(){function t(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),Je=function(){function t(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var t=this.url.map(function(t){return t.toString()}).join("/"),e=this._routeConfig?this._routeConfig.path:"";return"Route(url:'"+t+"', path:'"+e+"')"},t}(),tn=function(t){function e(e,n){t.call(this,n),this.url=e,Ct(this,n)}return Ye(e,t),e.prototype.toString=function(){return Et(this._root)},e}($e),en=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Rt(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==P(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),nn=function(){function t(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}return t}(),rn=function(){function t(){}return t}(),on=function(){function t(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}return t.prototype.recognize=function(){try{var t=te(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Me),n=new Je([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Me,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Qe(n,e),i=new tn(this.url,r);return this.inheriteParamsAndData(i._root),s.of(i)}catch(t){return new f.Observable(function(e){return e.error(t)})}},t.prototype.inheriteParamsAndData=function(t){var e=this,n=t.value,r=wt(n);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheriteParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n=this,r=H(e,function(e,r){return n.processSegmentGroup(t,e,r)});return Kt(r),$t(r),r},t.prototype.processSegment=function(t,e,n,r){for(var i=0,o=t;i<o.length;i++){var s=o[i];try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(t){if(!(t instanceof rn))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new rn},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new rn;if((t.outlet?t.outlet:Me)!==r)throw new rn;if("**"===t.path){var i=n.length>0?P(n).parameters:{},o=new Je(n,i,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,ae(t),r,t.component,t,Zt(e),Jt(e)+n.length,ue(t));return[new Qe(o,[])]}var s=Yt(e,t,n),a=s.consumedSegments,u=s.parameters,c=s.lastChild,l=n.slice(c),p=Qt(t),h=te(e,a,l,p),f=h.segmentGroup,d=h.slicedSegments,y=new Je(a,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,ae(t),r,t.component,t,Zt(e),Jt(e)+a.length,ue(t));if(0===d.length&&f.hasChildren()){var m=this.processChildren(p,f);return[new Qe(y,m)]}if(0===p.length&&0===d.length)return[new Qe(y,[])];var m=this.processSegment(p,f,d,Me);return[new Qe(y,m)]},t}(),sn=function(){function t(){this._outlets={}}return t.prototype.registerOutlet=function(t,e){this._outlets[t]=e},t.prototype.removeOutlet=function(t){this._outlets[t]=void 0},t}(),an=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){},t.prototype.extract=function(t){},t.prototype.merge=function(t,e){},t}(),un=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}(),cn=function(){function t(t,e){this.id=t,this.url=e}return t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}(),ln=function(){function t(t,e,n){this.id=t,this.url=e,this.urlAfterRedirects=n}return t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(),pn=function(){function t(t,e,n){this.id=t,this.url=e,this.reason=n}return t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(),hn=function(){function t(t,e,n){this.id=t,this.url=e,this.error=n}return t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(),fn=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),dn=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),yn=function(){function t(t,e,n,o,s,a,u,c){this.rootComponentType=t,this.urlSerializer=e,this.outletMap=n,this.location=o,this.injector=s,this.config=c,this.navigations=new r.BehaviorSubject(null),this.routerEvents=new i.Subject,this.navigationId=0,this.errorHandler=ce,this.navigated=!1,this.hooks={beforePreactivation:le,afterPreactivation:le},this.urlHandlingStrategy=new un,this.routeReuseStrategy=new dn,this.resetConfig(c),this.currentUrlTree=R(),this.rawUrlTree=this.currentUrlTree,this.configLoader=new Ne(a,u),this.currentRouterState=_t(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.currentRouterState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url),r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),t.prototype.resetConfig=function(t){dt(t),this.config=t},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){var n=void 0===e?{}:e,r=n.relativeTo,i=n.queryParams,o=n.fragment,s=n.preserveQueryParams,a=n.preserveFragment,u=r||this.routerState.root,c=s?this.currentUrlTree.queryParams:i,l=a?this.currentUrlTree.fragment:o;return kt(u,this.currentUrlTree,t,c,l)},t.prototype.navigateByUrl=function(t,e){if(void 0===e&&(e={skipLocationChange:!1}),t instanceof De)return this.scheduleNavigation(this.urlHandlingStrategy.merge(t,this.rawUrlTree),"imperative",e);var n=this.urlSerializer.parse(t);return this.scheduleNavigation(this.urlHandlingStrategy.merge(n,this.rawUrlTree),"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),me(t),"object"==typeof e.queryParams&&null!==e.queryParams&&(e.queryParams=this.removeEmptyProps(e.queryParams)),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof De)return I(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return I(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;a.concatMap.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):s.of(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return null;if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return null;var i=null,o=null,s=new Promise(function(t,e){i=t,o=e}),a=++this.navigationId;return this.navigations.next({id:a,source:e,rawUrl:t,extras:n,resolve:i,reject:o,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,s=t.reject,a=this.urlHandlingStrategy.extract(r),u=!this.navigated||a.toString()!==this.currentUrlTree.toString();u&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.routerEvents.next(new cn(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,r,i.skipLocationChange,i.replaceUrl,n,null)}).then(o,s)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.routerEvents.next(new cn(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,r,!1,!1,n,_t(a,e.rootComponentType).snapshot)}).then(o,s)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,n,r,i,o){var a=this;return i!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new pn(i,this.serializeUrl(t),"Navigation ID "+i+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(u,c){var h;if(o)h=s.of({appliedUrl:t,snapshot:o});else{var f=rt(a.injector,a.configLoader,a.urlSerializer,t,a.config);h=p.mergeMap.call(f,function(e){return l.map.call(Xt(a.rootComponentType,a.config,e,a.serializeUrl(e)),function(n){
return a.routerEvents.next(new fn(i,a.serializeUrl(t),a.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var d,y,m=p.mergeMap.call(h,function(t){return l.map.call(a.hooks.beforePreactivation(t.snapshot),function(){return t})}),v=l.map.call(m,function(t){var e=t.appliedUrl,n=t.snapshot;return d=new gn(n,a.currentRouterState.snapshot,a.injector),d.traverse(a.outletMap),{appliedUrl:e,snapshot:n}}),g=p.mergeMap.call(v,function(t){var e=t.appliedUrl,n=t.snapshot;return a.navigationId!==i?s.of(!1):l.map.call(d.checkGuards(),function(t){return{appliedUrl:e,snapshot:n,shouldActivate:t}})}),_=p.mergeMap.call(g,function(t){return a.navigationId!==i?s.of(!1):t.shouldActivate?l.map.call(d.resolveData(),function(){return t}):s.of(t)}),b=p.mergeMap.call(_,function(t){return l.map.call(a.hooks.afterPreactivation(t.snapshot),function(){return t})}),w=l.map.call(b,function(t){var e=t.appliedUrl,n=t.snapshot,r=t.shouldActivate;if(r){var i=Pt(a.routeReuseStrategy,n,a.currentRouterState);return{appliedUrl:e,state:i,shouldActivate:r}}return{appliedUrl:e,state:null,shouldActivate:r}}),C=a.currentRouterState,E=a.currentUrlTree;w.forEach(function(t){var o=t.appliedUrl,s=t.state,u=t.shouldActivate;if(!u||i!==a.navigationId)return void(y=!1);if(a.currentUrlTree=o,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.currentRouterState=s,!n){var c=a.urlSerializer.serialize(a.rawUrlTree);a.location.isCurrentPathEqualTo(c)||r?a.location.replaceState(c):a.location.go(c)}new _n(a.routeReuseStrategy,s,C).activate(a.outletMap),y=!0}).then(function(){y?(a.navigated=!0,a.routerEvents.next(new ln(i,a.serializeUrl(t),a.serializeUrl(a.currentUrlTree))),u(!0)):(a.resetUrlToCurrentUrlTree(),a.routerEvents.next(new pn(i,a.serializeUrl(t),"")),u(!1))},function(n){if(n instanceof ke)a.resetUrlToCurrentUrlTree(),a.navigated=!0,a.routerEvents.next(new pn(i,a.serializeUrl(t),n.message)),u(!1);else{a.routerEvents.next(new hn(i,a.serializeUrl(t),n));try{u(a.errorHandler(n))}catch(t){c(t)}}a.currentRouterState=C,a.currentUrlTree=E,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.location.replaceState(a.serializeUrl(a.rawUrlTree))})})},t.prototype.resetUrlToCurrentUrlTree=function(){var t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)},t}(),mn=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),vn=function(){function t(t,e){this.component=t,this.route=e}return t}(),gn=function(){function t(t,e,n){this.future=t,this.curr=e,this.injector=n,this.checks=[]}return t.prototype.traverse=function(t){var e=this.future._root,n=this.curr?this.curr._root:null;this.traverseChildRoutes(e,n,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(0===this.checks.length)return s.of(!0);var e=o.from(this.checks),n=p.mergeMap.call(e,function(e){if(e instanceof mn)return M(o.from([t.runCanActivateChild(e.path),t.runCanActivate(e.route)]));if(e instanceof vn){var n=e;return t.runCanDeactivate(n.component,n.route)}throw new Error("Cannot be reached")});return u.every.call(n,function(t){return t===!0})},t.prototype.resolveData=function(){var t=this;if(0===this.checks.length)return s.of(null);var e=o.from(this.checks),n=a.concatMap.call(e,function(e){return e instanceof mn?t.runResolve(e.route):s.of(null)});return h.reduce.call(n,function(t,e){return t})},t.prototype.traverseChildRoutes=function(t,e,n,r){var i=this,o=de(e);t.children.forEach(function(t){i.traverseRoutes(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),T(o,function(t,e){return i.deactiveRouteAndItsChildren(t,n._outlets[e])})},t.prototype.traverseRoutes=function(t,e,n,r){var i=t.value,o=e?e.value:null,s=n?n._outlets[t.value.outlet]:null;o&&i._routeConfig===o._routeConfig?(xt(i,o)?(i.data=o.data,i._resolvedData=o._resolvedData):this.checks.push(new vn(s.component,o),new mn(r)),i.component?this.traverseChildRoutes(t,e,s?s.outletMap:null,r):this.traverseChildRoutes(t,e,n,r)):(o&&this.deactiveRouteAndItsChildren(e,s),this.checks.push(new mn(r)),i.component?this.traverseChildRoutes(t,null,s?s.outletMap:null,r):this.traverseChildRoutes(t,null,n,r))},t.prototype.deactiveRouteAndItsChildren=function(t,e){var n=this,r=de(t),i=t.value;T(r,function(t,r){i.component?e?n.deactiveRouteAndItsChildren(t,e.outletMap._outlets[r]):n.deactiveRouteAndItsChildren(t,null):n.deactiveRouteAndItsChildren(t,e)}),i.component&&e&&e.isActivated?this.checks.push(new vn(e.component,i)):this.checks.push(new vn(null,i))},t.prototype.runCanActivate=function(t){var e=this,n=t._routeConfig?t._routeConfig.canActivate:null;if(!n||0===n.length)return s.of(!0);var r=l.map.call(o.from(n),function(n){var r,i=e.getToken(n,t);return r=k(i.canActivate?i.canActivate(t,e.future):i(t,e.future)),c.first.call(r)});return M(r)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return M(l.map.call(o.from(r),function(t){var r=l.map.call(o.from(t.guards),function(r){var i,o=e.getToken(r,t.node);return i=k(o.canActivateChild?o.canActivateChild(n,e.future):o(n,e.future)),c.first.call(i)});return M(r)}))},t.prototype.extractCanActivateChild=function(t){var e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e._routeConfig?e._routeConfig.canDeactivate:null;if(!r||0===r.length)return s.of(!0);var i=p.mergeMap.call(o.from(r),function(r){var i,o=n.getToken(r,e);return i=k(o.canDeactivate?o.canDeactivate(t,e,n.curr):o(t,e,n.curr)),c.first.call(i)});return u.every.call(i,function(t){return t===!0})},t.prototype.runResolve=function(t){var e=t._resolve;return l.map.call(this.resolveNode(e,t),function(e){return t._resolvedData=e,t.data=O(t.data,wt(t).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this;return A(t,function(t,r){var i=n.getToken(r,e);return k(i.resolve?i.resolve(e,n.future):i(e,n.future))})},t.prototype.getToken=function(t,e){var n=fe(e),r=n?n.injector:this.injector;return r.get(t)},t}(),_n=function(){function t(t,e,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=n}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),St(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=de(e);t.children.forEach(function(t){r.deactivateRoutes(t,i[t.value.outlet],n),delete i[t.value.outlet]}),T(i,function(t,e){return r.deactiveRouteAndItsChildren(t,n)})},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=de(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=ye(n,r);this.deactivateChildRoutes(t,e,o.outletMap)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactiveRouteAndItsChildren(e,n)},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(St(r),r.component){var o=ye(n,r);this.activateChildRoutes(t,e,o.outletMap)}else this.activateChildRoutes(t,e,n);else if(r.component){St(r);var o=ye(n,t.value);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.attach(s.componentRef,s.route.value),pe(s.route)}else{var a=new sn;this.placeComponentIntoOutlet(a,r,o),this.activateChildRoutes(t,null,a)}}else St(r),this.activateChildRoutes(t,null,n)},t.prototype.placeComponentIntoOutlet=function(t,e,r){var i=[{provide:Ze,useValue:e},{provide:sn,useValue:t}],o=he(e.snapshot),s=null,a=null;o?(a=o.injectorFactory(r.locationInjector),s=o.factoryResolver,i.push({provide:n.ComponentFactoryResolver,useValue:s})):(a=r.locationInjector,s=r.locationFactoryResolver),r.activate(e,s,a,n.ReflectiveInjector.resolve(i),t)},t.prototype.deactiveRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactiveRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=ye(e,t.value),r=n.detach();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t})},t.prototype.deactiveRouteAndOutlet=function(t,e){var n=this,r=de(t),i=null;try{i=ye(e,t.value)}catch(t){return}var o=i.outletMap;T(r,function(r,i){t.value.component?n.deactiveRouteAndItsChildren(r,o):n.deactiveRouteAndItsChildren(r,e)}),i&&i.isActivated&&i.deactivate()},t}(),bn=function(){function t(t,e){this.router=t,this.route=e,this.commands=[]}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){null!=t?this.commands=Array.isArray(t)?t:[t]:this.commands=[]},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:ve(this.skipLocationChange),replaceUrl:ve(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ve(this.preserveQueryParams),preserveFragment:ve(this.preserveFragment)})},enumerable:!0,configurable:!0}),t.decorators=[{type:n.Directive,args:[{selector:":not(a)[routerLink]"}]}],t.ctorParameters=function(){return[{type:yn},{type:Ze}]},t.propDecorators={queryParams:[{type:n.Input}],fragment:[{type:n.Input}],preserveQueryParams:[{type:n.Input}],preserveFragment:[{type:n.Input}],skipLocationChange:[{type:n.Input}],replaceUrl:[{type:n.Input}],routerLink:[{type:n.Input}],onClick:[{type:n.HostListener,args:["click"]}]},t}(),wn=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof ln&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){null!=t?this.commands=Array.isArray(t)?t:[t]:this.commands=[]},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n){if(0!==t||e||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var r={skipLocationChange:ve(this.skipLocationChange),replaceUrl:ve(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,r),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ve(this.preserveQueryParams),preserveFragment:ve(this.preserveFragment)})},enumerable:!0,configurable:!0}),t.decorators=[{type:n.Directive,args:[{selector:"a[routerLink]"}]}],t.ctorParameters=function(){return[{type:yn},{type:Ze},{type:e.LocationStrategy}]},t.propDecorators={target:[{type:n.HostBinding,args:["attr.target"]},{type:n.Input}],queryParams:[{type:n.Input}],fragment:[{type:n.Input}],preserveQueryParams:[{type:n.Input}],preserveFragment:[{type:n.Input}],skipLocationChange:[{type:n.Input}],replaceUrl:[{type:n.Input}],href:[{type:n.HostBinding}],routerLink:[{type:n.Input}],onClick:[{type:n.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]},t}(),Cn=function(){function t(t,e,n,r){var i=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.active=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof ln&&i.update()})}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var e=this.hasActiveLinks();this.active!==e&&(this.active=e,this.classes.forEach(function(n){return t.renderer.setElementClass(t.element.nativeElement,n,e)}),this.cdr.detectChanges())}},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t.decorators=[{type:n.Directive,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],t.ctorParameters=function(){return[{type:yn},{type:n.ElementRef},{type:n.Renderer},{type:n.ChangeDetectorRef}]},t.propDecorators={links:[{type:n.ContentChildren,args:[bn,{descendants:!0}]}],linksWithHrefs:[{type:n.ContentChildren,args:[wn,{descendants:!0}]}],routerLinkActiveOptions:[{type:n.Input}],routerLinkActive:[{type:n.Input}]},t}(),En=function(){function t(t,e,r,i){this.parentOutletMap=t,this.location=e,this.resolver=r,this.name=i,this.activateEvents=new n.EventEmitter,this.deactivateEvents=new n.EventEmitter,t.registerOutlet(i?i:Me,this)}return t.prototype.ngOnDestroy=function(){this.parentOutletMap.removeOutlet(this.name?this.name:Me)},Object.defineProperty(t.prototype,"locationInjector",{get:function(){return this.location.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationFactoryResolver",{get:function(){return this.resolver},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activate=function(t,e,r,i,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this.outletMap=o,this._activatedRoute=t;var s=t._futureSnapshot,a=s._routeConfig.component,u=e.resolveComponentFactory(a),c=n.ReflectiveInjector.fromResolvedProviders(i,r);this.activated=this.location.createComponent(u,this.location.length,c,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},t.decorators=[{type:n.Directive,args:[{selector:"router-outlet"}]}],t.ctorParameters=function(){return[{type:sn},{type:n.ViewContainerRef},{type:n.ComponentFactoryResolver},{type:void 0,decorators:[{type:n.Attribute,args:["name"]}]}]},t.propDecorators={activateEvents:[{type:n.Output,args:["activate"]}],deactivateEvents:[{type:n.Output,args:["deactivate"]}]},t}(),Sn=function(){function t(){}return t.prototype.shouldDetach=function(t){},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){},t.prototype.retrieve=function(t){},t.prototype.shouldReuseRoute=function(t,e){},t}(),xn=b.__platform_browser_private__.getDOM,Pn=function(){function t(){}return t.prototype.preload=function(t,e){},t}(),On=function(){function t(){}return t.prototype.preload=function(t,e){return d._catch.call(e(),function(){return s.of(null)})},t}(),Tn=function(){function t(){}return t.prototype.preload=function(t,e){return s.of(null)},t}(),An=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ne(e,n)}return t.prototype.setUpPreloading=function(){var t=this,e=w.filter.call(this.router.events,function(t){return t instanceof ln});this.subscription=a.concatMap.call(e,function(){return t.preload()}).subscribe(function(t){})},t.prototype.preload=function(){return this.processRoutes(this.injector,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var a=s._loadedConfig;n.push(this.processRoutes(a.injector,a.routes))}else s.loadChildren&&!s.canLoad?n.push(this.preloadConfig(t,s)):s.children&&n.push(this.processRoutes(t,s.children))}return _.mergeAll.call(o.from(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var r=n.loader.load(t,e.loadChildren);return p.mergeMap.call(r,function(t){var r=e;return r._loadedConfig=t,n.processRoutes(t.injector,t.routes)})})},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:yn},{type:n.NgModuleFactoryLoader},{type:n.Compiler},{type:n.Injector},{type:Pn}]},t}(),Mn=[En,bn,wn,Cn],kn=new n.OpaqueToken("ROUTER_CONFIGURATION"),Rn=new n.OpaqueToken("ROUTER_FORROOT_GUARD"),In=[e.Location,{provide:Le,useClass:Fe},{provide:yn,useFactory:Ce,deps:[n.ApplicationRef,Le,sn,e.Location,n.Injector,n.NgModuleFactoryLoader,n.Compiler,Re,kn,[an,new n.Optional],[Sn,new n.Optional]]},sn,{provide:Ze,useFactory:Ee,deps:[yn]},{provide:n.NgModuleFactoryLoader,useClass:n.SystemJsNgModuleLoader},An,Tn,On,{provide:kn,useValue:{enableTracing:!1}}],Nn=function(){function t(t){}return t.forRoot=function(r,i){return{ngModule:t,providers:[In,we(r),{provide:Rn,useFactory:be,deps:[[yn,new n.Optional,new n.SkipSelf]]},{provide:kn,useValue:i?i:{}},{provide:e.LocationStrategy,useFactory:_e,deps:[e.PlatformLocation,[new n.Inject(e.APP_BASE_HREF),new n.Optional],kn]},{provide:Pn,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Tn},{provide:n.NgProbeToken,multi:!0,useFactory:ge},Pe()]}},t.forChild=function(e){return{ngModule:t,providers:[we(e)]}},t.decorators=[{type:n.NgModule,args:[{declarations:Mn,exports:Mn}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[Rn]}]}]},t}(),Dn=function(){function t(t){this.injector=t,this.resultOfPreactivationDone=new i.Subject}return t.prototype.appInitializer=function(){var t=this,n=this.injector.get(e.LOCATION_INITIALIZED,Promise.resolve(null));return n.then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(yn),i=t.injector.get(kn);return i.initialNavigation===!1?r.setUpLocationChangeListener():(r.hooks.afterPreactivation=function(){return t.initNavigation?s.of(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()),n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(n.ApplicationRef);if(t===e.components[0]){var r=this.injector.get(An);r.setUpPreloading();var i=this.injector.get(yn);i.resetRootComponentType(e.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete()}},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:n.Injector}]},t}(),jn=new n.OpaqueToken("Router Initializer"),Vn=new n.Version("3.4.8"),Ln={ROUTER_PROVIDERS:In,ROUTES:Re,flatten:x};t.RouterLink=bn,t.RouterLinkWithHref=wn,t.RouterLinkActive=Cn,t.RouterOutlet=En,t.RouteReuseStrategy=Sn,t.NavigationCancel=pn,t.NavigationEnd=ln,t.NavigationError=hn,t.NavigationStart=cn,t.Router=yn,t.RoutesRecognized=fn,t.ROUTER_CONFIGURATION=kn,t.ROUTER_INITIALIZER=jn,t.RouterModule=Nn,t.provideRoutes=we,t.RouterOutletMap=sn,t.NoPreloading=Tn,t.PreloadAllModules=On,t.PreloadingStrategy=Pn,t.RouterPreloader=An,t.ActivatedRoute=Ze,t.ActivatedRouteSnapshot=Je,t.RouterState=Ke,t.RouterStateSnapshot=tn,t.PRIMARY_OUTLET=Me,t.UrlHandlingStrategy=an,t.DefaultUrlSerializer=Fe,t.UrlSegment=Ve,t.UrlSegmentGroup=je,t.UrlSerializer=Le,t.UrlTree=De,t.VERSION=Vn,t.__router_private__=Ln}),t.registerDynamic("3d",["c","3e","3f","38"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=t("3e"),a=t("3f"),u=t("38"),c=function(){function t(t,e){this._parentRouter=t,this._authservice=e,this.OTP=!1,this.model=[],this.updatemodel=[],this.last=!1,this.onebtnText="Next",this.isloading=!1}return t.prototype.ngOnInit=function(){},t.prototype.userRegister=function(t){var e=this;this.onebtnText="Loading...",this.isloading=!0,this._authservice.Register(t).subscribe(function(n){0==n.status?(e.isloading=!1,e.onebtnText="Next",e.updatemodel=t,e.OTP=!0,a.toast("OTP sent to "+t.phone+" .",3e3)):0==n.status?(e.onebtnText="Next",a.toast("Please check all fields",3e3)):(e.onebtnText="Next",a.toast(n.errors[0].description),e.isloading=!1)},function(t){"401"===t?(e.handleError(t),e.onebtnText="Next"):a.toast(t.errors[0].description),e.isloading=!1,e.onebtnText="Next"})},t.prototype.putUser=function(t){var e=this;this.isloading=!0,this._authservice.putUser(t).subscribe(function(t){0==t.status?(a.toast("Succesully Registerd...",3e3),e.last=!0,e.isloading=!1):(a.toast(t.message,3e3),e.isloading=!1)},function(t){a.toast(t,3e3),e.isloading=!1})},t.prototype.sendOTP=function(t){var e=this;return t&&void 0!==t.phone?(this.isloading=!0,void this._authservice.sendotp(t).subscribe(function(t){0==t.status?(a.toast("OTP Sent Check your Inbox",300),e.isloading=!1):(a.toast(t.message,300),e.isloading=!1)},function(t){a.toast(t,300),e.isloading=!1})):(a.toast("Enter your number",300),!1)},t.prototype.isOTP=function(){this.OTP=!1},t.prototype.handleError=function(t){var e=this;"401"==t?this._authservice.refreshLogin().subscribe(function(t){localStorage.setItem("auth_key",t.access_token),localStorage.setItem("refresh_key",t.refresh_token),e.isloading=!1,e._parentRouter.navigate(["/"])},function(t){a.toast(t.error),localStorage.removeItem("auth_key"),localStorage.removeItem("refresh_key"),e._parentRouter.navigate(["/"]),e.isloading=!1}):(a.toast(t.error),this.isloading=!1)},t=r([o.Component({selector:"registration",templateUrl:"./app/account/registration/registration.html",animations:[o.trigger("cardauth",[o.state("*",o.style({"-ms-transform":"translate3D(0px, 0px, 0px)","-webkit-transform":"translate3D(0px, 0px, 0px)","-moz-transform":"translate3D(0px, 0px, 0px)","-o-transform":"translate3D(0px, 0px, 0px)",transform:"translate3D(0px, 0px, 0px)",opacity:1})),o.transition("void => *",[o.style({opacity:0,"-ms-transform":"translate3D(0px, 150px, 0px)","-webkit-transform":"translate3D(0px, 150px, 0px)","-moz-transform":"translate3D(0px, 150px, 0px)","-o-transform":"translate3D(0px, 150px, 0px)",transform:"translate3D(0px, 150px, 0px)"}),o.animate("0.3s 0s ease-out")])])]}),i("design:paramtypes",[u.Router,s.authservice])],t)}();e.registration=c}),t.registerDynamic("40",["c","39","38","11","12","13","14","41","e","19","3d"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=t("39"),a=t("38"),u=t("11"),c=t("12"),l=t("13"),p=t("14"),h=t("41"),f=t("e"),d=t("19"),y=t("3d"),m=function(){function t(){}return t=r([o.NgModule({imports:[f.BrowserModule,p.FormsModule,h.HttpModule,a.RouterModule,s.CommonModule],declarations:[u.header,c.footer,l.loader,d.ImageModule],exports:[u.header,c.footer,l.loader]}),i("design:paramtypes",[])],t)}();e.SharedModule=m,e.MODULE_ROUTES=[{path:"",pathMatch:"full",component:y.registration}],e.routing=a.RouterModule.forRoot(e.MODULE_ROUTES)}),t.registerDynamic("42",["c","39","38","3d","14","41","e","40"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=t("39"),a=t("38"),u=t("3d"),c=t("14"),l=t("41"),p=t("e"),h=t("40"),f=function(){function t(){}return t=r([o.NgModule({imports:[p.BrowserModule,c.FormsModule,l.HttpModule,h.SharedModule,a.RouterModule,s.CommonModule],declarations:[u.registration],exports:[u.registration]}),i("design:paramtypes",[])],t)}();e.AccountModule=f}),t.registerDynamic("43",[],!0,function(t,e,n){"use strict";function r(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n={bubbles:!1,cancelable:!1});var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n.bubbles,n.cancelable,e),r}this||self;e.CustomEvent=r,"Event"in window&&(r.prototype=window.Event.prototype)}),t.registerDynamic("44",["c","43"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=t("43"),a=function(){function t(t){this._el=t,this._params=null,this._functionName=null,this.previousValue=null,this._waitFunction={},this.changeListenerShouldBeAdded=!0,this.init=new o.EventEmitter,this.initialized=!1}return Object.defineProperty(t.prototype,"materializeParams",{set:function(t){this._params=t,this.performElementUpdates()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"materializeActions",{set:function(t){var e=this;t.subscribe(function(t){"string"==typeof t?e.performLocalElementUpdates(t):e.performLocalElementUpdates(t.action,t.params)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"materialize",{set:function(t){this._functionName=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"materializeSelectOptions",{set:function(t){},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.performElementUpdates()},t.prototype.ngOnChanges=function(t){var e=this;this.isSelect()&&setTimeout(function(){return e.performLocalElementUpdates()},10)},t.prototype.ngOnDestroy=function(){this.performElementRemotion()},t.prototype.ngDoCheck=function(){var t=this._el.nativeElement,e=$(t);return this.isSelect()&&!e.attr("multiple")&&t.value!=this.previousValue?(this.previousValue=t.value,this.performLocalElementUpdates()):this.isTextarea()&&t.value!=this.previousValue&&(this.previousValue=t.value,this.performElementUpdates()),!1},t.prototype.performElementRemotion=function(){if(this.isTooltip()){var t=this._el.nativeElement,e=$(t),n=e.attr("data-tooltip-id");n&&$("#"+n).remove()}},t.prototype.performElementUpdates=function(){var t=this;if(Materialize&&Materialize.updateTextFields&&Materialize.updateTextFields(),this.isSelect()&&this.changeListenerShouldBeAdded){var e=this._el.nativeElement,n=$(e);n.on("change",function(t){if(!t.originalEvent||!t.originalEvent.internalToMaterialize){var n=document.createEvent("CustomEvent");n.initCustomEvent("change",!1,!1,void 0),n.internalToMaterialize=!0,e.dispatchEvent(n)}}),this.changeListenerShouldBeAdded=!1}if(this.isAutocomplete()){var r=this._el.nativeElement,n=$(r);n.on("change",function(t){return r.dispatchEvent(s.CustomEvent("input"))})}if(this.isDatePicker()){var i=this._el.nativeElement,o=$(i);this.enableDPButtons;o.on("change",function(t){return i.dispatchEvent(s.CustomEvent("input"))});var a=o[this._functionName].apply(o,this._params),u=a.pickadate("picker");o.mousedown(function(){return u.set.apply(u,["select",o.val()].concat(t._params))})}if(this.isTimePicker()){var c=this._el.nativeElement,n=$(c);n.on("change",function(t){return c.dispatchEvent(s.CustomEvent("input"))})}if(this.isChips()){var l=this._el.nativeElement,n=$(l);n.on("chip.add",function(t,e){return l.dispatchEvent(s.CustomEvent("chip.add",e))}),n.on("chip.delete",function(t,e){return l.dispatchEvent(s.CustomEvent("chip.delete",e))}),n.on("chip.select",function(t,e){return l.dispatchEvent(s.CustomEvent("chip.select",e))})}this.isTextarea()&&this._el.nativeElement.dispatchEvent(s.CustomEvent("autoresize",{bubbles:!0,cancelable:!1,detail:void 0})),this.performLocalElementUpdates()},t.prototype.performLocalElementUpdates=function(t,e){var n=this;void 0===t&&(t=this._functionName),void 0===e&&(e=this._params),this._waitFunction[t]||(this._waitFunction[t]=!0,$(document).ready(function(){if(n._waitFunction[t]=!1,t){var r=$(n._el.nativeElement);if(r[t])if(e){if(!(e instanceof Array))throw new Error("Params has to be an array.");r[t].apply(r,e)}else r[t]();else{if(!Materialize[t])throw new Error("Couldn't find materialize function ''"+t+"' on element or the global Materialize object.");if(e){if(!(e instanceof Array))throw new Error("Params has to be an array.");Materialize[t].apply(Materialize,e)}else Materialize[t]()}n.initialized||(n.initialized=!0,n.init.emit())}}))},t.prototype.isTooltip=function(){return this._functionName&&"tooltip"===this._functionName},t.prototype.isSelect=function(){return this._functionName&&"material_select"===this._functionName},t.prototype.isDatePicker=function(){return this._functionName&&"pickadate"===this._functionName},t.prototype.isTimePicker=function(){return this._functionName&&"pickatime"===this._functionName},t.prototype.isChips=function(){return this._functionName&&"material_chip"===this._functionName},t.prototype.isAutocomplete=function(){return this._functionName&&"autocomplete"===this._functionName},t.prototype.isTextarea=function(){return"TEXTAREA"==this._el.nativeElement.nodeName},t.prototype.enableDPButtons=function(){$(".picker__clear").removeAttr("disabled"),$(".picker__today").removeAttr("disabled"),$(".picker__close").removeAttr("disabled"),$(".picker__select--year").removeAttr("disabled"),$(".picker__select--month").removeAttr("disabled")},t}();r([o.Output(),i("design:type",Object)],a.prototype,"init",void 0),r([o.Input(),i("design:type",Object),i("design:paramtypes",[Object])],a.prototype,"materializeParams",null),r([o.Input(),i("design:type",o.EventEmitter),i("design:paramtypes",[o.EventEmitter])],a.prototype,"materializeActions",null),r([o.Input(),i("design:type",String),i("design:paramtypes",[String])],a.prototype,"materialize",null),r([o.Input(),i("design:type",Object),i("design:paramtypes",[Object])],a.prototype,"materializeSelectOptions",null),
a=r([o.Directive({selector:"[materialize]"}),i("design:paramtypes",[o.ElementRef])],a),e.MaterializeDirective=a}),t.registerDynamic("45",["c","39","44"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=t("c"),o=t("39"),s=t("44"),a=function(){function t(){}return t}();a=r([i.NgModule({declarations:[s.MaterializeDirective],imports:[o.CommonModule],exports:[s.MaterializeDirective]})],a),e.MaterializeModule=a}),t.registerDynamic("3f",["44","45"],!0,function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Materialize.toast.apply(Materialize,t)}var i=(this||self,t("44"));e.MaterializeDirective=i.MaterializeDirective;var o=t("45");if(e.MaterializeModule=o.MaterializeModule,!("Materialize"in window))throw new Error("Couldn't find Materialize object on window. It is created by the materialize-css library. Please import materialize-css before importing angular2-materialize.");if(!("Waves"in window))throw new Error("Couldn't find Waves object on window. It is supposed to be created by the materialize-css library. Please import materialize-css before importing angular2-materialize.");Waves.displayEffect(),e.toast=r}),function(i,o){"object"==typeof n&&"undefined"!=typeof r?o(n,e("@angular/core")):t.registerDynamic("39",["c"],!1,function(t,e,n){return"function"==typeof o?o.call(e,e,t("c")):o})}(this,function(t,e){"use strict";function n(t){return t.name||typeof t}function r(t){return null!=t}function i(t){return null==t}function o(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString(),n=e.indexOf("\n");return n===-1?e:e.substring(0,n)}function s(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function a(){if(!V)if(M.Symbol&&Symbol.iterator)V=Symbol.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),e=0;e<t.length;++e){var n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(V=n)}return V}function u(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}function c(t){return t.replace(/\/index.html$/,"")}function l(t,e,n){var r="="+t;if(e.indexOf(r)>-1)return r;if(r=n.getPluralCategory(t),e.indexOf(r)>-1)return r;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}function p(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,s=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0,u=t.split("-")[0].toLowerCase();switch(u){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?G.One:G.Other;case"agq":case"bas":case"cu":case"dav":case"dje":case"dua":case"dyo":case"ebu":case"ewo":case"guz":case"kam":case"khq":case"ki":case"kln":case"kok":case"ksf":case"lrc":case"lu":case"luo":case"luy":case"mer":case"mfe":case"mgh":case"mua":case"mzn":case"nmg":case"nus":case"qu":case"rn":case"rw":case"sbp":case"twq":case"vai":case"yav":case"yue":case"zgh":case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?G.One:G.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?G.One:G.Other;case"ar":return 0===n?G.Zero:1===n?G.One:2===n?G.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?G.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?G.Many:G.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?G.One:G.Other;case"be":return n%10===1&&n%100!==11?G.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?G.Few:n%10===0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?G.Many:G.Other;case"br":return n%10===1&&n%100!==11&&n%100!==71&&n%100!==91?G.One:n%10===2&&n%100!==12&&n%100!==72&&n%100!==92?G.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10===9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?G.Few:0!==n&&n%1e6===0?G.Many:G.Other;case"bs":case"hr":case"sr":return 0===o&&i%10===1&&i%100!==11||s%10===1&&s%100!==11?G.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?G.Few:G.Other;case"cs":case"sk":return 1===i&&0===o?G.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?G.Few:0!==o?G.Many:G.Other;case"cy":return 0===n?G.Zero:1===n?G.One:2===n?G.Two:3===n?G.Few:6===n?G.Many:G.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?G.One:G.Other;case"dsb":case"hsb":return 0===o&&i%100===1||s%100===1?G.One:0===o&&i%100===2||s%100===2?G.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?G.Few:G.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?G.One:G.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!==4&&i%10!==6&&i%10!==9||0!==o&&s%10!==4&&s%10!==6&&s%10!==9?G.One:G.Other;case"ga":return 1===n?G.One:2===n?G.Two:n===Math.floor(n)&&n>=3&&n<=6?G.Few:n===Math.floor(n)&&n>=7&&n<=10?G.Many:G.Other;case"gd":return 1===n||11===n?G.One:2===n||12===n?G.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?G.Few:G.Other;case"gv":return 0===o&&i%10===1?G.One:0===o&&i%10===2?G.Two:0!==o||i%100!==0&&i%100!==20&&i%100!==40&&i%100!==60&&i%100!==80?0!==o?G.Many:G.Other:G.Few;case"he":return 1===i&&0===o?G.One:2===i&&0===o?G.Two:0!==o||n>=0&&n<=10||n%10!==0?G.Other:G.Many;case"is":return 0===a&&i%10===1&&i%100!==11||0!==a?G.One:G.Other;case"ksh":return 0===n?G.Zero:1===n?G.One:G.Other;case"kw":case"naq":case"se":case"smn":return 1===n?G.One:2===n?G.Two:G.Other;case"lag":return 0===n?G.Zero:0!==i&&1!==i||0===n?G.Other:G.One;case"lt":return n%10!==1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?G.Few:0!==s?G.Many:G.Other:G.One;case"lv":case"prg":return n%10===0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?G.Zero:n%10===1&&n%100!==11||2===o&&s%10===1&&s%100!==11||2!==o&&s%10===1?G.One:G.Other;case"mk":return 0===o&&i%10===1||s%10===1?G.One:G.Other;case"mt":return 1===n?G.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?G.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?G.Many:G.Other;case"pl":return 1===i&&0===o?G.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?G.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?G.Many:G.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?G.One:G.Other;case"ro":return 1===i&&0===o?G.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?G.Few:G.Other;case"ru":case"uk":return 0===o&&i%10===1&&i%100!==11?G.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?G.Few:0===o&&i%10===0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?G.Many:G.Other;case"shi":return 0===i||1===n?G.One:n===Math.floor(n)&&n>=2&&n<=10?G.Few:G.Other;case"si":return 0===n||1===n||0===i&&1===s?G.One:G.Other;case"sl":return 0===o&&i%100===1?G.One:0===o&&i%100===2?G.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?G.Few:G.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?G.One:G.Other;default:return G.Other}}function h(t){return!!s(t)&&(Array.isArray(t)||!(t instanceof Map)&&a()in t)}function f(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function d(t){return function(e,n){return t(e,n).split(" ")[1]}}function y(t){return function(e,n){return t(e,n).split(" ")[0]}}function m(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function v(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=m(t,n,e);return r?r.substring(3):""}}function g(t,e){return t.hour12=e,t}function _(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function b(t,e){var n={};return e<4?n[t]=e>1?"short":"narrow":n[t]="long",n}function w(t){return(e=Object).assign.apply(e,[{}].concat(t));var e}function C(t){return function(e,n){return m(e,n,t)}}function E(t,e,n){var r=wt[t];if(r)return r(e,n);var i=t,o=Et.get(i);if(!o){o=[];var s=void 0;for(bt.exec(t);t;)s=bt.exec(t),s?(o=o.concat(s.slice(1)),t=o.pop()):(o.push(t),t=null);Et.set(i,o)}return o.reduce(function(t,r){var i=Ct[r];return t+(i?i(e,n):S(r))},"")}function S(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}function x(t){return null==t||""===t}function P(t){return t instanceof Date&&!isNaN(t.valueOf())}function O(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=T(t[9]+t[10]),r=T(t[9]+t[11])),i.call(e,T(t[1]),T(t[2])-1,T(t[3]));var s=T(t[4]||"0")-n,a=T(t[5]||"0")-r,u=T(t[6]||"0"),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}function T(t){return parseInt(t,10)}function A(t,e,n,r,i,o,s){if(void 0===o&&(o=null),void 0===s&&(s=!1),null==n)return null;if(n="string"==typeof n&&j.isNumeric(n)?+n:n,"number"!=typeof n)throw new ht(t,n);var a,u,c;if(r!==gt.Currency&&(a=1,u=0,c=3),i){var l=i.match(Rt);if(null===l)throw new Error(i+" is not a valid digit info for number pipes");null!=l[1]&&(a=j.parseIntAutoRadix(l[1])),null!=l[3]&&(u=j.parseIntAutoRadix(l[3])),null!=l[5]&&(c=j.parseIntAutoRadix(l[5]))}return _t.format(n,e,r,{minimumIntegerDigits:a,minimumFractionDigits:u,maximumFractionDigits:c,currency:o,currencyAsSymbol:s})}var M,k=function(){function t(){}return t.prototype.getBaseHrefFromDOM=function(){},t.prototype.onPopState=function(t){},t.prototype.onHashChange=function(t){},Object.defineProperty(t.prototype,"pathname",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.replaceState=function(t,e,n){},t.prototype.pushState=function(t,e,n){},t.prototype.forward=function(){},t.prototype.back=function(){},t}(),R=new e.OpaqueToken("Location Initialized"),I=function(){function t(){}return t.prototype.path=function(t){},t.prototype.prepareExternalUrl=function(t){},t.prototype.pushState=function(t,e,n,r){},t.prototype.replaceState=function(t,e,n,r){},t.prototype.forward=function(){},t.prototype.back=function(){},t.prototype.onPopState=function(t){},t.prototype.getBaseHref=function(){},t}(),N=new e.OpaqueToken("appBaseHref");M="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var D=M;D.assert=function(t){};var j=function(){function t(){}return t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e},t.isNumeric=function(t){return!isNaN(t-parseFloat(t))},t}(),V=null,L=function(){function t(n){var r=this;this._subject=new e.EventEmitter,this._platformStrategy=n;var i=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(c(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(u(this._baseHref,c(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){return t.replace(/\/$/,"")},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:I}]},t}(),F=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},U=function(t){function n(e,n){t.call(this),this._platformLocation=e,this._baseHref="",r(n)&&(this._baseHref=n)}return F(n,t),n.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},n.prototype.getBaseHref=function(){return this._baseHref},n.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return r(e)||(e="#"),e.length>0?e.substring(1):e},n.prototype.prepareExternalUrl=function(t){var e=L.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},n.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+L.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},n.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+L.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},n.prototype.forward=function(){this._platformLocation.forward()},n.prototype.back=function(){this._platformLocation.back()},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:k},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[N]}]}]},n}(I),H=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},B=function(t){function n(e,n){if(t.call(this),this._platformLocation=e,i(n)&&(n=this._platformLocation.getBaseHrefFromDOM()),i(n))throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=n}return H(n,t),n.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},n.prototype.getBaseHref=function(){return this._baseHref},n.prototype.prepareExternalUrl=function(t){return L.joinWithSlash(this._baseHref,t)},n.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+L.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},n.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+L.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},n.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+L.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},n.prototype.forward=function(){this._platformLocation.forward()},n.prototype.back=function(){this._platformLocation.back()},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:k},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[N]}]}]},n}(I),q=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},z=function(){function t(){}return t.prototype.getPluralCategory=function(t){},t}(),W=function(t){function n(e){t.call(this),this._locale=e}return q(n,t),n.prototype.getPluralCategory=function(t){var e=p(this._locale,t);switch(e){case G.Zero:return"zero";case G.One:return"one";case G.Two:return"two";case G.Few:return"few";case G.Many:return"many";default:return"other"}},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.LOCALE_ID]}]}]},n}(z),G={};G.Zero=0,G.One=1,G.Two=2,G.Few=3,G.Many=4,G.Other=5,G[G.Zero]="Zero",G[G.One]="One",G[G.Two]="Two",G[G.Few]="Few",G[G.Many]="Many",G[G.Other]="Other";var X=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(h(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create(null):this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create(null))},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+o(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(r){null!=t[r]&&n._toggleClass(r,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;t=t.trim(),t&&t.split(/\s+/g).forEach(function(t){n._renderer.setElementClass(n._ngEl.nativeElement,t,e)})},t.decorators=[{type:e.Directive,args:[{selector:"[ngClass]"}]}],t.ctorParameters=function(){return[{type:e.IterableDiffers},{type:e.KeyValueDiffers},{type:e.ElementRef},{type:e.Renderer}]},t.propDecorators={klass:[{type:e.Input,args:["class"]}],ngClass:[{type:e.Input}]},t}(),$=function(){function t(t,e,n){this.$implicit=t,this.index=e,this.count=n}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),Q=function(){function t(t,e,n,r){this._viewContainer=t,this._template=e,this._differs=n,this._cdr=r,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){e.isDevMode()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this._cdr,this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+n(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new $(null,null,null),i),s=new Y(t,o);n.push(s)}else if(null==i)e._viewContainer.remove(r);else{var o=e._viewContainer.get(r);e._viewContainer.move(o,i);var s=new Y(t,o);n.push(s)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var r=0,i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i}t.forEachIdentityChange(function(t){var n=e._viewContainer.get(t.currentIndex);n.context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.decorators=[{type:e.Directive,args:[{selector:"[ngFor][ngForOf]"}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.TemplateRef},{type:e.IterableDiffers},{type:e.ChangeDetectorRef}]},t.propDecorators={ngForOf:[{type:e.Input}],ngForTrackBy:[{type:e.Input}],ngForTemplate:[{type:e.Input}]},t}(),Y=function(){function t(t,e){this.record=t,this.view=e}return t}(),K=function(){function t(t,e){this._viewContainer=t,this._template=e,this._hasView=!1}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){t&&!this._hasView?(this._hasView=!0,this._viewContainer.createEmbeddedView(this._template)):!t&&this._hasView&&(this._hasView=!1,this._viewContainer.clear())},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Directive,args:[{selector:"[ngIf]"}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.TemplateRef}]},t.propDecorators={ngIf:[{type:e.Input}]},t}(),Z=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),J=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++){var n=this._defaultViews[e];n.enforceState(t)}}},t.decorators=[{type:e.Directive,args:[{selector:"[ngSwitch]"}]}],t.ctorParameters=function(){return[]},t.propDecorators={ngSwitch:[{type:e.Input}]},t}(),tt=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Z(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t.decorators=[{type:e.Directive,args:[{selector:"[ngSwitchCase]"}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.TemplateRef},{type:J,decorators:[{type:e.Host}]}]},t.propDecorators={ngSwitchCase:[{type:e.Input}]},t}(),et=function(){function t(t,e,n){n._addDefault(new Z(t,e))}return t.decorators=[{type:e.Directive,args:[{selector:"[ngSwitchDefault]"}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.TemplateRef},{type:J,decorators:[{type:e.Host}]}]},t}(),nt=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=l(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t.decorators=[{type:e.Directive,args:[{selector:"[ngPlural]"}]}],t.ctorParameters=function(){return[{type:z}]},t.propDecorators={ngPlural:[{type:e.Input}]},t}(),rt=function(){function t(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new Z(n,e))}return t.decorators=[{type:e.Directive,args:[{selector:"[ngPluralCase]"}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Attribute,args:["ngPluralCase"]}]},{type:e.TemplateRef},{type:e.ViewContainerRef},{type:nt,decorators:[{type:e.Host}]}]},t}(),it=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create(null))},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),r=n[0],i=n[1];e=e&&i?""+e+i:e,this._renderer.setElementStyle(this._ngEl.nativeElement,r,e)},t.decorators=[{type:e.Directive,args:[{selector:"[ngStyle]"}]}],t.ctorParameters=function(){return[{type:e.KeyValueDiffers},{type:e.ElementRef},{type:e.Renderer}]},t.propDecorators={ngStyle:[{type:e.Input}]},t}(),ot=function(){function t(t){this._viewContainerRef=t}return Object.defineProperty(t.prototype,"ngOutletContext",{set:function(t){this._context=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngTemplateOutlet",{set:function(t){this._templateRef=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this._templateRef&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this._templateRef,this._context))},t.decorators=[{type:e.Directive,args:[{selector:"[ngTemplateOutlet]"}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef}]},t.propDecorators={ngOutletContext:[{type:e.Input}],ngTemplateOutlet:[{type:e.Input}]},t}(),st=[X,Q,K,ot,it,J,tt,et,nt,rt],at=e.__core_private__.isPromise,ut=e.__core_private__.isObservable,ct=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},lt=function(t){function e(e){t.call(this,e);var n=new Error(e);this._nativeError=n}return ct(e,t),Object.defineProperty(e.prototype,"message",{get:function(){return this._nativeError.message},set:function(t){this._nativeError.message=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._nativeError.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stack",{get:function(){return this._nativeError.stack},set:function(t){this._nativeError.stack=t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this._nativeError.toString()},e}(Error),pt=(function(t){function e(e,n){t.call(this,e+" caused by: "+(n instanceof Error?n.message:n)),this.originalError=n}return ct(e,t),Object.defineProperty(e.prototype,"stack",{get:function(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:!0,configurable:!0}),e}(lt),this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ht=function(t){function e(e,n){t.call(this,"Invalid argument '"+n+"' for pipe '"+o(e)+"'")}return pt(e,t),e}(lt),ft=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),dt=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}(),yt=new dt,mt=new ft,vt=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,e.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(at(e))return yt;if(ut(e))return mt;throw new ht(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t.decorators=[{type:e.Pipe,args:[{name:"async",pure:!1}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},t}(),gt={};gt.Decimal=0,gt.Percent=1,gt.Currency=2,gt[gt.Decimal]="Decimal",gt[gt.Percent]="Percent",gt[gt.Currency]="Currency";var _t=function(){function t(){}return t.format=function(t,e,n,r){var i=void 0===r?{}:r,o=i.minimumIntegerDigits,s=i.minimumFractionDigits,a=i.maximumFractionDigits,u=i.currency,c=i.currencyAsSymbol,l=void 0!==c&&c,p={minimumIntegerDigits:o,minimumFractionDigits:s,maximumFractionDigits:a,style:gt[n].toLowerCase()};return n==gt.Currency&&(p.currency=u,p.currencyDisplay=l?"symbol":"code"),new Intl.NumberFormat(e,p).format(t);
},t}(),bt=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,wt={yMMMdjms:C(w([_("year",1),b("month",3),_("day",1),_("hour",1),_("minute",1),_("second",1)])),yMdjm:C(w([_("year",1),_("month",1),_("day",1),_("hour",1),_("minute",1)])),yMMMMEEEEd:C(w([_("year",1),b("month",4),b("weekday",4),_("day",1)])),yMMMMd:C(w([_("year",1),b("month",4),_("day",1)])),yMMMd:C(w([_("year",1),b("month",3),_("day",1)])),yMd:C(w([_("year",1),_("month",1),_("day",1)])),jms:C(w([_("hour",1),_("second",1),_("minute",1)])),jm:C(w([_("hour",1),_("minute",1)]))},Ct={yyyy:C(_("year",4)),yy:C(_("year",2)),y:C(_("year",1)),MMMM:C(b("month",4)),MMM:C(b("month",3)),MM:C(_("month",2)),M:C(_("month",1)),LLLL:C(b("month",4)),L:C(b("month",1)),dd:C(_("day",2)),d:C(_("day",1)),HH:f(y(C(g(_("hour",2),!1)))),H:y(C(g(_("hour",1),!1))),hh:f(y(C(g(_("hour",2),!0)))),h:y(C(g(_("hour",1),!0))),jj:C(_("hour",2)),j:C(_("hour",1)),mm:f(C(_("minute",2))),m:C(_("minute",1)),ss:f(C(_("second",2))),s:C(_("second",1)),sss:C(_("second",3)),EEEE:C(b("weekday",4)),EEE:C(b("weekday",3)),EE:C(b("weekday",2)),E:C(b("weekday",1)),a:d(C(g(_("hour",1),!0))),Z:v("short"),z:v("long"),ww:C({}),w:C({}),G:C(b("era",1)),GG:C(b("era",2)),GGG:C(b("era",3)),GGGG:C(b("era",4))},Et=new Map,St=function(){function t(){}return t.format=function(t,e,n){return E(n,t,e)},t}(),xt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){void 0===n&&(n="mediumDate");var r;if(x(e)||e!==e)return null;if("string"==typeof e&&(e=e.trim()),P(e))r=e;else if(j.isNumeric(e))r=new Date(parseFloat(e));else if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=e.split("-").map(function(t){return parseInt(t,10)}),o=i[0],s=i[1],a=i[2];r=new Date(o,s-1,a)}else r=new Date(e);if(!P(r)){var u=void 0;if("string"!=typeof e||!(u=e.match(xt)))throw new ht(t,e);r=O(u)}return St.format(r,this._locale,t._ALIASES[n]||n)},t._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},t.decorators=[{type:e.Pipe,args:[{name:"date",pure:!0}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.LOCALE_ID]}]}]},t}(),Ot=/#/g,Tt=function(){function t(t){this._localization=t}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||null===n)throw new ht(t,n);var r=l(e,Object.keys(n),this._localization);return n[r].replace(Ot,e.toString())},t.decorators=[{type:e.Pipe,args:[{name:"i18nPlural",pure:!0}]}],t.ctorParameters=function(){return[{type:z}]},t}(),At=function(){function t(){}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw new ht(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t.decorators=[{type:e.Pipe,args:[{name:"i18nSelect",pure:!0}]}],t.ctorParameters=function(){return[]},t}(),Mt=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t.decorators=[{type:e.Pipe,args:[{name:"json",pure:!1}]}],t.ctorParameters=function(){return[]},t}(),kt=function(){function t(){}return t.prototype.transform=function(e){if(i(e))return e;if("string"!=typeof e)throw new ht(t,e);return e.toLowerCase()},t.decorators=[{type:e.Pipe,args:[{name:"lowercase"}]}],t.ctorParameters=function(){return[]},t}(),Rt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,It=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return void 0===n&&(n=null),A(t,this._locale,e,gt.Decimal,n)},t.decorators=[{type:e.Pipe,args:[{name:"number"}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.LOCALE_ID]}]}]},t}(),Nt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return void 0===n&&(n=null),A(t,this._locale,e,gt.Percent,n)},t.decorators=[{type:e.Pipe,args:[{name:"percent"}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.LOCALE_ID]}]}]},t}(),Dt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,i){return void 0===n&&(n="USD"),void 0===r&&(r=!1),void 0===i&&(i=null),A(t,this._locale,e,gt.Currency,i,n,r)},t.decorators=[{type:e.Pipe,args:[{name:"currency"}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.LOCALE_ID]}]}]},t}(),jt=function(){function t(){}return t.prototype.transform=function(e,n,r){if(null==e)return e;if(!this.supports(e))throw new ht(t,e);return e.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t.decorators=[{type:e.Pipe,args:[{name:"slice",pure:!1}]}],t.ctorParameters=function(){return[]},t}(),Vt=function(){function t(){}return t.prototype.transform=function(e){if(i(e))return e;if("string"!=typeof e)throw new ht(t,e);return e.toUpperCase()},t.decorators=[{type:e.Pipe,args:[{name:"uppercase"}]}],t.ctorParameters=function(){return[]},t}(),Lt=[vt,Vt,kt,Mt,jt,It,Nt,Dt,Pt,Tt,At],Ft=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[st,Lt],exports:[st,Lt],providers:[{provide:z,useClass:W}]}]}],t.ctorParameters=function(){return[]},t}(),Ut=new e.Version("2.4.8");t.NgLocalization=z,t.CommonModule=Ft,t.NgClass=X,t.NgFor=Q,t.NgIf=K,t.NgPlural=nt,t.NgPluralCase=rt,t.NgStyle=it,t.NgSwitch=J,t.NgSwitchCase=tt,t.NgSwitchDefault=et,t.NgTemplateOutlet=ot,t.AsyncPipe=vt,t.DatePipe=Pt,t.I18nPluralPipe=Tt,t.I18nSelectPipe=At,t.JsonPipe=Mt,t.LowerCasePipe=kt,t.CurrencyPipe=Dt,t.DecimalPipe=It,t.PercentPipe=Nt,t.SlicePipe=jt,t.UpperCasePipe=Vt,t.VERSION=Ut,t.Version=e.Version,t.PlatformLocation=k,t.LOCATION_INITIALIZED=R,t.LocationStrategy=I,t.APP_BASE_HREF=N,t.HashLocationStrategy=U,t.PathLocationStrategy=B,t.Location=L}),function(i,o){"object"==typeof n&&"undefined"!=typeof r?o(n,e("@angular/common"),e("@angular/core")):t.registerDynamic("e",["39","c"],!1,function(t,e,n){return"function"==typeof o?o.call(e,e,t("39"),t("c")):o})}(this,function(t,e,n){"use strict";function r(t){return null!=t}function i(t){return null==t}function o(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString(),n=e.indexOf("\n");return n===-1?e:e.substring(0,n)}function s(t,e,n){for(var r=e.split("."),i=t;r.length>1;){var o=r.shift();i=i.hasOwnProperty(o)&&null!=i[o]?i[o]:i[o]={}}void 0!==i&&null!==i||(i={}),i[r.shift()]=n}function a(){return Z}function u(t){Z||(Z=t)}function c(t,e){return a().getComputedStyle(t)[e]}function l(t){var e={};return Object.keys(t).forEach(function(n){"offset"!=n&&(e[n]=t[n])}),e}function p(t,e){var n={};return t.styles.forEach(function(t){Object.keys(t).forEach(function(e){n[e]=t[e]})}),Object.keys(e).forEach(function(t){r(n[t])||(n[t]=e[t])}),n}function h(t){return t instanceof tt}function f(){return lt||(lt=document.querySelector("base"))?lt.getAttribute("href"):null}function d(t){return K||(K=document.createElement("a")),K.setAttribute("href",t),"/"===K.pathname.charAt(0)?K.pathname:"/"+K.pathname}function y(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),s=o==-1?[i,""]:[i.slice(0,o),i.slice(o+1)],a=s[0],u=s[1];if(a.trim()===e)return decodeURIComponent(u)}return null}function m(){return!!window.history.pushState}function v(t,e){var n=t.parentNode;if(e.length>0&&n){var r=t.nextSibling;if(r)for(var i=0;i<e.length;i++)n.insertBefore(e[i],r);else for(var i=0;i<e.length;i++)n.appendChild(e[i])}}function g(t,e){for(var n=0;n<e.length;n++)t.appendChild(e[n])}function _(t){return function(e){var n=t(e);n===!1&&(e.preventDefault(),e.returnValue=!1)}}function b(t){return Nt.replace(kt,t)}function w(t){return It.replace(kt,t)}function C(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?C(t,i,n):(i=i.replace(kt,t),n.push(i))}return n}function E(t){return":"===t[0]}function S(t){var e=t.match(Dt);return[e[1],e[2]]}function x(t){return n.getDebugNode(t)}function P(t,e,r){return n.isDevMode()?O(t,(e||[]).concat(r||[])):t}function O(t,e){return a().setGlobalVar(Vt,x),a().setGlobalVar(Lt,yt.merge(jt,T(e||[]))),new G(t)}function T(t){return t.reduce(function(t,e){return t[e.name]=e.token,t},{})}function A(t){return t=String(t),t.match(Zt)||t.match(Jt)?t:(n.isDevMode()&&a().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function M(t){return t=String(t),t.split(",").map(function(t){return A(t.trim())}).join(", ")}function k(){if(te)return te;ee=a();var t=ee.createElement("template");if("content"in t)return t;var e=ee.createHtmlDocument();if(te=ee.querySelector(e,"body"),null==te){var n=ee.createElement("html",e);te=ee.createElement("body",e),ee.appendChild(n,te),ee.appendChild(e,n)}return te}function R(t){for(var e={},n=0,r=t.split(",");n<r.length;n++){var i=r[n];e[i]=!0}return e}function I(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var s in o)o.hasOwnProperty(s)&&(n[s]=!0)}return n}function N(t){return t.replace(/&/g,"&amp;").replace(de,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(ye,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function D(t){ee.attributeMap(t).forEach(function(e,n){"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||ee.removeAttribute(t,n)});for(var e=0,n=ee.childNodesAsList(t);e<n.length;e++){var r=n[e];ee.isElementNode(r)&&D(r)}}function j(t){try{var e=k(),r=t?String(t):"",i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,ee.setInnerHTML(e,r),ee.defaultDoc().documentMode&&D(e),o=ee.getInnerHTML(e)}while(r!==o);for(var s=new fe,a=s.sanitizeChildren(ee.getTemplateContent(e)||e),u=ee.getTemplateContent(e)||e,c=0,l=ee.childNodesAsList(u);c<l.length;c++){var p=l[c];ee.removeChild(u,p)}return n.isDevMode()&&s.sanitizedSomething&&ee.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),a}catch(t){throw te=null,t}}function V(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}function L(t){if(t=String(t).trim(),!t)return"";var e=t.match(Ee);return e&&A(e[1])===e[1]||t.match(Ce)&&V(t)?t:(n.isDevMode()&&a().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function F(){ct.makeCurrent(),ft.init()}function U(){return new n.ErrorHandler}function H(){return a().defaultDoc()}function B(){return a().supportsWebAnimation()?new et:Q.NOOP}function q(t){return Object.assign(He.ng,new Fe(t)),t}function z(){He.ng&&delete He.ng.profiler}var W,G=n.__core_private__.DebugDomRootRenderer,X=n.__core_private__.NoOpAnimationPlayer,$=function(){function t(){}return t.prototype.animate=function(t,e,n,r,i,o,s){return void 0===s&&(s=[]),new X},t}(),Q=function(){function t(){}return t.prototype.animate=function(t,e,n,r,i,o,s){},t.NOOP=new $,t}();W="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var Y=W;Y.assert=function(t){};var K,Z=null,J=function(){function t(){this.resourceLoaderType=null}return t.prototype.hasProperty=function(t,e){},t.prototype.setProperty=function(t,e,n){},t.prototype.getProperty=function(t,e){},t.prototype.invoke=function(t,e,n){},t.prototype.logError=function(t){},t.prototype.log=function(t){},t.prototype.logGroup=function(t){},t.prototype.logGroupEnd=function(){},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t.prototype.parse=function(t){},t.prototype.query=function(t){},t.prototype.querySelector=function(t,e){},t.prototype.querySelectorAll=function(t,e){},t.prototype.on=function(t,e,n){},t.prototype.onAndCancel=function(t,e,n){},t.prototype.dispatchEvent=function(t,e){},t.prototype.createMouseEvent=function(t){},t.prototype.createEvent=function(t){},t.prototype.preventDefault=function(t){},t.prototype.isPrevented=function(t){},t.prototype.getInnerHTML=function(t){},t.prototype.getTemplateContent=function(t){},t.prototype.getOuterHTML=function(t){},t.prototype.nodeName=function(t){},t.prototype.nodeValue=function(t){},t.prototype.type=function(t){},t.prototype.content=function(t){},t.prototype.firstChild=function(t){},t.prototype.nextSibling=function(t){},t.prototype.parentElement=function(t){},t.prototype.childNodes=function(t){},t.prototype.childNodesAsList=function(t){},t.prototype.clearNodes=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.removeChild=function(t,e){},t.prototype.replaceChild=function(t,e,n){},t.prototype.remove=function(t){},t.prototype.insertBefore=function(t,e){},t.prototype.insertAllBefore=function(t,e){},t.prototype.insertAfter=function(t,e){},t.prototype.setInnerHTML=function(t,e){},t.prototype.getText=function(t){},t.prototype.setText=function(t,e){},t.prototype.getValue=function(t){},t.prototype.setValue=function(t,e){},t.prototype.getChecked=function(t){},t.prototype.setChecked=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createTemplate=function(t){},t.prototype.createElement=function(t,e){},t.prototype.createElementNS=function(t,e,n){},t.prototype.createTextNode=function(t,e){},t.prototype.createScriptTag=function(t,e,n){},t.prototype.createStyleElement=function(t,e){},t.prototype.createShadowRoot=function(t){},t.prototype.getShadowRoot=function(t){},t.prototype.getHost=function(t){},t.prototype.getDistributedNodes=function(t){},t.prototype.clone=function(t){},t.prototype.getElementsByClassName=function(t,e){},t.prototype.getElementsByTagName=function(t,e){},t.prototype.classList=function(t){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.hasClass=function(t,e){},t.prototype.setStyle=function(t,e,n){},t.prototype.removeStyle=function(t,e){},t.prototype.getStyle=function(t,e){},t.prototype.hasStyle=function(t,e,n){},t.prototype.tagName=function(t){},t.prototype.attributeMap=function(t){},t.prototype.hasAttribute=function(t,e){},t.prototype.hasAttributeNS=function(t,e,n){},t.prototype.getAttribute=function(t,e){},t.prototype.getAttributeNS=function(t,e,n){},t.prototype.setAttribute=function(t,e,n){},t.prototype.setAttributeNS=function(t,e,n,r){},t.prototype.removeAttribute=function(t,e){},t.prototype.removeAttributeNS=function(t,e,n){},t.prototype.templateAwareRoot=function(t){},t.prototype.createHtmlDocument=function(){},t.prototype.defaultDoc=function(){},t.prototype.getBoundingClientRect=function(t){},t.prototype.getTitle=function(){},t.prototype.setTitle=function(t){},t.prototype.elementMatches=function(t,e){},t.prototype.isTemplateElement=function(t){},t.prototype.isTextNode=function(t){},t.prototype.isCommentNode=function(t){},t.prototype.isElementNode=function(t){},t.prototype.hasShadowRoot=function(t){},t.prototype.isShadowRoot=function(t){},t.prototype.importIntoDoc=function(t){},t.prototype.adoptNode=function(t){},t.prototype.getHref=function(t){},t.prototype.getEventKey=function(t){},t.prototype.resolveAndSetHref=function(t,e,n){},t.prototype.supportsDOMEvents=function(){},t.prototype.supportsNativeShadowDOM=function(){},t.prototype.getGlobalEventTarget=function(t){},t.prototype.getHistory=function(){},t.prototype.getLocation=function(){},t.prototype.getBaseHref=function(){},t.prototype.resetBaseElement=function(){},t.prototype.getUserAgent=function(){},t.prototype.setData=function(t,e,n){},t.prototype.getComputedStyle=function(t){},t.prototype.getData=function(t,e){},t.prototype.setGlobalVar=function(t,e){},t.prototype.supportsWebAnimation=function(){},t.prototype.performanceNow=function(){},t.prototype.getAnimationPrefix=function(){},t.prototype.getTransitionEnd=function(){},t.prototype.supportsAnimation=function(){},t.prototype.supportsCookies=function(){},t.prototype.getCookie=function(t){},t.prototype.setCookie=function(t,e){},t}(),tt=function(){function t(t,e,n,r){var i=this;void 0===r&&(r=[]),this.element=t,this.keyframes=e,this.options=n,this._onDoneFns=[],this._onStartFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.parentPlayer=null,this._duration=n.duration,this.previousStyles={},r.forEach(function(t){var e=t._captureStyles();Object.keys(e).forEach(function(t){return i.previousStyles[t]=e[t]})})}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes.map(function(e){var r={};return Object.keys(e).forEach(function(i,o){var s=e[i];s==n.AUTO_STYLE&&(s=c(t.element,i)),void 0!=s&&(r[i]=s)}),r}),i=Object.keys(this.previousStyles);if(i.length){var o=e[0],s=[];if(i.forEach(function(e){r(o[e])||s.push(e),o[e]=t.previousStyles[e]}),s.length)for(var a=function(n){var r=e[n];s.forEach(function(e){r[e]=c(t.element,e)})},u=1;u<e.length;u++)a(u)}this._player=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=l(e[e.length-1]),this._resetDomPlayerState(),this._player.addEventListener("finish",function(){return t._onFinish()})}},t.prototype._triggerWebAnimation=function(t,e,n){return t.animate(e,n)},Object.defineProperty(t.prototype,"domPlayer",{get:function(){return this._player},enumerable:!0,configurable:!0}),t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.play=function(){this.init(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this._player.play()},t.prototype.pause=function(){this.init(),this._player.pause()},t.prototype.finish=function(){this.init(),this._onFinish(),this._player.finish()},t.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype._resetDomPlayerState=function(){this._player&&this._player.cancel()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.hasStarted=function(){return this._started},t.prototype.destroy=function(){this._destroyed||(this._resetDomPlayerState(),this._onFinish(),this._destroyed=!0)},Object.defineProperty(t.prototype,"totalTime",{get:function(){return this._duration},enumerable:!0,configurable:!0}),t.prototype.setPosition=function(t){this._player.currentTime=t*this.totalTime},t.prototype.getPosition=function(){return this._player.currentTime/this.totalTime},t.prototype._captureStyles=function(){var t=this,e={};return this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:c(t.element,n))}),e},t}(),et=function(){function t(){}return t.prototype.animate=function(t,e,n,i,o,s,a){void 0===a&&(a=[]);var u=[],c={};if(r(e)&&(c=p(e,{})),n.forEach(function(t){var e=p(t.styles,c);e.offset=Math.max(0,Math.min(1,t.offset)),u.push(e)}),0==u.length)u=[c,c];else if(1==u.length){var l=c,f=u[0];f.offset=null,u=[l,f]}var d={duration:i,delay:o,fill:"both"};return s&&(d.easing=s),a=a.filter(h),new tt(t,u,d,a)},t}(),nt=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},rt=function(t){function e(){var e=this;t.call(this),this._animationPrefix=null,this._transitionEnd=null;try{var n=this.createElement("div",this.defaultDoc());if(r(this.getStyle(n,"animationName")))this._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],o=0;o<i.length;o++)if(r(this.getStyle(n,i[o]+"AnimationName"))){this._animationPrefix="-"+i[o].toLowerCase()+"-";break}var s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(s).forEach(function(t){r(e.getStyle(n,t))&&(e._transitionEnd=s[t])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}return nt(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof this.defaultDoc().body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return r(this._animationPrefix)&&r(this._transitionEnd)},e}(J),it=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ot={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},st=3,at={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},ct=function(t){function e(){t.apply(this,arguments)}return it(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){u(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){(r=t)[e].apply(r,n);var r},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return ot},enumerable:!0,configurable:!0}),e.prototype.query=function(t){return document.querySelector(t)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=document.createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||r(t.returnValue)&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&t instanceof HTMLTemplateElement?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e){t.parentNode.insertBefore(e,t)},e.prototype.insertAllBefore=function(t,e){e.forEach(function(e){return t.parentNode.insertBefore(e,t)})},e.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return document.createComment(t)},e.prototype.createTemplate=function(t){var e=document.createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return void 0===e&&(e=document),e.createElement(t)},e.prototype.createElementNS=function(t,e,n){return void 0===n&&(n=document),n.createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return void 0===e&&(e=document),e.createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){void 0===n&&(n=document);var r=n.createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){void 0===e&&(e=document);var n=e.createElement("style");return this.appendChild(n,this.createTextNode(t)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){void 0===n&&(n=null);var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n[r];e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.defaultDoc=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(){return document.title},e.prototype.setTitle=function(t){document.title=t||""},e.prototype.elementMatches=function(t,e){return t instanceof HTMLElement&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return t instanceof HTMLElement&&"TEMPLATE"==t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return r(t.shadowRoot)&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.href},e.prototype.getEventKey=function(t){var e=t.key;if(i(e)){if(e=t.keyIdentifier,i(e))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===st&&ut.hasOwnProperty(e)&&(e=ut[e]))}return at[e]||e},e.prototype.getGlobalEventTarget=function(t){return"window"===t?window:"document"===t?document:"body"===t?document.body:void 0},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(){var t=f();return i(t)?null:d(t)},e.prototype.resetBaseElement=function(){lt=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.setGlobalVar=function(t,e){s(Y,t,e)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return y(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(rt),lt=null,pt=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ht=function(t){function e(){t.call(this),this._init()}return pt(e,t),e.prototype._init=function(){this._location=a().getLocation(),this._history=a().getHistory()},Object.defineProperty(e.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),e.prototype.getBaseHrefFromDOM=function(){return a().getBaseHref()},e.prototype.onPopState=function(t){a().getGlobalEventTarget("window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){a().getGlobalEventTarget("window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this._location.pathname},set:function(t){this._location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){m()?this._history.pushState(t,e,n):this._location.hash=n},e.prototype.replaceState=function(t,e,n){m()?this._history.replaceState(t,e,n):this._location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[]},e}(e.PlatformLocation),ft=function(){function t(){}return t.init=function(){n.setTestabilityGetter(new t)},t.prototype.addToWindow=function(t){Y.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Y.getAllAngularTestabilities=function(){
return t.getAllTestabilities()},Y.getAllAngularRootElements=function(){return t.getAllRootElements()};var e=function(t){var e=Y.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})};Y.frameworkStabilizers||(Y.frameworkStabilizers=[]),Y.frameworkStabilizers.push(e)},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return r(i)?i:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,a().getHost(e),!0):this.findTestabilityInTree(t,a().parentElement(e),!0):null},t}(),dt=function(){function t(){}return t.prototype.getTitle=function(){return a().getTitle()},t.prototype.setTitle=function(t){a().setTitle(t)},t}(),yt=function(){function t(){}return t.merge=function(t,e){for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n[o]=t[o]}for(var s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];n[o]=e[o]}return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!==e[o])return!1}return!0},t}(),mt=new n.OpaqueToken("DocumentToken"),vt=new n.OpaqueToken("EventManagerPlugins"),gt=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){var r=this._findPluginFor(e);return r.addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){var r=this._findPluginFor(e);return r.addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:n.Inject,args:[vt]}]},{type:n.NgZone}]},t}(),_t=function(){function t(){}return t.prototype.supports=function(t){},t.prototype.addEventListener=function(t,e,n){},t.prototype.addGlobalEventListener=function(t,e,n){var r=a().getGlobalEventTarget(t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),bt=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},wt=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[]},t}(),Ct=function(t){function e(e){t.call(this),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}return bt(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return a().remove(t)})},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[mt]}]}]},e}(wt),Et=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},St={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},xt="template bindings={}",Pt=/^template bindings=(.*)$/,Ot=function(){function t(t,e,n,r,i){this.document=t,this.eventManager=e,this.sharedStylesHost=n,this.animationDriver=r,this.appId=i,this.registeredComponents=new Map}return t.prototype.renderComponent=function(t){var e=this.registeredComponents.get(t.id);return e||(e=new Mt(this,t,this.animationDriver,this.appId+"-"+t.id),this.registeredComponents.set(t.id,e)),e},t}(),Tt=function(t){function e(e,n,r,i,o){t.call(this,e,n,r,i,o)}return Et(e,t),e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[mt]}]},{type:gt},{type:Ct},{type:Q},{type:void 0,decorators:[{type:n.Inject,args:[n.APP_ID]}]}]},e}(Ot),At={remove:function(t){t.parentNode&&t.parentNode.removeChild(t)},appendChild:function(t,e){e.appendChild(t)},insertBefore:function(t,e){e.parentNode.insertBefore(t,e)},nextSibling:function(t){return t.nextSibling},parentElement:function(t){return t.parentNode}},Mt=function(){function t(t,e,r,i){this._rootRenderer=t,this.componentProto=e,this._animationDriver=r,this.directRenderer=At,this._styles=C(i,e.styles,[]),e.encapsulation!==n.ViewEncapsulation.Native&&this._rootRenderer.sharedStylesHost.addStyles(this._styles),this.componentProto.encapsulation===n.ViewEncapsulation.Emulated?(this._contentAttr=b(i),this._hostAttr=w(i)):(this._contentAttr=null,this._hostAttr=null)}return t.prototype.selectRootElement=function(t,e){var n;if("string"==typeof t){if(n=this._rootRenderer.document.querySelector(t),!n)throw new Error('The selector "'+t+'" did not match any elements')}else n=t;for(;n.firstChild;)n.removeChild(n.firstChild);return n},t.prototype.createElement=function(t,e,n){var r;if(E(e)){var i=S(e);r=document.createElementNS(St[i[0]],i[1])}else r=document.createElement(e);return this._contentAttr&&r.setAttribute(this._contentAttr,""),t&&t.appendChild(r),r},t.prototype.createViewRoot=function(t){var e;if(this.componentProto.encapsulation===n.ViewEncapsulation.Native){e=t.createShadowRoot();for(var r=0;r<this._styles.length;r++){var i=document.createElement("style");i.textContent=this._styles[r],e.appendChild(i)}}else this._hostAttr&&t.setAttribute(this._hostAttr,""),e=t;return e},t.prototype.createTemplateAnchor=function(t,e){var n=document.createComment(xt);return t&&t.appendChild(n),n},t.prototype.createText=function(t,e,n){var r=document.createTextNode(e);return t&&t.appendChild(r),r},t.prototype.projectNodes=function(t,e){t&&g(t,e)},t.prototype.attachViewAfter=function(t,e){v(t,e)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.parentNode&&n.parentNode.removeChild(n)}},t.prototype.destroyView=function(t,e){this.componentProto.encapsulation===n.ViewEncapsulation.Native&&t&&this._rootRenderer.sharedStylesHost.removeHost(t.shadowRoot)},t.prototype.listen=function(t,e,n){return this._rootRenderer.eventManager.addEventListener(t,e,_(n))},t.prototype.listenGlobal=function(t,e,n){return this._rootRenderer.eventManager.addGlobalEventListener(t,e,_(n))},t.prototype.setElementProperty=function(t,e,n){t[e]=n},t.prototype.setElementAttribute=function(t,e,n){var i,o=e;if(E(e)){var s=S(e);o=s[1],e=s[0]+":"+s[1],i=St[s[0]]}r(n)?i?t.setAttributeNS(i,e,n):t.setAttribute(e,n):r(i)?t.removeAttributeNS(i,o):t.removeAttribute(e)},t.prototype.setBindingDebugInfo=function(t,e,n){if(t.nodeType===Node.COMMENT_NODE){var r=t.nodeValue.replace(/\n/g,"").match(Pt),i=JSON.parse(r[1]);i[e]=n,t.nodeValue=xt.replace("{}",JSON.stringify(i,null,2))}else this.setElementAttribute(t,e,n)},t.prototype.setElementClass=function(t,e,n){n?t.classList.add(e):t.classList.remove(e)},t.prototype.setElementStyle=function(t,e,n){r(n)?t.style[e]=o(n):t.style[e]=""},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){t.nodeValue=e},t.prototype.animate=function(t,e,n,r,i,o,s){return void 0===s&&(s=[]),this._rootRenderer.document.body.contains(t)?this._animationDriver.animate(t,e,n,r,i,o,s):new X},t}(),kt=/%COMP%/g,Rt="%COMP%",It="_nghost-"+Rt,Nt="_ngcontent-"+Rt,Dt=/^:([^:]+):(.+)$/,jt={ApplicationRef:n.ApplicationRef,NgZone:n.NgZone},Vt="ng.probe",Lt="ng.coreTokens",Ft=function(){function t(t,e){this.name=t,this.token=e}return t}(),Ut=[{provide:n.RootRenderer,useFactory:P,deps:[Ot,[Ft,new n.Optional],[n.NgProbeToken,new n.Optional]]}],Ht=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Bt=function(t){function e(){t.apply(this,arguments)}return Ht(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){return t.addEventListener(e,n,!1),function(){return t.removeEventListener(e,n,!1)}},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[]},e}(_t),qt=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},zt={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Wt=new n.OpaqueToken("HammerGestureConfig"),Gt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[]},t}(),Xt=function(t){function e(e){t.call(this),this._config=e}return qt(e,t),e.prototype.supports=function(t){if(!zt.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),s=function(t){i.runGuarded(function(){n(t)})};return o.on(e,s),function(){return o.off(e,s)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:Gt,decorators:[{type:n.Inject,args:[Wt]}]}]},e}(_t),$t=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Qt=["alt","control","meta","shift"],Yt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Kt=function(t){function e(){t.call(this)}return $t(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return a().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(Qt.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s},e.getEventFullKey=function(t){var e="",n=a().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Qt.forEach(function(r){if(r!=n){var i=Yt[r];i(t)&&(e+=r+".")}}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[]},e}(_t),Zt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Jt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,te=null,ee=null,ne=R("area,br,col,hr,img,wbr"),re=R("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ie=R("rp,rt"),oe=I(ie,re),se=I(re,R("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ae=I(ie,R("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ue=I(ne,se,ae,oe),ce=R("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),le=R("srcset"),pe=R("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),he=I(ce,le,pe),fe=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(ee.isElementNode(e)?this.startElement(e):ee.isTextNode(e)?this.chars(ee.nodeValue(e)):this.sanitizedSomething=!0,ee.firstChild(e))e=ee.firstChild(e);else for(;e;){if(ee.isElementNode(e)&&this.endElement(e),ee.nextSibling(e)){e=ee.nextSibling(e);break}e=ee.parentElement(e)}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=ee.nodeName(t).toLowerCase();return ue.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),ee.attributeMap(t).forEach(function(t,n){var r=n.toLowerCase();return he.hasOwnProperty(r)?(ce[r]&&(t=A(t)),le[r]&&(t=M(t)),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(N(t)),void e.buf.push('"')):void(e.sanitizedSomething=!0)}),void this.buf.push(">")):void(this.sanitizedSomething=!0)},t.prototype.endElement=function(t){var e=ee.nodeName(t).toLowerCase();ue.hasOwnProperty(e)&&!ne.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(N(t))},t}(),de=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ye=/([^\#-~ |!])/g,me="[-,.\"'%_!# a-zA-Z0-9]+",ve="(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?",ge="(?:rgb|hsl)a?",_e="(?:repeating-)?(?:linear|radial)-gradient",be="(?:calc|attr)",we="\\([-0-9.%, #a-zA-Z]+\\)",Ce=new RegExp("^("+me+"|"+("(?:"+ve+"|"+ge+"|"+_e+"|"+be+")")+(we+")$"),"g"),Ee=/^url\(([^)]+)\)$/,Se=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},xe=function(){function t(){}return t.prototype.sanitize=function(t,e){},t.prototype.bypassSecurityTrustHtml=function(t){},t.prototype.bypassSecurityTrustStyle=function(t){},t.prototype.bypassSecurityTrustScript=function(t){},t.prototype.bypassSecurityTrustUrl=function(t){},t.prototype.bypassSecurityTrustResourceUrl=function(t){},t}(),Pe=function(t){function e(){t.apply(this,arguments)}return Se(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case n.SecurityContext.NONE:return e;case n.SecurityContext.HTML:return e instanceof Te?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),j(String(e)));case n.SecurityContext.STYLE:return e instanceof Ae?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),L(e));case n.SecurityContext.SCRIPT:if(e instanceof Me)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case n.SecurityContext.URL:return e instanceof Re||e instanceof ke?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),A(String(e)));case n.SecurityContext.RESOURCE_URL:if(e instanceof Re)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Oe)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Te(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Ae(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Me(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new ke(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Re(t)},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[]},e}(xe),Oe=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.getTypeName=function(){},t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Te=function(t){function e(){t.apply(this,arguments)}return Se(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Oe),Ae=function(t){function e(){t.apply(this,arguments)}return Se(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Oe),Me=function(t){function e(){t.apply(this,arguments)}return Se(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Oe),ke=function(t){function e(){t.apply(this,arguments)}return Se(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Oe),Re=function(t){function e(){t.apply(this,arguments)}return Se(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Oe),Ie=[{provide:n.PLATFORM_INITIALIZER,useValue:F,multi:!0},{provide:e.PlatformLocation,useClass:ht}],Ne=[{provide:n.Sanitizer,useExisting:xe},{provide:xe,useClass:Pe}],De=n.createPlatformFactory(n.platformCore,"browser",Ie),je=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.decorators=[{type:n.NgModule,args:[{providers:[Ne,{provide:n.ErrorHandler,useFactory:U,deps:[]},{provide:mt,useFactory:H,deps:[]},{provide:vt,useClass:Bt,multi:!0},{provide:vt,useClass:Kt,multi:!0},{provide:vt,useClass:Xt,multi:!0},{provide:Wt,useClass:Gt},{provide:Ot,useClass:Tt},{provide:n.RootRenderer,useExisting:Ot},{provide:wt,useExisting:Ct},{provide:Q,useFactory:B},Ct,n.Testability,gt,Ut,dt],exports:[e.CommonModule,n.ApplicationModule]}]}],t.ctorParameters=function(){return[{type:t,decorators:[{type:n.Optional},{type:n.SkipSelf}]}]},t}(),Ve="undefined"!=typeof window&&window||{},Le=function(){function t(t,e){this.msPerTick=t,this.numTicks=e}return t}(),Fe=function(){function t(t){this.profiler=new Ue(t)}return t}(),Ue=function(){function t(t){this.appRef=t.injector.get(n.ApplicationRef)}return t.prototype.timeChangeDetection=function(t){var e=t&&t.record,n="Change Detection",i=r(Ve.console.profile);e&&i&&Ve.console.profile(n);for(var o=a().performanceNow(),s=0;s<5||a().performanceNow()-o<500;)this.appRef.tick(),s++;var u=a().performanceNow();e&&i&&Ve.console.profileEnd(n);var c=(u-o)/s;return Ve.console.log("ran "+s+" change detection cycles"),Ve.console.log(c.toFixed(2)+" ms per check"),new Le(c,s)},t}(),He=Y,Be=function(){function t(){}return t.all=function(){return function(t){return!0}},t.css=function(t){return function(e){return!!r(e.nativeElement)&&a().elementMatches(e.nativeElement,t)}},t.directive=function(t){return function(e){return e.providerTokens.indexOf(t)!==-1}},t}(),qe={BrowserPlatformLocation:ht,DomAdapter:J,BrowserDomAdapter:ct,BrowserGetTestability:ft,getDOM:a,setRootDomAdapter:u,DomRootRenderer_:Tt,DomRootRenderer:Ot,NAMESPACE_URIS:St,shimContentAttribute:b,shimHostAttribute:w,flattenStyles:C,splitNamespace:S,isNamespaced:E,DomSharedStylesHost:Ct,SharedStylesHost:wt,ELEMENT_PROBE_PROVIDERS:Ut,DomEventsPlugin:Bt,KeyEventsPlugin:Kt,HammerGesturesPlugin:Xt,initDomAdapter:F,INTERNAL_BROWSER_PLATFORM_PROVIDERS:Ie,BROWSER_SANITIZATION_PROVIDERS:Ne,WebAnimationsDriver:et},ze=new n.Version("2.4.8");t.BrowserModule=je,t.platformBrowser=De,t.Title=dt,t.disableDebugTools=z,t.enableDebugTools=q,t.AnimationDriver=Q,t.By=Be,t.NgProbeToken=Ft,t.DOCUMENT=mt,t.EVENT_MANAGER_PLUGINS=vt,t.EventManager=gt,t.HAMMER_GESTURE_CONFIG=Wt,t.HammerGestureConfig=Gt,t.DomSanitizer=xe,t.VERSION=ze,t.__platform_browser_private__=qe}),function(i,o){"object"==typeof n&&"undefined"!=typeof r?o(n,e("@angular/core"),e("rxjs/Observable"),e("@angular/platform-browser")):t.registerDynamic("41",["c","17","e"],!1,function(t,e,n){return"function"==typeof o?o.call(e,e,t("c"),t("17"),t("e")):o})}(this,function(t,e,n,r){"use strict";function i(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return m.Get;case"POST":return m.Post;case"PUT":return m.Put;case"DELETE":return m.Delete;case"OPTIONS":return m.Options;case"HEAD":return m.Head;case"PATCH":return m.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}function o(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):void 0}function s(t){for(var e=new Uint16Array(t.length),n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}function a(t){void 0===t&&(t="");var e=new Map;if(t.length>0){var n=t.split("&");n.forEach(function(t){var n=t.indexOf("="),r=n==-1?[t,""]:[t.slice(0,n),t.slice(n+1)],i=r[0],o=r[1],s=e.get(i)||[];s.push(o),e.set(i,s)})}return e}function u(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function c(){var t="object"==typeof window?window:{};return null===j&&(j=t[D]={}),j}function l(t,e){return t.createConnection(e).response}function p(t,e,n,r){var i=t;return e?i.merge(new Y({method:e.method||n,url:e.url||r,search:e.search,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType})):i.merge(new Y({method:n,url:r}))}function h(){return new X}function f(t,e){return new st(t,e)}function d(t,e){return new at(t,e)}var y=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),m={};m.Get=0,m.Post=1,m.Put=2,m.Delete=3,m.Options=4,m.Head=5,m.Patch=6,m[m.Get]="Get",m[m.Post]="Post",m[m.Put]="Put",m[m.Delete]="Delete",m[m.Options]="Options",m[m.Head]="Head",m[m.Patch]="Patch";var v={};v.Unsent=0,v.Open=1,v.HeadersReceived=2,v.Loading=3,v.Done=4,v.Cancelled=5,v[v.Unsent]="Unsent",v[v.Open]="Open",v[v.HeadersReceived]="HeadersReceived",v[v.Loading]="Loading",v[v.Done]="Done",v[v.Cancelled]="Cancelled";var g={};g.Basic=0,g.Cors=1,g.Default=2,g.Error=3,g.Opaque=4,g[g.Basic]="Basic",g[g.Cors]="Cors",g[g.Default]="Default",g[g.Error]="Error",g[g.Opaque]="Opaque";var _={};_.NONE=0,_.JSON=1,_.FORM=2,_.FORM_DATA=3,_.TEXT=4,_.BLOB=5,_.ARRAY_BUFFER=6,_[_.NONE]="NONE",_[_.JSON]="JSON",_[_.FORM]="FORM",_[_.FORM_DATA]="FORM_DATA",_[_.TEXT]="TEXT",_[_.BLOB]="BLOB",_[_.ARRAY_BUFFER]="ARRAY_BUFFER";var b={};b.Text=0,b.Json=1,b.ArrayBuffer=2,b.Blob=3,b[b.Text]="Text",b[b.Json]="Json",b[b.ArrayBuffer]="ArrayBuffer",b[b.Blob]="Blob";var w=function(){function t(e){var n=this;if(this._headers=new Map,this._normalizedNames=new Map,e)return e instanceof t?void e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):void Object.keys(e).forEach(function(t){var r=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),r.forEach(function(e){return n.append(t,e)})})}return t.fromResponseHeaderString=function(e){var n=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=t.slice(e+1).trim();n.set(r,i)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,r){return t(n,e._normalizedNames.get(r),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,r){var i=[];n.forEach(function(t){return i.push.apply(i,t.split(","))}),e[t._normalizedNames.get(r)]=i}),e},t.prototype.getAll=function(t){return this.has(t)?this._headers.get(t.toLowerCase()):null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),C=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},E=function(){function t(t){var e=void 0===t?{}:t,n=e.body,r=e.status,i=e.headers,o=e.statusText,s=e.type,a=e.url;this.body=null!=n?n:null,this.status=null!=r?r:null,this.headers=null!=i?i:null,this.statusText=null!=o?o:null,this.type=null!=s?s:null,this.url=null!=a?a:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),S=function(t){function n(){t.call(this,{status:200,statusText:"Ok",type:g.Default,headers:new w})}return C(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(E),x=function(){function t(){}return t.prototype.createConnection=function(t){},t}(),P=function(){function t(){}return t}(),O=function(){function t(){}return t.prototype.configureRequest=function(t){},t}(),T=function(t){return t>=200&&t<300},A=function(){function t(){}return t.prototype.encodeKey=function(t){return u(t)},t.prototype.encodeValue=function(t){return u(t)},t}(),M=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new A),this.rawParams=t,this.queryEncoder=e,this.paramsMap=a(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0===e||null===e)return void this.delete(t);var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0,r.push(t[0]),e.paramsMap.set(n,r)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var r=e.paramsMap.get(n)||[],i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0;for(var i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,r){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(r)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),k=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(){return this._body instanceof M?this._body.toString():this._body instanceof ArrayBuffer?String.fromCharCode.apply(null,new Uint16Array(this._body)):null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:s(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),R=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},I=function(t){function e(e){t.call(this),this._body=e.body,this.status=e.status,this.ok=this.status>=200&&this.status<=299,this.statusText=e.statusText,this.headers=e.headers,this.type=e.type,this.url=e.url}return R(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(k),N=0,D="__ng_jsonp__",j=null,V=function(){function t(){}return t.prototype.build=function(t){var e=document.createElement("script");return e.src=t,e},t.prototype.nextRequestID=function(){return"__req"+N++},t.prototype.requestCallback=function(t){return D+"."+t+".finished"},t.prototype.exposeConnection=function(t,e){var n=c();n[t]=e},t.prototype.removeConnection=function(t){var e=c();e[t]=null},t.prototype.send=function(t){document.body.appendChild(t)},t.prototype.cleanup=function(t){t.parentNode&&t.parentNode.removeChild(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),L=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},F="JSONP injected script did not invoke callback.",U="JSONP requests must use GET request method.",H=function(){function t(){}return t.prototype.finished=function(t){},t}(),B=function(t){function e(e,r,i){var o=this;if(t.call(this),this._dom=r,this.baseResponseOptions=i,this._finished=!1,e.method!==m.Get)throw new TypeError(U);this.request=e,this.response=new n.Observable(function(t){o.readyState=v.Loading;var n=o._id=r.nextRequestID();r.exposeConnection(n,o);var s=r.requestCallback(o._id),a=e.url;a.indexOf("=JSONP_CALLBACK&")>-1?a=a.replace("=JSONP_CALLBACK&","="+s+"&"):a.lastIndexOf("=JSONP_CALLBACK")===a.length-"=JSONP_CALLBACK".length&&(a=a.substring(0,a.length-"=JSONP_CALLBACK".length)+("="+s));var u=o._script=r.build(a),c=function(e){if(o.readyState!==v.Cancelled){if(o.readyState=v.Done,r.cleanup(u),!o._finished){var n=new E({body:F,type:g.Error,url:a});return i&&(n=i.merge(n)),void t.error(new I(n))}var s=new E({body:o._responseData,url:a});o.baseResponseOptions&&(s=o.baseResponseOptions.merge(s)),t.next(new I(s)),t.complete()}},l=function(e){if(o.readyState!==v.Cancelled){o.readyState=v.Done,r.cleanup(u);var n=new E({body:e.message,type:g.Error});i&&(n=i.merge(n)),t.error(new I(n))}};return u.addEventListener("load",c),u.addEventListener("error",l),r.send(u),function(){o.readyState=v.Cancelled,u.removeEventListener("load",c),
u.removeEventListener("error",l),o._dom.cleanup(u)}})}return L(e,t),e.prototype.finished=function(t){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==v.Cancelled&&(this._responseData=t)},e}(H),q=function(t){function e(){t.apply(this,arguments)}return L(e,t),e}(x),z=function(t){function n(e,n){t.call(this),this._browserJSONP=e,this._baseResponseOptions=n}return L(n,t),n.prototype.createConnection=function(t){return new B(t,this._browserJSONP,this._baseResponseOptions)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:V},{type:E}]},n}(q),W=/^\)\]\}',?\n/,G=function(){function t(t,e,r){var i=this;this.request=t,this.response=new n.Observable(function(n){var s=e.build();s.open(m[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(s.withCredentials=t.withCredentials);var a=function(){var e=1223===s.status?204:s.status,i=null;204!==e&&(i="undefined"==typeof s.response?s.responseText:s.response,"string"==typeof i&&(i=i.replace(W,""))),0===e&&(e=i?200:0);var a=w.fromResponseHeaderString(s.getAllResponseHeaders()),u=o(s)||t.url,c=s.statusText||"OK",l=new E({body:i,status:e,headers:a,statusText:c,url:u});null!=r&&(l=r.merge(l));var p=new I(l);return p.ok=T(e),p.ok?(n.next(p),void n.complete()):void n.error(p)},u=function(t){var e=new E({body:t,type:g.Error,status:s.status,statusText:s.statusText});null!=r&&(e=r.merge(e)),n.error(new I(e))};if(i.setDetectedContentType(t,s),null==t.headers&&(t.headers=new w),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return s.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=s.responseType)switch(t.responseType){case b.ArrayBuffer:s.responseType="arraybuffer";break;case b.Json:s.responseType="json";break;case b.Text:s.responseType="text";break;case b.Blob:s.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return s.addEventListener("load",a),s.addEventListener("error",u),s.send(i.request.getBody()),function(){s.removeEventListener("load",a),s.removeEventListener("error",u),s.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case _.NONE:break;case _.JSON:e.setRequestHeader("content-type","application/json");break;case _.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case _.TEXT:e.setRequestHeader("content-type","text/plain");break;case _.BLOB:var n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),X=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=r.__platform_browser_private__.getDOM().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),$=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new G(t,this._browserXHR,this._baseResponseOptions)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:y},{type:E},{type:O}]},t}(),Q=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Y=function(){function t(t){var e=void 0===t?{}:t,n=e.method,r=e.headers,o=e.body,s=e.url,a=e.search,u=e.withCredentials,c=e.responseType;this.method=null!=n?i(n):null,this.headers=null!=r?r:null,this.body=null!=o?o:null,this.url=null!=s?s:null,this.search=null!=a?"string"==typeof a?new M(a):a:null,this.withCredentials=null!=u?u:null,this.responseType=null!=c?c:null}return t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new w(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,search:e&&null!=e.search?"string"==typeof e.search?new M(e.search):e.search.clone():this.search,withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t}(),K=function(t){function n(){t.call(this,{method:m.Get,headers:new w})}return Q(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(Y),Z=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},J=function(t){function e(e){t.call(this);var n=e.url;if(this.url=e.url,e.search){var r=e.search.toString();if(r.length>0){var o="?";this.url.indexOf("?")!=-1&&(o="&"==this.url[this.url.length-1]?"":"&"),this.url=n+o+r}}this._body=e.body,this.method=i(e.method),this.headers=new w(e.headers),this.contentType=this.detectContentType(),this.withCredentials=e.withCredentials,this.responseType=e.responseType}return Z(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return _.JSON;case"application/x-www-form-urlencoded":return _.FORM;case"multipart/form-data":return _.FORM_DATA;case"text/plain":case"text/html":return _.TEXT;case"application/octet-stream":return this._body instanceof it?_.ARRAY_BUFFER:_.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?_.NONE:this._body instanceof M?_.FORM:this._body instanceof nt?_.FORM_DATA:this._body instanceof rt?_.BLOB:this._body instanceof it?_.ARRAY_BUFFER:this._body&&"object"==typeof this._body?_.JSON:_.TEXT},e.prototype.getBody=function(){switch(this.contentType){case _.JSON:return this.text();case _.FORM:return this.text();case _.FORM_DATA:return this._body;case _.TEXT:return this.text();case _.BLOB:return this.blob();case _.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(k),tt=function(){},et="object"==typeof window?window:tt,nt=et.FormData||tt,rt=et.Blob||tt,it=et.ArrayBuffer||tt,ot=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},st=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=l(this._backend,new J(p(this._defaultOptions,e,m.Get,t)));else{if(!(t instanceof J))throw new Error("First argument must be a url string or Request instance.");n=l(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new J(p(this._defaultOptions,e,m.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new J(p(this._defaultOptions.merge(new Y({body:e})),n,m.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new J(p(this._defaultOptions.merge(new Y({body:e})),n,m.Put,t)))},t.prototype.delete=function(t,e){return this.request(new J(p(this._defaultOptions,e,m.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new J(p(this._defaultOptions.merge(new Y({body:e})),n,m.Patch,t)))},t.prototype.head=function(t,e){return this.request(new J(p(this._defaultOptions,e,m.Head,t)))},t.prototype.options=function(t,e){return this.request(new J(p(this._defaultOptions,e,m.Options,t)))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:x},{type:Y}]},t}(),at=function(t){function n(e,n){t.call(this,e,n)}return ot(n,t),n.prototype.request=function(t,e){var n;if("string"==typeof t&&(t=new J(p(this._defaultOptions,e,m.Get,t))),!(t instanceof J))throw new Error("First argument must be a url string or Request instance.");if(t.method!==m.Get)throw new Error("JSONP requests must use GET request method.");return n=l(this._backend,t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:x},{type:Y}]},n}(st),ut=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[{provide:st,useFactory:f,deps:[$,Y]},y,{provide:Y,useClass:K},{provide:E,useClass:S},$,{provide:O,useFactory:h}]}]}],t.ctorParameters=function(){return[]},t}(),ct=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[{provide:at,useFactory:d,deps:[q,Y]},V,{provide:Y,useClass:K},{provide:E,useClass:S},{provide:q,useClass:z}]}]}],t.ctorParameters=function(){return[]},t}(),lt=new e.Version("2.4.8");t.BrowserXhr=y,t.JSONPBackend=q,t.JSONPConnection=H,t.CookieXSRFStrategy=X,t.XHRBackend=$,t.XHRConnection=G,t.BaseRequestOptions=K,t.RequestOptions=Y,t.BaseResponseOptions=S,t.ResponseOptions=E,t.ReadyState=v,t.RequestMethod=m,t.ResponseContentType=b,t.ResponseType=g,t.Headers=w,t.Http=st,t.Jsonp=at,t.HttpModule=ut,t.JsonpModule=ct,t.Connection=P,t.ConnectionBackend=x,t.XSRFStrategy=O,t.Request=J,t.Response=I,t.QueryEncoder=A,t.URLSearchParams=M,t.VERSION=lt}),t.registerDynamic("3b",["22"],!0,function(t,e,n){"use strict";function r(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(t,e))}var i=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=t("22");e.map=r;var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();e.MapOperator=s;var a=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)}),t.registerDynamic("46",["17","3b"],!0,function(t,e,n){"use strict";var r=(this||self,t("17")),i=t("3b");r.Observable.prototype.map=i.map}),t.registerDynamic("32",["22"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t("22"),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i.Subscriber);e.OuterSubscriber=o}),t.registerDynamic("25",[],!0,function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}this||self;e.isPromise=r}),t.registerDynamic("1c",["1b"],!0,function(t,e,n){"use strict";function r(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var s=i[o];if("entries"!==s&&"size"!==s&&r.prototype[s]===r.prototype.entries)return s}return"@@iterator"}var i=(this||self,t("1b"));e.symbolIteratorPonyfill=r,e.$$iterator=r(i.root)}),t.registerDynamic("47",["22"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t("22"),o=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber);e.InnerSubscriber=o}),t.registerDynamic("31",["1b","24","25","48","17","1c","47","28"],!0,function(t,e,n){"use strict";function r(t,e,n,r){var h=new l.InnerSubscriber(t,n,r);if(h.closed)return null;if(e instanceof u.Observable)return e._isScalar?(h.next(e.value),h.complete(),null):e.subscribe(h);if(o.isArray(e)){for(var f=0,d=e.length;f<d&&!h.closed;f++)h.next(e[f]);h.closed||h.complete()}else{if(s.isPromise(e))return e.then(function(t){h.closed||(h.next(t),h.complete())},function(t){return h.error(t)}).then(null,function(t){i.root.setTimeout(function(){throw t})}),h;if(e&&"function"==typeof e[c.$$iterator])for(var y=e[c.$$iterator]();;){var m=y.next();if(m.done){h.complete();break}if(h.next(m.value),h.closed)break}else if(e&&"function"==typeof e[p.$$observable]){var v=e[p.$$observable]();if("function"==typeof v.subscribe)return v.subscribe(new l.InnerSubscriber(t,n,r));h.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var g=a.isObject(e)?"an invalid object":"'"+e+"'",_="You provided "+g+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";h.error(new TypeError(_))}}return null}var i=(this||self,t("1b")),o=t("24"),s=t("25"),a=t("48"),u=t("17"),c=t("1c"),l=t("47"),p=t("28");e.subscribeToResult=r}),t.registerDynamic("3c",["32","31"],!0,function(t,e,n){"use strict";function r(t){var e=new a(t),n=this.lift(e);return e.caught=n}var i=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=t("32"),s=t("31");e._catch=r;var a=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return i(e,t),e.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(t){return void this.destination.error(t)}this.unsubscribe(),this.destination.remove(this),s.subscribeToResult(this,e)}},e}(o.OuterSubscriber)}),t.registerDynamic("49",["17","3c"],!0,function(t,e,n){"use strict";var r=(this||self,t("17")),i=t("3c");r.Observable.prototype.catch=i._catch,r.Observable.prototype._catch=i._catch}),t.registerDynamic("15",["1b"],!0,function(t,e,n){"use strict";function r(t){var e=this;if(t||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?t=i.root.Rx.config.Promise:i.root.Promise&&(t=i.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}var i=(this||self,t("1b"));e.toPromise=r}),t.registerDynamic("4a",["17","15"],!0,function(t,e,n){"use strict";var r=(this||self,t("17")),i=t("15");r.Observable.prototype.toPromise=i.toPromise}),t.registerDynamic("4b",["17"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t("17"),o=function(t){function e(e,n){t.call(this),this.error=e,this.scheduler=n}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.error,n=t.subscriber;n.error(e)},e.prototype._subscribe=function(t){var n=this.error,r=this.scheduler;return r?r.schedule(e.dispatch,0,{error:n,subscriber:t}):void t.error(n)},e}(i.Observable);e.ErrorObservable=o}),t.registerDynamic("4c",["4b"],!0,function(t,e,n){"use strict";var r=(this||self,t("4b"));e._throw=r.ErrorObservable.create}),t.registerDynamic("4d",["17","4c"],!0,function(t,e,n){"use strict";var r=(this||self,t("17")),i=t("4c");r.Observable.throw=i._throw}),t.registerDynamic("3e",["c","41","4e","46","49","4a","4d"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=t("41"),a=t("4e");t("46"),t("49"),t("4a"),t("4d");var u=function(){function t(t,e){this.http=t,this.app=e,this._authUrl=this.app.Server,this._tokenUrl=this.app.FileServer,this.headers=new s.Headers({"Content-Type":"application/X-www-form-urlencoded"}),this.jheaders=new s.Headers({"Content-Type":"application/json"}),this.options=new s.RequestOptions({headers:this.headers}),this.joptions=new s.RequestOptions({headers:this.jheaders}),this.tokenParams="grant_type=password&client_id=myClient&scope=offline_access profile email roles",this.refreshParams="grant_type=refresh_token&refresh_token="+localStorage.getItem("refresh_key")+"&scope=offline_access profile email roles"}return t.prototype.getUserInfo=function(){if(localStorage.getItem("auth_key"))return this.authheaders=new s.Headers({Authorization:"Bearer "+localStorage.getItem("auth_key")}),this.Authoptions=new s.RequestOptions({headers:this.authheaders}),this.http.get(this._authUrl+"/api/misc/getUserInfo",this.Authoptions).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.logout=function(){if(localStorage.getItem("auth_key"))return this.authheaders=new s.Headers({Authorization:"Bearer "+localStorage.getItem("auth_key")}),this.Authoptions=new s.RequestOptions({headers:this.authheaders}),this.http.get(this._tokenUrl+"/connect/logout",this.Authoptions).map(function(t){return t}).catch(this.handleError)},t.prototype.Login=function(t){return this.http.post(this._tokenUrl+"/connect/verifycode",this.tokenParams+"&username="+t.userName+"&password="+t.password,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.changepassword=function(t){return this.authheaders=new s.Headers({Authorization:"Bearer "+localStorage.getItem("auth_key")}),this.Authoptions=new s.RequestOptions({headers:this.authheaders}),this.http.post(this._authUrl+"/api/account/updateprofile?password="+t.password+"&oldpassword="+t.oldpassword+"&username="+t.username,this.Authoptions).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.refreshLogin=function(){return this.http.post(this._authUrl+"/connect/verifycode",this.refreshParams,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.sendotp=function(t){return this.http.post(this._authUrl+"/api/account/sendOtp?username="+t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.Register=function(t){var e=JSON.stringify(t);return this.http.post(this._authUrl+"/api/account/register",e,this.joptions).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.putUser=function(t){var e=JSON.stringify(t);return this.http.post(this._authUrl+"/api/account/updateUser",e,this.joptions).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.putUserPassword=function(t){this.authheaders=new s.Headers({Authorization:"Bearer "+localStorage.getItem("auth_key")}),this.Authoptions=new s.RequestOptions({headers:this.authheaders});var e=JSON.stringify(t);return this.http.post(this._authUrl+"/api/account/ResetToOriginalPassword",e,this.joptions).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.handleError=function(t){return 401===t.status?Promise.reject("401"):(console.error("An error occurred",t),Promise.reject(t.message||t.json()))},t=r([o.Injectable(),i("design:paramtypes",[s.Http,a.Configuration])],t)}();e.authservice=u}),t.registerDynamic("3a",["16","4f"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t("16"),o=t("4f"),s=function(t){function e(e){t.call(this),this._value=e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);e.BehaviorSubject=s}),t.registerDynamic("50",["c","3a"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=t("3a"),a=function(){function t(){this.cehckStatus=new o.EventEmitter,this.logout=new o.EventEmitter,this.modalstatus=new o.EventEmitter,this.closemodal=new o.EventEmitter,this.defaultshare=new u,this.UserStatus=new s.BehaviorSubject(this.defaultshare)}return t.prototype.emitNotLoggedIn=function(){this.cehckStatus.emit(null)},t.prototype.emitLogOut=function(){this.logout.emit(null)},t.prototype.getLoggedInEmitter=function(){return this.cehckStatus},t.prototype.getLoggedOutEmitter=function(){return this.logout},t.prototype.emitopenmodal=function(){this.modalstatus.emit(null)},t.prototype.emitclosemodal=function(){this.closemodal.emit(null)},t.prototype.emitopenmodalEmitter=function(){return this.modalstatus},t.prototype.emitclosemodalEmitter=function(){return this.closemodal},t.prototype.broadcastTextChange=function(t){this.UserStatus.next(t)},t=r([o.Injectable(),i("design:paramtypes",[])],t)}();e.AuthLoginService=a;var u=function(){function t(){}return t}();e.SharedUserDetailsModel=u}),t.registerDynamic("4f",[],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=i}),t.registerDynamic("51",["52"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t("52"),o=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);n!==-1&&e.splice(n,1)}}},e}(i.Subscription);e.SubjectSubscription=o}),t.registerDynamic("16",["17","22","52","4f","51","53"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t("17"),o=t("22"),s=t("52"),a=t("4f"),u=t("51"),c=t("53"),l=function(t){function e(e){t.call(this,e),this.destination=e}return r(e,t),e}(o.Subscriber);e.SubjectSubscriber=l;var p=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(e,t),e.prototype[c.$$rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.Observable);e.Subject=p;var h=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var e=this.source;return e?this.source.subscribe(t):s.Subscription.EMPTY},e}(p);e.AnonymousSubject=h}),t.registerDynamic("24",[],!0,function(t,e,n){"use strict";this||self;e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}}),t.registerDynamic("48",[],!0,function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}this||self;e.isObject=r}),t.registerDynamic("54",[],!0,function(t,e,n){"use strict";function r(t){return"function"==typeof t}this||self;e.isFunction=r}),t.registerDynamic("55",["56"],!0,function(t,e,n){"use strict";function r(){try{return o.apply(this,arguments)}catch(t){return s.errorObject.e=t,s.errorObject}}function i(t){return o=t,r}var o,s=(this||self,t("56"));e.tryCatch=i}),t.registerDynamic("56",[],!0,function(t,e,n){"use strict";this||self;e.errorObject={e:{}}}),t.registerDynamic("57",[],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(e,t),e}(Error);e.UnsubscriptionError=i}),t.registerDynamic("52",["24","48","54","55","56","57"],!0,function(t,e,n){"use strict";var r=(this||self,t("24")),i=t("48"),o=t("54"),s=t("55"),a=t("56"),u=t("57"),c=function(){function t(t){this.closed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){this.closed=!0;var n=this,c=n._unsubscribe,l=n._subscriptions;if(this._subscriptions=null,o.isFunction(c)){var p=s.tryCatch(c).call(this);p===a.errorObject&&(e=!0,(t=t||[]).push(a.errorObject.e))}if(r.isArray(l))for(var h=-1,f=l.length;++h<f;){var d=l[h];if(i.isObject(d)){var p=s.tryCatch(d.unsubscribe).call(d);if(p===a.errorObject){e=!0,t=t||[];var y=a.errorObject.e;y instanceof u.UnsubscriptionError?t=t.concat(y.errors):t.push(y)}}}if(e)throw new u.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)break;this.closed?n.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(n);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return n},t.prototype.remove=function(e){if(null!=e&&e!==this&&e!==t.EMPTY){var n=this._subscriptions;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=c}),t.registerDynamic("22",["54","52","58","53"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t("54"),o=t("52"),s=t("58"),a=t("53"),u=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!n){this.destination=s.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,i)}}return r(e,t),e.prototype[a.$$rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e}(o.Subscription);e.Subscriber=u;var c=function(t){function e(e,n,r,o){t.call(this),this._parent=e;var s,a=this;i.isFunction(n)?s=n:n&&(a=n,s=n.next,r=n.error,o=n.complete,i.isFunction(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this)),this._context=a,this._next=s,this._error=r,this._complete=o}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parent;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parent;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},e}(u)}),t.registerDynamic("53",["1b"],!0,function(t,e,n){"use strict";var r=(this||self,t("1b")),i=r.root.Symbol;e.$$rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber"}),t.registerDynamic("58",[],!0,function(t,e,n){"use strict";this||self;e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}}),t.registerDynamic("59",["22","53","58"],!0,function(t,e,n){"use strict";function r(t,e,n){if(t){if(t instanceof i.Subscriber)return t;if(t[o.$$rxSubscriber])return t[o.$$rxSubscriber]()}return t||e||n?new i.Subscriber(t,e,n):new i.Subscriber(s.empty)}var i=(this||self,t("22")),o=t("53"),s=t("58");e.toSubscriber=r}),t.registerDynamic("1b",[],!0,function(t,e,n){
"use strict";var r=this||self;if(e.root="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r,!e.root)throw new Error("RxJS could not find any global context (window, self, global)")}),t.registerDynamic("28",["1b"],!0,function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var i=(this||self,t("1b"));e.getSymbolObservable=r,e.$$observable=r(i.root)}),t.registerDynamic("17",["1b","59","28"],!0,function(t,e,n){"use strict";var r=(this||self,t("1b")),i=t("59"),o=t("28"),s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(r?r.call(o,this.source):o.add(this._subscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype.forEach=function(t,e){var n=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.$$observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=s}),function(i,o){"object"==typeof n&&"undefined"!=typeof r?o(n,e("rxjs/symbol/observable"),e("rxjs/Subject"),e("rxjs/Observable")):t.registerDynamic("c",["28","16","17"],!1,function(t,e,n){return"function"==typeof o?o.call(e,e,t("28"),t("16"),t("17")):o})}(this,function(t,e,n,r){"use strict";function i(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function o(t){return t.name||typeof t}function s(t){return null!=t}function a(t){return null==t}function u(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString(),n=e.indexOf("\n");return n===-1?e:e.substring(0,n)}function c(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function l(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function p(t){console.log(t)}function h(t){console.warn(t)}function f(){if(!fe)if(pe.Symbol&&Symbol.iterator)fe=Symbol.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),e=0;e<t.length;++e){var n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(fe=n)}return fe}function d(t){return!l(t)}function y(t){return"function"==typeof t&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}function m(t,e){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+u(t)+" as constructor");if("function"==typeof t)return t;if(Array.isArray(t)){var n=t,r=n.length-1,i=t[r];if("function"!=typeof i)throw new Error("Last position of Class method array must be Function in key "+e+" was '"+u(i)+"'");if(r!=i.length)throw new Error("Number of annotations ("+r+") does not match number of arguments ("+i.length+") in the function: "+u(i));for(var o=[],s=0,a=n.length-1;s<a;s++){var c=[];o.push(c);var l=n[s];if(Array.isArray(l))for(var p=0;p<l.length;p++)c.push(y(l[p]));else"function"==typeof l?c.push(y(l)):c.push(l)}return ye.defineMetadata("parameters",o,i),i}throw new Error("Only Function or Array is supported in Class definition for key '"+e+"' is '"+u(t)+"'")}function v(t){var e=m(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),n=e.prototype;if(t.hasOwnProperty("extends")){if("function"!=typeof t.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+u(t.extends));e.prototype=n=Object.create(t.extends.prototype)}for(var r in t)"extends"!==r&&"prototype"!==r&&t.hasOwnProperty(r)&&(n[r]=m(t[r],r));this&&this.annotations instanceof Array&&ye.defineMetadata("annotations",this.annotations,e);var i=e.name;return i&&"constructor"!==i||(e.overriddenName="class"+de++),e}function g(t,e,n,r){function i(t){if(!ye||!ye.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof i)return o.call(this,t),this;var e=new i(t),n="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];n.push(e);var s=function(t){var n=ye.getOwnMetadata("annotations",t)||[];return n.push(e),ye.defineMetadata("annotations",n,t),t};return s.annotations=n,s.Class=v,r&&r(s),s}void 0===r&&(r=null);var o=_([e]);return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+t},i.annotationCls=i,i}function _(t){return function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];t.forEach(function(t,r){var i=n[r];if(Array.isArray(t))e[t[0]]=void 0===i?t[1]:i;else for(var o in t)e[o]=i&&i.hasOwnProperty(o)?i[o]:t[o]})}}function b(t,e,n){function r(){function t(t,e,n){for(var r=ye.getOwnMetadata("parameters",t)||[];r.length<=n;)r.push(null);return r[n]=r[n]||[],r[n].push(o),ye.defineMetadata("parameters",r,t),t}for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var o=new((s=r).bind.apply(s,[void 0].concat(e)));return t.annotation=o,t;var s}var i=_(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}function w(t,e,n){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(this instanceof r)return i.apply(this,t),this;var n=new((o=r).bind.apply(o,[void 0].concat(t)));return function(t,e){var r=ye.getOwnMetadata("propMetadata",t.constructor)||{};r[e]=r.hasOwnProperty(e)&&r[e]||[],r[e].unshift(n),ye.defineMetadata("propMetadata",r,t.constructor)};var o}var i=_(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}function C(t){return a(t)||t===Me.Default}function E(t){return t.__forward_ref__=E,t.toString=function(){return u(this())},t}function S(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===E?t():t}function x(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}function P(t){if(t.length>1){var e=x(t.slice().reverse()),n=e.map(function(t){return u(t.token)});return" ("+n.join(" -> ")+")"}return""}function O(t){return"function"==typeof t}function T(t){return t?t.map(function(t){var e=t.type,n=e.annotationCls,r=t.args?t.args:[];return new(n.bind.apply(n,[void 0].concat(r)))}):[]}function A(t){var e=Object.getPrototypeOf(t.prototype),n=e?e.constructor:null;return n||Object}function M(t){var e,n;if(t.useClass){var r=S(t.useClass);e=Tn.factory(r),n=j(r)}else t.useExisting?(e=function(t){return t},n=[An.fromKey(_n.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=D(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Mn);return new Rn(e,n)}function k(t){return new kn(_n.get(t.provide),[M(t)],t.multi)}function R(t){var e=N(t,[]),n=e.map(k),r=I(n,new Map);return Array.from(r.values())}function I(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw new gn(i,r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var s=void 0;s=r.multiProvider?new kn(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,s)}}return e}function N(t,e){return t.forEach(function(t){if(t instanceof Cn)e.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)e.push(t);else{if(!(t instanceof Array))throw new yn(t);N(t,e)}}),e}function D(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return V(t,e,n)})}return j(t)}function j(t){var e=Tn.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw new mn(t,e);return e.map(function(n){return V(t,n,e)})}function V(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return e instanceof me?L(e.token,i,null):L(e,i,null);for(var o=null,s=0;s<e.length;++s){var a=e[s];a instanceof Cn?r=a:a instanceof me?r=a.token:a instanceof ve?i=!0:(a instanceof _e||a instanceof be)&&(o=a)}if(r=S(r),null!=r)return L(r,i,o);throw new mn(t,n)}function L(t,e,n){return new An(_n.get(t),e,n)}function F(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}function U(t){return!!l(t)&&(Array.isArray(t)||!(t instanceof Map)&&f()in t)}function H(t,e,n){for(var r=t[f()](),i=e[f()]();;){var o=r.next(),s=i.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!n(o.value,s.value))return!1}}function B(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[f()](),i=void 0;!(i=r.next()).done;)e(i.value)}function q(t){return!!t&&"function"==typeof t.then}function z(t){return!(!t||!t[e.$$observable])}function W(){return""+G()+G()+G()}function G(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function X(){throw new Error("Runtime compiler is not loaded")}function $(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Q(t,e){return U(t)&&U(e)?H(t,e,Q):!(U(t)||d(t)||U(e)||d(e))||c(t,e)}function Y(t,e,n,r,i){return new xr(""+Fr++,t,e,n,r,i)}function K(t,e){e.push(t)}function Z(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+tt(e[r+1]);return n+e[2*t]}function J(t,e,n,r,i,o,s,a,u,c,l,p,h,f,d,y,m,v,g,_){switch(t){case 1:return e+tt(n)+r;case 2:return e+tt(n)+r+tt(i)+o;case 3:return e+tt(n)+r+tt(i)+o+tt(s)+a;case 4:return e+tt(n)+r+tt(i)+o+tt(s)+a+tt(u)+c;case 5:return e+tt(n)+r+tt(i)+o+tt(s)+a+tt(u)+c+tt(l)+p;case 6:return e+tt(n)+r+tt(i)+o+tt(s)+a+tt(u)+c+tt(l)+p+tt(h)+f;case 7:return e+tt(n)+r+tt(i)+o+tt(s)+a+tt(u)+c+tt(l)+p+tt(h)+f+tt(d)+y;case 8:return e+tt(n)+r+tt(i)+o+tt(s)+a+tt(u)+c+tt(l)+p+tt(h)+f+tt(d)+y+tt(m)+v;case 9:return e+tt(n)+r+tt(i)+o+tt(s)+a+tt(u)+c+tt(l)+p+tt(h)+f+tt(d)+y+tt(m)+v+tt(g)+_;default:throw new Error("Does not support more than 9 expressions")}}function tt(t){return null!=t?t.toString():""}function et(t,e,n){if(t){if(!Q(e,n))throw new Dr(e,n);return!1}return!c(e,n)}function nt(t,e){return t}function rt(t){var e,n=mr;return function(r){return c(n,r)||(n=r,e=t(r)),e}}function it(t){var e,n=mr,r=mr;return function(i,o){return c(n,i)&&c(r,o)||(n=i,r=o,e=t(i,o)),e}}function ot(t){var e,n=mr,r=mr,i=mr;return function(o,s,a){return c(n,o)&&c(r,s)&&c(i,a)||(n=o,r=s,i=a,e=t(o,s,a)),e}}function st(t){var e,n,r,i,o;return n=r=i=o=mr,function(s,a,u,l){return c(n,s)&&c(r,a)&&c(i,u)&&c(o,l)||(n=s,r=a,i=u,o=l,e=t(s,a,u,l)),e}}function at(t){var e,n,r,i,o,s;return n=r=i=o=s=mr,function(a,u,l,p,h){return c(n,a)&&c(r,u)&&c(i,l)&&c(o,p)&&c(s,h)||(n=a,r=u,i=l,o=p,s=h,e=t(a,u,l,p,h)),e}}function ut(t){var e,n,r,i,o,s,a;return n=r=i=o=s=a=mr,function(u,l,p,h,f,d){return c(n,u)&&c(r,l)&&c(i,p)&&c(o,h)&&c(s,f)&&c(a,d)||(n=u,r=l,i=p,o=h,s=f,a=d,e=t(u,l,p,h,f,d)),e}}function ct(t){var e,n,r,i,o,s,a,u;return n=r=i=o=s=a=u=mr,function(l,p,h,f,d,y,m){return c(n,l)&&c(r,p)&&c(i,h)&&c(o,f)&&c(s,d)&&c(a,y)&&c(u,m)||(n=l,r=p,i=h,o=f,s=d,a=y,u=m,e=t(l,p,h,f,d,y,m)),e}}function lt(t){var e,n,r,i,o,s,a,u,l;return n=r=i=o=s=a=u=l=mr,function(p,h,f,d,y,m,v,g){return c(n,p)&&c(r,h)&&c(i,f)&&c(o,d)&&c(s,y)&&c(a,m)&&c(u,v)&&c(l,g)||(n=p,r=h,i=f,o=d,s=y,a=m,u=v,l=g,e=t(p,h,f,d,y,m,v,g)),e}}function pt(t){var e,n,r,i,o,s,a,u,l,p;return n=r=i=o=s=a=u=l=p=mr,function(h,f,d,y,m,v,g,_,b){return c(n,h)&&c(r,f)&&c(i,d)&&c(o,y)&&c(s,m)&&c(a,v)&&c(u,g)&&c(l,_)&&c(p,b)||(n=h,r=f,i=d,o=y,s=m,a=v,u=g,l=_,p=b,e=t(h,f,d,y,m,v,g,_,b)),e}}function ht(t){var e,n,r,i,o,s,a,u,l,p,h;return n=r=i=o=s=a=u=l=p=h=mr,function(f,d,y,m,v,g,_,b,w,C){return c(n,f)&&c(r,d)&&c(i,y)&&c(o,m)&&c(s,v)&&c(a,g)&&c(u,_)&&c(l,b)&&c(p,w)&&c(h,C)||(n=f,r=d,i=y,o=m,s=v,a=g,u=_,l=b,p=w,h=C,e=t(f,d,y,m,v,g,_,b,w,C)),e}}function ft(t,e,n){Object.keys(n).forEach(function(r){dt(t,e,r,n[r].currentValue)})}function dt(t,e,n,r){try{t.setBindingDebugInfo(e,"ng-reflect-"+yt(n),r?r.toString():null)}catch(r){t.setBindingDebugInfo(e,"ng-reflect-"+yt(n),"[ERROR] Exception while trying to serialize the value")}}function yt(t){return t.replace(Br,function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return"-"+t[1].toLowerCase()})}function mt(t,e,n,r,i){for(var o=t.createElement(e,n,i),s=0;s<r.length;s+=2)t.setElementAttribute(o,r.get(s),r.get(s+1));return o}function vt(t,e,n,r,i){var o;if(s(r)){o=t.selectRootElement(r,i);for(var a=0;a<n.length;a+=2)t.setElementAttribute(o,n.get(a),n.get(a+1));t.setElementAttribute(o,"ng-version",en.full)}else o=mt(t,null,e,n,i);return o}function gt(t,e,n,r){for(var i=wt(n.length/2),o=0;o<n.length;o+=2){var s=n.get(o),a=n.get(o+1),u=void 0;u=a?t.renderer.listenGlobal(a,s,r.bind(t,a+":"+s)):t.renderer.listen(e,s,r.bind(t,s)),i.set(o/2,u)}return _t.bind(null,i)}function _t(t){for(var e=0;e<t.length;e++)t.get(e)()}function bt(){}function wt(t){var e;return new(e=t<=2?zr:t<=4?Wr:t<=8?Gr:t<=16?Xr:$r)(t)}function Ct(){var t=he.wtf;return!(!t||!(Mr=t.trace))&&(kr=Mr.events,!0)}function Et(t,e){return void 0===e&&(e=null),kr.createScope(t,e)}function St(t,e){return Mr.leaveScope(t,e),e}function xt(t,e){return Mr.beginTimeRange(t,e)}function Pt(t){Mr.endTimeRange(t)}function Ot(t,e){return null}function Tt(t){di=t}function At(){if(vi)throw new Error("Cannot enable prod mode after platform setup.");mi=!1}function Mt(){return vi=!0,mi}function kt(t){if(Rr&&!Rr.destroyed)throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Rr=t.get(_i);var e=t.get(zn,null);return e&&e.forEach(function(t){return t()}),Rr}function Rt(t,e,n){void 0===n&&(n=[]);var r=new Ce("Platform: "+e);return function(e){return void 0===e&&(e=[]),Dt()||(t?t(n.concat(e).concat({provide:r,useValue:!0})):kt(Nn.resolveAndCreate(n.concat(e).concat({provide:r,useValue:!0})))),It(r)}}function It(t){var e=Dt();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function Nt(){Rr&&!Rr.destroyed&&Rr.destroy()}function Dt(){return Rr&&!Rr.destroyed?Rr:null}function jt(t,e){try{var n=e();return q(n)?n.catch(function(e){throw t.handleError(e),e}):n}catch(e){throw t.handleError(e),e}}function Vt(t,e){var n=Ai.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);Ai.set(t,e)}function Lt(t){var e=Ai.get(t);if(!e)throw new Error("No module with ID "+t+" loaded");return e}function Ft(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}function Ut(t){return t.map(function(t){return t.nativeElement})}function Ht(t,e,n){t.childNodes.forEach(function(t){t instanceof $i&&(e(t)&&n.push(t),Ht(t,e,n))})}function Bt(t,e,n){t instanceof $i&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof $i&&Bt(t,e,n)})}function qt(t){return Qi.get(t)}function zt(t){Qi.set(t.nativeNode,t)}function Wt(t){Qi.delete(t.nativeNode)}function Gt(){return Tn}function Xt(){return Er}function $t(){return Sr}function Qt(t){return t||"en-US"}function Yt(t,e){void 0===e&&(e=null);var n=e;if(!s(n)){var r={};n=new bo([r],1)}return new wo(t,n)}function Kt(t){return new So(t)}function Zt(t){return new Eo(t)}function Jt(t){var e,n=null;return"string"==typeof t?e=[t]:(e=Array.isArray(t)?t:[t],e.forEach(function(t){var e=t.offset;s(e)&&(n=null==n?parseFloat(e):n)})),new bo(e,n)}function te(t,e){return new mo(t,e)}function ee(t){return new _o(t)}function ne(t,e){var n=Array.isArray(e)?new Eo(e):e;return new vo(t,n)}function re(t,e){return new fo(t,e)}function ie(t,e,n){void 0===n&&(n=null);var r={};return Object.keys(e).forEach(function(t){var i=e[t];r[t]=i==ho?n:i.toString()}),Object.keys(t).forEach(function(t){s(r[t])||(r[t]=n)}),r}function oe(t,e,n){var r=n.length-1,i=n[0],o=ce(i.styles.styles),a={},u=!1;Object.keys(t).forEach(function(e){var n=t[e];o[e]||(o[e]=n,a[e]=n,u=!0)});var c=Ln.merge({},o),l=n[r];l.styles.styles.unshift(e);var p=ce(l.styles.styles),h={},f=!1;return Object.keys(c).forEach(function(t){s(p[t])||(h[t]=ho,f=!0)}),f&&l.styles.styles.push(h),Object.keys(p).forEach(function(t){s(o[t])||(a[t]=ho,u=!0)}),u&&i.styles.styles.push(a),ae(t,[e]),n}function se(t){var e={};return Object.keys(t).forEach(function(t){e[t]=null}),e}function ae(t,e){return e.map(function(e){var n={};return Object.keys(e).forEach(function(r){var i=e[r];i==no&&(i=t[r],s(i)||(i=ho)),t[r]=i,n[r]=i}),n})}function ue(t,e,n){Object.keys(n).forEach(function(r){e.setElementStyle(t,r,n[r])})}function ce(t){var e={};return t.forEach(function(t){Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function le(t,e){t instanceof so||t instanceof lo?t.players.forEach(function(t){return le(t,e)}):e.push(t)}var pe;pe="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var he=pe;he.assert=function(t){};var fe=null,de=0,ye=he.Reflect,me=b("Inject",[["token",void 0]]),ve=b("Optional",[]),ge=g("Injectable",[]),_e=b("Self",[]),be=b("SkipSelf",[]),we=b("Host",[]),Ce=function(){function t(t){this._desc=t}return t.prototype.toString=function(){return"Token "+this._desc},t.decorators=[{type:ge}],t.ctorParameters=function(){return[null]},t}(),Ee=new Ce("AnalyzeForEntryComponents"),Se=b("Attribute",[["attributeName",void 0]]),xe=function(){function t(){}return t}(),Pe=w("ContentChildren",[["selector",void 0],{first:!1,isViewQuery:!1,descendants:!1,read:void 0}],xe),Oe=w("ContentChild",[["selector",void 0],{first:!0,isViewQuery:!1,descendants:!0,read:void 0}],xe),Te=w("ViewChildren",[["selector",void 0],{first:!1,isViewQuery:!0,descendants:!0,read:void 0}],xe),Ae=w("ViewChild",[["selector",void 0],{first:!0,isViewQuery:!0,descendants:!0,read:void 0}],xe),Me={};Me.OnPush=0,Me.Default=1,Me[Me.OnPush]="OnPush",Me[Me.Default]="Default";var ke={};ke.CheckOnce=0,ke.Checked=1,ke.CheckAlways=2,ke.Detached=3,ke.Errored=4,ke.Destroyed=5,ke[ke.CheckOnce]="CheckOnce",ke[ke.Checked]="Checked",ke[ke.CheckAlways]="CheckAlways",ke[ke.Detached]="Detached",ke[ke.Errored]="Errored",ke[ke.Destroyed]="Destroyed";var Re=g("Directive",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,providers:void 0,exportAs:void 0,queries:void 0}),Ie=g("Component",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,exportAs:void 0,moduleId:void 0,providers:void 0,viewProviders:void 0,changeDetection:Me.Default,queries:void 0,templateUrl:void 0,template:void 0,styleUrls:void 0,styles:void 0,animations:void 0,encapsulation:void 0,interpolation:void 0,entryComponents:void 0},Re),Ne=g("Pipe",{name:void 0,pure:!0}),De=w("Input",[["bindingPropertyName",void 0]]),je=w("Output",[["bindingPropertyName",void 0]]),Ve=w("HostBinding",[["hostPropertyName",void 0]]),Le=w("HostListener",[["eventName",void 0],["args",[]]]),Fe={};Fe.OnInit=0,Fe.OnDestroy=1,Fe.DoCheck=2,Fe.OnChanges=3,Fe.AfterContentInit=4,Fe.AfterContentChecked=5,Fe.AfterViewInit=6,Fe.AfterViewChecked=7,Fe[Fe.OnInit]="OnInit",Fe[Fe.OnDestroy]="OnDestroy",Fe[Fe.DoCheck]="DoCheck",Fe[Fe.OnChanges]="OnChanges",Fe[Fe.AfterContentInit]="AfterContentInit",Fe[Fe.AfterContentChecked]="AfterContentChecked",Fe[Fe.AfterViewInit]="AfterViewInit",Fe[Fe.AfterViewChecked]="AfterViewChecked";var Ue=[Fe.OnInit,Fe.OnDestroy,Fe.DoCheck,Fe.OnChanges,Fe.AfterContentInit,Fe.AfterContentChecked,Fe.AfterViewInit,Fe.AfterViewChecked],He=function(){function t(){}return t.prototype.ngOnChanges=function(t){},t}(),Be=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),qe=function(){function t(){}return t.prototype.ngDoCheck=function(){},t}(),ze=function(){function t(){}return t.prototype.ngOnDestroy=function(){},t}(),We=function(){function t(){}return t.prototype.ngAfterContentInit=function(){},t}(),Ge=function(){function t(){}return t.prototype.ngAfterContentChecked=function(){},t}(),Xe=function(){function t(){}return t.prototype.ngAfterViewInit=function(){},t}(),$e=function(){function t(){}return t.prototype.ngAfterViewChecked=function(){},t}(),Qe={name:"custom-elements"},Ye={name:"no-errors-schema"},Ke=g("NgModule",{providers:void 0,declarations:void 0,imports:void 0,exports:void 0,entryComponents:void 0,bootstrap:void 0,schemas:void 0,id:void 0}),Ze={};Ze.Emulated=0,Ze.Native=1,Ze.None=2,Ze[Ze.Emulated]="Emulated",Ze[Ze.Native]="Native",Ze[Ze.None]="None";var Je=function(){function t(t){var e=void 0===t?{}:t,n=e.templateUrl,r=e.template,i=e.encapsulation,o=e.styles,s=e.styleUrls,a=e.animations,u=e.interpolation;this.templateUrl=n,this.template=r,this.styleUrls=s,this.styles=o,this.encapsulation=i,this.animations=a,this.interpolation=u}return t}(),tn=function(){function t(t){this.full=t}return Object.defineProperty(t.prototype,"major",{get:function(){return this.full.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minor",{get:function(){return this.full.split(".")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patch",{get:function(){return this.full.split(".").slice(2).join(".")},enumerable:!0,configurable:!0}),t}(),en=new tn("2.4.8"),nn=new Object,rn=nn,on=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=nn),e===nn)throw new Error("No provider for "+u(t)+"!");return e},t}(),sn=function(){function t(){}return t.prototype.get=function(t,e){},t.THROW_IF_NOT_FOUND=nn,t.NULL=new on,t}(),an=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},un=function(t){function e(e){t.call(this,e);var n=new Error(e);this._nativeError=n}return an(e,t),Object.defineProperty(e.prototype,"message",{get:function(){return this._nativeError.message},set:function(t){this._nativeError.message=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._nativeError.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stack",{get:function(){return this._nativeError.stack},set:function(t){this._nativeError.stack=t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this._nativeError.toString()},e}(Error),cn=function(t){function e(e,n){t.call(this,e+" caused by: "+(n instanceof Error?n.message:n)),this.originalError=n}return an(e,t),Object.defineProperty(e.prototype,"stack",{get:function(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:!0,configurable:!0}),e}(un),ln=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},pn=function(t){function e(e,n,r){t.call(this,"DI Error"),this.keys=[n],this.injectors=[e],this.constructResolvingMessage=r,this.message=this.constructResolvingMessage(this.keys)}return ln(e,t),e.prototype.addKey=function(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)},e}(un),hn=function(t){function e(e,n){t.call(this,e,n,function(t){var e=u(t[0].token);return"No provider for "+e+"!"+P(t)})}return ln(e,t),e}(pn),fn=function(t){function e(e,n){t.call(this,e,n,function(t){return"Cannot instantiate cyclic dependency!"+P(t)})}return ln(e,t),e}(pn),dn=function(t){function e(e,n,r,i){t.call(this,"DI Error",n),this.keys=[i],this.injectors=[e]}return ln(e,t),e.prototype.addKey=function(t,e){this.injectors.push(t),this.keys.push(e)},Object.defineProperty(e.prototype,"message",{get:function(){var t=u(this.keys[0].token);return this.originalError.message+": Error during instantiation of "+t+"!"+P(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),e}(cn),yn=function(t){function e(e){t.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+e)}return ln(e,t),e}(un),mn=function(t){function e(n,r){t.call(this,e._genMessage(n,r))}return ln(e,t),e._genMessage=function(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];o&&0!=o.length?n.push(o.map(u).join(" ")):n.push("?")}return"Cannot resolve all parameters for '"+u(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+u(t)+"' is decorated with Injectable."},e}(un),vn=function(t){function e(e){t.call(this,"Index "+e+" is out-of-bounds.")}return ln(e,t),e}(un),gn=function(t){function e(e,n){t.call(this,"Cannot mix multi providers and regular providers, got: "+e.toString()+" "+n.toString())}return ln(e,t),e}(un),_n=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!")}return Object.defineProperty(t.prototype,"displayName",{get:function(){return u(this.token)},enumerable:!0,configurable:!0}),t.get=function(t){return wn.get(S(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return wn.numberOfKeys},enumerable:!0,configurable:!0}),t}(),bn=function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof _n)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new _n(t,_n.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}(),wn=new bn,Cn=Function,En=/^function\s+\S+\(\)\s*{\s*("use strict";)?\s*(return\s+)?\S+\.apply\(this,\s*arguments\)/,Sn=function(){function t(t){this._reflect=t||he.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n="undefined"==typeof t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)"undefined"==typeof t?n[r]=[]:t[r]!=Object?n[r]=[t[r]]:n[r]=[],e&&s(e[r])&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){if(En.exec(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var n=t.ctorParameters;if(n&&n!==e.ctorParameters){var r="function"==typeof n?n():n,i=r.map(function(t){return t&&t.type}),o=r.map(function(t){return t&&T(t.decorators)});return this._zipTypesAndAnnotations(i,o)}if(s(this._reflect)&&s(this._reflect.getOwnMetadata)){var o=this._reflect.getOwnMetadata("parameters",t),i=this._reflect.getOwnMetadata("design:paramtypes",t);if(i||o)return this._zipTypesAndAnnotations(i,o)}return new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!O(t))return[];var e=A(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?T(t.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",t):void 0},t.prototype.annotations=function(t){if(!O(t))return[];var e=A(t),n=this._ownAnnotations(t,e)||[],r=e!==Object?this.annotations(e):[];return r.concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=T(r[t])}),i}if(this._reflect&&this._reflect.getOwnMetadata)return this._reflect.getOwnMetadata("propMetadata",t)},t.prototype.propMetadata=function(t){if(!O(t))return{};var e=A(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,i[t]),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof Cn&&e in t.prototype},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+u(t)},t.prototype.resolveIdentifier=function(t,e,n){return n},t.prototype.resolveEnum=function(t,e){return t[e]},t}(),xn=function(){function t(){}return t.prototype.parameters=function(t){},t.prototype.annotations=function(t){},t.prototype.propMetadata=function(t){},t.prototype.importUri=function(t){},t.prototype.resolveIdentifier=function(t,e,n){},t.prototype.resolveEnum=function(t,e){},t}(),Pn=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},On=function(t){function e(e){t.call(this),this.reflectionCapabilities=e}return Pn(e,t),e.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},e.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},e.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},e.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},e.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},e.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},e.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},e.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},e.prototype.method=function(t){return this.reflectionCapabilities.method(t)},e.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},e.prototype.resolveIdentifier=function(t,e,n){return this.reflectionCapabilities.resolveIdentifier(t,e,n)},e.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},e}(xn),Tn=new On(new Sn),An=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Mn=[],kn=function(){function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),t}(),Rn=function(){function t(t,e){this.factory=t,this.dependencies=e}return t}(),In=new Object,Nn=function(){function t(){}return t.resolve=function(t){return R(t)},t.resolveAndCreate=function(e,n){void 0===n&&(n=null);var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return void 0===e&&(e=null),new Dn(t,e)},t.prototype.parent=function(){},t.prototype.resolveAndCreateChild=function(t){},t.prototype.createChildFromResolved=function(t){},t.prototype.resolveAndInstantiate=function(t){},t.prototype.instantiateResolved=function(t){},t.prototype.get=function(t,e){},t}(),Dn=function(){function t(t,e){void 0===e&&(e=null),this._constructionCounter=0,this._providers=t,this._parent=e;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=In}return t.prototype.get=function(t,e){return void 0===e&&(e=rn),this._getByKey(_n.get(t),null,e)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype.resolveAndCreateChild=function(t){var e=Nn.resolve(t);return this.createChildFromResolved(e);
},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n._parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(Nn.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw new vn(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw new fn(this,t.key);return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r=this,i=e.factory;try{n=e.dependencies.map(function(t){return r._getByReflectiveDependency(t)})}catch(e){throw(e instanceof pn||e instanceof dn)&&e.addKey(this,t.key),e}var o;try{o=i.apply(void 0,n)}catch(e){throw new dn(this,e,e.stack,t.key)}return o},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:rn)},t.prototype._getByKey=function(t,e,n){return t===jn?this:e instanceof _e?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===In&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return In},t.prototype._throwOrNull=function(t,e){if(e!==rn)return e;throw new hn(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==In?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof be?this._parent:this;i instanceof t;){var o=i,s=o._getObjByKeyId(e.id);if(s!==In)return s;i=o._parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){var t=F(this,function(t){return' "'+t.key.displayName+'" '}).join(", ");return"ReflectiveInjector(providers: ["+t+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t}(),jn=_n.get(sn),Vn=function(){function t(t){void 0===t&&(t=!0),this._console=console,this.rethrowError=t}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findOriginalStack(t),r=this._findContext(t);if(this._console.error("EXCEPTION: "+this._extractMessage(t)),e&&this._console.error("ORIGINAL EXCEPTION: "+this._extractMessage(e)),n&&(this._console.error("ORIGINAL STACKTRACE:"),this._console.error(n)),r&&(this._console.error("ERROR CONTEXT:"),this._console.error(r)),this.rethrowError)throw t},t.prototype._extractMessage=function(t){return t instanceof Error?t.message:t.toString()},t.prototype._findContext=function(t){return t?t.context?t.context:this._findContext(t.originalError):null},t.prototype._findOriginalError=function(t){for(var e=t.originalError;e&&e.originalError;)e=e.originalError;return e},t.prototype._findOriginalStack=function(t){if(!(t instanceof Error))return null;for(var e=t,n=e.stack;e instanceof Error&&e.originalError;)e=e.originalError,e instanceof Error&&e.stack&&(n=e.stack);return n},t}(),Ln=function(){function t(){}return t.merge=function(t,e){for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n[o]=t[o]}for(var s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];n[o]=e[o]}return n},t.equals=function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!==e[o])return!1}return!0},t}(),Fn=function(){function t(){}return t.findLast=function(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null},t.removeAll=function(t,e){for(var n=0;n<e.length;++n){var r=t.indexOf(e[n]);r>-1&&t.splice(r,1)}},t.remove=function(t,e){var n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)},t.equals=function(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},t.flatten=function(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t.flatten(n):n;return e.concat(r)},[])},t}(),Un=new Ce("Application Initializer"),Hn=function(){function t(t){var e=this;this._done=!1;var n=[];if(t)for(var r=0;r<t.length;r++){var i=t[r]();q(i)&&n.push(i)}this._donePromise=Promise.all(n).then(function(){e._done=!0}),0===n.length&&(this._done=!0)}return Object.defineProperty(t.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),t.decorators=[{type:ge}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:me,args:[Un]},{type:ve}]}]},t}(),Bn=new Ce("AppId"),qn={provide:Bn,useFactory:W,deps:[]},zn=new Ce("Platform Initializer"),Wn=new Ce("appBootstrapListener"),Gn=new Ce("Application Packages Root URL"),Xn=function(){function t(){}return t.prototype.log=function(t){p(t)},t.prototype.warn=function(t){h(t)},t.decorators=[{type:ge}],t.ctorParameters=function(){return[]},t}(),$n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Qn=function(t){function e(e){t.call(this,"Can't compile synchronously as "+u(e)+" is still being loaded!"),this.compType=e}return $n(e,t),e}(un),Yn=function(){function t(t,e){this.ngModuleFactory=t,this.componentFactories=e}return t}(),Kn=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw X()},t.prototype.compileModuleAsync=function(t){throw X()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw X()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw X()},t.prototype.getNgContentSelectors=function(t){throw X()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.decorators=[{type:ge}],t.ctorParameters=function(){return[]},t}(),Zn=new Ce("compilerOptions"),Jn=function(){function t(){}return t.prototype.createCompiler=function(t){},t}(),tr=function(){function t(t){this.nativeElement=t}return t}(),er=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},nr=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this.__isAsync=e}return er(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},s=function(){return null};return e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,s)},e}(n.Subject),rr=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new nr(!1),this._onMicrotaskEmpty=new nr(!1),this._onStable=new nr(!1),this._onErrorEvents=new nr(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched(),this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.forkInnerZoneWithAngularBehavior()}return t.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t){return this.inner.run(t)},t.prototype.runGuarded=function(t){return this.inner.runGuarded(t)},t.prototype.runOutsideAngular=function(t){return this.outer.run(t)},Object.defineProperty(t.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),t.prototype.checkStable=function(){var t=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return t._onStable.emit(null)})}finally{this._isStable=!0}}},t.prototype.forkInnerZoneWithAngularBehavior=function(){var t=this;this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,s){try{return t.onEnter(),e.invokeTask(r,i,o,s)}finally{t.onLeave()}},onInvoke:function(e,n,r,i,o,s,a){try{return t.onEnter(),e.invoke(r,i,o,s,a)}finally{t.onLeave()}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n===r&&("microTask"==i.change?t.setHasMicrotask(i.microTask):"macroTask"==i.change&&t.setHasMacrotask(i.macroTask))},onHandleError:function(e,n,r,i){return e.handleError(r,i),t.triggerError(i),!1}})},t.prototype.onEnter=function(){this._nesting++,this._isStable&&(this._isStable=!1,this._onUnstable.emit(null))},t.prototype.onLeave=function(){this._nesting--,this.checkStable()},t.prototype.setHasMicrotask=function(t){this._hasPendingMicrotasks=t,this.checkStable()},t.prototype.setHasMacrotask=function(t){this._hasPendingMacrotasks=t},t.prototype.triggerError=function(t){this._onErrorEvents.emit(t)},t}(),ir=function(){function t(t){this._zone=t,this.entries=[]}return t.prototype.enqueue=function(t){this.entries.push(t)},t.prototype.flush=function(){var t=this;this.entries.length&&this._zone.runOutsideAngular(function(){Promise.resolve(null).then(function(){return t._triggerAnimations()})})},t.prototype._triggerAnimations=function(){for(rr.assertNotInAngularZone();this.entries.length;){var t=this.entries.shift();t.hasStarted()||t.play()}},t.decorators=[{type:ge}],t.ctorParameters=function(){return[{type:rr}]},t}(),or=function(){function t(){}return t.prototype.supports=function(t){return U(t)},t.prototype.create=function(t,e){return new ar(e)},t}(),sr=function(t,e){return e},ar=function(){function t(t){this._trackByFn=t,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=this._trackByFn||sr}return Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<$(n,r,i)?e:n,s=$(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var p=l<i.length?i[l]:i[l]=0,h=p+l;c<=h&&h<u&&(i[l]=p+1)}var f=o.previousIndex;i[f]=c-u}}s!==a&&t(o,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(a(t)&&(t=[]),!U(t))throw new Error("Error trying to diff '"+t+"'");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){var a=t;this._length=t.length;for(var u=0;u<this._length;u++)r=a[u],i=this._trackByFn(u,r),null!==o&&c(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,u)),c(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,u),s=!0),o=o._next}else n=0,B(t,function(t){i=e._trackByFn(n,t),null!==o&&c(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),c(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++}),this._length=n;return this._truncate(o),this._collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),t=null===this._linkedRecords?null:this._linkedRecords.get(n,r),null!==t?(c(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n),null!==t?(c(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ur(e,n),i,r)),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new lr),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lr),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t},t.prototype.toString=function(){var t=[];this.forEachItem(function(e){return t.push(e)});var e=[];this.forEachPreviousItem(function(t){return e.push(t)});var n=[];this.forEachAddedItem(function(t){return n.push(t)});var r=[];this.forEachMovedItem(function(t){return r.push(t)});var i=[];this.forEachRemovedItem(function(t){return i.push(t)});var o=[];return this.forEachIdentityChange(function(t){return o.push(t)}),"collection: "+t.join(", ")+"\nprevious: "+e.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+r.join(", ")+"\nremovals: "+i.join(", ")+"\nidentityChanges: "+o.join(", ")+"\n"},t}(),ur=function(){function t(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return t.prototype.toString=function(){return this.previousIndex===this.currentIndex?u(this.item):u(this.item)+"["+u(this.previousIndex)+"->"+u(this.currentIndex)+"]"},t}(),cr=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<n.currentIndex)&&c(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),lr=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new cr,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){void 0===e&&(e=null);var n=t,r=this.map.get(n);return r?r.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById,n=this.map.get(e);return n.remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.toString=function(){return"_DuplicateMap("+u(this.map)+")"},t}(),pr=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||l(t)},t.prototype.create=function(t){return new hr},t}(),hr=function(){function t(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||l(t)))throw new Error("Error trying to diff '"+t+"'")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._records,r=this._mapHead,i=null,o=null,s=!1;return this._forEach(t,function(t,a){var u;r&&a===r.key?(u=r,e._maybeAddToChanges(u,t)):(s=!0,null!==r&&(e._removeFromSeq(i,r),e._addToRemovals(r)),n.has(a)?(u=n.get(a),e._maybeAddToChanges(u,t)):(u=new fr(a),n.set(a,u),u.currentValue=t,e._addToAdditions(u))),s&&(e._isInRemovals(u)&&e._removeFromRemovals(u),null==o?e._mapHead=u:o._next=u),i=r,o=u,r=r&&r._next}),this._truncate(i,r),this.isDirty},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(t=this._previousMapHead=this._mapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},t.prototype._truncate=function(t,e){for(;null!==e;){null===t?this._mapHead=null:t._next=null;var n=e._next;this._addToRemovals(e),t=e,e=n}for(var r=this._removalsHead;null!==r;r=r._nextRemoved)r.previousValue=r.currentValue,r.currentValue=null,this._records.delete(r.key)},t.prototype._maybeAddToChanges=function(t,e){c(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._isInRemovals=function(t){return t===this._removalsHead||null!==t._nextRemoved||null!==t._prevRemoved},t.prototype._addToRemovals=function(t){null===this._removalsHead?this._removalsHead=this._removalsTail=t:(this._removalsTail._nextRemoved=t,t._prevRemoved=this._removalsTail,this._removalsTail=t)},t.prototype._removeFromSeq=function(t,e){var n=e._next;null===t?this._mapHead=n:t._next=n,e._next=null},t.prototype._removeFromRemovals=function(t){var e=t._prevRemoved,n=t._nextRemoved;null===e?this._removalsHead=n:e._nextRemoved=n,null===n?this._removalsTail=e:n._prevRemoved=e,t._prevRemoved=t._nextRemoved=null},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype.toString=function(){var t,e=[],n=[],r=[],i=[],o=[];for(t=this._mapHead;null!==t;t=t._next)e.push(u(t));for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n.push(u(t));for(t=this._changesHead;null!==t;t=t._nextChanged)r.push(u(t));for(t=this._additionsHead;null!==t;t=t._nextAdded)i.push(u(t));for(t=this._removalsHead;null!==t;t=t._nextRemoved)o.push(u(t));return"map: "+e.join(", ")+"\nprevious: "+n.join(", ")+"\nadditions: "+i.join(", ")+"\nchanges: "+r.join(", ")+"\nremovals: "+o.join(", ")+"\n"},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),fr=function(){function t(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return t.prototype.toString=function(){return c(this.previousValue,this.currentValue)?u(this.key):u(this.key)+"["+u(this.previousValue)+"->"+u(this.currentValue)+"]"},t}(),dr=function(){function t(t){this.factories=t}return t.create=function(e,n){if(s(n)){var r=n.factories.slice();return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new be,new ve]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(s(e))return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+o(t)+"'")},t}(),yr=function(){function t(t){this.factories=t}return t.create=function(e,n){if(s(n)){var r=n.factories.slice();return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new be,new ve]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(s(e))return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),mr={toString:function(){return"CD_INIT_VALUE"}},vr=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),gr=function(){function t(){this.hasWrappedValue=!1}return t.prototype.unwrap=function(t){return t instanceof vr?(this.hasWrappedValue=!0,t.wrapped):t},t.prototype.reset=function(){this.hasWrappedValue=!1},t}(),_r=function(){function t(t,e){this.previousValue=t,this.currentValue=e}return t.prototype.isFirstChange=function(){return this.previousValue===mr},t}(),br=function(){function t(){}return t.prototype.markForCheck=function(){},t.prototype.detach=function(){},t.prototype.detectChanges=function(){},t.prototype.checkNoChanges=function(){},t.prototype.reattach=function(){},t}(),wr=[new pr],Cr=[new or],Er=new dr(Cr),Sr=new yr(wr),xr=function(){function t(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}return t}(),Pr=function(){function t(){}return t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.source=function(){},t}(),Or=function(){function t(){}return t.prototype.selectRootElement=function(t,e){},t.prototype.createElement=function(t,e,n){},t.prototype.createViewRoot=function(t){},t.prototype.createTemplateAnchor=function(t,e){},t.prototype.createText=function(t,e,n){},t.prototype.projectNodes=function(t,e){},t.prototype.attachViewAfter=function(t,e){},t.prototype.detachView=function(t){},t.prototype.destroyView=function(t,e){},t.prototype.listen=function(t,e,n){},t.prototype.listenGlobal=function(t,e,n){},t.prototype.setElementProperty=function(t,e,n){},t.prototype.setElementAttribute=function(t,e,n){},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){},t.prototype.setElementStyle=function(t,e,n){},t.prototype.invokeElementMethod=function(t,e,n){},t.prototype.setText=function(t,e){},t.prototype.animate=function(t,e,n,r,i,o,s){},t}(),Tr=function(){function t(){}return t.prototype.renderComponent=function(t){},t}(),Ar={};Ar.NONE=0,Ar.HTML=1,Ar.STYLE=2,Ar.SCRIPT=3,Ar.URL=4,Ar.RESOURCE_URL=5,Ar[Ar.NONE]="NONE",Ar[Ar.HTML]="HTML",Ar[Ar.STYLE]="STYLE",Ar[Ar.SCRIPT]="SCRIPT",Ar[Ar.URL]="URL",Ar[Ar.RESOURCE_URL]="RESOURCE_URL";var Mr,kr,Rr,Ir=function(){function t(){}return t.prototype.sanitize=function(t,e){},t}(),Nr=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Dr=function(t){function e(e,n){var r="Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";e===mr&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),t.call(this,r)}return Nr(e,t),e}(un),jr=function(t){function e(e,n){t.call(this,"Error in "+n.source,e),this.context=n}return Nr(e,t),e}(cn),Vr=function(t){function e(e){t.call(this,"Attempt to use a destroyed view: "+e)}return Nr(e,t),e}(un),Lr=function(){function t(t,e,n){this._renderer=t,this.animationQueue=n,this.sanitizer=e}return t.prototype.renderComponent=function(t){return this._renderer.renderComponent(t)},t.decorators=[{type:ge}],t.ctorParameters=function(){return[{type:Tr},{type:Ir},{type:ir}]},t}(),Fr=0,Ur=[],Hr={},Br=/([A-Z])/g,qr=function(){function t(){this.length=0}return t.prototype.get=function(t){},t.prototype.set=function(t,e){},t}(),zr=function(){function t(t,e,n){this.length=t,this._v0=e,this._v1=n}return t.prototype.get=function(t){switch(t){case 0:return this._v0;case 1:return this._v1;default:return}},t.prototype.set=function(t,e){switch(t){case 0:this._v0=e;break;case 1:this._v1=e}},t}(),Wr=function(){function t(t,e,n,r,i){this.length=t,this._v0=e,this._v1=n,this._v2=r,this._v3=i}return t.prototype.get=function(t){switch(t){case 0:return this._v0;case 1:return this._v1;case 2:return this._v2;case 3:return this._v3;default:return}},t.prototype.set=function(t,e){switch(t){case 0:this._v0=e;break;case 1:this._v1=e;break;case 2:this._v2=e;break;case 3:this._v3=e}},t}(),Gr=function(){function t(t,e,n,r,i,o,s,a,u){this.length=t,this._v0=e,this._v1=n,this._v2=r,this._v3=i,this._v4=o,this._v5=s,this._v6=a,this._v7=u}return t.prototype.get=function(t){switch(t){case 0:return this._v0;case 1:return this._v1;case 2:return this._v2;case 3:return this._v3;case 4:return this._v4;case 5:return this._v5;case 6:return this._v6;case 7:return this._v7;default:return}},t.prototype.set=function(t,e){switch(t){case 0:this._v0=e;break;case 1:this._v1=e;break;case 2:this._v2=e;break;case 3:this._v3=e;break;case 4:this._v4=e;break;case 5:this._v5=e;break;case 6:this._v6=e;break;case 7:this._v7=e}},t}(),Xr=function(){function t(t,e,n,r,i,o,s,a,u,c,l,p,h,f,d,y,m){this.length=t,this._v0=e,this._v1=n,this._v2=r,this._v3=i,this._v4=o,this._v5=s,this._v6=a,this._v7=u,this._v8=c,this._v9=l,this._v10=p,this._v11=h,this._v12=f,this._v13=d,this._v14=y,this._v15=m}return t.prototype.get=function(t){switch(t){case 0:return this._v0;case 1:return this._v1;case 2:return this._v2;case 3:return this._v3;case 4:return this._v4;case 5:return this._v5;case 6:return this._v6;case 7:return this._v7;case 8:return this._v8;case 9:return this._v9;case 10:return this._v10;case 11:return this._v11;case 12:return this._v12;case 13:return this._v13;case 14:return this._v14;case 15:return this._v15;default:return}},t.prototype.set=function(t,e){switch(t){case 0:this._v0=e;break;case 1:this._v1=e;break;case 2:this._v2=e;break;case 3:this._v3=e;break;case 4:this._v4=e;break;case 5:this._v5=e;break;case 6:this._v6=e;break;case 7:this._v7=e;break;case 8:this._v8=e;break;case 9:this._v9=e;break;case 10:this._v10=e;break;case 11:this._v11=e;break;case 12:this._v12=e;break;case 13:this._v13=e;break;case 14:this._v14=e;break;case 15:this._v15=e}},t}(),$r=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.length=t,this._values=e}return t.prototype.get=function(t){return this._values[t]},t.prototype.set=function(t,e){this._values[t]=e},t}(),Qr=new qr,Yr=Object.freeze({ViewUtils:Lr,createRenderComponentType:Y,addToArray:K,interpolate:Z,inlineInterpolate:J,checkBinding:et,castByValue:nt,
EMPTY_ARRAY:Ur,EMPTY_MAP:Hr,pureProxy1:rt,pureProxy2:it,pureProxy3:ot,pureProxy4:st,pureProxy5:at,pureProxy6:ut,pureProxy7:ct,pureProxy8:lt,pureProxy9:pt,pureProxy10:ht,setBindingDebugInfoForChanges:ft,setBindingDebugInfo:dt,createRenderElement:mt,selectOrCreateRenderHostElement:vt,subscribeToRenderElement:gt,noop:bt,InlineArray2:zr,InlineArray4:Wr,InlineArray8:Gr,InlineArray16:Xr,InlineArrayDynamic:$r,EMPTY_INLINE_ARRAY:Qr}),Kr=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Zr=function(){function t(){}return t.prototype.location=function(){},t.prototype.injector=function(){},t.prototype.instance=function(){},t.prototype.hostView=function(){},t.prototype.changeDetectorRef=function(){},t.prototype.componentType=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),Jr=function(t){function e(e,n,r,i){t.call(this),this._index=e,this._parentView=n,this._nativeElement=r,this._component=i}return Kr(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new tr(this._nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this._parentView.injector(this._index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return this._component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{get:function(){return this._parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return this._parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._parentView.detachAndDestroy()},e.prototype.onDestroy=function(t){this.hostView.onDestroy(t)},e}(Zr),ti=function(){function t(t,e,n){this.selector=t,this._viewClass=e,this._componentType=n}return Object.defineProperty(t.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),t.prototype.create=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=t.get(Lr);e||(e=[]);var i=new this._viewClass(r,null,null,null);return i.createHostView(n,t,e)},t}(),ei=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ni=function(t){function e(e){t.call(this,"No component factory found for "+u(e)+". Did you add it to @NgModule.entryComponents?"),this.component=e}return ei(e,t),e}(un),ri=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw new ni(t)},t}(),ii=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){},t.NULL=new ri,t}(),oi=function(){function t(t,e){this._parent=e,this._factories=new Map;for(var n=0;n<t.length;n++){var r=t[n];this._factories.set(r.componentType,r)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);return e||(e=this._parent.resolveComponentFactory(t)),e},t}(),si=Ct(),ai=si?Et:function(t,e){return Ot},ui=si?St:function(t,e){return e},ci=si?xt:function(t,e){return null},li=si?Pt:function(t){return null},pi=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){rr.assertNotInAngularZone(),i(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?i(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findBindings=function(t,e,n){return[]},t.prototype.findProviders=function(t,e,n){return[]},t.decorators=[{type:ge}],t.ctorParameters=function(){return[{type:rr}]},t}(),hi=function(){function t(){this._applications=new Map,di.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.getTestability=function(t){return this._applications.get(t)},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),di.findTestabilityInTree(this,t,e)},t.decorators=[{type:ge}],t.ctorParameters=function(){return[]},t}(),fi=function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}(),di=new fi,yi=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},mi=!0,vi=!1,gi=function(){function t(t,e){this.name=t,this.token=e}return t}(),_i=function(){function t(){}return t.prototype.bootstrapModuleFactory=function(t){},t.prototype.bootstrapModule=function(t,e){},t.prototype.onDestroy=function(t){},t.prototype.injector=function(){},t.prototype.destroy=function(){},t.prototype.destroyed=function(){},t}(),bi=function(t){function e(e){t.call(this),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return yi(e,t),e.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},e.prototype.bootstrapModuleFactory=function(t){return this._bootstrapModuleFactoryWithZone(t,null)},e.prototype._bootstrapModuleFactoryWithZone=function(t,e){var n=this;return e||(e=new rr({enableLongStackTrace:Mt()})),e.run(function(){var r=Nn.resolveAndCreate([{provide:rr,useValue:e}],n.injector),i=t.create(r),o=i.injector.get(Vn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(function(){return Fn.remove(n._modules,i)}),e.onError.subscribe({next:function(t){o.handleError(t)}}),jt(o,function(){var t=i.injector.get(Hn);return t.donePromise.then(function(){return n._moduleDoBootstrap(i),i})})})},e.prototype.bootstrapModule=function(t,e){return void 0===e&&(e=[]),this._bootstrapModuleWithZone(t,e,null)},e.prototype._bootstrapModuleWithZone=function(t,e,n,r){var i=this;void 0===e&&(e=[]);var o=this.injector.get(Jn),s=o.createCompiler(Array.isArray(e)?e:[e]);return r?s.compileModuleAndAllComponentsAsync(t).then(function(t){var e=t.ngModuleFactory,o=t.componentFactories;return r(o),i._bootstrapModuleFactoryWithZone(e,n)}):s.compileModuleAsync(t).then(function(t){return i._bootstrapModuleFactoryWithZone(t,n)})},e.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(wi);if(t.bootstrapFactories.length>0)t.bootstrapFactories.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+u(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},e.decorators=[{type:ge}],e.ctorParameters=function(){return[{type:sn}]},e}(_i),wi=function(){function t(){}return t.prototype.bootstrap=function(t){},t.prototype.tick=function(){},t.prototype.componentTypes=function(){},t.prototype.components=function(){},t.prototype.attachView=function(t){},t.prototype.detachView=function(t){},t.prototype.viewCount=function(){},t}(),Ci=function(t){function e(e,n,r,i,o,s,a,u){var c=this;t.call(this),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._testabilityRegistry=a,this._testability=u,this._bootstrapListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._enforceNoNewChanges=Mt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}})}return yi(e,t),e.prototype.attachView=function(t){var e=t.internalView;this._views.push(e),e.attachToAppRef(this)},e.prototype.detachView=function(t){var e=t.internalView;Fn.remove(this._views,e),e.detach()},e.prototype.bootstrap=function(t){var e=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var n;n=t instanceof ti?t:this._componentFactoryResolver.resolveComponentFactory(t),this._rootComponentTypes.push(n.componentType);var r=n.create(this._injector,[],n.selector);r.onDestroy(function(){e._unloadComponent(r)});var i=r.injector.get(pi,null);return i&&r.injector.get(hi).registerApplication(r.location.nativeElement,i),this._loadComponent(r),Mt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r},e.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this._rootComponents.push(t);var e=this._injector.get(Wn,[]).concat(this._bootstrapListeners);e.forEach(function(e){return e(t)})},e.prototype._unloadComponent=function(t){this.detachView(t.hostView),Fn.remove(this._rootComponents,t)},e.prototype.tick=function(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var t=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.ref.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.ref.checkNoChanges()})}finally{this._runningTick=!1,ui(t)}},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),e._tickScope=ai("ApplicationRef#tick()"),e.decorators=[{type:ge}],e.ctorParameters=function(){return[{type:rr},{type:Xn},{type:sn},{type:Vn},{type:ii},{type:Hn},{type:hi,decorators:[{type:ve}]},{type:pi,decorators:[{type:ve}]}]},e}(wi),Ei=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Si=function(){function t(){}return t.prototype.injector=function(){},t.prototype.componentFactoryResolver=function(){},t.prototype.instance=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),xi=function(){function t(t,e){this._injectorClass=t,this._moduleType=e}return Object.defineProperty(t.prototype,"moduleType",{get:function(){return this._moduleType},enumerable:!0,configurable:!0}),t.prototype.create=function(t){t||(t=sn.NULL);var e=new this._injectorClass(t);return e.create(),e},t}(),Pi=new Object,Oi=function(t){function e(e,n,r){t.call(this,n,e.get(ii,ii.NULL)),this.parent=e,this.bootstrapFactories=r,this._destroyListeners=[],this._destroyed=!1}return Ei(e,t),e.prototype.create=function(){this.instance=this.createInternal()},e.prototype.createInternal=function(){},e.prototype.get=function(t,e){if(void 0===e&&(e=rn),t===sn||t===ii)return this;var n=this.getInternal(t,Pi);return n===Pi?this.parent.get(t,e):n},e.prototype.getInternal=function(t,e){},Object.defineProperty(e.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+u(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,this.destroyInternal(),this._destroyListeners.forEach(function(t){return t()})},e.prototype.onDestroy=function(t){this._destroyListeners.push(t)},e.prototype.destroyInternal=function(){},e}(oi),Ti=function(){function t(){}return t.prototype.load=function(t){},t}(),Ai=new Map,Mi=function(){function t(){this._dirty=!0,this._results=[],this._emitter=new nr}return Object.defineProperty(t.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[f()]=function(){return this._results[f()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=Fn.flatten(t),this._dirty=!1},t.prototype.notifyOnChanges=function(){this._emitter.emit(this)},t.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),t}(),ki="#",Ri="NgFactory",Ii=function(){function t(){}return t}(),Ni={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Di=function(){function t(t,e){this._compiler=t,this._config=e||Ni}return t.prototype.load=function(t){var e=this._compiler instanceof Kn;return e?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,n=t.split(ki),r=n[0],i=n[1];return void 0===i&&(i="default"),System.import(r).then(function(t){return t[i]}).then(function(t){return Ft(t,r,i)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split(ki),n=e[0],r=e[1],i=Ri;return void 0===r&&(r="default",i=""),System.import(this._config.factoryPathPrefix+n+this._config.factoryPathSuffix).then(function(t){return t[r+i]}).then(function(t){return Ft(t,n,r)})},t.decorators=[{type:ge}],t.ctorParameters=function(){return[{type:Kn},{type:Ii,decorators:[{type:ve}]}]},t}(),ji=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Vi=function(){function t(){}return t.prototype.elementRef=function(){},t.prototype.createEmbeddedView=function(t){},t}(),Li=function(t){function e(e,n,r){t.call(this),this._parentView=e,this._nodeIndex=n,this._nativeElement=r}return ji(e,t),e.prototype.createEmbeddedView=function(t){var e=this._parentView.createEmbeddedViewInternal(this._nodeIndex);return e.create(t||{}),e.ref},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new tr(this._nativeElement)},enumerable:!0,configurable:!0}),e}(Vi),Fi=function(){function t(){}return t.prototype.element=function(){},t.prototype.injector=function(){},t.prototype.parentInjector=function(){},t.prototype.clear=function(){},t.prototype.get=function(t){},t.prototype.length=function(){},t.prototype.createEmbeddedView=function(t,e,n){},t.prototype.createComponent=function(t,e,n,r){},t.prototype.insert=function(t,e){},t.prototype.move=function(t,e){},t.prototype.indexOf=function(t){},t.prototype.remove=function(t){},t.prototype.detach=function(t){},t}(),Ui=function(){function t(t){this._element=t,this._createComponentInContainerScope=ai("ViewContainerRef#createComponent()"),this._insertScope=ai("ViewContainerRef#insert()"),this._removeScope=ai("ViewContainerRef#remove()"),this._detachScope=ai("ViewContainerRef#detach()")}return t.prototype.get=function(t){return this._element.nestedViews[t].ref},Object.defineProperty(t.prototype,"length",{get:function(){var t=this._element.nestedViews;return s(t)?t.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this._element.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){return this._element.parentInjector},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=-1);var r=t.createEmbeddedView(e);return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r){void 0===e&&(e=-1),void 0===n&&(n=null),void 0===r&&(r=null);var i=this._createComponentInContainerScope(),o=n||this._element.parentInjector,s=t.create(o,r);return this.insert(s.hostView,e),ui(i,s)},t.prototype.insert=function(t,e){void 0===e&&(e=-1);var n=this._insertScope();e==-1&&(e=this.length);var r=t;return this._element.attachView(r.internalView,e),ui(n,r)},t.prototype.move=function(t,e){var n=this._insertScope();if(e!=-1){var r=t;return this._element.moveView(r.internalView,e),ui(n,r)}},t.prototype.indexOf=function(t){return this.length?this._element.nestedViews.indexOf(t.internalView):-1},t.prototype.remove=function(t){void 0===t&&(t=-1);var e=this._removeScope();t==-1&&(t=this.length-1);var n=this._element.detachView(t);n.destroy(),ui(e)},t.prototype.detach=function(t){void 0===t&&(t=-1);var e=this._detachScope();t==-1&&(t=this.length-1);var n=this._element.detachView(t);return ui(e,n.ref)},t.prototype.clear=function(){for(var t=this.length-1;t>=0;t--)this.remove(t)},t}(),Hi=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Bi=function(t){function e(){t.apply(this,arguments)}return Hi(e,t),e.prototype.destroy=function(){},e.prototype.destroyed=function(){},e.prototype.onDestroy=function(t){},e}(br),qi=function(t){function e(){t.apply(this,arguments)}return Hi(e,t),e.prototype.context=function(){},e.prototype.rootNodes=function(){},e}(Bi),zi=function(){function t(t,e){this._view=t,this.animationQueue=e,this._view=t,this._originalMode=this._view.cdMode}return Object.defineProperty(t.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){this._view.markPathToRootAsCheckOnce()},t.prototype.detach=function(){this._view.cdMode=ke.Detached},t.prototype.detectChanges=function(){this._view.detectChanges(!1),this.animationQueue.flush()},t.prototype.checkNoChanges=function(){this._view.detectChanges(!0)},t.prototype.reattach=function(){this._view.cdMode=this._originalMode,this.markForCheck()},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._view.detachAndDestroy()},t}(),Wi=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Gi=function(){function t(t,e){this.name=t,this.callback=e}return t}(),Xi=function(){function t(t,e,n){this._debugInfo=n,this.nativeNode=t,e&&e instanceof $i?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugInfo?this._debugInfo.injector:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugInfo?this._debugInfo.component:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugInfo?this._debugInfo.context:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugInfo?this._debugInfo.references:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugInfo?this._debugInfo.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._debugInfo?this._debugInfo.source:null},enumerable:!0,configurable:!0}),t}(),$i=function(t){function e(e,n,r){t.call(this,e,n,r),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}return Wi(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);e!==-1&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this.childNodes.indexOf(t);if(n!==-1){var r=this.childNodes.slice(0,n+1),i=this.childNodes.slice(n+1);this.childNodes=r.concat(e,i);for(var o=0;o<e.length;++o){var s=e[o];s.parent&&s.parent.removeChild(s),s.parent=this}}},e.prototype.query=function(t){var e=this.queryAll(t);return e[0]||null},e.prototype.queryAll=function(t){var e=[];return Ht(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return Bt(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(Xi),Qi=new Map,Yi=[bi,{provide:_i,useExisting:bi},{provide:On,useFactory:Gt,deps:[]},{provide:xn,useExisting:On},hi,Xn],Ki=Rt(null,"core",Yi),Zi=new Ce("LocaleId"),Ji=new Ce("Translations"),to=new Ce("TranslationsFormat"),eo=function(){function t(){}return t.decorators=[{type:Ke,args:[{providers:[Ci,{provide:wi,useExisting:Ci},Hn,Kn,qn,Lr,ir,{provide:dr,useFactory:Xt},{provide:yr,useFactory:$t},{provide:Zi,useFactory:Qt,deps:[[new me(Zi),new ve,new be]]}]}]}],t.ctorParameters=function(){return[]},t}(),no="true",ro="*",io="*",oo="void",so=function(){function t(t){var e=this;this._players=t,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this.parentPlayer=null;var n=0,r=this._players.length;0==r?i(function(){return e._onFinish()}):this._players.forEach(function(t){t.parentPlayer=e,t.onDone(function(){++n>=r&&e._onFinish()})})}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this._players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){s(this.parentPlayer)||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this._players.forEach(function(t){return t.play()})},t.prototype.pause=function(){this._players.forEach(function(t){return t.pause()})},t.prototype.restart=function(){this._players.forEach(function(t){return t.restart()})},t.prototype.finish=function(){this._onFinish(),this._players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._destroyed||(this._onFinish(),this._players.forEach(function(t){return t.destroy()}),this._destroyed=!0)},t.prototype.reset=function(){this._players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){this._players.forEach(function(e){e.setPosition(t)})},t.prototype.getPosition=function(){var t=0;return this._players.forEach(function(e){var n=e.getPosition();t=Math.min(n,t)}),t},Object.defineProperty(t.prototype,"players",{get:function(){return this._players},enumerable:!0,configurable:!0}),t}(),ao=function(){function t(t,e){this.offset=t,this.styles=e}return t}(),uo=function(){function t(){}return t.prototype.onDone=function(t){},t.prototype.onStart=function(t){},t.prototype.init=function(){},t.prototype.hasStarted=function(){},t.prototype.play=function(){},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){},t.prototype.destroy=function(){},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){},Object.defineProperty(t.prototype,"parentPlayer",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},set:function(t){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),t}(),co=function(){function t(){var t=this;this._onDoneFns=[],this._onStartFns=[],this._started=!1,this.parentPlayer=null,i(function(){return t._onFinish()})}return t.prototype._onFinish=function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]),this._started=!0},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t}(),lo=function(){function t(t){var e=this;this._players=t,this._currentIndex=0,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this.parentPlayer=null,this._players.forEach(function(t){t.parentPlayer=e}),this._onNext(!1)}return t.prototype._onNext=function(t){var e=this;if(!this._finished)if(0==this._players.length)this._activePlayer=new co,i(function(){return e._onFinish()});else if(this._currentIndex>=this._players.length)this._activePlayer=new co,this._onFinish();else{var n=this._players[this._currentIndex++];n.onDone(function(){return e._onNext(!0)}),this._activePlayer=n,t&&n.play()}},t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this._players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){s(this.parentPlayer)||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this._activePlayer.play()},t.prototype.pause=function(){this._activePlayer.pause()},t.prototype.restart=function(){this.reset(),this._players.length>0&&this._players[0].restart()},t.prototype.reset=function(){this._players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.finish=function(){this._onFinish(),this._players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._destroyed||(this._onFinish(),this._players.forEach(function(t){return t.destroy()}),this._destroyed=!0,this._activePlayer=new co)},t.prototype.setPosition=function(t){this._players[0].setPosition(t)},t.prototype.getPosition=function(){return this._players[0].getPosition()},Object.defineProperty(t.prototype,"players",{get:function(){return this._players},enumerable:!0,configurable:!0}),t}(),po=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ho="*",fo=function(){function t(t,e){this.name=t,this.definitions=e}return t}(),yo=function(){function t(){}return t}(),mo=function(t){function e(e,n){t.call(this),this.stateNameExpr=e,this.styles=n}return po(e,t),e}(yo),vo=function(t){function e(e,n){t.call(this),this.stateChangeExpr=e,this.steps=n}return po(e,t),e}(yo),go=function(){function t(){}return t}(),_o=function(t){function e(e){t.call(this),this.steps=e}return po(e,t),e}(go),bo=function(t){function e(e,n){void 0===n&&(n=null),t.call(this),this.styles=e,this.offset=n}return po(e,t),e}(go),wo=function(t){function e(e,n){t.call(this),this.timings=e,this.styles=n}return po(e,t),e}(go),Co=function(t){function e(){t.call(this)}return po(e,t),Object.defineProperty(e.prototype,"steps",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),e}(go),Eo=function(t){function e(e){t.call(this),this._steps=e}return po(e,t),Object.defineProperty(e.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),e}(Co),So=function(t){function e(e){t.call(this),this._steps=e}return po(e,t),Object.defineProperty(e.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),e}(Co),xo=function(){function t(t){this.styles=t}return t}(),Po=function(){function t(t){var e=t.fromState,n=t.toState,r=t.totalTime,i=t.phaseName;this.fromState=e,this.toState=n,this.totalTime=r,this.phaseName=i}return t}(),Oo=function(){function t(t,e,n,r){this._player=t,this._fromState=e,this._toState=n,this._totalTime=r}return t.prototype._createEvent=function(t){return new Po({fromState:this._fromState,toState:this._toState,totalTime:this._totalTime,phaseName:t})},t.prototype.onStart=function(t){var e=this,n=Zone.current.wrap(function(){return t(e._createEvent("start"))},"player.onStart");this._player.onStart(n)},t.prototype.onDone=function(t){var e=this,n=Zone.current.wrap(function(){return t(e._createEvent("done"))},"player.onDone");this._player.onDone(n)},t}(),To=function(){function t(t){this._delegate=t}return t.prototype.renderComponent=function(t){return new Ao(this._delegate.renderComponent(t))},t}(),Ao=function(){function t(t){this._delegate=t}return t.prototype.selectRootElement=function(t,e){var n=this._delegate.selectRootElement(t,e),r=new $i(n,null,e);return zt(r),n},t.prototype.createElement=function(t,e,n){var r=this._delegate.createElement(t,e,n),i=new $i(r,qt(t),n);return i.name=e,zt(i),r},t.prototype.createViewRoot=function(t){return this._delegate.createViewRoot(t)},t.prototype.createTemplateAnchor=function(t,e){
var n=this._delegate.createTemplateAnchor(t,e),r=new Xi(n,qt(t),e);return zt(r),n},t.prototype.createText=function(t,e,n){var r=this._delegate.createText(t,e,n),i=new Xi(r,qt(t),n);return zt(i),r},t.prototype.projectNodes=function(t,e){var n=qt(t);if(s(n)&&n instanceof $i){var r=n;e.forEach(function(t){r.addChild(qt(t))})}this._delegate.projectNodes(t,e)},t.prototype.attachViewAfter=function(t,e){var n=qt(t);if(s(n)){var r=n.parent;if(e.length>0&&s(r)){var i=[];e.forEach(function(t){return i.push(qt(t))}),r.insertChildrenAfter(n,i)}}this._delegate.attachViewAfter(t,e)},t.prototype.detachView=function(t){t.forEach(function(t){var e=qt(t);s(e)&&s(e.parent)&&e.parent.removeChild(e)}),this._delegate.detachView(t)},t.prototype.destroyView=function(t,e){e=e||[],e.forEach(function(t){Wt(qt(t))}),this._delegate.destroyView(t,e)},t.prototype.listen=function(t,e,n){var r=qt(t);return s(r)&&r.listeners.push(new Gi(e,n)),this._delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this._delegate.listenGlobal(t,e,n)},t.prototype.setElementProperty=function(t,e,n){var r=qt(t);s(r)&&r instanceof $i&&(r.properties[e]=n),this._delegate.setElementProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=qt(t);s(r)&&r instanceof $i&&(r.attributes[e]=n),this._delegate.setElementAttribute(t,e,n)},t.prototype.setBindingDebugInfo=function(t,e,n){this._delegate.setBindingDebugInfo(t,e,n)},t.prototype.setElementClass=function(t,e,n){var r=qt(t);s(r)&&r instanceof $i&&(r.classes[e]=n),this._delegate.setElementClass(t,e,n)},t.prototype.setElementStyle=function(t,e,n){var r=qt(t);s(r)&&r instanceof $i&&(r.styles[e]=n),this._delegate.setElementStyle(t,e,n)},t.prototype.invokeElementMethod=function(t,e,n){this._delegate.invokeElementMethod(t,e,n)},t.prototype.setText=function(t,e){this._delegate.setText(t,e)},t.prototype.animate=function(t,e,n,r,i,o,s){return void 0===s&&(s=[]),this._delegate.animate(t,e,n,r,i,o,s)},t}(),Mo={};Mo.HOST=0,Mo.COMPONENT=1,Mo.EMBEDDED=2,Mo[Mo.HOST]="HOST",Mo[Mo.COMPONENT]="COMPONENT",Mo[Mo.EMBEDDED]="EMBEDDED";var ko=function(){function t(t,e,n){this.providerTokens=t,this.componentToken=e,this.refTokens=n}return t}(),Ro=function(){function t(t,e,n,r){this._view=t,this._nodeIndex=e,this._tplRow=n,this._tplCol=r}return Object.defineProperty(t.prototype,"_staticNodeInfo",{get:function(){return s(this._nodeIndex)?this._view.staticNodeDebugInfos[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){var t=this._staticNodeInfo;return s(t)&&s(t.componentToken)?this.injector.get(t.componentToken):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){for(var t=this._view;s(t.parentView)&&t.type!==Mo.COMPONENT;)t=t.parentView;return t.parentElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this._view.injector(this._nodeIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return s(this._nodeIndex)&&this._view.allNodes?this._view.allNodes[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=this._staticNodeInfo;return s(t)?t.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._view.componentType.templateUrl+":"+this._tplRow+":"+this._tplCol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t=this,e={},n=this._staticNodeInfo;if(s(n)){var r=n.refTokens;Object.keys(r).forEach(function(n){var i,o=r[n];i=a(o)?t._view.allNodes?t._view.allNodes[t._nodeIndex]:null:t._view.injectorGet(o,t._nodeIndex,null),e[n]=i})}return e},enumerable:!0,configurable:!0}),t}(),Io=function(){function t(){this._map=new Map,this._allPlayers=[]}return t.prototype.find=function(t,e){var n=this._map.get(t);if(s(n))return n[e]},t.prototype.findAllPlayersByElement=function(t){var e=this._map.get(t);return e?Object.keys(e).map(function(t){return e[t]}):[]},t.prototype.set=function(t,e,n){var r=this._map.get(t);s(r)||(r={});var i=r[e];s(i)&&this.remove(t,e),r[e]=n,this._allPlayers.push(n),this._map.set(t,r)},t.prototype.getAllPlayers=function(){return this._allPlayers},t.prototype.remove=function(t,e,n){void 0===n&&(n=null);var r=this._map.get(t);if(r){var i=r[e];if(!n||i===n){delete r[e];var o=this._allPlayers.indexOf(i);this._allPlayers.splice(o,1),0===Object.keys(r).length&&this._map.delete(t)}}},t}(),No=function(){function t(t){this._animationQueue=t,this._players=new Io}return t.prototype.onAllActiveAnimationsDone=function(t){var e=this._players.getAllPlayers();e.length?new so(e).onDone(function(){return t()}):t()},t.prototype.queueAnimation=function(t,e,n){var r=this;this._animationQueue.enqueue(n),this._players.set(t,e,n),n.onDone(function(){return r._players.remove(t,e,n)})},t.prototype.getAnimationPlayers=function(t,e){void 0===e&&(e=null);var n=[];if(e){var r=this._players.find(t,e);r&&le(r,n)}else this._players.findAllPlayersByElement(t).forEach(function(t){return le(t,n)});return n},t}(),Do=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},jo=function(t){function e(e,n){t.call(this),this._view=e,this._nodeIndex=n}return Do(e,t),e.prototype.get=function(t,e){return void 0===e&&(e=rn),this._view.injectorGet(t,this._nodeIndex,e)},e}(sn),Vo=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Lo=ai("AppView#check(ascii id)"),Fo=new Object,Uo=new Object,Ho=function(){function t(t,e,n,r,i,o,s,a,u){void 0===u&&(u=null),this.clazz=t,this.componentType=e,this.type=n,this.viewUtils=r,this.parentView=i,this.parentIndex=o,this.parentElement=s,this.cdMode=a,this.declaredViewContainer=u,this.numberOfChecks=0,this.ref=new zi(this,r.animationQueue),n===Mo.COMPONENT||n===Mo.HOST?this.renderer=r.renderComponent(e):this.renderer=i.renderer,this._directRenderer=this.renderer.directRenderer}return Object.defineProperty(t.prototype,"animationContext",{get:function(){return this._animationContext||(this._animationContext=new No(this.viewUtils.animationQueue)),this._animationContext},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this.cdMode===ke.Destroyed},enumerable:!0,configurable:!0}),t.prototype.create=function(t){return this.context=t,this.createInternal(null)},t.prototype.createHostView=function(t,e,n){return this.context=Fo,this._hasExternalHostElement=s(t),this._hostInjector=e,this._hostProjectableNodes=n,this.createInternal(t)},t.prototype.createInternal=function(t){return null},t.prototype.createEmbeddedViewInternal=function(t){return null},t.prototype.init=function(t,e,n){this.lastRootNode=t,this.allNodes=e,this.disposables=n,this.type===Mo.COMPONENT&&this.dirtyParentQueriesInternal()},t.prototype.injectorGet=function(t,e,n){void 0===n&&(n=rn);for(var r=Uo,i=this;r===Uo;)s(e)&&(r=i.injectorGetInternal(t,e,Uo)),r===Uo&&i.type===Mo.HOST&&(r=i._hostInjector.get(t,n)),e=i.parentIndex,i=i.parentView;return r},t.prototype.injectorGetInternal=function(t,e,n){return n},t.prototype.injector=function(t){return new jo(this,t)},t.prototype.detachAndDestroy=function(){this.viewContainer?this.viewContainer.detachView(this.viewContainer.nestedViews.indexOf(this)):this.appRef?this.appRef.detachView(this.ref):this._hasExternalHostElement&&this.detach(),this.destroy()},t.prototype.destroy=function(){var t=this;if(this.cdMode!==ke.Destroyed){var e=this.type===Mo.COMPONENT?this.parentElement:null;if(this.disposables)for(var n=0;n<this.disposables.length;n++)this.disposables[n]();this.destroyInternal(),this.dirtyParentQueriesInternal(),this._animationContext?this._animationContext.onAllActiveAnimationsDone(function(){return t.renderer.destroyView(e,t.allNodes)}):this.renderer.destroyView(e,this.allNodes),this.cdMode=ke.Destroyed}},t.prototype.destroyInternal=function(){},t.prototype.detachInternal=function(){},t.prototype.detach=function(){var t=this;if(this.detachInternal(),this._animationContext?this._animationContext.onAllActiveAnimationsDone(function(){return t._renderDetach()}):this._renderDetach(),this.declaredViewContainer&&this.declaredViewContainer!==this.viewContainer&&this.declaredViewContainer.projectedViews){var e=this.declaredViewContainer.projectedViews,n=e.indexOf(this);n>=e.length-1?e.pop():e.splice(n,1)}this.appRef=null,this.viewContainer=null,this.dirtyParentQueriesInternal()},t.prototype._renderDetach=function(){this._directRenderer?this.visitRootNodesInternal(this._directRenderer.remove,null):this.renderer.detachView(this.flatRootNodes)},t.prototype.attachToAppRef=function(t){if(this.viewContainer)throw new Error("This view is already attached to a ViewContainer!");this.appRef=t,this.dirtyParentQueriesInternal()},t.prototype.attachAfter=function(t,e){if(this.appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._renderAttach(t,e),this.viewContainer=t,this.declaredViewContainer&&this.declaredViewContainer!==t&&(this.declaredViewContainer.projectedViews||(this.declaredViewContainer.projectedViews=[]),this.declaredViewContainer.projectedViews.push(this)),this.dirtyParentQueriesInternal()},t.prototype.moveAfter=function(t,e){this._renderAttach(t,e),this.dirtyParentQueriesInternal()},t.prototype._renderAttach=function(t,e){var n=e?e.lastRootNode:t.nativeElement;if(this._directRenderer){var r=this._directRenderer.nextSibling(n);if(r)this.visitRootNodesInternal(this._directRenderer.insertBefore,r);else{var i=this._directRenderer.parentElement(n);i&&this.visitRootNodesInternal(this._directRenderer.appendChild,i)}}else this.renderer.attachViewAfter(n,this.flatRootNodes)},Object.defineProperty(t.prototype,"changeDetectorRef",{get:function(){return this.ref},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flatRootNodes",{get:function(){var t=[];return this.visitRootNodesInternal(K,t),t},enumerable:!0,configurable:!0}),t.prototype.projectNodes=function(t,e){if(this._directRenderer)this.visitProjectedNodes(e,this._directRenderer.appendChild,t);else{var n=[];this.visitProjectedNodes(e,K,n),this.renderer.projectNodes(t,n)}},t.prototype.visitProjectedNodes=function(t,e,n){switch(this.type){case Mo.EMBEDDED:this.parentView.visitProjectedNodes(t,e,n);break;case Mo.COMPONENT:if(this.parentView.type===Mo.HOST)for(var r=this.parentView._hostProjectableNodes[t]||[],i=0;i<r.length;i++)e(r[i],n);else this.parentView.visitProjectableNodesInternal(this.parentIndex,t,e,n)}},t.prototype.visitRootNodesInternal=function(t,e){},t.prototype.visitProjectableNodesInternal=function(t,e,n,r){},t.prototype.dirtyParentQueriesInternal=function(){},t.prototype.internalDetectChanges=function(t){this.cdMode!==ke.Detached&&this.detectChanges(t)},t.prototype.detectChanges=function(t){var e=Lo(this.clazz);this.cdMode!==ke.Checked&&this.cdMode!==ke.Errored&&(this.cdMode===ke.Destroyed&&this.throwDestroyedError("detectChanges"),this.detectChangesInternal(t),this.cdMode===ke.CheckOnce&&(this.cdMode=ke.Checked),this.numberOfChecks++,ui(e))},t.prototype.detectChangesInternal=function(t){},t.prototype.markAsCheckOnce=function(){this.cdMode=ke.CheckOnce},t.prototype.markPathToRootAsCheckOnce=function(){for(var t=this;s(t)&&t.cdMode!==ke.Detached;)t.cdMode===ke.Checked&&(t.cdMode=ke.CheckOnce),t=t.type===Mo.COMPONENT?t.parentView:t.viewContainer?t.viewContainer.parentView:null},t.prototype.eventHandler=function(t){return t},t.prototype.throwDestroyedError=function(t){throw new Vr(t)},t}(),Bo=function(t){function e(e,n,r,i,o,s,a,u,c,l){void 0===l&&(l=null),t.call(this,e,n,r,i,o,s,a,u,l),this.staticNodeDebugInfos=c,this._currentDebugContext=null}return Vo(e,t),e.prototype.create=function(e){this._resetDebug();try{return t.prototype.create.call(this,e)}catch(t){throw this._rethrowWithContext(t),t}},e.prototype.createHostView=function(e,n,r){void 0===r&&(r=null),this._resetDebug();try{return t.prototype.createHostView.call(this,e,n,r)}catch(t){throw this._rethrowWithContext(t),t}},e.prototype.injectorGet=function(e,n,r){this._resetDebug();try{return t.prototype.injectorGet.call(this,e,n,r)}catch(t){throw this._rethrowWithContext(t),t}},e.prototype.detach=function(){this._resetDebug();try{t.prototype.detach.call(this)}catch(t){throw this._rethrowWithContext(t),t}},e.prototype.destroy=function(){this._resetDebug();try{t.prototype.destroy.call(this)}catch(t){throw this._rethrowWithContext(t),t}},e.prototype.detectChanges=function(e){this._resetDebug();try{t.prototype.detectChanges.call(this,e)}catch(t){throw this._rethrowWithContext(t),t}},e.prototype._resetDebug=function(){this._currentDebugContext=null},e.prototype.debug=function(t,e,n){return this._currentDebugContext=new Ro(this,t,e,n)},e.prototype._rethrowWithContext=function(t){if(!(t instanceof jr)&&(t instanceof Dr||(this.cdMode=ke.Errored),s(this._currentDebugContext)))throw new jr(t,this._currentDebugContext)},e.prototype.eventHandler=function(e){var n=this,r=t.prototype.eventHandler.call(this,e);return function(t,e){n._resetDebug();try{return r.call(n,t,e)}catch(t){throw n._rethrowWithContext(t),t}}},e}(Ho),qo=function(){function t(t,e,n,r){this.index=t,this.parentIndex=e,this.parentView=n,this.nativeElement=r}return Object.defineProperty(t.prototype,"elementRef",{get:function(){return new tr(this.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vcRef",{get:function(){return new Ui(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){return this.parentView.injector(this.parentIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this.parentView.injector(this.index)},enumerable:!0,configurable:!0}),t.prototype.detectChangesInNestedViews=function(t){if(this.nestedViews)for(var e=0;e<this.nestedViews.length;e++)this.nestedViews[e].detectChanges(t)},t.prototype.destroyNestedViews=function(){if(this.nestedViews)for(var t=0;t<this.nestedViews.length;t++)this.nestedViews[t].destroy()},t.prototype.visitNestedViewRootNodes=function(t,e){if(this.nestedViews)for(var n=0;n<this.nestedViews.length;n++)this.nestedViews[n].visitRootNodesInternal(t,e)},t.prototype.mapNestedViews=function(t,e){var n=[];if(this.nestedViews)for(var r=0;r<this.nestedViews.length;r++){var i=this.nestedViews[r];i.clazz===t&&n.push(e(i))}if(this.projectedViews)for(var r=0;r<this.projectedViews.length;r++){var o=this.projectedViews[r];o.clazz===t&&n.push(e(o))}return n},t.prototype.moveView=function(t,e){var n=this.nestedViews.indexOf(t);if(t.type===Mo.COMPONENT)throw new Error("Component views can't be moved!");var r=this.nestedViews;null==r&&(r=[],this.nestedViews=r),r.splice(n,1),r.splice(e,0,t);var i=e>0?r[e-1]:null;t.moveAfter(this,i)},t.prototype.attachView=function(t,e){if(t.type===Mo.COMPONENT)throw new Error("Component views can't be moved!");var n=this.nestedViews;null==n&&(n=[],this.nestedViews=n),e>=n.length?n.push(t):n.splice(e,0,t);var r=e>0?n[e-1]:null;t.attachAfter(this,r)},t.prototype.detachView=function(t){var e=this.nestedViews[t];if(t>=this.nestedViews.length-1?this.nestedViews.pop():this.nestedViews.splice(t,1),e.type===Mo.COMPONENT)throw new Error("Component views can't be moved!");return e.detach(),e},t}(),zo={isDefaultChangeDetectionStrategy:C,ChangeDetectorStatus:ke,constructDependencies:D,LifecycleHooks:Fe,LIFECYCLE_HOOKS_VALUES:Ue,ReflectorReader:xn,CodegenComponentFactoryResolver:oi,ComponentRef_:Jr,ViewContainer:qo,AppView:Ho,DebugAppView:Bo,NgModuleInjector:Oi,registerModuleFactory:Vt,ViewType:Mo,view_utils:Yr,ViewMetadata:Je,DebugContext:Ro,StaticNodeDebugInfo:ko,devModeEqual:Q,UNINITIALIZED:mr,ValueUnwrapper:gr,RenderDebugInfo:Pr,TemplateRef_:Li,ReflectionCapabilities:Sn,makeDecorator:g,DebugDomRootRenderer:To,Console:Xn,reflector:Tn,Reflector:On,NoOpAnimationPlayer:co,AnimationPlayer:uo,AnimationSequencePlayer:lo,AnimationGroupPlayer:so,AnimationKeyframe:ao,prepareFinalAnimationStyles:ie,balanceAnimationKeyframes:oe,flattenStyles:ce,clearStyles:se,renderStyles:ue,collectAndResolveStyles:ae,APP_ID_RANDOM_PROVIDER:qn,AnimationStyles:xo,ANY_STATE:ro,DEFAULT_STATE:io,EMPTY_STATE:oo,FILL_STYLE_FLAG:no,ComponentStillLoadingError:Qn,isPromise:q,isObservable:z,AnimationTransition:Oo};t.createPlatform=kt,t.assertPlatform=It,t.destroyPlatform=Nt,t.getPlatform=Dt,t.PlatformRef=_i,t.ApplicationRef=wi,t.enableProdMode=At,t.isDevMode=Mt,t.createPlatformFactory=Rt,t.NgProbeToken=gi,t.APP_ID=Bn,t.PACKAGE_ROOT_URL=Gn,t.PLATFORM_INITIALIZER=zn,t.APP_BOOTSTRAP_LISTENER=Wn,t.APP_INITIALIZER=Un,t.ApplicationInitStatus=Hn,t.DebugElement=$i,t.DebugNode=Xi,t.asNativeElements=Ut,t.getDebugNode=qt,t.Testability=pi,t.TestabilityRegistry=hi,t.setTestabilityGetter=Tt,t.TRANSLATIONS=Ji,t.TRANSLATIONS_FORMAT=to,t.LOCALE_ID=Zi,t.ApplicationModule=eo,t.wtfCreateScope=ai,t.wtfLeave=ui,t.wtfStartTimeRange=ci,t.wtfEndTimeRange=li,t.Type=Cn,t.EventEmitter=nr,t.ErrorHandler=Vn,t.AnimationTransitionEvent=Po,t.AnimationPlayer=uo,t.AnimationStyles=xo,t.AnimationKeyframe=ao,t.Sanitizer=Ir,t.SecurityContext=Ar,t.ANALYZE_FOR_ENTRY_COMPONENTS=Ee,t.Attribute=Se,t.ContentChild=Oe,t.ContentChildren=Pe,t.Query=xe,t.ViewChild=Ae,t.ViewChildren=Te,t.Component=Ie,t.Directive=Re,t.HostBinding=Ve,t.HostListener=Le,t.Input=De,t.Output=je,t.Pipe=Ne,t.AfterContentChecked=Ge,t.AfterContentInit=We,t.AfterViewChecked=$e,t.AfterViewInit=Xe,t.DoCheck=qe,t.OnChanges=He,t.OnDestroy=ze,t.OnInit=Be,t.CUSTOM_ELEMENTS_SCHEMA=Qe,t.NO_ERRORS_SCHEMA=Ye,t.NgModule=Ke,t.ViewEncapsulation=Ze,t.Version=tn,t.VERSION=en,t.Class=v,t.forwardRef=E,t.resolveForwardRef=S,t.Injector=sn,t.ReflectiveInjector=Nn,t.ResolvedReflectiveFactory=Rn,t.ReflectiveKey=_n,t.OpaqueToken=Ce,t.Inject=me,t.Optional=ve,t.Injectable=ge,t.Self=_e,t.SkipSelf=be,t.Host=we,t.NgZone=rr,t.RenderComponentType=xr,t.Renderer=Or,t.RootRenderer=Tr,t.COMPILER_OPTIONS=Zn,t.Compiler=Kn,t.CompilerFactory=Jn,t.ModuleWithComponentFactories=Yn,t.ComponentFactory=ti,t.ComponentRef=Zr,t.ComponentFactoryResolver=ii,t.ElementRef=tr,t.NgModuleFactory=xi,t.NgModuleRef=Si,t.NgModuleFactoryLoader=Ti,t.getModuleFactory=Lt,t.QueryList=Mi,t.SystemJsNgModuleLoader=Di,t.SystemJsNgModuleLoaderConfig=Ii,t.TemplateRef=Vi,t.ViewContainerRef=Fi,t.EmbeddedViewRef=qi,t.ViewRef=Bi,t.ChangeDetectionStrategy=Me,t.ChangeDetectorRef=br,t.CollectionChangeRecord=ur,t.DefaultIterableDiffer=ar,t.IterableDiffers=dr,t.KeyValueChangeRecord=fr,t.KeyValueDiffers=yr,t.SimpleChange=_r,t.WrappedValue=vr,t.platformCore=Ki,t.__core_private__=zo,t.AUTO_STYLE=ho,t.AnimationEntryMetadata=fo,t.AnimationStateMetadata=yo,t.AnimationStateDeclarationMetadata=mo,t.AnimationStateTransitionMetadata=vo,t.AnimationMetadata=go,t.AnimationKeyframesSequenceMetadata=_o,t.AnimationStyleMetadata=bo,t.AnimationAnimateMetadata=wo,t.AnimationWithStepsMetadata=Co,t.AnimationSequenceMetadata=Eo,t.AnimationGroupMetadata=So,t.animate=Yt,t.group=Kt,t.sequence=Zt,t.style=Jt,t.state=te,t.keyframes=ee,t.transition=ne,t.trigger=re}),t.registerDynamic("4e",["c"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=function(){function t(){this.Server="http://base.kmtrt.in",this.FileServer="http://base.kmtrt.in",this.ImageServer="http://base.kmtrt.in"}return t=r([o.Injectable(),i("design:paramtypes",[])],t)}();e.Configuration=s}),t.registerDynamic("5a",["c","3e","50","4e"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=t("3e"),a=t("50"),u=t("4e"),c=function(){function t(){}return t=r([o.NgModule({providers:[s.authservice,u.Configuration,a.AuthLoginService]}),i("design:paramtypes",[])],t)}();e.ServiceModule=c}),t.registerDynamic("5b",["c","e","40","41","14","10","42","3f","5a"],!0,function(t,e,n){"use strict";var r=(this||self,e&&e.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),i=e&&e.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=t("c"),s=t("e"),a=t("40"),u=t("41"),c=t("14"),l=t("10"),p=t("42"),h=t("3f"),f=t("5a"),d=function(){function t(){}return t=r([o.NgModule({imports:[s.BrowserModule,u.HttpModule,c.FormsModule,p.AccountModule,a.SharedModule,f.ServiceModule,a.routing],declarations:[l.AppComponent,h.MaterializeDirective],bootstrap:[l.AppComponent]}),i("design:paramtypes",[])],t)}();e.AppModule=d}),t.registerDynamic("a",["d","f","3f","5b"],!0,function(t,e,n){"use strict";var r=(this||self,t("d"));t("f"),t("3f");var i=t("5b");r.platformBrowserDynamic().bootstrapModule(i.AppModule)})})(function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=t():t()});
}).call(this,require("VCmEsw"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"VCmEsw":2}],2:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};

process.nextTick = (function () {
    var canSetImmediate = typeof window !== 'undefined'
    && window.setImmediate;
    var canPost = typeof window !== 'undefined'
    && window.postMessage && window.addEventListener
    ;

    if (canSetImmediate) {
        return function (f) { return window.setImmediate(f) };
    }

    if (canPost) {
        var queue = [];
        window.addEventListener('message', function (ev) {
            var source = ev.source;
            if ((source === window || source === null) && ev.data === 'process-tick') {
                ev.stopPropagation();
                if (queue.length > 0) {
                    var fn = queue.shift();
                    fn();
                }
            }
        }, true);

        return function nextTick(fn) {
            queue.push(fn);
            window.postMessage('process-tick', '*');
        };
    }

    return function nextTick(fn) {
        setTimeout(fn, 0);
    };
})();

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
}

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxvdXRzb3VyY2UgcHJvamVjdHNcXGFydGZyZWFrc1xcQXJ0ZnJpa3NBbmd1bGFyXFxub2RlX21vZHVsZXNcXGd1bHAtYnJvd3NlcmlmeVxcbm9kZV9tb2R1bGVzXFxicm93c2VyaWZ5XFxub2RlX21vZHVsZXNcXGJyb3dzZXItcGFja1xcX3ByZWx1ZGUuanMiLCJEOi9vdXRzb3VyY2UgcHJvamVjdHMvYXJ0ZnJlYWtzL0FydGZyaWtzQW5ndWxhci9kaXN0Mi9mYWtlX2FlMWFjYjlhLmpzIiwiRDovb3V0c291cmNlIHByb2plY3RzL2FydGZyZWFrcy9BcnRmcmlrc0FuZ3VsYXIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCl7XG4hZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW2RdW3RdfX0pfWZ1bmN0aW9uIG4odCl7dmFyIGU7aWYodCYmdC5fX2VzTW9kdWxlKXtlPXt9O2Zvcih2YXIgbiBpbiB0KU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pO2UuX191c2VEZWZhdWx0PSExLGUuX19lc01vZHVsZT0hMH1lbHNle2lmKFwiW29iamVjdCBNb2R1bGVdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeXN0ZW0mJlN5c3RlbS5pc01vZHVsZSYmU3lzdGVtLmlzTW9kdWxlKHQpKXJldHVybiB0O2U9e2RlZmF1bHQ6dCxfX3VzZURlZmF1bHQ6ITB9fXJldHVybiBuZXcgcihlKX1mdW5jdGlvbiByKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGQse3ZhbHVlOnR9KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGUsdGhpcyl9ZnVuY3Rpb24gaSh0KXtyZXR1cm5cIkBub2RlL1wiPT09dC5zdWJzdHIoMCw2KT9oKHQsbih5KHQuc3Vic3RyKDYpKSkse30pOmZbdF19ZnVuY3Rpb24gbyh0KXt2YXIgZT1pKHQpO2lmKCFlKXRocm93IG5ldyBFcnJvcignTW9kdWxlIFwiJyt0KydcIiBleHBlY3RlZCwgYnV0IG5vdCBjb250YWluZWQgaW4gYnVpbGQuJyk7aWYoZS5tb2R1bGUpcmV0dXJuIGUubW9kdWxlO3ZhciBuPWUubGlua1JlY29yZDtyZXR1cm4gcyhlLG4pLHAoZSxuLFtdKSxlLm1vZHVsZX1mdW5jdGlvbiBzKHQsZSl7aWYoIWUuZGVwTG9hZHMpe2UuZGVjbGFyZSYmYSh0LGUpLGUuZGVwTG9hZHM9W107Zm9yKHZhciBuPTA7bjxlLmRlcHMubGVuZ3RoO24rKyl7dmFyIHI9aShlLmRlcHNbbl0pO2UuZGVwTG9hZHMucHVzaChyKSxyLmxpbmtSZWNvcmQmJnMocixyLmxpbmtSZWNvcmQpO3ZhciBvPWUuc2V0dGVycyYmZS5zZXR0ZXJzW25dO28mJihvKHIubW9kdWxlfHxyLmxpbmtSZWNvcmQubW9kdWxlT2JqKSxyLmltcG9ydGVyU2V0dGVycy5wdXNoKG8pKX1yZXR1cm4gdH19ZnVuY3Rpb24gYShlLG4pe3ZhciByPW4ubW9kdWxlT2JqLGk9ZS5pbXBvcnRlclNldHRlcnMsbz0hMSxzPW4uZGVjbGFyZS5jYWxsKHQsZnVuY3Rpb24odCxlKXtpZighbyl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpZm9yKHZhciBuIGluIHQpXCJfX3VzZURlZmF1bHRcIiE9PW4mJihyW25dPXRbbl0pO2Vsc2Ugclt0XT1lO289ITA7Zm9yKHZhciBzPTA7czxpLmxlbmd0aDtzKyspaVtzXShyKTtyZXR1cm4gbz0hMSxlfX0se2lkOmUua2V5fSk7XCJmdW5jdGlvblwiIT10eXBlb2Ygcz8obi5zZXR0ZXJzPXMuc2V0dGVycyxuLmV4ZWN1dGU9cy5leGVjdXRlKToobi5zZXR0ZXJzPVtdLG4uZXhlY3V0ZT1zKX1mdW5jdGlvbiB1KHQsZSxuKXtyZXR1cm4gZlt0XT17a2V5OnQsbW9kdWxlOnZvaWQgMCxpbXBvcnRlclNldHRlcnM6W10sbGlua1JlY29yZDp7ZGVwczplLGRlcExvYWRzOnZvaWQgMCxkZWNsYXJlOm4sc2V0dGVyczp2b2lkIDAsZXhlY3V0ZTp2b2lkIDAsbW9kdWxlT2JqOnt9fX19ZnVuY3Rpb24gYyh0LGUsbixyKXtyZXR1cm4gZlt0XT17a2V5OnQsbW9kdWxlOnZvaWQgMCxpbXBvcnRlclNldHRlcnM6W10sbGlua1JlY29yZDp7ZGVwczplLGRlcExvYWRzOnZvaWQgMCxkZWNsYXJlOnZvaWQgMCxleGVjdXRlOnIsZXhlY3V0aW5nUmVxdWlyZTpuLG1vZHVsZU9iajp7ZGVmYXVsdDp7fSxfX3VzZURlZmF1bHQ6ITB9LHNldHRlcnM6dm9pZCAwfX19ZnVuY3Rpb24gbCh0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV09PT1yKXt2YXIgbyxzPWVbaV07cmV0dXJuIG89LTE9PT1uLmluZGV4T2Yocyk/cChzLHMubGlua1JlY29yZCxuKTpzLmxpbmtSZWNvcmQubW9kdWxlT2JqLG8uX191c2VEZWZhdWx0P28uZGVmYXVsdDpvfX19ZnVuY3Rpb24gcChlLG4saSl7aWYoaS5wdXNoKGUpLGUubW9kdWxlKXJldHVybiBlLm1vZHVsZTt2YXIgbztpZihuLnNldHRlcnMpe2Zvcih2YXIgcz0wO3M8bi5kZXBzLmxlbmd0aDtzKyspe3ZhciBhPW4uZGVwTG9hZHNbc10sdT1hLmxpbmtSZWNvcmQ7dSYmLTE9PT1pLmluZGV4T2YoYSkmJihvPXAoYSx1LHUuc2V0dGVycz9pOltdKSl9bi5leGVjdXRlLmNhbGwobSl9ZWxzZXt2YXIgYz17aWQ6ZS5rZXl9LGg9bi5tb2R1bGVPYmo7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsXCJleHBvcnRzXCIse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24odCl7aC5kZWZhdWx0PXR9LGdldDpmdW5jdGlvbigpe3JldHVybiBoLmRlZmF1bHR9fSk7dmFyIGY9bChuLmRlcHMsbi5kZXBMb2FkcyxpKTtpZighbi5leGVjdXRpbmdSZXF1aXJlKWZvcih2YXIgcz0wO3M8bi5kZXBzLmxlbmd0aDtzKyspZihuLmRlcHNbc10pO3ZhciBkPW4uZXhlY3V0ZS5jYWxsKHQsZixoLmRlZmF1bHQsYyk7aWYodm9pZCAwIT09ZD9oLmRlZmF1bHQ9ZDpjLmV4cG9ydHMhPT1oLmRlZmF1bHQmJihoLmRlZmF1bHQ9Yy5leHBvcnRzKSxoLmRlZmF1bHQmJmguZGVmYXVsdC5fX2VzTW9kdWxlKWZvcih2YXIgeSBpbiBoLmRlZmF1bHQpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoaC5kZWZhdWx0LHkpJiZcImRlZmF1bHRcIiE9PXkmJihoW3ldPWguZGVmYXVsdFt5XSl9dmFyIGM9ZS5tb2R1bGU9bmV3IHIobi5tb2R1bGVPYmopO2lmKCFuLnNldHRlcnMpZm9yKHZhciBzPTA7czxlLmltcG9ydGVyU2V0dGVycy5sZW5ndGg7cysrKWUuaW1wb3J0ZXJTZXR0ZXJzW3NdKGMpO3JldHVybiBjfWZ1bmN0aW9uIGgodCxlKXtyZXR1cm4gZlt0XT17a2V5OnQsbW9kdWxlOmUsaW1wb3J0ZXJTZXR0ZXJzOltdLGxpbmtSZWNvcmQ6dm9pZCAwfX12YXIgZj17fSxkPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2w/U3ltYm9sKCk6XCJAQGJhc2VPYmplY3RcIjtyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG51bGwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmKHIucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ109XCJNb2R1bGVcIik7dmFyIHk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5c3RlbSYmU3lzdGVtLl9ub2RlUmVxdWlyZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHJlcXVpcmUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiByZXF1aXJlLnJlc29sdmUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzLnBsYXRmb3JtJiZyZXF1aXJlLG09e307cmV0dXJuIE9iamVjdC5mcmVlemUmJk9iamVjdC5mcmVlemUobSksZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIGZ1bmN0aW9uKGEpe2EoZnVuY3Rpb24oYSl7dmFyIGw9e19ub2RlUmVxdWlyZTp5LHJlZ2lzdGVyOnUscmVnaXN0ZXJEeW5hbWljOmMscmVnaXN0cnk6e2dldDpmdW5jdGlvbih0KXtyZXR1cm4gZlt0XS5tb2R1bGV9LHNldDpofSxuZXdNb2R1bGU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyByKHQpfX07aChcIkBlbXB0eVwiLG5ldyByKHt9KSk7Zm9yKHZhciBwPTA7cDxlLmxlbmd0aDtwKyspaChlW3BdLG4oYXJndW1lbnRzW3BdLHt9KSk7cyhsKTt2YXIgZD1vKHRbMF0pO2lmKHQubGVuZ3RoPjEpZm9yKHZhciBwPTE7cDx0Lmxlbmd0aDtwKyspbyh0W3BdKTtyZXR1cm4gaT9kLmRlZmF1bHQ6KGQgaW5zdGFuY2VvZiByJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxkKX0pfX19KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6Z2xvYmFsKShbXCJhXCJdLFtdLCEwLGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVxdWlyZSxuPXRoaXMuZXhwb3J0cyxyPXRoaXMubW9kdWxlOyFmdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsZSl7Zm9yKHZhciBuPXQuc3BsaXQoXCIuXCIpO24ubGVuZ3RoOyllPWVbbi5zaGlmdCgpXTtyZXR1cm4gZX1mdW5jdGlvbiByKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBuKHQsZSk7aWYoISh0IGluc3RhbmNlb2YgQXJyYXkpKXRocm93IG5ldyBFcnJvcihcIkdsb2JhbCBleHBvcnRzIG11c3QgYmUgYSBzdHJpbmcgb3IgYXJyYXkuXCIpO2Zvcih2YXIgcj17fSxpPTA7aTx0Lmxlbmd0aDtpKyspclt0W2ldLnNwbGl0KFwiLlwiKS5wb3AoKV09bih0W2ldLGUpO3JldHVybiByfWZ1bmN0aW9uIGkodCl7aWYoLTE9PT1hLmluZGV4T2YodCkpe3RyeXt2YXIgbj1lW3RdfWNhdGNoKGUpe2EucHVzaCh0KX10aGlzKHQsbil9fXZhciBvLHM9dCxhPVtcIl9nXCIsXCJzZXNzaW9uU3RvcmFnZVwiLFwibG9jYWxTdG9yYWdlXCIsXCJjbGlwYm9hcmREYXRhXCIsXCJmcmFtZXNcIixcImZyYW1lRWxlbWVudFwiLFwiZXh0ZXJuYWxcIixcIm1vekFuaW1hdGlvblN0YXJ0VGltZVwiLFwid2Via2l0U3RvcmFnZUluZm9cIixcIndlYmtpdEluZGV4ZWREQlwiLFwibW96SW5uZXJTY3JlZW5ZXCIsXCJtb3pJbm5lclNjcmVlblhcIl07cy5yZWdpc3RyeS5zZXQoXCJAQGdsb2JhbC1oZWxwZXJzXCIscy5uZXdNb2R1bGUoe3ByZXBhcmVHbG9iYWw6ZnVuY3Rpb24odCxuLHMpe3ZhciBhPWUuZGVmaW5lO2UuZGVmaW5lPXZvaWQgMDt2YXIgdTtpZihzKXt1PXt9O2Zvcih2YXIgYyBpbiBzKXVbY109ZVtjXSxlW2NdPXNbY119cmV0dXJuIG58fChvPXt9LE9iamVjdC5rZXlzKGUpLmZvckVhY2goaSxmdW5jdGlvbih0LGUpe29bdF09ZX0pKSxmdW5jdGlvbigpe3ZhciB0LHM9bj9yKG4pOnt9LGM9ISFuO2lmKG58fE9iamVjdC5rZXlzKGUpLmZvckVhY2goaSxmdW5jdGlvbihlLHIpe29bZV0hPT1yJiZ2b2lkIDAhPT1yJiYobnx8KHNbZV09cix2b2lkIDAhPT10P2N8fHQ9PT1yfHwoYz0hMCk6dD1yKSl9KSxzPWM/czp0LHUpZm9yKHZhciBsIGluIHUpZVtsXT11W2xdO3JldHVybiBlLmRlZmluZT1hLHN9fX0pKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpnbG9iYWwpLGZ1bmN0aW9uKGksbyl7XCJvYmplY3RcIj09dHlwZW9mIG4mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiByP28obixlKFwiQGFuZ3VsYXIvY29yZVwiKSk6dC5yZWdpc3RlckR5bmFtaWMoXCJiXCIsW1wiY1wiXSwhMSxmdW5jdGlvbih0LGUsbil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9vLmNhbGwoZSxlLHQoXCJjXCIpKTpvfSl9KHRoaXMsZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1udWxsKTt2YXIgcj1bXSxpPXQudmlzaXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQudmlzaXQoZSxuKXx8ZS52aXNpdCh0LG4pfTpmdW5jdGlvbihlKXtyZXR1cm4gZS52aXNpdCh0LG4pfTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWkodCk7ZSYmci5wdXNoKGUpfSkscn1mdW5jdGlvbiByKHQpe3JldHVybiBudWxsIT10fWZ1bmN0aW9uIGkodCl7cmV0dXJuIG51bGw9PXR9ZnVuY3Rpb24gbyh0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQmJk9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09PWVvfWZ1bmN0aW9uIHModCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYobnVsbD09dClyZXR1cm5cIlwiK3Q7aWYodC5vdmVycmlkZGVuTmFtZSlyZXR1cm5cIlwiK3Qub3ZlcnJpZGRlbk5hbWU7aWYodC5uYW1lKXJldHVyblwiXCIrdC5uYW1lO3ZhciBlPXQudG9TdHJpbmcoKSxuPWUuaW5kZXhPZihcIlxcblwiKTtyZXR1cm4gbj09PS0xP2U6ZS5zdWJzdHJpbmcoMCxuKX1mdW5jdGlvbiBhKHQpe3JldHVybiBudWxsIT09dCYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHR8fFwib2JqZWN0XCI9PXR5cGVvZiB0KX1mdW5jdGlvbiB1KHQpe3JldHVybiFhKHQpfWZ1bmN0aW9uIGModCl7cmV0dXJuIHQucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXF1cXC9cXFxcXSkvZyxcIlxcXFwkMVwiKX1mdW5jdGlvbiBsKHQpe2lmKFwiOlwiIT10WzBdKXJldHVybltudWxsLHRdO3ZhciBlPXQuaW5kZXhPZihcIjpcIiwxKTtpZihlPT0tMSl0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGZvcm1hdCBcIicrdCsnXCIgZXhwZWN0aW5nIFwiOm5hbWVzcGFjZTpuYW1lXCInKTtyZXR1cm5bdC5zbGljZSgxLGUpLHQuc2xpY2UoZSsxKV19ZnVuY3Rpb24gcCh0KXtyZXR1cm4gbnVsbD09PXQ/bnVsbDpsKHQpWzBdfWZ1bmN0aW9uIGgodCxlKXtyZXR1cm4gdD9cIjpcIit0K1wiOlwiK2U6ZX1mdW5jdGlvbiBmKHQpe3JldHVybiBRb1t0LnRvTG93ZXJDYXNlKCldfHxZb31mdW5jdGlvbiBkKHQpe3JldHVybiB0LnJlcGxhY2Uoc3MsZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlLTBdPWFyZ3VtZW50c1tlXTtyZXR1cm4gdFsxXS50b1VwcGVyQ2FzZSgpfSl9ZnVuY3Rpb24geSh0LGUpe3JldHVybiB2KHQsXCI6XCIsZSl9ZnVuY3Rpb24gbSh0LGUpe3JldHVybiB2KHQsXCIuXCIsZSl9ZnVuY3Rpb24gdih0LGUsbil7dmFyIHI9dC5pbmRleE9mKGUpO3JldHVybiByPT0tMT9uOlt0LnNsaWNlKDAscikudHJpbSgpLHQuc2xpY2UocisxKS50cmltKCldfWZ1bmN0aW9uIGcodCxlLG4pe3JldHVybiBBcnJheS5pc0FycmF5KHQpP2UudmlzaXRBcnJheSh0LG4pOm8odCk/ZS52aXNpdFN0cmluZ01hcCh0LG4pOm51bGw9PXR8fHUodCk/ZS52aXNpdFByaW1pdGl2ZSh0LG4pOmUudmlzaXRPdGhlcih0LG4pfWZ1bmN0aW9uIF8odCl7cmV0dXJuIHQucmVwbGFjZSgvXFxXL2csXCJfXCIpfWZ1bmN0aW9uIGIodCl7aWYoIXR8fCF0LnJlZmVyZW5jZSlyZXR1cm4gbnVsbDt2YXIgZT10LnJlZmVyZW5jZTtpZihlIGluc3RhbmNlb2YgSmkpcmV0dXJuIGUubmFtZTtpZihlLl9fYW5vbnltb3VzVHlwZSlyZXR1cm4gZS5fX2Fub255bW91c1R5cGU7dmFyIG49cyhlKTtyZXR1cm4gbi5pbmRleE9mKFwiKFwiKT49MD8obj1cImFub255bW91c19cIitFcysrLGUuX19hbm9ueW1vdXNUeXBlPW4pOm49XyhuKSxufWZ1bmN0aW9uIHcodCl7dmFyIGU9dC5yZWZlcmVuY2U7cmV0dXJuIGUgaW5zdGFuY2VvZiBKaT9lLmZpbGVQYXRoOk9vLmltcG9ydFVyaShlKX1mdW5jdGlvbiBDKHQpe3JldHVybiByKHQudmFsdWUpP18odC52YWx1ZSk6Yih0LmlkZW50aWZpZXIpfWZ1bmN0aW9uIEUodCl7cmV0dXJuIHIodC5pZGVudGlmaWVyKT90LmlkZW50aWZpZXIucmVmZXJlbmNlOnQudmFsdWV9ZnVuY3Rpb24gUyh0LG4pe3ZhciByPVpvLnBhcnNlKG4uc2VsZWN0b3IpWzBdLmdldE1hdGNoaW5nRWxlbWVudFRlbXBsYXRlKCk7cmV0dXJuIE9zLmNyZWF0ZSh7aXNIb3N0OiEwLHR5cGU6e3JlZmVyZW5jZTp0LGRpRGVwczpbXSxsaWZlY3ljbGVIb29rczpbXX0sdGVtcGxhdGU6bmV3IFBzKHtlbmNhcHN1bGF0aW9uOmUuVmlld0VuY2Fwc3VsYXRpb24uTm9uZSx0ZW1wbGF0ZTpyLHRlbXBsYXRlVXJsOlwiXCIsc3R5bGVzOltdLHN0eWxlVXJsczpbXSxuZ0NvbnRlbnRTZWxlY3RvcnM6W10sYW5pbWF0aW9uczpbXX0pLGNoYW5nZURldGVjdGlvbjplLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRlZmF1bHQsaW5wdXRzOltdLG91dHB1dHM6W10saG9zdDp7fSxpc0NvbXBvbmVudDohMCxzZWxlY3RvcjpcIipcIixwcm92aWRlcnM6W10sdmlld1Byb3ZpZGVyczpbXSxxdWVyaWVzOltdLHZpZXdRdWVyaWVzOltdfSl9ZnVuY3Rpb24geCh0KXtyZXR1cm4gdHx8W119ZnVuY3Rpb24gUCh0KXtyZXR1cm4gdD49SXMmJnQ8PUxzfHx0PT1rYX1mdW5jdGlvbiBPKHQpe3JldHVybiBzYTw9dCYmdDw9YWF9ZnVuY3Rpb24gVCh0KXtyZXR1cm4gdD49Z2EmJnQ8PU9hfHx0Pj11YSYmdDw9aGF9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gdD49Z2EmJnQ8PWJhfHx0Pj11YSYmdDw9bGF8fE8odCl9ZnVuY3Rpb24gTSgpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdH19ZnVuY3Rpb24gayh0LG4pe2lmKGUuaXNEZXZNb2RlKCkmJiFpKG4pKXtpZighQXJyYXkuaXNBcnJheShuKSl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCAnXCIrdCtcIicgdG8gYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cIik7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKz0xKWlmKFwic3RyaW5nXCIhPXR5cGVvZiBuW3JdKXRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkICdcIit0K1wiJyB0byBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLlwiKX19ZnVuY3Rpb24gUih0LG4pe2lmKHIobikmJighQXJyYXkuaXNBcnJheShuKXx8MiE9bi5sZW5ndGgpKXRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkICdcIit0K1wiJyB0byBiZSBhbiBhcnJheSwgW3N0YXJ0LCBlbmRdLlwiKTtpZihlLmlzRGV2TW9kZSgpJiYhaShuKSl7dmFyIG89blswXSxzPW5bMV07SWEuZm9yRWFjaChmdW5jdGlvbih0KXtpZih0LnRlc3Qobyl8fHQudGVzdChzKSl0aHJvdyBuZXcgRXJyb3IoXCJbJ1wiK28rXCInLCAnXCIrcytcIiddIGNvbnRhaW5zIHVudXNhYmxlIGludGVycG9sYXRpb24gc3ltYm9sLlwiKX0pfX1mdW5jdGlvbiBJKHQsZSl7cmV0dXJuIG5ldyBkdSh0LHB1LkNoYXJhY3RlcixlLFN0cmluZy5mcm9tQ2hhckNvZGUoZSkpfWZ1bmN0aW9uIE4odCxlKXtyZXR1cm4gbmV3IGR1KHQscHUuSWRlbnRpZmllciwwLGUpfWZ1bmN0aW9uIEQodCxlKXtyZXR1cm4gbmV3IGR1KHQscHUuS2V5d29yZCwwLGUpfWZ1bmN0aW9uIGoodCxlKXtyZXR1cm4gbmV3IGR1KHQscHUuT3BlcmF0b3IsMCxlKX1mdW5jdGlvbiBWKHQsZSl7cmV0dXJuIG5ldyBkdSh0LHB1LlN0cmluZywwLGUpfWZ1bmN0aW9uIEwodCxlKXtyZXR1cm4gbmV3IGR1KHQscHUuTnVtYmVyLGUsXCJcIil9ZnVuY3Rpb24gRih0LGUpe3JldHVybiBuZXcgZHUodCxwdS5FcnJvciwwLGUpfWZ1bmN0aW9uIFUodCl7cmV0dXJuIGdhPD10JiZ0PD1PYXx8dWE8PXQmJnQ8PWhhfHx0PT12YXx8dD09QnN9ZnVuY3Rpb24gSCh0KXtpZigwPT10Lmxlbmd0aClyZXR1cm4hMTt2YXIgZT1uZXcgbXUodCk7aWYoIVUoZS5wZWVrKSlyZXR1cm4hMTtmb3IoZS5hZHZhbmNlKCk7ZS5wZWVrIT09UnM7KXtpZighQihlLnBlZWspKXJldHVybiExO2UuYWR2YW5jZSgpfXJldHVybiEwfWZ1bmN0aW9uIEIodCl7cmV0dXJuIFQodCl8fE8odCl8fHQ9PXZhfHx0PT1Cc31mdW5jdGlvbiBxKHQpe3JldHVybiB0PT1fYXx8dD09Y2F9ZnVuY3Rpb24geih0KXtyZXR1cm4gdD09S3N8fHQ9PVFzfWZ1bmN0aW9uIFcodCl7cmV0dXJuIHQ9PT1Xc3x8dD09PVVzfHx0PT09UmF9ZnVuY3Rpb24gRyh0KXtzd2l0Y2godCl7Y2FzZSB3YTpyZXR1cm4gTnM7Y2FzZSBiYTpyZXR1cm4ganM7Y2FzZSBDYTpyZXR1cm4gVnM7Y2FzZSBFYTpyZXR1cm4gSXM7Y2FzZSB4YTpyZXR1cm4gRHM7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gWCh0KXt2YXIgZT1jKHQuc3RhcnQpK1wiKFtcXFxcc1xcXFxTXSo/KVwiK2ModC5lbmQpO3JldHVybiBuZXcgUmVnRXhwKGUsXCJnXCIpfWZ1bmN0aW9uICQodCxlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciByPVtdLGk9dC52aXNpdD9mdW5jdGlvbihlKXtyZXR1cm4gdC52aXNpdChlLG4pfHxlLnZpc2l0KHQsbil9OmZ1bmN0aW9uKGUpe3JldHVybiBlLnZpc2l0KHQsbil9O3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9aSh0KTtlJiZyLnB1c2goZSl9KSxyfWZ1bmN0aW9uIFEodCxlLG4scixpKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ITEpLHZvaWQgMD09PWkmJihpPURhKSxuZXcgQnUobmV3IHh1KHQsZSksbixyLGkpLnRva2VuaXplKCl9ZnVuY3Rpb24gWSh0KXt2YXIgZT10PT09UnM/XCJFT0ZcIjpTdHJpbmcuZnJvbUNoYXJDb2RlKHQpO3JldHVybidVbmV4cGVjdGVkIGNoYXJhY3RlciBcIicrZSsnXCInfWZ1bmN0aW9uIEsodCl7cmV0dXJuJ1Vua25vd24gZW50aXR5IFwiJyt0KydcIiAtIHVzZSB0aGUgXCImIzxkZWNpbWFsPjtcIiBvciAgXCImI3g8aGV4PjtcIiBzeW50YXgnfWZ1bmN0aW9uIFoodCl7cmV0dXJuIVAodCl8fHQ9PT1Sc31mdW5jdGlvbiBKKHQpe3JldHVybiBQKHQpfHx0PT09aWF8fHQ9PT1Kc3x8dD09PVdzfHx0PT09VXN8fHQ9PT1yYX1mdW5jdGlvbiB0dCh0KXtyZXR1cm4odDxnYXx8T2E8dCkmJih0PHVhfHxoYTx0KSYmKHQ8c2F8fHQ+YWEpfWZ1bmN0aW9uIGV0KHQpe3JldHVybiB0PT1lYXx8dD09UnN8fCFBKHQpfWZ1bmN0aW9uIG50KHQpe3JldHVybiB0PT1lYXx8dD09UnN8fCFUKHQpfWZ1bmN0aW9uIHJ0KHQsZSxuKXt2YXIgcj0hIW4mJnQuaW5kZXhPZihuLnN0YXJ0LGUpPT1lO3JldHVybiB0LmNoYXJDb2RlQXQoZSk9PVRhJiYhcn1mdW5jdGlvbiBpdCh0KXtyZXR1cm4gdD09PXJhfHxUKHQpfWZ1bmN0aW9uIG90KHQsZSl7cmV0dXJuIHN0KHQpPT1zdChlKX1mdW5jdGlvbiBzdCh0KXtyZXR1cm4gdD49Z2EmJnQ8PU9hP3QtZ2ErdWE6dH1mdW5jdGlvbiBhdCh0KXtmb3IodmFyIGUsbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07ZSYmZS50eXBlPT1qdS5URVhUJiZpLnR5cGU9PWp1LlRFWFQ/KGUucGFydHNbMF0rPWkucGFydHNbMF0sZS5zb3VyY2VTcGFuLmVuZD1pLnNvdXJjZVNwYW4uZW5kKTooZT1pLG4ucHVzaChlKSl9cmV0dXJuIG59ZnVuY3Rpb24gdXQodCxlKXtyZXR1cm4gdC5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXT09PWV9ZnVuY3Rpb24gY3QodCl7dmFyIGU9bmV3IGljKHJjLHQpO3JldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIGUudG9JMThuTWVzc2FnZSh0LG4scil9fWZ1bmN0aW9uIGx0KHQpe3JldHVybiB0LnNwbGl0KG9jKVsxXX1mdW5jdGlvbiBwdCh0LGUsbixyKXt2YXIgaT1uZXcgZmMobixyKTtyZXR1cm4gaS5leHRyYWN0KHQsZSl9ZnVuY3Rpb24gaHQodCxlLG4scixpKXt2YXIgbz1uZXcgZmMocixpKTtyZXR1cm4gby5tZXJnZSh0LGUsbil9ZnVuY3Rpb24gZnQodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBOdSYmdC52YWx1ZSYmdC52YWx1ZS5zdGFydHNXaXRoKFwiaTE4blwiKX1mdW5jdGlvbiBkdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE51JiZ0LnZhbHVlJiZcIi9pMThuXCI9PT10LnZhbHVlfWZ1bmN0aW9uIHl0KHQpe3JldHVybiB0LmF0dHJzLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PXVjfSl8fG51bGx9ZnVuY3Rpb24gbXQodCl7aWYoIXQpcmV0dXJuW1wiXCIsXCJcIl07dmFyIGU9dC5pbmRleE9mKFwifFwiKTtyZXR1cm4gZT09LTE/W1wiXCIsdF06W3Quc2xpY2UoMCxlKSx0LnNsaWNlKGUrMSldfWZ1bmN0aW9uIHZ0KHQpe3JldHVybiB5Y31mdW5jdGlvbiBndCh0KXtyZXR1cm4gd3QoYnQodC5ub2Rlcykuam9pbihcIlwiKSsoXCJbXCIrdC5tZWFuaW5nK1wiXVwiKSl9ZnVuY3Rpb24gX3QodCl7dmFyIGU9bmV3IHdjLG49dC5ub2Rlcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXQoZSxudWxsKX0pO3JldHVybiBTdChuLmpvaW4oXCJcIiksdC5tZWFuaW5nKX1mdW5jdGlvbiBidCh0KXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXQoYmMsbnVsbCl9KX1mdW5jdGlvbiB3dCh0KXt2YXIgZT1PdCh0KSxuPUR0KGUsQ2MuQmlnKSxyPTgqZS5sZW5ndGgsaT1uZXcgQXJyYXkoODApLG89WzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXSxzPW9bMF0sYT1vWzFdLHU9b1syXSxjPW9bM10sbD1vWzRdO25bcj4+NV18PTEyODw8MjQtciUzMixuWyhyKzY0Pj45PDw0KSsxNV09cjtmb3IodmFyIHA9MDtwPG4ubGVuZ3RoO3ArPTE2KXtmb3IodmFyIGg9W3MsYSx1LGMsbF0sZj1oWzBdLGQ9aFsxXSx5PWhbMl0sbT1oWzNdLHY9aFs0XSxnPTA7Zzw4MDtnKyspe2c8MTY/aVtnXT1uW3ArZ106aVtnXT1JdChpW2ctM11eaVtnLThdXmlbZy0xNF1eaVtnLTE2XSwxKTt2YXIgXz1DdChnLGEsdSxjKSxiPV9bMF0sdz1fWzFdLEM9W0l0KHMsNSksYixsLHcsaVtnXV0ucmVkdWNlKEF0KTtFPVtjLHUsSXQoYSwzMCkscyxDXSxsPUVbMF0sYz1FWzFdLHU9RVsyXSxhPUVbM10scz1FWzRdfVM9W0F0KHMsZiksQXQoYSxkKSxBdCh1LHkpLEF0KGMsbSksQXQobCx2KV0scz1TWzBdLGE9U1sxXSx1PVNbMl0sYz1TWzNdLGw9U1s0XX1yZXR1cm4gVXQoTHQoW3MsYSx1LGMsbF0pKTt2YXIgRSxTfWZ1bmN0aW9uIEN0KHQsZSxuLHIpe3JldHVybiB0PDIwP1tlJm58fmUmciwxNTE4NTAwMjQ5XTp0PDQwP1tlXm5eciwxODU5Nzc1MzkzXTp0PDYwP1tlJm58ZSZyfG4mciwyNDAwOTU5NzA4XTpbZV5uXnIsMzM5NTQ2OTc4Ml19ZnVuY3Rpb24gRXQodCl7dmFyIGU9T3QodCksbj1beHQoZSwwKSx4dChlLDEwMjA3MildLHI9blswXSxpPW5bMV07cmV0dXJuIDAhPXJ8fDAhPWkmJjEhPWl8fChyXj0zMTk3OTAwNjMsaV49LTE4MDE0MTAyNjQpLFtyLGldfWZ1bmN0aW9uIFN0KHQsZSl7dmFyIG49RXQodCkscj1uWzBdLGk9blsxXTtpZihlKXt2YXIgbz1FdChlKSxzPW9bMF0sYT1vWzFdO3U9a3QoTnQoW3IsaV0sMSksW3MsYV0pLHI9dVswXSxpPXVbMV19cmV0dXJuIEh0KEx0KFsyMTQ3NDgzNjQ3JnIsaV0pKTt2YXIgdX1mdW5jdGlvbiB4dCh0LGUpe3ZhciBuLHI9WzI2NTQ0MzU3NjksMjY1NDQzNTc2OV0saT1yWzBdLG89clsxXSxzPXQubGVuZ3RoO2ZvcihuPTA7bisxMjw9cztuKz0xMilpPUF0KGksVnQodCxuLENjLkxpdHRsZSkpLG89QXQobyxWdCh0LG4rNCxDYy5MaXR0bGUpKSxlPUF0KGUsVnQodCxuKzgsQ2MuTGl0dGxlKSksYT1QdChbaSxvLGVdKSxpPWFbMF0sbz1hWzFdLGU9YVsyXTtyZXR1cm4gaT1BdChpLFZ0KHQsbixDYy5MaXR0bGUpKSxvPUF0KG8sVnQodCxuKzQsQ2MuTGl0dGxlKSksZT1BdChlLHMpLGU9QXQoZSxWdCh0LG4rOCxDYy5MaXR0bGUpPDw4KSxQdChbaSxvLGVdKVsyXTt2YXIgYX1mdW5jdGlvbiBQdCh0KXt2YXIgZT10WzBdLG49dFsxXSxyPXRbMl07cmV0dXJuIGU9UnQoZSxuKSxlPVJ0KGUsciksZV49cj4+PjEzLG49UnQobixyKSxuPVJ0KG4sZSksbl49ZTw8OCxyPVJ0KHIsZSkscj1SdChyLG4pLHJePW4+Pj4xMyxlPVJ0KGUsbiksZT1SdChlLHIpLGVePXI+Pj4xMixuPVJ0KG4sciksbj1SdChuLGUpLG5ePWU8PDE2LHI9UnQocixlKSxyPVJ0KHIsbikscl49bj4+PjUsZT1SdChlLG4pLGU9UnQoZSxyKSxlXj1yPj4+MyxuPVJ0KG4sciksbj1SdChuLGUpLG5ePWU8PDEwLHI9UnQocixlKSxyPVJ0KHIsbikscl49bj4+PjE1LFtlLG4scl19ZnVuY3Rpb24gT3QodCl7Zm9yKHZhciBlPVwiXCIsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj1UdCh0LG4pO3I8PTEyNz9lKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHIpOnI8PTIwNDc/ZSs9U3RyaW5nLmZyb21DaGFyQ29kZSgxOTJ8cj4+PjYsMTI4fDYzJnIpOnI8PTY1NTM1P2UrPVN0cmluZy5mcm9tQ2hhckNvZGUoMjI0fHI+Pj4xMiwxMjh8cj4+PjYmNjMsMTI4fDYzJnIpOnI8PTIwOTcxNTEmJihlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDI0MHxyPj4+MTgsMTI4fHI+Pj4xMiY2MywxMjh8cj4+PjYmNjMsMTI4fDYzJnIpKX1yZXR1cm4gZX1mdW5jdGlvbiBUdCh0LGUpe2lmKGU8MHx8ZT49dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiaW5kZXg9XCIrZSsnIGlzIG91dCBvZiByYW5nZSBpbiBcIicrdCsnXCInKTt2YXIgbj10LmNoYXJDb2RlQXQoZSk7aWYobj49NTUyOTYmJm48PTU3MzQzJiZ0Lmxlbmd0aD5lKzEpe3ZhciByPWp0KHQsZSsxKTtpZihyPj01NjMyMCYmcjw9NTczNDMpcmV0dXJuIDEwMjQqKG4tNTUyOTYpK3ItNTYzMjArNjU1MzZ9cmV0dXJuIG59ZnVuY3Rpb24gQXQodCxlKXtyZXR1cm4gTXQodCxlKVsxXX1mdW5jdGlvbiBNdCh0LGUpe3ZhciBuPSg2NTUzNSZ0KSsoNjU1MzUmZSkscj0odD4+PjE2KSsoZT4+PjE2KSsobj4+PjE2KTtyZXR1cm5bcj4+PjE2LHI8PDE2fDY1NTM1Jm5dfWZ1bmN0aW9uIGt0KHQsZSl7dmFyIG49dFswXSxyPXRbMV0saT1lWzBdLG89ZVsxXSxzPU10KHIsbyksYT1zWzBdLHU9c1sxXSxjPUF0KEF0KG4saSksYSk7cmV0dXJuW2MsdV19ZnVuY3Rpb24gUnQodCxlKXt2YXIgbj0oNjU1MzUmdCktKDY1NTM1JmUpLHI9KHQ+PjE2KS0oZT4+MTYpKyhuPj4xNik7cmV0dXJuIHI8PDE2fDY1NTM1Jm59ZnVuY3Rpb24gSXQodCxlKXtyZXR1cm4gdDw8ZXx0Pj4+MzItZX1mdW5jdGlvbiBOdCh0LGUpe3ZhciBuPXRbMF0scj10WzFdLGk9bjw8ZXxyPj4+MzItZSxvPXI8PGV8bj4+PjMyLWU7cmV0dXJuW2ksb119ZnVuY3Rpb24gRHQodCxlKXtmb3IodmFyIG49QXJyYXkodC5sZW5ndGgrMz4+PjIpLHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdPVZ0KHQsNCpyLGUpO3JldHVybiBufWZ1bmN0aW9uIGp0KHQsZSl7cmV0dXJuIGU+PXQubGVuZ3RoPzA6MjU1JnQuY2hhckNvZGVBdChlKX1mdW5jdGlvbiBWdCh0LGUsbil7dmFyIHI9MDtpZihuPT09Q2MuQmlnKWZvcih2YXIgaT0wO2k8NDtpKyspcis9anQodCxlK2kpPDwyNC04Kmk7ZWxzZSBmb3IodmFyIGk9MDtpPDQ7aSsrKXIrPWp0KHQsZStpKTw8OCppO3JldHVybiByfWZ1bmN0aW9uIEx0KHQpe3JldHVybiB0LnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0K0Z0KGUpfSxcIlwiKX1mdW5jdGlvbiBGdCh0KXtmb3IodmFyIGU9XCJcIixuPTA7bjw0O24rKyllKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHQ+Pj44KigzLW4pJjI1NSk7cmV0dXJuIGV9ZnVuY3Rpb24gVXQodCl7Zm9yKHZhciBlPVwiXCIsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj1qdCh0LG4pO2UrPShyPj4+NCkudG9TdHJpbmcoMTYpKygxNSZyKS50b1N0cmluZygxNil9cmV0dXJuIGUudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBIdCh0KXtmb3IodmFyIGU9XCJcIixuPVwiMVwiLHI9dC5sZW5ndGgtMTtyPj0wO3ItLSllPUJ0KGUscXQoanQodCxyKSxuKSksbj1xdCgyNTYsbik7cmV0dXJuIGUuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIil9ZnVuY3Rpb24gQnQodCxlKXtmb3IodmFyIG49XCJcIixyPU1hdGgubWF4KHQubGVuZ3RoLGUubGVuZ3RoKSxpPTAsbz0wO2k8cnx8bztpKyspe3ZhciBzPW8rICsodFtpXXx8MCkrICsoZVtpXXx8MCk7cz49MTA/KG89MSxuKz1zLTEwKToobz0wLG4rPXMpfXJldHVybiBufWZ1bmN0aW9uIHF0KHQsZSl7Zm9yKHZhciBuPVwiXCIscj1lOzAhPT10O3Q+Pj49MSkxJnQmJihuPUJ0KG4scikpLHI9QnQocixyKTtyZXR1cm4gbn1mdW5jdGlvbiB6dCh0KXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXQoUGMpfSkuam9pbihcIlwiKX1mdW5jdGlvbiBXdCh0KXtyZXR1cm4gUmMucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVwbGFjZShlWzBdLGVbMV0pfSx0KX1mdW5jdGlvbiBHdCh0KXtzd2l0Y2godC50b0xvd2VyQ2FzZSgpKXtjYXNlXCJiclwiOnJldHVyblwibGJcIjtjYXNlXCJpbWdcIjpyZXR1cm5cImltYWdlXCI7ZGVmYXVsdDpyZXR1cm5cIngtXCIrdH19ZnVuY3Rpb24gWHQodCl7cmV0dXJuIF90KHQpfWZ1bmN0aW9uICR0KHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49XCJzcmNcIiksbnVsbD09ZT9cIkBhbmd1bGFyL1wiK3QrXCIvaW5kZXhcIjpcIkBhbmd1bGFyL1wiK3QrXCIvXCIrbitcIi9cIitlfWZ1bmN0aW9uIFF0KHQpe3JldHVybiBPby5yZXNvbHZlSWRlbnRpZmllcih0Lm5hbWUsdC5tb2R1bGVVcmwsdC5ydW50aW1lKX1mdW5jdGlvbiBZdCh0KXt2YXIgZT1Pby5yZXNvbHZlSWRlbnRpZmllcih0Lm5hbWUsdC5tb2R1bGVVcmwsdC5ydW50aW1lKTtyZXR1cm57cmVmZXJlbmNlOmV9fWZ1bmN0aW9uIEt0KHQpe3JldHVybntpZGVudGlmaWVyOnR9fWZ1bmN0aW9uIFp0KHQpe3JldHVybiBLdChZdCh0KSl9ZnVuY3Rpb24gSnQodCxlKXt2YXIgbj1Pby5yZXNvbHZlRW51bShRdCh0KSxlKTtyZXR1cm57cmVmZXJlbmNlOm59fWZ1bmN0aW9uIHRlKHQpe3ZhciBlPW5ldyBTbDtyZXR1cm4gbmV3IENsKCQoZSx0KSxlLmlzRXhwYW5kZWQsZS5lcnJvcnMpfWZ1bmN0aW9uIGVlKHQsZSl7dmFyIG49dC5jYXNlcy5tYXAoZnVuY3Rpb24odCl7d2wuaW5kZXhPZih0LnZhbHVlKSE9LTF8fHQudmFsdWUubWF0Y2goL149XFxkKyQvKXx8ZS5wdXNoKG5ldyBFbCh0LnZhbHVlU291cmNlU3BhbiwnUGx1cmFsIGNhc2VzIHNob3VsZCBiZSBcIj08bnVtYmVyPlwiIG9yIG9uZSBvZiAnK3dsLmpvaW4oXCIsIFwiKSkpO3ZhciBuPXRlKHQuZXhwcmVzc2lvbik7cmV0dXJuIGUucHVzaC5hcHBseShlLG4uZXJyb3JzKSxuZXcgSXUoXCJ0ZW1wbGF0ZVwiLFtuZXcgUnUoXCJuZ1BsdXJhbENhc2VcIixcIlwiK3QudmFsdWUsdC52YWx1ZVNvdXJjZVNwYW4pXSxuLm5vZGVzLHQuc291cmNlU3Bhbix0LnNvdXJjZVNwYW4sdC5zb3VyY2VTcGFuKX0pLHI9bmV3IFJ1KFwiW25nUGx1cmFsXVwiLHQuc3dpdGNoVmFsdWUsdC5zd2l0Y2hWYWx1ZVNvdXJjZVNwYW4pO3JldHVybiBuZXcgSXUoXCJuZy1jb250YWluZXJcIixbcl0sbix0LnNvdXJjZVNwYW4sdC5zb3VyY2VTcGFuLHQuc291cmNlU3Bhbil9ZnVuY3Rpb24gbmUodCxlKXt2YXIgbj10LmNhc2VzLm1hcChmdW5jdGlvbih0KXt2YXIgbj10ZSh0LmV4cHJlc3Npb24pO3JldHVybiBlLnB1c2guYXBwbHkoZSxuLmVycm9ycyksXCJvdGhlclwiPT09dC52YWx1ZT9uZXcgSXUoXCJ0ZW1wbGF0ZVwiLFtuZXcgUnUoXCJuZ1N3aXRjaERlZmF1bHRcIixcIlwiLHQudmFsdWVTb3VyY2VTcGFuKV0sbi5ub2Rlcyx0LnNvdXJjZVNwYW4sdC5zb3VyY2VTcGFuLHQuc291cmNlU3Bhbik6bmV3IEl1KFwidGVtcGxhdGVcIixbbmV3IFJ1KFwibmdTd2l0Y2hDYXNlXCIsXCJcIit0LnZhbHVlLHQudmFsdWVTb3VyY2VTcGFuKV0sbi5ub2Rlcyx0LnNvdXJjZVNwYW4sdC5zb3VyY2VTcGFuLHQuc291cmNlU3Bhbil9KSxyPW5ldyBSdShcIltuZ1N3aXRjaF1cIix0LnN3aXRjaFZhbHVlLHQuc3dpdGNoVmFsdWVTb3VyY2VTcGFuKTtyZXR1cm4gbmV3IEl1KFwibmctY29udGFpbmVyXCIsW3JdLG4sdC5zb3VyY2VTcGFuLHQuc291cmNlU3Bhbix0LnNvdXJjZVNwYW4pfWZ1bmN0aW9uIHJlKHQsZSl7dmFyIG49ZS51c2VFeGlzdGluZyxyPWUudXNlVmFsdWUsaT1lLmRlcHM7cmV0dXJue3Rva2VuOnQudG9rZW4sdXNlQ2xhc3M6dC51c2VDbGFzcyx1c2VFeGlzdGluZzpuLHVzZUZhY3Rvcnk6dC51c2VGYWN0b3J5LHVzZVZhbHVlOnIsZGVwczppLG11bHRpOnQubXVsdGl9fWZ1bmN0aW9uIGllKHQsZSl7dmFyIG49ZS5lYWdlcixyPWUucHJvdmlkZXJzO3JldHVybiBuZXcgUWkodC50b2tlbix0Lm11bHRpUHJvdmlkZXIsdC5lYWdlcnx8bixyLHQucHJvdmlkZXJUeXBlLHQubGlmZWN5Y2xlSG9va3MsdC5zb3VyY2VTcGFuKX1mdW5jdGlvbiBvZSh0LGUsbil7dmFyIHI9bmV3IE1hcDt0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGk9e3Rva2VuOntpZGVudGlmaWVyOnQudHlwZX0sdXNlQ2xhc3M6dC50eXBlfTtzZShbaV0sdC5pc0NvbXBvbmVudD9ZaS5Db21wb25lbnQ6WWkuRGlyZWN0aXZlLCEwLGUsbixyKX0pO3ZhciBpPXQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzQ29tcG9uZW50fSkuY29uY2F0KHQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiF0LmlzQ29tcG9uZW50fSkpO3JldHVybiBpLmZvckVhY2goZnVuY3Rpb24odCl7c2UodC5wcm92aWRlcnMsWWkuUHVibGljU2VydmljZSwhMSxlLG4sciksc2UodC52aWV3UHJvdmlkZXJzLFlpLlByaXZhdGVTZXJ2aWNlLCExLGUsbixyKX0pLHJ9ZnVuY3Rpb24gc2UodCxlLG4saSxvLHMpe3QuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgYT1zLmdldChFKHQudG9rZW4pKTtpZihyKGEpJiYhIWEubXVsdGlQcm92aWRlciE9ISF0Lm11bHRpJiZvLnB1c2gobmV3IFBsKFwiTWl4aW5nIG11bHRpIGFuZCBub24gbXVsdGkgcHJvdmlkZXIgaXMgbm90IHBvc3NpYmxlIGZvciB0b2tlbiBcIitDKGEudG9rZW4pLGkpKSxhKXQubXVsdGl8fChhLnByb3ZpZGVycy5sZW5ndGg9MCksYS5wcm92aWRlcnMucHVzaCh0KTtlbHNle3ZhciB1PXQudG9rZW4uaWRlbnRpZmllciYmdC50b2tlbi5pZGVudGlmaWVyLmxpZmVjeWNsZUhvb2tzP3QudG9rZW4uaWRlbnRpZmllci5saWZlY3ljbGVIb29rczpbXTthPW5ldyBRaSh0LnRva2VuLHQubXVsdGksbnx8dS5sZW5ndGg+MCxbdF0sZSx1LGkpLHMuc2V0KEUodC50b2tlbiksYSl9fSl9ZnVuY3Rpb24gYWUodCl7dmFyIGU9bmV3IE1hcDtyZXR1cm4gdC52aWV3UXVlcmllcyYmdC52aWV3UXVlcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBjZShlLHQpfSksZX1mdW5jdGlvbiB1ZSh0KXt2YXIgZT1uZXcgTWFwO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7dC5xdWVyaWVzJiZ0LnF1ZXJpZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gY2UoZSx0KX0pfSksZX1mdW5jdGlvbiBjZSh0LGUpe2Uuc2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHI9dC5nZXQoRShuKSk7cnx8KHI9W10sdC5zZXQoRShuKSxyKSksci5wdXNoKGUpfSl9ZnVuY3Rpb24gbGUodCl7aWYobnVsbD09dHx8MD09PXQubGVuZ3RofHxcIi9cIj09dFswXSlyZXR1cm4hMTt2YXIgZT10Lm1hdGNoKE5sKTtyZXR1cm4gbnVsbD09PWV8fFwicGFja2FnZVwiPT1lWzFdfHxcImFzc2V0XCI9PWVbMV19ZnVuY3Rpb24gcGUodCxlLG4pe3ZhciByPVtdLGk9bi5yZXBsYWNlKElsLFwiXCIpLnJlcGxhY2UoUmwsZnVuY3Rpb24oKXtmb3IodmFyIG49W10saT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspbltpLTBdPWFyZ3VtZW50c1tpXTt2YXIgbz1uWzFdfHxuWzJdO3JldHVybiBsZShvKT8oci5wdXNoKHQucmVzb2x2ZShlLG8pKSxcIlwiKTpuWzBdfSk7cmV0dXJuIG5ldyBrbChpLHIpfWZ1bmN0aW9uIGhlKHQpe3JldHVyblwiQFwiPT10WzBdfWZ1bmN0aW9uIGZlKHQsbixyLGkpe3ZhciBvPVtdO3JldHVybiBaby5wYXJzZShuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZWxlbWVudD9bZS5lbGVtZW50XTp0LmFsbEtub3duRWxlbWVudE5hbWVzKCkscz1uZXcgU2V0KGUubm90U2VsZWN0b3JzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0VsZW1lbnRTZWxlY3RvcigpfSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVsZW1lbnR9KSksYT1uLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hcy5oYXModCl9KTtvLnB1c2guYXBwbHkobyxhLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdC5zZWN1cml0eUNvbnRleHQoZSxyLGkpfSkpfSksMD09PW8ubGVuZ3RoP1tlLlNlY3VyaXR5Q29udGV4dC5OT05FXTpBcnJheS5mcm9tKG5ldyBTZXQobykpLnNvcnQoKX1mdW5jdGlvbiBkZSh0KXt2YXIgZT1udWxsLG49bnVsbCxyPW51bGwsaT0hMSxvPW51bGw7dC5hdHRycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBzPXQubmFtZS50b0xvd2VyQ2FzZSgpO3M9PVdsP2U9dC52YWx1ZTpzPT1RbD9uPXQudmFsdWU6cz09JGw/cj10LnZhbHVlOnQubmFtZT09Smw/aT0hMDp0Lm5hbWU9PXRwJiZ0LnZhbHVlLmxlbmd0aD4wJiYobz10LnZhbHVlKX0pLGU9eWUoZSk7dmFyIHM9dC5uYW1lLnRvTG93ZXJDYXNlKCksYT1lcC5PVEhFUjtyZXR1cm4gbChzKVsxXT09R2w/YT1lcC5OR19DT05URU5UOnM9PUtsP2E9ZXAuU1RZTEU6cz09Wmw/YT1lcC5TQ1JJUFQ6cz09WGwmJnI9PVlsJiYoYT1lcC5TVFlMRVNIRUVUKSxuZXcgbnAoYSxlLG4saSxvKX1mdW5jdGlvbiB5ZSh0KXtyZXR1cm4gbnVsbD09PXR8fDA9PT10Lmxlbmd0aD9cIipcIjp0fWZ1bmN0aW9uIG1lKHQpe3JldHVybiB0LnRyaW0oKS5zcGxpdCgvXFxzKy9nKX1mdW5jdGlvbiB2ZSh0LGUpe3ZhciBuPW5ldyBabyxyPWwodClbMV07bi5zZXRFbGVtZW50KHIpO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldWzBdLHM9bChvKVsxXSxhPWVbaV1bMV07aWYobi5hZGRBdHRyaWJ1dGUocyxhKSxvLnRvTG93ZXJDYXNlKCk9PWJwKXt2YXIgdT1tZShhKTt1LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG4uYWRkQ2xhc3NOYW1lKHQpfSl9fXJldHVybiBufWZ1bmN0aW9uIGdlKHQpe3JldHVybiB0IGluc3RhbmNlb2YgQXUmJjA9PXQudmFsdWUudHJpbSgpLmxlbmd0aH1mdW5jdGlvbiBfZSh0KXt2YXIgZT1uZXcgTWFwO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7ZS5nZXQodC50eXBlLnJlZmVyZW5jZSl8fGUuc2V0KHQudHlwZS5yZWZlcmVuY2UsdCl9KSxBcnJheS5mcm9tKGUudmFsdWVzKCkpfWZ1bmN0aW9uIGJlKHQsZSxuKXt2YXIgcj14ZSh0LnN0eWxlcyx7fSxlLG4sITEpLGk9bmV3IHFwKHIpLG89dC5zdGF0ZU5hbWVFeHByLnNwbGl0KC9cXHMqLFxccyovKTtyZXR1cm4gby5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBGcCh0LGkpfSl9ZnVuY3Rpb24gd2UodCxlLG4scil7dmFyIGk9bmV3IFFwLG89W10scz10LnN0YXRlQ2hhbmdlRXhwci5zcGxpdCgvXFxzKixcXHMqLyk7cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe28ucHVzaC5hcHBseShvLEVlKHQscikpfSk7dmFyIGE9U2UodC5zdGVwcyksdT1QZShhLGUsbixyKSxjPWtlKHUsMCxpLGUscik7MD09ci5sZW5ndGgmJlJlKGMsaSxyKTt2YXIgbD1jIGluc3RhbmNlb2YgV3A/YzpuZXcgWHAoW2NdKTtyZXR1cm4gbmV3IEhwKG8sbCl9ZnVuY3Rpb24gQ2UodCxlKXtzd2l0Y2godCl7Y2FzZVwiOmVudGVyXCI6cmV0dXJuXCJ2b2lkID0+ICpcIjtjYXNlXCI6bGVhdmVcIjpyZXR1cm5cIiogPT4gdm9pZFwiO2RlZmF1bHQ6cmV0dXJuIGUucHVzaChuZXcgbmgoJ3RoZSB0cmFuc2l0aW9uIGFsaWFzIHZhbHVlIFwiJyt0KydcIiBpcyBub3Qgc3VwcG9ydGVkJykpLFwiKiA9PiAqXCJ9fWZ1bmN0aW9uIEVlKHQsZSl7dmFyIG49W107XCI6XCI9PXRbMF0mJih0PUNlKHQsZSkpO3ZhciBpPXQubWF0Y2goL14oXFwqfFstXFx3XSspXFxzKig8P1s9LV0+KVxccyooXFwqfFstXFx3XSspJC8pO2lmKCFyKGkpfHxpLmxlbmd0aDw0KXJldHVybiBlLnB1c2gobmV3IG5oKFwidGhlIHByb3ZpZGVkIFwiK3QrXCIgaXMgbm90IG9mIGEgc3VwcG9ydGVkIGZvcm1hdFwiKSksbjt2YXIgbz1pWzFdLHM9aVsyXSxhPWlbM107bi5wdXNoKG5ldyBVcChvLGEpKTt2YXIgdT1vPT1EbyYmYT09RG87cmV0dXJuXCI8XCIhPXNbMF18fHV8fG4ucHVzaChuZXcgVXAoYSxvKSksbn1mdW5jdGlvbiBTZSh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9uZXcgd3ModCk6dH1mdW5jdGlvbiB4ZSh0LGUsbixyLGkpe3ZhciBvPXQub2Zmc2V0OyhvPjF8fG88MCkmJnIucHVzaChuZXcgbmgoXCJPZmZzZXQgdmFsdWVzIGZvciBhbmltYXRpb25zIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxXCIpKTt2YXIgcz1bXTtyZXR1cm4gdC5zdHlsZXMuZm9yRWFjaChmdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClpP3MucHVzaC5hcHBseShzLEFlKHQsZSxyKSk6ci5wdXNoKG5ldyBuaChcIlN0YXRlIGJhc2VkIGFuaW1hdGlvbnMgY2Fubm90IGNvbnRhaW4gcmVmZXJlbmNlcyB0byBvdGhlciBzdGF0ZXNcIikpO2Vsc2V7dmFyIG89dCxhPXt9O09iamVjdC5rZXlzKG8pLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9bi5ub3JtYWxpemVBbmltYXRpb25TdHlsZVByb3BlcnR5KHQpLGk9bi5ub3JtYWxpemVBbmltYXRpb25TdHlsZVZhbHVlKGUsdCxvW3RdKSxzPWkuZXJyb3I7cyYmci5wdXNoKG5ldyBuaChzKSksYVtlXT1pLnZhbHVlfSkscy5wdXNoKGEpfX0pLHN9ZnVuY3Rpb24gUGUodCxlLG4scil7dmFyIGk9VGUodCxlLG4scik7cmV0dXJuIHQgaW5zdGFuY2VvZiBDcz9uZXcgQ3MoaSk6bmV3IHdzKGkpfWZ1bmN0aW9uIE9lKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZ0Lmxlbmd0aD4wKXt2YXIgbj10Lmxlbmd0aC0xLHI9dFtuXTtpZihcIm9iamVjdFwiPT10eXBlb2YgciYmbnVsbCE9PXIpcmV0dXJuIHZvaWQodFtuXT1yby5tZXJnZShyLGUpKX10LnB1c2goZSl9ZnVuY3Rpb24gVGUodCxlLG4saSl7dmFyIG87aWYoISh0IGluc3RhbmNlb2YgYnMpKXJldHVyblt0XTtvPXQuc3RlcHM7dmFyIHMsYT1bXTtyZXR1cm4gby5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBncylyKHMpfHwocz1bXSkseGUodCxlLG4saSwhMCkuZm9yRWFjaChmdW5jdGlvbih0KXtPZShzLHQpfSk7ZWxzZXtpZihyKHMpJiYoYS5wdXNoKG5ldyBncygwLHMpKSxzPW51bGwpLHQgaW5zdGFuY2VvZiBfcyl7dmFyIG89dC5zdHlsZXM7byBpbnN0YW5jZW9mIGdzP28uc3R5bGVzPXhlKG8sZSxuLGksITApOm8gaW5zdGFuY2VvZiB2cyYmby5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc3R5bGVzPXhlKHQsZSxuLGksITApfSl9ZWxzZSBpZih0IGluc3RhbmNlb2YgYnMpe3ZhciB1PVRlKHQsZSxuLGkpO3Q9dCBpbnN0YW5jZW9mIENzP25ldyBDcyh1KTpuZXcgd3ModSl9YS5wdXNoKHQpfX0pLHIocykmJmEucHVzaChuZXcgZ3MoMCxzKSksYX1mdW5jdGlvbiBBZSh0LGUsbil7dmFyIGk9W107aWYoXCI6XCIhPXRbMF0pbi5wdXNoKG5ldyBuaCgnQW5pbWF0aW9uIHN0YXRlcyB2aWEgc3R5bGVzIG11c3QgYmUgcHJlZml4ZWQgd2l0aCBhIFwiOlwiJykpO2Vsc2V7dmFyIG89dC5zdWJzdHJpbmcoMSkscz1lW29dO3Iocyk/cy5zdHlsZXMuZm9yRWFjaChmdW5jdGlvbih0KXtcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQmJmkucHVzaCh0KX0pOm4ucHVzaChuZXcgbmgoJ1VuYWJsZSB0byBhcHBseSBzdHlsZXMgZHVlIHRvIG1pc3NpbmcgYSBzdGF0ZTogXCInK28rJ1wiJykpfXJldHVybiBpfWZ1bmN0aW9uIE1lKHQsZSxuLGksbyl7dmFyIHM9dC5zdGVwcy5sZW5ndGgsYT0wO3Quc3RlcHMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gYSs9cih0Lm9mZnNldCk/MTowfSksYT4wJiZhPHMmJihvLnB1c2gobmV3IG5oKFwiTm90IGFsbCBzdHlsZSgpIGVudHJpZXMgY29udGFpbiBhbiBvZmZzZXQgZm9yIHRoZSBwcm92aWRlZCBrZXlmcmFtZSgpXCIpKSxhPXMpO3ZhciB1PXMtMSxjPTA9PWE/MS91OjAsbD1bXSxwPTAsaD0hMSxmPTA7dC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQub2Zmc2V0LG49e307dC5zdHlsZXMuZm9yRWFjaChmdW5jdGlvbih0KXtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe1wib2Zmc2V0XCIhPWUmJihuW2VdPXRbZV0pfSl9KSxyKGUpP2g9aHx8ZTxmOmU9cD09dT90aDpjKnAsbC5wdXNoKFtlLG5dKSxmPWUscCsrfSksaCYmbC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF08PWVbMF0/LTE6MX0pO3ZhciBkPWxbMF07ZFswXSE9SnAmJmwuc3BsaWNlKDAsMCxkPVtKcCx7fV0pO3ZhciB5PWRbMV07dT1sLmxlbmd0aC0xO3ZhciBtPWxbdV07bVswXSE9dGgmJihsLnB1c2gobT1bdGgse31dKSx1KyspO2Zvcih2YXIgdj1tWzFdLGc9MTtnPD11O2crKyl7dmFyIF89bFtnXSxiPV9bMV07T2JqZWN0LmtleXMoYikuZm9yRWFjaChmdW5jdGlvbih0KXtyKHlbdF0pfHwoeVt0XT1Mbyl9KX1mb3IodmFyIHc9ZnVuY3Rpb24odCl7dmFyIGU9bFt0XSxuPWVbMV07T2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbih0KXtyKHZbdF0pfHwodlt0XT1uW3RdKX0pfSxnPXUtMTtnPj0wO2ctLSl3KGcpO3JldHVybiBsLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHpwKHRbMF0sbmV3IHFwKFt0WzFdXSkpfSl9ZnVuY3Rpb24ga2UodCxlLG4saSxvKXt2YXIgcyxhPTAsdT1lO2lmKHQgaW5zdGFuY2VvZiBicyl7dmFyIGMsbD0wLHA9W10saD10IGluc3RhbmNlb2YgQ3M7aWYodC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBzPWg/dTplO2lmKHQgaW5zdGFuY2VvZiBncylyZXR1cm4gdC5zdHlsZXMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT10O09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7bi5pbnNlcnRBdFRpbWUodCxzLGVbdF0pfSl9KSx2b2lkKGM9dC5zdHlsZXMpO3ZhciBmPWtlKHQscyxuLGksbyk7aWYocihjKSl7aWYodCBpbnN0YW5jZW9mIGJzKXt2YXIgZD1uZXcgcXAoYyk7cC5wdXNoKG5ldyBCcChkLFtdLDAsMCxcIlwiKSl9ZWxzZXt2YXIgeT1mOyh2PXkuc3RhcnRpbmdTdHlsZXMuc3R5bGVzKS5wdXNoLmFwcGx5KHYsYyl9Yz1udWxsfXZhciBtPWYucGxheVRpbWU7ZSs9bSxhKz1tLGw9TWF0aC5tYXgobSxsKSxwLnB1c2goZik7dmFyIHZ9KSxyKGMpKXt2YXIgZj1uZXcgcXAoYyk7cC5wdXNoKG5ldyBCcChmLFtdLDAsMCxcIlwiKSl9aD8ocz1uZXcgR3AocCksYT1sLGU9dSthKTpzPW5ldyBYcChwKX1lbHNlIGlmKHQgaW5zdGFuY2VvZiBfcyl7dmFyIGQ9SWUodC50aW1pbmdzLG8pLHk9dC5zdHlsZXMsbT12b2lkIDA7aWYoeSBpbnN0YW5jZW9mIHZzKW09TWUoeSxlLG4saSxvKTtlbHNle3ZhciB2PXksZz10aCxfPW5ldyBxcCh2LnN0eWxlcyksYj1uZXcgenAoZyxfKTttPVtiXX1zPW5ldyBCcChuZXcgcXAoW10pLG0sZC5kdXJhdGlvbixkLmRlbGF5LGQuZWFzaW5nKSxhPWQuZHVyYXRpb24rZC5kZWxheSxlKz1hLG0uZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdHlsZXMuc3R5bGVzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24ocil7bi5pbnNlcnRBdFRpbWUocixlLHRbcl0pfSl9KX0pfWVsc2Ugcz1uZXcgQnAobnVsbCxbXSwwLDAsXCJcIik7cmV0dXJuIHMucGxheVRpbWU9YSxzLnN0YXJ0VGltZT11LHN9ZnVuY3Rpb24gUmUodCxlLG4pe2lmKHQgaW5zdGFuY2VvZiBCcCYmdC5rZXlmcmFtZXMubGVuZ3RoPjApe3ZhciByPXQua2V5ZnJhbWVzO2lmKDE9PXIubGVuZ3RoKXt2YXIgaT1yWzBdLG89TmUoaSx0LnN0YXJ0VGltZSx0LnBsYXlUaW1lLGUsbik7dC5rZXlmcmFtZXM9W28saV19fWVsc2UgdCBpbnN0YW5jZW9mIFdwJiZ0LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIFJlKHQsZSxuKX0pfWZ1bmN0aW9uIEllKHQsZSl7dmFyIG4sbz0vXihbXFwuXFxkXSspKG0/cykoPzpcXHMrKFtcXC5cXGRdKykobT9zKSk/KD86XFxzKyhbLWEtel0rKD86XFwoLis/XFwpKT8pKT8vaSxzPTAsYT1udWxsO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXt2YXIgdT10Lm1hdGNoKG8pO2lmKG51bGw9PT11KXJldHVybiBlLnB1c2gobmV3IG5oKCdUaGUgcHJvdmlkZWQgdGltaW5nIHZhbHVlIFwiJyt0KydcIiBpcyBpbnZhbGlkLicpKSxuZXcgb2goMCwwLG51bGwpO3ZhciBjPXBhcnNlRmxvYXQodVsxXSksbD11WzJdO1wic1wiPT1sJiYoYyo9ZWgpLG49TWF0aC5mbG9vcihjKTt2YXIgcD11WzNdLGg9dVs0XTtpZihyKHApKXt2YXIgZj1wYXJzZUZsb2F0KHApO3IoaCkmJlwic1wiPT1oJiYoZio9ZWgpLHM9TWF0aC5mbG9vcihmKX12YXIgZD11WzVdO2koZCl8fChhPWQpfWVsc2Ugbj10O3JldHVybiBuZXcgb2gobixzLGEpfWZ1bmN0aW9uIE5lKHQsZSxuLGksbyl7dmFyIHM9e30sYT1lK247cmV0dXJuIHQuc3R5bGVzLnN0eWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHU9dFtuXTtpZihcIm9mZnNldFwiIT1uKXt2YXIgYyxsLHAsaD1pLmluZGV4T2ZBdE9yQmVmb3JlVGltZShuLGUpO3IoaCk/KGM9aS5nZXRCeUluZGV4KG4saCkscD1jLnZhbHVlLGw9aS5nZXRCeUluZGV4KG4saCsxKSk6cD1MbyxyKGwpJiYhbC5tYXRjaGVzKGEsdSkmJm8ucHVzaChuZXcgbmgoJ1RoZSBhbmltYXRlZCBDU1MgcHJvcGVydHkgXCInK24rJ1wiIHVuZXhwZWN0ZWRseSBjaGFuZ2VzIGJldHdlZW4gc3RlcHMgXCInK2MudGltZSsnbXNcIiBhbmQgXCInK2ErJ21zXCIgYXQgXCInK2wudGltZSsnbXNcIicpKSxzW25dPXB9fSl9KSxuZXcgenAoSnAsbmV3IHFwKFtzXSkpfWZ1bmN0aW9uIERlKCl7cmV0dXJuIG5ldyBsaH1mdW5jdGlvbiBqZSgpe3JldHVybiBuZXcgbGgoXCIuXCIpfWZ1bmN0aW9uIFZlKHQpe3ZhciBlPUZlKHQpO3JldHVybiBlJiZlW2hoLlNjaGVtZV18fFwiXCJ9ZnVuY3Rpb24gTGUodCxlLG4saSxvLHMsYSl7dmFyIHU9W107cmV0dXJuIHIodCkmJnUucHVzaCh0K1wiOlwiKSxyKG4pJiYodS5wdXNoKFwiLy9cIikscihlKSYmdS5wdXNoKGUrXCJAXCIpLHUucHVzaChuKSxyKGkpJiZ1LnB1c2goXCI6XCIraSkpLHIobykmJnUucHVzaChvKSxyKHMpJiZ1LnB1c2goXCI/XCIrcykscihhKSYmdS5wdXNoKFwiI1wiK2EpLHUuam9pbihcIlwiKX1mdW5jdGlvbiBGZSh0KXtyZXR1cm4gdC5tYXRjaChwaCl9ZnVuY3Rpb24gVWUodCl7aWYoXCIvXCI9PXQpcmV0dXJuXCIvXCI7Zm9yKHZhciBlPVwiL1wiPT10WzBdP1wiL1wiOlwiXCIsbj1cIi9cIj09PXRbdC5sZW5ndGgtMV0/XCIvXCI6XCJcIixyPXQuc3BsaXQoXCIvXCIpLGk9W10sbz0wLHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIGE9cltzXTtzd2l0Y2goYSl7Y2FzZVwiXCI6Y2FzZVwiLlwiOmJyZWFrO2Nhc2VcIi4uXCI6aS5sZW5ndGg+MD9pLnBvcCgpOm8rKzticmVhaztkZWZhdWx0OmkucHVzaChhKX19aWYoXCJcIj09ZSl7Zm9yKDtvLS0gPjA7KWkudW5zaGlmdChcIi4uXCIpOzA9PT1pLmxlbmd0aCYmaS5wdXNoKFwiLlwiKX1yZXR1cm4gZStpLmpvaW4oXCIvXCIpK259ZnVuY3Rpb24gSGUodCl7dmFyIGU9dFtoaC5QYXRoXTtyZXR1cm4gZT1pKGUpP1wiXCI6VWUoZSksdFtoaC5QYXRoXT1lLExlKHRbaGguU2NoZW1lXSx0W2hoLlVzZXJJbmZvXSx0W2hoLkRvbWFpbl0sdFtoaC5Qb3J0XSxlLHRbaGguUXVlcnlEYXRhXSx0W2hoLkZyYWdtZW50XSl9ZnVuY3Rpb24gQmUodCxlKXt2YXIgbj1GZShlbmNvZGVVUkkoZSkpLG89RmUodCk7aWYocihuW2hoLlNjaGVtZV0pKXJldHVybiBIZShuKTtuW2hoLlNjaGVtZV09b1toaC5TY2hlbWVdO2Zvcih2YXIgcz1oaC5TY2hlbWU7czw9aGguUG9ydDtzKyspaShuW3NdKSYmKG5bc109b1tzXSk7aWYoXCIvXCI9PW5baGguUGF0aF1bMF0pcmV0dXJuIEhlKG4pO3ZhciBhPW9baGguUGF0aF07aShhKSYmKGE9XCIvXCIpO3ZhciB1PWEubGFzdEluZGV4T2YoXCIvXCIpO3JldHVybiBhPWEuc3Vic3RyaW5nKDAsdSsxKStuW2hoLlBhdGhdLG5baGguUGF0aF09YSxIZShuKX1mdW5jdGlvbiBxZSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUuRGlyZWN0aXZlfWZ1bmN0aW9uIHplKHQsZSxuKXt2YXIgcj1uZXcgeGYodCxlKTtyZXR1cm4gbi52aXNpdEV4cHJlc3Npb24ocixudWxsKX1mdW5jdGlvbiBXZSh0KXt2YXIgZT1uZXcgUGY7cmV0dXJuIGUudmlzaXRBbGxTdGF0ZW1lbnRzKHQsbnVsbCksZS52YXJOYW1lc31mdW5jdGlvbiBHZSh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSxuZXcgVmgodCxlKX1mdW5jdGlvbiBYZSh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSxuZXcgR2godCxudWxsLGUpfWZ1bmN0aW9uICRlKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49bnVsbCkscih0KT9RZShYZSh0KSxlLG4pOm51bGx9ZnVuY3Rpb24gUWUodCxlLG4pe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1uJiYobj1udWxsKSxyKHQpP25ldyB4aCh0LGUsbik6bnVsbH1mdW5jdGlvbiBZZSh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSxuZXcgZWYodCxlKX1mdW5jdGlvbiBLZSh0LGUsbil7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PW4mJihuPSExKSxuZXcgcmYodC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBuZih0WzBdLHRbMV0sbil9KSxlKX1mdW5jdGlvbiBaZSh0KXtyZXR1cm4gbmV3ICRoKHQpfWZ1bmN0aW9uIEplKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49bnVsbCksbmV3IEtoKHQsZSxuKX1mdW5jdGlvbiB0bih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSxuZXcgV2godCxlKX1mdW5jdGlvbiBlbih0KXt2YXIgZT1cIlwiK3QuZmllbGRzLmxlbmd0aCxuPXJuKGUpO3JldHVybiB0LmZpZWxkcy5wdXNoKG5ldyBtZihuLm5hbWUsbnVsbCxbY2YuUHJpdmF0ZV0pKSx0LmN0b3JTdG10cy5wdXNoKG9mLnByb3Aobi5uYW1lKS5zZXQoWGUoWXQoX2wuVU5JTklUSUFMSVpFRCkpKS50b1N0bXQoKSksbmV3IE9mKG4sZSl9ZnVuY3Rpb24gbm4odCxlLG4scil7dmFyIGk9WGUoWXQoX2wuY2hlY2tCaW5kaW5nKSkuY2FsbEZuKFtuLGUsdC5jdXJyVmFsRXhwcl0pO3JldHVybiB0LmZvcmNlVXBkYXRlJiYoaT10LmZvcmNlVXBkYXRlLm9yKGkpKSx0LnN0bXRzLmNvbmNhdChbbmV3IGJmKGksci5jb25jYXQoW29mLnByb3AoZS5uYW1lKS5zZXQodC5jdXJyVmFsRXhwcikudG9TdG10KCldKSldKX1mdW5jdGlvbiBybih0KXtyZXR1cm4gb2YucHJvcChcIl9leHByX1wiK3QpfWZ1bmN0aW9uIG9uKHQpe3JldHVybiByKHQudmFsdWUpP3RuKHQudmFsdWUpOlhlKHQuaWRlbnRpZmllcil9ZnVuY3Rpb24gc24odCl7aWYoMD09PXQubGVuZ3RoKXJldHVybiBYZShZdChfbC5FTVBUWV9JTkxJTkVfQVJSQVkpKTt2YXIgZT1NYXRoLmxvZyh0Lmxlbmd0aCkvTWF0aC5sb2coMiksbj1NYXRoLmNlaWwoZSkscj1uPF9sLmlubGluZUFycmF5cy5sZW5ndGg/X2wuaW5saW5lQXJyYXlzW25dOl9sLklubGluZUFycmF5RHluYW1pYyxpPVl0KHIpO3JldHVybiBYZShpKS5pbnN0YW50aWF0ZShbdG4odC5sZW5ndGgpXS5jb25jYXQodCkpfWZ1bmN0aW9uIGFuKHQsZSxuLHIpe3IuZmllbGRzLnB1c2gobmV3IG1mKG4ubmFtZSxudWxsKSk7dmFyIGk9ZTxfbC5wdXJlUHJveGllcy5sZW5ndGg/X2wucHVyZVByb3hpZXNbZV06bnVsbDtpZighaSl0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBudW1iZXIgb2YgYXJndW1lbnQgZm9yIHB1cmUgZnVuY3Rpb25zOiBcIitlKTtyLmN0b3JTdG10cy5wdXNoKG9mLnByb3Aobi5uYW1lKS5zZXQoWGUoWXQoaSkpLmNhbGxGbihbdF0pKS50b1N0bXQoKSl9ZnVuY3Rpb24gdW4odCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0LnJ1bnRpbWUpLmZpbmQoZnVuY3Rpb24obil7cmV0dXJuIHQucnVudGltZVtuXT09PWV9KTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVudW0gdmFsdWUgXCIrZStcIiBpbiBcIit0Lm5hbWUpO3JldHVybiBYZShKdCh0LG4pKX1mdW5jdGlvbiBjbih0LGUsbixyLGkpe3ZhciBvPXduKGkpLHM9W107ZXx8KGU9bmV3IE5mKTt2YXIgYT1uZXcgSWYodCxlLG4sVGYsaSwhMSksdT1yLnZpc2l0KGEsUmYuRXhwcmVzc2lvbik7aWYoIXUpcmV0dXJuIG51bGw7aWYoYS50ZW1wb3JhcnlDb3VudClmb3IodmFyIGM9MDtjPGEudGVtcG9yYXJ5Q291bnQ7YysrKXMucHVzaChmbihpLGMpKTtpZihhLm5lZWRzVmFsdWVVbndyYXBwZXIpe3ZhciBsPVRmLmNhbGxNZXRob2QoXCJyZXNldFwiLFtdKS50b1N0bXQoKTtzLnB1c2gobCl9cmV0dXJuIHMucHVzaChvLnNldCh1KS50b0RlY2xTdG10KG51bGwsW2NmLkZpbmFsXSkpLGEubmVlZHNWYWx1ZVVud3JhcHBlcj9uZXcgTWYocyxvLFRmLnByb3AoXCJoYXNXcmFwcGVkVmFsdWVcIikpOm5ldyBNZihzLG8sbnVsbCl9ZnVuY3Rpb24gbG4odCxlLG4scixpKXtlfHwoZT1uZXcgTmYpO3ZhciBvPW5ldyBJZih0LGUsbixudWxsLGksITApLHM9W107Z24oci52aXNpdChvLFJmLlN0YXRlbWVudCkscyksZG4oby50ZW1wb3JhcnlDb3VudCxpLHMpO3ZhciBhPXMubGVuZ3RoLTEsdT1udWxsO2lmKGE+PTApe3ZhciBjPXNbYV0sbD1FbihjKTtsJiYodT1DbihpKSxzW2FdPXUuc2V0KGwuY2FzdChUaCkubm90SWRlbnRpY2FsKHRuKCExKSkpLnRvRGVjbFN0bXQobnVsbCxbY2YuRmluYWxdKSl9cmV0dXJuIG5ldyBrZihzLHUpfWZ1bmN0aW9uIHBuKHQpe3ZhciBlPVtdLG49V2UodCk7cmV0dXJuIG4uaGFzKFRmLm5hbWUpJiZlLnB1c2goVGYuc2V0KFhlKFl0KF9sLlZhbHVlVW53cmFwcGVyKSkuaW5zdGFudGlhdGUoW10pKS50b0RlY2xTdG10KG51bGwsW2NmLkZpbmFsXSkpLGV9ZnVuY3Rpb24gaG4odCxlKXtyZXR1cm5cInRtcF9cIit0K1wiX1wiK2V9ZnVuY3Rpb24gZm4odCxlKXtyZXR1cm4gbmV3IHBmKGhuKHQsZSksYWYpfWZ1bmN0aW9uIGRuKHQsZSxuKXtmb3IodmFyIHI9dC0xO3I+PTA7ci0tKW4udW5zaGlmdChmbihlLHIpKX1mdW5jdGlvbiB5bih0LGUpe2lmKHQhPT1SZi5TdGF0ZW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgYSBzdGF0ZW1lbnQsIGJ1dCBzYXcgXCIrZSl9ZnVuY3Rpb24gbW4odCxlKXtpZih0IT09UmYuRXhwcmVzc2lvbil0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBhbiBleHByZXNzaW9uLCBidXQgc2F3IFwiK2UpfWZ1bmN0aW9uIHZuKHQsZSl7cmV0dXJuIHQ9PT1SZi5TdGF0ZW1lbnQ/ZS50b1N0bXQoKTplfWZ1bmN0aW9uIGduKHQsZSl7QXJyYXkuaXNBcnJheSh0KT90LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGduKHQsZSl9KTplLnB1c2godCl9ZnVuY3Rpb24gX24odCxlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIFhlKFl0KF9sLkVNUFRZX0FSUkFZKSk7Zm9yKHZhciBuPW9mLnByb3AoXCJfYXJyX1wiK3QuZmllbGRzLmxlbmd0aCkscj1bXSxpPVtdLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIHM9XCJwXCIrbztyLnB1c2gobmV3IFloKHMpKSxpLnB1c2goR2UocykpfXJldHVybiBhbihKZShyLFtuZXcgZGYoWWUoaSkpXSxuZXcgUGgoVGgpKSxlLmxlbmd0aCxuLHQpLG4uY2FsbEZuKGUpfWZ1bmN0aW9uIGJuKHQsZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybiBYZShZdChfbC5FTVBUWV9NQVApKTtmb3IodmFyIG49b2YucHJvcChcIl9tYXBfXCIrdC5maWVsZHMubGVuZ3RoKSxyPVtdLGk9W10sbz1bXSxzPTA7czxlLmxlbmd0aDtzKyspe3ZhciBhPVwicFwiK3M7ci5wdXNoKG5ldyBZaChhKSksaS5wdXNoKFtlW3NdWzBdLEdlKGEpXSksby5wdXNoKGVbc11bMV0pfXJldHVybiBhbihKZShyLFtuZXcgZGYoS2UoaSkpXSxuZXcgT2goVGgpKSxlLmxlbmd0aCxuLHQpLG4uY2FsbEZuKG8pfWZ1bmN0aW9uIHduKHQpe3JldHVybiBHZShcImN1cnJWYWxfXCIrdCl9ZnVuY3Rpb24gQ24odCl7cmV0dXJuIEdlKFwicGRfXCIrdCl9ZnVuY3Rpb24gRW4odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBmZj90LmV4cHI6dCBpbnN0YW5jZW9mIGRmP3QudmFsdWU6bnVsbH1mdW5jdGlvbiBTbih0LGUsbixpLG8scyl7dmFyIGE9W10sdT10LnByb3AoXCJyZW5kZXJlclwiKTtzd2l0Y2goaT14bih0LGUsaSxzKSxlLnR5cGUpe2Nhc2UgWmkuUHJvcGVydHk6byYmYS5wdXNoKFhlKFl0KF9sLnNldEJpbmRpbmdEZWJ1Z0luZm8pKS5jYWxsRm4oW3Usbix0bihlLm5hbWUpLGldKS50b1N0bXQoKSksYS5wdXNoKHUuY2FsbE1ldGhvZChcInNldEVsZW1lbnRQcm9wZXJ0eVwiLFtuLHRuKGUubmFtZSksaV0pLnRvU3RtdCgpKTticmVhaztjYXNlIFppLkF0dHJpYnV0ZTppPWkuaXNCbGFuaygpLmNvbmRpdGlvbmFsKGFmLGkuY2FsbE1ldGhvZChcInRvU3RyaW5nXCIsW10pKSxhLnB1c2godS5jYWxsTWV0aG9kKFwic2V0RWxlbWVudEF0dHJpYnV0ZVwiLFtuLHRuKGUubmFtZSksaV0pLnRvU3RtdCgpKTticmVhaztjYXNlIFppLkNsYXNzOmEucHVzaCh1LmNhbGxNZXRob2QoXCJzZXRFbGVtZW50Q2xhc3NcIixbbix0bihlLm5hbWUpLGldKS50b1N0bXQoKSk7YnJlYWs7Y2FzZSBaaS5TdHlsZTp2YXIgYz1pLmNhbGxNZXRob2QoXCJ0b1N0cmluZ1wiLFtdKTtyKGUudW5pdCkmJihjPWMucGx1cyh0bihlLnVuaXQpKSksaT1pLmlzQmxhbmsoKS5jb25kaXRpb25hbChhZixjKSxhLnB1c2godS5jYWxsTWV0aG9kKFwic2V0RWxlbWVudFN0eWxlXCIsW24sdG4oZS5uYW1lKSxpXSkudG9TdG10KCkpO2JyZWFrO2Nhc2UgWmkuQW5pbWF0aW9uOnRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgc3RhdGU6IFNob3VsZCBub3QgY29tZSBoZXJlIVwiKX1yZXR1cm4gYX1mdW5jdGlvbiB4bih0LG4scixpKXtpZihuLnNlY3VyaXR5Q29udGV4dD09PWUuU2VjdXJpdHlDb250ZXh0Lk5PTkUpcmV0dXJuIHI7aWYobi5uZWVkc1J1bnRpbWVTZWN1cml0eUNvbnRleHR8fChpPXVuKF9sLlNlY3VyaXR5Q29udGV4dCxuLnNlY3VyaXR5Q29udGV4dCkpLCFpKXRocm93IG5ldyBFcnJvcihcImludGVybmFsIGVycm9yLCBubyBTZWN1cml0eUNvbnRleHQgZ2l2ZW4gXCIrbi5uYW1lKTt2YXIgbz10LnByb3AoXCJ2aWV3VXRpbHNcIikucHJvcChcInNhbml0aXplclwiKSxzPVtpLHJdO3JldHVybiBvLmNhbGxNZXRob2QoXCJzYW5pdGl6ZVwiLHMpfWZ1bmN0aW9uIFBuKHQsZSxuLHIsaSxvLHMsYSl7dmFyIHU9W10sYz1bXSxsPW4ubmFtZSxwPWUucHJvcChcImNvbXBvbmVudFR5cGVcIikucHJvcChcImFuaW1hdGlvbnNcIikua2V5KHRuKGwpKSxoPXRuKFZvKSxmPVhlKFl0KF9sLlVOSU5JVElBTElaRUQpKSxkPUdlKFwiYW5pbWF0aW9uVHJhbnNpdGlvbl9cIitsKTtjLnB1c2goZC5zZXQocC5jYWxsRm4oW3QsbyxhLmVxdWFscyhmKS5jb25kaXRpb25hbChoLGEpLHMuZXF1YWxzKGYpLmNvbmRpdGlvbmFsKGgscyldKSkudG9EZWNsU3RtdCgpKSx1LnB1c2goZC5zZXQocC5jYWxsRm4oW3QsbyxhLGhdKSkudG9EZWNsU3RtdCgpKTt2YXIgeT1bXSxtPXIuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0FuaW1hdGlvbiYmdC5uYW1lPT1sJiZcInN0YXJ0XCI9PXQucGhhc2V9KTttJiZ5LnB1c2goZC5jYWxsTWV0aG9kKFwib25TdGFydFwiLFtpLmNhbGxNZXRob2QoSGguQmluZCxbdCx0bihCaS5jYWxjRnVsbE5hbWUobCxudWxsLFwic3RhcnRcIikpXSldKS50b1N0bXQoKSk7dmFyIHY9ci5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzQW5pbWF0aW9uJiZ0Lm5hbWU9PWwmJlwiZG9uZVwiPT10LnBoYXNlfSk7cmV0dXJuIHYmJnkucHVzaChkLmNhbGxNZXRob2QoXCJvbkRvbmVcIixbaS5jYWxsTWV0aG9kKEhoLkJpbmQsW3QsdG4oQmkuY2FsY0Z1bGxOYW1lKGwsbnVsbCxcImRvbmVcIikpXSldKS50b1N0bXQoKSksXG5jLnB1c2guYXBwbHkoYyx5KSx1LnB1c2guYXBwbHkodSx5KSx7dXBkYXRlU3RtdHM6YyxkZXRhY2hTdG10czp1fX1mdW5jdGlvbiBPbih0KXt2YXIgZT10LnBhcmVudEFyZ3N8fFtdLG49dC5wYXJlbnQ/W3NmLmNhbGxGbihlKS50b1N0bXQoKV06W10scj1UbihBcnJheS5pc0FycmF5KHQuYnVpbGRlcnMpP3QuYnVpbGRlcnM6W3QuYnVpbGRlcnNdKSxpPW5ldyB2ZihudWxsLHQuY3RvclBhcmFtc3x8W10sbi5jb25jYXQoci5jdG9yU3RtdHMpKTtyZXR1cm4gbmV3IF9mKHQubmFtZSx0LnBhcmVudCxyLmZpZWxkcyxyLmdldHRlcnMsaSxyLm1ldGhvZHMsdC5tb2RpZmllcnN8fFtdKX1mdW5jdGlvbiBUbih0KXtyZXR1cm57ZmllbGRzOihlPVtdKS5jb25jYXQuYXBwbHkoZSx0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5maWVsZHN8fFtdfSkpLG1ldGhvZHM6KG49W10pLmNvbmNhdC5hcHBseShuLHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1ldGhvZHN8fFtdfSkpLGdldHRlcnM6KHI9W10pLmNvbmNhdC5hcHBseShyLHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldHRlcnN8fFtdfSkpLGN0b3JTdG10czooaT1bXSkuY29uY2F0LmFwcGx5KGksdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuY3RvclN0bXRzfHxbXX0pKX07dmFyIGUsbixyLGl9ZnVuY3Rpb24gQW4odCl7dmFyIGU9R2UoXCJjaGFuZ2VkXCIpLG49W2Uuc2V0KG9mLnByb3AoVWYpKS50b0RlY2xTdG10KCksb2YucHJvcChVZikuc2V0KHRuKCExKSkudG9TdG10KCldLHI9W107aWYodC5nZW5DaGFuZ2VzKXt2YXIgaT1bXTt0Lm5nT25DaGFuZ2VzJiZpLnB1c2gob2YucHJvcChMZikuY2FsbE1ldGhvZChcIm5nT25DaGFuZ2VzXCIsW29mLnByb3AoRmYpXSkudG9TdG10KCkpLHQuY29tcGlsZXJDb25maWcubG9nQmluZGluZ1VwZGF0ZSYmaS5wdXNoKFhlKFl0KF9sLnNldEJpbmRpbmdEZWJ1Z0luZm9Gb3JDaGFuZ2VzKSkuY2FsbEZuKFtXZi5wcm9wKFwicmVuZGVyZXJcIiksWGYsb2YucHJvcChGZildKS50b1N0bXQoKSksaS5wdXNoKFFmKSxyLnB1c2gobmV3IGJmKGUsaSkpfXQubmdPbkluaXQmJnIucHVzaChuZXcgYmYoV2YucHJvcChcIm51bWJlck9mQ2hlY2tzXCIpLmlkZW50aWNhbChuZXcgV2goMCkpLFtvZi5wcm9wKExmKS5jYWxsTWV0aG9kKFwibmdPbkluaXRcIixbXSkudG9TdG10KCldKSksdC5uZ0RvQ2hlY2smJnIucHVzaChvZi5wcm9wKExmKS5jYWxsTWV0aG9kKFwibmdEb0NoZWNrXCIsW10pLnRvU3RtdCgpKSxyLmxlbmd0aD4wJiZuLnB1c2gobmV3IGJmKFplKHFmKSxyKSksbi5wdXNoKG5ldyBkZihlKSksdC5tZXRob2RzLnB1c2gobmV3IHZmKFwibmdEb0NoZWNrXCIsW25ldyBZaChXZi5uYW1lLCRlKFl0KF9sLkFwcFZpZXcpLFtUaF0pKSxuZXcgWWgoWGYubmFtZSxUaCksbmV3IFloKHFmLm5hbWUsQWgpXSxuLEFoKSl9ZnVuY3Rpb24gTW4odCxlKXt2YXIgbj1lbihlKSxyPVtvZi5wcm9wKFVmKS5zZXQodG4oITApKS50b1N0bXQoKSxvZi5wcm9wKExmKS5wcm9wKHQpLnNldChCZikudG9TdG10KCldO2UuZ2VuQ2hhbmdlcyYmci5wdXNoKG9mLnByb3AoRmYpLmtleSh0bih0KSkuc2V0KFhlKFl0KF9sLlNpbXBsZUNoYW5nZSkpLmluc3RhbnRpYXRlKFtuLmV4cHJlc3Npb24sQmZdKSkudG9TdG10KCkpO3ZhciBpPW5uKHtjdXJyVmFsRXhwcjpCZixmb3JjZVVwZGF0ZTp6ZixzdG10czpbXX0sbi5leHByZXNzaW9uLHFmLHIpO2UubWV0aG9kcy5wdXNoKG5ldyB2ZihcImNoZWNrX1wiK3QsW25ldyBZaChCZi5uYW1lLFRoKSxuZXcgWWgocWYubmFtZSxBaCksbmV3IFloKHpmLm5hbWUsQWgpXSxpKSl9ZnVuY3Rpb24ga24odCxlLG4pe3ZhciByPVtdLGk9W25ldyBZaChXZi5uYW1lLCRlKFl0KF9sLkFwcFZpZXcpLFtUaF0pKSxuZXcgWWgoR2YubmFtZSwkZShZdChfbC5BcHBWaWV3KSxbVGhdKSksbmV3IFloKFhmLm5hbWUsVGgpLG5ldyBZaChxZi5uYW1lLEFoKV07dC5mb3JFYWNoKGZ1bmN0aW9uKHQsbyl7dmFyIHM9ZW4obiksYT1jbihuLG51bGwsb2YucHJvcChMZiksdC52YWx1ZSxzLmJpbmRpbmdJZCk7aWYoYSl7dmFyIHU7dC5uZWVkc1J1bnRpbWVTZWN1cml0eUNvbnRleHQmJih1PUdlKFwic2VjQ3R4X1wiK2kubGVuZ3RoKSxpLnB1c2gobmV3IFloKHUubmFtZSwkZShZdChfbC5TZWN1cml0eUNvbnRleHQpKSkpKTt2YXIgYztpZih0LmlzQW5pbWF0aW9uKXt2YXIgbD1QbihXZixHZix0LGUsb2YucHJvcChIZikub3IoWGUoWXQoX2wubm9vcCkpKSxYZixhLmN1cnJWYWxFeHByLHMuZXhwcmVzc2lvbikscD1sLnVwZGF0ZVN0bXRzLGg9bC5kZXRhY2hTdG10cztjPXAsKGY9bi5kZXRhY2hTdG10cykucHVzaC5hcHBseShmLGgpfWVsc2UgYz1TbihXZix0LFhmLGEuY3VyclZhbEV4cHIsbi5jb21waWxlckNvbmZpZy5sb2dCaW5kaW5nVXBkYXRlLHUpO3IucHVzaC5hcHBseShyLG5uKGEscy5leHByZXNzaW9uLHFmLGMpKTt2YXIgZn19KSxuLm1ldGhvZHMucHVzaChuZXcgdmYoXCJjaGVja0hvc3RcIixpLHIpKX1mdW5jdGlvbiBSbih0LGUpe3ZhciBuPUdlKFwicmVzdWx0XCIpLHI9W24uc2V0KHRuKCEwKSkudG9EZWNsU3RtdChBaCldO3QuZm9yRWFjaChmdW5jdGlvbih0LGkpe3ZhciBvPWxuKGUsbnVsbCxvZi5wcm9wKExmKSx0LmhhbmRsZXIsXCJzdWJfXCIraSkscz1vLnN0bXRzO28ucHJldmVudERlZmF1bHQmJnMucHVzaChuLnNldChvLnByZXZlbnREZWZhdWx0LmFuZChuKSkudG9TdG10KCkpLHIucHVzaChuZXcgYmYoJGYuZXF1YWxzKHRuKHQuZnVsbE5hbWUpKSxzKSl9KSxyLnB1c2gobmV3IGRmKG4pKSxlLm1ldGhvZHMucHVzaChuZXcgdmYoXCJoYW5kbGVFdmVudFwiLFtuZXcgWWgoJGYubmFtZSxraCksbmV3IFloKEFmLmV2ZW50Lm5hbWUsVGgpXSxyLEFoKSl9ZnVuY3Rpb24gSW4odCxlKXt2YXIgbj1bbmV3IFloKFdmLm5hbWUsJGUoWXQoX2wuQXBwVmlldyksW1RoXSkpLG5ldyBZaChIZixUaCldLHI9W29mLnByb3AoSGYpLnNldChHZShIZikpLnRvU3RtdCgpXTtPYmplY3Qua2V5cyh0Lm91dHB1dHMpLmZvckVhY2goZnVuY3Rpb24oaSxvKXt2YXIgcz10Lm91dHB1dHNbaV0sYT1cImVtaXRcIitvO24ucHVzaChuZXcgWWgoYSxBaCkpO3ZhciB1PVwic3Vic2NyaXB0aW9uXCIrbztlLmZpZWxkcy5wdXNoKG5ldyBtZih1LFRoKSksci5wdXNoKG5ldyBiZihHZShhKSxbb2YucHJvcCh1KS5zZXQob2YucHJvcChMZikucHJvcChpKS5jYWxsTWV0aG9kKEhoLlN1YnNjcmliZU9ic2VydmFibGUsW0dlKEhmKS5jYWxsTWV0aG9kKEhoLkJpbmQsW1dmLHRuKHMpXSldKSkudG9TdG10KCldKSksZS5kZXN0cm95U3RtdHMucHVzaChvZi5wcm9wKHUpLmFuZChvZi5wcm9wKHUpLmNhbGxNZXRob2QoXCJ1bnN1YnNjcmliZVwiLFtdKSkudG9TdG10KCkpfSksZS5tZXRob2RzLnB1c2gobmV3IHZmKFwic3Vic2NyaWJlXCIsbixyKSl9ZnVuY3Rpb24gTm4odCxlLG4pe3ZhciByPVtdLGk9bmV3IHFsKGUsRGEsbixbXSxyKSxvPXcodC50eXBlKSxzPW8/XCJpbiBEaXJlY3RpdmUgXCIrYih0LnR5cGUpK1wiIGluIFwiK286XCJpbiBEaXJlY3RpdmUgXCIrYih0LnR5cGUpLGE9bmV3IHh1KFwiXCIscyksdT1uZXcgUHUobmV3IFN1KGEsbnVsbCxudWxsLG51bGwpLG5ldyBTdShhLG51bGwsbnVsbCxudWxsKSksYz1pLmNyZWF0ZURpcmVjdGl2ZUhvc3RQcm9wZXJ0eUFzdHModC50b1N1bW1hcnkoKSx1KSxsPWkuY3JlYXRlRGlyZWN0aXZlSG9zdEV2ZW50QXN0cyh0LnRvU3VtbWFyeSgpLHUpO3JldHVybiBuZXcgWmYoYyxsLHIpfWZ1bmN0aW9uIERuKHQsZSl7dmFyIG49dC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQubGV2ZWw9PT1PdS5XQVJOSU5HfSkscj10LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5sZXZlbD09PU91LkZBVEFMfSk7aWYobi5sZW5ndGg+MCYmdGhpcy5fY29uc29sZS53YXJuKFwiRGlyZWN0aXZlIHBhcnNlIHdhcm5pbmdzOlxcblwiK24uam9pbihcIlxcblwiKSksci5sZW5ndGg+MCl0aHJvdyBuZXcgRXJyb3IoXCJEaXJlY3RpdmUgcGFyc2UgZXJyb3JzOlxcblwiK3Iuam9pbihcIlxcblwiKSl9ZnVuY3Rpb24gam4odCxlKXtyZXR1cm4gT28uaGFzTGlmZWN5Y2xlSG9vayhlLFZuKHQpKX1mdW5jdGlvbiBWbih0KXtzd2l0Y2godCl7Y2FzZSBhby5PbkluaXQ6cmV0dXJuXCJuZ09uSW5pdFwiO2Nhc2UgYW8uT25EZXN0cm95OnJldHVyblwibmdPbkRlc3Ryb3lcIjtjYXNlIGFvLkRvQ2hlY2s6cmV0dXJuXCJuZ0RvQ2hlY2tcIjtjYXNlIGFvLk9uQ2hhbmdlczpyZXR1cm5cIm5nT25DaGFuZ2VzXCI7Y2FzZSBhby5BZnRlckNvbnRlbnRJbml0OnJldHVyblwibmdBZnRlckNvbnRlbnRJbml0XCI7Y2FzZSBhby5BZnRlckNvbnRlbnRDaGVja2VkOnJldHVyblwibmdBZnRlckNvbnRlbnRDaGVja2VkXCI7Y2FzZSBhby5BZnRlclZpZXdJbml0OnJldHVyblwibmdBZnRlclZpZXdJbml0XCI7Y2FzZSBhby5BZnRlclZpZXdDaGVja2VkOnJldHVyblwibmdBZnRlclZpZXdDaGVja2VkXCJ9fWZ1bmN0aW9uIExuKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZS5OZ01vZHVsZX1mdW5jdGlvbiBGbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUuUGlwZX1mdW5jdGlvbiBVbih0LG4pe2lmKHZvaWQgMD09PW4mJihuPVtdKSx0KWZvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT1lLnJlc29sdmVGb3J3YXJkUmVmKHRbcl0pO0FycmF5LmlzQXJyYXkoaSk/VW4oaSxuKTpuLnB1c2goaSl9cmV0dXJuIG59ZnVuY3Rpb24gSG4odCl7cmV0dXJuIHQ/QXJyYXkuZnJvbShuZXcgU2V0KHQpKTpbXX1mdW5jdGlvbiBCbih0KXtyZXR1cm4gSG4oVW4odCkpfWZ1bmN0aW9uIHFuKHQpe3JldHVybiB0IGluc3RhbmNlb2YgSml8fHQgaW5zdGFuY2VvZiBlLlR5cGV9ZnVuY3Rpb24gem4odCxlLG4pe2lmKGUgaW5zdGFuY2VvZiBKaSlyZXR1cm4gZS5maWxlUGF0aDt2YXIgcj1uLm1vZHVsZUlkO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByKXt2YXIgaT1WZShyKTtyZXR1cm4gaT9yOlwicGFja2FnZTpcIityK29zfWlmKG51bGwhPT1yJiZ2b2lkIDAhPT1yKXRocm93IG5ldyBjcygnbW9kdWxlSWQgc2hvdWxkIGJlIGEgc3RyaW5nIGluIFwiJytHbihlKStcIlxcXCIuIFNlZSBodHRwczovL2dvby5nbC93SUREaUwgZm9yIG1vcmUgaW5mb3JtYXRpb24uXFxuSWYgeW91J3JlIHVzaW5nIFdlYnBhY2sgeW91IHNob3VsZCBpbmxpbmUgdGhlIHRlbXBsYXRlIGFuZCB0aGUgc3R5bGVzLCBzZWUgaHR0cHM6Ly9nb28uZ2wvWDJKOHpjLlwiKTtyZXR1cm4gdC5pbXBvcnRVcmkoZSl9ZnVuY3Rpb24gV24odCxlKXtnKHQsbmV3IGRkLGUpfWZ1bmN0aW9uIEduKHQpe3JldHVybiB0IGluc3RhbmNlb2YgSmk/dC5uYW1lK1wiIGluIFwiK3QuZmlsZVBhdGg6cyh0KX1mdW5jdGlvbiBYbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSxnKHQsbmV3IG1kLGUpfWZ1bmN0aW9uICRuKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj0hMCksaSh0KSlyZXR1cm4gbnVsbDt2YXIgcj10LnJlcGxhY2UoeGQsZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTBdPWFyZ3VtZW50c1tuXTtyZXR1cm5cIiRcIj09dFswXT9lP1wiXFxcXCRcIjpcIiRcIjpcIlxcblwiPT10WzBdP1wiXFxcXG5cIjpcIlxcclwiPT10WzBdP1wiXFxcXHJcIjpcIlxcXFxcIit0WzBdfSksbz1ufHwhUGQudGVzdChyKTtyZXR1cm4gbz9cIidcIityK1wiJ1wiOnJ9ZnVuY3Rpb24gUW4odCl7Zm9yKHZhciBlPVwiXCIsbj0wO248dDtuKyspZSs9XCIgIFwiO3JldHVybiBlfWZ1bmN0aW9uIFluKHQpe3ZhciBlPW5ldyBEZChJZCksbj1NZC5jcmVhdGVSb290KFtdKSxyPUFycmF5LmlzQXJyYXkodCk/dDpbdF07cmV0dXJuIHIuZm9yRWFjaChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgbGYpdC52aXNpdFN0YXRlbWVudChlLG4pO2Vsc2UgaWYodCBpbnN0YW5jZW9mIERoKXQudmlzaXRFeHByZXNzaW9uKGUsbik7ZWxzZXtpZighKHQgaW5zdGFuY2VvZiBDaCkpdGhyb3cgbmV3IEVycm9yKFwiRG9uJ3Qga25vdyBob3cgdG8gcHJpbnQgZGVidWcgaW5mbyBmb3IgXCIrdCk7dC52aXNpdFR5cGUoZSxuKX19KSxuLnRvU291cmNlKCl9ZnVuY3Rpb24gS24odCxlKXtmb3IodmFyIG49MCxyPWU7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07amRbaS50b0xvd2VyQ2FzZSgpXT10fX1mdW5jdGlvbiBabih0KXtzd2l0Y2godCl7Y2FzZVwid2lkdGhcIjpjYXNlXCJoZWlnaHRcIjpjYXNlXCJtaW5XaWR0aFwiOmNhc2VcIm1pbkhlaWdodFwiOmNhc2VcIm1heFdpZHRoXCI6Y2FzZVwibWF4SGVpZ2h0XCI6Y2FzZVwibGVmdFwiOmNhc2VcInRvcFwiOmNhc2VcImJvdHRvbVwiOmNhc2VcInJpZ2h0XCI6Y2FzZVwiZm9udFNpemVcIjpjYXNlXCJvdXRsaW5lV2lkdGhcIjpjYXNlXCJvdXRsaW5lT2Zmc2V0XCI6Y2FzZVwicGFkZGluZ1RvcFwiOmNhc2VcInBhZGRpbmdMZWZ0XCI6Y2FzZVwicGFkZGluZ0JvdHRvbVwiOmNhc2VcInBhZGRpbmdSaWdodFwiOmNhc2VcIm1hcmdpblRvcFwiOmNhc2VcIm1hcmdpbkxlZnRcIjpjYXNlXCJtYXJnaW5Cb3R0b21cIjpjYXNlXCJtYXJnaW5SaWdodFwiOmNhc2VcImJvcmRlclJhZGl1c1wiOmNhc2VcImJvcmRlcldpZHRoXCI6Y2FzZVwiYm9yZGVyVG9wV2lkdGhcIjpjYXNlXCJib3JkZXJMZWZ0V2lkdGhcIjpjYXNlXCJib3JkZXJSaWdodFdpZHRoXCI6Y2FzZVwiYm9yZGVyQm90dG9tV2lkdGhcIjpjYXNlXCJ0ZXh0SW5kZW50XCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gSm4odCl7cmV0dXJuIHQucmVwbGFjZShweSxcIlwiKX1mdW5jdGlvbiB0cih0KXt2YXIgZT10Lm1hdGNoKGh5KTtyZXR1cm4gZT9lWzBdOlwiXCJ9ZnVuY3Rpb24gZXIodCxlKXt2YXIgbj1ucih0KSxyPTA7cmV0dXJuIG4uZXNjYXBlZFN0cmluZy5yZXBsYWNlKGZ5LGZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXRbaS0wXT1hcmd1bWVudHNbaV07dmFyIG89dFsyXSxzPVwiXCIsYT10WzRdLHU9XCJcIjthJiZhLnN0YXJ0c1dpdGgoXCJ7XCIrdnkpJiYocz1uLmJsb2Nrc1tyKytdLGE9YS5zdWJzdHJpbmcodnkubGVuZ3RoKzEpLHU9XCJ7XCIpO3ZhciBjPWUobmV3IGd5KG8scykpO3JldHVyblwiXCIrdFsxXStjLnNlbGVjdG9yK3RbM10rdStjLmNvbnRlbnQrYX0pfWZ1bmN0aW9uIG5yKHQpe2Zvcih2YXIgZT10LnNwbGl0KGR5KSxuPVtdLHI9W10saT0wLG89W10scz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgYT1lW3NdO2E9PW15JiZpLS0saT4wP28ucHVzaChhKTooby5sZW5ndGg+MCYmKHIucHVzaChvLmpvaW4oXCJcIikpLG4ucHVzaCh2eSksbz1bXSksbi5wdXNoKGEpKSxhPT15eSYmaSsrfXJldHVybiBvLmxlbmd0aD4wJiYoci5wdXNoKG8uam9pbihcIlwiKSksbi5wdXNoKHZ5KSksbmV3IF95KG4uam9pbihcIlwiKSxyKX1mdW5jdGlvbiBycih0KXt2YXIgZT1cInN0eWxlc1wiO3JldHVybiB0JiYoZSs9XCJfXCIrYih0LnR5cGUpKSxlfWZ1bmN0aW9uIGlyKHQsZSxuKXtpZihlPT09bilyZXR1cm4gdDtmb3IodmFyIHI9b2YsaT1lO2khPT1uJiZpLmRlY2xhcmF0aW9uRWxlbWVudC52aWV3OylpPWkuZGVjbGFyYXRpb25FbGVtZW50LnZpZXcscj1yLnByb3AoXCJwYXJlbnRWaWV3XCIpO2lmKGkhPT1uKXRocm93IG5ldyBFcnJvcihcIkludGVybmFsIGVycm9yOiBDb3VsZCBub3QgY2FsY3VsYXRlIGEgcHJvcGVydHkgaW4gYSBwYXJlbnQgdmlldzogXCIrdCk7cmV0dXJuIHQudmlzaXRFeHByZXNzaW9uKG5ldyBJeShyLG4pLG51bGwpfWZ1bmN0aW9uIG9yKHQsZSxuKXt2YXIgcjtyPXQudmlld1R5cGU9PT1nby5IT1NUP29mOm9mLnByb3AoXCJwYXJlbnRWaWV3XCIpO3ZhciBpPVtvbihlKSxvZi5wcm9wKFwicGFyZW50SW5kZXhcIildO3JldHVybiBuJiZpLnB1c2goYWYpLHIuY2FsbE1ldGhvZChcImluamVjdG9yR2V0XCIsaSl9ZnVuY3Rpb24gc3IodCxlKXtyZXR1cm5cIlZpZXdfXCIrYih0LnR5cGUpK2V9ZnVuY3Rpb24gYXIodCl7cmV0dXJuXCJoYW5kbGVFdmVudF9cIit0fWZ1bmN0aW9uIHVyKHQpe3JldHVybiBpby5mbGF0dGVuKHQudmFsdWVzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE55P2NyKHQudmlldy5kZWNsYXJhdGlvbkVsZW1lbnQudmlld0NvbnRhaW5lcix0LnZpZXcsdXIodCkpOnR9KSl9ZnVuY3Rpb24gY3IodCxlLG4pe3ZhciByPW4ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB6ZShvZi5uYW1lLEdlKFwibmVzdGVkVmlld1wiKSx0KX0pO3JldHVybiB0LmNhbGxNZXRob2QoXCJtYXBOZXN0ZWRWaWV3c1wiLFtHZShlLmNsYXNzTmFtZSksSmUoW25ldyBZaChcIm5lc3RlZFZpZXdcIixlLmNsYXNzVHlwZSldLFtuZXcgZGYoWWUocikpXSxUaCldKX1mdW5jdGlvbiBscih0LGUpe2UuZmllbGRzLnB1c2gobmV3IG1mKHQsJGUoWXQoX2wuUXVlcnlMaXN0KSxbVGhdKSkpO3ZhciBuPW9mLnByb3AodCk7cmV0dXJuIGUuY3JlYXRlTWV0aG9kLmFkZFN0bXQob2YucHJvcCh0KS5zZXQoWGUoWXQoX2wuUXVlcnlMaXN0KSxbVGhdKS5pbnN0YW50aWF0ZShbXSkpLnRvU3RtdCgpKSxufWZ1bmN0aW9uIHByKHQsZSl7ZS5tZXRhLnNlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPXQuZ2V0KEUobikpO3J8fChyPVtdLHQuc2V0KEUobikscikpLHIucHVzaChlKX0pfWZ1bmN0aW9uIGhyKHQsZSxuLHIpe3ZhciBpO3JldHVybiBpPWU+MD90bih0KS5sb3dlckVxdWFscyhIeS5yZXF1ZXN0Tm9kZUluZGV4KS5hbmQoSHkucmVxdWVzdE5vZGVJbmRleC5sb3dlckVxdWFscyh0bih0K2UpKSk6dG4odCkuaWRlbnRpY2FsKEh5LnJlcXVlc3ROb2RlSW5kZXgpLG5ldyBiZihIeS50b2tlbi5pZGVudGljYWwob24obi50b2tlbikpLmFuZChpKSxbbmV3IGRmKHIpXSl9ZnVuY3Rpb24gZnIodCxlLG4scixpKXt2YXIgbyxzLGE9aS52aWV3O2lmKG4/KG89WWUoZSkscz1uZXcgUGgoVGgpKToobz1lWzBdLHM9ZVswXS50eXBlKSxzfHwocz1UaCkscilhLmZpZWxkcy5wdXNoKG5ldyBtZih0LHMpKSxhLmNyZWF0ZU1ldGhvZC5hZGRTdG10KG9mLnByb3AodCkuc2V0KG8pLnRvU3RtdCgpKTtlbHNle3ZhciB1PVwiX1wiK3Q7YS5maWVsZHMucHVzaChuZXcgbWYodSxzKSk7dmFyIGM9bmV3IGt5KGEpO2MucmVzZXREZWJ1Z0luZm8oaS5ub2RlSW5kZXgsaS5zb3VyY2VBc3QpLGMuYWRkU3RtdChuZXcgYmYob2YucHJvcCh1KS5pc0JsYW5rKCksW29mLnByb3AodSkuc2V0KG8pLnRvU3RtdCgpXSkpLGMuYWRkU3RtdChuZXcgZGYob2YucHJvcCh1KSkpLGEuZ2V0dGVycy5wdXNoKG5ldyBnZih0LGMuZmluaXNoKCkscykpfXJldHVybiBvZi5wcm9wKHQpfWZ1bmN0aW9uIGRyKHQsZSl7Zm9yKHZhciBuPW51bGwscj10LnBpcGVNZXRhcy5sZW5ndGgtMTtyPj0wO3ItLSl7dmFyIGk9dC5waXBlTWV0YXNbcl07aWYoaS5uYW1lPT1lKXtuPWk7YnJlYWt9fWlmKCFuKXRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgc3RhdGU6IENvdWxkIG5vdCBmaW5kIHBpcGUgXCIrZStcIiBhbHRob3VnaCB0aGUgcGFyc2VyIHNob3VsZCBoYXZlIGRldGVjdGVkIHRoaXMgZXJyb3IhXCIpO3JldHVybiBufWZ1bmN0aW9uIHlyKHQsZSl7cmV0dXJuIGU+MD9nby5FTUJFRERFRDp0LmlzSG9zdD9nby5IT1NUOmdvLkNPTVBPTkVOVH1mdW5jdGlvbiBtcih0LGUsbixyKXt2YXIgaT12cih0LGUpO3JldHVybiEhaS5zaXplJiYociYmZ3IoaSxuKSxfcihpLGUsbiksYnIodCxlLG4pLCEwKX1mdW5jdGlvbiB2cih0LGUpe3ZhciBuPW5ldyBNYXA7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtuLnNldCh0LmZ1bGxOYW1lLHQpfSksZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuaG9zdEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe24uc2V0KHQuZnVsbE5hbWUsdCl9KX0pLG59ZnVuY3Rpb24gZ3IodCxlKXt2YXIgbj1bXTtpZih0LmZvckVhY2goZnVuY3Rpb24odCl7dC5waGFzZXx8bi5wdXNoKHRuKHQubmFtZSksdG4odC50YXJnZXQpKX0pLG4ubGVuZ3RoKXt2YXIgcj1HZShcImRpc3Bvc2FibGVfXCIrZS52aWV3LmRpc3Bvc2FibGVzLmxlbmd0aCk7ZS52aWV3LmRpc3Bvc2FibGVzLnB1c2gociksZS52aWV3LmNyZWF0ZU1ldGhvZC5hZGRTdG10KHIuc2V0KFhlKFl0KF9sLnN1YnNjcmliZVRvUmVuZGVyRWxlbWVudCkpLmNhbGxGbihbb2YsZS5yZW5kZXJOb2RlLHNuKG4pLHdyKGUpXSkpLnRvRGVjbFN0bXQoUmgsW2NmLlByaXZhdGVdKSl9fWZ1bmN0aW9uIF9yKHQsZSxuKXt2YXIgcj1BcnJheS5mcm9tKHQua2V5cygpKTtlLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9bi5kaXJlY3RpdmVXcmFwcGVySW5zdGFuY2UuZ2V0KHQuZGlyZWN0aXZlLnR5cGUucmVmZXJlbmNlKTtuLnZpZXcuY3JlYXRlTWV0aG9kLmFkZFN0bXRzKEpmLnN1YnNjcmliZSh0LmRpcmVjdGl2ZSx0Lmhvc3RQcm9wZXJ0aWVzLHIsZSxvZix3cihuKSkpfSl9ZnVuY3Rpb24gYnIodCxlLG4pe3ZhciByPWUuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gdC5ob3N0RXZlbnRzLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGlyZWN0aXZlLmlzQ29tcG9uZW50fSl9KSxpPXI/bi5jb21wVmlld0V4cHI6b2Ysbz1uZXcga3kobi52aWV3KTtvLnJlc2V0RGVidWdJbmZvKG4ubm9kZUluZGV4LG4uc291cmNlQXN0KSxvLnB1c2goaS5jYWxsTWV0aG9kKFwibWFya1BhdGhUb1Jvb3RBc0NoZWNrT25jZVwiLFtdKS50b1N0bXQoKSk7dmFyIHM9R2UoXCJldmVudE5hbWVcIiksYT1HZShcInJlc3VsdFwiKTtvLnB1c2goYS5zZXQodG4oITApKS50b0RlY2xTdG10KEFoKSksZS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIHI9bi5kaXJlY3RpdmVXcmFwcGVySW5zdGFuY2UuZ2V0KHQuZGlyZWN0aXZlLnR5cGUucmVmZXJlbmNlKTt0Lmhvc3RFdmVudHMubGVuZ3RoPjAmJm8ucHVzaChhLnNldChKZi5oYW5kbGVFdmVudCh0Lmhvc3RFdmVudHMscixzLEFmLmV2ZW50KS5hbmQoYSkpLnRvU3RtdCgpKX0pLHQuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciByPWxuKG4udmlldyxuLnZpZXcsbi52aWV3LmNvbXBvbmVudENvbnRleHQsdC5oYW5kbGVyLFwic3ViX1wiK2UpLGk9ci5zdG10cztyLnByZXZlbnREZWZhdWx0JiZpLnB1c2goYS5zZXQoci5wcmV2ZW50RGVmYXVsdC5hbmQoYSkpLnRvU3RtdCgpKSxvLnB1c2gobmV3IGJmKHMuZXF1YWxzKHRuKHQuZnVsbE5hbWUpKSxpKSl9KSxvLnB1c2gobmV3IGRmKGEpKSxuLnZpZXcubWV0aG9kcy5wdXNoKG5ldyB2ZihhcihuLm5vZGVJbmRleCksW25ldyBZaChzLm5hbWUsa2gpLG5ldyBZaChBZi5ldmVudC5uYW1lLFRoKV0sby5maW5pc2goKSxBaCkpfWZ1bmN0aW9uIHdyKHQpe3ZhciBlPWFyKHQubm9kZUluZGV4KTtyZXR1cm4gb2YuY2FsbE1ldGhvZChcImV2ZW50SGFuZGxlclwiLFtvZi5wcm9wKGUpXSl9ZnVuY3Rpb24gQ3IodCxlLG4pe3ZhciByPW4udmlldyxpPXQudHlwZS5saWZlY3ljbGVIb29rcyxvPXIuYWZ0ZXJDb250ZW50TGlmZWN5Y2xlQ2FsbGJhY2tzTWV0aG9kO28ucmVzZXREZWJ1Z0luZm8obi5ub2RlSW5kZXgsbi5zb3VyY2VBc3QpLGkuaW5kZXhPZihhby5BZnRlckNvbnRlbnRJbml0KSE9PS0xJiZvLmFkZFN0bXQobmV3IGJmKEp5LFtlLmNhbGxNZXRob2QoXCJuZ0FmdGVyQ29udGVudEluaXRcIixbXSkudG9TdG10KCldKSksaS5pbmRleE9mKGFvLkFmdGVyQ29udGVudENoZWNrZWQpIT09LTEmJm8uYWRkU3RtdChlLmNhbGxNZXRob2QoXCJuZ0FmdGVyQ29udGVudENoZWNrZWRcIixbXSkudG9TdG10KCkpfWZ1bmN0aW9uIEVyKHQsZSxuKXt2YXIgcj1uLnZpZXcsaT10LnR5cGUubGlmZWN5Y2xlSG9va3Msbz1yLmFmdGVyVmlld0xpZmVjeWNsZUNhbGxiYWNrc01ldGhvZDtvLnJlc2V0RGVidWdJbmZvKG4ubm9kZUluZGV4LG4uc291cmNlQXN0KSxpLmluZGV4T2YoYW8uQWZ0ZXJWaWV3SW5pdCkhPT0tMSYmby5hZGRTdG10KG5ldyBiZihKeSxbZS5jYWxsTWV0aG9kKFwibmdBZnRlclZpZXdJbml0XCIsW10pLnRvU3RtdCgpXSkpLGkuaW5kZXhPZihhby5BZnRlclZpZXdDaGVja2VkKSE9PS0xJiZvLmFkZFN0bXQoZS5jYWxsTWV0aG9kKFwibmdBZnRlclZpZXdDaGVja2VkXCIsW10pLnRvU3RtdCgpKX1mdW5jdGlvbiBTcih0LGUsbil7bi52aWV3LmRlc3Ryb3lNZXRob2QuYWRkU3RtdHMoSmYubmdPbkRlc3Ryb3kodC5kaXJlY3RpdmUsZSkpLG4udmlldy5kZXRhY2hNZXRob2QuYWRkU3RtdHMoSmYubmdPbkRldGFjaCh0Lmhvc3RQcm9wZXJ0aWVzLGUsb2Ysbi5jb21wVmlld0V4cHJ8fG9mLG4ucmVuZGVyTm9kZSkpfWZ1bmN0aW9uIHhyKHQsZSxuKXt2YXIgcj1uLnZpZXcuZGVzdHJveU1ldGhvZDtyLnJlc2V0RGVidWdJbmZvKG4ubm9kZUluZGV4LG4uc291cmNlQXN0KSx0LnByb3ZpZGVyVHlwZSE9PVlpLkRpcmVjdGl2ZSYmdC5wcm92aWRlclR5cGUhPT1ZaS5Db21wb25lbnQmJnQubGlmZWN5Y2xlSG9va3MuaW5kZXhPZihhby5PbkRlc3Ryb3kpIT09LTEmJnIuYWRkU3RtdChlLmNhbGxNZXRob2QoXCJuZ09uRGVzdHJveVwiLFtdKS50b1N0bXQoKSl9ZnVuY3Rpb24gUHIodCxlLG4pe3ZhciByPW4uZGVzdHJveU1ldGhvZDt0LnR5cGUubGlmZWN5Y2xlSG9va3MuaW5kZXhPZihhby5PbkRlc3Ryb3kpIT09LTEmJnIuYWRkU3RtdChlLmNhbGxNZXRob2QoXCJuZ09uRGVzdHJveVwiLFtdKS50b1N0bXQoKSl9ZnVuY3Rpb24gT3IodCxlLG4pe3ZhciByPWVuKG4pLGk9Y24obixuLG4uY29tcG9uZW50Q29udGV4dCx0LnZhbHVlLHIuYmluZGluZ0lkKTtyZXR1cm4gaT8obi5kZXRlY3RDaGFuZ2VzUmVuZGVyUHJvcGVydGllc01ldGhvZC5yZXNldERlYnVnSW5mbyhlLm5vZGVJbmRleCx0KSx2b2lkIG4uZGV0ZWN0Q2hhbmdlc1JlbmRlclByb3BlcnRpZXNNZXRob2QuYWRkU3RtdHMobm4oaSxyLmV4cHJlc3Npb24sQnkudGhyb3dPbkNoYW5nZSxbb2YucHJvcChcInJlbmRlcmVyXCIpLmNhbGxNZXRob2QoXCJzZXRUZXh0XCIsW2UucmVuZGVyTm9kZSxpLmN1cnJWYWxFeHByXSkudG9TdG10KCldKSkpOm51bGx9ZnVuY3Rpb24gVHIodCxlLG4scil7dmFyIGk9ci52aWV3LG89ci5yZW5kZXJOb2RlO3QuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcz1lbihpKTtpLmRldGVjdENoYW5nZXNSZW5kZXJQcm9wZXJ0aWVzTWV0aG9kLnJlc2V0RGVidWdJbmZvKHIubm9kZUluZGV4LHQpO3ZhciBhPWNuKGksaSxyLnZpZXcuY29tcG9uZW50Q29udGV4dCx0LnZhbHVlLHMuYmluZGluZ0lkKTtpZihhKXt2YXIgdT1bXSxjPWkuZGV0ZWN0Q2hhbmdlc1JlbmRlclByb3BlcnRpZXNNZXRob2Q7c3dpdGNoKHQudHlwZSl7Y2FzZSBaaS5Qcm9wZXJ0eTpjYXNlIFppLkF0dHJpYnV0ZTpjYXNlIFppLkNsYXNzOmNhc2UgWmkuU3R5bGU6dS5wdXNoLmFwcGx5KHUsU24ob2YsdCxvLGEuY3VyclZhbEV4cHIsaS5nZW5Db25maWcubG9nQmluZGluZ1VwZGF0ZSkpO2JyZWFrO2Nhc2UgWmkuQW5pbWF0aW9uOmM9aS5hbmltYXRpb25CaW5kaW5nc01ldGhvZDt2YXIgbD1QbihvZixvZix0LGUsKG4/b2YucHJvcChhcihyLm5vZGVJbmRleCkpOlhlKFl0KF9sLm5vb3ApKSkuY2FsbE1ldGhvZChIaC5CaW5kLFtvZl0pLHIucmVuZGVyTm9kZSxhLmN1cnJWYWxFeHByLHMuZXhwcmVzc2lvbikscD1sLnVwZGF0ZVN0bXRzLGg9bC5kZXRhY2hTdG10czt1LnB1c2guYXBwbHkodSxwKSxpLmRldGFjaE1ldGhvZC5hZGRTdG10cyhoKX1jLmFkZFN0bXRzKG5uKGEscy5leHByZXNzaW9uLEJ5LnRocm93T25DaGFuZ2UsdSkpfX0pfWZ1bmN0aW9uIEFyKHQsZSxuLHIsaSl7dmFyIG89dC5ob3N0UHJvcGVydGllcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQubmVlZHNSdW50aW1lU2VjdXJpdHlDb250ZXh0fSkubWFwKGZ1bmN0aW9uKHQpe3ZhciBlO3N3aXRjaCh0LnR5cGUpe2Nhc2UgWmkuUHJvcGVydHk6ZT1pLnNlY3VyaXR5Q29udGV4dChyLHQubmFtZSwhMSk7YnJlYWs7Y2FzZSBaaS5BdHRyaWJ1dGU6ZT1pLnNlY3VyaXR5Q29udGV4dChyLHQubmFtZSwhMCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIHN0YXRlOiBPbmx5IHByb3BlcnR5IC8gYXR0cmlidXRlIGJpbmRpbmdzIGNhbiBoYXZlIGFuIHVua25vd24gc2VjdXJpdHkgY29udGV4dCEgQmluZGluZyBcIit0Lm5hbWUpfXJldHVybiB1bihfbC5TZWN1cml0eUNvbnRleHQsZSl9KTtuLnZpZXcuZGV0ZWN0Q2hhbmdlc1JlbmRlclByb3BlcnRpZXNNZXRob2QuYWRkU3RtdHMoSmYuY2hlY2tIb3N0KHQuaG9zdFByb3BlcnRpZXMsZSxvZixuLmNvbXBWaWV3RXhwcnx8b2Ysbi5yZW5kZXJOb2RlLEJ5LnRocm93T25DaGFuZ2UsbykpfWZ1bmN0aW9uIE1yKHQsZSxuLHIpe3ZhciBpPXIudmlldyxvPWkuZGV0ZWN0Q2hhbmdlc0luSW5wdXRzTWV0aG9kO28ucmVzZXREZWJ1Z0luZm8oci5ub2RlSW5kZXgsci5zb3VyY2VBc3QpLHQuaW5wdXRzLmZvckVhY2goZnVuY3Rpb24odCxzKXt2YXIgYT1yLm5vZGVJbmRleCtcIl9cIituK1wiX1wiK3M7by5yZXNldERlYnVnSW5mbyhyLm5vZGVJbmRleCx0KTt2YXIgdT1jbihpLGksaS5jb21wb25lbnRDb250ZXh0LHQudmFsdWUsYSk7dSYmKG8uYWRkU3RtdHModS5zdG10cyksby5hZGRTdG10KGUuY2FsbE1ldGhvZChcImNoZWNrX1wiK3QuZGlyZWN0aXZlTmFtZSxbdS5jdXJyVmFsRXhwcixCeS50aHJvd09uQ2hhbmdlLHUuZm9yY2VVcGRhdGV8fHRuKCExKV0pLnRvU3RtdCgpKSl9KTt2YXIgcz10LmRpcmVjdGl2ZS5pc0NvbXBvbmVudCYmIW9vKHQuZGlyZWN0aXZlLmNoYW5nZURldGVjdGlvbiksYT1KZi5uZ0RvQ2hlY2soZSxvZixyLnJlbmRlck5vZGUsQnkudGhyb3dPbkNoYW5nZSksdT1zP25ldyBiZihhLFtyLmNvbXBWaWV3RXhwci5jYWxsTWV0aG9kKFwibWFya0FzQ2hlY2tPbmNlXCIsW10pLnRvU3RtdCgpXSk6YS50b1N0bXQoKTtvLmFkZFN0bXQodSl9ZnVuY3Rpb24ga3IodCl7dmFyIGU9W107dC5nZXRQcm92aWRlclRva2VucygpLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHI9dC5nZXRRdWVyaWVzRm9yKG4pO2UucHVzaC5hcHBseShlLHIubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdG0odCxuKX0pKX0pLE9iamVjdC5rZXlzKHQucmVmZXJlbmNlVG9rZW5zKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPXt2YWx1ZTpufTtlLnB1c2guYXBwbHkoZSx0LmdldFF1ZXJpZXNGb3IocikubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdG0odCxyKX0pKX0pLGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbjtpZihlLnJlYWQuaWRlbnRpZmllciluPXQuaW5zdGFuY2VzLmdldChFKGUucmVhZCkpO2Vsc2V7dmFyIHI9dC5yZWZlcmVuY2VUb2tlbnNbZS5yZWFkLnZhbHVlXTtuPXI/dC5pbnN0YW5jZXMuZ2V0KEUocikpOnQuZWxlbWVudFJlZn1uJiZlLnF1ZXJ5LmFkZFZhbHVlKG4sdC52aWV3KX0pfWZ1bmN0aW9uIFJyKHQsZSxyKXt2YXIgaT1uZXcgZW0odCxyKTtuKGksZSksdC5waXBlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1ByKHQubWV0YSx0Lmluc3RhbmNlLHQudmlldyl9KX1mdW5jdGlvbiBJcih0LGUscil7dmFyIGk9bmV3IHVtKHQsciksbz10LmRlY2xhcmF0aW9uRWxlbWVudC5pc051bGwoKT90LmRlY2xhcmF0aW9uRWxlbWVudDp0LmRlY2xhcmF0aW9uRWxlbWVudC5wYXJlbnQ7cmV0dXJuIG4oaSxlLG8pLHQudmlld1R5cGUhPT1nby5FTUJFRERFRCYmdC52aWV3VHlwZSE9PWdvLkhPU1R8fCh0Lmxhc3RSZW5kZXJOb2RlPWkuZ2V0T3JDcmVhdGVMYXN0UmVuZGVyTm9kZSgpKSxpLm5lc3RlZFZpZXdDb3VudH1mdW5jdGlvbiBOcih0LGUpe3Qubm9kZXMuZm9yRWFjaChmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgJHkmJih0LmZpbmlzaCgpLHQuaGFzRW1iZWRkZWRWaWV3JiZOcih0LmVtYmVkZGVkVmlldyxlKSl9KSx0LmZpbmlzaCgpLEhyKHQsZSl9ZnVuY3Rpb24gRHIodCl7Zm9yKHZhciBlPXQudmlldztWcih0LnBhcmVudCxlKTspdD10LnBhcmVudDtyZXR1cm4gdH1mdW5jdGlvbiBqcih0KXtmb3IodmFyIGU9dC52aWV3O1ZyKHQsZSk7KXQ9dC5wYXJlbnQ7cmV0dXJuIHR9ZnVuY3Rpb24gVnIodCxlKXtyZXR1cm4hdC5pc051bGwoKSYmdC5zb3VyY2VBc3QubmFtZT09PW9tJiZ0LnZpZXc9PT1lfWZ1bmN0aW9uIExyKHQsZSl7dmFyIG49e307T2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtuW2VdPXRbZV19KSxlLmZvckVhY2goZnVuY3Rpb24odCl7T2JqZWN0LmtleXModC5ob3N0QXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaT10Lmhvc3RBdHRyaWJ1dGVzW2VdLG89bltlXTtuW2VdPXIobyk/VXIoZSxvLGkpOml9KX0pO3ZhciBpPVtdO3JldHVybiBPYmplY3Qua2V5cyhuKS5zb3J0KCkuZm9yRWFjaChmdW5jdGlvbih0KXtpLnB1c2godCxuW3RdKX0pLGl9ZnVuY3Rpb24gRnIodCl7dmFyIGU9e307cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtlW3QubmFtZV09dC52YWx1ZX0pLGV9ZnVuY3Rpb24gVXIodCxlLG4pe3JldHVybiB0PT1ybXx8dD09aW0/ZStcIiBcIituOm59ZnVuY3Rpb24gSHIodCxlKXt2YXIgbj1hZjt0LmdlbkNvbmZpZy5nZW5EZWJ1Z0luZm8mJihuPUdlKFwibm9kZURlYnVnSW5mb3NfXCIrYih0LmNvbXBvbmVudC50eXBlKSt0LnZpZXdJbmRleCksZS5wdXNoKG4uc2V0KFllKHQubm9kZXMubWFwKEJyKSxuZXcgUGgoJGUoWXQoX2wuU3RhdGljTm9kZURlYnVnSW5mbykpLFt3aC5Db25zdF0pKSkudG9EZWNsU3RtdChudWxsLFtjZi5GaW5hbF0pKSk7dmFyIHI9R2UoXCJyZW5kZXJUeXBlX1wiK2IodC5jb21wb25lbnQudHlwZSkpO2lmKDA9PT10LnZpZXdJbmRleCl7dmFyIGk9dm9pZCAwO2k9dC5jb21wb25lbnQudGVtcGxhdGUudGVtcGxhdGVVcmw9PXcodC5jb21wb25lbnQudHlwZSk/dyh0LmNvbXBvbmVudC50eXBlKStcIiBjbGFzcyBcIitiKHQuY29tcG9uZW50LnR5cGUpK1wiIC0gaW5saW5lIHRlbXBsYXRlXCI6dC5jb21wb25lbnQudGVtcGxhdGUudGVtcGxhdGVVcmwsZS5wdXNoKHIuc2V0KFhlKFl0KF9sLmNyZWF0ZVJlbmRlckNvbXBvbmVudFR5cGUpKS5jYWxsRm4oW3RuKHQuZ2VuQ29uZmlnLmdlbkRlYnVnSW5mbz9pOlwiXCIpLHRuKHQuY29tcG9uZW50LnRlbXBsYXRlLm5nQ29udGVudFNlbGVjdG9ycy5sZW5ndGgpLFZ5LmZyb21WYWx1ZSh0LmNvbXBvbmVudC50ZW1wbGF0ZS5lbmNhcHN1bGF0aW9uKSx0LnN0eWxlcyxLZSh0LmFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uKHQpe3JldHVyblt0Lm5hbWUsdC5mbkV4cF19KSxudWxsLCEwKV0pKS50b0RlY2xTdG10KCRlKFl0KF9sLlJlbmRlckNvbXBvbmVudFR5cGUpKSkpfXZhciBvPXFyKHQscixuKTtlLnB1c2gobyl9ZnVuY3Rpb24gQnIodCl7dmFyIGU9dCBpbnN0YW5jZW9mICR5P3Q6bnVsbCxuPVtdLGk9YWYsbz1bXTtyZXR1cm4gcihlKSYmKG49ZS5nZXRQcm92aWRlclRva2VucygpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gb24odCl9KSxyKGUuY29tcG9uZW50KSYmKGk9b24oS3QoZS5jb21wb25lbnQudHlwZSkpKSxPYmplY3Qua2V5cyhlLnJlZmVyZW5jZVRva2VucykuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj1lLnJlZmVyZW5jZVRva2Vuc1t0XTtvLnB1c2goW3QscihuKT9vbihuKTphZl0pfSkpLFhlKFl0KF9sLlN0YXRpY05vZGVEZWJ1Z0luZm8pKS5pbnN0YW50aWF0ZShbWWUobixuZXcgUGgoVGgsW3doLkNvbnN0XSkpLGksS2UobyxuZXcgT2goVGgsW3doLkNvbnN0XSkpXSwkZShZdChfbC5TdGF0aWNOb2RlRGVidWdJbmZvKSxudWxsLFt3aC5Db25zdF0pKX1mdW5jdGlvbiBxcih0LGUsbil7dmFyIHI9W25ldyBZaChGeS52aWV3VXRpbHMubmFtZSwkZShZdChfbC5WaWV3VXRpbHMpKSksbmV3IFloKEZ5LnBhcmVudFZpZXcubmFtZSwkZShZdChfbC5BcHBWaWV3KSxbVGhdKSksbmV3IFloKEZ5LnBhcmVudEluZGV4Lm5hbWUsTWgpLG5ldyBZaChGeS5wYXJlbnRFbGVtZW50Lm5hbWUsVGgpXSxpPVtHZSh0LmNsYXNzTmFtZSksZSxqeS5mcm9tVmFsdWUodC52aWV3VHlwZSksRnkudmlld1V0aWxzLEZ5LnBhcmVudFZpZXcsRnkucGFyZW50SW5kZXgsRnkucGFyZW50RWxlbWVudCxMeS5mcm9tVmFsdWUoUXIodCkpXTt0LmdlbkNvbmZpZy5nZW5EZWJ1Z0luZm8mJmkucHVzaChuKSx0LnZpZXdUeXBlPT09Z28uRU1CRURERUQmJihyLnB1c2gobmV3IFloKFwiZGVjbGFyZWRWaWV3Q29udGFpbmVyXCIsJGUoWXQoX2wuVmlld0NvbnRhaW5lcikpKSksaS5wdXNoKEdlKFwiZGVjbGFyZWRWaWV3Q29udGFpbmVyXCIpKSk7dmFyIG89W25ldyB2ZihcImNyZWF0ZUludGVybmFsXCIsW25ldyBZaChhbS5uYW1lLGtoKV0sV3IodCksJGUoWXQoX2wuQ29tcG9uZW50UmVmKSxbVGhdKSksbmV3IHZmKFwiaW5qZWN0b3JHZXRJbnRlcm5hbFwiLFtuZXcgWWgoSHkudG9rZW4ubmFtZSxUaCksbmV3IFloKEh5LnJlcXVlc3ROb2RlSW5kZXgubmFtZSxNaCksbmV3IFloKEh5Lm5vdEZvdW5kUmVzdWx0Lm5hbWUsVGgpXSxYcih0LmluamVjdG9yR2V0TWV0aG9kLmZpbmlzaCgpLEh5Lm5vdEZvdW5kUmVzdWx0KSxUaCksbmV3IHZmKFwiZGV0ZWN0Q2hhbmdlc0ludGVybmFsXCIsW25ldyBZaChCeS50aHJvd09uQ2hhbmdlLm5hbWUsQWgpXSxHcih0KSksbmV3IHZmKFwiZGlydHlQYXJlbnRRdWVyaWVzSW50ZXJuYWxcIixbXSx0LmRpcnR5UGFyZW50UXVlcmllc01ldGhvZC5maW5pc2goKSksbmV3IHZmKFwiZGVzdHJveUludGVybmFsXCIsW10senIodCkpLG5ldyB2ZihcImRldGFjaEludGVybmFsXCIsW10sdC5kZXRhY2hNZXRob2QuZmluaXNoKCkpLFlyKHQpLEtyKHQpLEpyKHQpXS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuYm9keS5sZW5ndGg+MH0pLHM9dC5nZW5Db25maWcuZ2VuRGVidWdJbmZvP19sLkRlYnVnQXBwVmlldzpfbC5BcHBWaWV3LGE9T24oe25hbWU6dC5jbGFzc05hbWUscGFyZW50OlhlKFl0KHMpLFskcih0KV0pLHBhcmVudEFyZ3M6aSxjdG9yUGFyYW1zOnIsYnVpbGRlcnM6W3ttZXRob2RzOm99LHRdfSk7cmV0dXJuIGF9ZnVuY3Rpb24genIodCl7dmFyIGU9W107cmV0dXJuIHQudmlld0NvbnRhaW5lcnMuZm9yRWFjaChmdW5jdGlvbih0KXtlLnB1c2godC5jYWxsTWV0aG9kKFwiZGVzdHJveU5lc3RlZFZpZXdzXCIsW10pLnRvU3RtdCgpKX0pLHQudmlld0NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24odCl7ZS5wdXNoKHQuY2FsbE1ldGhvZChcImRlc3Ryb3lcIixbXSkudG9TdG10KCkpfSksZS5wdXNoLmFwcGx5KGUsdC5kZXN0cm95TWV0aG9kLmZpbmlzaCgpKSxlfWZ1bmN0aW9uIFdyKHQpe3ZhciBlPWFmLG49W107dC52aWV3VHlwZT09PWdvLkNPTVBPTkVOVCYmKGU9VXkucmVuZGVyZXIuY2FsbE1ldGhvZChcImNyZWF0ZVZpZXdSb290XCIsW29mLnByb3AoXCJwYXJlbnRFbGVtZW50XCIpXSksbj1bc20uc2V0KGUpLnRvRGVjbFN0bXQoJGUodC5nZW5Db25maWcucmVuZGVyVHlwZXMucmVuZGVyTm9kZSksW2NmLkZpbmFsXSldKTt2YXIgcjtpZih0LnZpZXdUeXBlPT09Z28uSE9TVCl7dmFyIGk9dC5ub2Rlc1swXTtyPVhlKFl0KF9sLkNvbXBvbmVudFJlZl8pLFtUaF0pLmluc3RhbnRpYXRlKFt0bihpLm5vZGVJbmRleCksb2YsaS5yZW5kZXJOb2RlLGkuZ2V0Q29tcG9uZW50KCldKX1lbHNlIHI9YWY7dmFyIG89VXkucmVuZGVyZXIuY2FzdChUaCkucHJvcChcImRpcmVjdFJlbmRlcmVyXCIpLmNvbmRpdGlvbmFsKGFmLFllKHQubm9kZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlbmRlck5vZGV9KSkpO3JldHVybiBuLmNvbmNhdCh0LmNyZWF0ZU1ldGhvZC5maW5pc2goKSxbb2YuY2FsbE1ldGhvZChcImluaXRcIixbdC5sYXN0UmVuZGVyTm9kZSxvLHQuZGlzcG9zYWJsZXMubGVuZ3RoP1llKHQuZGlzcG9zYWJsZXMpOmFmXSkudG9TdG10KCksbmV3IGRmKHIpXSl9ZnVuY3Rpb24gR3IodCl7dmFyIGU9W107aWYodC5hbmltYXRpb25CaW5kaW5nc01ldGhvZC5pc0VtcHR5KCkmJnQuZGV0ZWN0Q2hhbmdlc0luSW5wdXRzTWV0aG9kLmlzRW1wdHkoKSYmdC51cGRhdGVDb250ZW50UXVlcmllc01ldGhvZC5pc0VtcHR5KCkmJnQuYWZ0ZXJDb250ZW50TGlmZWN5Y2xlQ2FsbGJhY2tzTWV0aG9kLmlzRW1wdHkoKSYmdC5kZXRlY3RDaGFuZ2VzUmVuZGVyUHJvcGVydGllc01ldGhvZC5pc0VtcHR5KCkmJnQudXBkYXRlVmlld1F1ZXJpZXNNZXRob2QuaXNFbXB0eSgpJiZ0LmFmdGVyVmlld0xpZmVjeWNsZUNhbGxiYWNrc01ldGhvZC5pc0VtcHR5KCkmJjA9PT10LnZpZXdDb250YWluZXJzLmxlbmd0aCYmMD09PXQudmlld0NoaWxkcmVuLmxlbmd0aClyZXR1cm4gZTtlLnB1c2guYXBwbHkoZSx0LmFuaW1hdGlvbkJpbmRpbmdzTWV0aG9kLmZpbmlzaCgpKSxlLnB1c2guYXBwbHkoZSx0LmRldGVjdENoYW5nZXNJbklucHV0c01ldGhvZC5maW5pc2goKSksdC52aWV3Q29udGFpbmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucHVzaCh0LmNhbGxNZXRob2QoXCJkZXRlY3RDaGFuZ2VzSW5OZXN0ZWRWaWV3c1wiLFtCeS50aHJvd09uQ2hhbmdlXSkudG9TdG10KCkpfSk7dmFyIG49dC51cGRhdGVDb250ZW50UXVlcmllc01ldGhvZC5maW5pc2goKS5jb25jYXQodC5hZnRlckNvbnRlbnRMaWZlY3ljbGVDYWxsYmFja3NNZXRob2QuZmluaXNoKCkpO24ubGVuZ3RoPjAmJmUucHVzaChuZXcgYmYoWmUoQnkudGhyb3dPbkNoYW5nZSksbikpLGUucHVzaC5hcHBseShlLHQuZGV0ZWN0Q2hhbmdlc1JlbmRlclByb3BlcnRpZXNNZXRob2QuZmluaXNoKCkpLHQudmlld0NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24odCl7ZS5wdXNoKHQuY2FsbE1ldGhvZChcImludGVybmFsRGV0ZWN0Q2hhbmdlc1wiLFtCeS50aHJvd09uQ2hhbmdlXSkudG9TdG10KCkpfSk7dmFyIHI9dC51cGRhdGVWaWV3UXVlcmllc01ldGhvZC5maW5pc2goKS5jb25jYXQodC5hZnRlclZpZXdMaWZlY3ljbGVDYWxsYmFja3NNZXRob2QuZmluaXNoKCkpO3IubGVuZ3RoPjAmJmUucHVzaChuZXcgYmYoWmUoQnkudGhyb3dPbkNoYW5nZSkscikpO3ZhciBpPVtdLG89V2UoZSk7cmV0dXJuIG8uaGFzKEJ5LmNoYW5nZWQubmFtZSkmJmkucHVzaChCeS5jaGFuZ2VkLnNldCh0bighMCkpLnRvRGVjbFN0bXQoQWgpKSxvLmhhcyhCeS5jaGFuZ2VzLm5hbWUpJiZpLnB1c2goQnkuY2hhbmdlcy5zZXQoYWYpLnRvRGVjbFN0bXQobmV3IE9oKCRlKFl0KF9sLlNpbXBsZUNoYW5nZSkpKSkpLGkucHVzaC5hcHBseShpLHBuKGUpKSxpLmNvbmNhdChlKX1mdW5jdGlvbiBYcih0LGUpe3JldHVybiB0Lmxlbmd0aD4wP3QuY29uY2F0KFtuZXcgZGYoZSldKTp0fWZ1bmN0aW9uICRyKHQpe3JldHVybiB0LnZpZXdUeXBlPT09Z28uQ09NUE9ORU5UPyRlKHQuY29tcG9uZW50LnR5cGUpOlRofWZ1bmN0aW9uIFFyKHQpe3ZhciBlO3JldHVybiBlPXQudmlld1R5cGU9PT1nby5DT01QT05FTlQ/b28odC5jb21wb25lbnQuY2hhbmdlRGV0ZWN0aW9uKT9zby5DaGVja0Fsd2F5czpzby5DaGVja09uY2U6c28uQ2hlY2tBbHdheXN9ZnVuY3Rpb24gWXIodCl7dmFyIGU9R2UoXCJjYlwiKSxuPUdlKFwiY3R4XCIpLHI9WnIodC5yb290Tm9kZXMsZSxuKTtyZXR1cm4gbmV3IHZmKFwidmlzaXRSb290Tm9kZXNJbnRlcm5hbFwiLFtuZXcgWWgoZS5uYW1lLFRoKSxuZXcgWWgobi5uYW1lLFRoKV0scil9ZnVuY3Rpb24gS3IodCl7dmFyIGU9R2UoXCJub2RlSW5kZXhcIiksbj1HZShcIm5nQ29udGVudEluZGV4XCIpLHI9R2UoXCJjYlwiKSxpPUdlKFwiY3R4XCIpLG89W107cmV0dXJuIHQubm9kZXMuZm9yRWFjaChmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgJHkmJnQuY29tcG9uZW50JiZ0LmNvbnRlbnROb2Rlc0J5TmdDb250ZW50SW5kZXguZm9yRWFjaChmdW5jdGlvbihzLGEpe28ucHVzaChuZXcgYmYoZS5lcXVhbHModG4odC5ub2RlSW5kZXgpKS5hbmQobi5lcXVhbHModG4oYSkpKSxacihzLHIsaSkpKX0pfSksbmV3IHZmKFwidmlzaXRQcm9qZWN0YWJsZU5vZGVzSW50ZXJuYWxcIixbbmV3IFloKGUubmFtZSxNaCksbmV3IFloKG4ubmFtZSxNaCksbmV3IFloKHIubmFtZSxUaCksbmV3IFloKGkubmFtZSxUaCldLG8pfWZ1bmN0aW9uIFpyKHQsZSxuKXt2YXIgcj1bXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2UgWXkuTm9kZTpyLnB1c2goZS5jYWxsRm4oW3QuZXhwcixuXSkudG9TdG10KCkpO2JyZWFrO2Nhc2UgWXkuVmlld0NvbnRhaW5lcjpyLnB1c2goZS5jYWxsRm4oW3QuZXhwci5wcm9wKFwibmF0aXZlRWxlbWVudFwiKSxuXSkudG9TdG10KCkpLHIucHVzaCh0LmV4cHIuY2FsbE1ldGhvZChcInZpc2l0TmVzdGVkVmlld1Jvb3ROb2Rlc1wiLFtlLG5dKS50b1N0bXQoKSk7YnJlYWs7Y2FzZSBZeS5OZ0NvbnRlbnQ6ci5wdXNoKG9mLmNhbGxNZXRob2QoXCJ2aXNpdFByb2plY3RlZE5vZGVzXCIsW3RuKHQubmdDb250ZW50SW5kZXgpLGUsbl0pLnRvU3RtdCgpKX19KSxyfWZ1bmN0aW9uIEpyKHQpe3ZhciBlPUdlKFwibm9kZUluZGV4XCIpLG49W107cmV0dXJuIHQubm9kZXMuZm9yRWFjaChmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgJHkmJnQuZW1iZWRkZWRWaWV3JiZuLnB1c2gobmV3IGJmKGUuZXF1YWxzKHRuKHQubm9kZUluZGV4KSksW25ldyBkZih0LmVtYmVkZGVkVmlldy5jbGFzc0V4cHIuaW5zdGFudGlhdGUoW1V5LnZpZXdVdGlscyxvZix0bih0Lm5vZGVJbmRleCksdC5yZW5kZXJOb2RlLHQudmlld0NvbnRhaW5lcl0pKV0pKX0pLG4ubGVuZ3RoPjAmJm4ucHVzaChuZXcgZGYoYWYpKSxuZXcgdmYoXCJjcmVhdGVFbWJlZGRlZFZpZXdJbnRlcm5hbFwiLFtuZXcgWWgoZS5uYW1lLE1oKV0sbiwkZShZdChfbC5BcHBWaWV3KSxbVGhdKSl9ZnVuY3Rpb24gdGkodCxlKXt2YXIgbj10bihWbyk7c3dpdGNoKGUpe2Nhc2UgVm86cmV0dXJuIHQuZXF1YWxzKG4pO2Nhc2UgRG86cmV0dXJuIHRuKCEwKTtkZWZhdWx0OnJldHVybiB0LmVxdWFscyh0bihlKSl9fWZ1bmN0aW9uIGVpKHQpe2lmKHQgaW5zdGFuY2VvZiBCcCYmdC5kdXJhdGlvbj4wJiYyPT10LmtleWZyYW1lcy5sZW5ndGgpe3ZhciBlPW5pKHQua2V5ZnJhbWVzWzBdKVswXSxuPW5pKHQua2V5ZnJhbWVzWzFdKVswXTtyZXR1cm4gMD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmMD09PU9iamVjdC5rZXlzKG4pLmxlbmd0aH1yZXR1cm4hMX1mdW5jdGlvbiBuaSh0KXtyZXR1cm4gdC5zdHlsZXMuc3R5bGVzfWZ1bmN0aW9uIHJpKHQsZSxuLHIsaSl7dmFyIG89bmV3IGptKHQpO3IuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gby5hZGRPck1lcmdlU3VtbWFyeSh7c3ltYm9sOnQuc3ltYm9sLG1ldGFkYXRhOnQubWV0YWRhdGF9KX0pO2Zvcih2YXIgcz0wO3M8by5zeW1ib2xzLmxlbmd0aDtzKyspe3ZhciBhPW8uc3ltYm9sc1tzXTtpZighdC5pc1NvdXJjZUZpbGUoYS5maWxlUGF0aCkpe3ZhciB1PWUucmVzb2x2ZVN1bW1hcnkoYSk7aWYoIXUpe3ZhciBjPW4ucmVzb2x2ZVN5bWJvbChhKTtjJiYodT17c3ltYm9sOmMuc3ltYm9sLG1ldGFkYXRhOmMubWV0YWRhdGF9KX11JiZvLmFkZE9yTWVyZ2VTdW1tYXJ5KHUpfX1yZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKG8uYWRkT3JNZXJnZVN1bW1hcnkoe3N5bWJvbDpuLnR5cGUucmVmZXJlbmNlLG1ldGFkYXRhOntfX3N5bWJvbGljOlwiY2xhc3NcIn0sdHlwZTpufSksbi5zdW1tYXJ5S2luZD09PVNzLk5nTW9kdWxlKXt2YXIgcj1uO3IuZXhwb3J0ZWREaXJlY3RpdmVzLmNvbmNhdChyLmV4cG9ydGVkUGlwZXMpLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHI9bi5yZWZlcmVuY2U7dC5pc1NvdXJjZUZpbGUoci5maWxlUGF0aCl8fG8uYWRkT3JNZXJnZVN1bW1hcnkoZS5yZXNvbHZlU3VtbWFyeShyKSl9KX19KSxvLnNlcmlhbGl6ZSgpfWZ1bmN0aW9uIGlpKHQsZSl7dmFyIG49bmV3IFZtKHQpO3JldHVybiBuLmRlc2VyaWFsaXplKGUpfWZ1bmN0aW9uIG9pKHQpe3ZhciBlPXQucmVwbGFjZShEbSxcIlwiKTtyZXR1cm4gZStcIi5uZ3N1bW1hcnkuanNvblwifWZ1bmN0aW9uIHNpKHQsZSl7cmV0dXJuIGUuZGVwZW5kZW5jaWVzLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHF5KXt2YXIgbj1lO24ucGxhY2Vob2xkZXIucmVmZXJlbmNlPXQuZ2V0U3RhdGljU3ltYm9sKHVpKHcobi5jb21wKSksZS5uYW1lKX1lbHNlIGlmKGUgaW5zdGFuY2VvZiB6eSl7dmFyIHI9ZTtyLnBsYWNlaG9sZGVyLnJlZmVyZW5jZT10LmdldFN0YXRpY1N5bWJvbCh1aSh3KHIuY29tcCkpLGNpKHIuY29tcCkpfWVsc2UgaWYoZSBpbnN0YW5jZW9mIFd5KXt2YXIgaT1lO2kucGxhY2Vob2xkZXIucmVmZXJlbmNlPXQuZ2V0U3RhdGljU3ltYm9sKHVpKHcoaS5kaXIpKSxpLm5hbWUpfX0pLGUuc3RhdGVtZW50c31mdW5jdGlvbiBhaSh0LGUsbil7cmV0dXJuIGUuZGVwZW5kZW5jaWVzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS52YWx1ZVBsYWNlaG9sZGVyLnJlZmVyZW5jZT10LmdldFN0YXRpY1N5bWJvbChsaShlLm1vZHVsZVVybCxlLmlzU2hpbW1lZCxuKSxlLm5hbWUpfSksZS5zdGF0ZW1lbnRzfWZ1bmN0aW9uIHVpKHQpe3ZhciBlPWhpKHQpO3JldHVybiBlWzBdK1wiLm5nZmFjdG9yeVwiK2VbMV19ZnVuY3Rpb24gY2kodCl7cmV0dXJuIGIodCkrXCJOZ0ZhY3RvcnlcIn1mdW5jdGlvbiBsaSh0LGUsbil7cmV0dXJuXCJcIit0KyhlP1wiLnNoaW1cIjpcIlwiKStcIi5uZ3N0eWxlXCIrbn1mdW5jdGlvbiBwaSh0KXtpZighdC5pc0NvbXBvbmVudCl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgY29tcGlsZSAnXCIrYih0LnR5cGUpK1wiJyBiZWNhdXNlIGl0IGlzIG5vdCBhIGNvbXBvbmVudC5cIil9ZnVuY3Rpb24gaGkodCl7aWYodC5lbmRzV2l0aChcIi5kLnRzXCIpKXJldHVyblt0LnNsaWNlKDAsLTUpLFwiLnRzXCJdO3ZhciBlPXQubGFzdEluZGV4T2YoXCIuXCIpO3JldHVybiBlIT09LTE/W3Quc3Vic3RyaW5nKDAsZSksdC5zdWJzdHJpbmcoZSldOlt0LFwiXCJdfWZ1bmN0aW9uIGZpKHQsZSxuKXt2YXIgcj12aSh0LGUsbiksaT1yLm5nTW9kdWxlcyxvPXIuc3ltYm9sc01pc3NpbmdNb2R1bGU7cmV0dXJuIHlpKHQsaSxvLG4pfWZ1bmN0aW9uIGRpKHQsZSxuKXt2YXIgcj1maSh0LGUsbik7aWYoci5zeW1ib2xzTWlzc2luZ01vZHVsZSYmci5zeW1ib2xzTWlzc2luZ01vZHVsZS5sZW5ndGgpe3ZhciBpPXIuc3ltYm9sc01pc3NpbmdNb2R1bGUubWFwKGZ1bmN0aW9uKHQpe3JldHVyblwiQ2Fubm90IGRldGVybWluZSB0aGUgbW9kdWxlIGZvciBjbGFzcyBcIit0Lm5hbWUrXCIgaW4gXCIrdC5maWxlUGF0aCtcIiFcIn0pO3Rocm93IG5ldyBFcnJvcihpLmpvaW4oXCJcXG5cIikpfXJldHVybiByfWZ1bmN0aW9uIHlpKHQsZSxuLHIpe3ZhciBpPW5ldyBNYXA7ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBpLnNldCh0LnR5cGUucmVmZXJlbmNlLHQpfSk7dmFyIG89bmV3IE1hcCxzPW5ldyBNYXAsYT1uZXcgTWFwLHU9bmV3IE1hcCxjPW5ldyBNYXAsbD1uZXcgU2V0O3QuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT10LmZpbGVQYXRoO2wuYWRkKGUpLHIuaXNJbmplY3RhYmxlKHQpJiZjLnNldChlLChjLmdldChlKXx8W10pLmNvbmNhdCh0KSl9KSxlLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9dC50eXBlLnJlZmVyZW5jZS5maWxlUGF0aDtsLmFkZChlKSxzLnNldChlLChzLmdldChlKXx8W10pLmNvbmNhdCh0LnR5cGUucmVmZXJlbmNlKSksdC5kZWNsYXJlZERpcmVjdGl2ZXMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1lLnJlZmVyZW5jZS5maWxlUGF0aDtsLmFkZChuKSxhLnNldChuLChhLmdldChuKXx8W10pLmNvbmNhdChlLnJlZmVyZW5jZSkpLG8uc2V0KGUucmVmZXJlbmNlLHQpfSksdC5kZWNsYXJlZFBpcGVzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49ZS5yZWZlcmVuY2UuZmlsZVBhdGg7bC5hZGQobiksdS5zZXQobiwodS5nZXQobil8fFtdKS5jb25jYXQoZS5yZWZlcmVuY2UpKSxvLnNldChlLnJlZmVyZW5jZSx0KX0pfSk7dmFyIHA9W107cmV0dXJuIGwuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1hLmdldCh0KXx8W10sbj11LmdldCh0KXx8W10scj1zLmdldCh0KXx8W10saT1jLmdldCh0KXx8W107cC5wdXNoKHtzcmNVcmw6dCxkaXJlY3RpdmVzOmUscGlwZXM6bixuZ01vZHVsZXM6cixpbmplY3RhYmxlczppfSl9KSx7bmdNb2R1bGVCeVBpcGVPckRpcmVjdGl2ZTpvLGZpbGVzOnAsbmdNb2R1bGVzOmUsc3ltYm9sc01pc3NpbmdNb2R1bGU6bn19ZnVuY3Rpb24gbWkodCxlLG4pe3ZhciByPVtdO3JldHVybiBlLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gbi5pc1NvdXJjZUZpbGUodCl9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuZ2V0U3ltYm9sc09mKGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49dC5yZXNvbHZlU3ltYm9sKGUpLGk9bi5tZXRhZGF0YTtpJiZcImVycm9yXCIhPWkuX19zeW1ib2xpYyYmci5wdXNoKG4uc3ltYm9sKX0pfSkscn1mdW5jdGlvbiB2aSh0LGUsbil7dmFyIHI9bmV3IE1hcCxpPVtdLG89bmV3IFNldCxzPWZ1bmN0aW9uKHQpe2lmKHIuaGFzKHQpfHwhZS5pc1NvdXJjZUZpbGUodC5maWxlUGF0aCkpcmV0dXJuITE7dmFyIGk9bi5nZXROZ01vZHVsZU1ldGFkYXRhKHQsITEpO3JldHVybiBpJiYoci5zZXQoaS50eXBlLnJlZmVyZW5jZSxpKSxpLmRlY2xhcmVkRGlyZWN0aXZlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBvLmFkZCh0LnJlZmVyZW5jZSl9KSxpLmRlY2xhcmVkUGlwZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gby5hZGQodC5yZWZlcmVuY2UpfSksaS50cmFuc2l0aXZlTW9kdWxlLm1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gcyh0LnJlZmVyZW5jZSl9KSksISFpfTt0LmZvckVhY2goZnVuY3Rpb24odCl7cyh0KXx8IW4uaXNEaXJlY3RpdmUodCkmJiFuLmlzUGlwZSh0KXx8aS5wdXNoKHQpfSk7dmFyIGE9aS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIW8uaGFzKHQpfSk7cmV0dXJue25nTW9kdWxlczpBcnJheS5mcm9tKHIudmFsdWVzKCkpLHN5bWJvbHNNaXNzaW5nTW9kdWxlOmF9fWZ1bmN0aW9uIGdpKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0Lm5hbWUmJnQuZmlsZVBhdGh9ZnVuY3Rpb24gX2kodCl7c3dpdGNoKHQubWVzc2FnZSl7Y2FzZVwiUmVmZXJlbmNlIHRvIG5vbi1leHBvcnRlZCBjbGFzc1wiOmlmKHQuY29udGV4dCYmdC5jb250ZXh0LmNsYXNzTmFtZSlyZXR1cm5cIlJlZmVyZW5jZSB0byBhIG5vbi1leHBvcnRlZCBjbGFzcyBcIit0LmNvbnRleHQuY2xhc3NOYW1lK1wiLiBDb25zaWRlciBleHBvcnRpbmcgdGhlIGNsYXNzXCI7YnJlYWs7Y2FzZVwiVmFyaWFibGUgbm90IGluaXRpYWxpemVkXCI6cmV0dXJuXCJPbmx5IGluaXRpYWxpemVkIHZhcmlhYmxlcyBhbmQgY29uc3RhbnRzIGNhbiBiZSByZWZlcmVuY2VkIGJlY2F1c2UgdGhlIHZhbHVlIG9mIHRoaXMgdmFyaWFibGUgaXMgbmVlZGVkIGJ5IHRoZSB0ZW1wbGF0ZSBjb21waWxlclwiO2Nhc2VcIkRlc3RydWN0dXJpbmcgbm90IHN1cHBvcnRlZFwiOnJldHVyblwiUmVmZXJlbmNpbmcgYW4gZXhwb3J0ZWQgZGVzdHJ1Y3R1cmVkIHZhcmlhYmxlIG9yIGNvbnN0YW50IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIHRlbXBsYXRlIGNvbXBpbGVyLiBDb25zaWRlciBzaW1wbGlmeWluZyB0aGlzIHRvIGF2b2lkIGRlc3RydWN0dXJpbmdcIjtjYXNlXCJDb3VsZCBub3QgcmVzb2x2ZSB0eXBlXCI6aWYodC5jb250ZXh0JiZ0LmNvbnRleHQudHlwZU5hbWUpcmV0dXJuXCJDb3VsZCBub3QgcmVzb2x2ZSB0eXBlIFwiK3QuY29udGV4dC50eXBlTmFtZTticmVhaztjYXNlXCJGdW5jdGlvbiBjYWxsIG5vdCBzdXBwb3J0ZWRcIjp2YXIgZT10LmNvbnRleHQmJnQuY29udGV4dC5uYW1lP1wiQ2FsbGluZyBmdW5jdGlvbiAnXCIrdC5jb250ZXh0Lm5hbWUrXCInLCBmXCI6XCJGXCI7cmV0dXJuIGUrXCJ1bmN0aW9uIGNhbGxzIGFyZSBub3Qgc3VwcG9ydGVkLiBDb25zaWRlciByZXBsYWNpbmcgdGhlIGZ1bmN0aW9uIG9yIGxhbWJkYSB3aXRoIGEgcmVmZXJlbmNlIHRvIGFuIGV4cG9ydGVkIGZ1bmN0aW9uXCI7Y2FzZVwiUmVmZXJlbmNlIHRvIGEgbG9jYWwgc3ltYm9sXCI6aWYodC5jb250ZXh0JiZ0LmNvbnRleHQubmFtZSlyZXR1cm5cIlJlZmVyZW5jZSB0byBhIGxvY2FsIChub24tZXhwb3J0ZWQpIHN5bWJvbCAnXCIrdC5jb250ZXh0Lm5hbWUrXCInLiBDb25zaWRlciBleHBvcnRpbmcgdGhlIHN5bWJvbFwifXJldHVybiB0Lm1lc3NhZ2V9ZnVuY3Rpb24gYmkodCl7cmV0dXJuXCJFcnJvciBlbmNvdW50ZXJlZCByZXNvbHZpbmcgc3ltYm9sIHZhbHVlcyBzdGF0aWNhbGx5LiBcIitfaSh0KX1mdW5jdGlvbiB3aSh0LGUpe2lmKCF0KXJldHVybnt9O3ZhciBuPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBpPWUodFtyXSxyKTtFaShpKXx8KEJtLnRlc3Qocik/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4scix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsdmFsdWU6aX0pOm5bcl09aSl9KSxufWZ1bmN0aW9uIENpKHQpe3JldHVybiBudWxsPT09dHx8XCJmdW5jdGlvblwiIT10eXBlb2YgdCYmXCJvYmplY3RcIiE9dHlwZW9mIHR9ZnVuY3Rpb24gRWkodCl7cmV0dXJuIHQmJlwiaWdub3JlXCI9PXQuX19zeW1ib2xpY31mdW5jdGlvbiBTaSh0LGUsbixyKXt2YXIgaT1uZXcgRXJyb3IodCk7cmV0dXJuIGkuZmlsZU5hbWU9ZSxpLmxpbmU9bixpLmNvbHVtbj1yLGl9ZnVuY3Rpb24geGkodCxuKXt2YXIgcj1uLnRyYW5zbGF0aW9uc3x8XCJcIixpPWplKCksbz1uZXcgdG8scz1uZXcgWW0odCxvKSxhPW5ldyBRbSh0LG8scyksdT1uZXcgcW0oYSk7Rm0uaW5zdGFsbCh1KTt2YXIgYz1uZXcgZGwobmV3IHBsLHIsbi5pMThuRm9ybWF0KSxsPW5ldyBScCh7Z2VuRGVidWdJbmZvOm4uZGVidWc9PT0hMCxkZWZhdWx0RW5jYXBzdWxhdGlvbjplLlZpZXdFbmNhcHN1bGF0aW9uLkVtdWxhdGVkLGxvZ0JpbmRpbmdVcGRhdGU6ITEsdXNlSml0OiExfSkscD1uZXcgeWgoe2dldDpmdW5jdGlvbihlKXtyZXR1cm4gdC5sb2FkUmVzb3VyY2UoZSl9fSxpLGMsbCksaD1uZXcgd3UobmV3IGZ1KSxmPW5ldyBHZCxkPW5ldyBQbyx5PW5ldyB4cChoLGYsYyxkLFtdKSxtPW5ldyBmZChuZXcgbmQodSksbmV3IF9oKHUpLG5ldyBvZCh1KSxzLGYscCx1KSx2PW5ldyBMbSh0LG0seSxuZXcgVHkoaSksbmV3IGhtKGwsZiksbmV3IFlmKGwsaCxmLGQpLG5ldyB3ZCxuZXcgTmQodCkscyxuLmxvY2FsZSxuLmkxOG5Gb3JtYXQsbmV3IGloKGYpLGEpO3JldHVybntjb21waWxlcjp2LHJlZmxlY3Rvcjp1fX1mdW5jdGlvbiBQaSh0LGUpe3ZhciBuPXQuY29uY2F0KFtuZXcgZGYoR2UoZSkpXSksaT1uZXcgS20obnVsbCxudWxsLG51bGwsbmV3IE1hcCksbz1uZXcgSm0scz1vLnZpc2l0QWxsU3RhdGVtZW50cyhuLGkpO3JldHVybiByKHMpP3MudmFsdWU6bnVsbH1mdW5jdGlvbiBPaSh0LGUsbixpLG8pe2Zvcih2YXIgcz1pLmNyZWF0ZUNoaWxkV2lodExvY2FsVmFycygpLGE9MDthPHQubGVuZ3RoO2ErKylzLnZhcnMuc2V0KHRbYV0sZVthXSk7dmFyIHU9by52aXNpdEFsbFN0YXRlbWVudHMobixzKTtyZXR1cm4gcih1KT91LnZhbHVlOm51bGx9ZnVuY3Rpb24gVGkodCxlLG4pe3ZhciByPXt9O3QuZ2V0dGVycy5mb3JFYWNoKGZ1bmN0aW9uKGkpe3JbaS5uYW1lXT17Y29uZmlndXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3ZhciByPW5ldyBLbShlLHRoaXMsdC5uYW1lLGUudmFycyk7cmV0dXJuIE9pKFtdLFtdLGkuYm9keSxyLG4pfX19KSx0Lm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbihpKXt2YXIgbz1pLnBhcmFtcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pO3JbaS5uYW1lXT17d3JpdGFibGU6ITEsY29uZmlndXJhYmxlOiExLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciByPVtdLHM9MDtzPGFyZ3VtZW50cy5sZW5ndGg7cysrKXJbcy0wXT1hcmd1bWVudHNbc107dmFyIGE9bmV3IEttKGUsdGhpcyx0Lm5hbWUsZS52YXJzKTtyZXR1cm4gT2kobyxyLGkuYm9keSxhLG4pfX19KTt2YXIgaT10LmNvbnN0cnVjdG9yTWV0aG9kLnBhcmFtcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pLG89ZnVuY3Rpb24oKXtmb3IodmFyIHI9dGhpcyxvPVtdLHM9MDtzPGFyZ3VtZW50cy5sZW5ndGg7cysrKW9bcy0wXT1hcmd1bWVudHNbc107dmFyIGE9bmV3IEttKGUsdGhpcyx0Lm5hbWUsZS52YXJzKTt0LmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JbdC5uYW1lXT12b2lkIDB9KSxPaShpLG8sdC5jb25zdHJ1Y3Rvck1ldGhvZC5ib2R5LGEsbil9LHM9dC5wYXJlbnQ/dC5wYXJlbnQudmlzaXRFeHByZXNzaW9uKG4sZSk6T2JqZWN0O3JldHVybiBvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMucHJvdG90eXBlLHIpLG99ZnVuY3Rpb24gQWkodCxlLG4scil7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBpPVtdLG89MDtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKWlbby0wXT1hcmd1bWVudHNbb107cmV0dXJuIE9pKHQsaSxlLG4scil9fWZ1bmN0aW9uIE1pKHQsZSxuLHIpe3ZhciBpPW4rXCJcXG5yZXR1cm4gXCIrZStcIlxcbi8vIyBzb3VyY2VVUkw9XCIrdCxvPVtdLHM9W107Zm9yKHZhciBhIGluIHIpby5wdXNoKGEpLHMucHVzaChyW2FdKTtyZXR1cm4obmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkoRnVuY3Rpb24sW3ZvaWQgMF0uY29uY2F0KG8uY29uY2F0KGkpKSkpKS5hcHBseSh2b2lkIDAscyl9ZnVuY3Rpb24ga2kodCxlLG4pe3ZhciByPW5ldyBvdixpPU1kLmNyZWF0ZVJvb3QoW25dKTtyZXR1cm4gci52aXNpdEFsbFN0YXRlbWVudHMoZSxpKSxNaSh0LG4saS50b1NvdXJjZSgpLHIuZ2V0QXJncygpKX1mdW5jdGlvbiBSaSh0KXtpZighdC5pc0NvbXBvbmVudCl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgY29tcGlsZSAnXCIrYih0LnR5cGUpK1wiJyBiZWNhdXNlIGl0IGlzIG5vdCBhIGNvbXBvbmVudC5cIil9ZnVuY3Rpb24gSWkoKXtPby5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzPW5ldyBBb31mdW5jdGlvbiBOaSh0KXtyZXR1cm57dXNlRGVidWc6RGkodC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudXNlRGVidWd9KSksdXNlSml0OkRpKHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnVzZUppdH0pKSxkZWZhdWx0RW5jYXBzdWxhdGlvbjpEaSh0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5kZWZhdWx0RW5jYXBzdWxhdGlvbn0pKSxwcm92aWRlcnM6amkodC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucHJvdmlkZXJzfSkpfX1mdW5jdGlvbiBEaSh0KXtmb3IodmFyIGU9dC5sZW5ndGgtMTtlPj0wO2UtLSlpZih2b2lkIDAhPT10W2VdKXJldHVybiB0W2VdfWZ1bmN0aW9uIGppKHQpe3ZhciBlPVtdO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQmJmUucHVzaC5hcHBseShlLHQpfSksZX12YXIgVmk9bmV3IGUuVmVyc2lvbihcIjIuNC44XCIpLExpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy52YWx1ZT10LHRoaXMubmdDb250ZW50SW5kZXg9ZSx0aGlzLnNvdXJjZVNwYW49bn1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdFRleHQodGhpcyxlKX0sdH0oKSxGaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMudmFsdWU9dCx0aGlzLm5nQ29udGVudEluZGV4PWUsdGhpcy5zb3VyY2VTcGFuPW59cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRCb3VuZFRleHQodGhpcyxlKX0sdH0oKSxVaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMubmFtZT10LHRoaXMudmFsdWU9ZSx0aGlzLnNvdXJjZVNwYW49bn1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdEF0dHIodGhpcyxlKX0sdH0oKSxIaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8scyl7dGhpcy5uYW1lPXQsdGhpcy50eXBlPWUsdGhpcy5zZWN1cml0eUNvbnRleHQ9bix0aGlzLm5lZWRzUnVudGltZVNlY3VyaXR5Q29udGV4dD1yLHRoaXMudmFsdWU9aSx0aGlzLnVuaXQ9byx0aGlzLnNvdXJjZVNwYW49c31yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdEVsZW1lbnRQcm9wZXJ0eSh0aGlzLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc0FuaW1hdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlPT09WmkuQW5pbWF0aW9ufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHR9KCksQmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dGhpcy5uYW1lPXQsdGhpcy50YXJnZXQ9ZSx0aGlzLnBoYXNlPW4sdGhpcy5oYW5kbGVyPXIsdGhpcy5zb3VyY2VTcGFuPWl9cmV0dXJuIHQuY2FsY0Z1bGxOYW1lPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZT9lK1wiOlwiK3Q6bj9cIkBcIit0K1wiLlwiK246dH0sdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdEV2ZW50KHRoaXMsZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImZ1bGxOYW1lXCIse2dldDpmdW5jdGlvbigpe1xucmV0dXJuIHQuY2FsY0Z1bGxOYW1lKHRoaXMubmFtZSx0aGlzLnRhcmdldCx0aGlzLnBoYXNlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc0FuaW1hdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMucGhhc2V9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdH0oKSxxaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMubmFtZT10LHRoaXMudmFsdWU9ZSx0aGlzLnNvdXJjZVNwYW49bn1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdFJlZmVyZW5jZSh0aGlzLGUpfSx0fSgpLHppPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5uYW1lPXQsdGhpcy52YWx1ZT1lLHRoaXMuc291cmNlU3Bhbj1ufXJldHVybiB0LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0VmFyaWFibGUodGhpcyxlKX0sdH0oKSxXaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8scyxhLHUsYyxsLHApe3RoaXMubmFtZT10LHRoaXMuYXR0cnM9ZSx0aGlzLmlucHV0cz1uLHRoaXMub3V0cHV0cz1yLHRoaXMucmVmZXJlbmNlcz1pLHRoaXMuZGlyZWN0aXZlcz1vLHRoaXMucHJvdmlkZXJzPXMsdGhpcy5oYXNWaWV3Q29udGFpbmVyPWEsdGhpcy5jaGlsZHJlbj11LHRoaXMubmdDb250ZW50SW5kZXg9Yyx0aGlzLnNvdXJjZVNwYW49bCx0aGlzLmVuZFNvdXJjZVNwYW49cH1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdEVsZW1lbnQodGhpcyxlKX0sdH0oKSxHaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8scyxhLHUsYyl7dGhpcy5hdHRycz10LHRoaXMub3V0cHV0cz1lLHRoaXMucmVmZXJlbmNlcz1uLHRoaXMudmFyaWFibGVzPXIsdGhpcy5kaXJlY3RpdmVzPWksdGhpcy5wcm92aWRlcnM9byx0aGlzLmhhc1ZpZXdDb250YWluZXI9cyx0aGlzLmNoaWxkcmVuPWEsdGhpcy5uZ0NvbnRlbnRJbmRleD11LHRoaXMuc291cmNlU3Bhbj1jfXJldHVybiB0LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0RW1iZWRkZWRUZW1wbGF0ZSh0aGlzLGUpfSx0fSgpLFhpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLmRpcmVjdGl2ZU5hbWU9dCx0aGlzLnRlbXBsYXRlTmFtZT1lLHRoaXMudmFsdWU9bix0aGlzLnNvdXJjZVNwYW49cn1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdERpcmVjdGl2ZVByb3BlcnR5KHRoaXMsZSl9LHR9KCksJGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dGhpcy5kaXJlY3RpdmU9dCx0aGlzLmlucHV0cz1lLHRoaXMuaG9zdFByb3BlcnRpZXM9bix0aGlzLmhvc3RFdmVudHM9cix0aGlzLnNvdXJjZVNwYW49aX1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdERpcmVjdGl2ZSh0aGlzLGUpfSx0fSgpLFFpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxzKXt0aGlzLnRva2VuPXQsdGhpcy5tdWx0aVByb3ZpZGVyPWUsdGhpcy5lYWdlcj1uLHRoaXMucHJvdmlkZXJzPXIsdGhpcy5wcm92aWRlclR5cGU9aSx0aGlzLmxpZmVjeWNsZUhvb2tzPW8sdGhpcy5zb3VyY2VTcGFuPXN9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGx9LHR9KCksWWk9e307WWkuUHVibGljU2VydmljZT0wLFlpLlByaXZhdGVTZXJ2aWNlPTEsWWkuQ29tcG9uZW50PTIsWWkuRGlyZWN0aXZlPTMsWWkuQnVpbHRpbj00LFlpW1lpLlB1YmxpY1NlcnZpY2VdPVwiUHVibGljU2VydmljZVwiLFlpW1lpLlByaXZhdGVTZXJ2aWNlXT1cIlByaXZhdGVTZXJ2aWNlXCIsWWlbWWkuQ29tcG9uZW50XT1cIkNvbXBvbmVudFwiLFlpW1lpLkRpcmVjdGl2ZV09XCJEaXJlY3RpdmVcIixZaVtZaS5CdWlsdGluXT1cIkJ1aWx0aW5cIjt2YXIgS2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLmluZGV4PXQsdGhpcy5uZ0NvbnRlbnRJbmRleD1lLHRoaXMuc291cmNlU3Bhbj1ufXJldHVybiB0LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0TmdDb250ZW50KHRoaXMsZSl9LHR9KCksWmk9e307WmkuUHJvcGVydHk9MCxaaS5BdHRyaWJ1dGU9MSxaaS5DbGFzcz0yLFppLlN0eWxlPTMsWmkuQW5pbWF0aW9uPTQsWmlbWmkuUHJvcGVydHldPVwiUHJvcGVydHlcIixaaVtaaS5BdHRyaWJ1dGVdPVwiQXR0cmlidXRlXCIsWmlbWmkuQ2xhc3NdPVwiQ2xhc3NcIixaaVtaaS5TdHlsZV09XCJTdHlsZVwiLFppW1ppLkFuaW1hdGlvbl09XCJBbmltYXRpb25cIjt2YXIgSmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLmZpbGVQYXRoPXQsdGhpcy5uYW1lPWUsdGhpcy5tZW1iZXJzPW59cmV0dXJuIHR9KCksdG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5jYWNoZT1uZXcgTWFwfXJldHVybiB0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlLG4pe249bnx8W107dmFyIHI9bi5sZW5ndGg/XCIuXCIrbi5qb2luKFwiLlwiKTpcIlwiLGk9J1wiJyt0KydcIi4nK2UrcixvPXRoaXMuY2FjaGUuZ2V0KGkpO3JldHVybiBvfHwobz1uZXcgSmkodCxlLG4pLHRoaXMuY2FjaGUuc2V0KGksbykpLG99LHR9KCksZW89T2JqZWN0LmdldFByb3RvdHlwZU9mKHt9KSxubz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucGFyc2VJbnRBdXRvUmFkaXg9ZnVuY3Rpb24odCl7dmFyIGU9cGFyc2VJbnQodCk7aWYoaXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnRlZ2VyIGxpdGVyYWwgd2hlbiBwYXJzaW5nIFwiK3QpO3JldHVybiBlfSx0LmlzTnVtZXJpYz1mdW5jdGlvbih0KXtyZXR1cm4haXNOYU4odC1wYXJzZUZsb2F0KHQpKX0sdH0oKSxybz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQubWVyZ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49e30scj0wLGk9T2JqZWN0LmtleXModCk7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07bltvXT10W29dfWZvcih2YXIgcz0wLGE9T2JqZWN0LmtleXMoZSk7czxhLmxlbmd0aDtzKyspe3ZhciBvPWFbc107bltvXT1lW29dfXJldHVybiBufSx0LmVxdWFscz1mdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpLHI9T2JqZWN0LmtleXMoZSk7aWYobi5sZW5ndGghPXIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgbz1uW2ldO2lmKHRbb10hPT1lW29dKXJldHVybiExfXJldHVybiEwfSx0fSgpLGlvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5maW5kTGFzdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aC0xO24+PTA7bi0tKWlmKGUodFtuXSkpcmV0dXJuIHRbbl07cmV0dXJuIG51bGx9LHQucmVtb3ZlQWxsPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciByPXQuaW5kZXhPZihlW25dKTtyPi0xJiZ0LnNwbGljZShyLDEpfX0sdC5yZW1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmluZGV4T2YoZSk7cmV0dXJuIG4+LTEmJih0LnNwbGljZShuLDEpLCEwKX0sdC5lcXVhbHM9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9LHQuZmxhdHRlbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSxuKXt2YXIgcj1BcnJheS5pc0FycmF5KG4pP3QuZmxhdHRlbihuKTpuO3JldHVybiBlLmNvbmNhdChyKX0sW10pfSx0fSgpLG9vPWUuX19jb3JlX3ByaXZhdGVfXy5pc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxzbz1lLl9fY29yZV9wcml2YXRlX18uQ2hhbmdlRGV0ZWN0b3JTdGF0dXMsYW89ZS5fX2NvcmVfcHJpdmF0ZV9fLkxpZmVjeWNsZUhvb2tzLHVvPWUuX19jb3JlX3ByaXZhdGVfXy5MSUZFQ1lDTEVfSE9PS1NfVkFMVUVTLGNvPWUuX19jb3JlX3ByaXZhdGVfXy5SZWZsZWN0b3JSZWFkZXIsbG89ZS5fX2NvcmVfcHJpdmF0ZV9fLlZpZXdDb250YWluZXIscG89ZS5fX2NvcmVfcHJpdmF0ZV9fLkNvZGVnZW5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsaG89ZS5fX2NvcmVfcHJpdmF0ZV9fLkNvbXBvbmVudFJlZl8sZm89ZS5fX2NvcmVfcHJpdmF0ZV9fLkFwcFZpZXcseW89ZS5fX2NvcmVfcHJpdmF0ZV9fLkRlYnVnQXBwVmlldyxtbz1lLl9fY29yZV9wcml2YXRlX18uTmdNb2R1bGVJbmplY3Rvcix2bz1lLl9fY29yZV9wcml2YXRlX18ucmVnaXN0ZXJNb2R1bGVGYWN0b3J5LGdvPWUuX19jb3JlX3ByaXZhdGVfXy5WaWV3VHlwZSxfbz1lLl9fY29yZV9wcml2YXRlX18udmlld191dGlscyxibz1lLl9fY29yZV9wcml2YXRlX18uRGVidWdDb250ZXh0LHdvPWUuX19jb3JlX3ByaXZhdGVfXy5TdGF0aWNOb2RlRGVidWdJbmZvLENvPWUuX19jb3JlX3ByaXZhdGVfXy5kZXZNb2RlRXF1YWwsRW89ZS5fX2NvcmVfcHJpdmF0ZV9fLlVOSU5JVElBTElaRUQsU289ZS5fX2NvcmVfcHJpdmF0ZV9fLlZhbHVlVW53cmFwcGVyLHhvPWUuX19jb3JlX3ByaXZhdGVfXy5UZW1wbGF0ZVJlZl8sUG89ZS5fX2NvcmVfcHJpdmF0ZV9fLkNvbnNvbGUsT289ZS5fX2NvcmVfcHJpdmF0ZV9fLnJlZmxlY3RvcixUbz1lLl9fY29yZV9wcml2YXRlX18uUmVmbGVjdG9yLEFvPWUuX19jb3JlX3ByaXZhdGVfXy5SZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLE1vPWUuX19jb3JlX3ByaXZhdGVfXy5Ob09wQW5pbWF0aW9uUGxheWVyLGtvPWUuX19jb3JlX3ByaXZhdGVfXy5BbmltYXRpb25TZXF1ZW5jZVBsYXllcixSbz1lLl9fY29yZV9wcml2YXRlX18uQW5pbWF0aW9uR3JvdXBQbGF5ZXIsSW89ZS5fX2NvcmVfcHJpdmF0ZV9fLkFuaW1hdGlvbktleWZyYW1lLE5vPWUuX19jb3JlX3ByaXZhdGVfXy5BbmltYXRpb25TdHlsZXMsRG89ZS5fX2NvcmVfcHJpdmF0ZV9fLkFOWV9TVEFURSxqbz1lLl9fY29yZV9wcml2YXRlX18uREVGQVVMVF9TVEFURSxWbz1lLl9fY29yZV9wcml2YXRlX18uRU1QVFlfU1RBVEUsTG89ZS5fX2NvcmVfcHJpdmF0ZV9fLkZJTExfU1RZTEVfRkxBRyxGbz1lLl9fY29yZV9wcml2YXRlX18ucHJlcGFyZUZpbmFsQW5pbWF0aW9uU3R5bGVzLFVvPWUuX19jb3JlX3ByaXZhdGVfXy5iYWxhbmNlQW5pbWF0aW9uS2V5ZnJhbWVzLEhvPWUuX19jb3JlX3ByaXZhdGVfXy5jbGVhclN0eWxlcyxCbz1lLl9fY29yZV9wcml2YXRlX18uY29sbGVjdEFuZFJlc29sdmVTdHlsZXMscW89ZS5fX2NvcmVfcHJpdmF0ZV9fLnJlbmRlclN0eWxlcyx6bz1lLl9fY29yZV9wcml2YXRlX18uQ29tcG9uZW50U3RpbGxMb2FkaW5nRXJyb3IsV289ZS5fX2NvcmVfcHJpdmF0ZV9fLkFuaW1hdGlvblRyYW5zaXRpb24sR289e307R28uUkFXX1RFWFQ9MCxHby5FU0NBUEFCTEVfUkFXX1RFWFQ9MSxHby5QQVJTQUJMRV9EQVRBPTIsR29bR28uUkFXX1RFWFRdPVwiUkFXX1RFWFRcIixHb1tHby5FU0NBUEFCTEVfUkFXX1RFWFRdPVwiRVNDQVBBQkxFX1JBV19URVhUXCIsR29bR28uUEFSU0FCTEVfREFUQV09XCJQQVJTQUJMRV9EQVRBXCI7dmFyIFhvPXtBYWN1dGU6XCLDgVwiLGFhY3V0ZTpcIsOhXCIsQWNpcmM6XCLDglwiLGFjaXJjOlwiw6JcIixhY3V0ZTpcIsK0XCIsQUVsaWc6XCLDhlwiLGFlbGlnOlwiw6ZcIixBZ3JhdmU6XCLDgFwiLGFncmF2ZTpcIsOgXCIsYWxlZnN5bTpcIuKEtVwiLEFscGhhOlwizpFcIixhbHBoYTpcIs6xXCIsYW1wOlwiJlwiLGFuZDpcIuKIp1wiLGFuZzpcIuKIoFwiLGFwb3M6XCInXCIsQXJpbmc6XCLDhVwiLGFyaW5nOlwiw6VcIixhc3ltcDpcIuKJiFwiLEF0aWxkZTpcIsODXCIsYXRpbGRlOlwiw6NcIixBdW1sOlwiw4RcIixhdW1sOlwiw6RcIixiZHF1bzpcIuKAnlwiLEJldGE6XCLOklwiLGJldGE6XCLOslwiLGJydmJhcjpcIsKmXCIsYnVsbDpcIuKAolwiLGNhcDpcIuKIqVwiLENjZWRpbDpcIsOHXCIsY2NlZGlsOlwiw6dcIixjZWRpbDpcIsK4XCIsY2VudDpcIsKiXCIsQ2hpOlwizqdcIixjaGk6XCLPh1wiLGNpcmM6XCLLhlwiLGNsdWJzOlwi4pmjXCIsY29uZzpcIuKJhVwiLGNvcHk6XCLCqVwiLGNyYXJyOlwi4oa1XCIsY3VwOlwi4oiqXCIsY3VycmVuOlwiwqRcIixkYWdnZXI6XCLigKBcIixEYWdnZXI6XCLigKFcIixkYXJyOlwi4oaTXCIsZEFycjpcIuKHk1wiLGRlZzpcIsKwXCIsRGVsdGE6XCLOlFwiLGRlbHRhOlwizrRcIixkaWFtczpcIuKZplwiLGRpdmlkZTpcIsO3XCIsRWFjdXRlOlwiw4lcIixlYWN1dGU6XCLDqVwiLEVjaXJjOlwiw4pcIixlY2lyYzpcIsOqXCIsRWdyYXZlOlwiw4hcIixlZ3JhdmU6XCLDqFwiLGVtcHR5Olwi4oiFXCIsZW1zcDpcIuKAg1wiLGVuc3A6XCLigIJcIixFcHNpbG9uOlwizpVcIixlcHNpbG9uOlwizrVcIixlcXVpdjpcIuKJoVwiLEV0YTpcIs6XXCIsZXRhOlwizrdcIixFVEg6XCLDkFwiLGV0aDpcIsOwXCIsRXVtbDpcIsOLXCIsZXVtbDpcIsOrXCIsZXVybzpcIuKCrFwiLGV4aXN0Olwi4oiDXCIsZm5vZjpcIsaSXCIsZm9yYWxsOlwi4oiAXCIsZnJhYzEyOlwiwr1cIixmcmFjMTQ6XCLCvFwiLGZyYWMzNDpcIsK+XCIsZnJhc2w6XCLigYRcIixHYW1tYTpcIs6TXCIsZ2FtbWE6XCLOs1wiLGdlOlwi4omlXCIsZ3Q6XCI+XCIsaGFycjpcIuKGlFwiLGhBcnI6XCLih5RcIixoZWFydHM6XCLimaVcIixoZWxsaXA6XCLigKZcIixJYWN1dGU6XCLDjVwiLGlhY3V0ZTpcIsOtXCIsSWNpcmM6XCLDjlwiLGljaXJjOlwiw65cIixpZXhjbDpcIsKhXCIsSWdyYXZlOlwiw4xcIixpZ3JhdmU6XCLDrFwiLGltYWdlOlwi4oSRXCIsaW5maW46XCLiiJ5cIixpbnQ6XCLiiKtcIixJb3RhOlwizplcIixpb3RhOlwizrlcIixpcXVlc3Q6XCLCv1wiLGlzaW46XCLiiIhcIixJdW1sOlwiw49cIixpdW1sOlwiw69cIixLYXBwYTpcIs6aXCIsa2FwcGE6XCLOulwiLExhbWJkYTpcIs6bXCIsbGFtYmRhOlwizrtcIixsYW5nOlwi4p+oXCIsbGFxdW86XCLCq1wiLGxhcnI6XCLihpBcIixsQXJyOlwi4oeQXCIsbGNlaWw6XCLijIhcIixsZHF1bzpcIuKAnFwiLGxlOlwi4omkXCIsbGZsb29yOlwi4oyKXCIsbG93YXN0Olwi4oiXXCIsbG96Olwi4peKXCIsbHJtOlwi4oCOXCIsbHNhcXVvOlwi4oC5XCIsbHNxdW86XCLigJhcIixsdDpcIjxcIixtYWNyOlwiwq9cIixtZGFzaDpcIuKAlFwiLG1pY3JvOlwiwrVcIixtaWRkb3Q6XCLCt1wiLG1pbnVzOlwi4oiSXCIsTXU6XCLOnFwiLG11OlwizrxcIixuYWJsYTpcIuKIh1wiLG5ic3A6XCLCoFwiLG5kYXNoOlwi4oCTXCIsbmU6XCLiiaBcIixuaTpcIuKIi1wiLG5vdDpcIsKsXCIsbm90aW46XCLiiIlcIixuc3ViOlwi4oqEXCIsTnRpbGRlOlwiw5FcIixudGlsZGU6XCLDsVwiLE51Olwizp1cIixudTpcIs69XCIsT2FjdXRlOlwiw5NcIixvYWN1dGU6XCLDs1wiLE9jaXJjOlwiw5RcIixvY2lyYzpcIsO0XCIsT0VsaWc6XCLFklwiLG9lbGlnOlwixZNcIixPZ3JhdmU6XCLDklwiLG9ncmF2ZTpcIsOyXCIsb2xpbmU6XCLigL5cIixPbWVnYTpcIs6pXCIsb21lZ2E6XCLPiVwiLE9taWNyb246XCLOn1wiLG9taWNyb246XCLOv1wiLG9wbHVzOlwi4oqVXCIsb3I6XCLiiKhcIixvcmRmOlwiwqpcIixvcmRtOlwiwrpcIixPc2xhc2g6XCLDmFwiLG9zbGFzaDpcIsO4XCIsT3RpbGRlOlwiw5VcIixvdGlsZGU6XCLDtVwiLG90aW1lczpcIuKKl1wiLE91bWw6XCLDllwiLG91bWw6XCLDtlwiLHBhcmE6XCLCtlwiLHBlcm1pbDpcIuKAsFwiLHBlcnA6XCLiiqVcIixQaGk6XCLOplwiLHBoaTpcIs+GXCIsUGk6XCLOoFwiLHBpOlwiz4BcIixwaXY6XCLPllwiLHBsdXNtbjpcIsKxXCIscG91bmQ6XCLCo1wiLHByaW1lOlwi4oCyXCIsUHJpbWU6XCLigLNcIixwcm9kOlwi4oiPXCIscHJvcDpcIuKInVwiLFBzaTpcIs6oXCIscHNpOlwiz4hcIixxdW90OidcIicscmFkaWM6XCLiiJpcIixyYW5nOlwi4p+pXCIscmFxdW86XCLCu1wiLHJhcnI6XCLihpJcIixyQXJyOlwi4oeSXCIscmNlaWw6XCLijIlcIixyZHF1bzpcIuKAnVwiLHJlYWw6XCLihJxcIixyZWc6XCLCrlwiLHJmbG9vcjpcIuKMi1wiLFJobzpcIs6hXCIscmhvOlwiz4FcIixybG06XCLigI9cIixyc2FxdW86XCLigLpcIixyc3F1bzpcIuKAmVwiLHNicXVvOlwi4oCaXCIsU2Nhcm9uOlwixaBcIixzY2Fyb246XCLFoVwiLHNkb3Q6XCLii4VcIixzZWN0OlwiwqdcIixzaHk6XCLCrVwiLFNpZ21hOlwizqNcIixzaWdtYTpcIs+DXCIsc2lnbWFmOlwiz4JcIixzaW06XCLiiLxcIixzcGFkZXM6XCLimaBcIixzdWI6XCLiioJcIixzdWJlOlwi4oqGXCIsc3VtOlwi4oiRXCIsc3VwOlwi4oqDXCIsc3VwMTpcIsK5XCIsc3VwMjpcIsKyXCIsc3VwMzpcIsKzXCIsc3VwZTpcIuKKh1wiLHN6bGlnOlwiw59cIixUYXU6XCLOpFwiLHRhdTpcIs+EXCIsdGhlcmU0Olwi4oi0XCIsVGhldGE6XCLOmFwiLHRoZXRhOlwizrhcIix0aGV0YXN5bTpcIs+RXCIsdGhpbnNwOlwi4oCJXCIsVEhPUk46XCLDnlwiLHRob3JuOlwiw75cIix0aWxkZTpcIsucXCIsdGltZXM6XCLDl1wiLHRyYWRlOlwi4oSiXCIsVWFjdXRlOlwiw5pcIix1YWN1dGU6XCLDulwiLHVhcnI6XCLihpFcIix1QXJyOlwi4oeRXCIsVWNpcmM6XCLDm1wiLHVjaXJjOlwiw7tcIixVZ3JhdmU6XCLDmVwiLHVncmF2ZTpcIsO5XCIsdW1sOlwiwqhcIix1cHNpaDpcIs+SXCIsVXBzaWxvbjpcIs6lXCIsdXBzaWxvbjpcIs+FXCIsVXVtbDpcIsOcXCIsdXVtbDpcIsO8XCIsd2VpZXJwOlwi4oSYXCIsWGk6XCLOnlwiLHhpOlwizr5cIixZYWN1dGU6XCLDnVwiLHlhY3V0ZTpcIsO9XCIseWVuOlwiwqVcIix5dW1sOlwiw79cIixZdW1sOlwixbhcIixaZXRhOlwizpZcIix6ZXRhOlwizrZcIix6d2o6XCLigI1cIix6d25qOlwi4oCMXCJ9LCRvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10aGlzLG49dm9pZCAwPT09dD97fTp0LHI9bi5jbG9zZWRCeUNoaWxkcmVuLGk9bi5yZXF1aXJlZFBhcmVudHMsbz1uLmltcGxpY2l0TmFtZXNwYWNlUHJlZml4LHM9bi5jb250ZW50VHlwZSxhPXZvaWQgMD09PXM/R28uUEFSU0FCTEVfREFUQTpzLHU9bi5jbG9zZWRCeVBhcmVudCxjPXZvaWQgMCE9PXUmJnUsbD1uLmlzVm9pZCxwPXZvaWQgMCE9PWwmJmwsaD1uLmlnbm9yZUZpcnN0TGYsZj12b2lkIDAhPT1oJiZoO3RoaXMuY2xvc2VkQnlDaGlsZHJlbj17fSx0aGlzLmNsb3NlZEJ5UGFyZW50PSExLHRoaXMuY2FuU2VsZkNsb3NlPSExLHImJnIubGVuZ3RoPjAmJnIuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5jbG9zZWRCeUNoaWxkcmVuW3RdPSEwfSksdGhpcy5pc1ZvaWQ9cCx0aGlzLmNsb3NlZEJ5UGFyZW50PWN8fHAsaSYmaS5sZW5ndGg+MCYmKHRoaXMucmVxdWlyZWRQYXJlbnRzPXt9LHRoaXMucGFyZW50VG9BZGQ9aVswXSxpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUucmVxdWlyZWRQYXJlbnRzW3RdPSEwfSkpLHRoaXMuaW1wbGljaXROYW1lc3BhY2VQcmVmaXg9byx0aGlzLmNvbnRlbnRUeXBlPWEsdGhpcy5pZ25vcmVGaXJzdExmPWZ9cmV0dXJuIHQucHJvdG90eXBlLnJlcXVpcmVFeHRyYVBhcmVudD1mdW5jdGlvbih0KXtpZighdGhpcy5yZXF1aXJlZFBhcmVudHMpcmV0dXJuITE7aWYoIXQpcmV0dXJuITA7dmFyIGU9dC50b0xvd2VyQ2FzZSgpO3JldHVybiAxIT10aGlzLnJlcXVpcmVkUGFyZW50c1tlXSYmXCJ0ZW1wbGF0ZVwiIT1lfSx0LnByb3RvdHlwZS5pc0Nsb3NlZEJ5Q2hpbGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNWb2lkfHx0LnRvTG93ZXJDYXNlKClpbiB0aGlzLmNsb3NlZEJ5Q2hpbGRyZW59LHR9KCksUW89e2Jhc2U6bmV3ICRvKHtpc1ZvaWQ6ITB9KSxtZXRhOm5ldyAkbyh7aXNWb2lkOiEwfSksYXJlYTpuZXcgJG8oe2lzVm9pZDohMH0pLGVtYmVkOm5ldyAkbyh7aXNWb2lkOiEwfSksbGluazpuZXcgJG8oe2lzVm9pZDohMH0pLGltZzpuZXcgJG8oe2lzVm9pZDohMH0pLGlucHV0Om5ldyAkbyh7aXNWb2lkOiEwfSkscGFyYW06bmV3ICRvKHtpc1ZvaWQ6ITB9KSxocjpuZXcgJG8oe2lzVm9pZDohMH0pLGJyOm5ldyAkbyh7aXNWb2lkOiEwfSksc291cmNlOm5ldyAkbyh7aXNWb2lkOiEwfSksdHJhY2s6bmV3ICRvKHtpc1ZvaWQ6ITB9KSx3YnI6bmV3ICRvKHtpc1ZvaWQ6ITB9KSxwOm5ldyAkbyh7Y2xvc2VkQnlDaGlsZHJlbjpbXCJhZGRyZXNzXCIsXCJhcnRpY2xlXCIsXCJhc2lkZVwiLFwiYmxvY2txdW90ZVwiLFwiZGl2XCIsXCJkbFwiLFwiZmllbGRzZXRcIixcImZvb3RlclwiLFwiZm9ybVwiLFwiaDFcIixcImgyXCIsXCJoM1wiLFwiaDRcIixcImg1XCIsXCJoNlwiLFwiaGVhZGVyXCIsXCJoZ3JvdXBcIixcImhyXCIsXCJtYWluXCIsXCJuYXZcIixcIm9sXCIsXCJwXCIsXCJwcmVcIixcInNlY3Rpb25cIixcInRhYmxlXCIsXCJ1bFwiXSxjbG9zZWRCeVBhcmVudDohMH0pLHRoZWFkOm5ldyAkbyh7Y2xvc2VkQnlDaGlsZHJlbjpbXCJ0Ym9keVwiLFwidGZvb3RcIl19KSx0Ym9keTpuZXcgJG8oe2Nsb3NlZEJ5Q2hpbGRyZW46W1widGJvZHlcIixcInRmb290XCJdLGNsb3NlZEJ5UGFyZW50OiEwfSksdGZvb3Q6bmV3ICRvKHtjbG9zZWRCeUNoaWxkcmVuOltcInRib2R5XCJdLGNsb3NlZEJ5UGFyZW50OiEwfSksdHI6bmV3ICRvKHtjbG9zZWRCeUNoaWxkcmVuOltcInRyXCJdLHJlcXVpcmVkUGFyZW50czpbXCJ0Ym9keVwiLFwidGZvb3RcIixcInRoZWFkXCJdLGNsb3NlZEJ5UGFyZW50OiEwfSksdGQ6bmV3ICRvKHtjbG9zZWRCeUNoaWxkcmVuOltcInRkXCIsXCJ0aFwiXSxjbG9zZWRCeVBhcmVudDohMH0pLHRoOm5ldyAkbyh7Y2xvc2VkQnlDaGlsZHJlbjpbXCJ0ZFwiLFwidGhcIl0sY2xvc2VkQnlQYXJlbnQ6ITB9KSxjb2w6bmV3ICRvKHtyZXF1aXJlZFBhcmVudHM6W1wiY29sZ3JvdXBcIl0saXNWb2lkOiEwfSksc3ZnOm5ldyAkbyh7aW1wbGljaXROYW1lc3BhY2VQcmVmaXg6XCJzdmdcIn0pLG1hdGg6bmV3ICRvKHtpbXBsaWNpdE5hbWVzcGFjZVByZWZpeDpcIm1hdGhcIn0pLGxpOm5ldyAkbyh7Y2xvc2VkQnlDaGlsZHJlbjpbXCJsaVwiXSxjbG9zZWRCeVBhcmVudDohMH0pLGR0Om5ldyAkbyh7Y2xvc2VkQnlDaGlsZHJlbjpbXCJkdFwiLFwiZGRcIl19KSxkZDpuZXcgJG8oe2Nsb3NlZEJ5Q2hpbGRyZW46W1wiZHRcIixcImRkXCJdLGNsb3NlZEJ5UGFyZW50OiEwfSkscmI6bmV3ICRvKHtjbG9zZWRCeUNoaWxkcmVuOltcInJiXCIsXCJydFwiLFwicnRjXCIsXCJycFwiXSxjbG9zZWRCeVBhcmVudDohMH0pLHJ0Om5ldyAkbyh7Y2xvc2VkQnlDaGlsZHJlbjpbXCJyYlwiLFwicnRcIixcInJ0Y1wiLFwicnBcIl0sY2xvc2VkQnlQYXJlbnQ6ITB9KSxydGM6bmV3ICRvKHtjbG9zZWRCeUNoaWxkcmVuOltcInJiXCIsXCJydGNcIixcInJwXCJdLGNsb3NlZEJ5UGFyZW50OiEwfSkscnA6bmV3ICRvKHtjbG9zZWRCeUNoaWxkcmVuOltcInJiXCIsXCJydFwiLFwicnRjXCIsXCJycFwiXSxjbG9zZWRCeVBhcmVudDohMH0pLG9wdGdyb3VwOm5ldyAkbyh7Y2xvc2VkQnlDaGlsZHJlbjpbXCJvcHRncm91cFwiXSxjbG9zZWRCeVBhcmVudDohMH0pLG9wdGlvbjpuZXcgJG8oe2Nsb3NlZEJ5Q2hpbGRyZW46W1wib3B0aW9uXCIsXCJvcHRncm91cFwiXSxjbG9zZWRCeVBhcmVudDohMH0pLHByZTpuZXcgJG8oe2lnbm9yZUZpcnN0TGY6ITB9KSxsaXN0aW5nOm5ldyAkbyh7aWdub3JlRmlyc3RMZjohMH0pLHN0eWxlOm5ldyAkbyh7Y29udGVudFR5cGU6R28uUkFXX1RFWFR9KSxzY3JpcHQ6bmV3ICRvKHtjb250ZW50VHlwZTpHby5SQVdfVEVYVH0pLHRpdGxlOm5ldyAkbyh7Y29udGVudFR5cGU6R28uRVNDQVBBQkxFX1JBV19URVhUfSksdGV4dGFyZWE6bmV3ICRvKHtjb250ZW50VHlwZTpHby5FU0NBUEFCTEVfUkFXX1RFWFQsaWdub3JlRmlyc3RMZjohMH0pfSxZbz1uZXcgJG8sS289bmV3IFJlZ0V4cChcIihcXFxcOm5vdFxcXFwoKXwoWy1cXFxcd10rKXwoPzpcXFxcLihbLVxcXFx3XSspKXwoPzpcXFxcWyhbLS5cXFxcdypdKykoPzo9KFteXFxcXF1dKikpP1xcXFxdKXwoXFxcXCkpfChcXFxccyosXFxcXHMqKVwiLFwiZ1wiKSxabz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmVsZW1lbnQ9bnVsbCx0aGlzLmNsYXNzTmFtZXM9W10sdGhpcy5hdHRycz1bXSx0aGlzLm5vdFNlbGVjdG9ycz1bXX1yZXR1cm4gdC5wYXJzZT1mdW5jdGlvbihlKXt2YXIgbixyPVtdLGk9ZnVuY3Rpb24odCxlKXtlLm5vdFNlbGVjdG9ycy5sZW5ndGg+MCYmIWUuZWxlbWVudCYmMD09ZS5jbGFzc05hbWVzLmxlbmd0aCYmMD09ZS5hdHRycy5sZW5ndGgmJihlLmVsZW1lbnQ9XCIqXCIpLHQucHVzaChlKX0sbz1uZXcgdCxzPW8sYT0hMTtmb3IoS28ubGFzdEluZGV4PTA7bj1Lby5leGVjKGUpOyl7aWYoblsxXSl7aWYoYSl0aHJvdyBuZXcgRXJyb3IoXCJOZXN0aW5nIDpub3QgaXMgbm90IGFsbG93ZWQgaW4gYSBzZWxlY3RvclwiKTthPSEwLHM9bmV3IHQsby5ub3RTZWxlY3RvcnMucHVzaChzKX1pZihuWzJdJiZzLnNldEVsZW1lbnQoblsyXSksblszXSYmcy5hZGRDbGFzc05hbWUoblszXSksbls0XSYmcy5hZGRBdHRyaWJ1dGUobls0XSxuWzVdKSxuWzZdJiYoYT0hMSxzPW8pLG5bN10pe2lmKGEpdGhyb3cgbmV3IEVycm9yKFwiTXVsdGlwbGUgc2VsZWN0b3JzIGluIDpub3QgYXJlIG5vdCBzdXBwb3J0ZWRcIik7aShyLG8pLG89cz1uZXcgdH19cmV0dXJuIGkocixvKSxyfSx0LnByb3RvdHlwZS5pc0VsZW1lbnRTZWxlY3Rvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0VsZW1lbnRTZWxlY3RvcigpJiYwPT10aGlzLmNsYXNzTmFtZXMubGVuZ3RoJiYwPT10aGlzLmF0dHJzLmxlbmd0aCYmMD09PXRoaXMubm90U2VsZWN0b3JzLmxlbmd0aH0sdC5wcm90b3R5cGUuaGFzRWxlbWVudFNlbGVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmVsZW1lbnR9LHQucHJvdG90eXBlLnNldEVsZW1lbnQ9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9bnVsbCksdGhpcy5lbGVtZW50PXR9LHQucHJvdG90eXBlLmdldE1hdGNoaW5nRWxlbWVudFRlbXBsYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZWxlbWVudHx8XCJkaXZcIixlPXRoaXMuY2xhc3NOYW1lcy5sZW5ndGg+MD8nIGNsYXNzPVwiJyt0aGlzLmNsYXNzTmFtZXMuam9pbihcIiBcIikrJ1wiJzpcIlwiLG49XCJcIixyPTA7cjx0aGlzLmF0dHJzLmxlbmd0aDtyKz0yKXt2YXIgaT10aGlzLmF0dHJzW3JdLG89XCJcIiE9PXRoaXMuYXR0cnNbcisxXT8nPVwiJyt0aGlzLmF0dHJzW3IrMV0rJ1wiJzpcIlwiO24rPVwiIFwiK2krb31yZXR1cm4gZih0KS5pc1ZvaWQ/XCI8XCIrdCtlK24rXCIvPlwiOlwiPFwiK3QrZStuK1wiPjwvXCIrdCtcIj5cIn0sdC5wcm90b3R5cGUuYWRkQXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9XCJcIiksdGhpcy5hdHRycy5wdXNoKHQsZSYmZS50b0xvd2VyQ2FzZSgpfHxcIlwiKX0sdC5wcm90b3R5cGUuYWRkQ2xhc3NOYW1lPWZ1bmN0aW9uKHQpe3RoaXMuY2xhc3NOYW1lcy5wdXNoKHQudG9Mb3dlckNhc2UoKSl9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50fHxcIlwiO2lmKHRoaXMuY2xhc3NOYW1lcyYmdGhpcy5jbGFzc05hbWVzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQrPVwiLlwiK2V9KSx0aGlzLmF0dHJzKWZvcih2YXIgZT0wO2U8dGhpcy5hdHRycy5sZW5ndGg7ZSs9Mil7dmFyIG49dGhpcy5hdHRyc1tlXSxyPXRoaXMuYXR0cnNbZSsxXTt0Kz1cIltcIituKyhyP1wiPVwiK3I6XCJcIikrXCJdXCJ9cmV0dXJuIHRoaXMubm90U2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQrPVwiOm5vdChcIitlK1wiKVwifSksdH0sdH0oKSxKbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9lbGVtZW50TWFwPW5ldyBNYXAsdGhpcy5fZWxlbWVudFBhcnRpYWxNYXA9bmV3IE1hcCx0aGlzLl9jbGFzc01hcD1uZXcgTWFwLHRoaXMuX2NsYXNzUGFydGlhbE1hcD1uZXcgTWFwLHRoaXMuX2F0dHJWYWx1ZU1hcD1uZXcgTWFwLHRoaXMuX2F0dHJWYWx1ZVBhcnRpYWxNYXA9bmV3IE1hcCx0aGlzLl9saXN0Q29udGV4dHM9W119cmV0dXJuIHQuY3JlYXRlTm90TWF0Y2hlcj1mdW5jdGlvbihlKXt2YXIgbj1uZXcgdDtyZXR1cm4gbi5hZGRTZWxlY3RhYmxlcyhlLG51bGwpLG59LHQucHJvdG90eXBlLmFkZFNlbGVjdGFibGVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbDt0Lmxlbmd0aD4xJiYobj1uZXcgdHModCksdGhpcy5fbGlzdENvbnRleHRzLnB1c2gobikpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXRoaXMuX2FkZFNlbGVjdGFibGUodFtyXSxlLG4pfSx0LnByb3RvdHlwZS5fYWRkU2VsZWN0YWJsZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxpPXQuZWxlbWVudCxvPXQuY2xhc3NOYW1lcyxzPXQuYXR0cnMsYT1uZXcgZXModCxlLG4pO2lmKGkpe3ZhciB1PTA9PT1zLmxlbmd0aCYmMD09PW8ubGVuZ3RoO3U/dGhpcy5fYWRkVGVybWluYWwoci5fZWxlbWVudE1hcCxpLGEpOnI9dGhpcy5fYWRkUGFydGlhbChyLl9lbGVtZW50UGFydGlhbE1hcCxpKX1pZihvKWZvcih2YXIgYz0wO2M8by5sZW5ndGg7YysrKXt2YXIgdT0wPT09cy5sZW5ndGgmJmM9PT1vLmxlbmd0aC0xLGw9b1tjXTt1P3RoaXMuX2FkZFRlcm1pbmFsKHIuX2NsYXNzTWFwLGwsYSk6cj10aGlzLl9hZGRQYXJ0aWFsKHIuX2NsYXNzUGFydGlhbE1hcCxsKX1pZihzKWZvcih2YXIgYz0wO2M8cy5sZW5ndGg7Yys9Mil7dmFyIHU9Yz09PXMubGVuZ3RoLTIscD1zW2NdLGg9c1tjKzFdO2lmKHUpe3ZhciBmPXIuX2F0dHJWYWx1ZU1hcCxkPWYuZ2V0KHApO2R8fChkPW5ldyBNYXAsZi5zZXQocCxkKSksdGhpcy5fYWRkVGVybWluYWwoZCxoLGEpfWVsc2V7dmFyIHk9ci5fYXR0clZhbHVlUGFydGlhbE1hcCxtPXkuZ2V0KHApO218fChtPW5ldyBNYXAseS5zZXQocCxtKSkscj10aGlzLl9hZGRQYXJ0aWFsKG0saCl9fX0sdC5wcm90b3R5cGUuX2FkZFRlcm1pbmFsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmdldChlKTtyfHwocj1bXSx0LnNldChlLHIpKSxyLnB1c2gobil9LHQucHJvdG90eXBlLl9hZGRQYXJ0aWFsPWZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5nZXQobik7cmV0dXJuIHJ8fChyPW5ldyB0LGUuc2V0KG4scikpLHJ9LHQucHJvdG90eXBlLm1hdGNoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPSExLHI9dC5lbGVtZW50LGk9dC5jbGFzc05hbWVzLG89dC5hdHRycyxzPTA7czx0aGlzLl9saXN0Q29udGV4dHMubGVuZ3RoO3MrKyl0aGlzLl9saXN0Q29udGV4dHNbc10uYWxyZWFkeU1hdGNoZWQ9ITE7aWYobj10aGlzLl9tYXRjaFRlcm1pbmFsKHRoaXMuX2VsZW1lbnRNYXAscix0LGUpfHxuLG49dGhpcy5fbWF0Y2hQYXJ0aWFsKHRoaXMuX2VsZW1lbnRQYXJ0aWFsTWFwLHIsdCxlKXx8bixpKWZvcih2YXIgcz0wO3M8aS5sZW5ndGg7cysrKXt2YXIgYT1pW3NdO249dGhpcy5fbWF0Y2hUZXJtaW5hbCh0aGlzLl9jbGFzc01hcCxhLHQsZSl8fG4sbj10aGlzLl9tYXRjaFBhcnRpYWwodGhpcy5fY2xhc3NQYXJ0aWFsTWFwLGEsdCxlKXx8bn1pZihvKWZvcih2YXIgcz0wO3M8by5sZW5ndGg7cys9Mil7dmFyIHU9b1tzXSxjPW9bcysxXSxsPXRoaXMuX2F0dHJWYWx1ZU1hcC5nZXQodSk7YyYmKG49dGhpcy5fbWF0Y2hUZXJtaW5hbChsLFwiXCIsdCxlKXx8biksbj10aGlzLl9tYXRjaFRlcm1pbmFsKGwsYyx0LGUpfHxuO3ZhciBwPXRoaXMuX2F0dHJWYWx1ZVBhcnRpYWxNYXAuZ2V0KHUpO2MmJihuPXRoaXMuX21hdGNoUGFydGlhbChwLFwiXCIsdCxlKXx8biksbj10aGlzLl9tYXRjaFBhcnRpYWwocCxjLHQsZSl8fG59cmV0dXJuIG59LHQucHJvdG90eXBlLl9tYXRjaFRlcm1pbmFsPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKCF0fHxcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4hMTt2YXIgaT10LmdldChlKXx8W10sbz10LmdldChcIipcIik7aWYobyYmKGk9aS5jb25jYXQobykpLDA9PT1pLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHMsYT0hMSx1PTA7dTxpLmxlbmd0aDt1Kyspcz1pW3VdLGE9cy5maW5hbGl6ZShuLHIpfHxhO3JldHVybiBhfSx0LnByb3RvdHlwZS5fbWF0Y2hQYXJ0aWFsPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKCF0fHxcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4hMTt2YXIgaT10LmdldChlKTtyZXR1cm4hIWkmJmkubWF0Y2gobixyKX0sdH0oKSx0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5zZWxlY3RvcnM9dCx0aGlzLmFscmVhZHlNYXRjaGVkPSExfXJldHVybiB0fSgpLGVzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5zZWxlY3Rvcj10LHRoaXMuY2JDb250ZXh0PWUsdGhpcy5saXN0Q29udGV4dD1uLHRoaXMubm90U2VsZWN0b3JzPXQubm90U2VsZWN0b3JzfXJldHVybiB0LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbih0LGUpe3ZhciBuPSEwO2lmKHRoaXMubm90U2VsZWN0b3JzLmxlbmd0aD4wJiYoIXRoaXMubGlzdENvbnRleHR8fCF0aGlzLmxpc3RDb250ZXh0LmFscmVhZHlNYXRjaGVkKSl7dmFyIHI9Sm8uY3JlYXRlTm90TWF0Y2hlcih0aGlzLm5vdFNlbGVjdG9ycyk7bj0hci5tYXRjaCh0LG51bGwpfXJldHVybiFufHwhZXx8dGhpcy5saXN0Q29udGV4dCYmdGhpcy5saXN0Q29udGV4dC5hbHJlYWR5TWF0Y2hlZHx8KHRoaXMubGlzdENvbnRleHQmJih0aGlzLmxpc3RDb250ZXh0LmFscmVhZHlNYXRjaGVkPSEwKSxlKHRoaXMuc2VsZWN0b3IsdGhpcy5jYkNvbnRleHQpKSxufSx0fSgpLG5zPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxycz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUpO3ZhciBuPW5ldyBFcnJvcihlKTt0aGlzLl9uYXRpdmVFcnJvcj1ufXJldHVybiBucyhlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm1lc3NhZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25hdGl2ZUVycm9yLm1lc3NhZ2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9uYXRpdmVFcnJvci5tZXNzYWdlPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmF0aXZlRXJyb3IubmFtZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzdGFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmF0aXZlRXJyb3Iuc3RhY2t9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9uYXRpdmVFcnJvci5zdGFjaz10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25hdGl2ZUVycm9yLnRvU3RyaW5nKCl9LGV9KEVycm9yKSxpcz0oZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3QuY2FsbCh0aGlzLGUrXCIgY2F1c2VkIGJ5OiBcIisobiBpbnN0YW5jZW9mIEVycm9yP24ubWVzc2FnZTpuKSksdGhpcy5vcmlnaW5hbEVycm9yPW59cmV0dXJuIG5zKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3RhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMub3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEVycm9yP3RoaXMub3JpZ2luYWxFcnJvcjp0aGlzLl9uYXRpdmVFcnJvcikuc3RhY2t9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZX0ocnMpLHRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSksb3M9XCJcIixzcz0vLSsoW2EtejAtOV0pL2csYXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS52aXNpdEFycmF5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGcodCxuLGUpfSl9LHQucHJvdG90eXBlLnZpc2l0U3RyaW5nTWFwPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3JbaV09Zyh0W2ldLG4sZSl9KSxyfSx0LnByb3RvdHlwZS52aXNpdFByaW1pdGl2ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0fSx0LnByb3RvdHlwZS52aXNpdE90aGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR9LHR9KCksdXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dm9pZCAwPT09ZSYmKGU9bnVsbCksdGhpcy5zeW5jUmVzdWx0PXQsdGhpcy5hc3luY1Jlc3VsdD1lLGV8fCh0aGlzLmFzeW5jUmVzdWx0PVByb21pc2UucmVzb2x2ZSh0KSl9cmV0dXJuIHR9KCksY3M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBpcyhlLHQpLGV9KHJzKSxscz10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0scHM9L14oPzooPzpcXFsoW15cXF1dKylcXF0pfCg/OlxcKChbXlxcKV0rKVxcKSkpfChcXEBbLVxcd10rKSQvLGhzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PXQmJih0PW51bGwpLHZvaWQgMD09PWUmJihlPW51bGwpLHRoaXMubmFtZT10LHRoaXMuZGVmaW5pdGlvbnM9ZX1yZXR1cm4gdH0oKSxmcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCksZHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3QuY2FsbCh0aGlzKSx0aGlzLnN0YXRlTmFtZUV4cHI9ZSx0aGlzLnN0eWxlcz1ufXJldHVybiBscyhlLHQpLGV9KGZzKSx5cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMpLHRoaXMuc3RhdGVDaGFuZ2VFeHByPWUsdGhpcy5zdGVwcz1ufXJldHVybiBscyhlLHQpLGV9KGZzKSxtcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCksdnM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2b2lkIDA9PT1lJiYoZT1bXSksdC5jYWxsKHRoaXMpLHRoaXMuc3RlcHM9ZX1yZXR1cm4gbHMoZSx0KSxlfShtcyksZ3M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpLHQuY2FsbCh0aGlzKSx0aGlzLm9mZnNldD1lLHRoaXMuc3R5bGVzPW59cmV0dXJuIGxzKGUsdCksZX0obXMpLF9zPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj1udWxsKSx0LmNhbGwodGhpcyksdGhpcy50aW1pbmdzPWUsdGhpcy5zdHlsZXM9bn1yZXR1cm4gbHMoZSx0KSxlfShtcyksYnM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2b2lkIDA9PT1lJiYoZT1udWxsKSx0LmNhbGwodGhpcyksdGhpcy5zdGVwcz1lfXJldHVybiBscyhlLHQpLGV9KG1zKSx3cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZvaWQgMD09PWUmJihlPW51bGwpLHQuY2FsbCh0aGlzLGUpfXJldHVybiBscyhlLHQpLGV9KGJzKSxDcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZvaWQgMD09PWUmJihlPW51bGwpLHQuY2FsbCh0aGlzLGUpfXJldHVybiBscyhlLHQpLGV9KGJzKSxFcz0wLFNzPXt9O1NzLlBpcGU9MCxTcy5EaXJlY3RpdmU9MSxTcy5OZ01vZHVsZT0yLFNzLkluamVjdGFibGU9MyxTc1tTcy5QaXBlXT1cIlBpcGVcIixTc1tTcy5EaXJlY3RpdmVdPVwiRGlyZWN0aXZlXCIsU3NbU3MuTmdNb2R1bGVdPVwiTmdNb2R1bGVcIixTc1tTcy5JbmplY3RhYmxlXT1cIkluamVjdGFibGVcIjt2YXIgeHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPXZvaWQgMD09PXQ/e306dCxuPWUubW9kdWxlVXJsLHI9ZS5zdHlsZXMsaT1lLnN0eWxlVXJsczt0aGlzLm1vZHVsZVVybD1uLHRoaXMuc3R5bGVzPXgociksdGhpcy5zdHlsZVVybHM9eChpKX1yZXR1cm4gdH0oKSxQcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dm9pZCAwPT09dD97fTp0LG49ZS5lbmNhcHN1bGF0aW9uLHI9ZS50ZW1wbGF0ZSxpPWUudGVtcGxhdGVVcmwsbz1lLnN0eWxlcyxzPWUuc3R5bGVVcmxzLGE9ZS5leHRlcm5hbFN0eWxlc2hlZXRzLHU9ZS5hbmltYXRpb25zLGM9ZS5uZ0NvbnRlbnRTZWxlY3RvcnMsbD1lLmludGVycG9sYXRpb247aWYodGhpcy5lbmNhcHN1bGF0aW9uPW4sdGhpcy50ZW1wbGF0ZT1yLHRoaXMudGVtcGxhdGVVcmw9aSx0aGlzLnN0eWxlcz14KG8pLHRoaXMuc3R5bGVVcmxzPXgocyksdGhpcy5leHRlcm5hbFN0eWxlc2hlZXRzPXgoYSksdGhpcy5hbmltYXRpb25zPXU/aW8uZmxhdHRlbih1KTpbXSx0aGlzLm5nQ29udGVudFNlbGVjdG9ycz1jfHxbXSxsJiYyIT1sLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCInaW50ZXJwb2xhdGlvbicgc2hvdWxkIGhhdmUgYSBzdGFydCBhbmQgYW4gZW5kIHN5bWJvbC5cIik7dGhpcy5pbnRlcnBvbGF0aW9uPWx9cmV0dXJuIHQucHJvdG90eXBlLnRvU3VtbWFyeT1mdW5jdGlvbigpe3JldHVybnthbmltYXRpb25zOnRoaXMuYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pLG5nQ29udGVudFNlbGVjdG9yczp0aGlzLm5nQ29udGVudFNlbGVjdG9ycyxlbmNhcHN1bGF0aW9uOnRoaXMuZW5jYXBzdWxhdGlvbn19LHR9KCksT3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPXZvaWQgMD09PXQ/e306dCxuPWUuaXNIb3N0LHI9ZS50eXBlLGk9ZS5pc0NvbXBvbmVudCxvPWUuc2VsZWN0b3Iscz1lLmV4cG9ydEFzLGE9ZS5jaGFuZ2VEZXRlY3Rpb24sdT1lLmlucHV0cyxjPWUub3V0cHV0cyxsPWUuaG9zdExpc3RlbmVycyxwPWUuaG9zdFByb3BlcnRpZXMsaD1lLmhvc3RBdHRyaWJ1dGVzLGY9ZS5wcm92aWRlcnMsZD1lLnZpZXdQcm92aWRlcnMseT1lLnF1ZXJpZXMsbT1lLnZpZXdRdWVyaWVzLHY9ZS5lbnRyeUNvbXBvbmVudHMsZz1lLnRlbXBsYXRlO3RoaXMuaXNIb3N0PSEhbix0aGlzLnR5cGU9cix0aGlzLmlzQ29tcG9uZW50PWksdGhpcy5zZWxlY3Rvcj1vLHRoaXMuZXhwb3J0QXM9cyx0aGlzLmNoYW5nZURldGVjdGlvbj1hLHRoaXMuaW5wdXRzPXUsdGhpcy5vdXRwdXRzPWMsdGhpcy5ob3N0TGlzdGVuZXJzPWwsdGhpcy5ob3N0UHJvcGVydGllcz1wLHRoaXMuaG9zdEF0dHJpYnV0ZXM9aCx0aGlzLnByb3ZpZGVycz14KGYpLHRoaXMudmlld1Byb3ZpZGVycz14KGQpLHRoaXMucXVlcmllcz14KHkpLHRoaXMudmlld1F1ZXJpZXM9eChtKSx0aGlzLmVudHJ5Q29tcG9uZW50cz14KHYpLHRoaXMudGVtcGxhdGU9Z31yZXR1cm4gdC5jcmVhdGU9ZnVuY3Rpb24oZSl7dmFyIG49dm9pZCAwPT09ZT97fTplLGk9bi5pc0hvc3Qsbz1uLnR5cGUscz1uLmlzQ29tcG9uZW50LGE9bi5zZWxlY3Rvcix1PW4uZXhwb3J0QXMsYz1uLmNoYW5nZURldGVjdGlvbixsPW4uaW5wdXRzLHA9bi5vdXRwdXRzLGg9bi5ob3N0LGY9bi5wcm92aWRlcnMsZD1uLnZpZXdQcm92aWRlcnMsbT1uLnF1ZXJpZXMsdj1uLnZpZXdRdWVyaWVzLGc9bi5lbnRyeUNvbXBvbmVudHMsXz1uLnRlbXBsYXRlLGI9e30sdz17fSxDPXt9O3IoaCkmJk9iamVjdC5rZXlzKGgpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9aFt0XSxuPXQubWF0Y2gocHMpO251bGw9PT1uP0NbdF09ZTpyKG5bMV0pP3dbblsxXV09ZTpyKG5bMl0pJiYoYltuWzJdXT1lKX0pO3ZhciBFPXt9O3IobCkmJmwuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT15KHQsW3QsdF0pO0VbZVswXV09ZVsxXX0pO3ZhciBTPXt9O3JldHVybiByKHApJiZwLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9eSh0LFt0LHRdKTtTW2VbMF1dPWVbMV19KSxuZXcgdCh7aXNIb3N0OmksdHlwZTpvLGlzQ29tcG9uZW50OiEhcyxzZWxlY3RvcjphLGV4cG9ydEFzOnUsY2hhbmdlRGV0ZWN0aW9uOmMsaW5wdXRzOkUsb3V0cHV0czpTLGhvc3RMaXN0ZW5lcnM6Yixob3N0UHJvcGVydGllczp3LGhvc3RBdHRyaWJ1dGVzOkMscHJvdmlkZXJzOmYsdmlld1Byb3ZpZGVyczpkLHF1ZXJpZXM6bSx2aWV3UXVlcmllczp2LGVudHJ5Q29tcG9uZW50czpnLHRlbXBsYXRlOl99KX0sdC5wcm90b3R5cGUudG9TdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJue3N1bW1hcnlLaW5kOlNzLkRpcmVjdGl2ZSx0eXBlOnRoaXMudHlwZSxpc0NvbXBvbmVudDp0aGlzLmlzQ29tcG9uZW50LHNlbGVjdG9yOnRoaXMuc2VsZWN0b3IsZXhwb3J0QXM6dGhpcy5leHBvcnRBcyxpbnB1dHM6dGhpcy5pbnB1dHMsb3V0cHV0czp0aGlzLm91dHB1dHMsaG9zdExpc3RlbmVyczp0aGlzLmhvc3RMaXN0ZW5lcnMsaG9zdFByb3BlcnRpZXM6dGhpcy5ob3N0UHJvcGVydGllcyxob3N0QXR0cmlidXRlczp0aGlzLmhvc3RBdHRyaWJ1dGVzLHByb3ZpZGVyczp0aGlzLnByb3ZpZGVycyx2aWV3UHJvdmlkZXJzOnRoaXMudmlld1Byb3ZpZGVycyxxdWVyaWVzOnRoaXMucXVlcmllcyxlbnRyeUNvbXBvbmVudHM6dGhpcy5lbnRyeUNvbXBvbmVudHMsY2hhbmdlRGV0ZWN0aW9uOnRoaXMuY2hhbmdlRGV0ZWN0aW9uLHRlbXBsYXRlOnRoaXMudGVtcGxhdGUmJnRoaXMudGVtcGxhdGUudG9TdW1tYXJ5KCl9fSx0fSgpLFRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT12b2lkIDA9PT10P3t9OnQsbj1lLnR5cGUscj1lLm5hbWUsaT1lLnB1cmU7dGhpcy50eXBlPW4sdGhpcy5uYW1lPXIsdGhpcy5wdXJlPSEhaX1yZXR1cm4gdC5wcm90b3R5cGUudG9TdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJue3N1bW1hcnlLaW5kOlNzLlBpcGUsdHlwZTp0aGlzLnR5cGUsbmFtZTp0aGlzLm5hbWUscHVyZTp0aGlzLnB1cmV9fSx0fSgpLEFzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT12b2lkIDA9PT10P3t9OnQsbj1lLnR5cGUscj1lLnByb3ZpZGVycyxpPWUuZGVjbGFyZWREaXJlY3RpdmVzLG89ZS5leHBvcnRlZERpcmVjdGl2ZXMscz1lLmRlY2xhcmVkUGlwZXMsYT1lLmV4cG9ydGVkUGlwZXMsdT1lLmVudHJ5Q29tcG9uZW50cyxjPWUuYm9vdHN0cmFwQ29tcG9uZW50cyxsPWUuaW1wb3J0ZWRNb2R1bGVzLHA9ZS5leHBvcnRlZE1vZHVsZXMsaD1lLnNjaGVtYXMsZj1lLnRyYW5zaXRpdmVNb2R1bGUsZD1lLmlkO3RoaXMudHlwZT1uLHRoaXMuZGVjbGFyZWREaXJlY3RpdmVzPXgoaSksdGhpcy5leHBvcnRlZERpcmVjdGl2ZXM9eChvKSx0aGlzLmRlY2xhcmVkUGlwZXM9eChzKSx0aGlzLmV4cG9ydGVkUGlwZXM9eChhKSx0aGlzLnByb3ZpZGVycz14KHIpLHRoaXMuZW50cnlDb21wb25lbnRzPXgodSksdGhpcy5ib290c3RyYXBDb21wb25lbnRzPXgoYyksdGhpcy5pbXBvcnRlZE1vZHVsZXM9eChsKSx0aGlzLmV4cG9ydGVkTW9kdWxlcz14KHApLHRoaXMuc2NoZW1hcz14KGgpLHRoaXMuaWQ9ZCx0aGlzLnRyYW5zaXRpdmVNb2R1bGU9Zn1yZXR1cm4gdC5wcm90b3R5cGUudG9TdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJue3N1bW1hcnlLaW5kOlNzLk5nTW9kdWxlLHR5cGU6dGhpcy50eXBlLGVudHJ5Q29tcG9uZW50czp0aGlzLnRyYW5zaXRpdmVNb2R1bGUuZW50cnlDb21wb25lbnRzLHByb3ZpZGVyczp0aGlzLnRyYW5zaXRpdmVNb2R1bGUucHJvdmlkZXJzLG1vZHVsZXM6dGhpcy50cmFuc2l0aXZlTW9kdWxlLm1vZHVsZXMsZXhwb3J0ZWREaXJlY3RpdmVzOnRoaXMudHJhbnNpdGl2ZU1vZHVsZS5leHBvcnRlZERpcmVjdGl2ZXMsZXhwb3J0ZWRQaXBlczp0aGlzLnRyYW5zaXRpdmVNb2R1bGUuZXhwb3J0ZWRQaXBlc319LHR9KCksTXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5kaXJlY3RpdmVzU2V0PW5ldyBTZXQsdGhpcy5kaXJlY3RpdmVzPVtdLHRoaXMuZXhwb3J0ZWREaXJlY3RpdmVzU2V0PW5ldyBTZXQsdGhpcy5leHBvcnRlZERpcmVjdGl2ZXM9W10sdGhpcy5waXBlc1NldD1uZXcgU2V0LHRoaXMucGlwZXM9W10sdGhpcy5leHBvcnRlZFBpcGVzU2V0PW5ldyBTZXQsdGhpcy5leHBvcnRlZFBpcGVzPVtdLHRoaXMubW9kdWxlc1NldD1uZXcgU2V0LHRoaXMubW9kdWxlcz1bXSx0aGlzLmVudHJ5Q29tcG9uZW50c1NldD1uZXcgU2V0LHRoaXMuZW50cnlDb21wb25lbnRzPVtdLHRoaXMucHJvdmlkZXJzPVtdfXJldHVybiB0LnByb3RvdHlwZS5hZGRQcm92aWRlcj1mdW5jdGlvbih0LGUpe3RoaXMucHJvdmlkZXJzLnB1c2goe3Byb3ZpZGVyOnQsbW9kdWxlOmV9KX0sdC5wcm90b3R5cGUuYWRkRGlyZWN0aXZlPWZ1bmN0aW9uKHQpe3RoaXMuZGlyZWN0aXZlc1NldC5oYXModC5yZWZlcmVuY2UpfHwodGhpcy5kaXJlY3RpdmVzU2V0LmFkZCh0LnJlZmVyZW5jZSksdGhpcy5kaXJlY3RpdmVzLnB1c2godCkpfSx0LnByb3RvdHlwZS5hZGRFeHBvcnRlZERpcmVjdGl2ZT1mdW5jdGlvbih0KXt0aGlzLmV4cG9ydGVkRGlyZWN0aXZlc1NldC5oYXModC5yZWZlcmVuY2UpfHwodGhpcy5leHBvcnRlZERpcmVjdGl2ZXNTZXQuYWRkKHQucmVmZXJlbmNlKSx0aGlzLmV4cG9ydGVkRGlyZWN0aXZlcy5wdXNoKHQpKX0sdC5wcm90b3R5cGUuYWRkUGlwZT1mdW5jdGlvbih0KXt0aGlzLnBpcGVzU2V0Lmhhcyh0LnJlZmVyZW5jZSl8fCh0aGlzLnBpcGVzU2V0LmFkZCh0LnJlZmVyZW5jZSksdGhpcy5waXBlcy5wdXNoKHQpKX0sdC5wcm90b3R5cGUuYWRkRXhwb3J0ZWRQaXBlPWZ1bmN0aW9uKHQpe3RoaXMuZXhwb3J0ZWRQaXBlc1NldC5oYXModC5yZWZlcmVuY2UpfHwodGhpcy5leHBvcnRlZFBpcGVzU2V0LmFkZCh0LnJlZmVyZW5jZSksdGhpcy5leHBvcnRlZFBpcGVzLnB1c2godCkpfSx0LnByb3RvdHlwZS5hZGRNb2R1bGU9ZnVuY3Rpb24odCl7dGhpcy5tb2R1bGVzU2V0Lmhhcyh0LnJlZmVyZW5jZSl8fCh0aGlzLm1vZHVsZXNTZXQuYWRkKHQucmVmZXJlbmNlKSx0aGlzLm1vZHVsZXMucHVzaCh0KSl9LHQucHJvdG90eXBlLmFkZEVudHJ5Q29tcG9uZW50PWZ1bmN0aW9uKHQpe3RoaXMuZW50cnlDb21wb25lbnRzU2V0Lmhhcyh0LnJlZmVyZW5jZSl8fCh0aGlzLmVudHJ5Q29tcG9uZW50c1NldC5hZGQodC5yZWZlcmVuY2UpLHRoaXMuZW50cnlDb21wb25lbnRzLnB1c2godCkpfSx0fSgpLGtzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPWUudXNlQ2xhc3Mscj1lLnVzZVZhbHVlLGk9ZS51c2VFeGlzdGluZyxvPWUudXNlRmFjdG9yeSxzPWUuZGVwcyxhPWUubXVsdGk7dGhpcy50b2tlbj10LHRoaXMudXNlQ2xhc3M9bix0aGlzLnVzZVZhbHVlPXIsdGhpcy51c2VFeGlzdGluZz1pLHRoaXMudXNlRmFjdG9yeT1vLHRoaXMuZGVwZW5kZW5jaWVzPXMsdGhpcy5tdWx0aT0hIWF9cmV0dXJuIHR9KCksUnM9MCxJcz05LE5zPTEwLERzPTExLGpzPTEyLFZzPTEzLExzPTMyLEZzPTMzLFVzPTM0LEhzPTM1LEJzPTM2LHFzPTM3LHpzPTM4LFdzPTM5LEdzPTQwLFhzPTQxLCRzPTQyLFFzPTQzLFlzPTQ0LEtzPTQ1LFpzPTQ2LEpzPTQ3LHRhPTU4LGVhPTU5LG5hPTYwLHJhPTYxLGlhPTYyLG9hPTYzLHNhPTQ4LGFhPTU3LHVhPTY1LGNhPTY5LGxhPTcwLHBhPTg4LGhhPTkwLGZhPTkxLGRhPTkyLHlhPTkzLG1hPTk0LHZhPTk1LGdhPTk3LF9hPTEwMSxiYT0xMDIsd2E9MTEwLENhPTExNCxFYT0xMTYsU2E9MTE3LHhhPTExOCxQYT0xMjAsT2E9MTIyLFRhPTEyMyxBYT0xMjQsTWE9MTI1LGthPTE2MCxSYT05NixJYT1bL15cXHMqJC8sL1s8Pl0vLC9eW3t9XSQvLC8mKCN8W2Etel0pL2ksL15cXC9cXC8vXSxOYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLnN0YXJ0PXQsdGhpcy5lbmQ9ZX1yZXR1cm4gdC5mcm9tQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KFIoXCJpbnRlcnBvbGF0aW9uXCIsZSksbmV3IHQoZVswXSxlWzFdKSk6RGF9LHR9KCksRGE9bmV3IE5hKFwie3tcIixcIn19XCIpLGphPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxWYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5pbnB1dD1lLHRoaXMuZXJyTG9jYXRpb249bix0aGlzLmN0eExvY2F0aW9uPXIsdGhpcy5tZXNzYWdlPVwiUGFyc2VyIEVycm9yOiBcIit0K1wiIFwiK24rXCIgW1wiK2UrXCJdIGluIFwiK3J9cmV0dXJuIHR9KCksTGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5zdGFydD10LHRoaXMuZW5kPWV9cmV0dXJuIHR9KCksRmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuc3Bhbj10fXJldHVybiB0LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSxudWxsfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiQVNUXCJ9LHR9KCksVWE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpKXt0LmNhbGwodGhpcyxlKSx0aGlzLnByZWZpeD1uLHRoaXMudW5pbnRlcnByZXRlZEV4cHJlc3Npb249cix0aGlzLmxvY2F0aW9uPWl9cmV0dXJuIGphKGUsdCksZS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksdC52aXNpdFF1b3RlKHRoaXMsZSl9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJRdW90ZVwifSxlfShGYSksSGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBqYShlLHQpLGUucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9bnVsbCl9LGV9KEZhKSxCYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGphKGUsdCksZS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksdC52aXNpdEltcGxpY2l0UmVjZWl2ZXIodGhpcyxlKX0sZX0oRmEpLHFhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxlKSx0aGlzLmV4cHJlc3Npb25zPW59cmV0dXJuIGphKGUsdCksZS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksdC52aXNpdENoYWluKHRoaXMsZSl9LGV9KEZhKSx6YT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGkpe3QuY2FsbCh0aGlzLGUpLHRoaXMuY29uZGl0aW9uPW4sdGhpcy50cnVlRXhwPXIsdGhpcy5mYWxzZUV4cD1pfXJldHVybiBqYShlLHQpLGUucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLHQudmlzaXRDb25kaXRpb25hbCh0aGlzLGUpfSxlfShGYSksV2E9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dC5jYWxsKHRoaXMsZSksdGhpcy5yZWNlaXZlcj1uLHRoaXMubmFtZT1yfXJldHVybiBqYShlLHQpLGUucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLHQudmlzaXRQcm9wZXJ0eVJlYWQodGhpcyxlKX0sZX0oRmEpLEdhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsaSl7dC5jYWxsKHRoaXMsZSksdGhpcy5yZWNlaXZlcj1uLHRoaXMubmFtZT1yLHRoaXMudmFsdWU9aX1yZXR1cm4gamEoZSx0KSxlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSx0LnZpc2l0UHJvcGVydHlXcml0ZSh0aGlzLGUpfSxlfShGYSksWGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dC5jYWxsKHRoaXMsZSksdGhpcy5yZWNlaXZlcj1uLHRoaXMubmFtZT1yfXJldHVybiBqYShlLHQpLGUucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLHQudmlzaXRTYWZlUHJvcGVydHlSZWFkKHRoaXMsZSl9LGV9KEZhKSwkYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyxlKSx0aGlzLm9iaj1uLHRoaXMua2V5PXJ9cmV0dXJuIGphKGUsdCksZS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksdC52aXNpdEtleWVkUmVhZCh0aGlzLGUpfSxlfShGYSksUWE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpKXt0LmNhbGwodGhpcyxlKSx0aGlzLm9iaj1uLHRoaXMua2V5PXIsdGhpcy52YWx1ZT1pfXJldHVybiBqYShlLHQpLGUucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLHQudmlzaXRLZXllZFdyaXRlKHRoaXMsZSl9LGV9KEZhKSxZYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGkpe3QuY2FsbCh0aGlzLGUpLHRoaXMuZXhwPW4sdGhpcy5uYW1lPXIsdGhpcy5hcmdzPWl9cmV0dXJuIGphKGUsdCksZS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksdC52aXNpdFBpcGUodGhpcyxlKX0sZX0oRmEpLEthPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxlKSx0aGlzLnZhbHVlPW59cmV0dXJuIGphKGUsdCksZS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksdC52aXNpdExpdGVyYWxQcmltaXRpdmUodGhpcyxlKX0sZX0oRmEpLFphPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxlKSx0aGlzLmV4cHJlc3Npb25zPW59cmV0dXJuIGphKGUsdCksZS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksdC52aXNpdExpdGVyYWxBcnJheSh0aGlzLGUpfSxlfShGYSksSmE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dC5jYWxsKHRoaXMsZSksdGhpcy5rZXlzPW4sdGhpcy52YWx1ZXM9cn1yZXR1cm4gamEoZSx0KSxlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSx0LnZpc2l0TGl0ZXJhbE1hcCh0aGlzLGUpfSxlfShGYSksdHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dC5jYWxsKHRoaXMsZSksdGhpcy5zdHJpbmdzPW4sdGhpcy5leHByZXNzaW9ucz1yfXJldHVybiBqYShlLHQpLGUucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLHQudmlzaXRJbnRlcnBvbGF0aW9uKHRoaXMsZSl9LGV9KEZhKSxldT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGkpe3QuY2FsbCh0aGlzLGUpLHRoaXMub3BlcmF0aW9uPW4sdGhpcy5sZWZ0PXIsdGhpcy5yaWdodD1pfXJldHVybiBqYShlLHQpLGUucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLHQudmlzaXRCaW5hcnkodGhpcyxlKX0sZX0oRmEpLG51PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxlKSx0aGlzLmV4cHJlc3Npb249bn1yZXR1cm4gamEoZSx0KSxlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSx0LnZpc2l0UHJlZml4Tm90KHRoaXMsZSl9LGV9KEZhKSxydT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGkpe3QuY2FsbCh0aGlzLGUpLHRoaXMucmVjZWl2ZXI9bix0aGlzLm5hbWU9cix0aGlzLmFyZ3M9aX1yZXR1cm4gamEoZSx0KSxlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSx0LnZpc2l0TWV0aG9kQ2FsbCh0aGlzLGUpfSxlfShGYSksaXU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpKXt0LmNhbGwodGhpcyxlKSx0aGlzLnJlY2VpdmVyPW4sdGhpcy5uYW1lPXIsdGhpcy5hcmdzPWl9cmV0dXJuIGphKGUsdCksZS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksdC52aXNpdFNhZmVNZXRob2RDYWxsKHRoaXMsZSl9LGV9KEZhKSxvdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyxlKSx0aGlzLnRhcmdldD1uLHRoaXMuYXJncz1yfXJldHVybiBqYShlLHQpLGUucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLHQudmlzaXRGdW5jdGlvbkNhbGwodGhpcyxlKX0sZX0oRmEpLHN1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7dC5jYWxsKHRoaXMsbmV3IExhKDAsaShuKT8wOm4ubGVuZ3RoKSksdGhpcy5hc3Q9ZSx0aGlzLnNvdXJjZT1uLHRoaXMubG9jYXRpb249cix0aGlzLmVycm9ycz1vfXJldHVybiBqYShlLHQpLGUucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLHRoaXMuYXN0LnZpc2l0KHQsZSl9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc291cmNlK1wiIGluIFwiK3RoaXMubG9jYXRpb259LGV9KEZhKSxhdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt0aGlzLnNwYW49dCx0aGlzLmtleT1lLHRoaXMua2V5SXNWYXI9bix0aGlzLm5hbWU9cix0aGlzLmV4cHJlc3Npb249aX1yZXR1cm4gdH0oKSx1dT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0QmluYXJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGVmdC52aXNpdCh0aGlzKSx0LnJpZ2h0LnZpc2l0KHRoaXMpLG51bGx9LHQucHJvdG90eXBlLnZpc2l0Q2hhaW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy52aXNpdEFsbCh0LmV4cHJlc3Npb25zLGUpfSx0LnByb3RvdHlwZS52aXNpdENvbmRpdGlvbmFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY29uZGl0aW9uLnZpc2l0KHRoaXMpLHQudHJ1ZUV4cC52aXNpdCh0aGlzKSx0LmZhbHNlRXhwLnZpc2l0KHRoaXMpLG51bGx9LHQucHJvdG90eXBlLnZpc2l0UGlwZT1mdW5jdGlvbih0LGUpe3JldHVybiB0LmV4cC52aXNpdCh0aGlzKSx0aGlzLnZpc2l0QWxsKHQuYXJncyxlKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdEZ1bmN0aW9uQ2FsbD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnRhcmdldC52aXNpdCh0aGlzKSx0aGlzLnZpc2l0QWxsKHQuYXJncyxlKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdEltcGxpY2l0UmVjZWl2ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUudmlzaXRJbnRlcnBvbGF0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudmlzaXRBbGwodC5leHByZXNzaW9ucyxlKX0sdC5wcm90b3R5cGUudmlzaXRLZXllZFJlYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5vYmoudmlzaXQodGhpcyksdC5rZXkudmlzaXQodGhpcyksbnVsbH0sdC5wcm90b3R5cGUudmlzaXRLZXllZFdyaXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQub2JqLnZpc2l0KHRoaXMpLHQua2V5LnZpc2l0KHRoaXMpLHQudmFsdWUudmlzaXQodGhpcyksbnVsbH0sdC5wcm90b3R5cGUudmlzaXRMaXRlcmFsQXJyYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy52aXNpdEFsbCh0LmV4cHJlc3Npb25zLGUpfSx0LnByb3RvdHlwZS52aXNpdExpdGVyYWxNYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy52aXNpdEFsbCh0LnZhbHVlcyxlKX0sdC5wcm90b3R5cGUudmlzaXRMaXRlcmFsUHJpbWl0aXZlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLnZpc2l0TWV0aG9kQ2FsbD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnJlY2VpdmVyLnZpc2l0KHRoaXMpLHRoaXMudmlzaXRBbGwodC5hcmdzLGUpfSx0LnByb3RvdHlwZS52aXNpdFByZWZpeE5vdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmV4cHJlc3Npb24udmlzaXQodGhpcyksbnVsbH0sdC5wcm90b3R5cGUudmlzaXRQcm9wZXJ0eVJlYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWNlaXZlci52aXNpdCh0aGlzKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdFByb3BlcnR5V3JpdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWNlaXZlci52aXNpdCh0aGlzKSx0LnZhbHVlLnZpc2l0KHRoaXMpLG51bGx9LHQucHJvdG90eXBlLnZpc2l0U2FmZVByb3BlcnR5UmVhZD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnJlY2VpdmVyLnZpc2l0KHRoaXMpLG51bGx9LHQucHJvdG90eXBlLnZpc2l0U2FmZU1ldGhvZENhbGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWNlaXZlci52aXNpdCh0aGlzKSx0aGlzLnZpc2l0QWxsKHQuYXJncyxlKX0sdC5wcm90b3R5cGUudmlzaXRBbGw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXQobixlKX0pLG51bGx9LHQucHJvdG90eXBlLnZpc2l0UXVvdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0sdH0oKSxjdT10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSxsdT10aGlzJiZ0aGlzLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0scHU9e307XG5wdS5DaGFyYWN0ZXI9MCxwdS5JZGVudGlmaWVyPTEscHUuS2V5d29yZD0yLHB1LlN0cmluZz0zLHB1Lk9wZXJhdG9yPTQscHUuTnVtYmVyPTUscHUuRXJyb3I9NixwdVtwdS5DaGFyYWN0ZXJdPVwiQ2hhcmFjdGVyXCIscHVbcHUuSWRlbnRpZmllcl09XCJJZGVudGlmaWVyXCIscHVbcHUuS2V5d29yZF09XCJLZXl3b3JkXCIscHVbcHUuU3RyaW5nXT1cIlN0cmluZ1wiLHB1W3B1Lk9wZXJhdG9yXT1cIk9wZXJhdG9yXCIscHVbcHUuTnVtYmVyXT1cIk51bWJlclwiLHB1W3B1LkVycm9yXT1cIkVycm9yXCI7dmFyIGh1PVtcInZhclwiLFwibGV0XCIsXCJudWxsXCIsXCJ1bmRlZmluZWRcIixcInRydWVcIixcImZhbHNlXCIsXCJpZlwiLFwiZWxzZVwiLFwidGhpc1wiXSxmdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnRva2VuaXplPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgbXUodCksbj1bXSxyPWUuc2NhblRva2VuKCk7bnVsbCE9cjspbi5wdXNoKHIpLHI9ZS5zY2FuVG9rZW4oKTtyZXR1cm4gbn0sdD1jdShbTSgpLGx1KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLHQpfSgpLGR1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLmluZGV4PXQsdGhpcy50eXBlPWUsdGhpcy5udW1WYWx1ZT1uLHRoaXMuc3RyVmFsdWU9cn1yZXR1cm4gdC5wcm90b3R5cGUuaXNDaGFyYWN0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHlwZT09cHUuQ2hhcmFjdGVyJiZ0aGlzLm51bVZhbHVlPT10fSx0LnByb3RvdHlwZS5pc051bWJlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGU9PXB1Lk51bWJlcn0sdC5wcm90b3R5cGUuaXNTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlPT1wdS5TdHJpbmd9LHQucHJvdG90eXBlLmlzT3BlcmF0b3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHlwZT09cHUuT3BlcmF0b3ImJnRoaXMuc3RyVmFsdWU9PXR9LHQucHJvdG90eXBlLmlzSWRlbnRpZmllcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGU9PXB1LklkZW50aWZpZXJ9LHQucHJvdG90eXBlLmlzS2V5d29yZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGU9PXB1LktleXdvcmR9LHQucHJvdG90eXBlLmlzS2V5d29yZExldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGU9PXB1LktleXdvcmQmJlwibGV0XCI9PXRoaXMuc3RyVmFsdWV9LHQucHJvdG90eXBlLmlzS2V5d29yZE51bGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlPT1wdS5LZXl3b3JkJiZcIm51bGxcIj09dGhpcy5zdHJWYWx1ZX0sdC5wcm90b3R5cGUuaXNLZXl3b3JkVW5kZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZT09cHUuS2V5d29yZCYmXCJ1bmRlZmluZWRcIj09dGhpcy5zdHJWYWx1ZX0sdC5wcm90b3R5cGUuaXNLZXl3b3JkVHJ1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGU9PXB1LktleXdvcmQmJlwidHJ1ZVwiPT10aGlzLnN0clZhbHVlfSx0LnByb3RvdHlwZS5pc0tleXdvcmRGYWxzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGU9PXB1LktleXdvcmQmJlwiZmFsc2VcIj09dGhpcy5zdHJWYWx1ZX0sdC5wcm90b3R5cGUuaXNLZXl3b3JkVGhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGU9PXB1LktleXdvcmQmJlwidGhpc1wiPT10aGlzLnN0clZhbHVlfSx0LnByb3RvdHlwZS5pc0Vycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZT09cHUuRXJyb3J9LHQucHJvdG90eXBlLnRvTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZT09cHUuTnVtYmVyP3RoaXMubnVtVmFsdWU6LTF9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSBwdS5DaGFyYWN0ZXI6Y2FzZSBwdS5JZGVudGlmaWVyOmNhc2UgcHUuS2V5d29yZDpjYXNlIHB1Lk9wZXJhdG9yOmNhc2UgcHUuU3RyaW5nOmNhc2UgcHUuRXJyb3I6cmV0dXJuIHRoaXMuc3RyVmFsdWU7Y2FzZSBwdS5OdW1iZXI6cmV0dXJuIHRoaXMubnVtVmFsdWUudG9TdHJpbmcoKTtkZWZhdWx0OnJldHVybiBudWxsfX0sdH0oKSx5dT1uZXcgZHUoLTEscHUuQ2hhcmFjdGVyLDAsXCJcIiksbXU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuaW5wdXQ9dCx0aGlzLnBlZWs9MCx0aGlzLmluZGV4PS0xLHRoaXMubGVuZ3RoPXQubGVuZ3RoLHRoaXMuYWR2YW5jZSgpfXJldHVybiB0LnByb3RvdHlwZS5hZHZhbmNlPWZ1bmN0aW9uKCl7dGhpcy5wZWVrPSsrdGhpcy5pbmRleD49dGhpcy5sZW5ndGg/UnM6dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuaW5kZXgpfSx0LnByb3RvdHlwZS5zY2FuVG9rZW49ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5pbnB1dCxlPXRoaXMubGVuZ3RoLG49dGhpcy5wZWVrLHI9dGhpcy5pbmRleDtuPD1Mczspe2lmKCsrcj49ZSl7bj1SczticmVha31uPXQuY2hhckNvZGVBdChyKX1pZih0aGlzLnBlZWs9bix0aGlzLmluZGV4PXIscj49ZSlyZXR1cm4gbnVsbDtpZihVKG4pKXJldHVybiB0aGlzLnNjYW5JZGVudGlmaWVyKCk7aWYoTyhuKSlyZXR1cm4gdGhpcy5zY2FuTnVtYmVyKHIpO3ZhciBpPXI7c3dpdGNoKG4pe2Nhc2UgWnM6cmV0dXJuIHRoaXMuYWR2YW5jZSgpLE8odGhpcy5wZWVrKT90aGlzLnNjYW5OdW1iZXIoaSk6SShpLFpzKTtjYXNlIEdzOmNhc2UgWHM6Y2FzZSBUYTpjYXNlIE1hOmNhc2UgZmE6Y2FzZSB5YTpjYXNlIFlzOmNhc2UgdGE6Y2FzZSBlYTpyZXR1cm4gdGhpcy5zY2FuQ2hhcmFjdGVyKGksbik7Y2FzZSBXczpjYXNlIFVzOnJldHVybiB0aGlzLnNjYW5TdHJpbmcoKTtjYXNlIEhzOmNhc2UgUXM6Y2FzZSBLczpjYXNlICRzOmNhc2UgSnM6Y2FzZSBxczpjYXNlIG1hOnJldHVybiB0aGlzLnNjYW5PcGVyYXRvcihpLFN0cmluZy5mcm9tQ2hhckNvZGUobikpO2Nhc2Ugb2E6cmV0dXJuIHRoaXMuc2NhbkNvbXBsZXhPcGVyYXRvcihpLFwiP1wiLFpzLFwiLlwiKTtjYXNlIG5hOmNhc2UgaWE6cmV0dXJuIHRoaXMuc2NhbkNvbXBsZXhPcGVyYXRvcihpLFN0cmluZy5mcm9tQ2hhckNvZGUobikscmEsXCI9XCIpO2Nhc2UgRnM6Y2FzZSByYTpyZXR1cm4gdGhpcy5zY2FuQ29tcGxleE9wZXJhdG9yKGksU3RyaW5nLmZyb21DaGFyQ29kZShuKSxyYSxcIj1cIixyYSxcIj1cIik7Y2FzZSB6czpyZXR1cm4gdGhpcy5zY2FuQ29tcGxleE9wZXJhdG9yKGksXCImXCIsenMsXCImXCIpO2Nhc2UgQWE6cmV0dXJuIHRoaXMuc2NhbkNvbXBsZXhPcGVyYXRvcihpLFwifFwiLEFhLFwifFwiKTtjYXNlIGthOmZvcig7UCh0aGlzLnBlZWspOyl0aGlzLmFkdmFuY2UoKTtyZXR1cm4gdGhpcy5zY2FuVG9rZW4oKX1yZXR1cm4gdGhpcy5hZHZhbmNlKCksdGhpcy5lcnJvcihcIlVuZXhwZWN0ZWQgY2hhcmFjdGVyIFtcIitTdHJpbmcuZnJvbUNoYXJDb2RlKG4pK1wiXVwiLDApfSx0LnByb3RvdHlwZS5zY2FuQ2hhcmFjdGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWR2YW5jZSgpLEkodCxlKX0sdC5wcm90b3R5cGUuc2Nhbk9wZXJhdG9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWR2YW5jZSgpLGoodCxlKX0sdC5wcm90b3R5cGUuc2NhbkNvbXBsZXhPcGVyYXRvcj1mdW5jdGlvbih0LGUsbixyLGksbyl7dGhpcy5hZHZhbmNlKCk7dmFyIHM9ZTtyZXR1cm4gdGhpcy5wZWVrPT1uJiYodGhpcy5hZHZhbmNlKCkscys9ciksbnVsbCE9aSYmdGhpcy5wZWVrPT1pJiYodGhpcy5hZHZhbmNlKCkscys9byksaih0LHMpfSx0LnByb3RvdHlwZS5zY2FuSWRlbnRpZmllcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaW5kZXg7Zm9yKHRoaXMuYWR2YW5jZSgpO0IodGhpcy5wZWVrKTspdGhpcy5hZHZhbmNlKCk7dmFyIGU9dGhpcy5pbnB1dC5zdWJzdHJpbmcodCx0aGlzLmluZGV4KTtyZXR1cm4gaHUuaW5kZXhPZihlKT4tMT9EKHQsZSk6Tih0LGUpfSx0LnByb3RvdHlwZS5zY2FuTnVtYmVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaW5kZXg9PT10O2Zvcih0aGlzLmFkdmFuY2UoKTs7KXtpZihPKHRoaXMucGVlaykpO2Vsc2UgaWYodGhpcy5wZWVrPT1acyllPSExO2Vsc2V7aWYoIXEodGhpcy5wZWVrKSlicmVhaztpZih0aGlzLmFkdmFuY2UoKSx6KHRoaXMucGVlaykmJnRoaXMuYWR2YW5jZSgpLCFPKHRoaXMucGVlaykpcmV0dXJuIHRoaXMuZXJyb3IoXCJJbnZhbGlkIGV4cG9uZW50XCIsLTEpO2U9ITF9dGhpcy5hZHZhbmNlKCl9dmFyIG49dGhpcy5pbnB1dC5zdWJzdHJpbmcodCx0aGlzLmluZGV4KSxyPWU/bm8ucGFyc2VJbnRBdXRvUmFkaXgobik6cGFyc2VGbG9hdChuKTtyZXR1cm4gTCh0LHIpfSx0LnByb3RvdHlwZS5zY2FuU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pbmRleCxlPXRoaXMucGVlazt0aGlzLmFkdmFuY2UoKTtmb3IodmFyIG49XCJcIixyPXRoaXMuaW5kZXgsaT10aGlzLmlucHV0O3RoaXMucGVlayE9ZTspaWYodGhpcy5wZWVrPT1kYSl7bis9aS5zdWJzdHJpbmcocix0aGlzLmluZGV4KSx0aGlzLmFkdmFuY2UoKTt2YXIgbz12b2lkIDA7aWYodGhpcy5wZWVrPT1TYSl7dmFyIHM9aS5zdWJzdHJpbmcodGhpcy5pbmRleCsxLHRoaXMuaW5kZXgrNSk7aWYoIS9eWzAtOWEtZl0rJC9pLnRlc3QocykpcmV0dXJuIHRoaXMuZXJyb3IoXCJJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIFtcXFxcdVwiK3MrXCJdXCIsMCk7bz1wYXJzZUludChzLDE2KTtmb3IodmFyIGE9MDthPDU7YSsrKXRoaXMuYWR2YW5jZSgpfWVsc2Ugbz1HKHRoaXMucGVlayksdGhpcy5hZHZhbmNlKCk7bis9U3RyaW5nLmZyb21DaGFyQ29kZShvKSxyPXRoaXMuaW5kZXh9ZWxzZXtpZih0aGlzLnBlZWs9PVJzKXJldHVybiB0aGlzLmVycm9yKFwiVW50ZXJtaW5hdGVkIHF1b3RlXCIsMCk7dGhpcy5hZHZhbmNlKCl9dmFyIHU9aS5zdWJzdHJpbmcocix0aGlzLmluZGV4KTtyZXR1cm4gdGhpcy5hZHZhbmNlKCksVih0LG4rdSl9LHQucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5pbmRleCtlO3JldHVybiBGKG4sXCJMZXhlciBFcnJvcjogXCIrdCtcIiBhdCBjb2x1bW4gXCIrbitcIiBpbiBleHByZXNzaW9uIFtcIit0aGlzLmlucHV0K1wiXVwiKX0sdH0oKSx2dT10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSxndT10aGlzJiZ0aGlzLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sX3U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLnN0cmluZ3M9dCx0aGlzLmV4cHJlc3Npb25zPWUsdGhpcy5vZmZzZXRzPW59cmV0dXJuIHR9KCksYnU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLnRlbXBsYXRlQmluZGluZ3M9dCx0aGlzLndhcm5pbmdzPWUsdGhpcy5lcnJvcnM9bn1yZXR1cm4gdH0oKSx3dT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fbGV4ZXI9dCx0aGlzLmVycm9ycz1bXX1yZXR1cm4gdC5wcm90b3R5cGUucGFyc2VBY3Rpb249ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPURhKSx0aGlzLl9jaGVja05vSW50ZXJwb2xhdGlvbih0LGUsbik7dmFyIHI9dGhpcy5fc3RyaXBDb21tZW50cyh0KSxpPXRoaXMuX2xleGVyLnRva2VuaXplKHRoaXMuX3N0cmlwQ29tbWVudHModCkpLG89bmV3IEN1KHQsZSxpLHIubGVuZ3RoLCEwLHRoaXMuZXJyb3JzLHQubGVuZ3RoLXIubGVuZ3RoKS5wYXJzZUNoYWluKCk7cmV0dXJuIG5ldyBzdShvLHQsZSx0aGlzLmVycm9ycyl9LHQucHJvdG90eXBlLnBhcnNlQmluZGluZz1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49RGEpO3ZhciByPXRoaXMuX3BhcnNlQmluZGluZ0FzdCh0LGUsbik7cmV0dXJuIG5ldyBzdShyLHQsZSx0aGlzLmVycm9ycyl9LHQucHJvdG90eXBlLnBhcnNlU2ltcGxlQmluZGluZz1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49RGEpO3ZhciByPXRoaXMuX3BhcnNlQmluZGluZ0FzdCh0LGUsbiksaT1FdS5jaGVjayhyKTtyZXR1cm4gaS5sZW5ndGg+MCYmdGhpcy5fcmVwb3J0RXJyb3IoXCJIb3N0IGJpbmRpbmcgZXhwcmVzc2lvbiBjYW5ub3QgY29udGFpbiBcIitpLmpvaW4oXCIgXCIpLHQsZSksbmV3IHN1KHIsdCxlLHRoaXMuZXJyb3JzKX0sdC5wcm90b3R5cGUuX3JlcG9ydEVycm9yPWZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMuZXJyb3JzLnB1c2gobmV3IFZhKHQsZSxuLHIpKX0sdC5wcm90b3R5cGUuX3BhcnNlQmluZGluZ0FzdD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fcGFyc2VRdW90ZSh0LGUpO2lmKHIoaSkpcmV0dXJuIGk7dGhpcy5fY2hlY2tOb0ludGVycG9sYXRpb24odCxlLG4pO3ZhciBvPXRoaXMuX3N0cmlwQ29tbWVudHModCkscz10aGlzLl9sZXhlci50b2tlbml6ZShvKTtyZXR1cm4gbmV3IEN1KHQsZSxzLG8ubGVuZ3RoLCExLHRoaXMuZXJyb3JzLHQubGVuZ3RoLW8ubGVuZ3RoKS5wYXJzZUNoYWluKCl9LHQucHJvdG90eXBlLl9wYXJzZVF1b3RlPWZ1bmN0aW9uKHQsZSl7aWYoaSh0KSlyZXR1cm4gbnVsbDt2YXIgbj10LmluZGV4T2YoXCI6XCIpO2lmKG49PS0xKXJldHVybiBudWxsO3ZhciByPXQuc3Vic3RyaW5nKDAsbikudHJpbSgpO2lmKCFIKHIpKXJldHVybiBudWxsO3ZhciBvPXQuc3Vic3RyaW5nKG4rMSk7cmV0dXJuIG5ldyBVYShuZXcgTGEoMCx0Lmxlbmd0aCkscixvLGUpfSx0LnByb3RvdHlwZS5wYXJzZVRlbXBsYXRlQmluZGluZ3M9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2xleGVyLnRva2VuaXplKGUpO2lmKHQpe3ZhciBpPXRoaXMuX2xleGVyLnRva2VuaXplKHQpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5pbmRleD0wLHR9KTtyLnVuc2hpZnQuYXBwbHkocixpKX1yZXR1cm4gbmV3IEN1KGUsbixyLGUubGVuZ3RoLCExLHRoaXMuZXJyb3JzLDApLnBhcnNlVGVtcGxhdGVCaW5kaW5ncygpfSx0LnByb3RvdHlwZS5wYXJzZUludGVycG9sYXRpb249ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPURhKTt2YXIgcj10aGlzLnNwbGl0SW50ZXJwb2xhdGlvbih0LGUsbik7aWYobnVsbD09cilyZXR1cm4gbnVsbDtmb3IodmFyIG89W10scz0wO3M8ci5leHByZXNzaW9ucy5sZW5ndGg7KytzKXt2YXIgYT1yLmV4cHJlc3Npb25zW3NdLHU9dGhpcy5fc3RyaXBDb21tZW50cyhhKSxjPXRoaXMuX2xleGVyLnRva2VuaXplKHRoaXMuX3N0cmlwQ29tbWVudHMoci5leHByZXNzaW9uc1tzXSkpLGw9bmV3IEN1KHQsZSxjLHUubGVuZ3RoLCExLHRoaXMuZXJyb3JzLHIub2Zmc2V0c1tzXSsoYS5sZW5ndGgtdS5sZW5ndGgpKS5wYXJzZUNoYWluKCk7by5wdXNoKGwpfXJldHVybiBuZXcgc3UobmV3IHR1KG5ldyBMYSgwLGkodCk/MDp0Lmxlbmd0aCksci5zdHJpbmdzLG8pLHQsZSx0aGlzLmVycm9ycyl9LHQucHJvdG90eXBlLnNwbGl0SW50ZXJwb2xhdGlvbj1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49RGEpO3ZhciByPVgobiksaT10LnNwbGl0KHIpO2lmKGkubGVuZ3RoPD0xKXJldHVybiBudWxsO2Zvcih2YXIgbz1bXSxzPVtdLGE9W10sdT0wLGM9MDtjPGkubGVuZ3RoO2MrKyl7dmFyIGw9aVtjXTtjJTI9PT0wPyhvLnB1c2gobCksdSs9bC5sZW5ndGgpOmwudHJpbSgpLmxlbmd0aD4wPyh1Kz1uLnN0YXJ0Lmxlbmd0aCxzLnB1c2gobCksYS5wdXNoKHUpLHUrPWwubGVuZ3RoK24uZW5kLmxlbmd0aCk6KHRoaXMuX3JlcG9ydEVycm9yKFwiQmxhbmsgZXhwcmVzc2lvbnMgYXJlIG5vdCBhbGxvd2VkIGluIGludGVycG9sYXRlZCBzdHJpbmdzXCIsdCxcImF0IGNvbHVtbiBcIit0aGlzLl9maW5kSW50ZXJwb2xhdGlvbkVycm9yQ29sdW1uKGksYyxuKStcIiBpblwiLGUpLHMucHVzaChcIiRpbXBsaWN0XCIpLGEucHVzaCh1KSl9cmV0dXJuIG5ldyBfdShvLHMsYSl9LHQucHJvdG90eXBlLndyYXBMaXRlcmFsUHJpbWl0aXZlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzdShuZXcgS2EobmV3IExhKDAsaSh0KT8wOnQubGVuZ3RoKSx0KSx0LGUsdGhpcy5lcnJvcnMpfSx0LnByb3RvdHlwZS5fc3RyaXBDb21tZW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb21tZW50U3RhcnQodCk7cmV0dXJuIHIoZSk/dC5zdWJzdHJpbmcoMCxlKS50cmltKCk6dH0sdC5wcm90b3R5cGUuX2NvbW1lbnRTdGFydD1mdW5jdGlvbih0KXtmb3IodmFyIGU9bnVsbCxuPTA7bjx0Lmxlbmd0aC0xO24rKyl7dmFyIHI9dC5jaGFyQ29kZUF0KG4pLG89dC5jaGFyQ29kZUF0KG4rMSk7aWYocj09PUpzJiZvPT1KcyYmaShlKSlyZXR1cm4gbjtlPT09cj9lPW51bGw6aShlKSYmVyhyKSYmKGU9cil9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9jaGVja05vSW50ZXJwb2xhdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9WChuKSxpPXQuc3BsaXQocik7aS5sZW5ndGg+MSYmdGhpcy5fcmVwb3J0RXJyb3IoXCJHb3QgaW50ZXJwb2xhdGlvbiAoXCIrbi5zdGFydCtuLmVuZCtcIikgd2hlcmUgZXhwcmVzc2lvbiB3YXMgZXhwZWN0ZWRcIix0LFwiYXQgY29sdW1uIFwiK3RoaXMuX2ZpbmRJbnRlcnBvbGF0aW9uRXJyb3JDb2x1bW4oaSwxLG4pK1wiIGluXCIsZSl9LHQucHJvdG90eXBlLl9maW5kSW50ZXJwb2xhdGlvbkVycm9yQ29sdW1uPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9XCJcIixpPTA7aTxlO2krKylyKz1pJTI9PT0wP3RbaV06XCJcIituLnN0YXJ0K3RbaV0rbi5lbmQ7cmV0dXJuIHIubGVuZ3RofSx0PXZ1KFtNKCksZ3UoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtmdV0pXSx0KX0oKSxDdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8scyl7dGhpcy5pbnB1dD10LHRoaXMubG9jYXRpb249ZSx0aGlzLnRva2Vucz1uLHRoaXMuaW5wdXRMZW5ndGg9cix0aGlzLnBhcnNlQWN0aW9uPWksdGhpcy5lcnJvcnM9byx0aGlzLm9mZnNldD1zLHRoaXMucnBhcmVuc0V4cGVjdGVkPTAsdGhpcy5yYnJhY2tldHNFeHBlY3RlZD0wLHRoaXMucmJyYWNlc0V4cGVjdGVkPTAsdGhpcy5pbmRleD0wfXJldHVybiB0LnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaW5kZXgrdDtyZXR1cm4gZTx0aGlzLnRva2Vucy5sZW5ndGg/dGhpcy50b2tlbnNbZV06eXV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5leHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGVlaygwKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpbnB1dEluZGV4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4PHRoaXMudG9rZW5zLmxlbmd0aD90aGlzLm5leHQuaW5kZXgrdGhpcy5vZmZzZXQ6dGhpcy5pbnB1dExlbmd0aCt0aGlzLm9mZnNldH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5zcGFuPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTGEodCx0aGlzLmlucHV0SW5kZXgpfSx0LnByb3RvdHlwZS5hZHZhbmNlPWZ1bmN0aW9uKCl7dGhpcy5pbmRleCsrfSx0LnByb3RvdHlwZS5vcHRpb25hbENoYXJhY3Rlcj1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMubmV4dC5pc0NoYXJhY3Rlcih0KSYmKHRoaXMuYWR2YW5jZSgpLCEwKX0sdC5wcm90b3R5cGUucGVla0tleXdvcmRMZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXh0LmlzS2V5d29yZExldCgpfSx0LnByb3RvdHlwZS5leHBlY3RDaGFyYWN0ZXI9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25hbENoYXJhY3Rlcih0KXx8dGhpcy5lcnJvcihcIk1pc3NpbmcgZXhwZWN0ZWQgXCIrU3RyaW5nLmZyb21DaGFyQ29kZSh0KSl9LHQucHJvdG90eXBlLm9wdGlvbmFsT3BlcmF0b3I9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLm5leHQuaXNPcGVyYXRvcih0KSYmKHRoaXMuYWR2YW5jZSgpLCEwKX0sdC5wcm90b3R5cGUuZXhwZWN0T3BlcmF0b3I9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25hbE9wZXJhdG9yKHQpfHx0aGlzLmVycm9yKFwiTWlzc2luZyBleHBlY3RlZCBvcGVyYXRvciBcIit0KX0sdC5wcm90b3R5cGUuZXhwZWN0SWRlbnRpZmllck9yS2V5d29yZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMubmV4dDtyZXR1cm4gdC5pc0lkZW50aWZpZXIoKXx8dC5pc0tleXdvcmQoKT8odGhpcy5hZHZhbmNlKCksdC50b1N0cmluZygpKToodGhpcy5lcnJvcihcIlVuZXhwZWN0ZWQgdG9rZW4gXCIrdCtcIiwgZXhwZWN0ZWQgaWRlbnRpZmllciBvciBrZXl3b3JkXCIpLFwiXCIpfSx0LnByb3RvdHlwZS5leHBlY3RJZGVudGlmaWVyT3JLZXl3b3JkT3JTdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5leHQ7cmV0dXJuIHQuaXNJZGVudGlmaWVyKCl8fHQuaXNLZXl3b3JkKCl8fHQuaXNTdHJpbmcoKT8odGhpcy5hZHZhbmNlKCksdC50b1N0cmluZygpKToodGhpcy5lcnJvcihcIlVuZXhwZWN0ZWQgdG9rZW4gXCIrdCtcIiwgZXhwZWN0ZWQgaWRlbnRpZmllciwga2V5d29yZCwgb3Igc3RyaW5nXCIpLFwiXCIpfSx0LnByb3RvdHlwZS5wYXJzZUNoYWluPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy5pbnB1dEluZGV4O3RoaXMuaW5kZXg8dGhpcy50b2tlbnMubGVuZ3RoOyl7dmFyIG49dGhpcy5wYXJzZVBpcGUoKTtpZih0LnB1c2gobiksdGhpcy5vcHRpb25hbENoYXJhY3RlcihlYSkpZm9yKHRoaXMucGFyc2VBY3Rpb258fHRoaXMuZXJyb3IoXCJCaW5kaW5nIGV4cHJlc3Npb24gY2Fubm90IGNvbnRhaW4gY2hhaW5lZCBleHByZXNzaW9uXCIpO3RoaXMub3B0aW9uYWxDaGFyYWN0ZXIoZWEpOyk7ZWxzZSB0aGlzLmluZGV4PHRoaXMudG9rZW5zLmxlbmd0aCYmdGhpcy5lcnJvcihcIlVuZXhwZWN0ZWQgdG9rZW4gJ1wiK3RoaXMubmV4dCtcIidcIil9cmV0dXJuIDA9PXQubGVuZ3RoP25ldyBIYSh0aGlzLnNwYW4oZSkpOjE9PXQubGVuZ3RoP3RbMF06bmV3IHFhKHRoaXMuc3BhbihlKSx0KX0sdC5wcm90b3R5cGUucGFyc2VQaXBlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJzZUV4cHJlc3Npb24oKTtpZih0aGlzLm9wdGlvbmFsT3BlcmF0b3IoXCJ8XCIpKXt0aGlzLnBhcnNlQWN0aW9uJiZ0aGlzLmVycm9yKFwiQ2Fubm90IGhhdmUgYSBwaXBlIGluIGFuIGFjdGlvbiBleHByZXNzaW9uXCIpO2Rve2Zvcih2YXIgZT10aGlzLmV4cGVjdElkZW50aWZpZXJPcktleXdvcmQoKSxuPVtdO3RoaXMub3B0aW9uYWxDaGFyYWN0ZXIodGEpOyluLnB1c2godGhpcy5wYXJzZUV4cHJlc3Npb24oKSk7dD1uZXcgWWEodGhpcy5zcGFuKHQuc3Bhbi5zdGFydCksdCxlLG4pfXdoaWxlKHRoaXMub3B0aW9uYWxPcGVyYXRvcihcInxcIikpfXJldHVybiB0fSx0LnByb3RvdHlwZS5wYXJzZUV4cHJlc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZUNvbmRpdGlvbmFsKCl9LHQucHJvdG90eXBlLnBhcnNlQ29uZGl0aW9uYWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmlucHV0SW5kZXgsZT10aGlzLnBhcnNlTG9naWNhbE9yKCk7aWYodGhpcy5vcHRpb25hbE9wZXJhdG9yKFwiP1wiKSl7dmFyIG49dGhpcy5wYXJzZVBpcGUoKSxyPXZvaWQgMDtpZih0aGlzLm9wdGlvbmFsQ2hhcmFjdGVyKHRhKSlyPXRoaXMucGFyc2VQaXBlKCk7ZWxzZXt2YXIgaT10aGlzLmlucHV0SW5kZXgsbz10aGlzLmlucHV0LnN1YnN0cmluZyh0LGkpO3RoaXMuZXJyb3IoXCJDb25kaXRpb25hbCBleHByZXNzaW9uIFwiK28rXCIgcmVxdWlyZXMgYWxsIDMgZXhwcmVzc2lvbnNcIikscj1uZXcgSGEodGhpcy5zcGFuKHQpKX1yZXR1cm4gbmV3IHphKHRoaXMuc3Bhbih0KSxlLG4scil9cmV0dXJuIGV9LHQucHJvdG90eXBlLnBhcnNlTG9naWNhbE9yPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucGFyc2VMb2dpY2FsQW5kKCk7dGhpcy5vcHRpb25hbE9wZXJhdG9yKFwifHxcIik7KXt2YXIgZT10aGlzLnBhcnNlTG9naWNhbEFuZCgpO3Q9bmV3IGV1KHRoaXMuc3Bhbih0LnNwYW4uc3RhcnQpLFwifHxcIix0LGUpfXJldHVybiB0fSx0LnByb3RvdHlwZS5wYXJzZUxvZ2ljYWxBbmQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5wYXJzZUVxdWFsaXR5KCk7dGhpcy5vcHRpb25hbE9wZXJhdG9yKFwiJiZcIik7KXt2YXIgZT10aGlzLnBhcnNlRXF1YWxpdHkoKTt0PW5ldyBldSh0aGlzLnNwYW4odC5zcGFuLnN0YXJ0KSxcIiYmXCIsdCxlKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUucGFyc2VFcXVhbGl0eT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBhcnNlUmVsYXRpb25hbCgpO3RoaXMubmV4dC50eXBlPT1wdS5PcGVyYXRvcjspe3ZhciBlPXRoaXMubmV4dC5zdHJWYWx1ZTtzd2l0Y2goZSl7Y2FzZVwiPT1cIjpjYXNlXCI9PT1cIjpjYXNlXCIhPVwiOmNhc2VcIiE9PVwiOnRoaXMuYWR2YW5jZSgpO3ZhciBuPXRoaXMucGFyc2VSZWxhdGlvbmFsKCk7dD1uZXcgZXUodGhpcy5zcGFuKHQuc3Bhbi5zdGFydCksZSx0LG4pO2NvbnRpbnVlfWJyZWFrfXJldHVybiB0fSx0LnByb3RvdHlwZS5wYXJzZVJlbGF0aW9uYWw9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5wYXJzZUFkZGl0aXZlKCk7dGhpcy5uZXh0LnR5cGU9PXB1Lk9wZXJhdG9yOyl7dmFyIGU9dGhpcy5uZXh0LnN0clZhbHVlO3N3aXRjaChlKXtjYXNlXCI8XCI6Y2FzZVwiPlwiOmNhc2VcIjw9XCI6Y2FzZVwiPj1cIjp0aGlzLmFkdmFuY2UoKTt2YXIgbj10aGlzLnBhcnNlQWRkaXRpdmUoKTt0PW5ldyBldSh0aGlzLnNwYW4odC5zcGFuLnN0YXJ0KSxlLHQsbik7Y29udGludWV9YnJlYWt9cmV0dXJuIHR9LHQucHJvdG90eXBlLnBhcnNlQWRkaXRpdmU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5wYXJzZU11bHRpcGxpY2F0aXZlKCk7dGhpcy5uZXh0LnR5cGU9PXB1Lk9wZXJhdG9yOyl7dmFyIGU9dGhpcy5uZXh0LnN0clZhbHVlO3N3aXRjaChlKXtjYXNlXCIrXCI6Y2FzZVwiLVwiOnRoaXMuYWR2YW5jZSgpO3ZhciBuPXRoaXMucGFyc2VNdWx0aXBsaWNhdGl2ZSgpO3Q9bmV3IGV1KHRoaXMuc3Bhbih0LnNwYW4uc3RhcnQpLGUsdCxuKTtjb250aW51ZX1icmVha31yZXR1cm4gdH0sdC5wcm90b3R5cGUucGFyc2VNdWx0aXBsaWNhdGl2ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBhcnNlUHJlZml4KCk7dGhpcy5uZXh0LnR5cGU9PXB1Lk9wZXJhdG9yOyl7dmFyIGU9dGhpcy5uZXh0LnN0clZhbHVlO3N3aXRjaChlKXtjYXNlXCIqXCI6Y2FzZVwiJVwiOmNhc2VcIi9cIjp0aGlzLmFkdmFuY2UoKTt2YXIgbj10aGlzLnBhcnNlUHJlZml4KCk7dD1uZXcgZXUodGhpcy5zcGFuKHQuc3Bhbi5zdGFydCksZSx0LG4pO2NvbnRpbnVlfWJyZWFrfXJldHVybiB0fSx0LnByb3RvdHlwZS5wYXJzZVByZWZpeD1mdW5jdGlvbigpe2lmKHRoaXMubmV4dC50eXBlPT1wdS5PcGVyYXRvcil7dmFyIHQ9dGhpcy5pbnB1dEluZGV4LGU9dGhpcy5uZXh0LnN0clZhbHVlLG49dm9pZCAwO3N3aXRjaChlKXtjYXNlXCIrXCI6cmV0dXJuIHRoaXMuYWR2YW5jZSgpLHRoaXMucGFyc2VQcmVmaXgoKTtjYXNlXCItXCI6cmV0dXJuIHRoaXMuYWR2YW5jZSgpLG49dGhpcy5wYXJzZVByZWZpeCgpLG5ldyBldSh0aGlzLnNwYW4odCksZSxuZXcgS2EobmV3IExhKHQsdCksMCksbik7Y2FzZVwiIVwiOnJldHVybiB0aGlzLmFkdmFuY2UoKSxuPXRoaXMucGFyc2VQcmVmaXgoKSxuZXcgbnUodGhpcy5zcGFuKHQpLG4pfX1yZXR1cm4gdGhpcy5wYXJzZUNhbGxDaGFpbigpfSx0LnByb3RvdHlwZS5wYXJzZUNhbGxDaGFpbj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBhcnNlUHJpbWFyeSgpOzspaWYodGhpcy5vcHRpb25hbENoYXJhY3RlcihacykpdD10aGlzLnBhcnNlQWNjZXNzTWVtYmVyT3JNZXRob2RDYWxsKHQsITEpO2Vsc2UgaWYodGhpcy5vcHRpb25hbE9wZXJhdG9yKFwiPy5cIikpdD10aGlzLnBhcnNlQWNjZXNzTWVtYmVyT3JNZXRob2RDYWxsKHQsITApO2Vsc2UgaWYodGhpcy5vcHRpb25hbENoYXJhY3RlcihmYSkpe3RoaXMucmJyYWNrZXRzRXhwZWN0ZWQrKzt2YXIgZT10aGlzLnBhcnNlUGlwZSgpO2lmKHRoaXMucmJyYWNrZXRzRXhwZWN0ZWQtLSx0aGlzLmV4cGVjdENoYXJhY3Rlcih5YSksdGhpcy5vcHRpb25hbE9wZXJhdG9yKFwiPVwiKSl7dmFyIG49dGhpcy5wYXJzZUNvbmRpdGlvbmFsKCk7dD1uZXcgUWEodGhpcy5zcGFuKHQuc3Bhbi5zdGFydCksdCxlLG4pfWVsc2UgdD1uZXcgJGEodGhpcy5zcGFuKHQuc3Bhbi5zdGFydCksdCxlKX1lbHNle2lmKCF0aGlzLm9wdGlvbmFsQ2hhcmFjdGVyKEdzKSlyZXR1cm4gdDt0aGlzLnJwYXJlbnNFeHBlY3RlZCsrO3ZhciByPXRoaXMucGFyc2VDYWxsQXJndW1lbnRzKCk7dGhpcy5ycGFyZW5zRXhwZWN0ZWQtLSx0aGlzLmV4cGVjdENoYXJhY3RlcihYcyksdD1uZXcgb3UodGhpcy5zcGFuKHQuc3Bhbi5zdGFydCksdCxyKX19LHQucHJvdG90eXBlLnBhcnNlUHJpbWFyeT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaW5wdXRJbmRleDtpZih0aGlzLm9wdGlvbmFsQ2hhcmFjdGVyKEdzKSl7dGhpcy5ycGFyZW5zRXhwZWN0ZWQrKzt2YXIgZT10aGlzLnBhcnNlUGlwZSgpO3JldHVybiB0aGlzLnJwYXJlbnNFeHBlY3RlZC0tLHRoaXMuZXhwZWN0Q2hhcmFjdGVyKFhzKSxlfWlmKHRoaXMubmV4dC5pc0tleXdvcmROdWxsKCkpcmV0dXJuIHRoaXMuYWR2YW5jZSgpLG5ldyBLYSh0aGlzLnNwYW4odCksbnVsbCk7aWYodGhpcy5uZXh0LmlzS2V5d29yZFVuZGVmaW5lZCgpKXJldHVybiB0aGlzLmFkdmFuY2UoKSxuZXcgS2EodGhpcy5zcGFuKHQpLHZvaWQgMCk7aWYodGhpcy5uZXh0LmlzS2V5d29yZFRydWUoKSlyZXR1cm4gdGhpcy5hZHZhbmNlKCksbmV3IEthKHRoaXMuc3Bhbih0KSwhMCk7aWYodGhpcy5uZXh0LmlzS2V5d29yZEZhbHNlKCkpcmV0dXJuIHRoaXMuYWR2YW5jZSgpLG5ldyBLYSh0aGlzLnNwYW4odCksITEpO2lmKHRoaXMubmV4dC5pc0tleXdvcmRUaGlzKCkpcmV0dXJuIHRoaXMuYWR2YW5jZSgpLG5ldyBCYSh0aGlzLnNwYW4odCkpO2lmKHRoaXMub3B0aW9uYWxDaGFyYWN0ZXIoZmEpKXt0aGlzLnJicmFja2V0c0V4cGVjdGVkKys7dmFyIG49dGhpcy5wYXJzZUV4cHJlc3Npb25MaXN0KHlhKTtyZXR1cm4gdGhpcy5yYnJhY2tldHNFeHBlY3RlZC0tLHRoaXMuZXhwZWN0Q2hhcmFjdGVyKHlhKSxuZXcgWmEodGhpcy5zcGFuKHQpLG4pfWlmKHRoaXMubmV4dC5pc0NoYXJhY3RlcihUYSkpcmV0dXJuIHRoaXMucGFyc2VMaXRlcmFsTWFwKCk7aWYodGhpcy5uZXh0LmlzSWRlbnRpZmllcigpKXJldHVybiB0aGlzLnBhcnNlQWNjZXNzTWVtYmVyT3JNZXRob2RDYWxsKG5ldyBCYSh0aGlzLnNwYW4odCkpLCExKTtpZih0aGlzLm5leHQuaXNOdW1iZXIoKSl7dmFyIHI9dGhpcy5uZXh0LnRvTnVtYmVyKCk7cmV0dXJuIHRoaXMuYWR2YW5jZSgpLG5ldyBLYSh0aGlzLnNwYW4odCkscil9aWYodGhpcy5uZXh0LmlzU3RyaW5nKCkpe3ZhciBpPXRoaXMubmV4dC50b1N0cmluZygpO3JldHVybiB0aGlzLmFkdmFuY2UoKSxuZXcgS2EodGhpcy5zcGFuKHQpLGkpfXJldHVybiB0aGlzLmluZGV4Pj10aGlzLnRva2Vucy5sZW5ndGg/KHRoaXMuZXJyb3IoXCJVbmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uOiBcIit0aGlzLmlucHV0KSxuZXcgSGEodGhpcy5zcGFuKHQpKSk6KHRoaXMuZXJyb3IoXCJVbmV4cGVjdGVkIHRva2VuIFwiK3RoaXMubmV4dCksbmV3IEhhKHRoaXMuc3Bhbih0KSkpfSx0LnByb3RvdHlwZS5wYXJzZUV4cHJlc3Npb25MaXN0PWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKCF0aGlzLm5leHQuaXNDaGFyYWN0ZXIodCkpZG8gZS5wdXNoKHRoaXMucGFyc2VQaXBlKCkpO3doaWxlKHRoaXMub3B0aW9uYWxDaGFyYWN0ZXIoWXMpKTtyZXR1cm4gZX0sdC5wcm90b3R5cGUucGFyc2VMaXRlcmFsTWFwPWZ1bmN0aW9uKCl7dmFyIHQ9W10sZT1bXSxuPXRoaXMuaW5wdXRJbmRleDtpZih0aGlzLmV4cGVjdENoYXJhY3RlcihUYSksIXRoaXMub3B0aW9uYWxDaGFyYWN0ZXIoTWEpKXt0aGlzLnJicmFjZXNFeHBlY3RlZCsrO2Rve3ZhciByPXRoaXMuZXhwZWN0SWRlbnRpZmllck9yS2V5d29yZE9yU3RyaW5nKCk7dC5wdXNoKHIpLHRoaXMuZXhwZWN0Q2hhcmFjdGVyKHRhKSxlLnB1c2godGhpcy5wYXJzZVBpcGUoKSl9d2hpbGUodGhpcy5vcHRpb25hbENoYXJhY3RlcihZcykpO3RoaXMucmJyYWNlc0V4cGVjdGVkLS0sdGhpcy5leHBlY3RDaGFyYWN0ZXIoTWEpfXJldHVybiBuZXcgSmEodGhpcy5zcGFuKG4pLHQsZSl9LHQucHJvdG90eXBlLnBhcnNlQWNjZXNzTWVtYmVyT3JNZXRob2RDYWxsPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpO3ZhciBuPXQuc3Bhbi5zdGFydCxyPXRoaXMuZXhwZWN0SWRlbnRpZmllck9yS2V5d29yZCgpO2lmKHRoaXMub3B0aW9uYWxDaGFyYWN0ZXIoR3MpKXt0aGlzLnJwYXJlbnNFeHBlY3RlZCsrO3ZhciBpPXRoaXMucGFyc2VDYWxsQXJndW1lbnRzKCk7dGhpcy5leHBlY3RDaGFyYWN0ZXIoWHMpLHRoaXMucnBhcmVuc0V4cGVjdGVkLS07dmFyIG89dGhpcy5zcGFuKG4pO3JldHVybiBlP25ldyBpdShvLHQscixpKTpuZXcgcnUobyx0LHIsaSl9aWYoZSlyZXR1cm4gdGhpcy5vcHRpb25hbE9wZXJhdG9yKFwiPVwiKT8odGhpcy5lcnJvcihcIlRoZSAnPy4nIG9wZXJhdG9yIGNhbm5vdCBiZSB1c2VkIGluIHRoZSBhc3NpZ25tZW50XCIpLG5ldyBIYSh0aGlzLnNwYW4obikpKTpuZXcgWGEodGhpcy5zcGFuKG4pLHQscik7aWYodGhpcy5vcHRpb25hbE9wZXJhdG9yKFwiPVwiKSl7aWYoIXRoaXMucGFyc2VBY3Rpb24pcmV0dXJuIHRoaXMuZXJyb3IoXCJCaW5kaW5ncyBjYW5ub3QgY29udGFpbiBhc3NpZ25tZW50c1wiKSxuZXcgSGEodGhpcy5zcGFuKG4pKTt2YXIgcz10aGlzLnBhcnNlQ29uZGl0aW9uYWwoKTtyZXR1cm4gbmV3IEdhKHRoaXMuc3BhbihuKSx0LHIscyl9cmV0dXJuIG5ldyBXYSh0aGlzLnNwYW4obiksdCxyKX0sdC5wcm90b3R5cGUucGFyc2VDYWxsQXJndW1lbnRzPWZ1bmN0aW9uKCl7aWYodGhpcy5uZXh0LmlzQ2hhcmFjdGVyKFhzKSlyZXR1cm5bXTt2YXIgdD1bXTtkbyB0LnB1c2godGhpcy5wYXJzZVBpcGUoKSk7d2hpbGUodGhpcy5vcHRpb25hbENoYXJhY3RlcihZcykpO3JldHVybiB0fSx0LnByb3RvdHlwZS5leHBlY3RUZW1wbGF0ZUJpbmRpbmdLZXk9ZnVuY3Rpb24oKXt2YXIgdD1cIlwiLGU9ITE7ZG8gdCs9dGhpcy5leHBlY3RJZGVudGlmaWVyT3JLZXl3b3JkT3JTdHJpbmcoKSxlPXRoaXMub3B0aW9uYWxPcGVyYXRvcihcIi1cIiksZSYmKHQrPVwiLVwiKTt3aGlsZShlKTtyZXR1cm4gdC50b1N0cmluZygpfSx0LnByb3RvdHlwZS5wYXJzZVRlbXBsYXRlQmluZGluZ3M9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT1udWxsLG49W107dGhpcy5pbmRleDx0aGlzLnRva2Vucy5sZW5ndGg7KXt2YXIgcj10aGlzLmlucHV0SW5kZXgsaT10aGlzLnBlZWtLZXl3b3JkTGV0KCk7aSYmdGhpcy5hZHZhbmNlKCk7dmFyIG89dGhpcy5leHBlY3RUZW1wbGF0ZUJpbmRpbmdLZXkoKTtpfHwobnVsbD09ZT9lPW86bz1lK29bMF0udG9VcHBlckNhc2UoKStvLnN1YnN0cmluZygxKSksdGhpcy5vcHRpb25hbENoYXJhY3Rlcih0YSk7dmFyIHM9bnVsbCxhPW51bGw7aWYoaSlzPXRoaXMub3B0aW9uYWxPcGVyYXRvcihcIj1cIik/dGhpcy5leHBlY3RUZW1wbGF0ZUJpbmRpbmdLZXkoKTpcIiRpbXBsaWNpdFwiO2Vsc2UgaWYodGhpcy5uZXh0IT09eXUmJiF0aGlzLnBlZWtLZXl3b3JkTGV0KCkpe3ZhciB1PXRoaXMuaW5wdXRJbmRleCxjPXRoaXMucGFyc2VQaXBlKCksbD10aGlzLmlucHV0LnN1YnN0cmluZyh1LXRoaXMub2Zmc2V0LHRoaXMuaW5wdXRJbmRleC10aGlzLm9mZnNldCk7YT1uZXcgc3UoYyxsLHRoaXMubG9jYXRpb24sdGhpcy5lcnJvcnMpfXQucHVzaChuZXcgYXUodGhpcy5zcGFuKHIpLG8saSxzLGEpKSx0aGlzLm9wdGlvbmFsQ2hhcmFjdGVyKGVhKXx8dGhpcy5vcHRpb25hbENoYXJhY3RlcihZcyl9cmV0dXJuIG5ldyBidSh0LG4sdGhpcy5lcnJvcnMpfSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPW51bGwpLHRoaXMuZXJyb3JzLnB1c2gobmV3IFZhKHQsdGhpcy5pbnB1dCx0aGlzLmxvY2F0aW9uVGV4dChlKSx0aGlzLmxvY2F0aW9uKSksdGhpcy5za2lwKCl9LHQucHJvdG90eXBlLmxvY2F0aW9uVGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksaSh0KSYmKHQ9dGhpcy5pbmRleCksdDx0aGlzLnRva2Vucy5sZW5ndGg/XCJhdCBjb2x1bW4gXCIrKHRoaXMudG9rZW5zW3RdLmluZGV4KzEpK1wiIGluXCI6XCJhdCB0aGUgZW5kIG9mIHRoZSBleHByZXNzaW9uXCJ9LHQucHJvdG90eXBlLnNraXA9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5uZXh0O3RoaXMuaW5kZXg8dGhpcy50b2tlbnMubGVuZ3RoJiYhdC5pc0NoYXJhY3RlcihlYSkmJih0aGlzLnJwYXJlbnNFeHBlY3RlZDw9MHx8IXQuaXNDaGFyYWN0ZXIoWHMpKSYmKHRoaXMucmJyYWNlc0V4cGVjdGVkPD0wfHwhdC5pc0NoYXJhY3RlcihNYSkpJiYodGhpcy5yYnJhY2tldHNFeHBlY3RlZDw9MHx8IXQuaXNDaGFyYWN0ZXIoeWEpKTspdGhpcy5uZXh0LmlzRXJyb3IoKSYmdGhpcy5lcnJvcnMucHVzaChuZXcgVmEodGhpcy5uZXh0LnRvU3RyaW5nKCksdGhpcy5pbnB1dCx0aGlzLmxvY2F0aW9uVGV4dCgpLHRoaXMubG9jYXRpb24pKSx0aGlzLmFkdmFuY2UoKSx0PXRoaXMubmV4dH0sdH0oKSxFdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmVycm9ycz1bXX1yZXR1cm4gdC5jaGVjaz1mdW5jdGlvbihlKXt2YXIgbj1uZXcgdDtyZXR1cm4gZS52aXNpdChuKSxuLmVycm9yc30sdC5wcm90b3R5cGUudmlzaXRJbXBsaWNpdFJlY2VpdmVyPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS52aXNpdEludGVycG9sYXRpb249ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0TGl0ZXJhbFByaW1pdGl2ZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudmlzaXRQcm9wZXJ0eVJlYWQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0UHJvcGVydHlXcml0ZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudmlzaXRTYWZlUHJvcGVydHlSZWFkPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS52aXNpdE1ldGhvZENhbGw9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0U2FmZU1ldGhvZENhbGw9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0RnVuY3Rpb25DYWxsPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS52aXNpdExpdGVyYWxBcnJheT1mdW5jdGlvbih0LGUpe3RoaXMudmlzaXRBbGwodC5leHByZXNzaW9ucyl9LHQucHJvdG90eXBlLnZpc2l0TGl0ZXJhbE1hcD1mdW5jdGlvbih0LGUpe3RoaXMudmlzaXRBbGwodC52YWx1ZXMpfSx0LnByb3RvdHlwZS52aXNpdEJpbmFyeT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudmlzaXRQcmVmaXhOb3Q9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0Q29uZGl0aW9uYWw9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0UGlwZT1mdW5jdGlvbih0LGUpe3RoaXMuZXJyb3JzLnB1c2goXCJwaXBlc1wiKX0sdC5wcm90b3R5cGUudmlzaXRLZXllZFJlYWQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0S2V5ZWRXcml0ZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudmlzaXRBbGw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXQoZSl9KX0sdC5wcm90b3R5cGUudmlzaXRDaGFpbj1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudmlzaXRRdW90ZT1mdW5jdGlvbih0LGUpe30sdH0oKSxTdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5maWxlPXQsdGhpcy5vZmZzZXQ9ZSx0aGlzLmxpbmU9bix0aGlzLmNvbD1yfXJldHVybiB0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiByKHRoaXMub2Zmc2V0KT90aGlzLmZpbGUudXJsK1wiQFwiK3RoaXMubGluZStcIjpcIit0aGlzLmNvbDp0aGlzLmZpbGUudXJsfSx0LnByb3RvdHlwZS5tb3ZlQnk9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPXRoaXMuZmlsZS5jb250ZW50LHI9bi5sZW5ndGgsaT10aGlzLm9mZnNldCxvPXRoaXMubGluZSxzPXRoaXMuY29sO2k+MCYmZTwwOyl7aS0tLGUrKzt2YXIgYT1uLmNoYXJDb2RlQXQoaSk7aWYoYT09TnMpe28tLTt2YXIgdT1uLnN1YnN0cigwLGktMSkubGFzdEluZGV4T2YoU3RyaW5nLmZyb21DaGFyQ29kZShOcykpO3M9dT4wP2ktdTppfWVsc2Ugcy0tfWZvcig7aTxyJiZlPjA7KXt2YXIgYT1uLmNoYXJDb2RlQXQoaSk7aSsrLGUtLSxhPT1Ocz8obysrLHM9MCk6cysrfXJldHVybiBuZXcgdCh0aGlzLmZpbGUsaSxvLHMpfSx0LnByb3RvdHlwZS5nZXRDb250ZXh0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5maWxlLmNvbnRlbnQsaT10aGlzLm9mZnNldDtpZihyKGkpKXtpPm4ubGVuZ3RoLTEmJihpPW4ubGVuZ3RoLTEpO2Zvcih2YXIgbz1pLHM9MCxhPTA7czx0JiZpPjAmJihpLS0scysrLFwiXFxuXCIhPW5baV18fCsrYSE9ZSk7KTtmb3Iocz0wLGE9MDtzPHQmJm88bi5sZW5ndGgtMSYmKG8rKyxzKyssXCJcXG5cIiE9bltvXXx8KythIT1lKTspO3JldHVybntiZWZvcmU6bi5zdWJzdHJpbmcoaSx0aGlzLm9mZnNldCksYWZ0ZXI6bi5zdWJzdHJpbmcodGhpcy5vZmZzZXQsbysxKX19cmV0dXJuIG51bGx9LHR9KCkseHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5jb250ZW50PXQsdGhpcy51cmw9ZX1yZXR1cm4gdH0oKSxQdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpLHRoaXMuc3RhcnQ9dCx0aGlzLmVuZD1lLHRoaXMuZGV0YWlscz1ufXJldHVybiB0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LmZpbGUuY29udGVudC5zdWJzdHJpbmcodGhpcy5zdGFydC5vZmZzZXQsdGhpcy5lbmQub2Zmc2V0KX0sdH0oKSxPdT17fTtPdS5XQVJOSU5HPTAsT3UuRkFUQUw9MSxPdVtPdS5XQVJOSU5HXT1cIldBUk5JTkdcIixPdVtPdS5GQVRBTF09XCJGQVRBTFwiO3ZhciBUdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3ZvaWQgMD09PW4mJihuPU91LkZBVEFMKSx0aGlzLnNwYW49dCx0aGlzLm1zZz1lLHRoaXMubGV2ZWw9bn1yZXR1cm4gdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNwYW4uc3RhcnQuZ2V0Q29udGV4dCgxMDAsMyksZT10PycgKFwiJyt0LmJlZm9yZStcIltFUlJPUiAtPl1cIit0LmFmdGVyKydcIiknOlwiXCIsbj10aGlzLnNwYW4uZGV0YWlscz9cIiwgXCIrdGhpcy5zcGFuLmRldGFpbHM6XCJcIjtyZXR1cm5cIlwiK3RoaXMubXNnK2UrXCI6IFwiK3RoaXMuc3Bhbi5zdGFydCtufSx0fSgpLEF1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMudmFsdWU9dCx0aGlzLnNvdXJjZVNwYW49ZX1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdFRleHQodGhpcyxlKX0sdH0oKSxNdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt0aGlzLnN3aXRjaFZhbHVlPXQsdGhpcy50eXBlPWUsdGhpcy5jYXNlcz1uLHRoaXMuc291cmNlU3Bhbj1yLHRoaXMuc3dpdGNoVmFsdWVTb3VyY2VTcGFuPWl9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRFeHBhbnNpb24odGhpcyxlKX0sdH0oKSxrdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt0aGlzLnZhbHVlPXQsdGhpcy5leHByZXNzaW9uPWUsdGhpcy5zb3VyY2VTcGFuPW4sdGhpcy52YWx1ZVNvdXJjZVNwYW49cix0aGlzLmV4cFNvdXJjZVNwYW49aX1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdEV4cGFuc2lvbkNhc2UodGhpcyxlKX0sdH0oKSxSdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5uYW1lPXQsdGhpcy52YWx1ZT1lLHRoaXMuc291cmNlU3Bhbj1uLHRoaXMudmFsdWVTcGFuPXJ9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRBdHRyaWJ1dGUodGhpcyxlKX0sdH0oKSxJdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8pe3RoaXMubmFtZT10LHRoaXMuYXR0cnM9ZSx0aGlzLmNoaWxkcmVuPW4sdGhpcy5zb3VyY2VTcGFuPXIsdGhpcy5zdGFydFNvdXJjZVNwYW49aSx0aGlzLmVuZFNvdXJjZVNwYW49b31yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdEVsZW1lbnQodGhpcyxlKX0sdH0oKSxOdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLnZhbHVlPXQsdGhpcy5zb3VyY2VTcGFuPWV9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRDb21tZW50KHRoaXMsZSl9LHR9KCksRHU9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LGp1PXt9O2p1LlRBR19PUEVOX1NUQVJUPTAsanUuVEFHX09QRU5fRU5EPTEsanUuVEFHX09QRU5fRU5EX1ZPSUQ9MixqdS5UQUdfQ0xPU0U9MyxqdS5URVhUPTQsanUuRVNDQVBBQkxFX1JBV19URVhUPTUsanUuUkFXX1RFWFQ9NixqdS5DT01NRU5UX1NUQVJUPTcsanUuQ09NTUVOVF9FTkQ9OCxqdS5DREFUQV9TVEFSVD05LGp1LkNEQVRBX0VORD0xMCxqdS5BVFRSX05BTUU9MTEsanUuQVRUUl9WQUxVRT0xMixqdS5ET0NfVFlQRT0xMyxqdS5FWFBBTlNJT05fRk9STV9TVEFSVD0xNCxqdS5FWFBBTlNJT05fQ0FTRV9WQUxVRT0xNSxqdS5FWFBBTlNJT05fQ0FTRV9FWFBfU1RBUlQ9MTYsanUuRVhQQU5TSU9OX0NBU0VfRVhQX0VORD0xNyxqdS5FWFBBTlNJT05fRk9STV9FTkQ9MTgsanUuRU9GPTE5LGp1W2p1LlRBR19PUEVOX1NUQVJUXT1cIlRBR19PUEVOX1NUQVJUXCIsanVbanUuVEFHX09QRU5fRU5EXT1cIlRBR19PUEVOX0VORFwiLGp1W2p1LlRBR19PUEVOX0VORF9WT0lEXT1cIlRBR19PUEVOX0VORF9WT0lEXCIsanVbanUuVEFHX0NMT1NFXT1cIlRBR19DTE9TRVwiLGp1W2p1LlRFWFRdPVwiVEVYVFwiLGp1W2p1LkVTQ0FQQUJMRV9SQVdfVEVYVF09XCJFU0NBUEFCTEVfUkFXX1RFWFRcIixqdVtqdS5SQVdfVEVYVF09XCJSQVdfVEVYVFwiLGp1W2p1LkNPTU1FTlRfU1RBUlRdPVwiQ09NTUVOVF9TVEFSVFwiLGp1W2p1LkNPTU1FTlRfRU5EXT1cIkNPTU1FTlRfRU5EXCIsanVbanUuQ0RBVEFfU1RBUlRdPVwiQ0RBVEFfU1RBUlRcIixqdVtqdS5DREFUQV9FTkRdPVwiQ0RBVEFfRU5EXCIsanVbanUuQVRUUl9OQU1FXT1cIkFUVFJfTkFNRVwiLGp1W2p1LkFUVFJfVkFMVUVdPVwiQVRUUl9WQUxVRVwiLGp1W2p1LkRPQ19UWVBFXT1cIkRPQ19UWVBFXCIsanVbanUuRVhQQU5TSU9OX0ZPUk1fU1RBUlRdPVwiRVhQQU5TSU9OX0ZPUk1fU1RBUlRcIixqdVtqdS5FWFBBTlNJT05fQ0FTRV9WQUxVRV09XCJFWFBBTlNJT05fQ0FTRV9WQUxVRVwiLGp1W2p1LkVYUEFOU0lPTl9DQVNFX0VYUF9TVEFSVF09XCJFWFBBTlNJT05fQ0FTRV9FWFBfU1RBUlRcIixqdVtqdS5FWFBBTlNJT05fQ0FTRV9FWFBfRU5EXT1cIkVYUEFOU0lPTl9DQVNFX0VYUF9FTkRcIixqdVtqdS5FWFBBTlNJT05fRk9STV9FTkRdPVwiRVhQQU5TSU9OX0ZPUk1fRU5EXCIsanVbanUuRU9GXT1cIkVPRlwiO3ZhciBWdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMudHlwZT10LHRoaXMucGFydHM9ZSx0aGlzLnNvdXJjZVNwYW49bn1yZXR1cm4gdH0oKSxMdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyxyLGUpLHRoaXMudG9rZW5UeXBlPW59cmV0dXJuIER1KGUsdCksZX0oVHUpLEZ1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMudG9rZW5zPXQsdGhpcy5lcnJvcnM9ZX1yZXR1cm4gdH0oKSxVdT0vXFxyXFxuPy9nLEh1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmVycm9yPXR9cmV0dXJuIHR9KCksQnU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPURhKSx0aGlzLl9maWxlPXQsdGhpcy5fZ2V0VGFnRGVmaW5pdGlvbj1lLHRoaXMuX3Rva2VuaXplSWN1PW4sdGhpcy5faW50ZXJwb2xhdGlvbkNvbmZpZz1yLHRoaXMuX3BlZWs9LTEsdGhpcy5fbmV4dFBlZWs9LTEsdGhpcy5faW5kZXg9LTEsdGhpcy5fbGluZT0wLHRoaXMuX2NvbHVtbj0tMSx0aGlzLl9leHBhbnNpb25DYXNlU3RhY2s9W10sdGhpcy5faW5JbnRlcnBvbGF0aW9uPSExLHRoaXMudG9rZW5zPVtdLHRoaXMuZXJyb3JzPVtdLHRoaXMuX2lucHV0PXQuY29udGVudCx0aGlzLl9sZW5ndGg9dC5jb250ZW50Lmxlbmd0aCx0aGlzLl9hZHZhbmNlKCl9cmV0dXJuIHQucHJvdG90eXBlLl9wcm9jZXNzQ2FycmlhZ2VSZXR1cm5zPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoVXUsXCJcXG5cIil9LHQucHJvdG90eXBlLnRva2VuaXplPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLl9wZWVrIT09UnM7KXt2YXIgdD10aGlzLl9nZXRMb2NhdGlvbigpO3RyeXt0aGlzLl9hdHRlbXB0Q2hhckNvZGUobmEpP3RoaXMuX2F0dGVtcHRDaGFyQ29kZShGcyk/dGhpcy5fYXR0ZW1wdENoYXJDb2RlKGZhKT90aGlzLl9jb25zdW1lQ2RhdGEodCk6dGhpcy5fYXR0ZW1wdENoYXJDb2RlKEtzKT90aGlzLl9jb25zdW1lQ29tbWVudCh0KTp0aGlzLl9jb25zdW1lRG9jVHlwZSh0KTp0aGlzLl9hdHRlbXB0Q2hhckNvZGUoSnMpP3RoaXMuX2NvbnN1bWVUYWdDbG9zZSh0KTp0aGlzLl9jb25zdW1lVGFnT3Blbih0KTp0aGlzLl90b2tlbml6ZUljdSYmdGhpcy5fdG9rZW5pemVFeHBhbnNpb25Gb3JtKCl8fHRoaXMuX2NvbnN1bWVUZXh0KCl9Y2F0Y2godCl7aWYoISh0IGluc3RhbmNlb2YgSHUpKXRocm93IHQ7dGhpcy5lcnJvcnMucHVzaCh0LmVycm9yKX19cmV0dXJuIHRoaXMuX2JlZ2luVG9rZW4oanUuRU9GKSx0aGlzLl9lbmRUb2tlbihbXSksbmV3IEZ1KGF0KHRoaXMudG9rZW5zKSx0aGlzLmVycm9ycyl9LHQucHJvdG90eXBlLl90b2tlbml6ZUV4cGFuc2lvbkZvcm09ZnVuY3Rpb24oKXtpZihydCh0aGlzLl9pbnB1dCx0aGlzLl9pbmRleCx0aGlzLl9pbnRlcnBvbGF0aW9uQ29uZmlnKSlyZXR1cm4gdGhpcy5fY29uc3VtZUV4cGFuc2lvbkZvcm1TdGFydCgpLCEwO2lmKGl0KHRoaXMuX3BlZWspJiZ0aGlzLl9pc0luRXhwYW5zaW9uRm9ybSgpKXJldHVybiB0aGlzLl9jb25zdW1lRXhwYW5zaW9uQ2FzZVN0YXJ0KCksITA7aWYodGhpcy5fcGVlaz09PU1hKXtpZih0aGlzLl9pc0luRXhwYW5zaW9uQ2FzZSgpKXJldHVybiB0aGlzLl9jb25zdW1lRXhwYW5zaW9uQ2FzZUVuZCgpLCEwO2lmKHRoaXMuX2lzSW5FeHBhbnNpb25Gb3JtKCkpcmV0dXJuIHRoaXMuX2NvbnN1bWVFeHBhbnNpb25Gb3JtRW5kKCksITB9cmV0dXJuITF9LHQucHJvdG90eXBlLl9nZXRMb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgU3UodGhpcy5fZmlsZSx0aGlzLl9pbmRleCx0aGlzLl9saW5lLHRoaXMuX2NvbHVtbil9LHQucHJvdG90eXBlLl9nZXRTcGFuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXRoaXMuX2dldExvY2F0aW9uKCkpLHZvaWQgMD09PWUmJihlPXRoaXMuX2dldExvY2F0aW9uKCkpLG5ldyBQdSh0LGUpfSx0LnByb3RvdHlwZS5fYmVnaW5Ub2tlbj1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPXRoaXMuX2dldExvY2F0aW9uKCkpLHRoaXMuX2N1cnJlbnRUb2tlblN0YXJ0PWUsdGhpcy5fY3VycmVudFRva2VuVHlwZT10fSx0LnByb3RvdHlwZS5fZW5kVG9rZW49ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT10aGlzLl9nZXRMb2NhdGlvbigpKTt2YXIgbj1uZXcgVnUodGhpcy5fY3VycmVudFRva2VuVHlwZSx0LG5ldyBQdSh0aGlzLl9jdXJyZW50VG9rZW5TdGFydCxlKSk7cmV0dXJuIHRoaXMudG9rZW5zLnB1c2gobiksdGhpcy5fY3VycmVudFRva2VuU3RhcnQ9bnVsbCx0aGlzLl9jdXJyZW50VG9rZW5UeXBlPW51bGwsbn0sdC5wcm90b3R5cGUuX2NyZWF0ZUVycm9yPWZ1bmN0aW9uKHQsZSl7dGhpcy5faXNJbkV4cGFuc2lvbkZvcm0oKSYmKHQrPScgKERvIHlvdSBoYXZlIGFuIHVuZXNjYXBlZCBcIntcIiBpbiB5b3VyIHRlbXBsYXRlPyBVc2UgXCJ7eyBcXCd7XFwnIH19XCIpIHRvIGVzY2FwZSBpdC4pJyk7dmFyIG49bmV3IEx1KHQsdGhpcy5fY3VycmVudFRva2VuVHlwZSxlKTtyZXR1cm4gdGhpcy5fY3VycmVudFRva2VuU3RhcnQ9bnVsbCx0aGlzLl9jdXJyZW50VG9rZW5UeXBlPW51bGwsbmV3IEh1KG4pfSx0LnByb3RvdHlwZS5fYWR2YW5jZT1mdW5jdGlvbigpe2lmKHRoaXMuX2luZGV4Pj10aGlzLl9sZW5ndGgpdGhyb3cgdGhpcy5fY3JlYXRlRXJyb3IoWShScyksdGhpcy5fZ2V0U3BhbigpKTt0aGlzLl9wZWVrPT09TnM/KHRoaXMuX2xpbmUrKyx0aGlzLl9jb2x1bW49MCk6dGhpcy5fcGVlayE9PU5zJiZ0aGlzLl9wZWVrIT09VnMmJnRoaXMuX2NvbHVtbisrLHRoaXMuX2luZGV4KyssdGhpcy5fcGVlaz10aGlzLl9pbmRleD49dGhpcy5fbGVuZ3RoP1JzOnRoaXMuX2lucHV0LmNoYXJDb2RlQXQodGhpcy5faW5kZXgpLHRoaXMuX25leHRQZWVrPXRoaXMuX2luZGV4KzE+PXRoaXMuX2xlbmd0aD9Sczp0aGlzLl9pbnB1dC5jaGFyQ29kZUF0KHRoaXMuX2luZGV4KzEpfSx0LnByb3RvdHlwZS5fYXR0ZW1wdENoYXJDb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wZWVrPT09dCYmKHRoaXMuX2FkdmFuY2UoKSwhMCl9LHQucHJvdG90eXBlLl9hdHRlbXB0Q2hhckNvZGVDYXNlSW5zZW5zaXRpdmU9ZnVuY3Rpb24odCl7cmV0dXJuISFvdCh0aGlzLl9wZWVrLHQpJiYodGhpcy5fYWR2YW5jZSgpLCEwKX0sdC5wcm90b3R5cGUuX3JlcXVpcmVDaGFyQ29kZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXRMb2NhdGlvbigpO2lmKCF0aGlzLl9hdHRlbXB0Q2hhckNvZGUodCkpdGhyb3cgdGhpcy5fY3JlYXRlRXJyb3IoWSh0aGlzLl9wZWVrKSx0aGlzLl9nZXRTcGFuKGUsZSkpfSx0LnByb3RvdHlwZS5fYXR0ZW1wdFN0cj1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDtpZih0aGlzLl9pbmRleCtlPnRoaXMuX2xlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49dGhpcy5fc2F2ZVBvc2l0aW9uKCkscj0wO3I8ZTtyKyspaWYoIXRoaXMuX2F0dGVtcHRDaGFyQ29kZSh0LmNoYXJDb2RlQXQocikpKXJldHVybiB0aGlzLl9yZXN0b3JlUG9zaXRpb24obiksITE7cmV0dXJuITB9LHQucHJvdG90eXBlLl9hdHRlbXB0U3RyQ2FzZUluc2Vuc2l0aXZlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKCF0aGlzLl9hdHRlbXB0Q2hhckNvZGVDYXNlSW5zZW5zaXRpdmUodC5jaGFyQ29kZUF0KGUpKSlyZXR1cm4hMTtyZXR1cm4hMH0sdC5wcm90b3R5cGUuX3JlcXVpcmVTdHI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0TG9jYXRpb24oKTtpZighdGhpcy5fYXR0ZW1wdFN0cih0KSl0aHJvdyB0aGlzLl9jcmVhdGVFcnJvcihZKHRoaXMuX3BlZWspLHRoaXMuX2dldFNwYW4oZSkpfSx0LnByb3RvdHlwZS5fYXR0ZW1wdENoYXJDb2RlVW50aWxGbj1mdW5jdGlvbih0KXtmb3IoOyF0KHRoaXMuX3BlZWspOyl0aGlzLl9hZHZhbmNlKCl9LHQucHJvdG90eXBlLl9yZXF1aXJlQ2hhckNvZGVVbnRpbEZuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZ2V0TG9jYXRpb24oKTtpZih0aGlzLl9hdHRlbXB0Q2hhckNvZGVVbnRpbEZuKHQpLHRoaXMuX2luZGV4LW4ub2Zmc2V0PGUpdGhyb3cgdGhpcy5fY3JlYXRlRXJyb3IoWSh0aGlzLl9wZWVrKSx0aGlzLl9nZXRTcGFuKG4sbikpfSx0LnByb3RvdHlwZS5fYXR0ZW1wdFVudGlsQ2hhcj1mdW5jdGlvbih0KXtmb3IoO3RoaXMuX3BlZWshPT10Oyl0aGlzLl9hZHZhbmNlKCl9LHQucHJvdG90eXBlLl9yZWFkQ2hhcj1mdW5jdGlvbih0KXtpZih0JiZ0aGlzLl9wZWVrPT09enMpcmV0dXJuIHRoaXMuX2RlY29kZUVudGl0eSgpO3ZhciBlPXRoaXMuX2luZGV4O3JldHVybiB0aGlzLl9hZHZhbmNlKCksdGhpcy5faW5wdXRbZV19LHQucHJvdG90eXBlLl9kZWNvZGVFbnRpdHk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRMb2NhdGlvbigpO2lmKHRoaXMuX2FkdmFuY2UoKSwhdGhpcy5fYXR0ZW1wdENoYXJDb2RlKEhzKSl7dmFyIGU9dGhpcy5fc2F2ZVBvc2l0aW9uKCk7aWYodGhpcy5fYXR0ZW1wdENoYXJDb2RlVW50aWxGbihudCksdGhpcy5fcGVlayE9ZWEpcmV0dXJuIHRoaXMuX3Jlc3RvcmVQb3NpdGlvbihlKSxcIiZcIjt0aGlzLl9hZHZhbmNlKCk7dmFyIG49dGhpcy5faW5wdXQuc3Vic3RyaW5nKHQub2Zmc2V0KzEsdGhpcy5faW5kZXgtMSkscj1Yb1tuXTtpZighcil0aHJvdyB0aGlzLl9jcmVhdGVFcnJvcihLKG4pLHRoaXMuX2dldFNwYW4odCkpO3JldHVybiByfXZhciBpPXRoaXMuX2F0dGVtcHRDaGFyQ29kZShQYSl8fHRoaXMuX2F0dGVtcHRDaGFyQ29kZShwYSksbz10aGlzLl9nZXRMb2NhdGlvbigpLm9mZnNldDtpZih0aGlzLl9hdHRlbXB0Q2hhckNvZGVVbnRpbEZuKGV0KSx0aGlzLl9wZWVrIT1lYSl0aHJvdyB0aGlzLl9jcmVhdGVFcnJvcihZKHRoaXMuX3BlZWspLHRoaXMuX2dldFNwYW4oKSk7dGhpcy5fYWR2YW5jZSgpO3ZhciBzPXRoaXMuX2lucHV0LnN1YnN0cmluZyhvLHRoaXMuX2luZGV4LTEpO3RyeXt2YXIgYT1wYXJzZUludChzLGk/MTY6MTApO3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGEpfWNhdGNoKGUpe3ZhciB1PXRoaXMuX2lucHV0LnN1YnN0cmluZyh0Lm9mZnNldCsxLHRoaXMuX2luZGV4LTEpO3Rocm93IHRoaXMuX2NyZWF0ZUVycm9yKEsodSksdGhpcy5fZ2V0U3Bhbih0KSl9fSx0LnByb3RvdHlwZS5fY29uc3VtZVJhd1RleHQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9dGhpcy5fZ2V0TG9jYXRpb24oKTt0aGlzLl9iZWdpblRva2VuKHQ/anUuRVNDQVBBQkxFX1JBV19URVhUOmp1LlJBV19URVhULGkpO2Zvcih2YXIgbz1bXTs7KXtpZihyPXRoaXMuX2dldExvY2F0aW9uKCksdGhpcy5fYXR0ZW1wdENoYXJDb2RlKGUpJiZuKCkpYnJlYWs7Zm9yKHRoaXMuX2luZGV4PnIub2Zmc2V0JiZvLnB1c2godGhpcy5faW5wdXQuc3Vic3RyaW5nKHIub2Zmc2V0LHRoaXMuX2luZGV4KSk7dGhpcy5fcGVlayE9PWU7KW8ucHVzaCh0aGlzLl9yZWFkQ2hhcih0KSl9cmV0dXJuIHRoaXMuX2VuZFRva2VuKFt0aGlzLl9wcm9jZXNzQ2FycmlhZ2VSZXR1cm5zKG8uam9pbihcIlwiKSldLHIpfSx0LnByb3RvdHlwZS5fY29uc3VtZUNvbW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLl9iZWdpblRva2VuKGp1LkNPTU1FTlRfU1RBUlQsdCksdGhpcy5fcmVxdWlyZUNoYXJDb2RlKEtzKSx0aGlzLl9lbmRUb2tlbihbXSk7dmFyIG49dGhpcy5fY29uc3VtZVJhd1RleHQoITEsS3MsZnVuY3Rpb24oKXtyZXR1cm4gZS5fYXR0ZW1wdFN0cihcIi0+XCIpfSk7dGhpcy5fYmVnaW5Ub2tlbihqdS5DT01NRU5UX0VORCxuLnNvdXJjZVNwYW4uZW5kKSx0aGlzLl9lbmRUb2tlbihbXSl9LHQucHJvdG90eXBlLl9jb25zdW1lQ2RhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLl9iZWdpblRva2VuKGp1LkNEQVRBX1NUQVJULHQpLHRoaXMuX3JlcXVpcmVTdHIoXCJDREFUQVtcIiksdGhpcy5fZW5kVG9rZW4oW10pO3ZhciBuPXRoaXMuX2NvbnN1bWVSYXdUZXh0KCExLHlhLGZ1bmN0aW9uKCl7cmV0dXJuIGUuX2F0dGVtcHRTdHIoXCJdPlwiKX0pO3RoaXMuX2JlZ2luVG9rZW4oanUuQ0RBVEFfRU5ELG4uc291cmNlU3Bhbi5lbmQpLHRoaXMuX2VuZFRva2VuKFtdKX0sdC5wcm90b3R5cGUuX2NvbnN1bWVEb2NUeXBlPWZ1bmN0aW9uKHQpe3RoaXMuX2JlZ2luVG9rZW4oanUuRE9DX1RZUEUsdCksdGhpcy5fYXR0ZW1wdFVudGlsQ2hhcihpYSksdGhpcy5fYWR2YW5jZSgpLHRoaXMuX2VuZFRva2VuKFt0aGlzLl9pbnB1dC5zdWJzdHJpbmcodC5vZmZzZXQrMix0aGlzLl9pbmRleC0xKV0pfSx0LnByb3RvdHlwZS5fY29uc3VtZVByZWZpeEFuZE5hbWU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5faW5kZXgsZT1udWxsO3RoaXMuX3BlZWshPT10YSYmIXR0KHRoaXMuX3BlZWspOyl0aGlzLl9hZHZhbmNlKCk7dmFyIG47dGhpcy5fcGVlaz09PXRhPyh0aGlzLl9hZHZhbmNlKCksZT10aGlzLl9pbnB1dC5zdWJzdHJpbmcodCx0aGlzLl9pbmRleC0xKSxuPXRoaXMuX2luZGV4KTpuPXQsdGhpcy5fcmVxdWlyZUNoYXJDb2RlVW50aWxGbihKLHRoaXMuX2luZGV4PT09bj8xOjApO3ZhciByPXRoaXMuX2lucHV0LnN1YnN0cmluZyhuLHRoaXMuX2luZGV4KTtyZXR1cm5bZSxyXX0sdC5wcm90b3R5cGUuX2NvbnN1bWVUYWdPcGVuPWZ1bmN0aW9uKHQpe3ZhciBlLG4scj10aGlzLl9zYXZlUG9zaXRpb24oKTt0cnl7aWYoIVQodGhpcy5fcGVlaykpdGhyb3cgdGhpcy5fY3JlYXRlRXJyb3IoWSh0aGlzLl9wZWVrKSx0aGlzLl9nZXRTcGFuKCkpO3ZhciBpPXRoaXMuX2luZGV4O2Zvcih0aGlzLl9jb25zdW1lVGFnT3BlblN0YXJ0KHQpLGU9dGhpcy5faW5wdXQuc3Vic3RyaW5nKGksdGhpcy5faW5kZXgpLG49ZS50b0xvd2VyQ2FzZSgpLHRoaXMuX2F0dGVtcHRDaGFyQ29kZVVudGlsRm4oWik7dGhpcy5fcGVlayE9PUpzJiZ0aGlzLl9wZWVrIT09aWE7KXRoaXMuX2NvbnN1bWVBdHRyaWJ1dGVOYW1lKCksdGhpcy5fYXR0ZW1wdENoYXJDb2RlVW50aWxGbihaKSx0aGlzLl9hdHRlbXB0Q2hhckNvZGUocmEpJiYodGhpcy5fYXR0ZW1wdENoYXJDb2RlVW50aWxGbihaKSx0aGlzLl9jb25zdW1lQXR0cmlidXRlVmFsdWUoKSksdGhpcy5fYXR0ZW1wdENoYXJDb2RlVW50aWxGbihaKTt0aGlzLl9jb25zdW1lVGFnT3BlbkVuZCgpfWNhdGNoKGUpe2lmKGUgaW5zdGFuY2VvZiBIdSlyZXR1cm4gdGhpcy5fcmVzdG9yZVBvc2l0aW9uKHIpLHRoaXMuX2JlZ2luVG9rZW4oanUuVEVYVCx0KSx2b2lkIHRoaXMuX2VuZFRva2VuKFtcIjxcIl0pO3Rocm93IGV9dmFyIG89dGhpcy5fZ2V0VGFnRGVmaW5pdGlvbihlKS5jb250ZW50VHlwZTtvPT09R28uUkFXX1RFWFQ/dGhpcy5fY29uc3VtZVJhd1RleHRXaXRoVGFnQ2xvc2UobiwhMSk6bz09PUdvLkVTQ0FQQUJMRV9SQVdfVEVYVCYmdGhpcy5fY29uc3VtZVJhd1RleHRXaXRoVGFnQ2xvc2UobiwhMCl9LHQucHJvdG90eXBlLl9jb25zdW1lUmF3VGV4dFdpdGhUYWdDbG9zZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10aGlzLl9jb25zdW1lUmF3VGV4dChlLG5hLGZ1bmN0aW9uKCl7cmV0dXJuISFuLl9hdHRlbXB0Q2hhckNvZGUoSnMpJiYobi5fYXR0ZW1wdENoYXJDb2RlVW50aWxGbihaKSwhIW4uX2F0dGVtcHRTdHJDYXNlSW5zZW5zaXRpdmUodCkmJihuLl9hdHRlbXB0Q2hhckNvZGVVbnRpbEZuKFopLG4uX2F0dGVtcHRDaGFyQ29kZShpYSkpKX0pO3RoaXMuX2JlZ2luVG9rZW4oanUuVEFHX0NMT1NFLHIuc291cmNlU3Bhbi5lbmQpLHRoaXMuX2VuZFRva2VuKFtudWxsLHRdKX0sdC5wcm90b3R5cGUuX2NvbnN1bWVUYWdPcGVuU3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5fYmVnaW5Ub2tlbihqdS5UQUdfT1BFTl9TVEFSVCx0KTt2YXIgZT10aGlzLl9jb25zdW1lUHJlZml4QW5kTmFtZSgpO3RoaXMuX2VuZFRva2VuKGUpfSx0LnByb3RvdHlwZS5fY29uc3VtZUF0dHJpYnV0ZU5hbWU9ZnVuY3Rpb24oKXt0aGlzLl9iZWdpblRva2VuKGp1LkFUVFJfTkFNRSk7dmFyIHQ9dGhpcy5fY29uc3VtZVByZWZpeEFuZE5hbWUoKTt0aGlzLl9lbmRUb2tlbih0KX0sdC5wcm90b3R5cGUuX2NvbnN1bWVBdHRyaWJ1dGVWYWx1ZT1mdW5jdGlvbigpe3RoaXMuX2JlZ2luVG9rZW4oanUuQVRUUl9WQUxVRSk7dmFyIHQ7aWYodGhpcy5fcGVlaz09PVdzfHx0aGlzLl9wZWVrPT09VXMpe3ZhciBlPXRoaXMuX3BlZWs7dGhpcy5fYWR2YW5jZSgpO2Zvcih2YXIgbj1bXTt0aGlzLl9wZWVrIT09ZTspbi5wdXNoKHRoaXMuX3JlYWRDaGFyKCEwKSk7dD1uLmpvaW4oXCJcIiksdGhpcy5fYWR2YW5jZSgpfWVsc2V7dmFyIHI9dGhpcy5faW5kZXg7dGhpcy5fcmVxdWlyZUNoYXJDb2RlVW50aWxGbihKLDEpLFxudD10aGlzLl9pbnB1dC5zdWJzdHJpbmcocix0aGlzLl9pbmRleCl9dGhpcy5fZW5kVG9rZW4oW3RoaXMuX3Byb2Nlc3NDYXJyaWFnZVJldHVybnModCldKX0sdC5wcm90b3R5cGUuX2NvbnN1bWVUYWdPcGVuRW5kPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYXR0ZW1wdENoYXJDb2RlKEpzKT9qdS5UQUdfT1BFTl9FTkRfVk9JRDpqdS5UQUdfT1BFTl9FTkQ7dGhpcy5fYmVnaW5Ub2tlbih0KSx0aGlzLl9yZXF1aXJlQ2hhckNvZGUoaWEpLHRoaXMuX2VuZFRva2VuKFtdKX0sdC5wcm90b3R5cGUuX2NvbnN1bWVUYWdDbG9zZT1mdW5jdGlvbih0KXt0aGlzLl9iZWdpblRva2VuKGp1LlRBR19DTE9TRSx0KSx0aGlzLl9hdHRlbXB0Q2hhckNvZGVVbnRpbEZuKFopO3ZhciBlPXRoaXMuX2NvbnN1bWVQcmVmaXhBbmROYW1lKCk7dGhpcy5fYXR0ZW1wdENoYXJDb2RlVW50aWxGbihaKSx0aGlzLl9yZXF1aXJlQ2hhckNvZGUoaWEpLHRoaXMuX2VuZFRva2VuKGUpfSx0LnByb3RvdHlwZS5fY29uc3VtZUV4cGFuc2lvbkZvcm1TdGFydD1mdW5jdGlvbigpe3RoaXMuX2JlZ2luVG9rZW4oanUuRVhQQU5TSU9OX0ZPUk1fU1RBUlQsdGhpcy5fZ2V0TG9jYXRpb24oKSksdGhpcy5fcmVxdWlyZUNoYXJDb2RlKFRhKSx0aGlzLl9lbmRUb2tlbihbXSksdGhpcy5fZXhwYW5zaW9uQ2FzZVN0YWNrLnB1c2goanUuRVhQQU5TSU9OX0ZPUk1fU1RBUlQpLHRoaXMuX2JlZ2luVG9rZW4oanUuUkFXX1RFWFQsdGhpcy5fZ2V0TG9jYXRpb24oKSk7dmFyIHQ9dGhpcy5fcmVhZFVudGlsKFlzKTt0aGlzLl9lbmRUb2tlbihbdF0sdGhpcy5fZ2V0TG9jYXRpb24oKSksdGhpcy5fcmVxdWlyZUNoYXJDb2RlKFlzKSx0aGlzLl9hdHRlbXB0Q2hhckNvZGVVbnRpbEZuKFopLHRoaXMuX2JlZ2luVG9rZW4oanUuUkFXX1RFWFQsdGhpcy5fZ2V0TG9jYXRpb24oKSk7dmFyIGU9dGhpcy5fcmVhZFVudGlsKFlzKTt0aGlzLl9lbmRUb2tlbihbZV0sdGhpcy5fZ2V0TG9jYXRpb24oKSksdGhpcy5fcmVxdWlyZUNoYXJDb2RlKFlzKSx0aGlzLl9hdHRlbXB0Q2hhckNvZGVVbnRpbEZuKFopfSx0LnByb3RvdHlwZS5fY29uc3VtZUV4cGFuc2lvbkNhc2VTdGFydD1mdW5jdGlvbigpe3RoaXMuX2JlZ2luVG9rZW4oanUuRVhQQU5TSU9OX0NBU0VfVkFMVUUsdGhpcy5fZ2V0TG9jYXRpb24oKSk7dmFyIHQ9dGhpcy5fcmVhZFVudGlsKFRhKS50cmltKCk7dGhpcy5fZW5kVG9rZW4oW3RdLHRoaXMuX2dldExvY2F0aW9uKCkpLHRoaXMuX2F0dGVtcHRDaGFyQ29kZVVudGlsRm4oWiksdGhpcy5fYmVnaW5Ub2tlbihqdS5FWFBBTlNJT05fQ0FTRV9FWFBfU1RBUlQsdGhpcy5fZ2V0TG9jYXRpb24oKSksdGhpcy5fcmVxdWlyZUNoYXJDb2RlKFRhKSx0aGlzLl9lbmRUb2tlbihbXSx0aGlzLl9nZXRMb2NhdGlvbigpKSx0aGlzLl9hdHRlbXB0Q2hhckNvZGVVbnRpbEZuKFopLHRoaXMuX2V4cGFuc2lvbkNhc2VTdGFjay5wdXNoKGp1LkVYUEFOU0lPTl9DQVNFX0VYUF9TVEFSVCl9LHQucHJvdG90eXBlLl9jb25zdW1lRXhwYW5zaW9uQ2FzZUVuZD1mdW5jdGlvbigpe3RoaXMuX2JlZ2luVG9rZW4oanUuRVhQQU5TSU9OX0NBU0VfRVhQX0VORCx0aGlzLl9nZXRMb2NhdGlvbigpKSx0aGlzLl9yZXF1aXJlQ2hhckNvZGUoTWEpLHRoaXMuX2VuZFRva2VuKFtdLHRoaXMuX2dldExvY2F0aW9uKCkpLHRoaXMuX2F0dGVtcHRDaGFyQ29kZVVudGlsRm4oWiksdGhpcy5fZXhwYW5zaW9uQ2FzZVN0YWNrLnBvcCgpfSx0LnByb3RvdHlwZS5fY29uc3VtZUV4cGFuc2lvbkZvcm1FbmQ9ZnVuY3Rpb24oKXt0aGlzLl9iZWdpblRva2VuKGp1LkVYUEFOU0lPTl9GT1JNX0VORCx0aGlzLl9nZXRMb2NhdGlvbigpKSx0aGlzLl9yZXF1aXJlQ2hhckNvZGUoTWEpLHRoaXMuX2VuZFRva2VuKFtdKSx0aGlzLl9leHBhbnNpb25DYXNlU3RhY2sucG9wKCl9LHQucHJvdG90eXBlLl9jb25zdW1lVGV4dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldExvY2F0aW9uKCk7dGhpcy5fYmVnaW5Ub2tlbihqdS5URVhULHQpO3ZhciBlPVtdO2RvIHRoaXMuX2ludGVycG9sYXRpb25Db25maWcmJnRoaXMuX2F0dGVtcHRTdHIodGhpcy5faW50ZXJwb2xhdGlvbkNvbmZpZy5zdGFydCk/KGUucHVzaCh0aGlzLl9pbnRlcnBvbGF0aW9uQ29uZmlnLnN0YXJ0KSx0aGlzLl9pbkludGVycG9sYXRpb249ITApOnRoaXMuX2ludGVycG9sYXRpb25Db25maWcmJnRoaXMuX2luSW50ZXJwb2xhdGlvbiYmdGhpcy5fYXR0ZW1wdFN0cih0aGlzLl9pbnRlcnBvbGF0aW9uQ29uZmlnLmVuZCk/KGUucHVzaCh0aGlzLl9pbnRlcnBvbGF0aW9uQ29uZmlnLmVuZCksdGhpcy5faW5JbnRlcnBvbGF0aW9uPSExKTplLnB1c2godGhpcy5fcmVhZENoYXIoITApKTt3aGlsZSghdGhpcy5faXNUZXh0RW5kKCkpO3RoaXMuX2VuZFRva2VuKFt0aGlzLl9wcm9jZXNzQ2FycmlhZ2VSZXR1cm5zKGUuam9pbihcIlwiKSldKX0sdC5wcm90b3R5cGUuX2lzVGV4dEVuZD1mdW5jdGlvbigpe2lmKHRoaXMuX3BlZWs9PT1uYXx8dGhpcy5fcGVlaz09PVJzKXJldHVybiEwO2lmKHRoaXMuX3Rva2VuaXplSWN1JiYhdGhpcy5faW5JbnRlcnBvbGF0aW9uKXtpZihydCh0aGlzLl9pbnB1dCx0aGlzLl9pbmRleCx0aGlzLl9pbnRlcnBvbGF0aW9uQ29uZmlnKSlyZXR1cm4hMDtpZih0aGlzLl9wZWVrPT09TWEmJnRoaXMuX2lzSW5FeHBhbnNpb25DYXNlKCkpcmV0dXJuITB9cmV0dXJuITF9LHQucHJvdG90eXBlLl9zYXZlUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5fcGVlayx0aGlzLl9pbmRleCx0aGlzLl9jb2x1bW4sdGhpcy5fbGluZSx0aGlzLnRva2Vucy5sZW5ndGhdfSx0LnByb3RvdHlwZS5fcmVhZFVudGlsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2luZGV4O3JldHVybiB0aGlzLl9hdHRlbXB0VW50aWxDaGFyKHQpLHRoaXMuX2lucHV0LnN1YnN0cmluZyhlLHRoaXMuX2luZGV4KX0sdC5wcm90b3R5cGUuX3Jlc3RvcmVQb3NpdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9wZWVrPXRbMF0sdGhpcy5faW5kZXg9dFsxXSx0aGlzLl9jb2x1bW49dFsyXSx0aGlzLl9saW5lPXRbM107dmFyIGU9dFs0XTtlPHRoaXMudG9rZW5zLmxlbmd0aCYmKHRoaXMudG9rZW5zPXRoaXMudG9rZW5zLnNsaWNlKDAsZSkpfSx0LnByb3RvdHlwZS5faXNJbkV4cGFuc2lvbkNhc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhwYW5zaW9uQ2FzZVN0YWNrLmxlbmd0aD4wJiZ0aGlzLl9leHBhbnNpb25DYXNlU3RhY2tbdGhpcy5fZXhwYW5zaW9uQ2FzZVN0YWNrLmxlbmd0aC0xXT09PWp1LkVYUEFOU0lPTl9DQVNFX0VYUF9TVEFSVH0sdC5wcm90b3R5cGUuX2lzSW5FeHBhbnNpb25Gb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4cGFuc2lvbkNhc2VTdGFjay5sZW5ndGg+MCYmdGhpcy5fZXhwYW5zaW9uQ2FzZVN0YWNrW3RoaXMuX2V4cGFuc2lvbkNhc2VTdGFjay5sZW5ndGgtMV09PT1qdS5FWFBBTlNJT05fRk9STV9TVEFSVH0sdH0oKSxxdT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0senU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dC5jYWxsKHRoaXMsbixyKSx0aGlzLmVsZW1lbnROYW1lPWV9cmV0dXJuIHF1KGUsdCksZS5jcmVhdGU9ZnVuY3Rpb24odCxuLHIpe3JldHVybiBuZXcgZSh0LG4scil9LGV9KFR1KSxXdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLnJvb3ROb2Rlcz10LHRoaXMuZXJyb3JzPWV9cmV0dXJuIHR9KCksR3U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZ2V0VGFnRGVmaW5pdGlvbj10fXJldHVybiB0LnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwPT09ciYmKHI9RGEpO3ZhciBpPVEodCxlLHRoaXMuZ2V0VGFnRGVmaW5pdGlvbixuLHIpLG89bmV3IFh1KGkudG9rZW5zLHRoaXMuZ2V0VGFnRGVmaW5pdGlvbikuYnVpbGQoKTtyZXR1cm4gbmV3IFd1KG8ucm9vdE5vZGVzLGkuZXJyb3JzLmNvbmNhdChvLmVycm9ycykpfSx0fSgpLFh1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMudG9rZW5zPXQsdGhpcy5nZXRUYWdEZWZpbml0aW9uPWUsdGhpcy5faW5kZXg9LTEsdGhpcy5fcm9vdE5vZGVzPVtdLHRoaXMuX2Vycm9ycz1bXSx0aGlzLl9lbGVtZW50U3RhY2s9W10sdGhpcy5fYWR2YW5jZSgpfXJldHVybiB0LnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbigpe2Zvcig7dGhpcy5fcGVlay50eXBlIT09anUuRU9GOyl0aGlzLl9wZWVrLnR5cGU9PT1qdS5UQUdfT1BFTl9TVEFSVD90aGlzLl9jb25zdW1lU3RhcnRUYWcodGhpcy5fYWR2YW5jZSgpKTp0aGlzLl9wZWVrLnR5cGU9PT1qdS5UQUdfQ0xPU0U/dGhpcy5fY29uc3VtZUVuZFRhZyh0aGlzLl9hZHZhbmNlKCkpOnRoaXMuX3BlZWsudHlwZT09PWp1LkNEQVRBX1NUQVJUPyh0aGlzLl9jbG9zZVZvaWRFbGVtZW50KCksdGhpcy5fY29uc3VtZUNkYXRhKHRoaXMuX2FkdmFuY2UoKSkpOnRoaXMuX3BlZWsudHlwZT09PWp1LkNPTU1FTlRfU1RBUlQ/KHRoaXMuX2Nsb3NlVm9pZEVsZW1lbnQoKSx0aGlzLl9jb25zdW1lQ29tbWVudCh0aGlzLl9hZHZhbmNlKCkpKTp0aGlzLl9wZWVrLnR5cGU9PT1qdS5URVhUfHx0aGlzLl9wZWVrLnR5cGU9PT1qdS5SQVdfVEVYVHx8dGhpcy5fcGVlay50eXBlPT09anUuRVNDQVBBQkxFX1JBV19URVhUPyh0aGlzLl9jbG9zZVZvaWRFbGVtZW50KCksdGhpcy5fY29uc3VtZVRleHQodGhpcy5fYWR2YW5jZSgpKSk6dGhpcy5fcGVlay50eXBlPT09anUuRVhQQU5TSU9OX0ZPUk1fU1RBUlQ/dGhpcy5fY29uc3VtZUV4cGFuc2lvbih0aGlzLl9hZHZhbmNlKCkpOnRoaXMuX2FkdmFuY2UoKTtyZXR1cm4gbmV3IFd1KHRoaXMuX3Jvb3ROb2Rlcyx0aGlzLl9lcnJvcnMpfSx0LnByb3RvdHlwZS5fYWR2YW5jZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BlZWs7cmV0dXJuIHRoaXMuX2luZGV4PHRoaXMudG9rZW5zLmxlbmd0aC0xJiZ0aGlzLl9pbmRleCsrLHRoaXMuX3BlZWs9dGhpcy50b2tlbnNbdGhpcy5faW5kZXhdLHR9LHQucHJvdG90eXBlLl9hZHZhbmNlSWY9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BlZWsudHlwZT09PXQ/dGhpcy5fYWR2YW5jZSgpOm51bGx9LHQucHJvdG90eXBlLl9jb25zdW1lQ2RhdGE9ZnVuY3Rpb24odCl7dGhpcy5fY29uc3VtZVRleHQodGhpcy5fYWR2YW5jZSgpKSx0aGlzLl9hZHZhbmNlSWYoanUuQ0RBVEFfRU5EKX0sdC5wcm90b3R5cGUuX2NvbnN1bWVDb21tZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2FkdmFuY2VJZihqdS5SQVdfVEVYVCk7dGhpcy5fYWR2YW5jZUlmKGp1LkNPTU1FTlRfRU5EKTt2YXIgbj1yKGUpP2UucGFydHNbMF0udHJpbSgpOm51bGw7dGhpcy5fYWRkVG9QYXJlbnQobmV3IE51KG4sdC5zb3VyY2VTcGFuKSl9LHQucHJvdG90eXBlLl9jb25zdW1lRXhwYW5zaW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9hZHZhbmNlKCksbj10aGlzLl9hZHZhbmNlKCkscj1bXTt0aGlzLl9wZWVrLnR5cGU9PT1qdS5FWFBBTlNJT05fQ0FTRV9WQUxVRTspe3ZhciBpPXRoaXMuX3BhcnNlRXhwYW5zaW9uQ2FzZSgpO2lmKCFpKXJldHVybjtyLnB1c2goaSl9aWYodGhpcy5fcGVlay50eXBlIT09anUuRVhQQU5TSU9OX0ZPUk1fRU5EKXJldHVybiB2b2lkIHRoaXMuX2Vycm9ycy5wdXNoKHp1LmNyZWF0ZShudWxsLHRoaXMuX3BlZWsuc291cmNlU3BhbixcIkludmFsaWQgSUNVIG1lc3NhZ2UuIE1pc3NpbmcgJ30nLlwiKSk7dmFyIG89bmV3IFB1KHQuc291cmNlU3Bhbi5zdGFydCx0aGlzLl9wZWVrLnNvdXJjZVNwYW4uZW5kKTt0aGlzLl9hZGRUb1BhcmVudChuZXcgTXUoZS5wYXJ0c1swXSxuLnBhcnRzWzBdLHIsbyxlLnNvdXJjZVNwYW4pKSx0aGlzLl9hZHZhbmNlKCl9LHQucHJvdG90eXBlLl9wYXJzZUV4cGFuc2lvbkNhc2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9hZHZhbmNlKCk7aWYodGhpcy5fcGVlay50eXBlIT09anUuRVhQQU5TSU9OX0NBU0VfRVhQX1NUQVJUKXJldHVybiB0aGlzLl9lcnJvcnMucHVzaCh6dS5jcmVhdGUobnVsbCx0aGlzLl9wZWVrLnNvdXJjZVNwYW4sXCJJbnZhbGlkIElDVSBtZXNzYWdlLiBNaXNzaW5nICd7Jy5cIikpLG51bGw7dmFyIG49dGhpcy5fYWR2YW5jZSgpLHI9dGhpcy5fY29sbGVjdEV4cGFuc2lvbkV4cFRva2VucyhuKTtpZighcilyZXR1cm4gbnVsbDt2YXIgaT10aGlzLl9hZHZhbmNlKCk7ci5wdXNoKG5ldyBWdShqdS5FT0YsW10saS5zb3VyY2VTcGFuKSk7dmFyIG89bmV3IHQocix0aGlzLmdldFRhZ0RlZmluaXRpb24pLmJ1aWxkKCk7aWYoby5lcnJvcnMubGVuZ3RoPjApcmV0dXJuIHRoaXMuX2Vycm9ycz10aGlzLl9lcnJvcnMuY29uY2F0KG8uZXJyb3JzKSxudWxsO3ZhciBzPW5ldyBQdShlLnNvdXJjZVNwYW4uc3RhcnQsaS5zb3VyY2VTcGFuLmVuZCksYT1uZXcgUHUobi5zb3VyY2VTcGFuLnN0YXJ0LGkuc291cmNlU3Bhbi5lbmQpO3JldHVybiBuZXcga3UoZS5wYXJ0c1swXSxvLnJvb3ROb2RlcyxzLGUuc291cmNlU3BhbixhKX0sdC5wcm90b3R5cGUuX2NvbGxlY3RFeHBhbnNpb25FeHBUb2tlbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49W2p1LkVYUEFOU0lPTl9DQVNFX0VYUF9TVEFSVF07Oyl7aWYodGhpcy5fcGVlay50eXBlIT09anUuRVhQQU5TSU9OX0ZPUk1fU1RBUlQmJnRoaXMuX3BlZWsudHlwZSE9PWp1LkVYUEFOU0lPTl9DQVNFX0VYUF9TVEFSVHx8bi5wdXNoKHRoaXMuX3BlZWsudHlwZSksdGhpcy5fcGVlay50eXBlPT09anUuRVhQQU5TSU9OX0NBU0VfRVhQX0VORCl7aWYoIXV0KG4sanUuRVhQQU5TSU9OX0NBU0VfRVhQX1NUQVJUKSlyZXR1cm4gdGhpcy5fZXJyb3JzLnB1c2goenUuY3JlYXRlKG51bGwsdC5zb3VyY2VTcGFuLFwiSW52YWxpZCBJQ1UgbWVzc2FnZS4gTWlzc2luZyAnfScuXCIpKSxudWxsO2lmKG4ucG9wKCksMD09bi5sZW5ndGgpcmV0dXJuIGV9aWYodGhpcy5fcGVlay50eXBlPT09anUuRVhQQU5TSU9OX0ZPUk1fRU5EKXtpZighdXQobixqdS5FWFBBTlNJT05fRk9STV9TVEFSVCkpcmV0dXJuIHRoaXMuX2Vycm9ycy5wdXNoKHp1LmNyZWF0ZShudWxsLHQuc291cmNlU3BhbixcIkludmFsaWQgSUNVIG1lc3NhZ2UuIE1pc3NpbmcgJ30nLlwiKSksbnVsbDtuLnBvcCgpfWlmKHRoaXMuX3BlZWsudHlwZT09PWp1LkVPRilyZXR1cm4gdGhpcy5fZXJyb3JzLnB1c2goenUuY3JlYXRlKG51bGwsdC5zb3VyY2VTcGFuLFwiSW52YWxpZCBJQ1UgbWVzc2FnZS4gTWlzc2luZyAnfScuXCIpKSxudWxsO2UucHVzaCh0aGlzLl9hZHZhbmNlKCkpfX0sdC5wcm90b3R5cGUuX2NvbnN1bWVUZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFydHNbMF07aWYoZS5sZW5ndGg+MCYmXCJcXG5cIj09ZVswXSl7dmFyIG49dGhpcy5fZ2V0UGFyZW50RWxlbWVudCgpO3IobikmJjA9PW4uY2hpbGRyZW4ubGVuZ3RoJiZ0aGlzLmdldFRhZ0RlZmluaXRpb24obi5uYW1lKS5pZ25vcmVGaXJzdExmJiYoZT1lLnN1YnN0cmluZygxKSl9ZS5sZW5ndGg+MCYmdGhpcy5fYWRkVG9QYXJlbnQobmV3IEF1KGUsdC5zb3VyY2VTcGFuKSl9LHQucHJvdG90eXBlLl9jbG9zZVZvaWRFbGVtZW50PWZ1bmN0aW9uKCl7aWYodGhpcy5fZWxlbWVudFN0YWNrLmxlbmd0aD4wKXt2YXIgdD10aGlzLl9lbGVtZW50U3RhY2tbdGhpcy5fZWxlbWVudFN0YWNrLmxlbmd0aC0xXTt0aGlzLmdldFRhZ0RlZmluaXRpb24odC5uYW1lKS5pc1ZvaWQmJnRoaXMuX2VsZW1lbnRTdGFjay5wb3AoKX19LHQucHJvdG90eXBlLl9jb25zdW1lU3RhcnRUYWc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQucGFydHNbMF0sbj10LnBhcnRzWzFdLHI9W107dGhpcy5fcGVlay50eXBlPT09anUuQVRUUl9OQU1FOylyLnB1c2godGhpcy5fY29uc3VtZUF0dHIodGhpcy5fYWR2YW5jZSgpKSk7dmFyIGk9dGhpcy5fZ2V0RWxlbWVudEZ1bGxOYW1lKGUsbix0aGlzLl9nZXRQYXJlbnRFbGVtZW50KCkpLG89ITE7aWYodGhpcy5fcGVlay50eXBlPT09anUuVEFHX09QRU5fRU5EX1ZPSUQpe3RoaXMuX2FkdmFuY2UoKSxvPSEwO3ZhciBzPXRoaXMuZ2V0VGFnRGVmaW5pdGlvbihpKTtzLmNhblNlbGZDbG9zZXx8bnVsbCE9PXAoaSl8fHMuaXNWb2lkfHx0aGlzLl9lcnJvcnMucHVzaCh6dS5jcmVhdGUoaSx0LnNvdXJjZVNwYW4sJ09ubHkgdm9pZCBhbmQgZm9yZWlnbiBlbGVtZW50cyBjYW4gYmUgc2VsZiBjbG9zZWQgXCInK3QucGFydHNbMV0rJ1wiJykpfWVsc2UgdGhpcy5fcGVlay50eXBlPT09anUuVEFHX09QRU5fRU5EJiYodGhpcy5fYWR2YW5jZSgpLG89ITEpO3ZhciBhPXRoaXMuX3BlZWsuc291cmNlU3Bhbi5zdGFydCx1PW5ldyBQdSh0LnNvdXJjZVNwYW4uc3RhcnQsYSksYz1uZXcgSXUoaSxyLFtdLHUsdSxudWxsKTt0aGlzLl9wdXNoRWxlbWVudChjKSxvJiYodGhpcy5fcG9wRWxlbWVudChpKSxjLmVuZFNvdXJjZVNwYW49dSl9LHQucHJvdG90eXBlLl9wdXNoRWxlbWVudD1mdW5jdGlvbih0KXtpZih0aGlzLl9lbGVtZW50U3RhY2subGVuZ3RoPjApe3ZhciBlPXRoaXMuX2VsZW1lbnRTdGFja1t0aGlzLl9lbGVtZW50U3RhY2subGVuZ3RoLTFdO3RoaXMuZ2V0VGFnRGVmaW5pdGlvbihlLm5hbWUpLmlzQ2xvc2VkQnlDaGlsZCh0Lm5hbWUpJiZ0aGlzLl9lbGVtZW50U3RhY2sucG9wKCl9dmFyIG49dGhpcy5nZXRUYWdEZWZpbml0aW9uKHQubmFtZSkscj10aGlzLl9nZXRQYXJlbnRFbGVtZW50U2tpcHBpbmdDb250YWluZXJzKCksaT1yLnBhcmVudCxvPXIuY29udGFpbmVyO2lmKGkmJm4ucmVxdWlyZUV4dHJhUGFyZW50KGkubmFtZSkpe3ZhciBzPW5ldyBJdShuLnBhcmVudFRvQWRkLFtdLFtdLHQuc291cmNlU3Bhbix0LnN0YXJ0U291cmNlU3Bhbix0LmVuZFNvdXJjZVNwYW4pO3RoaXMuX2luc2VydEJlZm9yZUNvbnRhaW5lcihpLG8scyl9dGhpcy5fYWRkVG9QYXJlbnQodCksdGhpcy5fZWxlbWVudFN0YWNrLnB1c2godCl9LHQucHJvdG90eXBlLl9jb25zdW1lRW5kVGFnPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldEVsZW1lbnRGdWxsTmFtZSh0LnBhcnRzWzBdLHQucGFydHNbMV0sdGhpcy5fZ2V0UGFyZW50RWxlbWVudCgpKTt0aGlzLl9nZXRQYXJlbnRFbGVtZW50KCkmJih0aGlzLl9nZXRQYXJlbnRFbGVtZW50KCkuZW5kU291cmNlU3Bhbj10LnNvdXJjZVNwYW4pLHRoaXMuZ2V0VGFnRGVmaW5pdGlvbihlKS5pc1ZvaWQ/dGhpcy5fZXJyb3JzLnB1c2goenUuY3JlYXRlKGUsdC5zb3VyY2VTcGFuLCdWb2lkIGVsZW1lbnRzIGRvIG5vdCBoYXZlIGVuZCB0YWdzIFwiJyt0LnBhcnRzWzFdKydcIicpKTp0aGlzLl9wb3BFbGVtZW50KGUpfHx0aGlzLl9lcnJvcnMucHVzaCh6dS5jcmVhdGUoZSx0LnNvdXJjZVNwYW4sJ1VuZXhwZWN0ZWQgY2xvc2luZyB0YWcgXCInK3QucGFydHNbMV0rJ1wiJykpfSx0LnByb3RvdHlwZS5fcG9wRWxlbWVudD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fZWxlbWVudFN0YWNrLmxlbmd0aC0xO2U+PTA7ZS0tKXt2YXIgbj10aGlzLl9lbGVtZW50U3RhY2tbZV07aWYobi5uYW1lPT10KXJldHVybiB0aGlzLl9lbGVtZW50U3RhY2suc3BsaWNlKGUsdGhpcy5fZWxlbWVudFN0YWNrLmxlbmd0aC1lKSwhMDtpZighdGhpcy5nZXRUYWdEZWZpbml0aW9uKG4ubmFtZSkuY2xvc2VkQnlQYXJlbnQpcmV0dXJuITF9cmV0dXJuITF9LHQucHJvdG90eXBlLl9jb25zdW1lQXR0cj1mdW5jdGlvbih0KXt2YXIgZSxuPWgodC5wYXJ0c1swXSx0LnBhcnRzWzFdKSxyPXQuc291cmNlU3Bhbi5lbmQsaT1cIlwiO2lmKHRoaXMuX3BlZWsudHlwZT09PWp1LkFUVFJfVkFMVUUpe3ZhciBvPXRoaXMuX2FkdmFuY2UoKTtpPW8ucGFydHNbMF0scj1vLnNvdXJjZVNwYW4uZW5kLGU9by5zb3VyY2VTcGFufXJldHVybiBuZXcgUnUobixpLG5ldyBQdSh0LnNvdXJjZVNwYW4uc3RhcnQsciksZSl9LHQucHJvdG90eXBlLl9nZXRQYXJlbnRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VsZW1lbnRTdGFjay5sZW5ndGg+MD90aGlzLl9lbGVtZW50U3RhY2tbdGhpcy5fZWxlbWVudFN0YWNrLmxlbmd0aC0xXTpudWxsfSx0LnByb3RvdHlwZS5fZ2V0UGFyZW50RWxlbWVudFNraXBwaW5nQ29udGFpbmVycz1mdW5jdGlvbigpe2Zvcih2YXIgdD1udWxsLGU9dGhpcy5fZWxlbWVudFN0YWNrLmxlbmd0aC0xO2U+PTA7ZS0tKXtpZihcIm5nLWNvbnRhaW5lclwiIT09dGhpcy5fZWxlbWVudFN0YWNrW2VdLm5hbWUpcmV0dXJue3BhcmVudDp0aGlzLl9lbGVtZW50U3RhY2tbZV0sY29udGFpbmVyOnR9O3Q9dGhpcy5fZWxlbWVudFN0YWNrW2VdfXJldHVybntwYXJlbnQ6dGhpcy5fZWxlbWVudFN0YWNrW3RoaXMuX2VsZW1lbnRTdGFjay5sZW5ndGgtMV0sY29udGFpbmVyOnR9fSx0LnByb3RvdHlwZS5fYWRkVG9QYXJlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0UGFyZW50RWxlbWVudCgpO3IoZSk/ZS5jaGlsZHJlbi5wdXNoKHQpOnRoaXMuX3Jvb3ROb2Rlcy5wdXNoKHQpfSx0LnByb3RvdHlwZS5faW5zZXJ0QmVmb3JlQ29udGFpbmVyPWZ1bmN0aW9uKHQsZSxuKXtpZihlKXtpZih0KXt2YXIgcj10LmNoaWxkcmVuLmluZGV4T2YoZSk7dC5jaGlsZHJlbltyXT1ufWVsc2UgdGhpcy5fcm9vdE5vZGVzLnB1c2gobik7bi5jaGlsZHJlbi5wdXNoKGUpLHRoaXMuX2VsZW1lbnRTdGFjay5zcGxpY2UodGhpcy5fZWxlbWVudFN0YWNrLmluZGV4T2YoZSksMCxuKX1lbHNlIHRoaXMuX2FkZFRvUGFyZW50KG4pLHRoaXMuX2VsZW1lbnRTdGFjay5wdXNoKG4pfSx0LnByb3RvdHlwZS5fZ2V0RWxlbWVudEZ1bGxOYW1lPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaSh0KSYmKHQ9dGhpcy5nZXRUYWdEZWZpbml0aW9uKGUpLmltcGxpY2l0TmFtZXNwYWNlUHJlZml4LGkodCkmJnIobikmJih0PXAobi5uYW1lKSkpLGgodCxlKX0sdH0oKSwkdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt0aGlzLm5vZGVzPXQsdGhpcy5wbGFjZWhvbGRlcnM9ZSx0aGlzLnBsYWNlaG9sZGVyVG9NZXNzYWdlPW4sdGhpcy5tZWFuaW5nPXIsdGhpcy5kZXNjcmlwdGlvbj1pfXJldHVybiB0fSgpLFF1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMudmFsdWU9dCx0aGlzLnNvdXJjZVNwYW49ZX1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdFRleHQodGhpcyxlKX0sdH0oKSxZdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmNoaWxkcmVuPXQsdGhpcy5zb3VyY2VTcGFuPWV9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRDb250YWluZXIodGhpcyxlKX0sdH0oKSxLdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5leHByZXNzaW9uPXQsdGhpcy50eXBlPWUsdGhpcy5jYXNlcz1uLHRoaXMuc291cmNlU3Bhbj1yfXJldHVybiB0LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0SWN1KHRoaXMsZSl9LHR9KCksWnU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvLHMpe3RoaXMudGFnPXQsdGhpcy5hdHRycz1lLHRoaXMuc3RhcnROYW1lPW4sdGhpcy5jbG9zZU5hbWU9cix0aGlzLmNoaWxkcmVuPWksdGhpcy5pc1ZvaWQ9byx0aGlzLnNvdXJjZVNwYW49c31yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdFRhZ1BsYWNlaG9sZGVyKHRoaXMsZSl9LHR9KCksSnU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLnZhbHVlPXQsdGhpcy5uYW1lPWUsdGhpcy5zb3VyY2VTcGFuPW59cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRQbGFjZWhvbGRlcih0aGlzLGUpfSx0fSgpLHRjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy52YWx1ZT10LHRoaXMubmFtZT1lLHRoaXMuc291cmNlU3Bhbj1ufXJldHVybiB0LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0SWN1UGxhY2Vob2xkZXIodGhpcyxlKX0sdH0oKSxlYz17QTpcIkxJTktcIixCOlwiQk9MRF9URVhUXCIsQlI6XCJMSU5FX0JSRUFLXCIsRU06XCJFTVBIQVNJU0VEX1RFWFRcIixIMTpcIkhFQURJTkdfTEVWRUwxXCIsSDI6XCJIRUFESU5HX0xFVkVMMlwiLEgzOlwiSEVBRElOR19MRVZFTDNcIixINDpcIkhFQURJTkdfTEVWRUw0XCIsSDU6XCJIRUFESU5HX0xFVkVMNVwiLEg2OlwiSEVBRElOR19MRVZFTDZcIixIUjpcIkhPUklaT05UQUxfUlVMRVwiLEk6XCJJVEFMSUNfVEVYVFwiLExJOlwiTElTVF9JVEVNXCIsTElOSzpcIk1FRElBX0xJTktcIixPTDpcIk9SREVSRURfTElTVFwiLFA6XCJQQVJBR1JBUEhcIixROlwiUVVPVEFUSU9OXCIsUzpcIlNUUklLRVRIUk9VR0hfVEVYVFwiLFNNQUxMOlwiU01BTExfVEVYVFwiLFNVQjpcIlNVQlNUUklQVFwiLFNVUDpcIlNVUEVSU0NSSVBUXCIsVEJPRFk6XCJUQUJMRV9CT0RZXCIsVEQ6XCJUQUJMRV9DRUxMXCIsVEZPT1Q6XCJUQUJMRV9GT09URVJcIixUSDpcIlRBQkxFX0hFQURFUl9DRUxMXCIsVEhFQUQ6XCJUQUJMRV9IRUFERVJcIixUUjpcIlRBQkxFX1JPV1wiLFRUOlwiTU9OT1NQQUNFRF9URVhUXCIsVTpcIlVOREVSTElORURfVEVYVFwiLFVMOlwiVU5PUkRFUkVEX0xJU1RcIn0sbmM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fcGxhY2VIb2xkZXJOYW1lQ291bnRzPXt9LHRoaXMuX3NpZ25hdHVyZVRvTmFtZT17fX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0U3RhcnRUYWdQbGFjZWhvbGRlck5hbWU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2hhc2hUYWcodCxlLG4pO2lmKHRoaXMuX3NpZ25hdHVyZVRvTmFtZVtyXSlyZXR1cm4gdGhpcy5fc2lnbmF0dXJlVG9OYW1lW3JdO3ZhciBpPXQudG9VcHBlckNhc2UoKSxvPWVjW2ldfHxcIlRBR19cIitpLHM9dGhpcy5fZ2VuZXJhdGVVbmlxdWVOYW1lKG4/bzpcIlNUQVJUX1wiK28pO3JldHVybiB0aGlzLl9zaWduYXR1cmVUb05hbWVbcl09cyxzfSx0LnByb3RvdHlwZS5nZXRDbG9zZVRhZ1BsYWNlaG9sZGVyTmFtZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9oYXNoQ2xvc2luZ1RhZyh0KTtpZih0aGlzLl9zaWduYXR1cmVUb05hbWVbZV0pcmV0dXJuIHRoaXMuX3NpZ25hdHVyZVRvTmFtZVtlXTt2YXIgbj10LnRvVXBwZXJDYXNlKCkscj1lY1tuXXx8XCJUQUdfXCIrbixpPXRoaXMuX2dlbmVyYXRlVW5pcXVlTmFtZShcIkNMT1NFX1wiK3IpO3JldHVybiB0aGlzLl9zaWduYXR1cmVUb05hbWVbZV09aSxpfSx0LnByb3RvdHlwZS5nZXRQbGFjZWhvbGRlck5hbWU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnRvVXBwZXJDYXNlKCkscj1cIlBIOiBcIituK1wiPVwiK2U7aWYodGhpcy5fc2lnbmF0dXJlVG9OYW1lW3JdKXJldHVybiB0aGlzLl9zaWduYXR1cmVUb05hbWVbcl07dmFyIGk9dGhpcy5fZ2VuZXJhdGVVbmlxdWVOYW1lKG4pO3JldHVybiB0aGlzLl9zaWduYXR1cmVUb05hbWVbcl09aSxpfSx0LnByb3RvdHlwZS5nZXRVbmlxdWVQbGFjZWhvbGRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2VuZXJhdGVVbmlxdWVOYW1lKHQudG9VcHBlckNhc2UoKSl9LHQucHJvdG90eXBlLl9oYXNoVGFnPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1cIjxcIit0LGk9T2JqZWN0LmtleXMoZSkuc29ydCgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm5cIiBcIit0K1wiPVwiK2VbdF19KS5qb2luKFwiXCIpLG89bj9cIi8+XCI6XCI+PC9cIit0K1wiPlwiO3JldHVybiByK2krb30sdC5wcm90b3R5cGUuX2hhc2hDbG9zaW5nVGFnPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9oYXNoVGFnKFwiL1wiK3Qse30sITEpfSx0LnByb3RvdHlwZS5fZ2VuZXJhdGVVbmlxdWVOYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BsYWNlSG9sZGVyTmFtZUNvdW50cy5oYXNPd25Qcm9wZXJ0eSh0KTtpZighZSlyZXR1cm4gdGhpcy5fcGxhY2VIb2xkZXJOYW1lQ291bnRzW3RdPTEsdDt2YXIgbj10aGlzLl9wbGFjZUhvbGRlck5hbWVDb3VudHNbdF07cmV0dXJuIHRoaXMuX3BsYWNlSG9sZGVyTmFtZUNvdW50c1t0XT1uKzEsdCtcIl9cIitufSx0fSgpLHJjPW5ldyB3dShuZXcgZnUpLGljPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2V4cHJlc3Npb25QYXJzZXI9dCx0aGlzLl9pbnRlcnBvbGF0aW9uQ29uZmlnPWV9cmV0dXJuIHQucHJvdG90eXBlLnRvSTE4bk1lc3NhZ2U9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX2lzSWN1PTE9PXQubGVuZ3RoJiZ0WzBdaW5zdGFuY2VvZiBNdSx0aGlzLl9pY3VEZXB0aD0wLHRoaXMuX3BsYWNlaG9sZGVyUmVnaXN0cnk9bmV3IG5jLHRoaXMuX3BsYWNlaG9sZGVyVG9Db250ZW50PXt9LHRoaXMuX3BsYWNlaG9sZGVyVG9NZXNzYWdlPXt9O3ZhciByPSQodGhpcyx0LHt9KTtyZXR1cm4gbmV3ICR1KHIsdGhpcy5fcGxhY2Vob2xkZXJUb0NvbnRlbnQsdGhpcy5fcGxhY2Vob2xkZXJUb01lc3NhZ2UsZSxuKX0sdC5wcm90b3R5cGUudmlzaXRFbGVtZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49JCh0aGlzLHQuY2hpbGRyZW4pLHI9e307dC5hdHRycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JbdC5uYW1lXT10LnZhbHVlfSk7dmFyIGk9Zih0Lm5hbWUpLmlzVm9pZCxvPXRoaXMuX3BsYWNlaG9sZGVyUmVnaXN0cnkuZ2V0U3RhcnRUYWdQbGFjZWhvbGRlck5hbWUodC5uYW1lLHIsaSk7dGhpcy5fcGxhY2Vob2xkZXJUb0NvbnRlbnRbb109dC5zb3VyY2VTcGFuLnRvU3RyaW5nKCk7dmFyIHM9XCJcIjtyZXR1cm4gaXx8KHM9dGhpcy5fcGxhY2Vob2xkZXJSZWdpc3RyeS5nZXRDbG9zZVRhZ1BsYWNlaG9sZGVyTmFtZSh0Lm5hbWUpLHRoaXMuX3BsYWNlaG9sZGVyVG9Db250ZW50W3NdPVwiPC9cIit0Lm5hbWUrXCI+XCIpLG5ldyBadSh0Lm5hbWUscixvLHMsbixpLHQuc291cmNlU3Bhbil9LHQucHJvdG90eXBlLnZpc2l0QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3Zpc2l0VGV4dFdpdGhJbnRlcnBvbGF0aW9uKHQudmFsdWUsdC5zb3VyY2VTcGFuKX0sdC5wcm90b3R5cGUudmlzaXRUZXh0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3Zpc2l0VGV4dFdpdGhJbnRlcnBvbGF0aW9uKHQudmFsdWUsdC5zb3VyY2VTcGFuKX0sdC5wcm90b3R5cGUudmlzaXRDb21tZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLnZpc2l0RXhwYW5zaW9uPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpczt0aGlzLl9pY3VEZXB0aCsrO3ZhciBpPXt9LG89bmV3IEt1KGUuc3dpdGNoVmFsdWUsZS50eXBlLGksZS5zb3VyY2VTcGFuKTtpZihlLmNhc2VzLmZvckVhY2goZnVuY3Rpb24odCl7aVt0LnZhbHVlXT1uZXcgWXUodC5leHByZXNzaW9uLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdChyLHt9KX0pLHQuZXhwU291cmNlU3Bhbil9KSx0aGlzLl9pY3VEZXB0aC0tLHRoaXMuX2lzSWN1fHx0aGlzLl9pY3VEZXB0aD4wKXt2YXIgcz10aGlzLl9wbGFjZWhvbGRlclJlZ2lzdHJ5LmdldFVuaXF1ZVBsYWNlaG9sZGVyKFwiVkFSX1wiK2UudHlwZSk7cmV0dXJuIG8uZXhwcmVzc2lvblBsYWNlaG9sZGVyPXMsdGhpcy5fcGxhY2Vob2xkZXJUb0NvbnRlbnRbc109ZS5zd2l0Y2hWYWx1ZSxvfXZhciBhPXRoaXMuX3BsYWNlaG9sZGVyUmVnaXN0cnkuZ2V0UGxhY2Vob2xkZXJOYW1lKFwiSUNVXCIsZS5zb3VyY2VTcGFuLnRvU3RyaW5nKCkpLHU9bmV3IHQodGhpcy5fZXhwcmVzc2lvblBhcnNlcix0aGlzLl9pbnRlcnBvbGF0aW9uQ29uZmlnKTtyZXR1cm4gdGhpcy5fcGxhY2Vob2xkZXJUb01lc3NhZ2VbYV09dS50b0kxOG5NZXNzYWdlKFtlXSxcIlwiLFwiXCIpLG5ldyB0YyhvLGEsZS5zb3VyY2VTcGFuKX0sdC5wcm90b3R5cGUudmlzaXRFeHBhbnNpb25DYXNlPWZ1bmN0aW9uKHQsZSl7dGhyb3cgbmV3IEVycm9yKFwiVW5yZWFjaGFibGUgY29kZVwiKX0sdC5wcm90b3R5cGUuX3Zpc2l0VGV4dFdpdGhJbnRlcnBvbGF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZXhwcmVzc2lvblBhcnNlci5zcGxpdEludGVycG9sYXRpb24odCxlLnN0YXJ0LnRvU3RyaW5nKCksdGhpcy5faW50ZXJwb2xhdGlvbkNvbmZpZyk7aWYoIW4pcmV0dXJuIG5ldyBRdSh0LGUpO2Zvcih2YXIgcj1bXSxpPW5ldyBZdShyLGUpLG89dGhpcy5faW50ZXJwb2xhdGlvbkNvbmZpZyxzPW8uc3RhcnQsYT1vLmVuZCx1PTA7dTxuLnN0cmluZ3MubGVuZ3RoLTE7dSsrKXt2YXIgYz1uLmV4cHJlc3Npb25zW3VdLGw9bHQoYyl8fFwiSU5URVJQT0xBVElPTlwiLHA9dGhpcy5fcGxhY2Vob2xkZXJSZWdpc3RyeS5nZXRQbGFjZWhvbGRlck5hbWUobCxjKTtuLnN0cmluZ3NbdV0ubGVuZ3RoJiZyLnB1c2gobmV3IFF1KG4uc3RyaW5nc1t1XSxlKSksci5wdXNoKG5ldyBKdShjLHAsZSkpLHRoaXMuX3BsYWNlaG9sZGVyVG9Db250ZW50W3BdPXMrYythfXZhciBoPW4uc3RyaW5ncy5sZW5ndGgtMTtyZXR1cm4gbi5zdHJpbmdzW2hdLmxlbmd0aCYmci5wdXNoKG5ldyBRdShuLnN0cmluZ3NbaF0sZSkpLGl9LHR9KCksb2M9L1xcL1xcL1tcXHNcXFNdKmkxOG5bXFxzXFxTXSpcXChbXFxzXFxTXSpwaFtcXHNcXFNdKj1bXFxzXFxTXSpcIihbXFxzXFxTXSo/KVwiW1xcc1xcU10qXFwpL2csc2M9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LGFjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxlLG4pfXJldHVybiBzYyhlLHQpLGV9KFR1KSx1Yz1cImkxOG5cIixjYz1cImkxOG4tXCIsbGM9L15pMThuOj8vLHBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMubWVzc2FnZXM9dCx0aGlzLmVycm9ycz1lfXJldHVybiB0fSgpLGhjPXt9O2hjLkV4dHJhY3Q9MCxoYy5NZXJnZT0xLGhjW2hjLkV4dHJhY3RdPVwiRXh0cmFjdFwiLGhjW2hjLk1lcmdlXT1cIk1lcmdlXCI7dmFyIGZjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2ltcGxpY2l0VGFncz10LHRoaXMuX2ltcGxpY2l0QXR0cnM9ZX1yZXR1cm4gdC5wcm90b3R5cGUuZXh0cmFjdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuX2luaXQoaGMuRXh0cmFjdCxlKSx0LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXQobixudWxsKX0pLHRoaXMuX2luSTE4bkJsb2NrJiZ0aGlzLl9yZXBvcnRFcnJvcih0W3QubGVuZ3RoLTFdLFwiVW5jbG9zZWQgYmxvY2tcIiksbmV3IHBjKHRoaXMuX21lc3NhZ2VzLHRoaXMuX2Vycm9ycyl9LHQucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9pbml0KGhjLk1lcmdlLG4pLHRoaXMuX3RyYW5zbGF0aW9ucz1lO3ZhciByPW5ldyBJdShcIndyYXBwZXJcIixbXSx0LG51bGwsbnVsbCxudWxsKSxpPXIudmlzaXQodGhpcyxudWxsKTtyZXR1cm4gdGhpcy5faW5JMThuQmxvY2smJnRoaXMuX3JlcG9ydEVycm9yKHRbdC5sZW5ndGgtMV0sXCJVbmNsb3NlZCBibG9ja1wiKSxuZXcgV3UoaS5jaGlsZHJlbix0aGlzLl9lcnJvcnMpfSx0LnByb3RvdHlwZS52aXNpdEV4cGFuc2lvbkNhc2U9ZnVuY3Rpb24odCxlKXt2YXIgbj0kKHRoaXMsdC5leHByZXNzaW9uLGUpO2lmKHRoaXMuX21vZGU9PT1oYy5NZXJnZSlyZXR1cm4gbmV3IGt1KHQudmFsdWUsbix0LnNvdXJjZVNwYW4sdC52YWx1ZVNvdXJjZVNwYW4sdC5leHBTb3VyY2VTcGFuKX0sdC5wcm90b3R5cGUudmlzaXRFeHBhbnNpb249ZnVuY3Rpb24odCxlKXt0aGlzLl9tYXlCZUFkZEJsb2NrQ2hpbGRyZW4odCk7dmFyIG49dGhpcy5faW5JY3U7dGhpcy5faW5JY3V8fCh0aGlzLl9pc0luVHJhbnNsYXRhYmxlU2VjdGlvbiYmdGhpcy5fYWRkTWVzc2FnZShbdF0pLHRoaXMuX2luSWN1PSEwKTt2YXIgcj0kKHRoaXMsdC5jYXNlcyxlKTtyZXR1cm4gdGhpcy5fbW9kZT09PWhjLk1lcmdlJiYodD1uZXcgTXUodC5zd2l0Y2hWYWx1ZSx0LnR5cGUscix0LnNvdXJjZVNwYW4sdC5zd2l0Y2hWYWx1ZVNvdXJjZVNwYW4pKSx0aGlzLl9pbkljdT1uLHR9LHQucHJvdG90eXBlLnZpc2l0Q29tbWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPWZ0KHQpO2lmKG4mJnRoaXMuX2lzSW5UcmFuc2xhdGFibGVTZWN0aW9uKXJldHVybiB2b2lkIHRoaXMuX3JlcG9ydEVycm9yKHQsXCJDb3VsZCBub3Qgc3RhcnQgYSBibG9jayBpbnNpZGUgYSB0cmFuc2xhdGFibGUgc2VjdGlvblwiKTt2YXIgcj1kdCh0KTtpZihyJiYhdGhpcy5faW5JMThuQmxvY2spcmV0dXJuIHZvaWQgdGhpcy5fcmVwb3J0RXJyb3IodCxcIlRyeWluZyB0byBjbG9zZSBhbiB1bm9wZW5lZCBibG9ja1wiKTtpZighdGhpcy5faW5JMThuTm9kZSYmIXRoaXMuX2luSWN1KWlmKHRoaXMuX2luSTE4bkJsb2NrKXtpZihyKXtpZih0aGlzLl9kZXB0aD09dGhpcy5fYmxvY2tTdGFydERlcHRoKXt0aGlzLl9jbG9zZVRyYW5zbGF0YWJsZVNlY3Rpb24odCx0aGlzLl9ibG9ja0NoaWxkcmVuKSx0aGlzLl9pbkkxOG5CbG9jaz0hMTt2YXIgaT10aGlzLl9hZGRNZXNzYWdlKHRoaXMuX2Jsb2NrQ2hpbGRyZW4sdGhpcy5fYmxvY2tNZWFuaW5nQW5kRGVzYyksbz10aGlzLl90cmFuc2xhdGVNZXNzYWdlKHQsaSk7cmV0dXJuICQodGhpcyxvKX1yZXR1cm4gdm9pZCB0aGlzLl9yZXBvcnRFcnJvcih0LFwiSTE4TiBibG9ja3Mgc2hvdWxkIG5vdCBjcm9zcyBlbGVtZW50IGJvdW5kYXJpZXNcIil9fWVsc2UgbiYmKHRoaXMuX2luSTE4bkJsb2NrPSEwLHRoaXMuX2Jsb2NrU3RhcnREZXB0aD10aGlzLl9kZXB0aCx0aGlzLl9ibG9ja0NoaWxkcmVuPVtdLHRoaXMuX2Jsb2NrTWVhbmluZ0FuZERlc2M9dC52YWx1ZS5yZXBsYWNlKGxjLFwiXCIpLnRyaW0oKSx0aGlzLl9vcGVuVHJhbnNsYXRhYmxlU2VjdGlvbih0KSl9LHQucHJvdG90eXBlLnZpc2l0VGV4dD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9pc0luVHJhbnNsYXRhYmxlU2VjdGlvbiYmdGhpcy5fbWF5QmVBZGRCbG9ja0NoaWxkcmVuKHQpLHR9LHQucHJvdG90eXBlLnZpc2l0RWxlbWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5fbWF5QmVBZGRCbG9ja0NoaWxkcmVuKHQpLHRoaXMuX2RlcHRoKys7dmFyIHIsaT10aGlzLl9pbkkxOG5Ob2RlLG89dGhpcy5faW5JbXBsaWNpdE5vZGUscz1bXSxhPXl0KHQpLHU9YT9hLnZhbHVlOlwiXCIsYz10aGlzLl9pbXBsaWNpdFRhZ3Muc29tZShmdW5jdGlvbihlKXtyZXR1cm4gdC5uYW1lPT09ZX0pJiYhdGhpcy5faW5JY3UmJiF0aGlzLl9pc0luVHJhbnNsYXRhYmxlU2VjdGlvbixsPSFvJiZjO2lmKHRoaXMuX2luSW1wbGljaXROb2RlPW98fGMsdGhpcy5faXNJblRyYW5zbGF0YWJsZVNlY3Rpb258fHRoaXMuX2luSWN1KShhfHxsKSYmdGhpcy5fcmVwb3J0RXJyb3IodCxcIkNvdWxkIG5vdCBtYXJrIGFuIGVsZW1lbnQgYXMgdHJhbnNsYXRhYmxlIGluc2lkZSBhIHRyYW5zbGF0YWJsZSBzZWN0aW9uXCIpLHRoaXMuX21vZGU9PWhjLkV4dHJhY3QmJiQodGhpcyx0LmNoaWxkcmVuKTtlbHNle2lmKGF8fGwpe3RoaXMuX2luSTE4bk5vZGU9ITA7dmFyIHA9dGhpcy5fYWRkTWVzc2FnZSh0LmNoaWxkcmVuLHUpO3I9dGhpcy5fdHJhbnNsYXRlTWVzc2FnZSh0LHApfWlmKHRoaXMuX21vZGU9PWhjLkV4dHJhY3Qpe3ZhciBoPWF8fGw7aCYmdGhpcy5fb3BlblRyYW5zbGF0YWJsZVNlY3Rpb24odCksJCh0aGlzLHQuY2hpbGRyZW4pLGgmJnRoaXMuX2Nsb3NlVHJhbnNsYXRhYmxlU2VjdGlvbih0LHQuY2hpbGRyZW4pfX1pZih0aGlzLl9tb2RlPT09aGMuTWVyZ2Upe3ZhciBmPXJ8fHQuY2hpbGRyZW47Zi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPXQudmlzaXQobixlKTtyJiYhbi5faXNJblRyYW5zbGF0YWJsZVNlY3Rpb24mJihzPXMuY29uY2F0KHIpKX0pfWlmKHRoaXMuX3Zpc2l0QXR0cmlidXRlc09mKHQpLHRoaXMuX2RlcHRoLS0sdGhpcy5faW5JMThuTm9kZT1pLHRoaXMuX2luSW1wbGljaXROb2RlPW8sdGhpcy5fbW9kZT09PWhjLk1lcmdlKXt2YXIgZD10aGlzLl90cmFuc2xhdGVBdHRyaWJ1dGVzKHQpO3JldHVybiBuZXcgSXUodC5uYW1lLGQscyx0LnNvdXJjZVNwYW4sdC5zdGFydFNvdXJjZVNwYW4sdC5lbmRTb3VyY2VTcGFuKX19LHQucHJvdG90eXBlLnZpc2l0QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7dGhyb3cgbmV3IEVycm9yKFwidW5yZWFjaGFibGUgY29kZVwiKX0sdC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9tb2RlPXQsdGhpcy5faW5JMThuQmxvY2s9ITEsdGhpcy5faW5JMThuTm9kZT0hMSx0aGlzLl9kZXB0aD0wLHRoaXMuX2luSWN1PSExLHRoaXMuX21zZ0NvdW50QXRTZWN0aW9uU3RhcnQ9dm9pZCAwLHRoaXMuX2Vycm9ycz1bXSx0aGlzLl9tZXNzYWdlcz1bXSx0aGlzLl9pbkltcGxpY2l0Tm9kZT0hMSx0aGlzLl9jcmVhdGVJMThuTWVzc2FnZT1jdChlKX0sdC5wcm90b3R5cGUuX3Zpc2l0QXR0cmlidXRlc09mPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj17fSxyPXRoaXMuX2ltcGxpY2l0QXR0cnNbdC5uYW1lXXx8W107dC5hdHRycy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZS5zdGFydHNXaXRoKGNjKX0pLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG5bdC5uYW1lLnNsaWNlKGNjLmxlbmd0aCldPXQudmFsdWV9KSx0LmF0dHJzLmZvckVhY2goZnVuY3Rpb24odCl7dC5uYW1lIGluIG4/ZS5fYWRkTWVzc2FnZShbdF0sblt0Lm5hbWVdKTpyLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHQubmFtZT09PWV9KSYmZS5fYWRkTWVzc2FnZShbdF0pfSl9LHQucHJvdG90eXBlLl9hZGRNZXNzYWdlPWZ1bmN0aW9uKHQsZSl7aWYoISgwPT10Lmxlbmd0aHx8MT09dC5sZW5ndGgmJnRbMF1pbnN0YW5jZW9mIFJ1JiYhdFswXS52YWx1ZSkpe3ZhciBuPW10KGUpLHI9blswXSxpPW5bMV0sbz10aGlzLl9jcmVhdGVJMThuTWVzc2FnZSh0LHIsaSk7cmV0dXJuIHRoaXMuX21lc3NhZ2VzLnB1c2gobyksb319LHQucHJvdG90eXBlLl90cmFuc2xhdGVNZXNzYWdlPWZ1bmN0aW9uKHQsZSl7aWYoZSYmdGhpcy5fbW9kZT09PWhjLk1lcmdlKXt2YXIgbj10aGlzLl90cmFuc2xhdGlvbnMuZ2V0KGUpO2lmKG4pcmV0dXJuIG47dGhpcy5fcmVwb3J0RXJyb3IodCwnVHJhbnNsYXRpb24gdW5hdmFpbGFibGUgZm9yIG1lc3NhZ2UgaWQ9XCInK3RoaXMuX3RyYW5zbGF0aW9ucy5kaWdlc3QoZSkrJ1wiJyl9cmV0dXJuW119LHQucHJvdG90eXBlLl90cmFuc2xhdGVBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmF0dHJzLHI9e307bi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QubmFtZS5zdGFydHNXaXRoKGNjKSYmKHJbdC5uYW1lLnNsaWNlKGNjLmxlbmd0aCldPW10KHQudmFsdWUpWzBdKX0pO3ZhciBpPVtdO3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24obil7aWYobi5uYW1lIT09dWMmJiFuLm5hbWUuc3RhcnRzV2l0aChjYykpaWYobi52YWx1ZSYmXCJcIiE9bi52YWx1ZSYmci5oYXNPd25Qcm9wZXJ0eShuLm5hbWUpKXt2YXIgbz1yW24ubmFtZV0scz1lLl9jcmVhdGVJMThuTWVzc2FnZShbbl0sbyxcIlwiKSxhPWUuX3RyYW5zbGF0aW9ucy5nZXQocyk7aWYoYSlpZigwPT1hLmxlbmd0aClpLnB1c2gobmV3IFJ1KG4ubmFtZSxcIlwiLG4uc291cmNlU3BhbikpO2Vsc2UgaWYoYVswXWluc3RhbmNlb2YgQXUpe3ZhciB1PWFbMF0udmFsdWU7aS5wdXNoKG5ldyBSdShuLm5hbWUsdSxuLnNvdXJjZVNwYW4pKX1lbHNlIGUuX3JlcG9ydEVycm9yKHQsJ1VuZXhwZWN0ZWQgdHJhbnNsYXRpb24gZm9yIGF0dHJpYnV0ZSBcIicrbi5uYW1lKydcIiAoaWQ9XCInK2UuX3RyYW5zbGF0aW9ucy5kaWdlc3QocykrJ1wiKScpO2Vsc2UgZS5fcmVwb3J0RXJyb3IodCwnVHJhbnNsYXRpb24gdW5hdmFpbGFibGUgZm9yIGF0dHJpYnV0ZSBcIicrbi5uYW1lKydcIiAoaWQ9XCInK2UuX3RyYW5zbGF0aW9ucy5kaWdlc3QocykrJ1wiKScpfWVsc2UgaS5wdXNoKG4pfSksaX0sdC5wcm90b3R5cGUuX21heUJlQWRkQmxvY2tDaGlsZHJlbj1mdW5jdGlvbih0KXt0aGlzLl9pbkkxOG5CbG9jayYmIXRoaXMuX2luSWN1JiZ0aGlzLl9kZXB0aD09dGhpcy5fYmxvY2tTdGFydERlcHRoJiZ0aGlzLl9ibG9ja0NoaWxkcmVuLnB1c2godCl9LHQucHJvdG90eXBlLl9vcGVuVHJhbnNsYXRhYmxlU2VjdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9pc0luVHJhbnNsYXRhYmxlU2VjdGlvbj90aGlzLl9yZXBvcnRFcnJvcih0LFwiVW5leHBlY3RlZCBzZWN0aW9uIHN0YXJ0XCIpOnRoaXMuX21zZ0NvdW50QXRTZWN0aW9uU3RhcnQ9dGhpcy5fbWVzc2FnZXMubGVuZ3RofSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJfaXNJblRyYW5zbGF0YWJsZVNlY3Rpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX21zZ0NvdW50QXRTZWN0aW9uU3RhcnR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuX2Nsb3NlVHJhbnNsYXRhYmxlU2VjdGlvbj1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLl9pc0luVHJhbnNsYXRhYmxlU2VjdGlvbilyZXR1cm4gdm9pZCB0aGlzLl9yZXBvcnRFcnJvcih0LFwiVW5leHBlY3RlZCBzZWN0aW9uIGVuZFwiKTt2YXIgbj10aGlzLl9tc2dDb3VudEF0U2VjdGlvblN0YXJ0LHI9ZS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCsoZSBpbnN0YW5jZW9mIE51PzA6MSl9LDApO2lmKDE9PXIpZm9yKHZhciBpPXRoaXMuX21lc3NhZ2VzLmxlbmd0aC0xO2k+PW47aS0tKXt2YXIgbz10aGlzLl9tZXNzYWdlc1tpXS5ub2RlcztpZighKDE9PW8ubGVuZ3RoJiZvWzBdaW5zdGFuY2VvZiBRdSkpe3RoaXMuX21lc3NhZ2VzLnNwbGljZShpLDEpO2JyZWFrfX10aGlzLl9tc2dDb3VudEF0U2VjdGlvblN0YXJ0PXZvaWQgMH0sdC5wcm90b3R5cGUuX3JlcG9ydEVycm9yPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZXJyb3JzLnB1c2gobmV3IGFjKHQuc291cmNlU3BhbixlKSl9LHR9KCksZGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5jbG9zZWRCeVBhcmVudD0hMSx0aGlzLmNvbnRlbnRUeXBlPUdvLlBBUlNBQkxFX0RBVEEsdGhpcy5pc1ZvaWQ9ITEsdGhpcy5pZ25vcmVGaXJzdExmPSExLHRoaXMuY2FuU2VsZkNsb3NlPSEwfXJldHVybiB0LnByb3RvdHlwZS5yZXF1aXJlRXh0cmFQYXJlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuITF9LHQucHJvdG90eXBlLmlzQ2xvc2VkQnlDaGlsZD1mdW5jdGlvbih0KXtyZXR1cm4hMX0sdH0oKSx5Yz1uZXcgZGMsbWM9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LHZjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmNhbGwodGhpcyx2dCl9cmV0dXJuIG1jKGUsdCksZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0hMSksdC5wcm90b3R5cGUucGFyc2UuY2FsbCh0aGlzLGUsbixyLG51bGwpfSxlfShHdSksZ2M9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LF9jPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUudmlzaXRUZXh0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmFsdWV9LHQucHJvdG90eXBlLnZpc2l0Q29udGFpbmVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm5cIltcIit0LmNoaWxkcmVuLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdChuKX0pLmpvaW4oXCIsIFwiKStcIl1cIn0sdC5wcm90b3R5cGUudmlzaXRJY3U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9T2JqZWN0LmtleXModC5jYXNlcykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlK1wiIHtcIit0LmNhc2VzW2VdLnZpc2l0KG4pK1wifVwifSk7cmV0dXJuXCJ7XCIrdC5leHByZXNzaW9uK1wiLCBcIit0LnR5cGUrXCIsIFwiK3Iuam9pbihcIiwgXCIpK1wifVwifSx0LnByb3RvdHlwZS52aXNpdFRhZ1BsYWNlaG9sZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdC5pc1ZvaWQ/JzxwaCB0YWcgbmFtZT1cIicrdC5zdGFydE5hbWUrJ1wiLz4nOic8cGggdGFnIG5hbWU9XCInK3Quc3RhcnROYW1lKydcIj4nK3QuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0KG4pfSkuam9pbihcIiwgXCIpKyc8L3BoIG5hbWU9XCInK3QuY2xvc2VOYW1lKydcIj4nfSx0LnByb3RvdHlwZS52aXNpdFBsYWNlaG9sZGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmFsdWU/JzxwaCBuYW1lPVwiJyt0Lm5hbWUrJ1wiPicrdC52YWx1ZStcIjwvcGg+XCI6JzxwaCBuYW1lPVwiJyt0Lm5hbWUrJ1wiLz4nfSx0LnByb3RvdHlwZS52aXNpdEljdVBsYWNlaG9sZGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuJzxwaCBpY3UgbmFtZT1cIicrdC5uYW1lKydcIj4nK3QudmFsdWUudmlzaXQodGhpcykrXCI8L3BoPlwifSx0fSgpLGJjPW5ldyBfYyx3Yz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGdjKGUsdCksZS5wcm90b3R5cGUudmlzaXRJY3U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9T2JqZWN0LmtleXModC5jYXNlcykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlK1wiIHtcIit0LmNhc2VzW2VdLnZpc2l0KG4pK1wifVwifSk7cmV0dXJuXCJ7XCIrdC50eXBlK1wiLCBcIityLmpvaW4oXCIsIFwiKStcIn1cIn0sZX0oX2MpLENjPXt9O0NjLkxpdHRsZT0wLENjLkJpZz0xLENjW0NjLkxpdHRsZV09XCJMaXR0bGVcIixDY1tDYy5CaWddPVwiQmlnXCI7dmFyIEVjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5jcmVhdGVOYW1lTWFwcGVyPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSx0fSgpLFNjPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSx4Yz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0VGFnPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLl9zZXJpYWxpemVBdHRyaWJ1dGVzKHQuYXR0cnMpO2lmKDA9PXQuY2hpbGRyZW4ubGVuZ3RoKXJldHVyblwiPFwiK3QubmFtZStuK1wiLz5cIjt2YXIgcj10LmNoaWxkcmVuLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdChlKX0pO3JldHVyblwiPFwiK3QubmFtZStuK1wiPlwiK3Iuam9pbihcIlwiKStcIjwvXCIrdC5uYW1lK1wiPlwifSx0LnByb3RvdHlwZS52aXNpdFRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWV9LHQucHJvdG90eXBlLnZpc2l0RGVjbGFyYXRpb249ZnVuY3Rpb24odCl7cmV0dXJuXCI8P3htbFwiK3RoaXMuX3NlcmlhbGl6ZUF0dHJpYnV0ZXModC5hdHRycykrXCIgPz5cIn0sdC5wcm90b3R5cGUuX3NlcmlhbGl6ZUF0dHJpYnV0ZXM9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0LmtleXModCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlKyc9XCInK3RbZV0rJ1wiJ30pLmpvaW4oXCIgXCIpO3JldHVybiBlLmxlbmd0aD4wP1wiIFwiK2U6XCJcIn0sdC5wcm90b3R5cGUudmlzaXREb2N0eXBlPWZ1bmN0aW9uKHQpe3JldHVyblwiPCFET0NUWVBFIFwiK3Qucm9vdFRhZytcIiBbXFxuXCIrdC5kdGQrXCJcXG5dPlwifSx0fSgpLFBjPW5ldyB4YyxPYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dGhpczt0aGlzLmF0dHJzPXt9LE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24obil7ZS5hdHRyc1tuXT1XdCh0W25dKX0pfXJldHVybiB0LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdERlY2xhcmF0aW9uKHRoaXMpfSx0fSgpLFRjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMucm9vdFRhZz10LHRoaXMuZHRkPWV9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0RG9jdHlwZSh0aGlzKX0sdH0oKSxBYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3ZhciByPXRoaXM7dm9pZCAwPT09ZSYmKGU9e30pLHZvaWQgMD09PW4mJihuPVtdKSx0aGlzLm5hbWU9dCx0aGlzLmNoaWxkcmVuPW4sdGhpcy5hdHRycz17fSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IuYXR0cnNbdF09V3QoZVt0XSl9KX1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXRUYWcodGhpcyl9LHR9KCksTWM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudmFsdWU9V3QodCl9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0VGV4dCh0aGlzKX0sdH0oKSxrYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZvaWQgMD09PWUmJihlPTApLHQuY2FsbCh0aGlzLFwiXFxuXCIrbmV3IEFycmF5KGUrMSkuam9pbihcIiBcIikpfXJldHVybiBTYyhlLHQpLGV9KE1jKSxSYz1bWy8mL2csXCImYW1wO1wiXSxbL1wiL2csXCImcXVvdDtcIl0sWy8nL2csXCImYXBvcztcIl0sWy88L2csXCImbHQ7XCJdLFsvPi9nLFwiJmd0O1wiXV0sSWM9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LE5jPVwiMS4yXCIsRGM9XCJ1cm46b2FzaXM6bmFtZXM6dGM6eGxpZmY6ZG9jdW1lbnQ6MS4yXCIsamM9XCJlblwiLFZjPVwieFwiLExjPVwic291cmNlXCIsRmM9XCJ0YXJnZXRcIixVYz1cInRyYW5zLXVuaXRcIixIYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIEljKGUsdCksZS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPW5ldyBCYyxyPXt9LGk9W107dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPWUuZGlnZXN0KHQpO2lmKCFyW29dKXtyW29dPSEwO3ZhciBzPW5ldyBBYyhVYyx7aWQ6byxkYXRhdHlwZTpcImh0bWxcIn0pO3MuY2hpbGRyZW4ucHVzaChuZXcga2MoOCksbmV3IEFjKExjLHt9LG4uc2VyaWFsaXplKHQubm9kZXMpKSxuZXcga2MoOCksbmV3IEFjKEZjKSksdC5kZXNjcmlwdGlvbiYmcy5jaGlsZHJlbi5wdXNoKG5ldyBrYyg4KSxuZXcgQWMoXCJub3RlXCIse3ByaW9yaXR5OlwiMVwiLGZyb206XCJkZXNjcmlwdGlvblwifSxbbmV3IE1jKHQuZGVzY3JpcHRpb24pXSkpLHQubWVhbmluZyYmcy5jaGlsZHJlbi5wdXNoKG5ldyBrYyg4KSxuZXcgQWMoXCJub3RlXCIse3ByaW9yaXR5OlwiMVwiLGZyb206XCJtZWFuaW5nXCJ9LFtuZXcgTWModC5tZWFuaW5nKV0pKSxzLmNoaWxkcmVuLnB1c2gobmV3IGtjKDYpKSxpLnB1c2gobmV3IGtjKDYpLHMpfX0pO3ZhciBvPW5ldyBBYyhcImJvZHlcIix7fSxpLmNvbmNhdChbbmV3IGtjKDQpXSkpLHM9bmV3IEFjKFwiZmlsZVwiLHtcInNvdXJjZS1sYW5ndWFnZVwiOmpjLGRhdGF0eXBlOlwicGxhaW50ZXh0XCIsb3JpZ2luYWw6XCJuZzIudGVtcGxhdGVcIn0sW25ldyBrYyg0KSxvLG5ldyBrYygyKV0pLGE9bmV3IEFjKFwieGxpZmZcIix7dmVyc2lvbjpOYyx4bWxuczpEY30sW25ldyBrYygyKSxzLG5ldyBrY10pO3JldHVybiB6dChbbmV3IE9jKHt2ZXJzaW9uOlwiMS4wXCIsZW5jb2Rpbmc6XCJVVEYtOFwifSksbmV3IGtjLGEsbmV3IGtjXSl9LGUucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgcWMscj1uLnBhcnNlKHQsZSksaT1yLm1sTm9kZXNCeU1zZ0lkLG89ci5lcnJvcnMscz17fSxhPW5ldyB6YztpZihPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWEuY29udmVydChpW3RdKSxuPWUuaTE4bk5vZGVzLHI9ZS5lcnJvcnM7by5wdXNoLmFwcGx5KG8sciksc1t0XT1ufSksby5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwieGxpZmYgcGFyc2UgZXJyb3JzOlxcblwiK28uam9pbihcIlxcblwiKSk7cmV0dXJuIHN9LGUucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbih0KXtyZXR1cm4gZ3QodCl9LGV9KEVjKSxCYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0VGV4dD1mdW5jdGlvbih0LGUpe3JldHVybltuZXcgTWModC52YWx1ZSldfSx0LnByb3RvdHlwZS52aXNpdENvbnRhaW5lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1bXTtyZXR1cm4gdC5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiByLnB1c2guYXBwbHkocix0LnZpc2l0KG4pKX0pLHJ9LHQucHJvdG90eXBlLnZpc2l0SWN1PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5faXNJbkljdSl0aHJvdyBuZXcgRXJyb3IoXCJ4bGlmZiBkb2VzIG5vdCBzdXBwb3J0IG5lc3RlZCBJQ1UgbWVzc2FnZXNcIik7dGhpcy5faXNJbkljdT0hMDt2YXIgbj1bXTtyZXR1cm4gdGhpcy5faXNJbkljdT0hMSxufSx0LnByb3RvdHlwZS52aXNpdFRhZ1BsYWNlaG9sZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49R3QodC50YWcpLHI9bmV3IEFjKFZjLHtpZDp0LnN0YXJ0TmFtZSxjdHlwZTpufSk7aWYodC5pc1ZvaWQpcmV0dXJuW3JdO3ZhciBpPW5ldyBBYyhWYyx7aWQ6dC5jbG9zZU5hbWUsY3R5cGU6bn0pO3JldHVybltyXS5jb25jYXQodGhpcy5zZXJpYWxpemUodC5jaGlsZHJlbiksW2ldKX0sdC5wcm90b3R5cGUudmlzaXRQbGFjZWhvbGRlcj1mdW5jdGlvbih0LGUpe3JldHVybltuZXcgQWMoVmMse2lkOnQubmFtZX0pXX0sdC5wcm90b3R5cGUudmlzaXRJY3VQbGFjZWhvbGRlcj1mdW5jdGlvbih0LGUpe3JldHVybltuZXcgQWMoVmMse2lkOnQubmFtZX0pXX0sdC5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX2lzSW5JY3U9ITEsKG49W10pLmNvbmNhdC5hcHBseShuLHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0KGUpfSkpO3ZhciBufSx0fSgpLHFjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxlKXt0aGlzLl91bml0TWxOb2Rlcz1bXSx0aGlzLl9tbE5vZGVzQnlNc2dJZD17fTt2YXIgbj0obmV3IHZjKS5wYXJzZSh0LGUsITEpO3JldHVybiB0aGlzLl9lcnJvcnM9bi5lcnJvcnMsJCh0aGlzLG4ucm9vdE5vZGVzLG51bGwpLHttbE5vZGVzQnlNc2dJZDp0aGlzLl9tbE5vZGVzQnlNc2dJZCxlcnJvcnM6dGhpcy5fZXJyb3JzfX0sdC5wcm90b3R5cGUudmlzaXRFbGVtZW50PWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQubmFtZSl7Y2FzZSBVYzp0aGlzLl91bml0TWxOb2Rlcz1udWxsO3ZhciBuPXQuYXR0cnMuZmluZChmdW5jdGlvbih0KXtyZXR1cm5cImlkXCI9PT10Lm5hbWV9KTtpZihuKXt2YXIgcj1uLnZhbHVlO3RoaXMuX21sTm9kZXNCeU1zZ0lkLmhhc093blByb3BlcnR5KHIpP3RoaXMuX2FkZEVycm9yKHQsXCJEdXBsaWNhdGVkIHRyYW5zbGF0aW9ucyBmb3IgbXNnIFwiK3IpOigkKHRoaXMsdC5jaGlsZHJlbixudWxsKSx0aGlzLl91bml0TWxOb2Rlcz90aGlzLl9tbE5vZGVzQnlNc2dJZFtyXT10aGlzLl91bml0TWxOb2Rlczp0aGlzLl9hZGRFcnJvcih0LFwiTWVzc2FnZSBcIityK1wiIG1pc3NlcyBhIHRyYW5zbGF0aW9uXCIpKX1lbHNlIHRoaXMuX2FkZEVycm9yKHQsXCI8XCIrVWMrJz4gbWlzc2VzIHRoZSBcImlkXCIgYXR0cmlidXRlJyk7YnJlYWs7Y2FzZSBMYzpicmVhaztjYXNlIEZjOnRoaXMuX3VuaXRNbE5vZGVzPXQuY2hpbGRyZW47YnJlYWs7ZGVmYXVsdDokKHRoaXMsdC5jaGlsZHJlbixudWxsKX19LHQucHJvdG90eXBlLnZpc2l0QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS52aXNpdFRleHQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0Q29tbWVudD1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudmlzaXRFeHBhbnNpb249ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0RXhwYW5zaW9uQ2FzZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuX2FkZEVycm9yPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZXJyb3JzLnB1c2gobmV3IGFjKHQuc291cmNlU3BhbixlKSl9LHR9KCksemM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9lcnJvcnM9W10se2kxOG5Ob2RlczokKHRoaXMsdCksZXJyb3JzOnRoaXMuX2Vycm9yc319LHQucHJvdG90eXBlLnZpc2l0VGV4dD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgUXUodC52YWx1ZSx0LnNvdXJjZVNwYW4pfSx0LnByb3RvdHlwZS52aXNpdEVsZW1lbnQ9ZnVuY3Rpb24odCxlKXtpZih0Lm5hbWU9PT1WYyl7dmFyIG49dC5hdHRycy5maW5kKGZ1bmN0aW9uKHQpe3JldHVyblwiaWRcIj09PXQubmFtZX0pO2lmKG4pcmV0dXJuIG5ldyBKdShcIlwiLG4udmFsdWUsdC5zb3VyY2VTcGFuKTt0aGlzLl9hZGRFcnJvcih0LFwiPFwiK1ZjKyc+IG1pc3NlcyB0aGUgXCJpZFwiIGF0dHJpYnV0ZScpfWVsc2UgdGhpcy5fYWRkRXJyb3IodCxcIlVuZXhwZWN0ZWQgdGFnXCIpfSx0LnByb3RvdHlwZS52aXNpdEV4cGFuc2lvbj1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudmlzaXRFeHBhbnNpb25DYXNlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS52aXNpdENvbW1lbnQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5fYWRkRXJyb3I9ZnVuY3Rpb24odCxlKXt0aGlzLl9lcnJvcnMucHVzaChuZXcgYWModC5zb3VyY2VTcGFuLGUpKX0sdH0oKSxXYz10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sR2M9XCJtZXNzYWdlYnVuZGxlXCIsWGM9XCJtc2dcIiwkYz1cInBoXCIsUWM9XCJleFwiLFljPSc8IUVMRU1FTlQgbWVzc2FnZWJ1bmRsZSAobXNnKSo+XFxuPCFBVFRMSVNUIG1lc3NhZ2VidW5kbGUgY2xhc3MgQ0RBVEEgI0lNUExJRUQ+XFxuXFxuPCFFTEVNRU5UIG1zZyAoI1BDREFUQXxwaHxzb3VyY2UpKj5cXG48IUFUVExJU1QgbXNnIGlkIENEQVRBICNJTVBMSUVEPlxcbjwhQVRUTElTVCBtc2cgc2VxIENEQVRBICNJTVBMSUVEPlxcbjwhQVRUTElTVCBtc2cgbmFtZSBDREFUQSAjSU1QTElFRD5cXG48IUFUVExJU1QgbXNnIGRlc2MgQ0RBVEEgI0lNUExJRUQ+XFxuPCFBVFRMSVNUIG1zZyBtZWFuaW5nIENEQVRBICNJTVBMSUVEPlxcbjwhQVRUTElTVCBtc2cgb2Jzb2xldGUgKG9ic29sZXRlKSAjSU1QTElFRD5cXG48IUFUVExJU1QgbXNnIHhtbDpzcGFjZSAoZGVmYXVsdHxwcmVzZXJ2ZSkgXCJkZWZhdWx0XCI+XFxuPCFBVFRMSVNUIG1zZyBpc19oaWRkZW4gQ0RBVEEgI0lNUExJRUQ+XFxuXFxuPCFFTEVNRU5UIHNvdXJjZSAoI1BDREFUQSk+XFxuXFxuPCFFTEVNRU5UIHBoICgjUENEQVRBfGV4KSo+XFxuPCFBVFRMSVNUIHBoIG5hbWUgQ0RBVEEgI1JFUVVJUkVEPlxcblxcbjwhRUxFTUVOVCBleCAoI1BDREFUQSk+JyxLYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFdjKGUsdCksZS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPW5ldyBKYyxyPW5ldyBaYyxpPXt9LG89bmV3IEFjKEdjKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWUuZGlnZXN0KHQpO1xuaWYoIWlbbl0pe2lbbl09ITA7dmFyIHM9ZS5jcmVhdGVOYW1lTWFwcGVyKHQpLGE9e2lkOm59O3QuZGVzY3JpcHRpb24mJihhLmRlc2M9dC5kZXNjcmlwdGlvbiksdC5tZWFuaW5nJiYoYS5tZWFuaW5nPXQubWVhbmluZyksby5jaGlsZHJlbi5wdXNoKG5ldyBrYygyKSxuZXcgQWMoWGMsYSxyLnNlcmlhbGl6ZSh0Lm5vZGVzLHttYXBwZXI6c30pKSl9fSksby5jaGlsZHJlbi5wdXNoKG5ldyBrYyksenQoW25ldyBPYyh7dmVyc2lvbjpcIjEuMFwiLGVuY29kaW5nOlwiVVRGLThcIn0pLG5ldyBrYyxuZXcgVGMoR2MsWWMpLG5ldyBrYyxuLmFkZERlZmF1bHRFeGFtcGxlcyhvKSxuZXcga2NdKX0sZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LGUpe3Rocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkXCIpfSxlLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIFh0KHQpfSxlLnByb3RvdHlwZS5jcmVhdGVOYW1lTWFwcGVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGwodCl9LGV9KEVjKSxaYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0VGV4dD1mdW5jdGlvbih0LGUpe3JldHVybltuZXcgTWModC52YWx1ZSldfSx0LnByb3RvdHlwZS52aXNpdENvbnRhaW5lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1bXTtyZXR1cm4gdC5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiByLnB1c2guYXBwbHkocix0LnZpc2l0KG4sZSkpfSkscn0sdC5wcm90b3R5cGUudmlzaXRJY3U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9W25ldyBNYyhcIntcIit0LmV4cHJlc3Npb25QbGFjZWhvbGRlcitcIiwgXCIrdC50eXBlK1wiLCBcIildO3JldHVybiBPYmplY3Qua2V5cyh0LmNhc2VzKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3IucHVzaC5hcHBseShyLFtuZXcgTWMoaStcIiB7XCIpXS5jb25jYXQodC5jYXNlc1tpXS52aXNpdChuLGUpLFtuZXcgTWMoXCJ9IFwiKV0pKX0pLHIucHVzaChuZXcgTWMoXCJ9XCIpKSxyfSx0LnByb3RvdHlwZS52aXNpdFRhZ1BsYWNlaG9sZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IEFjKFFjLHt9LFtuZXcgTWMoXCI8XCIrdC50YWcrXCI+XCIpXSkscj1lLm1hcHBlci50b1B1YmxpY05hbWUodC5zdGFydE5hbWUpLGk9bmV3IEFjKCRjLHtuYW1lOnJ9LFtuXSk7aWYodC5pc1ZvaWQpcmV0dXJuW2ldO3ZhciBvPW5ldyBBYyhRYyx7fSxbbmV3IE1jKFwiPC9cIit0LnRhZytcIj5cIildKTtyPWUubWFwcGVyLnRvUHVibGljTmFtZSh0LmNsb3NlTmFtZSk7dmFyIHM9bmV3IEFjKCRjLHtuYW1lOnJ9LFtvXSk7cmV0dXJuW2ldLmNvbmNhdCh0aGlzLnNlcmlhbGl6ZSh0LmNoaWxkcmVuLGUpLFtzXSl9LHQucHJvdG90eXBlLnZpc2l0UGxhY2Vob2xkZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLm1hcHBlci50b1B1YmxpY05hbWUodC5uYW1lKTtyZXR1cm5bbmV3IEFjKCRjLHtuYW1lOm59KV19LHQucHJvdG90eXBlLnZpc2l0SWN1UGxhY2Vob2xkZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLm1hcHBlci50b1B1YmxpY05hbWUodC5uYW1lKTtyZXR1cm5bbmV3IEFjKCRjLHtuYW1lOm59KV19LHQucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKHI9W10pLmNvbmNhdC5hcHBseShyLHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0KG4sZSl9KSk7dmFyIHJ9LHR9KCksSmM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5hZGREZWZhdWx0RXhhbXBsZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXQodGhpcyksdH0sdC5wcm90b3R5cGUudmlzaXRUYWc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0Lm5hbWU9PT0kYyl7aWYoIXQuY2hpbGRyZW58fDA9PXQuY2hpbGRyZW4ubGVuZ3RoKXt2YXIgbj1uZXcgTWModC5hdHRycy5uYW1lfHxcIi4uLlwiKTt0LmNoaWxkcmVuPVtuZXcgQWMoUWMse30sW25dKV19fWVsc2UgdC5jaGlsZHJlbiYmdC5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0KGUpfSl9LHQucHJvdG90eXBlLnZpc2l0VGV4dD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnZpc2l0RGVjbGFyYXRpb249ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS52aXNpdERvY3R5cGU9ZnVuY3Rpb24odCl7fSx0fSgpLHRsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10aGlzO3RoaXMuaW50ZXJuYWxUb1htYj17fSx0aGlzLnhtYlRvTmV4dElkPXt9LHRoaXMueG1iVG9JbnRlcm5hbD17fSx0Lm5vZGVzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXQoZSl9KX1yZXR1cm4gdC5wcm90b3R5cGUudG9QdWJsaWNOYW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmludGVybmFsVG9YbWIuaGFzT3duUHJvcGVydHkodCk/dGhpcy5pbnRlcm5hbFRvWG1iW3RdOm51bGx9LHQucHJvdG90eXBlLnRvSW50ZXJuYWxOYW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnhtYlRvSW50ZXJuYWwuaGFzT3duUHJvcGVydHkodCk/dGhpcy54bWJUb0ludGVybmFsW3RdOm51bGx9LHQucHJvdG90eXBlLnZpc2l0VGV4dD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS52aXNpdENvbnRhaW5lcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dC5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0KG4pfSl9LHQucHJvdG90eXBlLnZpc2l0SWN1PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztPYmplY3Qua2V5cyh0LmNhc2VzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuY2FzZXNbZV0udmlzaXQobil9KX0sdC5wcm90b3R5cGUudmlzaXRUYWdQbGFjZWhvbGRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5hZGRQbGFjZWhvbGRlcih0LnN0YXJ0TmFtZSksdC5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0KG4pfSksdGhpcy5hZGRQbGFjZWhvbGRlcih0LmNsb3NlTmFtZSl9LHQucHJvdG90eXBlLnZpc2l0UGxhY2Vob2xkZXI9ZnVuY3Rpb24odCxlKXt0aGlzLmFkZFBsYWNlaG9sZGVyKHQubmFtZSl9LHQucHJvdG90eXBlLnZpc2l0SWN1UGxhY2Vob2xkZXI9ZnVuY3Rpb24odCxlKXt0aGlzLmFkZFBsYWNlaG9sZGVyKHQubmFtZSl9LHQucHJvdG90eXBlLmFkZFBsYWNlaG9sZGVyPWZ1bmN0aW9uKHQpe2lmKHQmJiF0aGlzLmludGVybmFsVG9YbWIuaGFzT3duUHJvcGVydHkodCkpe3ZhciBlPXQudG9VcHBlckNhc2UoKS5yZXBsYWNlKC9bXkEtWjAtOV9dL2csXCJfXCIpO2lmKHRoaXMueG1iVG9JbnRlcm5hbC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIG49dGhpcy54bWJUb05leHRJZFtlXTt0aGlzLnhtYlRvTmV4dElkW2VdPW4rMSxlPWUrXCJfXCIrbn1lbHNlIHRoaXMueG1iVG9OZXh0SWRbZV09MTt0aGlzLmludGVybmFsVG9YbWJbdF09ZSx0aGlzLnhtYlRvSW50ZXJuYWxbZV09dH19LHR9KCksZWw9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LG5sPVwidHJhbnNsYXRpb25idW5kbGVcIixybD1cInRyYW5zbGF0aW9uXCIsaWw9XCJwaFwiLG9sPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZWwoZSx0KSxlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZFwiKX0sZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBzbCxyPW4ucGFyc2UodCxlKSxpPXIubWxOb2Rlc0J5TXNnSWQsbz1yLmVycm9ycyxzPXt9LGE9bmV3IGFsO2lmKE9iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9YS5jb252ZXJ0KGlbdF0pLG49ZS5pMThuTm9kZXMscj1lLmVycm9ycztvLnB1c2guYXBwbHkobyxyKSxzW3RdPW59KSxvLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJ4dGIgcGFyc2UgZXJyb3JzOlxcblwiK28uam9pbihcIlxcblwiKSk7cmV0dXJuIHN9LGUucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbih0KXtyZXR1cm4gWHQodCl9LGUucHJvdG90eXBlLmNyZWF0ZU5hbWVNYXBwZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0bCh0KX0sZX0oRWMpLHNsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxlKXt0aGlzLl9idW5kbGVEZXB0aD0wLHRoaXMuX21sTm9kZXNCeU1zZ0lkPXt9O3ZhciBuPShuZXcgdmMpLnBhcnNlKHQsZSwhMCk7cmV0dXJuIHRoaXMuX2Vycm9ycz1uLmVycm9ycywkKHRoaXMsbi5yb290Tm9kZXMpLHttbE5vZGVzQnlNc2dJZDp0aGlzLl9tbE5vZGVzQnlNc2dJZCxlcnJvcnM6dGhpcy5fZXJyb3JzfX0sdC5wcm90b3R5cGUudmlzaXRFbGVtZW50PWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQubmFtZSl7Y2FzZSBubDp0aGlzLl9idW5kbGVEZXB0aCsrLHRoaXMuX2J1bmRsZURlcHRoPjEmJnRoaXMuX2FkZEVycm9yKHQsXCI8XCIrbmwrXCI+IGVsZW1lbnRzIGNhbiBub3QgYmUgbmVzdGVkXCIpLCQodGhpcyx0LmNoaWxkcmVuLG51bGwpLHRoaXMuX2J1bmRsZURlcHRoLS07YnJlYWs7Y2FzZSBybDp2YXIgbj10LmF0dHJzLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuXCJpZFwiPT09dC5uYW1lfSk7aWYobil7dmFyIHI9bi52YWx1ZTt0aGlzLl9tbE5vZGVzQnlNc2dJZC5oYXNPd25Qcm9wZXJ0eShyKT90aGlzLl9hZGRFcnJvcih0LFwiRHVwbGljYXRlZCB0cmFuc2xhdGlvbnMgZm9yIG1zZyBcIityKTp0aGlzLl9tbE5vZGVzQnlNc2dJZFtyXT10LmNoaWxkcmVufWVsc2UgdGhpcy5fYWRkRXJyb3IodCxcIjxcIitybCsnPiBtaXNzZXMgdGhlIFwiaWRcIiBhdHRyaWJ1dGUnKTticmVhaztkZWZhdWx0OnRoaXMuX2FkZEVycm9yKHQsXCJVbmV4cGVjdGVkIHRhZ1wiKX19LHQucHJvdG90eXBlLnZpc2l0QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS52aXNpdFRleHQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0Q29tbWVudD1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudmlzaXRFeHBhbnNpb249ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0RXhwYW5zaW9uQ2FzZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuX2FkZEVycm9yPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZXJyb3JzLnB1c2gobmV3IGFjKHQuc291cmNlU3BhbixlKSl9LHR9KCksYWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9lcnJvcnM9W10se2kxOG5Ob2RlczokKHRoaXMsdCksZXJyb3JzOnRoaXMuX2Vycm9yc319LHQucHJvdG90eXBlLnZpc2l0VGV4dD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgUXUodC52YWx1ZSx0LnNvdXJjZVNwYW4pfSx0LnByb3RvdHlwZS52aXNpdEV4cGFuc2lvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXt9O3JldHVybiAkKHRoaXMsdC5jYXNlcykuZm9yRWFjaChmdW5jdGlvbihlKXtuW2UudmFsdWVdPW5ldyBZdShlLm5vZGVzLHQuc291cmNlU3Bhbil9KSxuZXcgS3UodC5zd2l0Y2hWYWx1ZSx0LnR5cGUsbix0LnNvdXJjZVNwYW4pfSx0LnByb3RvdHlwZS52aXNpdEV4cGFuc2lvbkNhc2U9ZnVuY3Rpb24odCxlKXtyZXR1cm57dmFsdWU6dC52YWx1ZSxub2RlczokKHRoaXMsdC5leHByZXNzaW9uKX19LHQucHJvdG90eXBlLnZpc2l0RWxlbWVudD1mdW5jdGlvbih0LGUpe2lmKHQubmFtZT09PWlsKXt2YXIgbj10LmF0dHJzLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuXCJuYW1lXCI9PT10Lm5hbWV9KTtpZihuKXJldHVybiBuZXcgSnUoXCJcIixuLnZhbHVlLHQuc291cmNlU3Bhbik7dGhpcy5fYWRkRXJyb3IodCxcIjxcIitpbCsnPiBtaXNzZXMgdGhlIFwibmFtZVwiIGF0dHJpYnV0ZScpfWVsc2UgdGhpcy5fYWRkRXJyb3IodCxcIlVuZXhwZWN0ZWQgdGFnXCIpfSx0LnByb3RvdHlwZS52aXNpdENvbW1lbnQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5fYWRkRXJyb3I9ZnVuY3Rpb24odCxlKXt0aGlzLl9lcnJvcnMucHVzaChuZXcgYWModC5zb3VyY2VTcGFuLGUpKX0sdH0oKSx1bD10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sY2w9dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbih0LGUsbixyKXt2YXIgaSxvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/ZTpudWxsPT09cj9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTpyO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsbixyKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShpPXRbYV0pJiYocz0obzwzP2kocyk6bz4zP2koZSxuLHMpOmkoZSxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4scyksc30sbGw9dGhpcyYmdGhpcy5fX21ldGFkYXRhfHxmdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKHQsZSl9LHBsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmNhbGwodGhpcyxmKX1yZXR1cm4gdWwoZSx0KSxlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlLG4scixpKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ITEpLHZvaWQgMD09PWkmJihpPURhKSx0LnByb3RvdHlwZS5wYXJzZS5jYWxsKHRoaXMsZSxuLHIsaSl9LGU9Y2woW00oKSxsbChcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSxlKX0oR3UpLGhsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dm9pZCAwPT09dCYmKHQ9e30pLHRoaXMuX2kxOG5Ob2Rlc0J5TXNnSWQ9dCx0aGlzLmRpZ2VzdD1lLHRoaXMubWFwcGVyRmFjdG9yeT1uLHRoaXMuX2kxOG5Ub0h0bWw9bmV3IGZsKHQsZSxuKX1yZXR1cm4gdC5sb2FkPWZ1bmN0aW9uKGUsbixyKXt2YXIgaT1yLmxvYWQoZSxuKSxvPWZ1bmN0aW9uKHQpe3JldHVybiByLmRpZ2VzdCh0KX0scz1mdW5jdGlvbih0KXtyZXR1cm4gci5jcmVhdGVOYW1lTWFwcGVyKHQpfTtyZXR1cm4gbmV3IHQoaSxvLHMpfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faTE4blRvSHRtbC5jb252ZXJ0KHQpO2lmKGUuZXJyb3JzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoZS5lcnJvcnMuam9pbihcIlxcblwiKSk7cmV0dXJuIGUubm9kZXN9LHQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaWdlc3QodClpbiB0aGlzLl9pMThuTm9kZXNCeU1zZ0lkfSx0fSgpLGZsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dm9pZCAwPT09dCYmKHQ9e30pLHRoaXMuX2kxOG5Ob2Rlc0J5TXNnSWQ9dCx0aGlzLl9kaWdlc3Q9ZSx0aGlzLl9tYXBwZXJGYWN0b3J5PW4sdGhpcy5fY29udGV4dFN0YWNrPVtdLHRoaXMuX2Vycm9ycz1bXX1yZXR1cm4gdC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXt0aGlzLl9jb250ZXh0U3RhY2subGVuZ3RoPTAsdGhpcy5fZXJyb3JzLmxlbmd0aD0wO3ZhciBlPXRoaXMuX2NvbnZlcnRUb1RleHQodCksbj10Lm5vZGVzWzBdLnNvdXJjZVNwYW4uc3RhcnQuZmlsZS51cmwscj0obmV3IHBsKS5wYXJzZShlLG4sITApO3JldHVybntub2RlczpyLnJvb3ROb2RlcyxlcnJvcnM6dGhpcy5fZXJyb3JzLmNvbmNhdChyLmVycm9ycyl9fSx0LnByb3RvdHlwZS52aXNpdFRleHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52YWx1ZX0sdC5wcm90b3R5cGUudmlzaXRDb250YWluZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0LmNoaWxkcmVuLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdChuKX0pLmpvaW4oXCJcIil9LHQucHJvdG90eXBlLnZpc2l0SWN1PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPU9iamVjdC5rZXlzKHQuY2FzZXMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZStcIiB7XCIrdC5jYXNlc1tlXS52aXNpdChuKStcIn1cIn0pLGk9dGhpcy5fc3JjTXNnLnBsYWNlaG9sZGVycy5oYXNPd25Qcm9wZXJ0eSh0LmV4cHJlc3Npb24pP3RoaXMuX3NyY01zZy5wbGFjZWhvbGRlcnNbdC5leHByZXNzaW9uXTp0LmV4cHJlc3Npb247cmV0dXJuXCJ7XCIraStcIiwgXCIrdC50eXBlK1wiLCBcIityLmpvaW4oXCIgXCIpK1wifVwifSx0LnByb3RvdHlwZS52aXNpdFBsYWNlaG9sZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbWFwcGVyKHQubmFtZSk7cmV0dXJuIHRoaXMuX3NyY01zZy5wbGFjZWhvbGRlcnMuaGFzT3duUHJvcGVydHkobik/dGhpcy5fc3JjTXNnLnBsYWNlaG9sZGVyc1tuXTp0aGlzLl9zcmNNc2cucGxhY2Vob2xkZXJUb01lc3NhZ2UuaGFzT3duUHJvcGVydHkobik/dGhpcy5fY29udmVydFRvVGV4dCh0aGlzLl9zcmNNc2cucGxhY2Vob2xkZXJUb01lc3NhZ2Vbbl0pOih0aGlzLl9hZGRFcnJvcih0LFwiVW5rbm93biBwbGFjZWhvbGRlclwiKSxcIlwiKX0sdC5wcm90b3R5cGUudmlzaXRUYWdQbGFjZWhvbGRlcj1mdW5jdGlvbih0LGUpe3Rocm93XCJ1bnJlYWNoYWJsZSBjb2RlXCJ9LHQucHJvdG90eXBlLnZpc2l0SWN1UGxhY2Vob2xkZXI9ZnVuY3Rpb24odCxlKXt0aHJvd1widW5yZWFjaGFibGUgY29kZVwifSx0LnByb3RvdHlwZS5fY29udmVydFRvVGV4dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5fZGlnZXN0KHQpLHI9dGhpcy5fbWFwcGVyRmFjdG9yeT90aGlzLl9tYXBwZXJGYWN0b3J5KHQpOm51bGw7aWYodGhpcy5faTE4bk5vZGVzQnlNc2dJZC5oYXNPd25Qcm9wZXJ0eShuKSl7dGhpcy5fY29udGV4dFN0YWNrLnB1c2goe21zZzp0aGlzLl9zcmNNc2csbWFwcGVyOnRoaXMuX21hcHBlcn0pLHRoaXMuX3NyY01zZz10LHRoaXMuX21hcHBlcj1mdW5jdGlvbih0KXtyZXR1cm4gcj9yLnRvSW50ZXJuYWxOYW1lKHQpOnR9O3ZhciBpPXRoaXMuX2kxOG5Ob2Rlc0J5TXNnSWRbbl0sbz1pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdChlKX0pLmpvaW4oXCJcIikscz10aGlzLl9jb250ZXh0U3RhY2sucG9wKCk7cmV0dXJuIHRoaXMuX3NyY01zZz1zLm1zZyx0aGlzLl9tYXBwZXI9cy5tYXBwZXIsb31yZXR1cm4gdGhpcy5fYWRkRXJyb3IodC5ub2Rlc1swXSxcIk1pc3NpbmcgdHJhbnNsYXRpb24gZm9yIG1lc3NhZ2UgXCIrbiksXCJcIn0sdC5wcm90b3R5cGUuX2FkZEVycm9yPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZXJyb3JzLnB1c2gobmV3IGFjKHQuc291cmNlU3BhbixlKSl9LHR9KCksZGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLl9odG1sUGFyc2VyPXQsdGhpcy5fdHJhbnNsYXRpb25zPWUsdGhpcy5fdHJhbnNsYXRpb25zRm9ybWF0PW59cmV0dXJuIHQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PW4mJihuPSExKSx2b2lkIDA9PT1yJiYocj1EYSk7dmFyIGk9dGhpcy5faHRtbFBhcnNlci5wYXJzZSh0LGUsbixyKTtpZighdGhpcy5fdHJhbnNsYXRpb25zfHxcIlwiPT09dGhpcy5fdHJhbnNsYXRpb25zKXJldHVybiBpO2lmKGkuZXJyb3JzLmxlbmd0aClyZXR1cm4gbmV3IFd1KGkucm9vdE5vZGVzLGkuZXJyb3JzKTt2YXIgbz10aGlzLl9jcmVhdGVTZXJpYWxpemVyKCkscz1obC5sb2FkKHRoaXMuX3RyYW5zbGF0aW9ucyxlLG8pO3JldHVybiBodChpLnJvb3ROb2RlcyxzLHIsW10se30pfSx0LnByb3RvdHlwZS5fY3JlYXRlU2VyaWFsaXplcj1mdW5jdGlvbigpe3ZhciB0PSh0aGlzLl90cmFuc2xhdGlvbnNGb3JtYXR8fFwieGxmXCIpLnRvTG93ZXJDYXNlKCk7c3dpdGNoKHQpe2Nhc2VcInhtYlwiOnJldHVybiBuZXcgS2M7Y2FzZVwieHRiXCI6cmV0dXJuIG5ldyBvbDtjYXNlXCJ4bGlmZlwiOmNhc2VcInhsZlwiOmRlZmF1bHQ6cmV0dXJuIG5ldyBIY319LHR9KCkseWw9JHQoXCJjb3JlXCIsXCJsaW5rZXIvdmlld1wiKSxtbD0kdChcImNvcmVcIixcImxpbmtlci92aWV3X3V0aWxzXCIpLHZsPSR0KFwiY29yZVwiLFwiY2hhbmdlX2RldGVjdGlvbi9jaGFuZ2VfZGV0ZWN0aW9uXCIpLGdsPSR0KFwiY29yZVwiLFwiYW5pbWF0aW9uL2FuaW1hdGlvbl9zdHlsZV91dGlsXCIpLF9sPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5BTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTPXtuYW1lOlwiQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UU1wiLG1vZHVsZVVybDokdChcImNvcmVcIixcIm1ldGFkYXRhL2RpXCIpLHJ1bnRpbWU6ZS5BTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTfSx0LlZpZXdVdGlscz17bmFtZTpcIlZpZXdVdGlsc1wiLG1vZHVsZVVybDokdChcImNvcmVcIixcImxpbmtlci92aWV3X3V0aWxzXCIpLHJ1bnRpbWU6X28uVmlld1V0aWxzfSx0LkFwcFZpZXc9e25hbWU6XCJBcHBWaWV3XCIsbW9kdWxlVXJsOnlsLHJ1bnRpbWU6Zm99LHQuRGVidWdBcHBWaWV3PXtuYW1lOlwiRGVidWdBcHBWaWV3XCIsbW9kdWxlVXJsOnlsLHJ1bnRpbWU6eW99LHQuVmlld0NvbnRhaW5lcj17bmFtZTpcIlZpZXdDb250YWluZXJcIixtb2R1bGVVcmw6JHQoXCJjb3JlXCIsXCJsaW5rZXIvdmlld19jb250YWluZXJcIikscnVudGltZTpsb30sdC5FbGVtZW50UmVmPXtuYW1lOlwiRWxlbWVudFJlZlwiLG1vZHVsZVVybDokdChcImNvcmVcIixcImxpbmtlci9lbGVtZW50X3JlZlwiKSxydW50aW1lOmUuRWxlbWVudFJlZn0sdC5WaWV3Q29udGFpbmVyUmVmPXtuYW1lOlwiVmlld0NvbnRhaW5lclJlZlwiLG1vZHVsZVVybDokdChcImNvcmVcIixcImxpbmtlci92aWV3X2NvbnRhaW5lcl9yZWZcIikscnVudGltZTplLlZpZXdDb250YWluZXJSZWZ9LHQuQ2hhbmdlRGV0ZWN0b3JSZWY9e25hbWU6XCJDaGFuZ2VEZXRlY3RvclJlZlwiLG1vZHVsZVVybDokdChcImNvcmVcIixcImNoYW5nZV9kZXRlY3Rpb24vY2hhbmdlX2RldGVjdG9yX3JlZlwiKSxydW50aW1lOmUuQ2hhbmdlRGV0ZWN0b3JSZWZ9LHQuUmVuZGVyQ29tcG9uZW50VHlwZT17bmFtZTpcIlJlbmRlckNvbXBvbmVudFR5cGVcIixtb2R1bGVVcmw6JHQoXCJjb3JlXCIsXCJyZW5kZXIvYXBpXCIpLHJ1bnRpbWU6ZS5SZW5kZXJDb21wb25lbnRUeXBlfSx0LlF1ZXJ5TGlzdD17bmFtZTpcIlF1ZXJ5TGlzdFwiLG1vZHVsZVVybDokdChcImNvcmVcIixcImxpbmtlci9xdWVyeV9saXN0XCIpLHJ1bnRpbWU6ZS5RdWVyeUxpc3R9LHQuVGVtcGxhdGVSZWY9e25hbWU6XCJUZW1wbGF0ZVJlZlwiLG1vZHVsZVVybDokdChcImNvcmVcIixcImxpbmtlci90ZW1wbGF0ZV9yZWZcIikscnVudGltZTplLlRlbXBsYXRlUmVmfSx0LlRlbXBsYXRlUmVmXz17bmFtZTpcIlRlbXBsYXRlUmVmX1wiLG1vZHVsZVVybDokdChcImNvcmVcIixcImxpbmtlci90ZW1wbGF0ZV9yZWZcIikscnVudGltZTp4b30sdC5Db2RlZ2VuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyPXtuYW1lOlwiQ29kZWdlbkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlclwiLG1vZHVsZVVybDokdChcImNvcmVcIixcImxpbmtlci9jb21wb25lbnRfZmFjdG9yeV9yZXNvbHZlclwiKSxydW50aW1lOnBvfSx0LkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj17bmFtZTpcIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlclwiLG1vZHVsZVVybDokdChcImNvcmVcIixcImxpbmtlci9jb21wb25lbnRfZmFjdG9yeV9yZXNvbHZlclwiKSxydW50aW1lOmUuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyfSx0LkNvbXBvbmVudEZhY3Rvcnk9e25hbWU6XCJDb21wb25lbnRGYWN0b3J5XCIscnVudGltZTplLkNvbXBvbmVudEZhY3RvcnksbW9kdWxlVXJsOiR0KFwiY29yZVwiLFwibGlua2VyL2NvbXBvbmVudF9mYWN0b3J5XCIpfSx0LkNvbXBvbmVudFJlZl89e25hbWU6XCJDb21wb25lbnRSZWZfXCIscnVudGltZTpobyxtb2R1bGVVcmw6JHQoXCJjb3JlXCIsXCJsaW5rZXIvY29tcG9uZW50X2ZhY3RvcnlcIil9LHQuQ29tcG9uZW50UmVmPXtuYW1lOlwiQ29tcG9uZW50UmVmXCIscnVudGltZTplLkNvbXBvbmVudFJlZixtb2R1bGVVcmw6JHQoXCJjb3JlXCIsXCJsaW5rZXIvY29tcG9uZW50X2ZhY3RvcnlcIil9LHQuTmdNb2R1bGVGYWN0b3J5PXtuYW1lOlwiTmdNb2R1bGVGYWN0b3J5XCIscnVudGltZTplLk5nTW9kdWxlRmFjdG9yeSxtb2R1bGVVcmw6JHQoXCJjb3JlXCIsXCJsaW5rZXIvbmdfbW9kdWxlX2ZhY3RvcnlcIil9LHQuTmdNb2R1bGVJbmplY3Rvcj17bmFtZTpcIk5nTW9kdWxlSW5qZWN0b3JcIixydW50aW1lOm1vLG1vZHVsZVVybDokdChcImNvcmVcIixcImxpbmtlci9uZ19tb2R1bGVfZmFjdG9yeVwiKX0sdC5SZWdpc3Rlck1vZHVsZUZhY3RvcnlGbj17bmFtZTpcInJlZ2lzdGVyTW9kdWxlRmFjdG9yeVwiLHJ1bnRpbWU6dm8sbW9kdWxlVXJsOiR0KFwiY29yZVwiLFwibGlua2VyL25nX21vZHVsZV9mYWN0b3J5X2xvYWRlclwiKX0sdC5WYWx1ZVVud3JhcHBlcj17bmFtZTpcIlZhbHVlVW53cmFwcGVyXCIsbW9kdWxlVXJsOnZsLHJ1bnRpbWU6U299LHQuSW5qZWN0b3I9e25hbWU6XCJJbmplY3RvclwiLG1vZHVsZVVybDokdChcImNvcmVcIixcImRpL2luamVjdG9yXCIpLHJ1bnRpbWU6ZS5JbmplY3Rvcn0sdC5WaWV3RW5jYXBzdWxhdGlvbj17bmFtZTpcIlZpZXdFbmNhcHN1bGF0aW9uXCIsbW9kdWxlVXJsOiR0KFwiY29yZVwiLFwibWV0YWRhdGEvdmlld1wiKSxydW50aW1lOmUuVmlld0VuY2Fwc3VsYXRpb259LHQuVmlld1R5cGU9e25hbWU6XCJWaWV3VHlwZVwiLG1vZHVsZVVybDokdChcImNvcmVcIixcImxpbmtlci92aWV3X3R5cGVcIikscnVudGltZTpnb30sdC5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneT17bmFtZTpcIkNoYW5nZURldGVjdGlvblN0cmF0ZWd5XCIsbW9kdWxlVXJsOnZsLHJ1bnRpbWU6ZS5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneX0sdC5TdGF0aWNOb2RlRGVidWdJbmZvPXtuYW1lOlwiU3RhdGljTm9kZURlYnVnSW5mb1wiLG1vZHVsZVVybDokdChcImNvcmVcIixcImxpbmtlci9kZWJ1Z19jb250ZXh0XCIpLHJ1bnRpbWU6d299LHQuRGVidWdDb250ZXh0PXtuYW1lOlwiRGVidWdDb250ZXh0XCIsbW9kdWxlVXJsOiR0KFwiY29yZVwiLFwibGlua2VyL2RlYnVnX2NvbnRleHRcIikscnVudGltZTpib30sdC5SZW5kZXJlcj17bmFtZTpcIlJlbmRlcmVyXCIsbW9kdWxlVXJsOiR0KFwiY29yZVwiLFwicmVuZGVyL2FwaVwiKSxydW50aW1lOmUuUmVuZGVyZXJ9LHQuU2ltcGxlQ2hhbmdlPXtuYW1lOlwiU2ltcGxlQ2hhbmdlXCIsbW9kdWxlVXJsOnZsLHJ1bnRpbWU6ZS5TaW1wbGVDaGFuZ2V9LHQuVU5JTklUSUFMSVpFRD17bmFtZTpcIlVOSU5JVElBTElaRURcIixtb2R1bGVVcmw6dmwscnVudGltZTpFb30sdC5DaGFuZ2VEZXRlY3RvclN0YXR1cz17bmFtZTpcIkNoYW5nZURldGVjdG9yU3RhdHVzXCIsbW9kdWxlVXJsOnZsLHJ1bnRpbWU6c299LHQuY2hlY2tCaW5kaW5nPXtuYW1lOlwiY2hlY2tCaW5kaW5nXCIsbW9kdWxlVXJsOm1sLHJ1bnRpbWU6X28uY2hlY2tCaW5kaW5nfSx0LmRldk1vZGVFcXVhbD17bmFtZTpcImRldk1vZGVFcXVhbFwiLG1vZHVsZVVybDp2bCxydW50aW1lOkNvfSx0LmlubGluZUludGVycG9sYXRlPXtuYW1lOlwiaW5saW5lSW50ZXJwb2xhdGVcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5pbmxpbmVJbnRlcnBvbGF0ZX0sdC5pbnRlcnBvbGF0ZT17bmFtZTpcImludGVycG9sYXRlXCIsbW9kdWxlVXJsOm1sLHJ1bnRpbWU6X28uaW50ZXJwb2xhdGV9LHQuY2FzdEJ5VmFsdWU9e25hbWU6XCJjYXN0QnlWYWx1ZVwiLG1vZHVsZVVybDptbCxydW50aW1lOl9vLmNhc3RCeVZhbHVlfSx0LkVNUFRZX0FSUkFZPXtuYW1lOlwiRU1QVFlfQVJSQVlcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5FTVBUWV9BUlJBWX0sdC5FTVBUWV9NQVA9e25hbWU6XCJFTVBUWV9NQVBcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5FTVBUWV9NQVB9LHQuY3JlYXRlUmVuZGVyRWxlbWVudD17bmFtZTpcImNyZWF0ZVJlbmRlckVsZW1lbnRcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5jcmVhdGVSZW5kZXJFbGVtZW50fSx0LnNlbGVjdE9yQ3JlYXRlUmVuZGVySG9zdEVsZW1lbnQ9e25hbWU6XCJzZWxlY3RPckNyZWF0ZVJlbmRlckhvc3RFbGVtZW50XCIsbW9kdWxlVXJsOm1sLHJ1bnRpbWU6X28uc2VsZWN0T3JDcmVhdGVSZW5kZXJIb3N0RWxlbWVudH0sdC5wdXJlUHJveGllcz1bbnVsbCx7bmFtZTpcInB1cmVQcm94eTFcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5wdXJlUHJveHkxfSx7bmFtZTpcInB1cmVQcm94eTJcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5wdXJlUHJveHkyfSx7bmFtZTpcInB1cmVQcm94eTNcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5wdXJlUHJveHkzfSx7bmFtZTpcInB1cmVQcm94eTRcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5wdXJlUHJveHk0fSx7bmFtZTpcInB1cmVQcm94eTVcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5wdXJlUHJveHk1fSx7bmFtZTpcInB1cmVQcm94eTZcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5wdXJlUHJveHk2fSx7bmFtZTpcInB1cmVQcm94eTdcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5wdXJlUHJveHk3fSx7bmFtZTpcInB1cmVQcm94eThcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5wdXJlUHJveHk4fSx7bmFtZTpcInB1cmVQcm94eTlcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5wdXJlUHJveHk5fSx7bmFtZTpcInB1cmVQcm94eTEwXCIsbW9kdWxlVXJsOm1sLHJ1bnRpbWU6X28ucHVyZVByb3h5MTB9XSx0LlNlY3VyaXR5Q29udGV4dD17bmFtZTpcIlNlY3VyaXR5Q29udGV4dFwiLG1vZHVsZVVybDokdChcImNvcmVcIixcInNlY3VyaXR5XCIpLHJ1bnRpbWU6ZS5TZWN1cml0eUNvbnRleHR9LHQuQW5pbWF0aW9uS2V5ZnJhbWU9e25hbWU6XCJBbmltYXRpb25LZXlmcmFtZVwiLG1vZHVsZVVybDokdChcImNvcmVcIixcImFuaW1hdGlvbi9hbmltYXRpb25fa2V5ZnJhbWVcIikscnVudGltZTpJb30sdC5BbmltYXRpb25TdHlsZXM9e25hbWU6XCJBbmltYXRpb25TdHlsZXNcIixtb2R1bGVVcmw6JHQoXCJjb3JlXCIsXCJhbmltYXRpb24vYW5pbWF0aW9uX3N0eWxlc1wiKSxydW50aW1lOk5vfSx0Lk5vT3BBbmltYXRpb25QbGF5ZXI9e25hbWU6XCJOb09wQW5pbWF0aW9uUGxheWVyXCIsbW9kdWxlVXJsOiR0KFwiY29yZVwiLFwiYW5pbWF0aW9uL2FuaW1hdGlvbl9wbGF5ZXJcIikscnVudGltZTpNb30sdC5BbmltYXRpb25Hcm91cFBsYXllcj17bmFtZTpcIkFuaW1hdGlvbkdyb3VwUGxheWVyXCIsbW9kdWxlVXJsOiR0KFwiY29yZVwiLFwiYW5pbWF0aW9uL2FuaW1hdGlvbl9ncm91cF9wbGF5ZXJcIikscnVudGltZTpSb30sdC5BbmltYXRpb25TZXF1ZW5jZVBsYXllcj17bmFtZTpcIkFuaW1hdGlvblNlcXVlbmNlUGxheWVyXCIsbW9kdWxlVXJsOiR0KFwiY29yZVwiLFwiYW5pbWF0aW9uL2FuaW1hdGlvbl9zZXF1ZW5jZV9wbGF5ZXJcIikscnVudGltZTprb30sdC5wcmVwYXJlRmluYWxBbmltYXRpb25TdHlsZXM9e25hbWU6XCJwcmVwYXJlRmluYWxBbmltYXRpb25TdHlsZXNcIixtb2R1bGVVcmw6Z2wscnVudGltZTpGb30sdC5iYWxhbmNlQW5pbWF0aW9uS2V5ZnJhbWVzPXtuYW1lOlwiYmFsYW5jZUFuaW1hdGlvbktleWZyYW1lc1wiLG1vZHVsZVVybDpnbCxydW50aW1lOlVvfSx0LmNsZWFyU3R5bGVzPXtuYW1lOlwiY2xlYXJTdHlsZXNcIixtb2R1bGVVcmw6Z2wscnVudGltZTpIb30sdC5yZW5kZXJTdHlsZXM9e25hbWU6XCJyZW5kZXJTdHlsZXNcIixtb2R1bGVVcmw6Z2wscnVudGltZTpxb30sdC5jb2xsZWN0QW5kUmVzb2x2ZVN0eWxlcz17bmFtZTpcImNvbGxlY3RBbmRSZXNvbHZlU3R5bGVzXCIsbW9kdWxlVXJsOmdsLHJ1bnRpbWU6Qm99LHQuTE9DQUxFX0lEPXtuYW1lOlwiTE9DQUxFX0lEXCIsbW9kdWxlVXJsOiR0KFwiY29yZVwiLFwiaTE4bi90b2tlbnNcIikscnVudGltZTplLkxPQ0FMRV9JRH0sdC5UUkFOU0xBVElPTlNfRk9STUFUPXtuYW1lOlwiVFJBTlNMQVRJT05TX0ZPUk1BVFwiLG1vZHVsZVVybDokdChcImNvcmVcIixcImkxOG4vdG9rZW5zXCIpLHJ1bnRpbWU6ZS5UUkFOU0xBVElPTlNfRk9STUFUfSx0LnNldEJpbmRpbmdEZWJ1Z0luZm89e25hbWU6XCJzZXRCaW5kaW5nRGVidWdJbmZvXCIsbW9kdWxlVXJsOm1sLHJ1bnRpbWU6X28uc2V0QmluZGluZ0RlYnVnSW5mb30sdC5zZXRCaW5kaW5nRGVidWdJbmZvRm9yQ2hhbmdlcz17bmFtZTpcInNldEJpbmRpbmdEZWJ1Z0luZm9Gb3JDaGFuZ2VzXCIsbW9kdWxlVXJsOm1sLHJ1bnRpbWU6X28uc2V0QmluZGluZ0RlYnVnSW5mb0ZvckNoYW5nZXN9LHQuQW5pbWF0aW9uVHJhbnNpdGlvbj17bmFtZTpcIkFuaW1hdGlvblRyYW5zaXRpb25cIixtb2R1bGVVcmw6JHQoXCJjb3JlXCIsXCJhbmltYXRpb24vYW5pbWF0aW9uX3RyYW5zaXRpb25cIikscnVudGltZTpXb30sdC5JbmxpbmVBcnJheT17bmFtZTpcIklubGluZUFycmF5XCIsbW9kdWxlVXJsOm1sLHJ1bnRpbWU6bnVsbH0sdC5pbmxpbmVBcnJheXM9W3tuYW1lOlwiSW5saW5lQXJyYXkyXCIsbW9kdWxlVXJsOm1sLHJ1bnRpbWU6X28uSW5saW5lQXJyYXkyfSx7bmFtZTpcIklubGluZUFycmF5MlwiLG1vZHVsZVVybDptbCxydW50aW1lOl9vLklubGluZUFycmF5Mn0se25hbWU6XCJJbmxpbmVBcnJheTRcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5JbmxpbmVBcnJheTR9LHtuYW1lOlwiSW5saW5lQXJyYXk4XCIsbW9kdWxlVXJsOm1sLHJ1bnRpbWU6X28uSW5saW5lQXJyYXk4fSx7bmFtZTpcIklubGluZUFycmF5MTZcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5JbmxpbmVBcnJheTE2fV0sdC5FTVBUWV9JTkxJTkVfQVJSQVk9e25hbWU6XCJFTVBUWV9JTkxJTkVfQVJSQVlcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5FTVBUWV9JTkxJTkVfQVJSQVl9LHQuSW5saW5lQXJyYXlEeW5hbWljPXtuYW1lOlwiSW5saW5lQXJyYXlEeW5hbWljXCIsbW9kdWxlVXJsOm1sLHJ1bnRpbWU6X28uSW5saW5lQXJyYXlEeW5hbWljfSx0LnN1YnNjcmliZVRvUmVuZGVyRWxlbWVudD17bmFtZTpcInN1YnNjcmliZVRvUmVuZGVyRWxlbWVudFwiLG1vZHVsZVVybDptbCxydW50aW1lOl9vLnN1YnNjcmliZVRvUmVuZGVyRWxlbWVudH0sdC5jcmVhdGVSZW5kZXJDb21wb25lbnRUeXBlPXtuYW1lOlwiY3JlYXRlUmVuZGVyQ29tcG9uZW50VHlwZVwiLG1vZHVsZVVybDptbCxydW50aW1lOl9vLmNyZWF0ZVJlbmRlckNvbXBvbmVudFR5cGV9LHQubm9vcD17bmFtZTpcIm5vb3BcIixtb2R1bGVVcmw6bWwscnVudGltZTpfby5ub29wfSx0fSgpLGJsPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSx3bD1bXCJ6ZXJvXCIsXCJvbmVcIixcInR3b1wiLFwiZmV3XCIsXCJtYW55XCIsXCJvdGhlclwiXSxDbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMubm9kZXM9dCx0aGlzLmV4cGFuZGVkPWUsdGhpcy5lcnJvcnM9bn1yZXR1cm4gdH0oKSxFbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMsZSxuKX1yZXR1cm4gYmwoZSx0KSxlfShUdSksU2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5pc0V4cGFuZGVkPSExLHRoaXMuZXJyb3JzPVtdfXJldHVybiB0LnByb3RvdHlwZS52aXNpdEVsZW1lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IEl1KHQubmFtZSx0LmF0dHJzLCQodGhpcyx0LmNoaWxkcmVuKSx0LnNvdXJjZVNwYW4sdC5zdGFydFNvdXJjZVNwYW4sdC5lbmRTb3VyY2VTcGFuKX0sdC5wcm90b3R5cGUudmlzaXRBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sdC5wcm90b3R5cGUudmlzaXRUZXh0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR9LHQucHJvdG90eXBlLnZpc2l0Q29tbWVudD1mdW5jdGlvbih0LGUpe3JldHVybiB0fSx0LnByb3RvdHlwZS52aXNpdEV4cGFuc2lvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmlzRXhwYW5kZWQ9ITAsXCJwbHVyYWxcIj09dC50eXBlP2VlKHQsdGhpcy5lcnJvcnMpOm5lKHQsdGhpcy5lcnJvcnMpfSx0LnByb3RvdHlwZS52aXNpdEV4cGFuc2lvbkNhc2U9ZnVuY3Rpb24odCxlKXt0aHJvdyBuZXcgRXJyb3IoXCJTaG91bGQgbm90IGJlIHJlYWNoZWRcIil9LHR9KCkseGw9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LFBsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxuLGUpfXJldHVybiB4bChlLHQpLGV9KFR1KSxPbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbj10aGlzO3RoaXMuY29tcG9uZW50PXQsdGhpcy5zb3VyY2VTcGFuPWUsdGhpcy5lcnJvcnM9W10sdGhpcy52aWV3UXVlcmllcz1hZSh0KSx0aGlzLnZpZXdQcm92aWRlcnM9bmV3IE1hcCx0LnZpZXdQcm92aWRlcnMuZm9yRWFjaChmdW5jdGlvbih0KXtpKG4udmlld1Byb3ZpZGVycy5nZXQoRSh0LnRva2VuKSkpJiZuLnZpZXdQcm92aWRlcnMuc2V0KEUodC50b2tlbiksITApfSl9cmV0dXJuIHR9KCksVGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGksbyxzLGEpe3ZhciB1PXRoaXM7dGhpcy52aWV3Q29udGV4dD10LHRoaXMuX3BhcmVudD1lLHRoaXMuX2lzVmlld1Jvb3Q9bix0aGlzLl9kaXJlY3RpdmVBc3RzPWksdGhpcy5fc291cmNlU3Bhbj1hLHRoaXMuX3RyYW5zZm9ybWVkUHJvdmlkZXJzPW5ldyBNYXAsdGhpcy5fc2VlblByb3ZpZGVycz1uZXcgTWFwLHRoaXMuX2hhc1ZpZXdDb250YWluZXI9ITEsdGhpcy5fYXR0cnM9e30sby5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB1Ll9hdHRyc1t0Lm5hbWVdPXQudmFsdWV9KTt2YXIgYz1pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5kaXJlY3RpdmV9KTt0aGlzLl9hbGxQcm92aWRlcnM9b2UoYyxhLHQuZXJyb3JzKSx0aGlzLl9jb250ZW50UXVlcmllcz11ZShjKTt2YXIgbD1uZXcgTWFwO0FycmF5LmZyb20odGhpcy5fYWxsUHJvdmlkZXJzLnZhbHVlcygpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3UuX2FkZFF1ZXJ5UmVhZHNUbyh0LnRva2VuLGwpfSkscy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3UuX2FkZFF1ZXJ5UmVhZHNUbyh7dmFsdWU6dC5uYW1lfSxsKX0pLHIobC5nZXQoUXQoX2wuVmlld0NvbnRhaW5lclJlZikpKSYmKHRoaXMuX2hhc1ZpZXdDb250YWluZXI9ITApLEFycmF5LmZyb20odGhpcy5fYWxsUHJvdmlkZXJzLnZhbHVlcygpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZWFnZXJ8fHIobC5nZXQoRSh0LnRva2VuKSkpO2UmJnUuX2dldE9yQ3JlYXRlTG9jYWxQcm92aWRlcih0LnByb3ZpZGVyVHlwZSx0LnRva2VuLCEwKX0pfXJldHVybiB0LnByb3RvdHlwZS5hZnRlckVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO0FycmF5LmZyb20odGhpcy5fYWxsUHJvdmlkZXJzLnZhbHVlcygpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX2dldE9yQ3JlYXRlTG9jYWxQcm92aWRlcihlLnByb3ZpZGVyVHlwZSxlLnRva2VuLCExKX0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ0cmFuc2Zvcm1Qcm92aWRlcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fdHJhbnNmb3JtZWRQcm92aWRlcnMudmFsdWVzKCkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInRyYW5zZm9ybWVkRGlyZWN0aXZlQXN0c1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRyYW5zZm9ybVByb3ZpZGVycy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9rZW4uaWRlbnRpZmllcn0pLGU9dGhpcy5fZGlyZWN0aXZlQXN0cy5zbGljZSgpO3JldHVybiBlLnNvcnQoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5pbmRleE9mKGUuZGlyZWN0aXZlLnR5cGUpLXQuaW5kZXhPZihuLmRpcmVjdGl2ZS50eXBlKX0pLGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidHJhbnNmb3JtZWRIYXNWaWV3Q29udGFpbmVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNWaWV3Q29udGFpbmVyfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLl9hZGRRdWVyeVJlYWRzVG89ZnVuY3Rpb24odCxlKXt0aGlzLl9nZXRRdWVyaWVzRm9yKHQpLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHI9bi5yZWFkfHx0O2koZS5nZXQoRShyKSkpJiZlLnNldChFKHIpLCEwKX0pfSx0LnByb3RvdHlwZS5fZ2V0UXVlcmllc0Zvcj1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj1bXSxyPXRoaXMsaT0wO251bGwhPT1yOyllPXIuX2NvbnRlbnRRdWVyaWVzLmdldChFKHQpKSxlJiZuLnB1c2guYXBwbHkobixlLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5kZXNjZW5kYW50c3x8aTw9MX0pKSxyLl9kaXJlY3RpdmVBc3RzLmxlbmd0aD4wJiZpKysscj1yLl9wYXJlbnQ7cmV0dXJuIGU9dGhpcy52aWV3Q29udGV4dC52aWV3UXVlcmllcy5nZXQoRSh0KSksZSYmbi5wdXNoLmFwcGx5KG4sZSksbn0sdC5wcm90b3R5cGUuX2dldE9yQ3JlYXRlTG9jYWxQcm92aWRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxvPXRoaXMuX2FsbFByb3ZpZGVycy5nZXQoRShlKSk7aWYoIW98fCh0PT09WWkuRGlyZWN0aXZlfHx0PT09WWkuUHVibGljU2VydmljZSkmJm8ucHJvdmlkZXJUeXBlPT09WWkuUHJpdmF0ZVNlcnZpY2V8fCh0PT09WWkuUHJpdmF0ZVNlcnZpY2V8fHQ9PT1ZaS5QdWJsaWNTZXJ2aWNlKSYmby5wcm92aWRlclR5cGU9PT1ZaS5CdWlsdGluKXJldHVybiBudWxsO3ZhciBzPXRoaXMuX3RyYW5zZm9ybWVkUHJvdmlkZXJzLmdldChFKGUpKTtpZihzKXJldHVybiBzO2lmKHIodGhpcy5fc2VlblByb3ZpZGVycy5nZXQoRShlKSkpKXJldHVybiB0aGlzLnZpZXdDb250ZXh0LmVycm9ycy5wdXNoKG5ldyBQbChcIkNhbm5vdCBpbnN0YW50aWF0ZSBjeWNsaWMgZGVwZW5kZW5jeSEgXCIrQyhlKSx0aGlzLl9zb3VyY2VTcGFuKSksbnVsbDt0aGlzLl9zZWVuUHJvdmlkZXJzLnNldChFKGUpLCEwKTt2YXIgYT1vLnByb3ZpZGVycy5tYXAoZnVuY3Rpb24odCl7dmFyIGUscz10LnVzZVZhbHVlLGE9dC51c2VFeGlzdGluZztpZihyKHQudXNlRXhpc3RpbmcpKXt2YXIgdT1pLl9nZXREZXBlbmRlbmN5KG8ucHJvdmlkZXJUeXBlLHt0b2tlbjp0LnVzZUV4aXN0aW5nfSxuKTtyKHUudG9rZW4pP2E9dS50b2tlbjooYT1udWxsLHM9dS52YWx1ZSl9ZWxzZSBpZih0LnVzZUZhY3Rvcnkpe3ZhciBjPXQuZGVwc3x8dC51c2VGYWN0b3J5LmRpRGVwcztlPWMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBpLl9nZXREZXBlbmRlbmN5KG8ucHJvdmlkZXJUeXBlLHQsbil9KX1lbHNlIGlmKHQudXNlQ2xhc3Mpe3ZhciBjPXQuZGVwc3x8dC51c2VDbGFzcy5kaURlcHM7ZT1jLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gaS5fZ2V0RGVwZW5kZW5jeShvLnByb3ZpZGVyVHlwZSx0LG4pfSl9cmV0dXJuIHJlKHQse3VzZUV4aXN0aW5nOmEsdXNlVmFsdWU6cyxkZXBzOmV9KX0pO3JldHVybiBzPWllKG8se2VhZ2VyOm4scHJvdmlkZXJzOmF9KSx0aGlzLl90cmFuc2Zvcm1lZFByb3ZpZGVycy5zZXQoRShlKSxzKSxzfSx0LnByb3RvdHlwZS5fZ2V0TG9jYWxEZXBlbmRlbmN5PWZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj1udWxsKSxlLmlzQXR0cmlidXRlKXt2YXIgaT10aGlzLl9hdHRyc1tlLnRva2VuLnZhbHVlXTtyZXR1cm57aXNWYWx1ZTohMCx2YWx1ZTpudWxsPT1pP251bGw6aX19aWYocihlLnRva2VuKSl7aWYodD09PVlpLkRpcmVjdGl2ZXx8dD09PVlpLkNvbXBvbmVudCl7aWYoRShlLnRva2VuKT09PVF0KF9sLlJlbmRlcmVyKXx8RShlLnRva2VuKT09PVF0KF9sLkVsZW1lbnRSZWYpfHxFKGUudG9rZW4pPT09UXQoX2wuQ2hhbmdlRGV0ZWN0b3JSZWYpfHxFKGUudG9rZW4pPT09UXQoX2wuVGVtcGxhdGVSZWYpKXJldHVybiBlO0UoZS50b2tlbik9PT1RdChfbC5WaWV3Q29udGFpbmVyUmVmKSYmKHRoaXMuX2hhc1ZpZXdDb250YWluZXI9ITApfWlmKEUoZS50b2tlbik9PT1RdChfbC5JbmplY3RvcikpcmV0dXJuIGU7aWYocih0aGlzLl9nZXRPckNyZWF0ZUxvY2FsUHJvdmlkZXIodCxlLnRva2VuLG4pKSlyZXR1cm4gZX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuX2dldERlcGVuZGVuY3k9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciBpPXRoaXMsbz1uLHM9bnVsbDtpZihlLmlzU2tpcFNlbGZ8fChzPXRoaXMuX2dldExvY2FsRGVwZW5kZW5jeSh0LGUsbikpLGUuaXNTZWxmKSFzJiZlLmlzT3B0aW9uYWwmJihzPXtpc1ZhbHVlOiEwLHZhbHVlOm51bGx9KTtlbHNle2Zvcig7IXMmJmkuX3BhcmVudDspe3ZhciBhPWk7aT1pLl9wYXJlbnQsYS5faXNWaWV3Um9vdCYmKG89ITEpLHM9aS5fZ2V0TG9jYWxEZXBlbmRlbmN5KFlpLlB1YmxpY1NlcnZpY2UsZSxvKX1zfHwocz0hZS5pc0hvc3R8fHRoaXMudmlld0NvbnRleHQuY29tcG9uZW50LmlzSG9zdHx8dGhpcy52aWV3Q29udGV4dC5jb21wb25lbnQudHlwZS5yZWZlcmVuY2U9PT1FKGUudG9rZW4pfHxyKHRoaXMudmlld0NvbnRleHQudmlld1Byb3ZpZGVycy5nZXQoRShlLnRva2VuKSkpP2U6ZS5pc09wdGlvbmFsP3M9e2lzVmFsdWU6ITAsdmFsdWU6bnVsbH06bnVsbCl9cmV0dXJuIHN8fHRoaXMudmlld0NvbnRleHQuZXJyb3JzLnB1c2gobmV3IFBsKFwiTm8gcHJvdmlkZXIgZm9yIFwiK0MoZS50b2tlbiksdGhpcy5fc291cmNlU3BhbikpLHN9LHR9KCksQWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2YXIgcj10aGlzO3RoaXMuX3RyYW5zZm9ybWVkUHJvdmlkZXJzPW5ldyBNYXAsdGhpcy5fc2VlblByb3ZpZGVycz1uZXcgTWFwLHRoaXMuX2Vycm9ycz1bXSx0aGlzLl9hbGxQcm92aWRlcnM9bmV3IE1hcCx0LnRyYW5zaXRpdmVNb2R1bGUubW9kdWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXt0b2tlbjp7aWRlbnRpZmllcjp0fSx1c2VDbGFzczp0fTtzZShbZV0sWWkuUHVibGljU2VydmljZSwhMCxuLHIuX2Vycm9ycyxyLl9hbGxQcm92aWRlcnMpfSksc2UodC50cmFuc2l0aXZlTW9kdWxlLnByb3ZpZGVycy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucHJvdmlkZXJ9KS5jb25jYXQoZSksWWkuUHVibGljU2VydmljZSwhMSxuLHRoaXMuX2Vycm9ycyx0aGlzLl9hbGxQcm92aWRlcnMpfXJldHVybiB0LnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoQXJyYXkuZnJvbSh0aGlzLl9hbGxQcm92aWRlcnMudmFsdWVzKCkpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5fZ2V0T3JDcmVhdGVMb2NhbFByb3ZpZGVyKGUudG9rZW4sZS5lYWdlcil9KSx0aGlzLl9lcnJvcnMubGVuZ3RoPjApe3ZhciBlPXRoaXMuX2Vycm9ycy5qb2luKFwiXFxuXCIpO3Rocm93IG5ldyBFcnJvcihcIlByb3ZpZGVyIHBhcnNlIGVycm9yczpcXG5cIitlKX1yZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl90cmFuc2Zvcm1lZFByb3ZpZGVycy52YWx1ZXMoKSl9LHQucHJvdG90eXBlLl9nZXRPckNyZWF0ZUxvY2FsUHJvdmlkZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLGk9dGhpcy5fYWxsUHJvdmlkZXJzLmdldChFKHQpKTtpZighaSlyZXR1cm4gbnVsbDt2YXIgbz10aGlzLl90cmFuc2Zvcm1lZFByb3ZpZGVycy5nZXQoRSh0KSk7aWYobylyZXR1cm4gbztpZihyKHRoaXMuX3NlZW5Qcm92aWRlcnMuZ2V0KEUodCkpKSlyZXR1cm4gdGhpcy5fZXJyb3JzLnB1c2gobmV3IFBsKFwiQ2Fubm90IGluc3RhbnRpYXRlIGN5Y2xpYyBkZXBlbmRlbmN5ISBcIitDKHQpLGkuc291cmNlU3BhbikpLG51bGw7dGhpcy5fc2VlblByb3ZpZGVycy5zZXQoRSh0KSwhMCk7dmFyIHM9aS5wcm92aWRlcnMubWFwKGZ1bmN0aW9uKHQpe3ZhciBvLHM9dC51c2VWYWx1ZSxhPXQudXNlRXhpc3Rpbmc7aWYocih0LnVzZUV4aXN0aW5nKSl7dmFyIHU9bi5fZ2V0RGVwZW5kZW5jeSh7dG9rZW46dC51c2VFeGlzdGluZ30sZSxpLnNvdXJjZVNwYW4pO3IodS50b2tlbik/YT11LnRva2VuOihhPW51bGwscz11LnZhbHVlKX1lbHNlIGlmKHQudXNlRmFjdG9yeSl7dmFyIGM9dC5kZXBzfHx0LnVzZUZhY3RvcnkuZGlEZXBzO289Yy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4uX2dldERlcGVuZGVuY3kodCxlLGkuc291cmNlU3Bhbil9KX1lbHNlIGlmKHQudXNlQ2xhc3Mpe3ZhciBjPXQuZGVwc3x8dC51c2VDbGFzcy5kaURlcHM7bz1jLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbi5fZ2V0RGVwZW5kZW5jeSh0LGUsaS5zb3VyY2VTcGFuKX0pfXJldHVybiByZSh0LHt1c2VFeGlzdGluZzphLHVzZVZhbHVlOnMsZGVwczpvfSl9KTtyZXR1cm4gbz1pZShpLHtlYWdlcjplLHByb3ZpZGVyczpzfSksdGhpcy5fdHJhbnNmb3JtZWRQcm92aWRlcnMuc2V0KEUodCksbyksb30sdC5wcm90b3R5cGUuX2dldERlcGVuZGVuY3k9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPW51bGwpO3ZhciBpPSExOyF0LmlzU2tpcFNlbGYmJnIodC50b2tlbikmJihFKHQudG9rZW4pPT09UXQoX2wuSW5qZWN0b3IpfHxFKHQudG9rZW4pPT09UXQoX2wuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKT9pPSEwOnIodGhpcy5fZ2V0T3JDcmVhdGVMb2NhbFByb3ZpZGVyKHQudG9rZW4sZSkpJiYoaT0hMCkpO3ZhciBvPXQ7cmV0dXJuIHQuaXNTZWxmJiYhaSYmKHQuaXNPcHRpb25hbD9vPXtpc1ZhbHVlOiEwLHZhbHVlOm51bGx9OnRoaXMuX2Vycm9ycy5wdXNoKG5ldyBQbChcIk5vIHByb3ZpZGVyIGZvciBcIitDKHQudG9rZW4pLG4pKSksb30sdH0oKSxNbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmhhc1Byb3BlcnR5PWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLmhhc0VsZW1lbnQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnNlY3VyaXR5Q29udGV4dD1mdW5jdGlvbih0LGUsbil7fSx0LnByb3RvdHlwZS5hbGxLbm93bkVsZW1lbnROYW1lcz1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZ2V0TWFwcGVkUHJvcE5hbWU9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5nZXREZWZhdWx0Q29tcG9uZW50RWxlbWVudE5hbWU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnZhbGlkYXRlUHJvcGVydHk9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS52YWxpZGF0ZUF0dHJpYnV0ZT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLm5vcm1hbGl6ZUFuaW1hdGlvblN0eWxlUHJvcGVydHk9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5ub3JtYWxpemVBbmltYXRpb25TdHlsZVZhbHVlPWZ1bmN0aW9uKHQsZSxuKXt9LHR9KCksa2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5zdHlsZT10LHRoaXMuc3R5bGVVcmxzPWV9cmV0dXJuIHR9KCksUmw9L0BpbXBvcnRcXHMrKD86dXJsXFwoKT9cXHMqKD86KD86WydcIl0oW14nXCJdKikpfChbXjtcXClcXHNdKikpW147XSo7Py9nLElsPS9cXC9cXCouKz9cXCpcXC8vZyxObD0vXihbXjpcXC8/I10rKTovLERsPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxqbD1cIi5cIixWbD1cImF0dHJcIixMbD1cImNsYXNzXCIsRmw9XCJzdHlsZVwiLFVsPVwiYW5pbWF0ZS1cIixIbD17fTtIbC5ERUZBVUxUPTAsSGwuTElURVJBTF9BVFRSPTEsSGwuQU5JTUFUSU9OPTIsSGxbSGwuREVGQVVMVF09XCJERUZBVUxUXCIsSGxbSGwuTElURVJBTF9BVFRSXT1cIkxJVEVSQUxfQVRUUlwiLEhsW0hsLkFOSU1BVElPTl09XCJBTklNQVRJT05cIjt2YXIgQmw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMubmFtZT10LHRoaXMuZXhwcmVzc2lvbj1lLHRoaXMudHlwZT1uLHRoaXMuc291cmNlU3Bhbj1yfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc0xpdGVyYWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZT09PUhsLkxJVEVSQUxfQVRUUn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc0FuaW1hdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlPT09SGwuQU5JTUFUSU9OfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHR9KCkscWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dmFyIG89dGhpczt0aGlzLl9leHByUGFyc2VyPXQsdGhpcy5faW50ZXJwb2xhdGlvbkNvbmZpZz1lLHRoaXMuX3NjaGVtYVJlZ2lzdHJ5PW4sdGhpcy5fdGFyZ2V0RXJyb3JzPWksdGhpcy5waXBlc0J5TmFtZT1uZXcgTWFwLHIuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gby5waXBlc0J5TmFtZS5zZXQodC5uYW1lLHQpfSl9cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZURpcmVjdGl2ZUhvc3RQcm9wZXJ0eUFzdHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKHQuaG9zdFByb3BlcnRpZXMpe3ZhciByPVtdO3JldHVybiBPYmplY3Qua2V5cyh0Lmhvc3RQcm9wZXJ0aWVzKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciBvPXQuaG9zdFByb3BlcnRpZXNbaV07XCJzdHJpbmdcIj09dHlwZW9mIG8/bi5wYXJzZVByb3BlcnR5QmluZGluZyhpLG8sITAsZSxbXSxyKTpuLl9yZXBvcnRFcnJvcignVmFsdWUgb2YgdGhlIGhvc3QgcHJvcGVydHkgYmluZGluZyBcIicraSsnXCIgbmVlZHMgdG8gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIGV4cHJlc3Npb24gYnV0IGdvdCBcIicrbysnXCIgKCcrdHlwZW9mIG8rXCIpXCIsZSl9KSxyLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbi5jcmVhdGVFbGVtZW50UHJvcGVydHlBc3QodC5zZWxlY3RvcixlKX0pfX0sdC5wcm90b3R5cGUuY3JlYXRlRGlyZWN0aXZlSG9zdEV2ZW50QXN0cz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYodC5ob3N0TGlzdGVuZXJzKXt2YXIgcj1bXTtyZXR1cm4gT2JqZWN0LmtleXModC5ob3N0TGlzdGVuZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciBvPXQuaG9zdExpc3RlbmVyc1tpXTtcInN0cmluZ1wiPT10eXBlb2Ygbz9uLnBhcnNlRXZlbnQoaSxvLGUsW10scik6bi5fcmVwb3J0RXJyb3IoJ1ZhbHVlIG9mIHRoZSBob3N0IGxpc3RlbmVyIFwiJytpKydcIiBuZWVkcyB0byBiZSBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gZXhwcmVzc2lvbiBidXQgZ290IFwiJytvKydcIiAoJyt0eXBlb2YgbytcIilcIixlKX0pLHJ9fSx0LnByb3RvdHlwZS5wYXJzZUludGVycG9sYXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnN0YXJ0LnRvU3RyaW5nKCk7dHJ5e3ZhciByPXRoaXMuX2V4cHJQYXJzZXIucGFyc2VJbnRlcnBvbGF0aW9uKHQsbix0aGlzLl9pbnRlcnBvbGF0aW9uQ29uZmlnKTtyZXR1cm4gciYmdGhpcy5fcmVwb3J0RXhwcmVzc2lvblBhcnNlckVycm9ycyhyLmVycm9ycyxlKSx0aGlzLl9jaGVja1BpcGVzKHIsZSkscn1jYXRjaCh0KXtyZXR1cm4gdGhpcy5fcmVwb3J0RXJyb3IoXCJcIit0LGUpLHRoaXMuX2V4cHJQYXJzZXIud3JhcExpdGVyYWxQcmltaXRpdmUoXCJFUlJPUlwiLG4pfX0sdC5wcm90b3R5cGUucGFyc2VJbmxpbmVUZW1wbGF0ZUJpbmRpbmc9ZnVuY3Rpb24odCxlLG4scixpLG8pe2Zvcih2YXIgcz10aGlzLl9wYXJzZVRlbXBsYXRlQmluZGluZ3ModCxlLG4pLGE9MDthPHMubGVuZ3RoO2ErKyl7dmFyIHU9c1thXTt1LmtleUlzVmFyP28ucHVzaChuZXcgemkodS5rZXksdS5uYW1lLG4pKTp1LmV4cHJlc3Npb24/dGhpcy5fcGFyc2VQcm9wZXJ0eUFzdCh1LmtleSx1LmV4cHJlc3Npb24sbixyLGkpOihyLnB1c2goW3Uua2V5LFwiXCJdKSx0aGlzLnBhcnNlTGl0ZXJhbEF0dHIodS5rZXksbnVsbCxuLHIsaSkpfX0sdC5wcm90b3R5cGUuX3BhcnNlVGVtcGxhdGVCaW5kaW5ncz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxpPW4uc3RhcnQudG9TdHJpbmcoKTt0cnl7dmFyIG89dGhpcy5fZXhwclBhcnNlci5wYXJzZVRlbXBsYXRlQmluZGluZ3ModCxlLGkpO3JldHVybiB0aGlzLl9yZXBvcnRFeHByZXNzaW9uUGFyc2VyRXJyb3JzKG8uZXJyb3JzLG4pLG8udGVtcGxhdGVCaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuZXhwcmVzc2lvbiYmci5fY2hlY2tQaXBlcyh0LmV4cHJlc3Npb24sbil9KSxvLndhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24odCl7ci5fcmVwb3J0RXJyb3IodCxuLE91LldBUk5JTkcpfSksby50ZW1wbGF0ZUJpbmRpbmdzfWNhdGNoKHQpe3JldHVybiB0aGlzLl9yZXBvcnRFcnJvcihcIlwiK3QsbiksW119fSx0LnByb3RvdHlwZS5wYXJzZUxpdGVyYWxBdHRyPWZ1bmN0aW9uKHQsZSxuLHIsaSl7aGUodCk/KHQ9dC5zdWJzdHJpbmcoMSksZSYmdGhpcy5fcmVwb3J0RXJyb3IoJ0Fzc2lnbmluZyBhbmltYXRpb24gdHJpZ2dlcnMgdmlhIEBwcm9wPVwiZXhwXCIgYXR0cmlidXRlcyB3aXRoIGFuIGV4cHJlc3Npb24gaXMgaW52YWxpZC4gVXNlIHByb3BlcnR5IGJpbmRpbmdzIChlLmcuIFtAcHJvcF09XCJleHBcIikgb3IgdXNlIGFuIGF0dHJpYnV0ZSB3aXRob3V0IGEgdmFsdWUgKGUuZy4gQHByb3ApIGluc3RlYWQuJyxuLE91LkZBVEFMKSx0aGlzLl9wYXJzZUFuaW1hdGlvbih0LGUsbixyLGkpKTppLnB1c2gobmV3IEJsKHQsdGhpcy5fZXhwclBhcnNlci53cmFwTGl0ZXJhbFByaW1pdGl2ZShlLFwiXCIpLEhsLkxJVEVSQUxfQVRUUixuKSl9LHQucHJvdG90eXBlLnBhcnNlUHJvcGVydHlCaW5kaW5nPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt2YXIgcz0hMTt0LnN0YXJ0c1dpdGgoVWwpPyhzPSEwLHQ9dC5zdWJzdHJpbmcoVWwubGVuZ3RoKSk6aGUodCkmJihzPSEwLHQ9dC5zdWJzdHJpbmcoMSkpLHM/dGhpcy5fcGFyc2VBbmltYXRpb24odCxlLHIsaSxvKTp0aGlzLl9wYXJzZVByb3BlcnR5QXN0KHQsdGhpcy5fcGFyc2VCaW5kaW5nKGUsbixyKSxyLGksbyl9LHQucHJvdG90eXBlLnBhcnNlUHJvcGVydHlJbnRlcnBvbGF0aW9uPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89dGhpcy5wYXJzZUludGVycG9sYXRpb24oZSxuKTtyZXR1cm4hIW8mJih0aGlzLl9wYXJzZVByb3BlcnR5QXN0KHQsbyxuLHIsaSksITApfSx0LnByb3RvdHlwZS5fcGFyc2VQcm9wZXJ0eUFzdD1mdW5jdGlvbih0LGUsbixyLGkpe3IucHVzaChbdCxlLnNvdXJjZV0pLGkucHVzaChuZXcgQmwodCxlLEhsLkRFRkFVTFQsbikpfSx0LnByb3RvdHlwZS5fcGFyc2VBbmltYXRpb249ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbz10aGlzLl9wYXJzZUJpbmRpbmcoZXx8XCJudWxsXCIsITEsbik7ci5wdXNoKFt0LG8uc291cmNlXSksaS5wdXNoKG5ldyBCbCh0LG8sSGwuQU5JTUFUSU9OLG4pKX0sdC5wcm90b3R5cGUuX3BhcnNlQmluZGluZz1mdW5jdGlvbih0LGUsbil7dmFyIHI9bi5zdGFydC50b1N0cmluZygpO3RyeXt2YXIgaT1lP3RoaXMuX2V4cHJQYXJzZXIucGFyc2VTaW1wbGVCaW5kaW5nKHQscix0aGlzLl9pbnRlcnBvbGF0aW9uQ29uZmlnKTp0aGlzLl9leHByUGFyc2VyLnBhcnNlQmluZGluZyh0LHIsdGhpcy5faW50ZXJwb2xhdGlvbkNvbmZpZyk7cmV0dXJuIGkmJnRoaXMuX3JlcG9ydEV4cHJlc3Npb25QYXJzZXJFcnJvcnMoaS5lcnJvcnMsbiksdGhpcy5fY2hlY2tQaXBlcyhpLG4pLGl9Y2F0Y2godCl7cmV0dXJuIHRoaXMuX3JlcG9ydEVycm9yKFwiXCIrdCxuKSx0aGlzLl9leHByUGFyc2VyLndyYXBMaXRlcmFsUHJpbWl0aXZlKFwiRVJST1JcIixyKX19LHQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRQcm9wZXJ0eUFzdD1mdW5jdGlvbih0LG4pe2lmKG4uaXNBbmltYXRpb24pcmV0dXJuIG5ldyBIaShuLm5hbWUsWmkuQW5pbWF0aW9uLGUuU2VjdXJpdHlDb250ZXh0Lk5PTkUsITEsbi5leHByZXNzaW9uLG51bGwsbi5zb3VyY2VTcGFuKTt2YXIgcixpLG89bnVsbCxzPW51bGwsYT1uLm5hbWUuc3BsaXQoamwpO2lmKGEubGVuZ3RoPjEpaWYoYVswXT09Vmwpe3M9YVsxXSx0aGlzLl92YWxpZGF0ZVByb3BlcnR5T3JBdHRyaWJ1dGVOYW1lKHMsbi5zb3VyY2VTcGFuLCEwKSxpPWZlKHRoaXMuX3NjaGVtYVJlZ2lzdHJ5LHQscywhMCk7dmFyIHU9cy5pbmRleE9mKFwiOlwiKTtpZih1Pi0xKXt2YXIgYz1zLnN1YnN0cmluZygwLHUpLGw9cy5zdWJzdHJpbmcodSsxKTtzPWgoYyxsKX1yPVppLkF0dHJpYnV0ZX1lbHNlIGFbMF09PUxsPyhzPWFbMV0scj1aaS5DbGFzcyxpPVtlLlNlY3VyaXR5Q29udGV4dC5OT05FXSk6YVswXT09RmwmJihvPWEubGVuZ3RoPjI/YVsyXTpudWxsLHM9YVsxXSxyPVppLlN0eWxlLGk9W2UuU2VjdXJpdHlDb250ZXh0LlNUWUxFXSk7cmV0dXJuIG51bGw9PT1zJiYocz10aGlzLl9zY2hlbWFSZWdpc3RyeS5nZXRNYXBwZWRQcm9wTmFtZShuLm5hbWUpLGk9ZmUodGhpcy5fc2NoZW1hUmVnaXN0cnksdCxzLCExKSxyPVppLlByb3BlcnR5LHRoaXMuX3ZhbGlkYXRlUHJvcGVydHlPckF0dHJpYnV0ZU5hbWUocyxuLnNvdXJjZVNwYW4sITEpKSxuZXcgSGkocyxyLDE9PT1pLmxlbmd0aD9pWzBdOm51bGwsaS5sZW5ndGg+MSxuLmV4cHJlc3Npb24sbyxuLnNvdXJjZVNwYW4pfSx0LnByb3RvdHlwZS5wYXJzZUV2ZW50PWZ1bmN0aW9uKHQsZSxuLHIsaSl7aGUodCk/KHQ9dC5zdWJzdHIoMSksdGhpcy5fcGFyc2VBbmltYXRpb25FdmVudCh0LGUsbixpKSk6dGhpcy5fcGFyc2VFdmVudCh0LGUsbixyLGkpfSx0LnByb3RvdHlwZS5fcGFyc2VBbmltYXRpb25FdmVudD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1tKHQsW3QsXCJcIl0pLG89aVswXSxzPWlbMV0udG9Mb3dlckNhc2UoKTtpZihzKXN3aXRjaChzKXtjYXNlXCJzdGFydFwiOmNhc2VcImRvbmVcIjp2YXIgYT10aGlzLl9wYXJzZUFjdGlvbihlLG4pO3IucHVzaChuZXcgQmkobyxudWxsLHMsYSxuKSk7YnJlYWs7ZGVmYXVsdDp0aGlzLl9yZXBvcnRFcnJvcignVGhlIHByb3ZpZGVkIGFuaW1hdGlvbiBvdXRwdXQgcGhhc2UgdmFsdWUgXCInK3MrJ1wiIGZvciBcIkAnK28rJ1wiIGlzIG5vdCBzdXBwb3J0ZWQgKHVzZSBzdGFydCBvciBkb25lKScsbil9ZWxzZSB0aGlzLl9yZXBvcnRFcnJvcihcIlRoZSBhbmltYXRpb24gdHJpZ2dlciBvdXRwdXQgZXZlbnQgKEBcIitvK1wiKSBpcyBtaXNzaW5nIGl0cyBwaGFzZSB2YWx1ZSBuYW1lIChzdGFydCBvciBkb25lIGFyZSBjdXJyZW50bHkgc3VwcG9ydGVkKVwiLG4pfSx0LnByb3RvdHlwZS5fcGFyc2VFdmVudD1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPXkodCxbbnVsbCx0XSkscz1vWzBdLGE9b1sxXSx1PXRoaXMuX3BhcnNlQWN0aW9uKGUsbik7ci5wdXNoKFt0LHUuc291cmNlXSksaS5wdXNoKG5ldyBCaShhLHMsbnVsbCx1LG4pKX0sdC5wcm90b3R5cGUuX3BhcnNlQWN0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5zdGFydC50b1N0cmluZygpO3RyeXt2YXIgcj10aGlzLl9leHByUGFyc2VyLnBhcnNlQWN0aW9uKHQsbix0aGlzLl9pbnRlcnBvbGF0aW9uQ29uZmlnKTtyZXR1cm4gciYmdGhpcy5fcmVwb3J0RXhwcmVzc2lvblBhcnNlckVycm9ycyhyLmVycm9ycyxlKSwhcnx8ci5hc3QgaW5zdGFuY2VvZiBIYT8odGhpcy5fcmVwb3J0RXJyb3IoXCJFbXB0eSBleHByZXNzaW9ucyBhcmUgbm90IGFsbG93ZWRcIixlKSx0aGlzLl9leHByUGFyc2VyLndyYXBMaXRlcmFsUHJpbWl0aXZlKFwiRVJST1JcIixuKSk6KHRoaXMuX2NoZWNrUGlwZXMocixlKSxyKX1jYXRjaCh0KXtyZXR1cm4gdGhpcy5fcmVwb3J0RXJyb3IoXCJcIit0LGUpLHRoaXMuX2V4cHJQYXJzZXIud3JhcExpdGVyYWxQcmltaXRpdmUoXCJFUlJPUlwiLG4pfX0sdC5wcm90b3R5cGUuX3JlcG9ydEVycm9yPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1PdS5GQVRBTCksdGhpcy5fdGFyZ2V0RXJyb3JzLnB1c2gobmV3IFR1KGUsdCxuKSl9LHQucHJvdG90eXBlLl9yZXBvcnRFeHByZXNzaW9uUGFyc2VyRXJyb3JzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj10O248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dO3RoaXMuX3JlcG9ydEVycm9yKGkubWVzc2FnZSxlKTtcbn19LHQucHJvdG90eXBlLl9jaGVja1BpcGVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZih0KXt2YXIgcj1uZXcgemw7dC52aXNpdChyKSxyLnBpcGVzLmZvckVhY2goZnVuY3Rpb24odCxyKXtuLnBpcGVzQnlOYW1lLmhhcyhyKXx8bi5fcmVwb3J0RXJyb3IoXCJUaGUgcGlwZSAnXCIrcitcIicgY291bGQgbm90IGJlIGZvdW5kXCIsbmV3IFB1KGUuc3RhcnQubW92ZUJ5KHQuc3Bhbi5zdGFydCksZS5zdGFydC5tb3ZlQnkodC5zcGFuLmVuZCkpKX0pfX0sdC5wcm90b3R5cGUuX3ZhbGlkYXRlUHJvcGVydHlPckF0dHJpYnV0ZU5hbWU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4/dGhpcy5fc2NoZW1hUmVnaXN0cnkudmFsaWRhdGVBdHRyaWJ1dGUodCk6dGhpcy5fc2NoZW1hUmVnaXN0cnkudmFsaWRhdGVQcm9wZXJ0eSh0KTtyLmVycm9yJiZ0aGlzLl9yZXBvcnRFcnJvcihyLm1zZyxlLE91LkZBVEFMKX0sdH0oKSx6bD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5waXBlcz1uZXcgTWFwfXJldHVybiBEbChlLHQpLGUucHJvdG90eXBlLnZpc2l0UGlwZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnBpcGVzLnNldCh0Lm5hbWUsdCksdC5leHAudmlzaXQodGhpcyksdGhpcy52aXNpdEFsbCh0LmFyZ3MsZSksbnVsbH0sZX0odXUpLFdsPVwic2VsZWN0XCIsR2w9XCJuZy1jb250ZW50XCIsWGw9XCJsaW5rXCIsJGw9XCJyZWxcIixRbD1cImhyZWZcIixZbD1cInN0eWxlc2hlZXRcIixLbD1cInN0eWxlXCIsWmw9XCJzY3JpcHRcIixKbD1cIm5nTm9uQmluZGFibGVcIix0cD1cIm5nUHJvamVjdEFzXCIsZXA9e307ZXAuTkdfQ09OVEVOVD0wLGVwLlNUWUxFPTEsZXAuU1RZTEVTSEVFVD0yLGVwLlNDUklQVD0zLGVwLk9USEVSPTQsZXBbZXAuTkdfQ09OVEVOVF09XCJOR19DT05URU5UXCIsZXBbZXAuU1RZTEVdPVwiU1RZTEVcIixlcFtlcC5TVFlMRVNIRUVUXT1cIlNUWUxFU0hFRVRcIixlcFtlcC5TQ1JJUFRdPVwiU0NSSVBUXCIsZXBbZXAuT1RIRVJdPVwiT1RIRVJcIjt2YXIgbnA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dGhpcy50eXBlPXQsdGhpcy5zZWxlY3RBdHRyPWUsdGhpcy5ocmVmQXR0cj1uLHRoaXMubm9uQmluZGFibGU9cix0aGlzLnByb2plY3RBcz1pfXJldHVybiB0fSgpLHJwPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxpcD10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSxvcD10aGlzJiZ0aGlzLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sc3A9L14oPzooPzooPzooYmluZC0pfChsZXQtKXwocmVmLXwjKXwob24tKXwoYmluZG9uLSl8KEApKSguKykpfFxcW1xcKChbXlxcKV0rKVxcKVxcXXxcXFsoW15cXF1dKylcXF18XFwoKFteXFwpXSspXFwpKSQvLGFwPTEsdXA9MixjcD0zLGxwPTQscHA9NSxocD02LGZwPTcsZHA9OCx5cD05LG1wPTEwLHZwPVwidGVtcGxhdGVcIixncD1cInRlbXBsYXRlXCIsX3A9XCIqXCIsYnA9XCJjbGFzc1wiLHdwPVpvLnBhcnNlKFwiKlwiKVswXSxDcD1uZXcgZS5PcGFxdWVUb2tlbihcIlRlbXBsYXRlVHJhbnNmb3Jtc1wiKSxFcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyxuLGUscil9cmV0dXJuIHJwKGUsdCksZX0oVHUpLFNwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMudGVtcGxhdGVBc3Q9dCx0aGlzLmVycm9ycz1lfXJldHVybiB0fSgpLHhwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGkpe3RoaXMuX2V4cHJQYXJzZXI9dCx0aGlzLl9zY2hlbWFSZWdpc3RyeT1lLHRoaXMuX2h0bWxQYXJzZXI9bix0aGlzLl9jb25zb2xlPXIsdGhpcy50cmFuc2Zvcm1zPWl9cmV0dXJuIHQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt2YXIgcz10aGlzLnRyeVBhcnNlKHQsZSxuLHIsaSxvKSxhPXMuZXJyb3JzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5sZXZlbD09PU91LldBUk5JTkd9KSx1PXMuZXJyb3JzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5sZXZlbD09PU91LkZBVEFMfSk7aWYoYS5sZW5ndGg+MCYmdGhpcy5fY29uc29sZS53YXJuKFwiVGVtcGxhdGUgcGFyc2Ugd2FybmluZ3M6XFxuXCIrYS5qb2luKFwiXFxuXCIpKSx1Lmxlbmd0aD4wKXt2YXIgYz11LmpvaW4oXCJcXG5cIik7dGhyb3cgbmV3IGNzKFwiVGVtcGxhdGUgcGFyc2UgZXJyb3JzOlxcblwiK2MpfXJldHVybiBzLnRlbXBsYXRlQXN0fSx0LnByb3RvdHlwZS50cnlQYXJzZT1mdW5jdGlvbih0LGUsbixyLGksbyl7cmV0dXJuIHRoaXMudHJ5UGFyc2VIdG1sKHRoaXMuZXhwYW5kSHRtbCh0aGlzLl9odG1sUGFyc2VyLnBhcnNlKGUsbywhMCx0aGlzLmdldEludGVycG9sYXRpb25Db25maWcodCkpKSx0LGUsbixyLGksbyl9LHQucHJvdG90eXBlLnRyeVBhcnNlSHRtbD1mdW5jdGlvbih0LGUscixpLG8scyxhKXt2YXIgdSxjPXQuZXJyb3JzO2lmKHQucm9vdE5vZGVzLmxlbmd0aD4wKXt2YXIgbD1fZShpKSxwPV9lKG8pLGg9bmV3IE9sKGUsdC5yb290Tm9kZXNbMF0uc291cmNlU3BhbiksZj12b2lkIDA7ZS50ZW1wbGF0ZSYmZS50ZW1wbGF0ZS5pbnRlcnBvbGF0aW9uJiYoZj17c3RhcnQ6ZS50ZW1wbGF0ZS5pbnRlcnBvbGF0aW9uWzBdLGVuZDplLnRlbXBsYXRlLmludGVycG9sYXRpb25bMV19KTt2YXIgZD1uZXcgcWwodGhpcy5fZXhwclBhcnNlcixmLHRoaXMuX3NjaGVtYVJlZ2lzdHJ5LHAsYykseT1uZXcgUHAoaCxsLGQsdGhpcy5fc2NoZW1hUmVnaXN0cnkscyxjKTt1PSQoeSx0LnJvb3ROb2RlcyxNcCksYy5wdXNoLmFwcGx5KGMsaC5lcnJvcnMpfWVsc2UgdT1bXTtyZXR1cm4gdGhpcy5fYXNzZXJ0Tm9SZWZlcmVuY2VEdXBsaWNhdGlvbk9uVGVtcGxhdGUodSxjKSxjLmxlbmd0aD4wP25ldyBTcCh1LGMpOih0aGlzLnRyYW5zZm9ybXMmJnRoaXMudHJhbnNmb3Jtcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3U9bih0LHUpfSksbmV3IFNwKHUsYykpfSx0LnByb3RvdHlwZS5leHBhbmRIdG1sPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpO3ZhciBuPXQuZXJyb3JzO2lmKDA9PW4ubGVuZ3RofHxlKXt2YXIgcj10ZSh0LnJvb3ROb2Rlcyk7bi5wdXNoLmFwcGx5KG4sci5lcnJvcnMpLHQ9bmV3IFd1KHIubm9kZXMsbil9cmV0dXJuIHR9LHQucHJvdG90eXBlLmdldEludGVycG9sYXRpb25Db25maWc9ZnVuY3Rpb24odCl7aWYodC50ZW1wbGF0ZSlyZXR1cm4gTmEuZnJvbUFycmF5KHQudGVtcGxhdGUuaW50ZXJwb2xhdGlvbil9LHQucHJvdG90eXBlLl9hc3NlcnROb1JlZmVyZW5jZUR1cGxpY2F0aW9uT25UZW1wbGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO3QuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5yZWZlcmVuY2VzfSkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWZlcmVuY2VzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9dC5uYW1lO2lmKG4uaW5kZXhPZihyKTwwKW4ucHVzaChyKTtlbHNle3ZhciBpPW5ldyBFcCgnUmVmZXJlbmNlIFwiIycrcisnXCIgaXMgZGVmaW5lZCBzZXZlcmFsIHRpbWVzJyx0LnNvdXJjZVNwYW4sT3UuRkFUQUwpO2UucHVzaChpKX19KX0pfSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnd1fSx7dHlwZTpNbH0se3R5cGU6ZGx9LHt0eXBlOlBvfSx7dHlwZTpBcnJheSxkZWNvcmF0b3JzOlt7dHlwZTplLk9wdGlvbmFsfSx7dHlwZTplLkluamVjdCxhcmdzOltDcF19XX1dfSx0PWlwKFtNKCksb3AoXCJkZXNpZ246cGFyYW10eXBlc1wiLFt3dSxNbCxkbCxQbyxBcnJheV0pXSx0KX0oKSxQcD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8pe3ZhciBzPXRoaXM7dGhpcy5wcm92aWRlclZpZXdDb250ZXh0PXQsdGhpcy5fYmluZGluZ1BhcnNlcj1uLHRoaXMuX3NjaGVtYVJlZ2lzdHJ5PXIsdGhpcy5fc2NoZW1hcz1pLHRoaXMuX3RhcmdldEVycm9ycz1vLHRoaXMuc2VsZWN0b3JNYXRjaGVyPW5ldyBKbyx0aGlzLmRpcmVjdGl2ZXNJbmRleD1uZXcgTWFwLHRoaXMubmdDb250ZW50Q291bnQ9MCxlLmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgbj1aby5wYXJzZSh0LnNlbGVjdG9yKTtzLnNlbGVjdG9yTWF0Y2hlci5hZGRTZWxlY3RhYmxlcyhuLHQpLHMuZGlyZWN0aXZlc0luZGV4LnNldCh0LGUpfSl9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0RXhwYW5zaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLnZpc2l0RXhwYW5zaW9uQ2FzZT1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS52aXNpdFRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmZpbmROZ0NvbnRlbnRJbmRleCh3cCkscj10aGlzLl9iaW5kaW5nUGFyc2VyLnBhcnNlSW50ZXJwb2xhdGlvbih0LnZhbHVlLHQuc291cmNlU3Bhbik7cmV0dXJuIHI/bmV3IEZpKHIsbix0LnNvdXJjZVNwYW4pOm5ldyBMaSh0LnZhbHVlLG4sdC5zb3VyY2VTcGFuKX0sdC5wcm90b3R5cGUudmlzaXRBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFVpKHQubmFtZSx0LnZhbHVlLHQuc291cmNlU3Bhbil9LHQucHJvdG90eXBlLnZpc2l0Q29tbWVudD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS52aXNpdEVsZW1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLGk9dC5uYW1lLG89ZGUodCk7aWYoby50eXBlPT09ZXAuU0NSSVBUfHxvLnR5cGU9PT1lcC5TVFlMRSlyZXR1cm4gbnVsbDtpZihvLnR5cGU9PT1lcC5TVFlMRVNIRUVUJiZsZShvLmhyZWZBdHRyKSlyZXR1cm4gbnVsbDt2YXIgcz1bXSxhPVtdLHU9W10sYz1bXSxwPVtdLGg9W10sZj1bXSxkPVtdLHk9ITEsbT1bXSx2PWwoaS50b0xvd2VyQ2FzZSgpKVsxXSxnPXY9PXZwO3QuYXR0cnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZSxpLG89bi5fcGFyc2VBdHRyKGcsdCxzLGEscCx1LGMpLGw9bi5fbm9ybWFsaXplQXR0cmlidXRlTmFtZSh0Lm5hbWUpO2w9PWdwP2U9dC52YWx1ZTpsLnN0YXJ0c1dpdGgoX3ApJiYoZT10LnZhbHVlLGk9bC5zdWJzdHJpbmcoX3AubGVuZ3RoKStcIjpcIik7dmFyIHY9cihlKTt2JiYoeSYmbi5fcmVwb3J0RXJyb3IoXCJDYW4ndCBoYXZlIG11bHRpcGxlIHRlbXBsYXRlIGJpbmRpbmdzIG9uIG9uZSBlbGVtZW50LiBVc2Ugb25seSBvbmUgYXR0cmlidXRlIG5hbWVkICd0ZW1wbGF0ZScgb3IgcHJlZml4ZWQgd2l0aCAqXCIsdC5zb3VyY2VTcGFuKSx5PSEwLG4uX2JpbmRpbmdQYXJzZXIucGFyc2VJbmxpbmVUZW1wbGF0ZUJpbmRpbmcoaSxlLHQuc291cmNlU3BhbixmLGgsZCkpLG98fHZ8fChtLnB1c2gobi52aXNpdEF0dHJpYnV0ZSh0LG51bGwpKSxzLnB1c2goW3QubmFtZSx0LnZhbHVlXSkpfSk7dmFyIF89dmUoaSxzKSxiPXRoaXMuX3BhcnNlRGlyZWN0aXZlcyh0aGlzLnNlbGVjdG9yTWF0Y2hlcixfKSx3PWIuZGlyZWN0aXZlcyxDPWIubWF0Y2hFbGVtZW50LEU9W10sUz10aGlzLl9jcmVhdGVEaXJlY3RpdmVBc3RzKGcsdC5uYW1lLHcsYSx1LHQuc291cmNlU3BhbixFKSx4PXRoaXMuX2NyZWF0ZUVsZW1lbnRQcm9wZXJ0eUFzdHModC5uYW1lLGEsUyksUD1lLmlzVGVtcGxhdGVFbGVtZW50fHx5LE89bmV3IFRsKHRoaXMucHJvdmlkZXJWaWV3Q29udGV4dCxlLnByb3ZpZGVyQ29udGV4dCxQLFMsbSxFLHQuc291cmNlU3BhbiksVD0kKG8ubm9uQmluZGFibGU/a3A6dGhpcyx0LmNoaWxkcmVuLEFwLmNyZWF0ZShnLFMsZz9lLnByb3ZpZGVyQ29udGV4dDpPKSk7Ty5hZnRlckVsZW1lbnQoKTt2YXIgQSxNPXIoby5wcm9qZWN0QXMpP1pvLnBhcnNlKG8ucHJvamVjdEFzKVswXTpfLGs9ZS5maW5kTmdDb250ZW50SW5kZXgoTSk7aWYoby50eXBlPT09ZXAuTkdfQ09OVEVOVCl0LmNoaWxkcmVuJiYhdC5jaGlsZHJlbi5ldmVyeShnZSkmJnRoaXMuX3JlcG9ydEVycm9yKFwiPG5nLWNvbnRlbnQ+IGVsZW1lbnQgY2Fubm90IGhhdmUgY29udGVudC5cIix0LnNvdXJjZVNwYW4pLEE9bmV3IEtpKHRoaXMubmdDb250ZW50Q291bnQrKyx5P251bGw6ayx0LnNvdXJjZVNwYW4pO2Vsc2UgaWYoZyl0aGlzLl9hc3NlcnRBbGxFdmVudHNQdWJsaXNoZWRCeURpcmVjdGl2ZXMoUyxwKSx0aGlzLl9hc3NlcnROb0NvbXBvbmVudHNOb3JFbGVtZW50QmluZGluZ3NPblRlbXBsYXRlKFMseCx0LnNvdXJjZVNwYW4pLEE9bmV3IEdpKG0scCxFLGMsTy50cmFuc2Zvcm1lZERpcmVjdGl2ZUFzdHMsTy50cmFuc2Zvcm1Qcm92aWRlcnMsTy50cmFuc2Zvcm1lZEhhc1ZpZXdDb250YWluZXIsVCx5P251bGw6ayx0LnNvdXJjZVNwYW4pO2Vsc2V7dGhpcy5fYXNzZXJ0RWxlbWVudEV4aXN0cyhDLHQpLHRoaXMuX2Fzc2VydE9ubHlPbmVDb21wb25lbnQoUyx0LnNvdXJjZVNwYW4pO3ZhciBSPXk/bnVsbDplLmZpbmROZ0NvbnRlbnRJbmRleChNKTtBPW5ldyBXaShpLG0seCxwLEUsTy50cmFuc2Zvcm1lZERpcmVjdGl2ZUFzdHMsTy50cmFuc2Zvcm1Qcm92aWRlcnMsTy50cmFuc2Zvcm1lZEhhc1ZpZXdDb250YWluZXIsVCx5P251bGw6Uix0LnNvdXJjZVNwYW4sdC5lbmRTb3VyY2VTcGFuKSx0aGlzLl9maW5kQ29tcG9uZW50RGlyZWN0aXZlcyhTKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLl92YWxpZGF0ZUVsZW1lbnRBbmltYXRpb25JbnB1dE91dHB1dHModC5ob3N0UHJvcGVydGllcyx0Lmhvc3RFdmVudHMsdC5kaXJlY3RpdmUudGVtcGxhdGUpfSk7dmFyIEk9Ty52aWV3Q29udGV4dC5jb21wb25lbnQudGVtcGxhdGU7dGhpcy5fdmFsaWRhdGVFbGVtZW50QW5pbWF0aW9uSW5wdXRPdXRwdXRzKHgscCxJLnRvU3VtbWFyeSgpKX1pZih5KXt2YXIgTj12ZSh2cCxmKSxEPXRoaXMuX3BhcnNlRGlyZWN0aXZlcyh0aGlzLnNlbGVjdG9yTWF0Y2hlcixOKS5kaXJlY3RpdmVzLGo9dGhpcy5fY3JlYXRlRGlyZWN0aXZlQXN0cyghMCx0Lm5hbWUsRCxoLFtdLHQuc291cmNlU3BhbixbXSksVj10aGlzLl9jcmVhdGVFbGVtZW50UHJvcGVydHlBc3RzKHQubmFtZSxoLGopO3RoaXMuX2Fzc2VydE5vQ29tcG9uZW50c05vckVsZW1lbnRCaW5kaW5nc09uVGVtcGxhdGUoaixWLHQuc291cmNlU3Bhbik7dmFyIEw9bmV3IFRsKHRoaXMucHJvdmlkZXJWaWV3Q29udGV4dCxlLnByb3ZpZGVyQ29udGV4dCxlLmlzVGVtcGxhdGVFbGVtZW50LGosW10sW10sdC5zb3VyY2VTcGFuKTtMLmFmdGVyRWxlbWVudCgpLEE9bmV3IEdpKFtdLFtdLFtdLGQsTC50cmFuc2Zvcm1lZERpcmVjdGl2ZUFzdHMsTC50cmFuc2Zvcm1Qcm92aWRlcnMsTC50cmFuc2Zvcm1lZEhhc1ZpZXdDb250YWluZXIsW0FdLGssdC5zb3VyY2VTcGFuKX1yZXR1cm4gQX0sdC5wcm90b3R5cGUuX3ZhbGlkYXRlRWxlbWVudEFuaW1hdGlvbklucHV0T3V0cHV0cz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxpPW5ldyBTZXQ7bi5hbmltYXRpb25zLmZvckVhY2goZnVuY3Rpb24odCl7aS5hZGQodCl9KTt2YXIgbz10LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0FuaW1hdGlvbn0pO28uZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT10Lm5hbWU7aS5oYXMoZSl8fHIuX3JlcG9ydEVycm9yKFwiQ291bGRuJ3QgZmluZCBhbiBhbmltYXRpb24gZW50cnkgZm9yIFxcXCJcIitlKydcIicsdC5zb3VyY2VTcGFuKX0pLGUuZm9yRWFjaChmdW5jdGlvbih0KXtpZih0LmlzQW5pbWF0aW9uKXt2YXIgZT1vLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZT09dC5uYW1lfSk7ZXx8ci5fcmVwb3J0RXJyb3IoXCJVbmFibGUgdG8gbGlzdGVuIG9uIChAXCIrdC5uYW1lK1wiLlwiK3QucGhhc2UrXCIpIGJlY2F1c2UgdGhlIGFuaW1hdGlvbiB0cmlnZ2VyIFtAXCIrdC5uYW1lK1wiXSBpc24ndCBiZWluZyB1c2VkIG9uIHRoZSBzYW1lIGVsZW1lbnRcIix0LnNvdXJjZVNwYW4pfX0pfSx0LnByb3RvdHlwZS5fcGFyc2VBdHRyPWZ1bmN0aW9uKHQsZSxuLGksbyxzLGEpe3ZhciB1PXRoaXMuX25vcm1hbGl6ZUF0dHJpYnV0ZU5hbWUoZS5uYW1lKSxjPWUudmFsdWUsbD1lLnNvdXJjZVNwYW4scD11Lm1hdGNoKHNwKSxoPSExO2lmKG51bGwhPT1wKWlmKGg9ITAscihwW2FwXSkpdGhpcy5fYmluZGluZ1BhcnNlci5wYXJzZVByb3BlcnR5QmluZGluZyhwW2ZwXSxjLCExLGwsbixpKTtlbHNlIGlmKHBbdXBdKWlmKHQpe3ZhciBmPXBbZnBdO3RoaXMuX3BhcnNlVmFyaWFibGUoZixjLGwsYSl9ZWxzZSB0aGlzLl9yZXBvcnRFcnJvcignXCJsZXQtXCIgaXMgb25seSBzdXBwb3J0ZWQgb24gdGVtcGxhdGUgZWxlbWVudHMuJyxsKTtlbHNlIGlmKHBbY3BdKXt2YXIgZj1wW2ZwXTt0aGlzLl9wYXJzZVJlZmVyZW5jZShmLGMsbCxzKX1lbHNlIHBbbHBdP3RoaXMuX2JpbmRpbmdQYXJzZXIucGFyc2VFdmVudChwW2ZwXSxjLGwsbixvKTpwW3BwXT8odGhpcy5fYmluZGluZ1BhcnNlci5wYXJzZVByb3BlcnR5QmluZGluZyhwW2ZwXSxjLCExLGwsbixpKSx0aGlzLl9wYXJzZUFzc2lnbm1lbnRFdmVudChwW2ZwXSxjLGwsbixvKSk6cFtocF0/dGhpcy5fYmluZGluZ1BhcnNlci5wYXJzZUxpdGVyYWxBdHRyKHUsYyxsLG4saSk6cFtkcF0/KHRoaXMuX2JpbmRpbmdQYXJzZXIucGFyc2VQcm9wZXJ0eUJpbmRpbmcocFtkcF0sYywhMSxsLG4saSksdGhpcy5fcGFyc2VBc3NpZ25tZW50RXZlbnQocFtkcF0sYyxsLG4sbykpOnBbeXBdP3RoaXMuX2JpbmRpbmdQYXJzZXIucGFyc2VQcm9wZXJ0eUJpbmRpbmcocFt5cF0sYywhMSxsLG4saSk6cFttcF0mJnRoaXMuX2JpbmRpbmdQYXJzZXIucGFyc2VFdmVudChwW21wXSxjLGwsbixvKTtlbHNlIGg9dGhpcy5fYmluZGluZ1BhcnNlci5wYXJzZVByb3BlcnR5SW50ZXJwb2xhdGlvbih1LGMsbCxuLGkpO3JldHVybiBofHx0aGlzLl9iaW5kaW5nUGFyc2VyLnBhcnNlTGl0ZXJhbEF0dHIodSxjLGwsbixpKSxofSx0LnByb3RvdHlwZS5fbm9ybWFsaXplQXR0cmlidXRlTmFtZT1mdW5jdGlvbih0KXtyZXR1cm4vXmRhdGEtL2kudGVzdCh0KT90LnN1YnN0cmluZyg1KTp0fSx0LnByb3RvdHlwZS5fcGFyc2VWYXJpYWJsZT1mdW5jdGlvbih0LGUsbixyKXt0LmluZGV4T2YoXCItXCIpPi0xJiZ0aGlzLl9yZXBvcnRFcnJvcignXCItXCIgaXMgbm90IGFsbG93ZWQgaW4gdmFyaWFibGUgbmFtZXMnLG4pLHIucHVzaChuZXcgemkodCxlLG4pKX0sdC5wcm90b3R5cGUuX3BhcnNlUmVmZXJlbmNlPWZ1bmN0aW9uKHQsZSxuLHIpe3QuaW5kZXhPZihcIi1cIik+LTEmJnRoaXMuX3JlcG9ydEVycm9yKCdcIi1cIiBpcyBub3QgYWxsb3dlZCBpbiByZWZlcmVuY2UgbmFtZXMnLG4pLHIucHVzaChuZXcgVHAodCxlLG4pKX0sdC5wcm90b3R5cGUuX3BhcnNlQXNzaWdubWVudEV2ZW50PWZ1bmN0aW9uKHQsZSxuLHIsaSl7dGhpcy5fYmluZGluZ1BhcnNlci5wYXJzZUV2ZW50KHQrXCJDaGFuZ2VcIixlK1wiPSRldmVudFwiLG4scixpKX0sdC5wcm90b3R5cGUuX3BhcnNlRGlyZWN0aXZlcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1uZXcgQXJyYXkodGhpcy5kaXJlY3RpdmVzSW5kZXguc2l6ZSksaT0hMTtyZXR1cm4gdC5tYXRjaChlLGZ1bmN0aW9uKHQsZSl7cltuLmRpcmVjdGl2ZXNJbmRleC5nZXQoZSldPWUsaT1pfHx0Lmhhc0VsZW1lbnRTZWxlY3RvcigpfSkse2RpcmVjdGl2ZXM6ci5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuISF0fSksbWF0Y2hFbGVtZW50Oml9fSx0LnByb3RvdHlwZS5fY3JlYXRlRGlyZWN0aXZlQXN0cz1mdW5jdGlvbih0LGUsbixyLGksbyxzKXt2YXIgYT10aGlzLHU9bmV3IFNldCxjPW51bGwsbD1uLm1hcChmdW5jdGlvbih0KXt2YXIgbj1uZXcgUHUoby5zdGFydCxvLmVuZCxcIkRpcmVjdGl2ZSBcIitiKHQudHlwZSkpO3QuaXNDb21wb25lbnQmJihjPXQpO3ZhciBsPVtdLHA9YS5fYmluZGluZ1BhcnNlci5jcmVhdGVEaXJlY3RpdmVIb3N0UHJvcGVydHlBc3RzKHQsbik7YS5fY2hlY2tQcm9wZXJ0aWVzSW5TY2hlbWEoZSxwKTt2YXIgaD1hLl9iaW5kaW5nUGFyc2VyLmNyZWF0ZURpcmVjdGl2ZUhvc3RFdmVudEFzdHModCxuKTtyZXR1cm4gYS5fY3JlYXRlRGlyZWN0aXZlUHJvcGVydHlBc3RzKHQuaW5wdXRzLHIsbCksaS5mb3JFYWNoKGZ1bmN0aW9uKGUpeygwPT09ZS52YWx1ZS5sZW5ndGgmJnQuaXNDb21wb25lbnR8fHQuZXhwb3J0QXM9PWUudmFsdWUpJiYocy5wdXNoKG5ldyBxaShlLm5hbWUsS3QodC50eXBlKSxlLnNvdXJjZVNwYW4pKSx1LmFkZChlLm5hbWUpKX0pLG5ldyAkaSh0LGwscCxoLG4pfSk7cmV0dXJuIGkuZm9yRWFjaChmdW5jdGlvbihlKXtpZihlLnZhbHVlLmxlbmd0aD4wKXUuaGFzKGUubmFtZSl8fGEuX3JlcG9ydEVycm9yKCdUaGVyZSBpcyBubyBkaXJlY3RpdmUgd2l0aCBcImV4cG9ydEFzXCIgc2V0IHRvIFwiJytlLnZhbHVlKydcIicsZS5zb3VyY2VTcGFuKTtlbHNlIGlmKCFjKXt2YXIgbj1udWxsO3QmJihuPVp0KF9sLlRlbXBsYXRlUmVmKSkscy5wdXNoKG5ldyBxaShlLm5hbWUsbixlLnNvdXJjZVNwYW4pKX19KSxsfSx0LnByb3RvdHlwZS5fY3JlYXRlRGlyZWN0aXZlUHJvcGVydHlBc3RzPWZ1bmN0aW9uKHQsZSxuKXtpZih0KXt2YXIgcj1uZXcgTWFwO2UuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1yLmdldCh0Lm5hbWUpO2UmJiFlLmlzTGl0ZXJhbHx8ci5zZXQodC5uYW1lLHQpfSksT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaT10W2VdLG89ci5nZXQoaSk7byYmbi5wdXNoKG5ldyBYaShlLG8ubmFtZSxvLmV4cHJlc3Npb24sby5zb3VyY2VTcGFuKSl9KX19LHQucHJvdG90eXBlLl9jcmVhdGVFbGVtZW50UHJvcGVydHlBc3RzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLGk9W10sbz1uZXcgTWFwO3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24odCl7dC5pbnB1dHMuZm9yRWFjaChmdW5jdGlvbih0KXtvLnNldCh0LnRlbXBsYXRlTmFtZSx0KX0pfSksZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuaXNMaXRlcmFsfHxvLmdldChlLm5hbWUpfHxpLnB1c2goci5fYmluZGluZ1BhcnNlci5jcmVhdGVFbGVtZW50UHJvcGVydHlBc3QodCxlKSl9KSx0aGlzLl9jaGVja1Byb3BlcnRpZXNJblNjaGVtYSh0LGkpLGl9LHQucHJvdG90eXBlLl9maW5kQ29tcG9uZW50RGlyZWN0aXZlcz1mdW5jdGlvbih0KXtyZXR1cm4gdC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGlyZWN0aXZlLmlzQ29tcG9uZW50fSl9LHQucHJvdG90eXBlLl9maW5kQ29tcG9uZW50RGlyZWN0aXZlTmFtZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ZpbmRDb21wb25lbnREaXJlY3RpdmVzKHQpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gYih0LmRpcmVjdGl2ZS50eXBlKX0pfSx0LnByb3RvdHlwZS5fYXNzZXJ0T25seU9uZUNvbXBvbmVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2ZpbmRDb21wb25lbnREaXJlY3RpdmVOYW1lcyh0KTtuLmxlbmd0aD4xJiZ0aGlzLl9yZXBvcnRFcnJvcihcIk1vcmUgdGhhbiBvbmUgY29tcG9uZW50IG1hdGNoZWQgb24gdGhpcyBlbGVtZW50Llxcbk1ha2Ugc3VyZSB0aGF0IG9ubHkgb25lIGNvbXBvbmVudCdzIHNlbGVjdG9yIGNhbiBtYXRjaCBhIGdpdmVuIGVsZW1lbnQuXFxuQ29uZmxpY3RpbmcgY29tcG9uZW50czogXCIrbi5qb2luKFwiLFwiKSxlKX0sdC5wcm90b3R5cGUuX2Fzc2VydEVsZW1lbnRFeGlzdHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLm5hbWUucmVwbGFjZSgvXjp4aHRtbDovLFwiXCIpO2lmKCF0JiYhdGhpcy5fc2NoZW1hUmVnaXN0cnkuaGFzRWxlbWVudChuLHRoaXMuX3NjaGVtYXMpKXt2YXIgcj1cIidcIituK1wiJyBpcyBub3QgYSBrbm93biBlbGVtZW50OlxcblwiKyhcIjEuIElmICdcIituK1wiJyBpcyBhbiBBbmd1bGFyIGNvbXBvbmVudCwgdGhlbiB2ZXJpZnkgdGhhdCBpdCBpcyBwYXJ0IG9mIHRoaXMgbW9kdWxlLlxcblwiKSsoXCIyLiBJZiAnXCIrbitcIicgaXMgYSBXZWIgQ29tcG9uZW50IHRoZW4gYWRkIFxcXCJDVVNUT01fRUxFTUVOVFNfU0NIRU1BXFxcIiB0byB0aGUgJ0BOZ01vZHVsZS5zY2hlbWFzJyBvZiB0aGlzIGNvbXBvbmVudCB0byBzdXBwcmVzcyB0aGlzIG1lc3NhZ2UuXCIpO3RoaXMuX3JlcG9ydEVycm9yKHIsZS5zb3VyY2VTcGFuKX19LHQucHJvdG90eXBlLl9hc3NlcnROb0NvbXBvbmVudHNOb3JFbGVtZW50QmluZGluZ3NPblRlbXBsYXRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLGk9dGhpcy5fZmluZENvbXBvbmVudERpcmVjdGl2ZU5hbWVzKHQpO2kubGVuZ3RoPjAmJnRoaXMuX3JlcG9ydEVycm9yKFwiQ29tcG9uZW50cyBvbiBhbiBlbWJlZGRlZCB0ZW1wbGF0ZTogXCIraS5qb2luKFwiLFwiKSxuKSxlLmZvckVhY2goZnVuY3Rpb24odCl7ci5fcmVwb3J0RXJyb3IoXCJQcm9wZXJ0eSBiaW5kaW5nIFwiK3QubmFtZSsnIG5vdCB1c2VkIGJ5IGFueSBkaXJlY3RpdmUgb24gYW4gZW1iZWRkZWQgdGVtcGxhdGUuIE1ha2Ugc3VyZSB0aGF0IHRoZSBwcm9wZXJ0eSBuYW1lIGlzIHNwZWxsZWQgY29ycmVjdGx5IGFuZCBhbGwgZGlyZWN0aXZlcyBhcmUgbGlzdGVkIGluIHRoZSBcIkBOZ01vZHVsZS5kZWNsYXJhdGlvbnNcIi4nLG4pfSl9LHQucHJvdG90eXBlLl9hc3NlcnRBbGxFdmVudHNQdWJsaXNoZWRCeURpcmVjdGl2ZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLGk9bmV3IFNldDt0LmZvckVhY2goZnVuY3Rpb24odCl7T2JqZWN0LmtleXModC5kaXJlY3RpdmUub3V0cHV0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj10LmRpcmVjdGl2ZS5vdXRwdXRzW2VdO2kuYWRkKG4pfSl9KSxlLmZvckVhY2goZnVuY3Rpb24odCl7IXIodC50YXJnZXQpJiZpLmhhcyh0Lm5hbWUpfHxuLl9yZXBvcnRFcnJvcihcIkV2ZW50IGJpbmRpbmcgXCIrdC5mdWxsTmFtZSsnIG5vdCBlbWl0dGVkIGJ5IGFueSBkaXJlY3RpdmUgb24gYW4gZW1iZWRkZWQgdGVtcGxhdGUuIE1ha2Ugc3VyZSB0aGF0IHRoZSBldmVudCBuYW1lIGlzIHNwZWxsZWQgY29ycmVjdGx5IGFuZCBhbGwgZGlyZWN0aXZlcyBhcmUgbGlzdGVkIGluIHRoZSBcIkBOZ01vZHVsZS5kZWNsYXJhdGlvbnNcIi4nLHQuc291cmNlU3Bhbil9KX0sdC5wcm90b3R5cGUuX2NoZWNrUHJvcGVydGllc0luU2NoZW1hPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztlLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoZS50eXBlPT09WmkuUHJvcGVydHkmJiFuLl9zY2hlbWFSZWdpc3RyeS5oYXNQcm9wZXJ0eSh0LGUubmFtZSxuLl9zY2hlbWFzKSl7dmFyIHI9XCJDYW4ndCBiaW5kIHRvICdcIitlLm5hbWUrXCInIHNpbmNlIGl0IGlzbid0IGEga25vd24gcHJvcGVydHkgb2YgJ1wiK3QrXCInLlwiO3QuaW5kZXhPZihcIi1cIik+LTEmJihyKz1cIlxcbjEuIElmICdcIit0K1wiJyBpcyBhbiBBbmd1bGFyIGNvbXBvbmVudCBhbmQgaXQgaGFzICdcIitlLm5hbWUrXCInIGlucHV0LCB0aGVuIHZlcmlmeSB0aGF0IGl0IGlzIHBhcnQgb2YgdGhpcyBtb2R1bGUuXCIrKFwiXFxuMi4gSWYgJ1wiK3QrXCInIGlzIGEgV2ViIENvbXBvbmVudCB0aGVuIGFkZCBcXFwiQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQVxcXCIgdG8gdGhlICdATmdNb2R1bGUuc2NoZW1hcycgb2YgdGhpcyBjb21wb25lbnQgdG8gc3VwcHJlc3MgdGhpcyBtZXNzYWdlLlxcblwiKSksbi5fcmVwb3J0RXJyb3IocixlLnNvdXJjZVNwYW4pfX0pfSx0LnByb3RvdHlwZS5fcmVwb3J0RXJyb3I9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPU91LkZBVEFMKSx0aGlzLl90YXJnZXRFcnJvcnMucHVzaChuZXcgVHUoZSx0LG4pKX0sdH0oKSxPcD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0RWxlbWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPWRlKHQpO2lmKG4udHlwZT09PWVwLlNDUklQVHx8bi50eXBlPT09ZXAuU1RZTEV8fG4udHlwZT09PWVwLlNUWUxFU0hFRVQpcmV0dXJuIG51bGw7dmFyIHI9dC5hdHRycy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuW3QubmFtZSx0LnZhbHVlXX0pLGk9dmUodC5uYW1lLHIpLG89ZS5maW5kTmdDb250ZW50SW5kZXgoaSkscz0kKHRoaXMsdC5jaGlsZHJlbixNcCk7cmV0dXJuIG5ldyBXaSh0Lm5hbWUsJCh0aGlzLHQuYXR0cnMpLFtdLFtdLFtdLFtdLFtdLCExLHMsbyx0LnNvdXJjZVNwYW4sdC5lbmRTb3VyY2VTcGFuKX0sdC5wcm90b3R5cGUudmlzaXRDb21tZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLnZpc2l0QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBVaSh0Lm5hbWUsdC52YWx1ZSx0LnNvdXJjZVNwYW4pfSx0LnByb3RvdHlwZS52aXNpdFRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmZpbmROZ0NvbnRlbnRJbmRleCh3cCk7cmV0dXJuIG5ldyBMaSh0LnZhbHVlLG4sdC5zb3VyY2VTcGFuKX0sdC5wcm90b3R5cGUudmlzaXRFeHBhbnNpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sdC5wcm90b3R5cGUudmlzaXRFeHBhbnNpb25DYXNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR9LHR9KCksVHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLm5hbWU9dCx0aGlzLnZhbHVlPWUsdGhpcy5zb3VyY2VTcGFuPW59cmV0dXJuIHR9KCksQXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMuaXNUZW1wbGF0ZUVsZW1lbnQ9dCx0aGlzLl9uZ0NvbnRlbnRJbmRleE1hdGNoZXI9ZSx0aGlzLl93aWxkY2FyZE5nQ29udGVudEluZGV4PW4sdGhpcy5wcm92aWRlckNvbnRleHQ9cn1yZXR1cm4gdC5jcmVhdGU9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPW5ldyBKbyxvPW51bGwscz1uLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGlyZWN0aXZlLmlzQ29tcG9uZW50fSk7aWYocylmb3IodmFyIGE9cy5kaXJlY3RpdmUudGVtcGxhdGUubmdDb250ZW50U2VsZWN0b3JzLHU9MDt1PGEubGVuZ3RoO3UrKyl7dmFyIGM9YVt1XTtcIipcIj09PWM/bz11OmkuYWRkU2VsZWN0YWJsZXMoWm8ucGFyc2UoYVt1XSksdSl9cmV0dXJuIG5ldyB0KGUsaSxvLHIpfSx0LnByb3RvdHlwZS5maW5kTmdDb250ZW50SW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIHRoaXMuX25nQ29udGVudEluZGV4TWF0Y2hlci5tYXRjaCh0LGZ1bmN0aW9uKHQsbil7ZS5wdXNoKG4pfSksZS5zb3J0KCkscih0aGlzLl93aWxkY2FyZE5nQ29udGVudEluZGV4KSYmZS5wdXNoKHRoaXMuX3dpbGRjYXJkTmdDb250ZW50SW5kZXgpLGUubGVuZ3RoPjA/ZVswXTpudWxsfSx0fSgpLE1wPW5ldyBBcCghMCxuZXcgSm8sbnVsbCxudWxsKSxrcD1uZXcgT3AsUnA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBuPXZvaWQgMD09PXQ/e306dCxyPW4ucmVuZGVyVHlwZXMsaT12b2lkIDA9PT1yP25ldyBOcDpyLG89bi5kZWZhdWx0RW5jYXBzdWxhdGlvbixzPXZvaWQgMD09PW8/ZS5WaWV3RW5jYXBzdWxhdGlvbi5FbXVsYXRlZDpvLGE9bi5nZW5EZWJ1Z0luZm8sdT1uLmxvZ0JpbmRpbmdVcGRhdGUsYz1uLnVzZUppdCxsPXZvaWQgMD09PWN8fGM7dGhpcy5yZW5kZXJUeXBlcz1pLHRoaXMuZGVmYXVsdEVuY2Fwc3VsYXRpb249cyx0aGlzLl9nZW5EZWJ1Z0luZm89YSx0aGlzLl9sb2dCaW5kaW5nVXBkYXRlPXUsdGhpcy51c2VKaXQ9bH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZ2VuRGVidWdJbmZvXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9nZW5EZWJ1Z0luZm8/ZS5pc0Rldk1vZGUoKTp0aGlzLl9nZW5EZWJ1Z0luZm99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibG9nQmluZGluZ1VwZGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fbG9nQmluZGluZ1VwZGF0ZT9lLmlzRGV2TW9kZSgpOnRoaXMuX2xvZ0JpbmRpbmdVcGRhdGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdH0oKSxJcD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnJlbmRlcmVyPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5yZW5kZXJUZXh0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5yZW5kZXJFbGVtZW50PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5yZW5kZXJDb21tZW50PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5yZW5kZXJOb2RlPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5yZW5kZXJFdmVudD1mdW5jdGlvbigpe30sdH0oKSxOcD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnJlbmRlclRleHQ9bnVsbCx0aGlzLnJlbmRlckVsZW1lbnQ9bnVsbCx0aGlzLnJlbmRlckNvbW1lbnQ9bnVsbCx0aGlzLnJlbmRlck5vZGU9bnVsbCx0aGlzLnJlbmRlckV2ZW50PW51bGx9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJlbmRlcmVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBZdChfbC5SZW5kZXJlcil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdH0oKSxEcD10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sanA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5zdGFydFRpbWU9MCx0aGlzLnBsYXlUaW1lPTB9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHQsZSl7fSx0fSgpLFZwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gRHAoZSx0KSxlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe30sZX0oanApLExwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzKSx0aGlzLm5hbWU9ZSx0aGlzLnN0YXRlRGVjbGFyYXRpb25zPW4sdGhpcy5zdGF0ZVRyYW5zaXRpb25zPXJ9cmV0dXJuIERwKGUsdCksZS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdEFuaW1hdGlvbkVudHJ5KHRoaXMsZSl9LGV9KGpwKSxGcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMpLHRoaXMuc3RhdGVOYW1lPWUsdGhpcy5zdHlsZXM9bn1yZXR1cm4gRHAoZSx0KSxlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0QW5pbWF0aW9uU3RhdGVEZWNsYXJhdGlvbih0aGlzLGUpfSxlfShWcCksVXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5mcm9tU3RhdGU9dCx0aGlzLnRvU3RhdGU9ZX1yZXR1cm4gdH0oKSxIcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMpLHRoaXMuc3RhdGVDaGFuZ2VzPWUsdGhpcy5hbmltYXRpb249bn1yZXR1cm4gRHAoZSx0KSxlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0QW5pbWF0aW9uU3RhdGVUcmFuc2l0aW9uKHRoaXMsZSl9LGV9KFZwKSxCcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGksbyl7dC5jYWxsKHRoaXMpLHRoaXMuc3RhcnRpbmdTdHlsZXM9ZSx0aGlzLmtleWZyYW1lcz1uLHRoaXMuZHVyYXRpb249cix0aGlzLmRlbGF5PWksdGhpcy5lYXNpbmc9b31yZXR1cm4gRHAoZSx0KSxlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0QW5pbWF0aW9uU3RlcCh0aGlzLGUpfSxlfShqcCkscXA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyksdGhpcy5zdHlsZXM9ZX1yZXR1cm4gRHAoZSx0KSxlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0QW5pbWF0aW9uU3R5bGVzKHRoaXMsZSl9LGV9KGpwKSx6cD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMpLHRoaXMub2Zmc2V0PWUsdGhpcy5zdHlsZXM9bn1yZXR1cm4gRHAoZSx0KSxlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0QW5pbWF0aW9uS2V5ZnJhbWUodGhpcyxlKX0sZX0oanApLFdwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMpLHRoaXMuc3RlcHM9ZX1yZXR1cm4gRHAoZSx0KSxlfShqcCksR3A9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlKX1yZXR1cm4gRHAoZSx0KSxlLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0QW5pbWF0aW9uR3JvdXAodGhpcyxlKX0sZX0oV3ApLFhwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSl9cmV0dXJuIERwKGUsdCksZS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdEFuaW1hdGlvblNlcXVlbmNlKHRoaXMsZSl9LGV9KFdwKSwkcD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLnRpbWU9dCx0aGlzLnZhbHVlPWV9cmV0dXJuIHQucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09dGhpcy50aW1lJiZlPT10aGlzLnZhbHVlfSx0fSgpLFFwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuc3R5bGVzPXt9fXJldHVybiB0LnByb3RvdHlwZS5pbnNlcnRBdFRpbWU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW5ldyAkcChlLG4pLG89dGhpcy5zdHlsZXNbdF07cihvKXx8KG89dGhpcy5zdHlsZXNbdF09W10pO2Zvcih2YXIgcz0wLGE9by5sZW5ndGgtMTthPj0wO2EtLSlpZihvW2FdLnRpbWU8PWUpe3M9YSsxO2JyZWFrfW8uc3BsaWNlKHMsMCxpKX0sdC5wcm90b3R5cGUuZ2V0QnlJbmRleD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc3R5bGVzW3RdO3JldHVybiByKG4pP2U+PW4ubGVuZ3RoP251bGw6bltlXTpudWxsfSx0LnByb3RvdHlwZS5pbmRleE9mQXRPckJlZm9yZVRpbWU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnN0eWxlc1t0XTtpZihyKG4pKWZvcih2YXIgaT1uLmxlbmd0aC0xO2k+PTA7aS0tKWlmKG5baV0udGltZTw9ZSlyZXR1cm4gaTtyZXR1cm4gbnVsbH0sdH0oKSxZcD10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sS3A9dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbih0LGUsbixyKXt2YXIgaSxvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/ZTpudWxsPT09cj9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTpyO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsbixyKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShpPXRbYV0pJiYocz0obzwzP2kocyk6bz4zP2koZSxuLHMpOmkoZSxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4scyksc30sWnA9dGhpcyYmdGhpcy5fX21ldGFkYXRhfHxmdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKHQsZSl9LEpwPTAsdGg9MSxlaD0xZTMsbmg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxudWxsLGUpfXJldHVybiBZcChlLHQpLGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJcIit0aGlzLm1zZ30sZX0oVHUpLHJoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuYXN0PXQsdGhpcy5lcnJvcnM9ZX1yZXR1cm4gdH0oKSxpaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc2NoZW1hPXR9cmV0dXJuIHQucHJvdG90eXBlLnBhcnNlQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1bXSxyPWIodC50eXBlKSxpPW5ldyBTZXQsbz10LnRlbXBsYXRlLmFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uKHQpe3ZhciBvPWUucGFyc2VFbnRyeSh0KSxzPW8uYXN0LGE9cy5uYW1lO2lmKGkuaGFzKGEpP28uZXJyb3JzLnB1c2gobmV3IG5oKCdUaGUgYW5pbWF0aW9uIHRyaWdnZXIgXCInK2ErJ1wiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBmb3IgdGhlICcrcitcIiBjb21wb25lbnRcIikpOmkuYWRkKGEpLG8uZXJyb3JzLmxlbmd0aD4wKXt2YXIgdT0nLSBVbmFibGUgdG8gcGFyc2UgdGhlIGFuaW1hdGlvbiBzZXF1ZW5jZSBmb3IgXCInK2ErJ1wiIG9uIHRoZSAnK3IrXCIgY29tcG9uZW50IGR1ZSB0byB0aGUgZm9sbG93aW5nIGVycm9yczpcIjtvLmVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3UrPVwiXFxuLS0gXCIrdC5tc2d9KSxuLnB1c2godSl9cmV0dXJuIHN9KTtpZihuLmxlbmd0aD4wKXt2YXIgcz1uLmpvaW4oXCJcXG5cIik7dGhyb3cgbmV3IEVycm9yKFwiQW5pbWF0aW9uIHBhcnNlIGVycm9yczpcXG5cIitzKX1yZXR1cm4gb30sdC5wcm90b3R5cGUucGFyc2VFbnRyeT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49W10scj17fSxpPVtdLG89W107dC5kZWZpbml0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBkcz9iZSh0LGUuX3NjaGVtYSxuKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe28ucHVzaCh0KSxyW3Quc3RhdGVOYW1lXT10LnN0eWxlc30pOmkucHVzaCh0KX0pO3ZhciBzPWkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB3ZSh0LHIsZS5fc2NoZW1hLG4pfSksYT1uZXcgTHAodC5uYW1lLG8scyk7cmV0dXJuIG5ldyByaChhLG4pfSx0PUtwKFtNKCksWnAoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtNbF0pXSx0KX0oKSxvaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuZHVyYXRpb249dCx0aGlzLmRlbGF5PWUsdGhpcy5lYXNpbmc9bn1yZXR1cm4gdH0oKSxzaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sdH0oKSxhaD10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSx1aD10aGlzJiZ0aGlzLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sY2g9e3Byb3ZpZGU6ZS5QQUNLQUdFX1JPT1RfVVJMLHVzZVZhbHVlOlwiL1wifSxsaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dm9pZCAwPT09dCYmKHQ9bnVsbCksdGhpcy5fcGFja2FnZVByZWZpeD10fXJldHVybiB0LnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZTtyKHQpJiZ0Lmxlbmd0aD4wJiYobj1CZSh0LG4pKTt2YXIgaT1GZShuKSxvPXRoaXMuX3BhY2thZ2VQcmVmaXg7aWYocihvKSYmcihpKSYmXCJwYWNrYWdlXCI9PWlbaGguU2NoZW1lXSl7dmFyIHM9aVtoaC5QYXRoXTtyZXR1cm4gbz1vLnJlcGxhY2UoL1xcLyskLyxcIlwiKSxzPXMucmVwbGFjZSgvXlxcLysvLFwiXCIpLG8rXCIvXCIrc31yZXR1cm4gbn0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTp2b2lkIDAsZGVjb3JhdG9yczpbe3R5cGU6ZS5JbmplY3QsYXJnczpbZS5QQUNLQUdFX1JPT1RfVVJMXX1dfV19LHQ9YWgoW00oKSx1aChcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pXSx0KX0oKSxwaD1uZXcgUmVnRXhwKFwiXig/OihbXjovPyMuXSspOik/KD86Ly8oPzooW14vPyNdKilAKT8oW1xcXFx3XFxcXGRcXFxcLVxcXFx1MDEwMC1cXFxcdWZmZmYuJV0qKSg/OjooWzAtOV0rKSk/KT8oW14/I10rKT8oPzpcXFxcPyhbXiNdKikpPyg/OiMoLiopKT8kXCIpLGhoPXt9O2hoLlNjaGVtZT0xLGhoLlVzZXJJbmZvPTIsaGguRG9tYWluPTMsaGguUG9ydD00LGhoLlBhdGg9NSxoaC5RdWVyeURhdGE9NixoaC5GcmFnbWVudD03LGhoW2hoLlNjaGVtZV09XCJTY2hlbWVcIixoaFtoaC5Vc2VySW5mb109XCJVc2VySW5mb1wiLGhoW2hoLkRvbWFpbl09XCJEb21haW5cIixoaFtoaC5Qb3J0XT1cIlBvcnRcIixoaFtoaC5QYXRoXT1cIlBhdGhcIixoaFtoaC5RdWVyeURhdGFdPVwiUXVlcnlEYXRhXCIsaGhbaGguRnJhZ21lbnRdPVwiRnJhZ21lbnRcIjt2YXIgZmg9dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbih0LGUsbixyKXt2YXIgaSxvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/ZTpudWxsPT09cj9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTpyO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsbixyKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShpPXRbYV0pJiYocz0obzwzP2kocyk6bz4zP2koZSxuLHMpOmkoZSxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4scyksc30sZGg9dGhpcyYmdGhpcy5fX21ldGFkYXRhfHxmdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKHQsZSl9LHloPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9yZXNvdXJjZUxvYWRlcj10LHRoaXMuX3VybFJlc29sdmVyPWUsdGhpcy5faHRtbFBhcnNlcj1uLHRoaXMuX2NvbmZpZz1yLHRoaXMuX3Jlc291cmNlTG9hZGVyQ2FjaGU9bmV3IE1hcH1yZXR1cm4gdC5wcm90b3R5cGUuY2xlYXJDYWNoZT1mdW5jdGlvbigpe3RoaXMuX3Jlc291cmNlTG9hZGVyQ2FjaGUuY2xlYXIoKX0sdC5wcm90b3R5cGUuY2xlYXJDYWNoZUZvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3QuaXNDb21wb25lbnQmJih0aGlzLl9yZXNvdXJjZUxvYWRlckNhY2hlLmRlbGV0ZSh0LnRlbXBsYXRlLnRlbXBsYXRlVXJsKSx0LnRlbXBsYXRlLmV4dGVybmFsU3R5bGVzaGVldHMuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9yZXNvdXJjZUxvYWRlckNhY2hlLmRlbGV0ZSh0Lm1vZHVsZVVybCl9KSl9LHQucHJvdG90eXBlLl9mZXRjaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yZXNvdXJjZUxvYWRlckNhY2hlLmdldCh0KTtyZXR1cm4gZXx8KGU9dGhpcy5fcmVzb3VyY2VMb2FkZXIuZ2V0KHQpLHRoaXMuX3Jlc291cmNlTG9hZGVyQ2FjaGUuc2V0KHQsZSkpLGV9LHQucHJvdG90eXBlLm5vcm1hbGl6ZVRlbXBsYXRlPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcyxpPW51bGw7aWYocih0LnRlbXBsYXRlKSlpPXRoaXMubm9ybWFsaXplVGVtcGxhdGVTeW5jKHQpLGU9UHJvbWlzZS5yZXNvbHZlKGkpO2Vsc2V7aWYoIXQudGVtcGxhdGVVcmwpdGhyb3cgbmV3IGNzKFwiTm8gdGVtcGxhdGUgc3BlY2lmaWVkIGZvciBjb21wb25lbnQgXCIrcyh0LmNvbXBvbmVudFR5cGUpKTtlPXRoaXMubm9ybWFsaXplVGVtcGxhdGVBc3luYyh0KX1yZXR1cm4gaSYmMD09PWkuc3R5bGVVcmxzLmxlbmd0aD9uZXcgdXMoaSk6bmV3IHVzKG51bGwsZS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuLm5vcm1hbGl6ZUV4dGVybmFsU3R5bGVzaGVldHModCl9KSl9LHQucHJvdG90eXBlLm5vcm1hbGl6ZVRlbXBsYXRlU3luYz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ub3JtYWxpemVMb2FkZWRUZW1wbGF0ZSh0LHQudGVtcGxhdGUsdC5tb2R1bGVVcmwpfSx0LnByb3RvdHlwZS5ub3JtYWxpemVUZW1wbGF0ZUFzeW5jPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLl91cmxSZXNvbHZlci5yZXNvbHZlKHQubW9kdWxlVXJsLHQudGVtcGxhdGVVcmwpO3JldHVybiB0aGlzLl9mZXRjaChuKS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiBlLm5vcm1hbGl6ZUxvYWRlZFRlbXBsYXRlKHQscixuKX0pfSx0LnByb3RvdHlwZS5ub3JtYWxpemVMb2FkZWRUZW1wbGF0ZT1mdW5jdGlvbih0LG4scil7dmFyIG89TmEuZnJvbUFycmF5KHQuaW50ZXJwb2xhdGlvbiksYT10aGlzLl9odG1sUGFyc2VyLnBhcnNlKG4scyh0LmNvbXBvbmVudFR5cGUpLCEwLG8pO2lmKGEuZXJyb3JzLmxlbmd0aD4wKXt2YXIgdT1hLmVycm9ycy5qb2luKFwiXFxuXCIpO3Rocm93IG5ldyBjcyhcIlRlbXBsYXRlIHBhcnNlIGVycm9yczpcXG5cIit1KX12YXIgYz10aGlzLm5vcm1hbGl6ZVN0eWxlc2hlZXQobmV3IHhzKHtzdHlsZXM6dC5zdHlsZXMsc3R5bGVVcmxzOnQuc3R5bGVVcmxzLG1vZHVsZVVybDp0Lm1vZHVsZVVybH0pKSxsPW5ldyBtaDskKGwsYS5yb290Tm9kZXMpO3ZhciBwPXRoaXMubm9ybWFsaXplU3R5bGVzaGVldChuZXcgeHMoe3N0eWxlczpsLnN0eWxlcyxzdHlsZVVybHM6bC5zdHlsZVVybHMsbW9kdWxlVXJsOnJ9KSksaD10LmVuY2Fwc3VsYXRpb247aShoKSYmKGg9dGhpcy5fY29uZmlnLmRlZmF1bHRFbmNhcHN1bGF0aW9uKTt2YXIgZj1jLnN0eWxlcy5jb25jYXQocC5zdHlsZXMpLGQ9Yy5zdHlsZVVybHMuY29uY2F0KHAuc3R5bGVVcmxzKTtyZXR1cm4gaD09PWUuVmlld0VuY2Fwc3VsYXRpb24uRW11bGF0ZWQmJjA9PT1mLmxlbmd0aCYmMD09PWQubGVuZ3RoJiYoaD1lLlZpZXdFbmNhcHN1bGF0aW9uLk5vbmUpLG5ldyBQcyh7ZW5jYXBzdWxhdGlvbjpoLHRlbXBsYXRlOm4sdGVtcGxhdGVVcmw6cixzdHlsZXM6ZixzdHlsZVVybHM6ZCxuZ0NvbnRlbnRTZWxlY3RvcnM6bC5uZ0NvbnRlbnRTZWxlY3RvcnMsYW5pbWF0aW9uczp0LmFuaW1hdGlvbnMsaW50ZXJwb2xhdGlvbjp0LmludGVycG9sYXRpb259KX0sdC5wcm90b3R5cGUubm9ybWFsaXplRXh0ZXJuYWxTdHlsZXNoZWV0cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbG9hZE1pc3NpbmdFeHRlcm5hbFN0eWxlc2hlZXRzKHQuc3R5bGVVcmxzKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHMoe2VuY2Fwc3VsYXRpb246dC5lbmNhcHN1bGF0aW9uLHRlbXBsYXRlOnQudGVtcGxhdGUsdGVtcGxhdGVVcmw6dC50ZW1wbGF0ZVVybCxzdHlsZXM6dC5zdHlsZXMsc3R5bGVVcmxzOnQuc3R5bGVVcmxzLGV4dGVybmFsU3R5bGVzaGVldHM6ZSxuZ0NvbnRlbnRTZWxlY3RvcnM6dC5uZ0NvbnRlbnRTZWxlY3RvcnMsYW5pbWF0aW9uczp0LmFuaW1hdGlvbnMsaW50ZXJwb2xhdGlvbjp0LmludGVycG9sYXRpb259KX0pfSx0LnByb3RvdHlwZS5fbG9hZE1pc3NpbmdFeHRlcm5hbFN0eWxlc2hlZXRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bmV3IE1hcCksUHJvbWlzZS5hbGwodC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIWUuaGFzKHQpfSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuLl9mZXRjaCh0KS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBpPW4ubm9ybWFsaXplU3R5bGVzaGVldChuZXcgeHMoe3N0eWxlczpbcl0sbW9kdWxlVXJsOnR9KSk7cmV0dXJuIGUuc2V0KHQsaSksbi5fbG9hZE1pc3NpbmdFeHRlcm5hbFN0eWxlc2hlZXRzKGkuc3R5bGVVcmxzLGUpfSl9KSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuZnJvbShlLnZhbHVlcygpKX0pfSx0LnByb3RvdHlwZS5ub3JtYWxpemVTdHlsZXNoZWV0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnN0eWxlVXJscy5maWx0ZXIobGUpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gZS5fdXJsUmVzb2x2ZXIucmVzb2x2ZSh0Lm1vZHVsZVVybCxuKX0pLHI9dC5zdHlsZXMubWFwKGZ1bmN0aW9uKHIpe3ZhciBpPXBlKGUuX3VybFJlc29sdmVyLHQubW9kdWxlVXJsLHIpO3JldHVybiBuLnB1c2guYXBwbHkobixpLnN0eWxlVXJscyksaS5zdHlsZX0pO3JldHVybiBuZXcgeHMoe3N0eWxlczpyLHN0eWxlVXJsczpuLG1vZHVsZVVybDp0Lm1vZHVsZVVybH0pfSx0PWZoKFtNKCksZGgoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtzaCxsaCxwbCxScF0pXSx0KX0oKSxtaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLm5nQ29udGVudFNlbGVjdG9ycz1bXSx0aGlzLnN0eWxlcz1bXSx0aGlzLnN0eWxlVXJscz1bXSx0aGlzLm5nTm9uQmluZGFibGVTdGFja0NvdW50PTB9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0RWxlbWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPWRlKHQpO3N3aXRjaChuLnR5cGUpe2Nhc2UgZXAuTkdfQ09OVEVOVDowPT09dGhpcy5uZ05vbkJpbmRhYmxlU3RhY2tDb3VudCYmdGhpcy5uZ0NvbnRlbnRTZWxlY3RvcnMucHVzaChuLnNlbGVjdEF0dHIpO2JyZWFrO2Nhc2UgZXAuU1RZTEU6dmFyIHI9XCJcIjt0LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIEF1JiYocis9dC52YWx1ZSl9KSx0aGlzLnN0eWxlcy5wdXNoKHIpO2JyZWFrO2Nhc2UgZXAuU1RZTEVTSEVFVDp0aGlzLnN0eWxlVXJscy5wdXNoKG4uaHJlZkF0dHIpfXJldHVybiBuLm5vbkJpbmRhYmxlJiZ0aGlzLm5nTm9uQmluZGFibGVTdGFja0NvdW50KyssJCh0aGlzLHQuY2hpbGRyZW4pLG4ubm9uQmluZGFibGUmJnRoaXMubmdOb25CaW5kYWJsZVN0YWNrQ291bnQtLSxudWxsfSx0LnByb3RvdHlwZS52aXNpdEV4cGFuc2lvbj1mdW5jdGlvbih0LGUpeyQodGhpcyx0LmNhc2VzKX0sdC5wcm90b3R5cGUudmlzaXRFeHBhbnNpb25DYXNlPWZ1bmN0aW9uKHQsZSl7JCh0aGlzLHQuZXhwcmVzc2lvbil9LHQucHJvdG90eXBlLnZpc2l0Q29tbWVudD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS52aXNpdEF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS52aXNpdFRleHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0sdH0oKSx2aD10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSxnaD10aGlzJiZ0aGlzLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sX2g9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZvaWQgMD09PXQmJih0PU9vKSx0aGlzLl9yZWZsZWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUuaXNEaXJlY3RpdmU9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5fcmVmbGVjdG9yLmFubm90YXRpb25zKGUucmVzb2x2ZUZvcndhcmRSZWYodCkpO3JldHVybiBuJiZuLnNvbWUocWUpfSx0LnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQsbil7dm9pZCAwPT09biYmKG49ITApO3ZhciByPXRoaXMuX3JlZmxlY3Rvci5hbm5vdGF0aW9ucyhlLnJlc29sdmVGb3J3YXJkUmVmKHQpKTtpZihyKXt2YXIgaT1pby5maW5kTGFzdChyLHFlKTtpZihpKXt2YXIgbz10aGlzLl9yZWZsZWN0b3IucHJvcE1ldGFkYXRhKHQpO3JldHVybiB0aGlzLl9tZXJnZVdpdGhQcm9wZXJ0eU1ldGFkYXRhKGksbyx0KX19aWYobil0aHJvdyBuZXcgRXJyb3IoXCJObyBEaXJlY3RpdmUgYW5ub3RhdGlvbiBmb3VuZCBvbiBcIitzKHQpKTtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuX21lcmdlV2l0aFByb3BlcnR5TWV0YWRhdGE9ZnVuY3Rpb24odCxuLHIpe3ZhciBpPVtdLG89W10scz17fSxhPXt9O3JldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPWlvLmZpbmRMYXN0KG5bdF0sZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlLklucHV0fSk7ciYmKHIuYmluZGluZ1Byb3BlcnR5TmFtZT9pLnB1c2godCtcIjogXCIrci5iaW5kaW5nUHJvcGVydHlOYW1lKTppLnB1c2godCkpO3ZhciB1PWlvLmZpbmRMYXN0KG5bdF0sZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlLk91dHB1dH0pO3UmJih1LmJpbmRpbmdQcm9wZXJ0eU5hbWU/by5wdXNoKHQrXCI6IFwiK3UuYmluZGluZ1Byb3BlcnR5TmFtZSk6by5wdXNoKHQpKTt2YXIgYz1uW3RdLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCYmdCBpbnN0YW5jZW9mIGUuSG9zdEJpbmRpbmd9KTtjLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoZS5ob3N0UHJvcGVydHlOYW1lKXt2YXIgbj1lLmhvc3RQcm9wZXJ0eU5hbWVbMF07aWYoXCIoXCI9PT1uKXRocm93IG5ldyBFcnJvcihcIkBIb3N0QmluZGluZyBjYW4gbm90IGJpbmQgdG8gZXZlbnRzLiBVc2UgQEhvc3RMaXN0ZW5lciBpbnN0ZWFkLlwiKTtpZihcIltcIj09PW4pdGhyb3cgbmV3IEVycm9yKFwiQEhvc3RCaW5kaW5nIHBhcmFtZXRlciBzaG91bGQgYmUgYSBwcm9wZXJ0eSBuYW1lLCAnY2xhc3MuPG5hbWU+Jywgb3IgJ2F0dHIuPG5hbWU+Jy5cIik7c1tcIltcIitlLmhvc3RQcm9wZXJ0eU5hbWUrXCJdXCJdPXR9ZWxzZSBzW1wiW1wiK3QrXCJdXCJdPXR9KTt2YXIgbD1uW3RdLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCYmdCBpbnN0YW5jZW9mIGUuSG9zdExpc3RlbmVyfSk7bC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPWUuYXJnc3x8W107c1tcIihcIitlLmV2ZW50TmFtZStcIilcIl09dCtcIihcIituLmpvaW4oXCIsXCIpK1wiKVwifSk7dmFyIHA9aW8uZmluZExhc3Qoblt0XSxmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUuUXVlcnl9KTtwJiYoYVt0XT1wKX0pLHRoaXMuX21lcmdlKHQsaSxvLHMsYSxyKX0sdC5wcm90b3R5cGUuX2V4dHJhY3RQdWJsaWNOYW1lPWZ1bmN0aW9uKHQpe3JldHVybiB5KHQsW251bGwsdF0pWzFdLnRyaW0oKX0sdC5wcm90b3R5cGUuX2RlZHVwZUJpbmRpbmdzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgU2V0LG49W10scj10Lmxlbmd0aC0xO3I+PTA7ci0tKXt2YXIgaT10W3JdLG89dGhpcy5fZXh0cmFjdFB1YmxpY05hbWUoaSk7ZS5oYXMobyl8fChlLmFkZChvKSxuLnB1c2goaSkpfXJldHVybiBuLnJldmVyc2UoKX0sdC5wcm90b3R5cGUuX21lcmdlPWZ1bmN0aW9uKHQsbixyLGksbyxzKXt2YXIgYT10aGlzLl9kZWR1cGVCaW5kaW5ncyh0LmlucHV0cz90LmlucHV0cy5jb25jYXQobik6biksdT10aGlzLl9kZWR1cGVCaW5kaW5ncyh0Lm91dHB1dHM/dC5vdXRwdXRzLmNvbmNhdChyKTpyKSxjPXQuaG9zdD9yby5tZXJnZSh0Lmhvc3QsaSk6aSxsPXQucXVlcmllcz9yby5tZXJnZSh0LnF1ZXJpZXMsbyk6bztyZXR1cm4gdCBpbnN0YW5jZW9mIGUuQ29tcG9uZW50P25ldyBlLkNvbXBvbmVudCh7c2VsZWN0b3I6dC5zZWxlY3RvcixpbnB1dHM6YSxvdXRwdXRzOnUsaG9zdDpjLGV4cG9ydEFzOnQuZXhwb3J0QXMsbW9kdWxlSWQ6dC5tb2R1bGVJZCxxdWVyaWVzOmwsY2hhbmdlRGV0ZWN0aW9uOnQuY2hhbmdlRGV0ZWN0aW9uLHByb3ZpZGVyczp0LnByb3ZpZGVycyx2aWV3UHJvdmlkZXJzOnQudmlld1Byb3ZpZGVycyxlbnRyeUNvbXBvbmVudHM6dC5lbnRyeUNvbXBvbmVudHMsdGVtcGxhdGU6dC50ZW1wbGF0ZSx0ZW1wbGF0ZVVybDp0LnRlbXBsYXRlVXJsLHN0eWxlczp0LnN0eWxlcyxzdHlsZVVybHM6dC5zdHlsZVVybHMsZW5jYXBzdWxhdGlvbjp0LmVuY2Fwc3VsYXRpb24sYW5pbWF0aW9uczp0LmFuaW1hdGlvbnMsaW50ZXJwb2xhdGlvbjp0LmludGVycG9sYXRpb259KTpuZXcgZS5EaXJlY3RpdmUoe3NlbGVjdG9yOnQuc2VsZWN0b3IsaW5wdXRzOmEsb3V0cHV0czp1LGhvc3Q6YyxleHBvcnRBczp0LmV4cG9ydEFzLHF1ZXJpZXM6bCxwcm92aWRlcnM6dC5wcm92aWRlcnN9KX0sdD12aChbTSgpLGdoKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbY29dKV0sdCl9KCksYmg9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LHdoPXt9O3doLkNvbnN0PTAsd2hbd2guQ29uc3RdPVwiQ29uc3RcIjt2YXIgQ2g9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZvaWQgMD09PXQmJih0PW51bGwpLHRoaXMubW9kaWZpZXJzPXQsdHx8KHRoaXMubW9kaWZpZXJzPVtdKX1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXRUeXBlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5oYXNNb2RpZmllcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tb2RpZmllcnMuaW5kZXhPZih0KSE9PS0xfSx0fSgpLEVoPXt9O0VoLkR5bmFtaWM9MCxFaC5Cb29sPTEsRWguU3RyaW5nPTIsRWguSW50PTMsRWguTnVtYmVyPTQsRWguRnVuY3Rpb249NSxFaC5OdWxsPTYsRWhbRWguRHluYW1pY109XCJEeW5hbWljXCIsRWhbRWguQm9vbF09XCJCb29sXCIsRWhbRWguU3RyaW5nXT1cIlN0cmluZ1wiLEVoW0VoLkludF09XCJJbnRcIixFaFtFaC5OdW1iZXJdPVwiTnVtYmVyXCIsRWhbRWguRnVuY3Rpb25dPVwiRnVuY3Rpb25cIixFaFtFaC5OdWxsXT1cIk51bGxcIjt2YXIgU2g9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpLHQuY2FsbCh0aGlzLG4pLHRoaXMubmFtZT1lfXJldHVybiBiaChlLHQpLGUucHJvdG90eXBlLnZpc2l0VHlwZT1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0QnVpbHRpbnRUeXBlKHRoaXMsZSl9LGV9KENoKSx4aD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt2b2lkIDA9PT1uJiYobj1udWxsKSx2b2lkIDA9PT1yJiYocj1udWxsKSx0LmNhbGwodGhpcyxyKSx0aGlzLnZhbHVlPWUsdGhpcy50eXBlUGFyYW1zPW59cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRUeXBlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRFeHByZXNzaW9uVHlwZSh0aGlzLGUpfSxlfShDaCksUGg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpLHQuY2FsbCh0aGlzLG4pLHRoaXMub2Y9ZX1yZXR1cm4gYmgoZSx0KSxlLnByb3RvdHlwZS52aXNpdFR5cGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdEFycmF5VHlwZSh0aGlzLGUpfSxlfShDaCksT2g9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpLHQuY2FsbCh0aGlzLG4pLHRoaXMudmFsdWVUeXBlPWV9cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRUeXBlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRNYXBUeXBlKHRoaXMsZSl9LGV9KENoKSxUaD1uZXcgU2goRWguRHluYW1pYyksQWg9bmV3IFNoKEVoLkJvb2wpLE1oPShuZXcgU2goRWguSW50KSxuZXcgU2goRWguTnVtYmVyKSksa2g9bmV3IFNoKEVoLlN0cmluZyksUmg9bmV3IFNoKEVoLkZ1bmN0aW9uKSxJaD1uZXcgU2goRWguTnVsbCksTmg9e307TmguRXF1YWxzPTAsTmguTm90RXF1YWxzPTEsXG5OaC5JZGVudGljYWw9MixOaC5Ob3RJZGVudGljYWw9MyxOaC5NaW51cz00LE5oLlBsdXM9NSxOaC5EaXZpZGU9NixOaC5NdWx0aXBseT03LE5oLk1vZHVsbz04LE5oLkFuZD05LE5oLk9yPTEwLE5oLkxvd2VyPTExLE5oLkxvd2VyRXF1YWxzPTEyLE5oLkJpZ2dlcj0xMyxOaC5CaWdnZXJFcXVhbHM9MTQsTmhbTmguRXF1YWxzXT1cIkVxdWFsc1wiLE5oW05oLk5vdEVxdWFsc109XCJOb3RFcXVhbHNcIixOaFtOaC5JZGVudGljYWxdPVwiSWRlbnRpY2FsXCIsTmhbTmguTm90SWRlbnRpY2FsXT1cIk5vdElkZW50aWNhbFwiLE5oW05oLk1pbnVzXT1cIk1pbnVzXCIsTmhbTmguUGx1c109XCJQbHVzXCIsTmhbTmguRGl2aWRlXT1cIkRpdmlkZVwiLE5oW05oLk11bHRpcGx5XT1cIk11bHRpcGx5XCIsTmhbTmguTW9kdWxvXT1cIk1vZHVsb1wiLE5oW05oLkFuZF09XCJBbmRcIixOaFtOaC5Pcl09XCJPclwiLE5oW05oLkxvd2VyXT1cIkxvd2VyXCIsTmhbTmguTG93ZXJFcXVhbHNdPVwiTG93ZXJFcXVhbHNcIixOaFtOaC5CaWdnZXJdPVwiQmlnZ2VyXCIsTmhbTmguQmlnZ2VyRXF1YWxzXT1cIkJpZ2dlckVxdWFsc1wiO3ZhciBEaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy50eXBlPXR9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvbj1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUucHJvcD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEpoKHRoaXMsdCl9LHQucHJvdG90eXBlLmtleT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSxuZXcgdGYodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5jYWxsTWV0aG9kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBCaCh0aGlzLHQsZSl9LHQucHJvdG90eXBlLmNhbGxGbj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHFoKHRoaXMsdCl9LHQucHJvdG90eXBlLmluc3RhbnRpYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLG5ldyB6aCh0aGlzLHQsZSl9LHQucHJvdG90eXBlLmNvbmRpdGlvbmFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLG5ldyBYaCh0aGlzLHQsZSl9LHQucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFpoKE5oLkVxdWFscyx0aGlzLHQpfSx0LnByb3RvdHlwZS5ub3RFcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBaaChOaC5Ob3RFcXVhbHMsdGhpcyx0KX0sdC5wcm90b3R5cGUuaWRlbnRpY2FsPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWmgoTmguSWRlbnRpY2FsLHRoaXMsdCl9LHQucHJvdG90eXBlLm5vdElkZW50aWNhbD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFpoKE5oLk5vdElkZW50aWNhbCx0aGlzLHQpfSx0LnByb3RvdHlwZS5taW51cz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFpoKE5oLk1pbnVzLHRoaXMsdCl9LHQucHJvdG90eXBlLnBsdXM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBaaChOaC5QbHVzLHRoaXMsdCl9LHQucHJvdG90eXBlLmRpdmlkZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFpoKE5oLkRpdmlkZSx0aGlzLHQpfSx0LnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFpoKE5oLk11bHRpcGx5LHRoaXMsdCl9LHQucHJvdG90eXBlLm1vZHVsbz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFpoKE5oLk1vZHVsbyx0aGlzLHQpfSx0LnByb3RvdHlwZS5hbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBaaChOaC5BbmQsdGhpcyx0KX0sdC5wcm90b3R5cGUub3I9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBaaChOaC5Pcix0aGlzLHQpfSx0LnByb3RvdHlwZS5sb3dlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFpoKE5oLkxvd2VyLHRoaXMsdCl9LHQucHJvdG90eXBlLmxvd2VyRXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWmgoTmguTG93ZXJFcXVhbHMsdGhpcyx0KX0sdC5wcm90b3R5cGUuYmlnZ2VyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWmgoTmguQmlnZ2VyLHRoaXMsdCl9LHQucHJvdG90eXBlLmJpZ2dlckVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFpoKE5oLkJpZ2dlckVxdWFscyx0aGlzLHQpfSx0LnByb3RvdHlwZS5pc0JsYW5rPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXF1YWxzKHVmKX0sdC5wcm90b3R5cGUuY2FzdD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFFoKHRoaXMsdCl9LHQucHJvdG90eXBlLnRvU3RtdD1mdW5jdGlvbigpe3JldHVybiBuZXcgZmYodGhpcyl9LHR9KCksamg9e307amguVGhpcz0wLGpoLlN1cGVyPTEsamguQ2F0Y2hFcnJvcj0yLGpoLkNhdGNoU3RhY2s9MyxqaFtqaC5UaGlzXT1cIlRoaXNcIixqaFtqaC5TdXBlcl09XCJTdXBlclwiLGpoW2poLkNhdGNoRXJyb3JdPVwiQ2F0Y2hFcnJvclwiLGpoW2poLkNhdGNoU3RhY2tdPVwiQ2F0Y2hTdGFja1wiO3ZhciBWaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dm9pZCAwPT09biYmKG49bnVsbCksdC5jYWxsKHRoaXMsbiksXCJzdHJpbmdcIj09dHlwZW9mIGU/KHRoaXMubmFtZT1lLHRoaXMuYnVpbHRpbj1udWxsKToodGhpcy5uYW1lPW51bGwsdGhpcy5idWlsdGluPWUpfXJldHVybiBiaChlLHQpLGUucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0UmVhZFZhckV4cHIodGhpcyxlKX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTGgodGhpcy5uYW1lLHQpfSxlfShEaCksTGg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dm9pZCAwPT09ciYmKHI9bnVsbCksdC5jYWxsKHRoaXMscnx8bi50eXBlKSx0aGlzLm5hbWU9ZSx0aGlzLnZhbHVlPW59cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRXcml0ZVZhckV4cHIodGhpcyxlKX0sZS5wcm90b3R5cGUudG9EZWNsU3RtdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx2b2lkIDA9PT1lJiYoZT1udWxsKSxuZXcgcGYodGhpcy5uYW1lLHRoaXMudmFsdWUsdCxlKX0sZX0oRGgpLEZoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsaSl7dm9pZCAwPT09aSYmKGk9bnVsbCksdC5jYWxsKHRoaXMsaXx8ci50eXBlKSx0aGlzLnJlY2VpdmVyPWUsdGhpcy5pbmRleD1uLHRoaXMudmFsdWU9cn1yZXR1cm4gYmgoZSx0KSxlLnByb3RvdHlwZS52aXNpdEV4cHJlc3Npb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdFdyaXRlS2V5RXhwcih0aGlzLGUpfSxlfShEaCksVWg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpKXt2b2lkIDA9PT1pJiYoaT1udWxsKSx0LmNhbGwodGhpcyxpfHxyLnR5cGUpLHRoaXMucmVjZWl2ZXI9ZSx0aGlzLm5hbWU9bix0aGlzLnZhbHVlPXJ9cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRXcml0ZVByb3BFeHByKHRoaXMsZSl9LGV9KERoKSxIaD17fTtIaC5Db25jYXRBcnJheT0wLEhoLlN1YnNjcmliZU9ic2VydmFibGU9MSxIaC5CaW5kPTIsSGhbSGguQ29uY2F0QXJyYXldPVwiQ29uY2F0QXJyYXlcIixIaFtIaC5TdWJzY3JpYmVPYnNlcnZhYmxlXT1cIlN1YnNjcmliZU9ic2VydmFibGVcIixIaFtIaC5CaW5kXT1cIkJpbmRcIjt2YXIgQmg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpKXt2b2lkIDA9PT1pJiYoaT1udWxsKSx0LmNhbGwodGhpcyxpKSx0aGlzLnJlY2VpdmVyPWUsdGhpcy5hcmdzPXIsXCJzdHJpbmdcIj09dHlwZW9mIG4/KHRoaXMubmFtZT1uLHRoaXMuYnVpbHRpbj1udWxsKToodGhpcy5uYW1lPW51bGwsdGhpcy5idWlsdGluPW4pfXJldHVybiBiaChlLHQpLGUucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0SW52b2tlTWV0aG9kRXhwcih0aGlzLGUpfSxlfShEaCkscWg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dm9pZCAwPT09ciYmKHI9bnVsbCksdC5jYWxsKHRoaXMsciksdGhpcy5mbj1lLHRoaXMuYXJncz1ufXJldHVybiBiaChlLHQpLGUucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0SW52b2tlRnVuY3Rpb25FeHByKHRoaXMsZSl9LGV9KERoKSx6aD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyxyKSx0aGlzLmNsYXNzRXhwcj1lLHRoaXMuYXJncz1ufXJldHVybiBiaChlLHQpLGUucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0SW5zdGFudGlhdGVFeHByKHRoaXMsZSl9LGV9KERoKSxXaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dm9pZCAwPT09biYmKG49bnVsbCksdC5jYWxsKHRoaXMsbiksdGhpcy52YWx1ZT1lfXJldHVybiBiaChlLHQpLGUucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0TGl0ZXJhbEV4cHIodGhpcyxlKX0sZX0oRGgpLEdoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3ZvaWQgMD09PW4mJihuPW51bGwpLHZvaWQgMD09PXImJihyPW51bGwpLHQuY2FsbCh0aGlzLG4pLHRoaXMudmFsdWU9ZSx0aGlzLnR5cGVQYXJhbXM9cn1yZXR1cm4gYmgoZSx0KSxlLnByb3RvdHlwZS52aXNpdEV4cHJlc3Npb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdEV4dGVybmFsRXhwcih0aGlzLGUpfSxlfShEaCksWGg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpKXt2b2lkIDA9PT1yJiYocj1udWxsKSx2b2lkIDA9PT1pJiYoaT1udWxsKSx0LmNhbGwodGhpcyxpfHxuLnR5cGUpLHRoaXMuY29uZGl0aW9uPWUsdGhpcy5mYWxzZUNhc2U9cix0aGlzLnRydWVDYXNlPW59cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRDb25kaXRpb25hbEV4cHIodGhpcyxlKX0sZX0oRGgpLCRoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsQWgpLHRoaXMuY29uZGl0aW9uPWV9cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXROb3RFeHByKHRoaXMsZSl9LGV9KERoKSxRaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMsbiksdGhpcy52YWx1ZT1lfXJldHVybiBiaChlLHQpLGUucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0Q2FzdEV4cHIodGhpcyxlKX0sZX0oRGgpLFloPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPW51bGwpLHRoaXMubmFtZT10LHRoaXMudHlwZT1lfXJldHVybiB0fSgpLEtoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3ZvaWQgMD09PXImJihyPW51bGwpLHQuY2FsbCh0aGlzLHIpLHRoaXMucGFyYW1zPWUsdGhpcy5zdGF0ZW1lbnRzPW59cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRGdW5jdGlvbkV4cHIodGhpcyxlKX0sZS5wcm90b3R5cGUudG9EZWNsU3RtdD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSxuZXcgaGYodCx0aGlzLnBhcmFtcyx0aGlzLnN0YXRlbWVudHMsdGhpcy50eXBlLGUpfSxlfShEaCksWmg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpKXt2b2lkIDA9PT1pJiYoaT1udWxsKSx0LmNhbGwodGhpcyxpfHxuLnR5cGUpLHRoaXMub3BlcmF0b3I9ZSx0aGlzLnJocz1yLHRoaXMubGhzPW59cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRCaW5hcnlPcGVyYXRvckV4cHIodGhpcyxlKX0sZX0oRGgpLEpoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3ZvaWQgMD09PXImJihyPW51bGwpLHQuY2FsbCh0aGlzLHIpLHRoaXMucmVjZWl2ZXI9ZSx0aGlzLm5hbWU9bn1yZXR1cm4gYmgoZSx0KSxlLnByb3RvdHlwZS52aXNpdEV4cHJlc3Npb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdFJlYWRQcm9wRXhwcih0aGlzLGUpfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBVaCh0aGlzLnJlY2VpdmVyLHRoaXMubmFtZSx0KX0sZX0oRGgpLHRmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3ZvaWQgMD09PXImJihyPW51bGwpLHQuY2FsbCh0aGlzLHIpLHRoaXMucmVjZWl2ZXI9ZSx0aGlzLmluZGV4PW59cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRSZWFkS2V5RXhwcih0aGlzLGUpfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBGaCh0aGlzLnJlY2VpdmVyLHRoaXMuaW5kZXgsdCl9LGV9KERoKSxlZj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dm9pZCAwPT09biYmKG49bnVsbCksdC5jYWxsKHRoaXMsbiksdGhpcy5lbnRyaWVzPWV9cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRMaXRlcmFsQXJyYXlFeHByKHRoaXMsZSl9LGV9KERoKSxuZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3ZvaWQgMD09PW4mJihuPSExKSx0aGlzLmtleT10LHRoaXMudmFsdWU9ZSx0aGlzLnF1b3RlZD1ufXJldHVybiB0fSgpLHJmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2b2lkIDA9PT1uJiYobj1udWxsKSx0LmNhbGwodGhpcyxuKSx0aGlzLmVudHJpZXM9ZSx0aGlzLnZhbHVlVHlwZT1udWxsLHIobikmJih0aGlzLnZhbHVlVHlwZT1uLnZhbHVlVHlwZSl9cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRMaXRlcmFsTWFwRXhwcih0aGlzLGUpfSxlfShEaCksb2Y9bmV3IFZoKGpoLlRoaXMpLHNmPW5ldyBWaChqaC5TdXBlciksYWY9KG5ldyBWaChqaC5DYXRjaEVycm9yKSxuZXcgVmgoamguQ2F0Y2hTdGFjayksbmV3IFdoKG51bGwsbnVsbCkpLHVmPW5ldyBXaChudWxsLEloKSxjZj17fTtjZi5GaW5hbD0wLGNmLlByaXZhdGU9MSxjZltjZi5GaW5hbF09XCJGaW5hbFwiLGNmW2NmLlByaXZhdGVdPVwiUHJpdmF0ZVwiO3ZhciBsZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dm9pZCAwPT09dCYmKHQ9bnVsbCksdGhpcy5tb2RpZmllcnM9dCx0fHwodGhpcy5tb2RpZmllcnM9W10pfXJldHVybiB0LnByb3RvdHlwZS52aXNpdFN0YXRlbWVudD1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuaGFzTW9kaWZpZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubW9kaWZpZXJzLmluZGV4T2YodCkhPT0tMX0sdH0oKSxwZj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGkpe3ZvaWQgMD09PXImJihyPW51bGwpLHZvaWQgMD09PWkmJihpPW51bGwpLHQuY2FsbCh0aGlzLGkpLHRoaXMubmFtZT1lLHRoaXMudmFsdWU9bix0aGlzLnR5cGU9cnx8bi50eXBlfXJldHVybiBiaChlLHQpLGUucHJvdG90eXBlLnZpc2l0U3RhdGVtZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXREZWNsYXJlVmFyU3RtdCh0aGlzLGUpfSxlfShsZiksaGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpLG8pe3ZvaWQgMD09PWkmJihpPW51bGwpLHZvaWQgMD09PW8mJihvPW51bGwpLHQuY2FsbCh0aGlzLG8pLHRoaXMubmFtZT1lLHRoaXMucGFyYW1zPW4sdGhpcy5zdGF0ZW1lbnRzPXIsdGhpcy50eXBlPWl9cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRTdGF0ZW1lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdERlY2xhcmVGdW5jdGlvblN0bXQodGhpcyxlKX0sZX0obGYpLGZmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMpLHRoaXMuZXhwcj1lfXJldHVybiBiaChlLHQpLGUucHJvdG90eXBlLnZpc2l0U3RhdGVtZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRFeHByZXNzaW9uU3RtdCh0aGlzLGUpfSxlfShsZiksZGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyksdGhpcy52YWx1ZT1lfXJldHVybiBiaChlLHQpLGUucHJvdG90eXBlLnZpc2l0U3RhdGVtZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmlzaXRSZXR1cm5TdG10KHRoaXMsZSl9LGV9KGxmKSx5Zj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT10JiYodD1udWxsKSx0aGlzLnR5cGU9dCx0aGlzLm1vZGlmaWVycz1lLGV8fCh0aGlzLm1vZGlmaWVycz1bXSl9cmV0dXJuIHQucHJvdG90eXBlLmhhc01vZGlmaWVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm1vZGlmaWVycy5pbmRleE9mKHQpIT09LTF9LHR9KCksbWY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dm9pZCAwPT09biYmKG49bnVsbCksdm9pZCAwPT09ciYmKHI9bnVsbCksdC5jYWxsKHRoaXMsbixyKSx0aGlzLm5hbWU9ZX1yZXR1cm4gYmgoZSx0KSxlfSh5ZiksdmY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpLG8pe3ZvaWQgMD09PWkmJihpPW51bGwpLHZvaWQgMD09PW8mJihvPW51bGwpLHQuY2FsbCh0aGlzLGksbyksdGhpcy5uYW1lPWUsdGhpcy5wYXJhbXM9bix0aGlzLmJvZHk9cn1yZXR1cm4gYmgoZSx0KSxlfSh5ZiksZ2Y9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpKXt2b2lkIDA9PT1yJiYocj1udWxsKSx2b2lkIDA9PT1pJiYoaT1udWxsKSx0LmNhbGwodGhpcyxyLGkpLHRoaXMubmFtZT1lLHRoaXMuYm9keT1ufXJldHVybiBiaChlLHQpLGV9KHlmKSxfZj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGksbyxzLGEpe3ZvaWQgMD09PWEmJihhPW51bGwpLHQuY2FsbCh0aGlzLGEpLHRoaXMubmFtZT1lLHRoaXMucGFyZW50PW4sdGhpcy5maWVsZHM9cix0aGlzLmdldHRlcnM9aSx0aGlzLmNvbnN0cnVjdG9yTWV0aG9kPW8sdGhpcy5tZXRob2RzPXN9cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRTdGF0ZW1lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdERlY2xhcmVDbGFzc1N0bXQodGhpcyxlKX0sZX0obGYpLGJmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3ZvaWQgMD09PXImJihyPVtdKSx0LmNhbGwodGhpcyksdGhpcy5jb25kaXRpb249ZSx0aGlzLnRydWVDYXNlPW4sdGhpcy5mYWxzZUNhc2U9cn1yZXR1cm4gYmgoZSx0KSxlLnByb3RvdHlwZS52aXNpdFN0YXRlbWVudD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0SWZTdG10KHRoaXMsZSl9LGV9KGxmKSx3Zj0oZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyksdGhpcy5jb21tZW50PWV9cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRTdGF0ZW1lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdENvbW1lbnRTdG10KHRoaXMsZSl9LGV9KGxmKSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMpLHRoaXMuYm9keVN0bXRzPWUsdGhpcy5jYXRjaFN0bXRzPW59cmV0dXJuIGJoKGUsdCksZS5wcm90b3R5cGUudmlzaXRTdGF0ZW1lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52aXNpdFRyeUNhdGNoU3RtdCh0aGlzLGUpfSxlfShsZikpLENmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMpLHRoaXMuZXJyb3I9ZX1yZXR1cm4gYmgoZSx0KSxlLnByb3RvdHlwZS52aXNpdFN0YXRlbWVudD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZpc2l0VGhyb3dTdG10KHRoaXMsZSl9LGV9KGxmKSxFZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0UmVhZFZhckV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sdC5wcm90b3R5cGUudmlzaXRXcml0ZVZhckV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IExoKHQubmFtZSx0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpKX0sdC5wcm90b3R5cGUudmlzaXRXcml0ZUtleUV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IEZoKHQucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdC5pbmRleC52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpKX0sdC5wcm90b3R5cGUudmlzaXRXcml0ZVByb3BFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBVaCh0LnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLHQubmFtZSx0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpKX0sdC5wcm90b3R5cGUudmlzaXRJbnZva2VNZXRob2RFeHByPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5idWlsdGlufHx0Lm5hbWU7cmV0dXJuIG5ldyBCaCh0LnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLG4sdGhpcy52aXNpdEFsbEV4cHJlc3Npb25zKHQuYXJncyxlKSx0LnR5cGUpfSx0LnByb3RvdHlwZS52aXNpdEludm9rZUZ1bmN0aW9uRXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcWgodC5mbi52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0aGlzLnZpc2l0QWxsRXhwcmVzc2lvbnModC5hcmdzLGUpLHQudHlwZSl9LHQucHJvdG90eXBlLnZpc2l0SW5zdGFudGlhdGVFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB6aCh0LmNsYXNzRXhwci52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0aGlzLnZpc2l0QWxsRXhwcmVzc2lvbnModC5hcmdzLGUpLHQudHlwZSl9LHQucHJvdG90eXBlLnZpc2l0TGl0ZXJhbEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sdC5wcm90b3R5cGUudmlzaXRFeHRlcm5hbEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sdC5wcm90b3R5cGUudmlzaXRDb25kaXRpb25hbEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFhoKHQuY29uZGl0aW9uLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLHQudHJ1ZUNhc2UudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdC5mYWxzZUNhc2UudmlzaXRFeHByZXNzaW9uKHRoaXMsZSkpfSx0LnByb3RvdHlwZS52aXNpdE5vdEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3ICRoKHQuY29uZGl0aW9uLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpKX0sdC5wcm90b3R5cGUudmlzaXRDYXN0RXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgUWgodC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcyxlKSxlKX0sdC5wcm90b3R5cGUudmlzaXRGdW5jdGlvbkV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sdC5wcm90b3R5cGUudmlzaXRCaW5hcnlPcGVyYXRvckV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFpoKHQub3BlcmF0b3IsdC5saHMudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdC5yaHMudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdC50eXBlKX0sdC5wcm90b3R5cGUudmlzaXRSZWFkUHJvcEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IEpoKHQucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdC5uYW1lLHQudHlwZSl9LHQucHJvdG90eXBlLnZpc2l0UmVhZEtleUV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHRmKHQucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdC5pbmRleC52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0LnR5cGUpfSx0LnByb3RvdHlwZS52aXNpdExpdGVyYWxBcnJheUV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGVmKHRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyh0LmVudHJpZXMsZSkpfSx0LnByb3RvdHlwZS52aXNpdExpdGVyYWxNYXBFeHByPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQuZW50cmllcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBuZih0LmtleSx0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbihuLGUpLHQucXVvdGVkKX0pO3JldHVybiBuZXcgcmYocil9LHQucHJvdG90eXBlLnZpc2l0QWxsRXhwcmVzc2lvbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdEV4cHJlc3Npb24obixlKX0pfSx0LnByb3RvdHlwZS52aXNpdERlY2xhcmVWYXJTdG10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBwZih0Lm5hbWUsdC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0LnR5cGUsdC5tb2RpZmllcnMpfSx0LnByb3RvdHlwZS52aXNpdERlY2xhcmVGdW5jdGlvblN0bXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sdC5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uU3RtdD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgZmYodC5leHByLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpKX0sdC5wcm90b3R5cGUudmlzaXRSZXR1cm5TdG10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBkZih0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpKX0sdC5wcm90b3R5cGUudmlzaXREZWNsYXJlQ2xhc3NTdG10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR9LHQucHJvdG90eXBlLnZpc2l0SWZTdG10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBiZih0LmNvbmRpdGlvbi52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyh0LnRydWVDYXNlLGUpLHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHQuZmFsc2VDYXNlLGUpKX0sdC5wcm90b3R5cGUudmlzaXRUcnlDYXRjaFN0bXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHdmKHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHQuYm9keVN0bXRzLGUpLHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHQuY2F0Y2hTdG10cyxlKSl9LHQucHJvdG90eXBlLnZpc2l0VGhyb3dTdG10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBDZih0LmVycm9yLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpKX0sdC5wcm90b3R5cGUudmlzaXRDb21tZW50U3RtdD1mdW5jdGlvbih0LGUpe3JldHVybiB0fSx0LnByb3RvdHlwZS52aXNpdEFsbFN0YXRlbWVudHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdFN0YXRlbWVudChuLGUpfSl9LHR9KCksU2Y9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS52aXNpdFJlYWRWYXJFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR9LHQucHJvdG90eXBlLnZpc2l0V3JpdGVWYXJFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdH0sdC5wcm90b3R5cGUudmlzaXRXcml0ZUtleUV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWNlaXZlci52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0LmluZGV4LnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLHQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdH0sdC5wcm90b3R5cGUudmlzaXRXcml0ZVByb3BFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0fSx0LnByb3RvdHlwZS52aXNpdEludm9rZU1ldGhvZEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWNlaXZlci52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0aGlzLnZpc2l0QWxsRXhwcmVzc2lvbnModC5hcmdzLGUpLHR9LHQucHJvdG90eXBlLnZpc2l0SW52b2tlRnVuY3Rpb25FeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZm4udmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdGhpcy52aXNpdEFsbEV4cHJlc3Npb25zKHQuYXJncyxlKSx0fSx0LnByb3RvdHlwZS52aXNpdEluc3RhbnRpYXRlRXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiB0LmNsYXNzRXhwci52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0aGlzLnZpc2l0QWxsRXhwcmVzc2lvbnModC5hcmdzLGUpLHR9LHQucHJvdG90eXBlLnZpc2l0TGl0ZXJhbEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sdC5wcm90b3R5cGUudmlzaXRFeHRlcm5hbEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sdC5wcm90b3R5cGUudmlzaXRDb25kaXRpb25hbEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb25kaXRpb24udmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdC50cnVlQ2FzZS52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0LmZhbHNlQ2FzZS52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0fSx0LnByb3RvdHlwZS52aXNpdE5vdEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb25kaXRpb24udmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdH0sdC5wcm90b3R5cGUudmlzaXRDYXN0RXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLHR9LHQucHJvdG90eXBlLnZpc2l0RnVuY3Rpb25FeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR9LHQucHJvdG90eXBlLnZpc2l0QmluYXJ5T3BlcmF0b3JFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGhzLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLHQucmhzLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLHR9LHQucHJvdG90eXBlLnZpc2l0UmVhZFByb3BFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdH0sdC5wcm90b3R5cGUudmlzaXRSZWFkS2V5RXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiB0LnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLHQuaW5kZXgudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdH0sdC5wcm90b3R5cGUudmlzaXRMaXRlcmFsQXJyYXlFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyh0LmVudHJpZXMsZSksdH0sdC5wcm90b3R5cGUudmlzaXRMaXRlcmFsTWFwRXhwcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHQuZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbihuLGUpfSksdH0sdC5wcm90b3R5cGUudmlzaXRBbGxFeHByZXNzaW9ucz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0RXhwcmVzc2lvbihuLGUpfSl9LHQucHJvdG90eXBlLnZpc2l0RGVjbGFyZVZhclN0bXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcyxlKSx0fSx0LnByb3RvdHlwZS52aXNpdERlY2xhcmVGdW5jdGlvblN0bXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sdC5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uU3RtdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmV4cHIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdH0sdC5wcm90b3R5cGUudmlzaXRSZXR1cm5TdG10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdH0sdC5wcm90b3R5cGUudmlzaXREZWNsYXJlQ2xhc3NTdG10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR9LHQucHJvdG90eXBlLnZpc2l0SWZTdG10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY29uZGl0aW9uLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHQudHJ1ZUNhc2UsZSksdGhpcy52aXNpdEFsbFN0YXRlbWVudHModC5mYWxzZUNhc2UsZSksdH0sdC5wcm90b3R5cGUudmlzaXRUcnlDYXRjaFN0bXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy52aXNpdEFsbFN0YXRlbWVudHModC5ib2R5U3RtdHMsZSksdGhpcy52aXNpdEFsbFN0YXRlbWVudHModC5jYXRjaFN0bXRzLGUpLHR9LHQucHJvdG90eXBlLnZpc2l0VGhyb3dTdG10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZXJyb3IudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksdH0sdC5wcm90b3R5cGUudmlzaXRDb21tZW50U3RtdD1mdW5jdGlvbih0LGUpe3JldHVybiB0fSx0LnByb3RvdHlwZS52aXNpdEFsbFN0YXRlbWVudHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3QuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdFN0YXRlbWVudChuLGUpfSl9LHR9KCkseGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3QuY2FsbCh0aGlzKSx0aGlzLl92YXJOYW1lPWUsdGhpcy5fbmV3VmFsdWU9bn1yZXR1cm4gYmgoZSx0KSxlLnByb3RvdHlwZS52aXNpdFJlYWRWYXJFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubmFtZT09dGhpcy5fdmFyTmFtZT90aGlzLl9uZXdWYWx1ZTp0fSxlfShFZiksUGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudmFyTmFtZXM9bmV3IFNldH1yZXR1cm4gYmgoZSx0KSxlLnByb3RvdHlwZS52aXNpdFJlYWRWYXJFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudmFyTmFtZXMuYWRkKHQubmFtZSksbnVsbH0sZX0oU2YpLE9mPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMuYmluZGluZ0lkPWV9cmV0dXJuIHR9KCksVGY9R2UoXCJ2YWxVbndyYXBwZXJcIiksQWY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LmV2ZW50PUdlKFwiJGV2ZW50XCIpLHR9KCksTWY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLnN0bXRzPXQsdGhpcy5jdXJyVmFsRXhwcj1lLHRoaXMuZm9yY2VVcGRhdGU9bn1yZXR1cm4gdH0oKSxrZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLnN0bXRzPXQsdGhpcy5wcmV2ZW50RGVmYXVsdD1lfXJldHVybiB0fSgpLFJmPXt9O1JmLlN0YXRlbWVudD0wLFJmLkV4cHJlc3Npb249MSxSZltSZi5TdGF0ZW1lbnRdPVwiU3RhdGVtZW50XCIsUmZbUmYuRXhwcmVzc2lvbl09XCJFeHByZXNzaW9uXCI7dmFyIElmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyl7dGhpcy5fYnVpbGRlcj10LHRoaXMuX25hbWVSZXNvbHZlcj1lLHRoaXMuX2ltcGxpY2l0UmVjZWl2ZXI9bix0aGlzLl92YWx1ZVVud3JhcHBlcj1yLHRoaXMuYmluZGluZ0lkPWksdGhpcy5pc0FjdGlvbj1vLHRoaXMuX25vZGVNYXA9bmV3IE1hcCx0aGlzLl9yZXN1bHRNYXA9bmV3IE1hcCx0aGlzLl9jdXJyZW50VGVtcG9yYXJ5PTAsdGhpcy5uZWVkc1ZhbHVlVW53cmFwcGVyPSExLHRoaXMudGVtcG9yYXJ5Q291bnQ9MH1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXRCaW5hcnk9ZnVuY3Rpb24odCxlKXt2YXIgbjtzd2l0Y2godC5vcGVyYXRpb24pe2Nhc2VcIitcIjpuPU5oLlBsdXM7YnJlYWs7Y2FzZVwiLVwiOm49TmguTWludXM7YnJlYWs7Y2FzZVwiKlwiOm49TmguTXVsdGlwbHk7YnJlYWs7Y2FzZVwiL1wiOm49TmguRGl2aWRlO2JyZWFrO2Nhc2VcIiVcIjpuPU5oLk1vZHVsbzticmVhaztjYXNlXCImJlwiOm49TmguQW5kO2JyZWFrO2Nhc2VcInx8XCI6bj1OaC5PcjticmVhaztjYXNlXCI9PVwiOm49TmguRXF1YWxzO2JyZWFrO2Nhc2VcIiE9XCI6bj1OaC5Ob3RFcXVhbHM7YnJlYWs7Y2FzZVwiPT09XCI6bj1OaC5JZGVudGljYWw7YnJlYWs7Y2FzZVwiIT09XCI6bj1OaC5Ob3RJZGVudGljYWw7YnJlYWs7Y2FzZVwiPFwiOm49TmguTG93ZXI7YnJlYWs7Y2FzZVwiPlwiOm49TmguQmlnZ2VyO2JyZWFrO2Nhc2VcIjw9XCI6bj1OaC5Mb3dlckVxdWFsczticmVhaztjYXNlXCI+PVwiOm49TmguQmlnZ2VyRXF1YWxzO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgb3BlcmF0aW9uIFwiK3Qub3BlcmF0aW9uKX1yZXR1cm4gdm4oZSxuZXcgWmgobix0aGlzLnZpc2l0KHQubGVmdCxSZi5FeHByZXNzaW9uKSx0aGlzLnZpc2l0KHQucmlnaHQsUmYuRXhwcmVzc2lvbikpKX0sdC5wcm90b3R5cGUudmlzaXRDaGFpbj1mdW5jdGlvbih0LGUpe3JldHVybiB5bihlLHQpLHRoaXMudmlzaXRBbGwodC5leHByZXNzaW9ucyxlKX0sdC5wcm90b3R5cGUudmlzaXRDb25kaXRpb25hbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudmlzaXQodC5jb25kaXRpb24sUmYuRXhwcmVzc2lvbik7cmV0dXJuIHZuKGUsbi5jb25kaXRpb25hbCh0aGlzLnZpc2l0KHQudHJ1ZUV4cCxSZi5FeHByZXNzaW9uKSx0aGlzLnZpc2l0KHQuZmFsc2VFeHAsUmYuRXhwcmVzc2lvbikpKX0sdC5wcm90b3R5cGUudmlzaXRQaXBlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy52aXNpdCh0LmV4cCxSZi5FeHByZXNzaW9uKSxyPXRoaXMudmlzaXRBbGwodC5hcmdzLFJmLkV4cHJlc3Npb24pLGk9dGhpcy5fbmFtZVJlc29sdmVyLmNhbGxQaXBlKHQubmFtZSxuLHIpO2lmKCFpKXRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgc3RhdGU6IFBpcGUgXCIrdC5uYW1lK1wiIGlzIG5vdCBhbGxvd2VkIGhlcmUhXCIpO3JldHVybiB0aGlzLm5lZWRzVmFsdWVVbndyYXBwZXI9ITAsdm4oZSx0aGlzLl92YWx1ZVVud3JhcHBlci5jYWxsTWV0aG9kKFwidW53cmFwXCIsW2ldKSl9LHQucHJvdG90eXBlLnZpc2l0RnVuY3Rpb25DYWxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZuKGUsdGhpcy52aXNpdCh0LnRhcmdldCxSZi5FeHByZXNzaW9uKS5jYWxsRm4odGhpcy52aXNpdEFsbCh0LmFyZ3MsUmYuRXhwcmVzc2lvbikpKX0sdC5wcm90b3R5cGUudmlzaXRJbXBsaWNpdFJlY2VpdmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG1uKGUsdCksdGhpcy5faW1wbGljaXRSZWNlaXZlcn0sdC5wcm90b3R5cGUudmlzaXRJbnRlcnBvbGF0aW9uPWZ1bmN0aW9uKHQsZSl7bW4oZSx0KTtmb3IodmFyIG49W3RuKHQuZXhwcmVzc2lvbnMubGVuZ3RoKV0scj0wO3I8dC5zdHJpbmdzLmxlbmd0aC0xO3IrKyluLnB1c2godG4odC5zdHJpbmdzW3JdKSksbi5wdXNoKHRoaXMudmlzaXQodC5leHByZXNzaW9uc1tyXSxSZi5FeHByZXNzaW9uKSk7cmV0dXJuIG4ucHVzaCh0bih0LnN0cmluZ3NbdC5zdHJpbmdzLmxlbmd0aC0xXSkpLHQuZXhwcmVzc2lvbnMubGVuZ3RoPD05P1hlKFl0KF9sLmlubGluZUludGVycG9sYXRlKSkuY2FsbEZuKG4pOlhlKFl0KF9sLmludGVycG9sYXRlKSkuY2FsbEZuKFtuWzBdLFllKG4uc2xpY2UoMSkpXSl9LHQucHJvdG90eXBlLnZpc2l0S2V5ZWRSZWFkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5sZWZ0TW9zdFNhZmVOb2RlKHQpO3JldHVybiBuP3RoaXMuY29udmVydFNhZmVBY2Nlc3ModCxuLGUpOnZuKGUsdGhpcy52aXNpdCh0Lm9iaixSZi5FeHByZXNzaW9uKS5rZXkodGhpcy52aXNpdCh0LmtleSxSZi5FeHByZXNzaW9uKSkpfSx0LnByb3RvdHlwZS52aXNpdEtleWVkV3JpdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnZpc2l0KHQub2JqLFJmLkV4cHJlc3Npb24pLHI9dGhpcy52aXNpdCh0LmtleSxSZi5FeHByZXNzaW9uKSxpPXRoaXMudmlzaXQodC52YWx1ZSxSZi5FeHByZXNzaW9uKTtyZXR1cm4gdm4oZSxuLmtleShyKS5zZXQoaSkpfSx0LnByb3RvdHlwZS52aXNpdExpdGVyYWxBcnJheT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudmlzaXRBbGwodC5leHByZXNzaW9ucyxlKSxyPXRoaXMuaXNBY3Rpb24/WWUobik6X24odGhpcy5fYnVpbGRlcixuKTtyZXR1cm4gdm4oZSxyKX0sdC5wcm90b3R5cGUudmlzaXRMaXRlcmFsTWFwPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLHI9MDtyPHQua2V5cy5sZW5ndGg7cisrKW4ucHVzaChbdC5rZXlzW3JdLHRoaXMudmlzaXQodC52YWx1ZXNbcl0sUmYuRXhwcmVzc2lvbildKTt2YXIgaT10aGlzLmlzQWN0aW9uP0tlKG4pOmJuKHRoaXMuX2J1aWxkZXIsbik7cmV0dXJuIHZuKGUsaSl9LHQucHJvdG90eXBlLnZpc2l0TGl0ZXJhbFByaW1pdGl2ZT1mdW5jdGlvbih0LGUpe3JldHVybiB2bihlLHRuKHQudmFsdWUpKX0sdC5wcm90b3R5cGUuX2dldExvY2FsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzQWN0aW9uJiZ0PT1BZi5ldmVudC5uYW1lP0FmLmV2ZW50OnRoaXMuX25hbWVSZXNvbHZlci5nZXRMb2NhbCh0KX0sdC5wcm90b3R5cGUudmlzaXRNZXRob2RDYWxsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5sZWZ0TW9zdFNhZmVOb2RlKHQpO2lmKG4pcmV0dXJuIHRoaXMuY29udmVydFNhZmVBY2Nlc3ModCxuLGUpO3ZhciByPXRoaXMudmlzaXRBbGwodC5hcmdzLFJmLkV4cHJlc3Npb24pLG89bnVsbCxzPXRoaXMudmlzaXQodC5yZWNlaXZlcixSZi5FeHByZXNzaW9uKTtpZihzPT09dGhpcy5faW1wbGljaXRSZWNlaXZlcil7dmFyIGE9dGhpcy5fZ2V0TG9jYWwodC5uYW1lKTthJiYobz1hLmNhbGxGbihyKSl9cmV0dXJuIGkobykmJihvPXMuY2FsbE1ldGhvZCh0Lm5hbWUscikpLHZuKGUsbyl9LHQucHJvdG90eXBlLnZpc2l0UHJlZml4Tm90PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZuKGUsWmUodGhpcy52aXNpdCh0LmV4cHJlc3Npb24sUmYuRXhwcmVzc2lvbikpKX0sdC5wcm90b3R5cGUudmlzaXRQcm9wZXJ0eVJlYWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmxlZnRNb3N0U2FmZU5vZGUodCk7aWYobilyZXR1cm4gdGhpcy5jb252ZXJ0U2FmZUFjY2Vzcyh0LG4sZSk7dmFyIHI9bnVsbCxvPXRoaXMudmlzaXQodC5yZWNlaXZlcixSZi5FeHByZXNzaW9uKTtyZXR1cm4gbz09PXRoaXMuX2ltcGxpY2l0UmVjZWl2ZXImJihyPXRoaXMuX2dldExvY2FsKHQubmFtZSkpLGkocikmJihyPW8ucHJvcCh0Lm5hbWUpKSx2bihlLHIpfSx0LnByb3RvdHlwZS52aXNpdFByb3BlcnR5V3JpdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnZpc2l0KHQucmVjZWl2ZXIsUmYuRXhwcmVzc2lvbik7aWYobj09PXRoaXMuX2ltcGxpY2l0UmVjZWl2ZXIpe3ZhciByPXRoaXMuX2dldExvY2FsKHQubmFtZSk7aWYocil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYXNzaWduIHRvIGEgcmVmZXJlbmNlIG9yIHZhcmlhYmxlIVwiKX1yZXR1cm4gdm4oZSxuLnByb3AodC5uYW1lKS5zZXQodGhpcy52aXNpdCh0LnZhbHVlLFJmLkV4cHJlc3Npb24pKSl9LHQucHJvdG90eXBlLnZpc2l0U2FmZVByb3BlcnR5UmVhZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvbnZlcnRTYWZlQWNjZXNzKHQsdGhpcy5sZWZ0TW9zdFNhZmVOb2RlKHQpLGUpfSx0LnByb3RvdHlwZS52aXNpdFNhZmVNZXRob2RDYWxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29udmVydFNhZmVBY2Nlc3ModCx0aGlzLmxlZnRNb3N0U2FmZU5vZGUodCksZSl9LHQucHJvdG90eXBlLnZpc2l0QWxsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4udmlzaXQodCxlKX0pfSx0LnByb3RvdHlwZS52aXNpdFF1b3RlPWZ1bmN0aW9uKHQsZSl7dGhyb3cgbmV3IEVycm9yKFwiUXVvdGVzIGFyZSBub3Qgc3VwcG9ydGVkIGZvciBldmFsdWF0aW9uIVwiKX0sdC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9yZXN1bHRNYXAuZ2V0KHQpO3JldHVybiBuP246KHRoaXMuX25vZGVNYXAuZ2V0KHQpfHx0KS52aXNpdCh0aGlzLGUpfSx0LnByb3RvdHlwZS5jb252ZXJ0U2FmZUFjY2Vzcz1mdW5jdGlvbih0LGUsbil7dmFyIHIsaT10aGlzLnZpc2l0KGUucmVjZWl2ZXIsUmYuRXhwcmVzc2lvbik7dGhpcy5uZWVkc1RlbXBvcmFyeShlLnJlY2VpdmVyKSYmKHI9dGhpcy5hbGxvY2F0ZVRlbXBvcmFyeSgpLGk9ci5zZXQoaSksdGhpcy5fcmVzdWx0TWFwLnNldChlLnJlY2VpdmVyLHIpKTt2YXIgbz1pLmlzQmxhbmsoKTtlIGluc3RhbmNlb2YgaXU/dGhpcy5fbm9kZU1hcC5zZXQoZSxuZXcgcnUoZS5zcGFuLGUucmVjZWl2ZXIsZS5uYW1lLGUuYXJncykpOnRoaXMuX25vZGVNYXAuc2V0KGUsbmV3IFdhKGUuc3BhbixlLnJlY2VpdmVyLGUubmFtZSkpO3ZhciBzPXRoaXMudmlzaXQodCxSZi5FeHByZXNzaW9uKTtyZXR1cm4gdGhpcy5fbm9kZU1hcC5kZWxldGUoZSksciYmdGhpcy5yZWxlYXNlVGVtcG9yYXJ5KHIpLHZuKG4sby5jb25kaXRpb25hbCh0bihudWxsKSxzKSl9LHQucHJvdG90eXBlLmxlZnRNb3N0U2FmZU5vZGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWZ1bmN0aW9uKHQsbil7cmV0dXJuKGUuX25vZGVNYXAuZ2V0KG4pfHxuKS52aXNpdCh0KX07cmV0dXJuIHQudmlzaXQoe3Zpc2l0QmluYXJ5OmZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSx2aXNpdENoYWluOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSx2aXNpdENvbmRpdGlvbmFsOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSx2aXNpdEZ1bmN0aW9uQ2FsbDpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sdmlzaXRJbXBsaWNpdFJlY2VpdmVyOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSx2aXNpdEludGVycG9sYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LHZpc2l0S2V5ZWRSZWFkOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdC5vYmopfSx2aXNpdEtleWVkV3JpdGU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LHZpc2l0TGl0ZXJhbEFycmF5OmZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSx2aXNpdExpdGVyYWxNYXA6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LHZpc2l0TGl0ZXJhbFByaW1pdGl2ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sdmlzaXRNZXRob2RDYWxsOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdC5yZWNlaXZlcil9LHZpc2l0UGlwZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sdmlzaXRQcmVmaXhOb3Q6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LHZpc2l0UHJvcGVydHlSZWFkOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdC5yZWNlaXZlcil9LHZpc2l0UHJvcGVydHlXcml0ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sdmlzaXRRdW90ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sdmlzaXRTYWZlTWV0aG9kQ2FsbDpmdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHQucmVjZWl2ZXIpfHx0fSx2aXNpdFNhZmVQcm9wZXJ0eVJlYWQ6ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx0LnJlY2VpdmVyKXx8dH19KX0sdC5wcm90b3R5cGUubmVlZHNUZW1wb3Jhcnk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG4mJihlLl9ub2RlTWFwLmdldChuKXx8bikudmlzaXQodCl9LHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBuKHQsZSl9KX07cmV0dXJuIHQudmlzaXQoe3Zpc2l0QmluYXJ5OmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdC5sZWZ0KXx8bih0aGlzLHQucmlnaHQpfSx2aXNpdENoYWluOmZ1bmN0aW9uKHQpe3JldHVybiExfSx2aXNpdENvbmRpdGlvbmFsOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMsdC5jb25kaXRpb24pfHxuKHRoaXMsdC50cnVlRXhwKXx8bih0aGlzLHQuZmFsc2VFeHApfSx2aXNpdEZ1bmN0aW9uQ2FsbDpmdW5jdGlvbih0KXtyZXR1cm4hMH0sdmlzaXRJbXBsaWNpdFJlY2VpdmVyOmZ1bmN0aW9uKHQpe3JldHVybiExfSx2aXNpdEludGVycG9sYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHIodGhpcyx0LmV4cHJlc3Npb25zKX0sdmlzaXRLZXllZFJlYWQ6ZnVuY3Rpb24odCl7cmV0dXJuITF9LHZpc2l0S2V5ZWRXcml0ZTpmdW5jdGlvbih0KXtyZXR1cm4hMX0sdmlzaXRMaXRlcmFsQXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuITB9LHZpc2l0TGl0ZXJhbE1hcDpmdW5jdGlvbih0KXtyZXR1cm4hMH0sdmlzaXRMaXRlcmFsUHJpbWl0aXZlOmZ1bmN0aW9uKHQpe3JldHVybiExfSx2aXNpdE1ldGhvZENhbGw6ZnVuY3Rpb24odCl7cmV0dXJuITB9LHZpc2l0UGlwZTpmdW5jdGlvbih0KXtyZXR1cm4hMH0sdmlzaXRQcmVmaXhOb3Q6ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcyx0LmV4cHJlc3Npb24pfSx2aXNpdFByb3BlcnR5UmVhZDpmdW5jdGlvbih0KXtyZXR1cm4hMX0sdmlzaXRQcm9wZXJ0eVdyaXRlOmZ1bmN0aW9uKHQpe3JldHVybiExfSx2aXNpdFF1b3RlOmZ1bmN0aW9uKHQpe3JldHVybiExfSx2aXNpdFNhZmVNZXRob2RDYWxsOmZ1bmN0aW9uKHQpe3JldHVybiEwfSx2aXNpdFNhZmVQcm9wZXJ0eVJlYWQ6ZnVuY3Rpb24odCl7cmV0dXJuITF9fSl9LHQucHJvdG90eXBlLmFsbG9jYXRlVGVtcG9yYXJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY3VycmVudFRlbXBvcmFyeSsrO3JldHVybiB0aGlzLnRlbXBvcmFyeUNvdW50PU1hdGgubWF4KHRoaXMuX2N1cnJlbnRUZW1wb3JhcnksdGhpcy50ZW1wb3JhcnlDb3VudCksbmV3IFZoKGhuKHRoaXMuYmluZGluZ0lkLHQpKX0sdC5wcm90b3R5cGUucmVsZWFzZVRlbXBvcmFyeT1mdW5jdGlvbih0KXtpZih0aGlzLl9jdXJyZW50VGVtcG9yYXJ5LS0sdC5uYW1lIT1obih0aGlzLmJpbmRpbmdJZCx0aGlzLl9jdXJyZW50VGVtcG9yYXJ5KSl0aHJvdyBuZXcgRXJyb3IoXCJUZW1wb3JhcnkgXCIrdC5uYW1lK1wiIHJlbGVhc2VkIG91dCBvZiBvcmRlclwiKX0sdH0oKSxOZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNhbGxQaXBlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0TG9jYWw9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LHR9KCksRGY9dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbih0LGUsbixyKXt2YXIgaSxvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/ZTpudWxsPT09cj9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTpyO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsbixyKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShpPXRbYV0pJiYocz0obzwzP2kocyk6bz4zP2koZSxuLHMpOmkoZSxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4scyksc30samY9dGhpcyYmdGhpcy5fX21ldGFkYXRhfHxmdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKHQsZSl9LFZmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuc3RhdGVtZW50cz10LHRoaXMuZGlyV3JhcHBlckNsYXNzVmFyPWV9cmV0dXJuIHR9KCksTGY9XCJjb250ZXh0XCIsRmY9XCJfY2hhbmdlc1wiLFVmPVwiX2NoYW5nZWRcIixIZj1cIl9ldmVudEhhbmRsZXJcIixCZj1HZShcImN1cnJWYWx1ZVwiKSxxZj1HZShcInRocm93T25DaGFuZ2VcIiksemY9R2UoXCJmb3JjZVVwZGF0ZVwiKSxXZj1HZShcInZpZXdcIiksR2Y9R2UoXCJjb21wb25lbnRWaWV3XCIpLFhmPUdlKFwiZWxcIiksJGY9R2UoXCJldmVudE5hbWVcIiksUWY9b2YucHJvcChGZikuc2V0KEtlKFtdKSkudG9TdG10KCksWWY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMuY29tcGlsZXJDb25maWc9dCx0aGlzLl9leHByUGFyc2VyPWUsdGhpcy5fc2NoZW1hUmVnaXN0cnk9bix0aGlzLl9jb25zb2xlPXJ9cmV0dXJuIHQuZGlyV3JhcHBlckNsYXNzTmFtZT1mdW5jdGlvbih0KXtyZXR1cm5cIldyYXBwZXJfXCIrYih0KX0sdC5wcm90b3R5cGUuY29tcGlsZT1mdW5jdGlvbih0KXt2YXIgZT1Obih0LHRoaXMuX2V4cHJQYXJzZXIsdGhpcy5fc2NoZW1hUmVnaXN0cnkpO0RuKGUuZXJyb3JzLHRoaXMuX2NvbnNvbGUpO3ZhciBuPW5ldyBLZih0aGlzLmNvbXBpbGVyQ29uZmlnLHQpO09iamVjdC5rZXlzKHQuaW5wdXRzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe01uKHQsbil9KSxBbihuKSxrbihlLmhvc3RQcm9wcyxlLmhvc3RMaXN0ZW5lcnMsbiksUm4oZS5ob3N0TGlzdGVuZXJzLG4pLEluKHQsbik7dmFyIHI9bi5idWlsZCgpO3JldHVybiBuZXcgVmYoW3JdLHIubmFtZSl9LHQ9RGYoW00oKSxqZihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1JwLHd1LE1sLFBvXSldLHQpfSgpLEtmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuY29tcGlsZXJDb25maWc9dCx0aGlzLmRpck1ldGE9ZSx0aGlzLmZpZWxkcz1bXSx0aGlzLmdldHRlcnM9W10sdGhpcy5tZXRob2RzPVtdLHRoaXMuY3RvclN0bXRzPVtdLHRoaXMuZGV0YWNoU3RtdHM9W10sdGhpcy5kZXN0cm95U3RtdHM9W107dmFyIG49ZS50eXBlLmxpZmVjeWNsZUhvb2tzO3RoaXMuZ2VuQ2hhbmdlcz1uLmluZGV4T2YoYW8uT25DaGFuZ2VzKSE9PS0xfHx0aGlzLmNvbXBpbGVyQ29uZmlnLmxvZ0JpbmRpbmdVcGRhdGUsdGhpcy5uZ09uQ2hhbmdlcz1uLmluZGV4T2YoYW8uT25DaGFuZ2VzKSE9PS0xLHRoaXMubmdPbkluaXQ9bi5pbmRleE9mKGFvLk9uSW5pdCkhPT0tMSx0aGlzLm5nRG9DaGVjaz1uLmluZGV4T2YoYW8uRG9DaGVjaykhPT0tMSx0aGlzLm5nT25EZXN0cm95PW4uaW5kZXhPZihhby5PbkRlc3Ryb3kpIT09LTEsdGhpcy5uZ09uRGVzdHJveSYmdGhpcy5kZXN0cm95U3RtdHMucHVzaChvZi5wcm9wKExmKS5jYWxsTWV0aG9kKFwibmdPbkRlc3Ryb3lcIixbXSkudG9TdG10KCkpfXJldHVybiB0LnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLmRpck1ldGEudHlwZS5kaURlcHMubGVuZ3RoO2UrKyl0LnB1c2goXCJwXCIrZSk7dmFyIG49W25ldyB2ZihcIm5nT25EZXRhY2hcIixbbmV3IFloKFdmLm5hbWUsJGUoWXQoX2wuQXBwVmlldyksW1RoXSkpLG5ldyBZaChHZi5uYW1lLCRlKFl0KF9sLkFwcFZpZXcpLFtUaF0pKSxuZXcgWWgoWGYubmFtZSxUaCldLHRoaXMuZGV0YWNoU3RtdHMpLG5ldyB2ZihcIm5nT25EZXN0cm95XCIsW10sdGhpcy5kZXN0cm95U3RtdHMpXSxyPVtuZXcgbWYoSGYsUmgsW2NmLlByaXZhdGVdKSxuZXcgbWYoTGYsJGUodGhpcy5kaXJNZXRhLnR5cGUpKSxuZXcgbWYoVWYsQWgsW2NmLlByaXZhdGVdKV0saT1bb2YucHJvcChVZikuc2V0KHRuKCExKSkudG9TdG10KCldO3JldHVybiB0aGlzLmdlbkNoYW5nZXMmJihyLnB1c2gobmV3IG1mKEZmLG5ldyBPaChUaCksW2NmLlByaXZhdGVdKSksaS5wdXNoKFFmKSksaS5wdXNoKG9mLnByb3AoTGYpLnNldChYZSh0aGlzLmRpck1ldGEudHlwZSkuaW5zdGFudGlhdGUodC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIEdlKHQpfSkpKS50b1N0bXQoKSksT24oe25hbWU6WWYuZGlyV3JhcHBlckNsYXNzTmFtZSh0aGlzLmRpck1ldGEudHlwZSksY3RvclBhcmFtczp0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFloKHQsVGgpfSksYnVpbGRlcnM6W3tmaWVsZHM6cixjdG9yU3RtdHM6aSxtZXRob2RzOm59LHRoaXNdfSl9LHR9KCksWmY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLmhvc3RQcm9wcz10LHRoaXMuaG9zdExpc3RlbmVycz1lLHRoaXMuZXJyb3JzPW59cmV0dXJuIHR9KCksSmY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBYZSh0KS5pbnN0YW50aWF0ZShlLCRlKHQpKX0sdC5jb250ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3AoTGYpfSx0Lm5nRG9DaGVjaz1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdC5jYWxsTWV0aG9kKFwibmdEb0NoZWNrXCIsW2UsbixyXSl9LHQuY2hlY2tIb3N0PWZ1bmN0aW9uKHQsZSxuLHIsaSxvLHMpe3JldHVybiB0Lmxlbmd0aD9bZS5jYWxsTWV0aG9kKFwiY2hlY2tIb3N0XCIsW24scixpLG9dLmNvbmNhdChzKSkudG9TdG10KCldOltdfSx0Lm5nT25EZXRhY2g9ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gdC5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzQW5pbWF0aW9ufSk/W2UuY2FsbE1ldGhvZChcIm5nT25EZXRhY2hcIixbbixyLGldKS50b1N0bXQoKV06W119LHQubmdPbkRlc3Ryb3k9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50eXBlLmxpZmVjeWNsZUhvb2tzLmluZGV4T2YoYW8uT25EZXN0cm95KSE9PS0xfHxPYmplY3Qua2V5cyh0Lm91dHB1dHMpLmxlbmd0aD4wP1tlLmNhbGxNZXRob2QoXCJuZ09uRGVzdHJveVwiLFtdKS50b1N0bXQoKV06W119LHQuc3Vic2NyaWJlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt2YXIgcz0hMSxhPVtdO3JldHVybiBPYmplY3Qua2V5cyh0Lm91dHB1dHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5vdXRwdXRzW2VdLGk9bi5pbmRleE9mKHIpPi0xO3M9c3x8aSxhLnB1c2godG4oaSkpfSksZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuaXNBbmltYXRpb24mJm4ubGVuZ3RoPjAmJihzPSEwKX0pLHM/W3IuY2FsbE1ldGhvZChcInN1YnNjcmliZVwiLFtpLG9dLmNvbmNhdChhKSkudG9TdG10KCldOltdfSx0LmhhbmRsZUV2ZW50PWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBlLmNhbGxNZXRob2QoXCJoYW5kbGVFdmVudFwiLFtuLHJdKX0sdH0oKSx0ZD10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSxlZD10aGlzJiZ0aGlzLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sbmQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZvaWQgMD09PXQmJih0PU9vKSx0aGlzLl9yZWZsZWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUuaXNOZ01vZHVsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVmbGVjdG9yLmFubm90YXRpb25zKHQpLnNvbWUoTG4pfSx0LnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciBuPWlvLmZpbmRMYXN0KHRoaXMuX3JlZmxlY3Rvci5hbm5vdGF0aW9ucyh0KSxMbik7aWYobilyZXR1cm4gbjtpZihlKXRocm93IG5ldyBFcnJvcihcIk5vIE5nTW9kdWxlIG1ldGFkYXRhIGZvdW5kIGZvciAnXCIrcyh0KStcIicuXCIpO3JldHVybiBudWxsfSx0PXRkKFtNKCksZWQoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtjb10pXSx0KX0oKSxyZD10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSxpZD10aGlzJiZ0aGlzLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sb2Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZvaWQgMD09PXQmJih0PU9vKSx0aGlzLl9yZWZsZWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUuaXNQaXBlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX3JlZmxlY3Rvci5hbm5vdGF0aW9ucyhlLnJlc29sdmVGb3J3YXJkUmVmKHQpKTtyZXR1cm4gbiYmbi5zb21lKEZuKX0sdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0LG4pe3ZvaWQgMD09PW4mJihuPSEwKTt2YXIgcj10aGlzLl9yZWZsZWN0b3IuYW5ub3RhdGlvbnMoZS5yZXNvbHZlRm9yd2FyZFJlZih0KSk7aWYocil7dmFyIGk9aW8uZmluZExhc3QocixGbik7aWYoaSlyZXR1cm4gaX1pZihuKXRocm93IG5ldyBFcnJvcihcIk5vIFBpcGUgZGVjb3JhdG9yIGZvdW5kIG9uIFwiK3ModCkpO3JldHVybiBudWxsfSx0PXJkKFtNKCksaWQoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtjb10pXSx0KX0oKSxzZD10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSxhZD10aGlzJiZ0aGlzLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sdWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5yZXNvbHZlU3VtbWFyeT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0U3ltYm9sc09mPWZ1bmN0aW9uKHQpe3JldHVybltdfSx0PXNkKFtNKCksYWQoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sdCl9KCksY2Q9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LGxkPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6cjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4scik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkoaT10W2FdKSYmKHM9KG88Mz9pKHMpOm8+Mz9pKGUsbixzKTppKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9LHBkPXRoaXMmJnRoaXMuX19tZXRhZGF0YXx8ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGUpfSxoZD1uZXcgZS5PcGFxdWVUb2tlbihcIkVycm9yQ29sbGVjdG9yXCIpLGZkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxzLGEpe3ZvaWQgMD09PXMmJihzPU9vKSx0aGlzLl9uZ01vZHVsZVJlc29sdmVyPXQsdGhpcy5fZGlyZWN0aXZlUmVzb2x2ZXI9ZSx0aGlzLl9waXBlUmVzb2x2ZXI9bix0aGlzLl9zdW1tYXJ5UmVzb2x2ZXI9cix0aGlzLl9zY2hlbWFSZWdpc3RyeT1pLHRoaXMuX2RpcmVjdGl2ZU5vcm1hbGl6ZXI9byx0aGlzLl9yZWZsZWN0b3I9cyx0aGlzLl9lcnJvckNvbGxlY3Rvcj1hLHRoaXMuX2RpcmVjdGl2ZUNhY2hlPW5ldyBNYXAsdGhpcy5fc3VtbWFyeUNhY2hlPW5ldyBNYXAsdGhpcy5fcGlwZUNhY2hlPW5ldyBNYXAsdGhpcy5fbmdNb2R1bGVDYWNoZT1uZXcgTWFwLHRoaXMuX25nTW9kdWxlT2ZUeXBlcz1uZXcgTWFwfXJldHVybiB0LnByb3RvdHlwZS5jbGVhckNhY2hlRm9yPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2RpcmVjdGl2ZUNhY2hlLmdldCh0KTt0aGlzLl9kaXJlY3RpdmVDYWNoZS5kZWxldGUodCksdGhpcy5fc3VtbWFyeUNhY2hlLmRlbGV0ZSh0KSx0aGlzLl9waXBlQ2FjaGUuZGVsZXRlKHQpLHRoaXMuX25nTW9kdWxlT2ZUeXBlcy5kZWxldGUodCksdGhpcy5fbmdNb2R1bGVDYWNoZS5jbGVhcigpLGUmJnRoaXMuX2RpcmVjdGl2ZU5vcm1hbGl6ZXIuY2xlYXJDYWNoZUZvcihlKX0sdC5wcm90b3R5cGUuY2xlYXJDYWNoZT1mdW5jdGlvbigpe3RoaXMuX2RpcmVjdGl2ZUNhY2hlLmNsZWFyKCksdGhpcy5fc3VtbWFyeUNhY2hlLmNsZWFyKCksdGhpcy5fcGlwZUNhY2hlLmNsZWFyKCksdGhpcy5fbmdNb2R1bGVDYWNoZS5jbGVhcigpLHRoaXMuX25nTW9kdWxlT2ZUeXBlcy5jbGVhcigpLHRoaXMuX2RpcmVjdGl2ZU5vcm1hbGl6ZXIuY2xlYXJDYWNoZSgpfSx0LnByb3RvdHlwZS5nZXRBbmltYXRpb25FbnRyeU1ldGFkYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmRlZmluaXRpb25zLm1hcChmdW5jdGlvbih0KXtcbnJldHVybiBlLl9nZXRBbmltYXRpb25TdGF0ZU1ldGFkYXRhKHQpfSk7cmV0dXJuIG5ldyBocyh0Lm5hbWUsbil9LHQucHJvdG90eXBlLl9nZXRBbmltYXRpb25TdGF0ZU1ldGFkYXRhPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBlLkFuaW1hdGlvblN0YXRlRGVjbGFyYXRpb25NZXRhZGF0YSl7dmFyIG49dGhpcy5fZ2V0QW5pbWF0aW9uU3R5bGVNZXRhZGF0YSh0LnN0eWxlcyk7cmV0dXJuIG5ldyBkcyh0LnN0YXRlTmFtZUV4cHIsbil9cmV0dXJuIHQgaW5zdGFuY2VvZiBlLkFuaW1hdGlvblN0YXRlVHJhbnNpdGlvbk1ldGFkYXRhP25ldyB5cyh0LnN0YXRlQ2hhbmdlRXhwcix0aGlzLl9nZXRBbmltYXRpb25NZXRhZGF0YSh0LnN0ZXBzKSk6bnVsbH0sdC5wcm90b3R5cGUuX2dldEFuaW1hdGlvblN0eWxlTWV0YWRhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBncyh0Lm9mZnNldCx0LnN0eWxlcyl9LHQucHJvdG90eXBlLl9nZXRBbmltYXRpb25NZXRhZGF0YT1mdW5jdGlvbih0KXt2YXIgbj10aGlzO2lmKHQgaW5zdGFuY2VvZiBlLkFuaW1hdGlvblN0eWxlTWV0YWRhdGEpcmV0dXJuIHRoaXMuX2dldEFuaW1hdGlvblN0eWxlTWV0YWRhdGEodCk7aWYodCBpbnN0YW5jZW9mIGUuQW5pbWF0aW9uS2V5ZnJhbWVzU2VxdWVuY2VNZXRhZGF0YSlyZXR1cm4gbmV3IHZzKHQuc3RlcHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuLl9nZXRBbmltYXRpb25TdHlsZU1ldGFkYXRhKHQpfSkpO2lmKHQgaW5zdGFuY2VvZiBlLkFuaW1hdGlvbkFuaW1hdGVNZXRhZGF0YSl7dmFyIHI9dGhpcy5fZ2V0QW5pbWF0aW9uTWV0YWRhdGEodC5zdHlsZXMpO3JldHVybiBuZXcgX3ModC50aW1pbmdzLHIpfWlmKHQgaW5zdGFuY2VvZiBlLkFuaW1hdGlvbldpdGhTdGVwc01ldGFkYXRhKXt2YXIgaT10LnN0ZXBzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbi5fZ2V0QW5pbWF0aW9uTWV0YWRhdGEodCl9KTtyZXR1cm4gdCBpbnN0YW5jZW9mIGUuQW5pbWF0aW9uR3JvdXBNZXRhZGF0YT9uZXcgQ3MoaSk6bmV3IHdzKGkpfXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5fbG9hZFN1bW1hcnk9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zdW1tYXJ5Q2FjaGUuZ2V0KHQpO2lmKCFuKXt2YXIgcj10aGlzLl9zdW1tYXJ5UmVzb2x2ZXIucmVzb2x2ZVN1bW1hcnkodCk7bj1yP3IudHlwZTpudWxsLHRoaXMuX3N1bW1hcnlDYWNoZS5zZXQodCxuKX1yZXR1cm4gbiYmbi5zdW1tYXJ5S2luZD09PWU/bjpudWxsfSx0LnByb3RvdHlwZS5fbG9hZERpcmVjdGl2ZU1ldGFkYXRhPWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpcztpZighdGhpcy5fZGlyZWN0aXZlQ2FjaGUuaGFzKHQpKXt0PWUucmVzb2x2ZUZvcndhcmRSZWYodCk7dmFyIGk9dGhpcy5nZXROb25Ob3JtYWxpemVkRGlyZWN0aXZlTWV0YWRhdGEodCksbz1pLmFubm90YXRpb24scz1pLm1ldGFkYXRhLGE9ZnVuY3Rpb24oZSl7dmFyIG49bmV3IE9zKHt0eXBlOnMudHlwZSxpc0NvbXBvbmVudDpzLmlzQ29tcG9uZW50LHNlbGVjdG9yOnMuc2VsZWN0b3IsZXhwb3J0QXM6cy5leHBvcnRBcyxjaGFuZ2VEZXRlY3Rpb246cy5jaGFuZ2VEZXRlY3Rpb24saW5wdXRzOnMuaW5wdXRzLG91dHB1dHM6cy5vdXRwdXRzLGhvc3RMaXN0ZW5lcnM6cy5ob3N0TGlzdGVuZXJzLGhvc3RQcm9wZXJ0aWVzOnMuaG9zdFByb3BlcnRpZXMsaG9zdEF0dHJpYnV0ZXM6cy5ob3N0QXR0cmlidXRlcyxwcm92aWRlcnM6cy5wcm92aWRlcnMsdmlld1Byb3ZpZGVyczpzLnZpZXdQcm92aWRlcnMscXVlcmllczpzLnF1ZXJpZXMsdmlld1F1ZXJpZXM6cy52aWV3UXVlcmllcyxlbnRyeUNvbXBvbmVudHM6cy5lbnRyeUNvbXBvbmVudHMsdGVtcGxhdGU6ZX0pO3JldHVybiByLl9kaXJlY3RpdmVDYWNoZS5zZXQodCxuKSxyLl9zdW1tYXJ5Q2FjaGUuc2V0KHQsbi50b1N1bW1hcnkoKSksbn07aWYocy5pc0NvbXBvbmVudCl7dmFyIHU9dGhpcy5fZGlyZWN0aXZlTm9ybWFsaXplci5ub3JtYWxpemVUZW1wbGF0ZSh7Y29tcG9uZW50VHlwZTp0LG1vZHVsZVVybDp6bih0aGlzLl9yZWZsZWN0b3IsdCxvKSxlbmNhcHN1bGF0aW9uOnMudGVtcGxhdGUuZW5jYXBzdWxhdGlvbix0ZW1wbGF0ZTpzLnRlbXBsYXRlLnRlbXBsYXRlLHRlbXBsYXRlVXJsOnMudGVtcGxhdGUudGVtcGxhdGVVcmwsc3R5bGVzOnMudGVtcGxhdGUuc3R5bGVzLHN0eWxlVXJsczpzLnRlbXBsYXRlLnN0eWxlVXJscyxhbmltYXRpb25zOnMudGVtcGxhdGUuYW5pbWF0aW9ucyxpbnRlcnBvbGF0aW9uOnMudGVtcGxhdGUuaW50ZXJwb2xhdGlvbn0pO3JldHVybiB1LnN5bmNSZXN1bHQ/KGEodS5zeW5jUmVzdWx0KSxudWxsKTpuPyh0aGlzLl9yZXBvcnRFcnJvcihuZXcgem8odCksdCksbnVsbCk6dS5hc3luY1Jlc3VsdC50aGVuKGEpfXJldHVybiBhKG51bGwpLG51bGx9fSx0LnByb3RvdHlwZS5nZXROb25Ob3JtYWxpemVkRGlyZWN0aXZlTWV0YWRhdGE9ZnVuY3Rpb24odCl7dmFyIG49dGhpczt0PWUucmVzb2x2ZUZvcndhcmRSZWYodCk7dmFyIGk9dGhpcy5fZGlyZWN0aXZlUmVzb2x2ZXIucmVzb2x2ZSh0KTtpZighaSlyZXR1cm4gbnVsbDt2YXIgbztpZihpIGluc3RhbmNlb2YgZS5Db21wb25lbnQpe2soXCJzdHlsZXNcIixpLnN0eWxlcyksayhcInN0eWxlVXJsc1wiLGkuc3R5bGVVcmxzKSxSKFwiaW50ZXJwb2xhdGlvblwiLGkuaW50ZXJwb2xhdGlvbik7dmFyIHM9aS5hbmltYXRpb25zP2kuYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4uZ2V0QW5pbWF0aW9uRW50cnlNZXRhZGF0YSh0KX0pOm51bGw7bz1uZXcgUHMoe2VuY2Fwc3VsYXRpb246aS5lbmNhcHN1bGF0aW9uLHRlbXBsYXRlOmkudGVtcGxhdGUsdGVtcGxhdGVVcmw6aS50ZW1wbGF0ZVVybCxzdHlsZXM6aS5zdHlsZXMsc3R5bGVVcmxzOmkuc3R5bGVVcmxzLGFuaW1hdGlvbnM6cyxpbnRlcnBvbGF0aW9uOmkuaW50ZXJwb2xhdGlvbn0pfXZhciBhPW51bGwsdT1bXSxjPVtdLGw9aS5zZWxlY3RvcjtpIGluc3RhbmNlb2YgZS5Db21wb25lbnQ/KGE9aS5jaGFuZ2VEZXRlY3Rpb24saS52aWV3UHJvdmlkZXJzJiYodT10aGlzLl9nZXRQcm92aWRlcnNNZXRhZGF0YShpLnZpZXdQcm92aWRlcnMsYywndmlld1Byb3ZpZGVycyBmb3IgXCInK0duKHQpKydcIicsW10sdCkpLGkuZW50cnlDb21wb25lbnRzJiYoYz1CbihpLmVudHJ5Q29tcG9uZW50cykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuLl9nZXRJZGVudGlmaWVyTWV0YWRhdGEodCl9KS5jb25jYXQoYykpLGx8fChsPXRoaXMuX3NjaGVtYVJlZ2lzdHJ5LmdldERlZmF1bHRDb21wb25lbnRFbGVtZW50TmFtZSgpKSk6bHx8KHRoaXMuX3JlcG9ydEVycm9yKG5ldyBjcyhcIkRpcmVjdGl2ZSBcIitHbih0KStcIiBoYXMgbm8gc2VsZWN0b3IsIHBsZWFzZSBhZGQgaXQhXCIpLHQpLGw9XCJlcnJvclwiKTt2YXIgcD1bXTtyKGkucHJvdmlkZXJzKSYmKHA9dGhpcy5fZ2V0UHJvdmlkZXJzTWV0YWRhdGEoaS5wcm92aWRlcnMsYywncHJvdmlkZXJzIGZvciBcIicrR24odCkrJ1wiJyxbXSx0KSk7dmFyIGg9W10sZj1bXTtyKGkucXVlcmllcykmJihoPXRoaXMuX2dldFF1ZXJpZXNNZXRhZGF0YShpLnF1ZXJpZXMsITEsdCksZj10aGlzLl9nZXRRdWVyaWVzTWV0YWRhdGEoaS5xdWVyaWVzLCEwLHQpKTt2YXIgZD1Pcy5jcmVhdGUoe3NlbGVjdG9yOmwsZXhwb3J0QXM6aS5leHBvcnRBcyxpc0NvbXBvbmVudDohIW8sdHlwZTp0aGlzLl9nZXRUeXBlTWV0YWRhdGEodCksdGVtcGxhdGU6byxjaGFuZ2VEZXRlY3Rpb246YSxpbnB1dHM6aS5pbnB1dHMsb3V0cHV0czppLm91dHB1dHMsaG9zdDppLmhvc3QscHJvdmlkZXJzOnAsdmlld1Byb3ZpZGVyczp1LHF1ZXJpZXM6aCx2aWV3UXVlcmllczpmLGVudHJ5Q29tcG9uZW50czpjfSk7cmV0dXJue21ldGFkYXRhOmQsYW5ub3RhdGlvbjppfX0sdC5wcm90b3R5cGUuZ2V0RGlyZWN0aXZlTWV0YWRhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZGlyZWN0aXZlQ2FjaGUuZ2V0KHQpO3JldHVybiBlfHx0aGlzLl9yZXBvcnRFcnJvcihuZXcgY3MoXCJJbGxlZ2FsIHN0YXRlOiBnZXREaXJlY3RpdmVNZXRhZGF0YSBjYW4gb25seSBiZSBjYWxsZWQgYWZ0ZXIgbG9hZE5nTW9kdWxlRGlyZWN0aXZlQW5kUGlwZU1ldGFkYXRhIGZvciBhIG1vZHVsZSB0aGF0IGRlY2xhcmVzIGl0LiBEaXJlY3RpdmUgXCIrR24odCkrXCIuXCIpLHQpLGV9LHQucHJvdG90eXBlLmdldERpcmVjdGl2ZVN1bW1hcnk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbG9hZFN1bW1hcnkodCxTcy5EaXJlY3RpdmUpO3JldHVybiBlfHx0aGlzLl9yZXBvcnRFcnJvcihuZXcgY3MoXCJJbGxlZ2FsIHN0YXRlOiBDb3VsZCBub3QgbG9hZCB0aGUgc3VtbWFyeSBmb3IgZGlyZWN0aXZlIFwiK0duKHQpK1wiLlwiKSx0KSxlfSx0LnByb3RvdHlwZS5pc0RpcmVjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGlyZWN0aXZlUmVzb2x2ZXIuaXNEaXJlY3RpdmUodCl9LHQucHJvdG90eXBlLmlzUGlwZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcGlwZVJlc29sdmVyLmlzUGlwZSh0KX0sdC5wcm90b3R5cGUuZ2V0TmdNb2R1bGVTdW1tYXJ5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2xvYWRTdW1tYXJ5KHQsU3MuTmdNb2R1bGUpO2lmKCFlKXt2YXIgbj10aGlzLmdldE5nTW9kdWxlTWV0YWRhdGEodCwhMSk7ZT1uP24udG9TdW1tYXJ5KCk6bnVsbCxlJiZ0aGlzLl9zdW1tYXJ5Q2FjaGUuc2V0KHQsZSl9cmV0dXJuIGV9LHQucHJvdG90eXBlLmxvYWROZ01vZHVsZURpcmVjdGl2ZUFuZFBpcGVNZXRhZGF0YT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpczt2b2lkIDA9PT1uJiYobj0hMCk7dmFyIGk9dGhpcy5nZXROZ01vZHVsZU1ldGFkYXRhKHQsbiksbz1bXTtyZXR1cm4gaSYmKGkuZGVjbGFyZWREaXJlY3RpdmVzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49ci5fbG9hZERpcmVjdGl2ZU1ldGFkYXRhKHQucmVmZXJlbmNlLGUpO24mJm8ucHVzaChuKX0pLGkuZGVjbGFyZWRQaXBlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiByLl9sb2FkUGlwZU1ldGFkYXRhKHQucmVmZXJlbmNlKX0pKSxQcm9taXNlLmFsbChvKX0sdC5wcm90b3R5cGUuZ2V0TmdNb2R1bGVNZXRhZGF0YT1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXM7dm9pZCAwPT09biYmKG49ITApLHQ9ZS5yZXNvbHZlRm9yd2FyZFJlZih0KTt2YXIgaT10aGlzLl9uZ01vZHVsZUNhY2hlLmdldCh0KTtpZihpKXJldHVybiBpO3ZhciBvPXRoaXMuX25nTW9kdWxlUmVzb2x2ZXIucmVzb2x2ZSh0LG4pO2lmKCFvKXJldHVybiBudWxsO3ZhciBzPVtdLGE9W10sdT1bXSxjPVtdLGw9W10scD1bXSxoPVtdLGY9W10sZD1bXTtvLmltcG9ydHMmJkJuKG8uaW1wb3J0cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbjtpZihxbihlKSluPWU7ZWxzZSBpZihlJiZlLm5nTW9kdWxlKXt2YXIgaT1lO249aS5uZ01vZHVsZSxpLnByb3ZpZGVycyYmcC5wdXNoLmFwcGx5KHAsci5fZ2V0UHJvdmlkZXJzTWV0YWRhdGEoaS5wcm92aWRlcnMsaCxcInByb3ZpZGVyIGZvciB0aGUgTmdNb2R1bGUgJ1wiK0duKG4pK1wiJ1wiLFtdLGUpKX1pZighbilyZXR1cm4gdm9pZCByLl9yZXBvcnRFcnJvcihuZXcgY3MoXCJVbmV4cGVjdGVkIHZhbHVlICdcIitHbihlKStcIicgaW1wb3J0ZWQgYnkgdGhlIG1vZHVsZSAnXCIrR24odCkrXCInXCIpLHQpO3ZhciBvPXIuZ2V0TmdNb2R1bGVTdW1tYXJ5KG4pO3JldHVybiBvP3ZvaWQgYy5wdXNoKG8pOnZvaWQgci5fcmVwb3J0RXJyb3IobmV3IGNzKFwiVW5leHBlY3RlZCBcIityLl9nZXRUeXBlRGVzY3JpcHRvcihlKStcIiAnXCIrR24oZSkrXCInIGltcG9ydGVkIGJ5IHRoZSBtb2R1bGUgJ1wiK0duKHQpK1wiJ1wiKSx0KX0pLG8uZXhwb3J0cyYmQm4oby5leHBvcnRzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKCFxbihlKSlyZXR1cm4gdm9pZCByLl9yZXBvcnRFcnJvcihuZXcgY3MoXCJVbmV4cGVjdGVkIHZhbHVlICdcIitHbihlKStcIicgZXhwb3J0ZWQgYnkgdGhlIG1vZHVsZSAnXCIrR24odCkrXCInXCIpLHQpO3ZhciBuPXIuZ2V0TmdNb2R1bGVTdW1tYXJ5KGUpO24/bC5wdXNoKG4pOmEucHVzaChyLl9nZXRJZGVudGlmaWVyTWV0YWRhdGEoZSkpfSk7dmFyIHk9dGhpcy5fZ2V0VHJhbnNpdGl2ZU5nTW9kdWxlTWV0YWRhdGEoYyxsKTtvLmRlY2xhcmF0aW9ucyYmQm4oby5kZWNsYXJhdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoIXFuKGUpKXJldHVybiB2b2lkIHIuX3JlcG9ydEVycm9yKG5ldyBjcyhcIlVuZXhwZWN0ZWQgdmFsdWUgJ1wiK0duKGUpK1wiJyBkZWNsYXJlZCBieSB0aGUgbW9kdWxlICdcIitHbih0KStcIidcIiksdCk7dmFyIG49ci5fZ2V0SWRlbnRpZmllck1ldGFkYXRhKGUpO2lmKHIuX2RpcmVjdGl2ZVJlc29sdmVyLmlzRGlyZWN0aXZlKGUpKXkuYWRkRGlyZWN0aXZlKG4pLHMucHVzaChuKSxyLl9hZGRUeXBlVG9Nb2R1bGUoZSx0KTtlbHNle2lmKCFyLl9waXBlUmVzb2x2ZXIuaXNQaXBlKGUpKXJldHVybiB2b2lkIHIuX3JlcG9ydEVycm9yKG5ldyBjcyhcIlVuZXhwZWN0ZWQgXCIrci5fZ2V0VHlwZURlc2NyaXB0b3IoZSkrXCIgJ1wiK0duKGUpK1wiJyBkZWNsYXJlZCBieSB0aGUgbW9kdWxlICdcIitHbih0KStcIidcIiksdCk7eS5hZGRQaXBlKG4pLHkucGlwZXMucHVzaChuKSx1LnB1c2gobiksci5fYWRkVHlwZVRvTW9kdWxlKGUsdCl9fSk7dmFyIG09W10sdj1bXTtyZXR1cm4gYS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3kuZGlyZWN0aXZlc1NldC5oYXMoZS5yZWZlcmVuY2UpPyhtLnB1c2goZSkseS5hZGRFeHBvcnRlZERpcmVjdGl2ZShlKSk6eS5waXBlc1NldC5oYXMoZS5yZWZlcmVuY2UpPyh2LnB1c2goZSkseS5hZGRFeHBvcnRlZFBpcGUoZSkpOnIuX3JlcG9ydEVycm9yKG5ldyBjcyhcIkNhbid0IGV4cG9ydCBcIityLl9nZXRUeXBlRGVzY3JpcHRvcihlLnJlZmVyZW5jZSkrXCIgXCIrR24oZS5yZWZlcmVuY2UpK1wiIGZyb20gXCIrR24odCkrXCIgYXMgaXQgd2FzIG5laXRoZXIgZGVjbGFyZWQgbm9yIGltcG9ydGVkIVwiKSx0KX0pLG8ucHJvdmlkZXJzJiZwLnB1c2guYXBwbHkocCx0aGlzLl9nZXRQcm92aWRlcnNNZXRhZGF0YShvLnByb3ZpZGVycyxoLFwicHJvdmlkZXIgZm9yIHRoZSBOZ01vZHVsZSAnXCIrR24odCkrXCInXCIsW10sdCkpLG8uZW50cnlDb21wb25lbnRzJiZoLnB1c2guYXBwbHkoaCxCbihvLmVudHJ5Q29tcG9uZW50cykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiByLl9nZXRJZGVudGlmaWVyTWV0YWRhdGEodCl9KSksby5ib290c3RyYXAmJkJuKG8uYm9vdHN0cmFwKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBxbihlKT92b2lkIGYucHVzaChyLl9nZXRJZGVudGlmaWVyTWV0YWRhdGEoZSkpOnZvaWQgci5fcmVwb3J0RXJyb3IobmV3IGNzKFwiVW5leHBlY3RlZCB2YWx1ZSAnXCIrR24oZSkrXCInIHVzZWQgaW4gdGhlIGJvb3RzdHJhcCBwcm9wZXJ0eSBvZiBtb2R1bGUgJ1wiK0duKHQpK1wiJ1wiKSx0KX0pLGgucHVzaC5hcHBseShoLGYpLG8uc2NoZW1hcyYmZC5wdXNoLmFwcGx5KGQsQm4oby5zY2hlbWFzKSksaT1uZXcgQXMoe3R5cGU6dGhpcy5fZ2V0VHlwZU1ldGFkYXRhKHQpLHByb3ZpZGVyczpwLGVudHJ5Q29tcG9uZW50czpoLGJvb3RzdHJhcENvbXBvbmVudHM6ZixzY2hlbWFzOmQsZGVjbGFyZWREaXJlY3RpdmVzOnMsZXhwb3J0ZWREaXJlY3RpdmVzOm0sZGVjbGFyZWRQaXBlczp1LGV4cG9ydGVkUGlwZXM6dixpbXBvcnRlZE1vZHVsZXM6YyxleHBvcnRlZE1vZHVsZXM6bCx0cmFuc2l0aXZlTW9kdWxlOnksaWQ6by5pZH0pLGguZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4geS5hZGRFbnRyeUNvbXBvbmVudCh0KX0pLHAuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4geS5hZGRQcm92aWRlcih0LGkudHlwZSl9KSx5LmFkZE1vZHVsZShpLnR5cGUpLHRoaXMuX25nTW9kdWxlQ2FjaGUuc2V0KHQsaSksaX0sdC5wcm90b3R5cGUuX2dldFR5cGVEZXNjcmlwdG9yPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kaXJlY3RpdmVSZXNvbHZlci5pc0RpcmVjdGl2ZSh0KT9cImRpcmVjdGl2ZVwiOnRoaXMuX3BpcGVSZXNvbHZlci5pc1BpcGUodCk/XCJwaXBlXCI6dGhpcy5fbmdNb2R1bGVSZXNvbHZlci5pc05nTW9kdWxlKHQpP1wibW9kdWxlXCI6dC5wcm92aWRlP1wicHJvdmlkZXJcIjpcInZhbHVlXCJ9LHQucHJvdG90eXBlLl9hZGRUeXBlVG9Nb2R1bGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9uZ01vZHVsZU9mVHlwZXMuZ2V0KHQpO24mJm4hPT1lJiZ0aGlzLl9yZXBvcnRFcnJvcihuZXcgY3MoXCJUeXBlIFwiK0duKHQpK1wiIGlzIHBhcnQgb2YgdGhlIGRlY2xhcmF0aW9ucyBvZiAyIG1vZHVsZXM6IFwiK0duKG4pK1wiIGFuZCBcIitHbihlKStcIiEgXCIrKFwiUGxlYXNlIGNvbnNpZGVyIG1vdmluZyBcIitHbih0KStcIiB0byBhIGhpZ2hlciBtb2R1bGUgdGhhdCBpbXBvcnRzIFwiK0duKG4pK1wiIGFuZCBcIitHbihlKStcIi4gXCIpKyhcIllvdSBjYW4gYWxzbyBjcmVhdGUgYSBuZXcgTmdNb2R1bGUgdGhhdCBleHBvcnRzIGFuZCBpbmNsdWRlcyBcIitHbih0KStcIiB0aGVuIGltcG9ydCB0aGF0IE5nTW9kdWxlIGluIFwiK0duKG4pK1wiIGFuZCBcIitHbihlKStcIi5cIikpLGUpLHRoaXMuX25nTW9kdWxlT2ZUeXBlcy5zZXQodCxlKX0sdC5wcm90b3R5cGUuX2dldFRyYW5zaXRpdmVOZ01vZHVsZU1ldGFkYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IE1zLHI9bmV3IE1hcDtyZXR1cm4gdC5jb25jYXQoZSkuZm9yRWFjaChmdW5jdGlvbih0KXt0Lm1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5hZGRNb2R1bGUodCl9KSx0LmVudHJ5Q29tcG9uZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLmFkZEVudHJ5Q29tcG9uZW50KHQpfSk7dmFyIGU9bmV3IFNldDt0LnByb3ZpZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPUUodC5wcm92aWRlci50b2tlbiksbz1yLmdldChpKTtvfHwobz1uZXcgU2V0LHIuc2V0KGksbykpO3ZhciBzPXQubW9kdWxlLnJlZmVyZW5jZTshZS5oYXMoaSkmJm8uaGFzKHMpfHwoby5hZGQocyksZS5hZGQoaSksbi5hZGRQcm92aWRlcih0LnByb3ZpZGVyLHQubW9kdWxlKSl9KX0pLGUuZm9yRWFjaChmdW5jdGlvbih0KXt0LmV4cG9ydGVkRGlyZWN0aXZlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLmFkZEV4cG9ydGVkRGlyZWN0aXZlKHQpfSksdC5leHBvcnRlZFBpcGVzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG4uYWRkRXhwb3J0ZWRQaXBlKHQpfSl9KSx0LmZvckVhY2goZnVuY3Rpb24odCl7dC5leHBvcnRlZERpcmVjdGl2ZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5hZGREaXJlY3RpdmUodCl9KSx0LmV4cG9ydGVkUGlwZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5hZGRQaXBlKHQpfSl9KSxufSx0LnByb3RvdHlwZS5fZ2V0SWRlbnRpZmllck1ldGFkYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0PWUucmVzb2x2ZUZvcndhcmRSZWYodCkse3JlZmVyZW5jZTp0fX0sdC5wcm90b3R5cGUuaXNJbmplY3RhYmxlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX3JlZmxlY3Rvci5hbm5vdGF0aW9ucyh0KTtyZXR1cm4gbi5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnN0cnVjdG9yPT09ZS5JbmplY3RhYmxlfSl9LHQucHJvdG90eXBlLmdldEluamVjdGFibGVTdW1tYXJ5PWZ1bmN0aW9uKHQpe3JldHVybntzdW1tYXJ5S2luZDpTcy5JbmplY3RhYmxlLHR5cGU6dGhpcy5fZ2V0VHlwZU1ldGFkYXRhKHQpfX0sdC5wcm90b3R5cGUuX2dldEluamVjdGFibGVNZXRhZGF0YT1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPW51bGwpO3ZhciBuPXRoaXMuX2xvYWRTdW1tYXJ5KHQsU3MuSW5qZWN0YWJsZSk7cmV0dXJuIG4/bi50eXBlOnRoaXMuX2dldFR5cGVNZXRhZGF0YSh0LGUpfSx0LnByb3RvdHlwZS5fZ2V0VHlwZU1ldGFkYXRhPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9bnVsbCk7dmFyIG49dGhpcy5fZ2V0SWRlbnRpZmllck1ldGFkYXRhKHQpO3JldHVybntyZWZlcmVuY2U6bi5yZWZlcmVuY2UsZGlEZXBzOnRoaXMuX2dldERlcGVuZGVuY2llc01ldGFkYXRhKG4ucmVmZXJlbmNlLGUpLGxpZmVjeWNsZUhvb2tzOnVvLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gam4odCxuLnJlZmVyZW5jZSl9KX19LHQucHJvdG90eXBlLl9nZXRGYWN0b3J5TWV0YWRhdGE9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49bnVsbCksdD1lLnJlc29sdmVGb3J3YXJkUmVmKHQpLHtyZWZlcmVuY2U6dCxkaURlcHM6dGhpcy5fZ2V0RGVwZW5kZW5jaWVzTWV0YWRhdGEodCxuKX19LHQucHJvdG90eXBlLmdldFBpcGVNZXRhZGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9waXBlQ2FjaGUuZ2V0KHQpO3JldHVybiBlfHx0aGlzLl9yZXBvcnRFcnJvcihuZXcgY3MoXCJJbGxlZ2FsIHN0YXRlOiBnZXRQaXBlTWV0YWRhdGEgY2FuIG9ubHkgYmUgY2FsbGVkIGFmdGVyIGxvYWROZ01vZHVsZURpcmVjdGl2ZUFuZFBpcGVNZXRhZGF0YSBmb3IgYSBtb2R1bGUgdGhhdCBkZWNsYXJlcyBpdC4gUGlwZSBcIitHbih0KStcIi5cIiksdCksZX0sdC5wcm90b3R5cGUuZ2V0UGlwZVN1bW1hcnk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbG9hZFN1bW1hcnkodCxTcy5QaXBlKTtyZXR1cm4gZXx8dGhpcy5fcmVwb3J0RXJyb3IobmV3IGNzKFwiSWxsZWdhbCBzdGF0ZTogQ291bGQgbm90IGxvYWQgdGhlIHN1bW1hcnkgZm9yIHBpcGUgXCIrR24odCkrXCIuXCIpLHQpLGV9LHQucHJvdG90eXBlLmdldE9yTG9hZFBpcGVNZXRhZGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9waXBlQ2FjaGUuZ2V0KHQpO3JldHVybiBlfHwoZT10aGlzLl9sb2FkUGlwZU1ldGFkYXRhKHQpKSxlfSx0LnByb3RvdHlwZS5fbG9hZFBpcGVNZXRhZGF0YT1mdW5jdGlvbih0KXt0PWUucmVzb2x2ZUZvcndhcmRSZWYodCk7dmFyIG49dGhpcy5fcGlwZVJlc29sdmVyLnJlc29sdmUodCkscj1uZXcgVHMoe3R5cGU6dGhpcy5fZ2V0VHlwZU1ldGFkYXRhKHQpLG5hbWU6bi5uYW1lLHB1cmU6bi5wdXJlfSk7cmV0dXJuIHRoaXMuX3BpcGVDYWNoZS5zZXQodCxyKSx0aGlzLl9zdW1tYXJ5Q2FjaGUuc2V0KHQsci50b1N1bW1hcnkoKSkscn0sdC5wcm90b3R5cGUuX2dldERlcGVuZGVuY2llc01ldGFkYXRhPWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpcyxvPSExLHM9bnx8dGhpcy5fcmVmbGVjdG9yLnBhcmFtZXRlcnModCl8fFtdLGE9cy5tYXAoZnVuY3Rpb24odCl7dmFyIG49ITEscz0hMSxhPSExLHU9ITEsYz0hMSxsPW51bGw7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBlLkhvc3Q/cz0hMDp0IGluc3RhbmNlb2YgZS5TZWxmP2E9ITA6dCBpbnN0YW5jZW9mIGUuU2tpcFNlbGY/dT0hMDp0IGluc3RhbmNlb2YgZS5PcHRpb25hbD9jPSEwOnQgaW5zdGFuY2VvZiBlLkF0dHJpYnV0ZT8obj0hMCxsPXQuYXR0cmlidXRlTmFtZSk6dCBpbnN0YW5jZW9mIGUuSW5qZWN0P2w9dC50b2tlbjpxbih0KSYmaShsKSYmKGw9dCl9KTpsPXQsaShsKT8obz0hMCxudWxsKTp7aXNBdHRyaWJ1dGU6bixpc0hvc3Q6cyxpc1NlbGY6YSxpc1NraXBTZWxmOnUsaXNPcHRpb25hbDpjLHRva2VuOnIuX2dldFRva2VuTWV0YWRhdGEobCl9fSk7aWYobyl7dmFyIHU9YS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQ/R24odC50b2tlbik6XCI/XCJ9KS5qb2luKFwiLCBcIik7dGhpcy5fcmVwb3J0RXJyb3IobmV3IGNzKFwiQ2FuJ3QgcmVzb2x2ZSBhbGwgcGFyYW1ldGVycyBmb3IgXCIrR24odCkrXCI6IChcIit1K1wiKS5cIiksdCl9cmV0dXJuIGF9LHQucHJvdG90eXBlLl9nZXRUb2tlbk1ldGFkYXRhPWZ1bmN0aW9uKHQpe3Q9ZS5yZXNvbHZlRm9yd2FyZFJlZih0KTt2YXIgbjtyZXR1cm4gbj1cInN0cmluZ1wiPT10eXBlb2YgdD97dmFsdWU6dH06e2lkZW50aWZpZXI6e3JlZmVyZW5jZTp0fX19LHQucHJvdG90eXBlLl9nZXRQcm92aWRlcnNNZXRhZGF0YT1mdW5jdGlvbih0LG4scixpLG8pe3ZhciBzPXRoaXM7cmV0dXJuIHZvaWQgMD09PWkmJihpPVtdKSx0LmZvckVhY2goZnVuY3Rpb24oYSx1KXtpZihBcnJheS5pc0FycmF5KGEpKXMuX2dldFByb3ZpZGVyc01ldGFkYXRhKGEsbixyLGkpO2Vsc2V7YT1lLnJlc29sdmVGb3J3YXJkUmVmKGEpO3ZhciBjPXZvaWQgMDtpZihhJiZcIm9iamVjdFwiPT10eXBlb2YgYSYmYS5oYXNPd25Qcm9wZXJ0eShcInByb3ZpZGVcIikpYz1uZXcga3MoYS5wcm92aWRlLGEpO2Vsc2UgaWYocW4oYSkpYz1uZXcga3MoYSx7dXNlQ2xhc3M6YX0pO2Vsc2V7dmFyIGw9dC5yZWR1Y2UoZnVuY3Rpb24odCxlLG4pe3JldHVybiBuPHU/dC5wdXNoKFwiXCIrR24oZSkpOm49PXU/dC5wdXNoKFwiP1wiK0duKGUpK1wiP1wiKTpuPT11KzEmJnQucHVzaChcIi4uLlwiKSx0fSxbXSkuam9pbihcIiwgXCIpO3MuX3JlcG9ydEVycm9yKG5ldyBjcyhcIkludmFsaWQgXCIrKHI/cjpcInByb3ZpZGVyXCIpK1wiIC0gb25seSBpbnN0YW5jZXMgb2YgUHJvdmlkZXIgYW5kIFR5cGUgYXJlIGFsbG93ZWQsIGdvdDogW1wiK2wrXCJdXCIpLG8pfWMudG9rZW49PT1RdChfbC5BTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTKT9uLnB1c2guYXBwbHkobixzLl9nZXRFbnRyeUNvbXBvbmVudHNGcm9tUHJvdmlkZXIoYyxvKSk6aS5wdXNoKHMuZ2V0UHJvdmlkZXJNZXRhZGF0YShjKSl9fSksaX0sdC5wcm90b3R5cGUuX2dldEVudHJ5Q29tcG9uZW50c0Zyb21Qcm92aWRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1bXSxpPVtdO3JldHVybiB0LnVzZUZhY3Rvcnl8fHQudXNlRXhpc3Rpbmd8fHQudXNlQ2xhc3M/KHRoaXMuX3JlcG9ydEVycm9yKG5ldyBjcyhcIlRoZSBBTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTIHRva2VuIG9ubHkgc3VwcG9ydHMgdXNlVmFsdWUhXCIpLGUpLFtdKTp0Lm11bHRpPyhXbih0LnVzZVZhbHVlLGkpLGkuZm9yRWFjaChmdW5jdGlvbih0KXsobi5fZGlyZWN0aXZlUmVzb2x2ZXIuaXNEaXJlY3RpdmUodC5yZWZlcmVuY2UpfHxuLl9sb2FkU3VtbWFyeSh0LnJlZmVyZW5jZSxTcy5EaXJlY3RpdmUpKSYmci5wdXNoKHQpfSkscik6KHRoaXMuX3JlcG9ydEVycm9yKG5ldyBjcyhcIlRoZSBBTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTIHRva2VuIG9ubHkgc3VwcG9ydHMgJ211bHRpID0gdHJ1ZSchXCIpLGUpLFtdKX0sdC5wcm90b3R5cGUuZ2V0UHJvdmlkZXJNZXRhZGF0YT1mdW5jdGlvbih0KXt2YXIgZSxuPW51bGwscj1udWxsLGk9dGhpcy5fZ2V0VG9rZW5NZXRhZGF0YSh0LnRva2VuKTtyZXR1cm4gdC51c2VDbGFzcz8obj10aGlzLl9nZXRJbmplY3RhYmxlTWV0YWRhdGEodC51c2VDbGFzcyx0LmRlcGVuZGVuY2llcyksZT1uLmRpRGVwcyx0LnRva2VuPT09dC51c2VDbGFzcyYmKGk9e2lkZW50aWZpZXI6bn0pKTp0LnVzZUZhY3RvcnkmJihyPXRoaXMuX2dldEZhY3RvcnlNZXRhZGF0YSh0LnVzZUZhY3RvcnksdC5kZXBlbmRlbmNpZXMpLGU9ci5kaURlcHMpLHt0b2tlbjppLHVzZUNsYXNzOm4sdXNlVmFsdWU6dC51c2VWYWx1ZSx1c2VGYWN0b3J5OnIsdXNlRXhpc3Rpbmc6dC51c2VFeGlzdGluZz90aGlzLl9nZXRUb2tlbk1ldGFkYXRhKHQudXNlRXhpc3RpbmcpOm51bGwsZGVwczplLG11bHRpOnQubXVsdGl9fSx0LnByb3RvdHlwZS5fZ2V0UXVlcmllc01ldGFkYXRhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLGk9W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIHM9dFtvXTtzLmlzVmlld1F1ZXJ5PT09ZSYmaS5wdXNoKHIuX2dldFF1ZXJ5TWV0YWRhdGEocyxvLG4pKX0pLGl9LHQucHJvdG90eXBlLl9xdWVyeVZhckJpbmRpbmdzPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNwbGl0KC9cXHMqLFxccyovKX0sdC5wcm90b3R5cGUuX2dldFF1ZXJ5TWV0YWRhdGE9ZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9dGhpcztyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdC5zZWxlY3Rvcj9yPXRoaXMuX3F1ZXJ5VmFyQmluZGluZ3ModC5zZWxlY3RvcikubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBpLl9nZXRUb2tlbk1ldGFkYXRhKHQpfSk6KHQuc2VsZWN0b3J8fHRoaXMuX3JlcG9ydEVycm9yKG5ldyBjcyhcIkNhbid0IGNvbnN0cnVjdCBhIHF1ZXJ5IGZvciB0aGUgcHJvcGVydHkgXFxcIlwiK2UrJ1wiIG9mIFwiJytHbihuKStcIlxcXCIgc2luY2UgdGhlIHF1ZXJ5IHNlbGVjdG9yIHdhc24ndCBkZWZpbmVkLlwiKSxuKSxyPVt0aGlzLl9nZXRUb2tlbk1ldGFkYXRhKHQuc2VsZWN0b3IpXSkse3NlbGVjdG9yczpyLGZpcnN0OnQuZmlyc3QsZGVzY2VuZGFudHM6dC5kZXNjZW5kYW50cyxwcm9wZXJ0eU5hbWU6ZSxyZWFkOnQucmVhZD90aGlzLl9nZXRUb2tlbk1ldGFkYXRhKHQucmVhZCk6bnVsbH19LHQucHJvdG90eXBlLl9yZXBvcnRFcnJvcj1mdW5jdGlvbih0LGUsbil7aWYoIXRoaXMuX2Vycm9yQ29sbGVjdG9yKXRocm93IHQ7dGhpcy5fZXJyb3JDb2xsZWN0b3IodCxlKSxuJiZ0aGlzLl9lcnJvckNvbGxlY3Rvcih0LG4pfSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOm5kfSx7dHlwZTpfaH0se3R5cGU6b2R9LHt0eXBlOnVkfSx7dHlwZTpNbH0se3R5cGU6eWh9LHt0eXBlOmNvfSx7dHlwZTp2b2lkIDAsZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5JbmplY3QsYXJnczpbaGRdfV19XX0sdD1sZChbTSgpLHBkKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbbmQsX2gsb2QsdWQsTWwseWgsY28sRnVuY3Rpb25dKV0sdCl9KCksZGQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBjZChlLHQpLGUucHJvdG90eXBlLnZpc2l0T3RoZXI9ZnVuY3Rpb24odCxlKXtlLnB1c2goe3JlZmVyZW5jZTp0fSl9LGV9KGFzKSx5ZD1cIiRxdW90ZWQkXCIsbWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS52aXNpdEFycmF5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gWWUodC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGcodCxuLG51bGwpfSksZSl9LHQucHJvdG90eXBlLnZpc2l0U3RyaW5nTWFwPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPVtdLGk9bmV3IFNldCh0JiZ0W3lkXSk7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oZSl7ci5wdXNoKG5ldyBuZihlLGcodFtlXSxuLG51bGwpLGkuaGFzKGUpKSl9KSxuZXcgcmYocixlKX0sdC5wcm90b3R5cGUudmlzaXRQcmltaXRpdmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdG4odCxlKX0sdC5wcm90b3R5cGUudmlzaXRPdGhlcj1mdW5jdGlvbih0LGUpe3JldHVybiB0IGluc3RhbmNlb2YgRGg/dDpYZSh7cmVmZXJlbmNlOnR9KX0sdH0oKSx2ZD10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSxnZD10aGlzJiZ0aGlzLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sX2Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5jb21wPXQsdGhpcy5wbGFjZWhvbGRlcj1lfXJldHVybiB0fSgpLGJkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5zdGF0ZW1lbnRzPXQsdGhpcy5uZ01vZHVsZUZhY3RvcnlWYXI9ZSx0aGlzLmRlcGVuZGVuY2llcz1ufXJldHVybiB0fSgpLHdkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuY29tcGlsZT1mdW5jdGlvbih0LGUpe3ZhciBuPXcodC50eXBlKSxpPXIobik/XCJpbiBOZ01vZHVsZSBcIitiKHQudHlwZSkrXCIgaW4gXCIrbjpcImluIE5nTW9kdWxlIFwiK2IodC50eXBlKSxvPW5ldyB4dShcIlwiLGkpLHM9bmV3IFB1KG5ldyBTdShvLG51bGwsbnVsbCxudWxsKSxuZXcgU3UobyxudWxsLG51bGwsbnVsbCkpLGE9W10sdT1bXSxjPXQudHJhbnNpdGl2ZU1vZHVsZS5lbnRyeUNvbXBvbmVudHMubWFwKGZ1bmN0aW9uKGUpe3ZhciBuPXtyZWZlcmVuY2U6bnVsbH07cmV0dXJuIHQuYm9vdHN0cmFwQ29tcG9uZW50cy5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlZmVyZW5jZT09PWUucmVmZXJlbmNlfSkmJnUucHVzaChuKSxhLnB1c2gobmV3IF9kKGUsbikpLG59KSxsPW5ldyBDZCh0LGMsdSxzKSxwPW5ldyBBbCh0LGUscyk7cC5wYXJzZSgpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGwuYWRkUHJvdmlkZXIodCl9KTt2YXIgaD1sLmJ1aWxkKCksZj1iKHQudHlwZSkrXCJOZ0ZhY3RvcnlcIixkPUdlKGYpLnNldChYZShZdChfbC5OZ01vZHVsZUZhY3RvcnkpKS5pbnN0YW50aWF0ZShbR2UoaC5uYW1lKSxYZSh0LnR5cGUpXSwkZShZdChfbC5OZ01vZHVsZUZhY3RvcnkpLFskZSh0LnR5cGUpXSxbd2guQ29uc3RdKSkpLnRvRGVjbFN0bXQobnVsbCxbY2YuRmluYWxdKSx5PVtoLGRdO2lmKHQuaWQpe3ZhciBtPVhlKFl0KF9sLlJlZ2lzdGVyTW9kdWxlRmFjdG9yeUZuKSkuY2FsbEZuKFt0bih0LmlkKSxHZShmKV0pLnRvU3RtdCgpO3kucHVzaChtKX1yZXR1cm4gbmV3IGJkKHksZixhKX0sdD12ZChbTSgpLGdkKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLHQpfSgpLENkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9uZ01vZHVsZU1ldGE9dCx0aGlzLl9lbnRyeUNvbXBvbmVudEZhY3Rvcmllcz1lLHRoaXMuX2Jvb3RzdHJhcENvbXBvbmVudEZhY3Rvcmllcz1uLHRoaXMuX3NvdXJjZVNwYW49cix0aGlzLmZpZWxkcz1bXSx0aGlzLmdldHRlcnM9W10sdGhpcy5tZXRob2RzPVtdLHRoaXMuY3RvclN0bXRzPVtdLHRoaXMuX3Rva2Vucz1bXSx0aGlzLl9pbnN0YW5jZXM9bmV3IE1hcCx0aGlzLl9jcmVhdGVTdG10cz1bXSx0aGlzLl9kZXN0cm95U3RtdHM9W119cmV0dXJuIHQucHJvdG90eXBlLmFkZFByb3ZpZGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnByb3ZpZGVycy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2dldFByb3ZpZGVyVmFsdWUodCl9KSxyPVwiX1wiK0ModC50b2tlbikrXCJfXCIrdGhpcy5faW5zdGFuY2VzLnNpemUsaT10aGlzLl9jcmVhdGVQcm92aWRlclByb3BlcnR5KHIsdCxuLHQubXVsdGlQcm92aWRlcix0LmVhZ2VyKTt0LmxpZmVjeWNsZUhvb2tzLmluZGV4T2YoYW8uT25EZXN0cm95KSE9PS0xJiZ0aGlzLl9kZXN0cm95U3RtdHMucHVzaChpLmNhbGxNZXRob2QoXCJuZ09uRGVzdHJveVwiLFtdKS50b1N0bXQoKSksdGhpcy5fdG9rZW5zLnB1c2godC50b2tlbiksdGhpcy5faW5zdGFuY2VzLnNldChFKHQudG9rZW4pLGkpfSx0LnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLl90b2tlbnMubWFwKGZ1bmN0aW9uKGUpe3ZhciBuPXQuX2luc3RhbmNlcy5nZXQoRShlKSk7cmV0dXJuIG5ldyBiZihTZC50b2tlbi5pZGVudGljYWwob24oZSkpLFtuZXcgZGYobildKX0pLG49W25ldyB2ZihcImNyZWF0ZUludGVybmFsXCIsW10sdGhpcy5fY3JlYXRlU3RtdHMuY29uY2F0KG5ldyBkZih0aGlzLl9pbnN0YW5jZXMuZ2V0KHRoaXMuX25nTW9kdWxlTWV0YS50eXBlLnJlZmVyZW5jZSkpKSwkZSh0aGlzLl9uZ01vZHVsZU1ldGEudHlwZSkpLG5ldyB2ZihcImdldEludGVybmFsXCIsW25ldyBZaChTZC50b2tlbi5uYW1lLFRoKSxuZXcgWWgoU2Qubm90Rm91bmRSZXN1bHQubmFtZSxUaCldLGUuY29uY2F0KFtuZXcgZGYoU2Qubm90Rm91bmRSZXN1bHQpXSksVGgpLG5ldyB2ZihcImRlc3Ryb3lJbnRlcm5hbFwiLFtdLHRoaXMuX2Rlc3Ryb3lTdG10cyldLHI9W0dlKEVkLnBhcmVudC5uYW1lKSxZZSh0aGlzLl9lbnRyeUNvbXBvbmVudEZhY3Rvcmllcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIFhlKHQpfSkpLFllKHRoaXMuX2Jvb3RzdHJhcENvbXBvbmVudEZhY3Rvcmllcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIFhlKHQpfSkpXSxpPWIodGhpcy5fbmdNb2R1bGVNZXRhLnR5cGUpK1wiSW5qZWN0b3JcIjtyZXR1cm4gT24oe25hbWU6aSxjdG9yUGFyYW1zOltuZXcgWWgoRWQucGFyZW50Lm5hbWUsJGUoWXQoX2wuSW5qZWN0b3IpKSldLHBhcmVudDpYZShZdChfbC5OZ01vZHVsZUluamVjdG9yKSxbJGUodGhpcy5fbmdNb2R1bGVNZXRhLnR5cGUpXSkscGFyZW50QXJnczpyLGJ1aWxkZXJzOlt7bWV0aG9kczpufSx0aGlzXX0pfSx0LnByb3RvdHlwZS5fZ2V0UHJvdmlkZXJWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXM7aWYocih0LnVzZUV4aXN0aW5nKSllPXRoaXMuX2dldERlcGVuZGVuY3koe3Rva2VuOnQudXNlRXhpc3Rpbmd9KTtlbHNlIGlmKHIodC51c2VGYWN0b3J5KSl7dmFyIGk9dC5kZXBzfHx0LnVzZUZhY3RvcnkuZGlEZXBzLG89aS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4uX2dldERlcGVuZGVuY3kodCl9KTtlPVhlKHQudXNlRmFjdG9yeSkuY2FsbEZuKG8pfWVsc2UgaWYocih0LnVzZUNsYXNzKSl7dmFyIGk9dC5kZXBzfHx0LnVzZUNsYXNzLmRpRGVwcyxvPWkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuLl9nZXREZXBlbmRlbmN5KHQpfSk7ZT1YZSh0LnVzZUNsYXNzKS5pbnN0YW50aWF0ZShvLCRlKHQudXNlQ2xhc3MpKX1lbHNlIGU9WG4odC51c2VWYWx1ZSk7cmV0dXJuIGV9LHQucHJvdG90eXBlLl9jcmVhdGVQcm92aWRlclByb3BlcnR5PWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG8scztpZihyPyhvPVllKG4pLHM9bmV3IFBoKFRoKSk6KG89blswXSxzPW5bMF0udHlwZSksc3x8KHM9VGgpLGkpdGhpcy5maWVsZHMucHVzaChuZXcgbWYodCxzKSksdGhpcy5fY3JlYXRlU3RtdHMucHVzaChvZi5wcm9wKHQpLnNldChvKS50b1N0bXQoKSk7ZWxzZXt2YXIgYT1cIl9cIit0O3RoaXMuZmllbGRzLnB1c2gobmV3IG1mKGEscykpO3ZhciB1PVtuZXcgYmYob2YucHJvcChhKS5pc0JsYW5rKCksW29mLnByb3AoYSkuc2V0KG8pLnRvU3RtdCgpXSksbmV3IGRmKG9mLnByb3AoYSkpXTt0aGlzLmdldHRlcnMucHVzaChuZXcgZ2YodCx1LHMpKX1yZXR1cm4gb2YucHJvcCh0KX0sdC5wcm90b3R5cGUuX2dldERlcGVuZGVuY3k9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDtpZih0LmlzVmFsdWUmJihlPXRuKHQudmFsdWUpKSx0LmlzU2tpcFNlbGZ8fCghdC50b2tlbnx8RSh0LnRva2VuKSE9PVF0KF9sLkluamVjdG9yKSYmRSh0LnRva2VuKSE9PVF0KF9sLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcil8fChlPW9mKSxlfHwoZT10aGlzLl9pbnN0YW5jZXMuZ2V0KEUodC50b2tlbikpKSksIWUpe3ZhciBuPVtvbih0LnRva2VuKV07dC5pc09wdGlvbmFsJiZuLnB1c2goYWYpLGU9RWQucGFyZW50LmNhbGxNZXRob2QoXCJnZXRcIixuKX1yZXR1cm4gZX0sdH0oKSxFZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucGFyZW50PW9mLnByb3AoXCJwYXJlbnRcIiksdH0oKSxTZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQudG9rZW49R2UoXCJ0b2tlblwiKSx0Lm5vdEZvdW5kUmVzdWx0PUdlKFwibm90Rm91bmRSZXN1bHRcIiksdH0oKSx4ZD0vJ3xcXFxcfFxcbnxcXHJ8XFwkL2csUGQ9L15bJEEtWl9dWzAtOUEtWl8kXSokL2ksT2Q9R2UoXCJlcnJvclwiKSxUZD1HZShcInN0YWNrXCIpLEFkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmluZGVudD10LHRoaXMucGFydHM9W119cmV0dXJuIHR9KCksTWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fZXhwb3J0ZWRWYXJzPXQsdGhpcy5faW5kZW50PWUsdGhpcy5fY2xhc3Nlcz1bXSx0aGlzLl9saW5lcz1bbmV3IEFkKGUpXX1yZXR1cm4gdC5jcmVhdGVSb290PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdChlLDApfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJfY3VycmVudExpbmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmVzW3RoaXMuX2xpbmVzLmxlbmd0aC0xXX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5pc0V4cG9ydGVkVmFyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9leHBvcnRlZFZhcnMuaW5kZXhPZih0KSE9PS0xfSx0LnByb3RvdHlwZS5wcmludGxuPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PVwiXCIpLHRoaXMucHJpbnQodCwhMCl9LHQucHJvdG90eXBlLmxpbmVJc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9jdXJyZW50TGluZS5wYXJ0cy5sZW5ndGh9LHQucHJvdG90eXBlLnByaW50PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpLHQubGVuZ3RoPjAmJnRoaXMuX2N1cnJlbnRMaW5lLnBhcnRzLnB1c2godCksZSYmdGhpcy5fbGluZXMucHVzaChuZXcgQWQodGhpcy5faW5kZW50KSl9LHQucHJvdG90eXBlLnJlbW92ZUVtcHR5TGFzdExpbmU9ZnVuY3Rpb24oKXt0aGlzLmxpbmVJc0VtcHR5KCkmJnRoaXMuX2xpbmVzLnBvcCgpfSx0LnByb3RvdHlwZS5pbmNJbmRlbnQ9ZnVuY3Rpb24oKXt0aGlzLl9pbmRlbnQrKyx0aGlzLl9jdXJyZW50TGluZS5pbmRlbnQ9dGhpcy5faW5kZW50fSx0LnByb3RvdHlwZS5kZWNJbmRlbnQ9ZnVuY3Rpb24oKXt0aGlzLl9pbmRlbnQtLSx0aGlzLl9jdXJyZW50TGluZS5pbmRlbnQ9dGhpcy5faW5kZW50fSx0LnByb3RvdHlwZS5wdXNoQ2xhc3M9ZnVuY3Rpb24odCl7dGhpcy5fY2xhc3Nlcy5wdXNoKHQpfSx0LnByb3RvdHlwZS5wb3BDbGFzcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jbGFzc2VzLnBvcCgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjdXJyZW50Q2xhc3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NsYXNzZXMubGVuZ3RoPjA/dGhpcy5fY2xhc3Nlc1t0aGlzLl9jbGFzc2VzLmxlbmd0aC0xXTpudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU291cmNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbGluZXM7cmV0dXJuIDA9PT10W3QubGVuZ3RoLTFdLnBhcnRzLmxlbmd0aCYmKHQ9dC5zbGljZSgwLHQubGVuZ3RoLTEpKSx0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJ0cy5sZW5ndGg+MD9Rbih0LmluZGVudCkrdC5wYXJ0cy5qb2luKFwiXCIpOlwiXCJ9KS5qb2luKFwiXFxuXCIpfSx0fSgpLGtkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9lc2NhcGVEb2xsYXJJblN0cmluZ3M9dH1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uU3RtdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmV4cHIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksZS5wcmludGxuKFwiO1wiKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdFJldHVyblN0bXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5wcmludChcInJldHVybiBcIiksdC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcyxlKSxlLnByaW50bG4oXCI7XCIpLG51bGx9LHQucHJvdG90eXBlLnZpc2l0Q2FzdEV4cHI9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0RGVjbGFyZUNsYXNzU3RtdD1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudmlzaXRJZlN0bXQ9ZnVuY3Rpb24odCxlKXtlLnByaW50KFwiaWYgKFwiKSx0LmNvbmRpdGlvbi52aXNpdEV4cHJlc3Npb24odGhpcyxlKSxlLnByaW50KFwiKSB7XCIpO3ZhciBuPXIodC5mYWxzZUNhc2UpJiZ0LmZhbHNlQ2FzZS5sZW5ndGg+MDtyZXR1cm4gdC50cnVlQ2FzZS5sZW5ndGg8PTEmJiFuPyhlLnByaW50KFwiIFwiKSx0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyh0LnRydWVDYXNlLGUpLGUucmVtb3ZlRW1wdHlMYXN0TGluZSgpLGUucHJpbnQoXCIgXCIpKTooZS5wcmludGxuKCksZS5pbmNJbmRlbnQoKSx0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyh0LnRydWVDYXNlLGUpLGUuZGVjSW5kZW50KCksbiYmKGUucHJpbnRsbihcIn0gZWxzZSB7XCIpLGUuaW5jSW5kZW50KCksdGhpcy52aXNpdEFsbFN0YXRlbWVudHModC5mYWxzZUNhc2UsZSksZS5kZWNJbmRlbnQoKSkpLGUucHJpbnRsbihcIn1cIiksbnVsbH0sdC5wcm90b3R5cGUudmlzaXRUcnlDYXRjaFN0bXQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0VGhyb3dTdG10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucHJpbnQoXCJ0aHJvdyBcIiksdC5lcnJvci52aXNpdEV4cHJlc3Npb24odGhpcyxlKSxlLnByaW50bG4oXCI7XCIpLG51bGx9LHQucHJvdG90eXBlLnZpc2l0Q29tbWVudFN0bXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmNvbW1lbnQuc3BsaXQoXCJcXG5cIik7cmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbih0KXtlLnByaW50bG4oXCIvLyBcIit0KX0pLG51bGx9LHQucHJvdG90eXBlLnZpc2l0RGVjbGFyZVZhclN0bXQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnZpc2l0V3JpdGVWYXJFeHByPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5saW5lSXNFbXB0eSgpO3JldHVybiBufHxlLnByaW50KFwiKFwiKSxlLnByaW50KHQubmFtZStcIiA9IFwiKSx0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLG58fGUucHJpbnQoXCIpXCIpLG51bGx9LHQucHJvdG90eXBlLnZpc2l0V3JpdGVLZXlFeHByPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5saW5lSXNFbXB0eSgpO3JldHVybiBufHxlLnByaW50KFwiKFwiKSx0LnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLGUucHJpbnQoXCJbXCIpLHQuaW5kZXgudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksZS5wcmludChcIl0gPSBcIiksdC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcyxlKSxufHxlLnByaW50KFwiKVwiKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdFdyaXRlUHJvcEV4cHI9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmxpbmVJc0VtcHR5KCk7cmV0dXJuIG58fGUucHJpbnQoXCIoXCIpLHQucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksZS5wcmludChcIi5cIit0Lm5hbWUrXCIgPSBcIiksdC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcyxlKSxufHxlLnByaW50KFwiKVwiKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdEludm9rZU1ldGhvZEV4cHI9ZnVuY3Rpb24odCxlKXt0LnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpO3ZhciBuPXQubmFtZTtyZXR1cm4gcih0LmJ1aWx0aW4pJiYobj10aGlzLmdldEJ1aWx0aW5NZXRob2ROYW1lKHQuYnVpbHRpbiksaShuKSk/bnVsbDooZS5wcmludChcIi5cIituK1wiKFwiKSx0aGlzLnZpc2l0QWxsRXhwcmVzc2lvbnModC5hcmdzLGUsXCIsXCIpLGUucHJpbnQoXCIpXCIpLG51bGwpfSx0LnByb3RvdHlwZS5nZXRCdWlsdGluTWV0aG9kTmFtZT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnZpc2l0SW52b2tlRnVuY3Rpb25FeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZm4udmlzaXRFeHByZXNzaW9uKHRoaXMsZSksZS5wcmludChcIihcIiksdGhpcy52aXNpdEFsbEV4cHJlc3Npb25zKHQuYXJncyxlLFwiLFwiKSxlLnByaW50KFwiKVwiKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdFJlYWRWYXJFeHByPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5uYW1lO2lmKHIodC5idWlsdGluKSlzd2l0Y2godC5idWlsdGluKXtjYXNlIGpoLlN1cGVyOm49XCJzdXBlclwiO2JyZWFrO2Nhc2UgamguVGhpczpuPVwidGhpc1wiO2JyZWFrO2Nhc2UgamguQ2F0Y2hFcnJvcjpuPU9kLm5hbWU7YnJlYWs7Y2FzZSBqaC5DYXRjaFN0YWNrOm49VGQubmFtZTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVua25vd24gYnVpbHRpbiB2YXJpYWJsZSBcIit0LmJ1aWx0aW4pfXJldHVybiBlLnByaW50KG4pLG51bGx9LHQucHJvdG90eXBlLnZpc2l0SW5zdGFudGlhdGVFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucHJpbnQoXCJuZXcgXCIpLHQuY2xhc3NFeHByLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLGUucHJpbnQoXCIoXCIpLHRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyh0LmFyZ3MsZSxcIixcIiksZS5wcmludChcIilcIiksbnVsbH0sdC5wcm90b3R5cGUudmlzaXRMaXRlcmFsRXhwcj1mdW5jdGlvbih0LGUpe3ZhciBuPXQudmFsdWU7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG4/ZS5wcmludCgkbihuLHRoaXMuX2VzY2FwZURvbGxhckluU3RyaW5ncykpOmUucHJpbnQoXCJcIituKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdEV4dGVybmFsRXhwcj1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudmlzaXRDb25kaXRpb25hbEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5wcmludChcIihcIiksdC5jb25kaXRpb24udmlzaXRFeHByZXNzaW9uKHRoaXMsZSksZS5wcmludChcIj8gXCIpLHQudHJ1ZUNhc2UudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksZS5wcmludChcIjogXCIpLHQuZmFsc2VDYXNlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLGUucHJpbnQoXCIpXCIpLG51bGx9LHQucHJvdG90eXBlLnZpc2l0Tm90RXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiBlLnByaW50KFwiIVwiKSx0LmNvbmRpdGlvbi52aXNpdEV4cHJlc3Npb24odGhpcyxlKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdEZ1bmN0aW9uRXhwcj1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudmlzaXREZWNsYXJlRnVuY3Rpb25TdG10PWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS52aXNpdEJpbmFyeU9wZXJhdG9yRXhwcj1mdW5jdGlvbih0LGUpe3ZhciBuO3N3aXRjaCh0Lm9wZXJhdG9yKXtjYXNlIE5oLkVxdWFsczpuPVwiPT1cIjticmVhaztjYXNlIE5oLklkZW50aWNhbDpuPVwiPT09XCI7YnJlYWs7Y2FzZSBOaC5Ob3RFcXVhbHM6bj1cIiE9XCI7YnJlYWs7Y2FzZSBOaC5Ob3RJZGVudGljYWw6bj1cIiE9PVwiO2JyZWFrO2Nhc2UgTmguQW5kOm49XCImJlwiO2JyZWFrO2Nhc2UgTmguT3I6bj1cInx8XCI7YnJlYWs7Y2FzZSBOaC5QbHVzOm49XCIrXCI7YnJlYWs7Y2FzZSBOaC5NaW51czpuPVwiLVwiO2JyZWFrO2Nhc2UgTmguRGl2aWRlOm49XCIvXCI7YnJlYWs7Y2FzZSBOaC5NdWx0aXBseTpuPVwiKlwiO2JyZWFrO2Nhc2UgTmguTW9kdWxvOm49XCIlXCI7YnJlYWs7Y2FzZSBOaC5Mb3dlcjpuPVwiPFwiO2JyZWFrO2Nhc2UgTmguTG93ZXJFcXVhbHM6bj1cIjw9XCI7YnJlYWs7Y2FzZSBOaC5CaWdnZXI6bj1cIj5cIjticmVhaztjYXNlIE5oLkJpZ2dlckVxdWFsczpuPVwiPj1cIjticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVua25vd24gb3BlcmF0b3IgXCIrdC5vcGVyYXRvcil9cmV0dXJuIGUucHJpbnQoXCIoXCIpLHQubGhzLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLGUucHJpbnQoXCIgXCIrbitcIiBcIiksdC5yaHMudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksZS5wcmludChcIilcIiksbnVsbH0sdC5wcm90b3R5cGUudmlzaXRSZWFkUHJvcEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWNlaXZlci52aXNpdEV4cHJlc3Npb24odGhpcyxlKSxlLnByaW50KFwiLlwiKSxlLnByaW50KHQubmFtZSksbnVsbH0sdC5wcm90b3R5cGUudmlzaXRSZWFkS2V5RXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiB0LnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLGUucHJpbnQoXCJbXCIpLHQuaW5kZXgudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksZS5wcmludChcIl1cIiksbnVsbH0sdC5wcm90b3R5cGUudmlzaXRMaXRlcmFsQXJyYXlFeHByPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5lbnRyaWVzLmxlbmd0aD4xO3JldHVybiBlLnByaW50KFwiW1wiLG4pLGUuaW5jSW5kZW50KCksdGhpcy52aXNpdEFsbEV4cHJlc3Npb25zKHQuZW50cmllcyxlLFwiLFwiLG4pLGUuZGVjSW5kZW50KCksZS5wcmludChcIl1cIixuKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdExpdGVyYWxNYXBFeHByPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQuZW50cmllcy5sZW5ndGg+MTtyZXR1cm4gZS5wcmludChcIntcIixyKSxlLmluY0luZGVudCgpLHRoaXMudmlzaXRBbGxPYmplY3RzKGZ1bmN0aW9uKHQpe2UucHJpbnQoJG4odC5rZXksbi5fZXNjYXBlRG9sbGFySW5TdHJpbmdzLHQucXVvdGVkKStcIjogXCIpLHQudmFsdWUudmlzaXRFeHByZXNzaW9uKG4sZSl9LHQuZW50cmllcyxlLFwiLFwiLHIpLGUuZGVjSW5kZW50KCksZS5wcmludChcIn1cIixyKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdEFsbEV4cHJlc3Npb25zPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXM7dm9pZCAwPT09ciYmKHI9ITEpLHRoaXMudmlzaXRBbGxPYmplY3RzKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0RXhwcmVzc2lvbihpLGUpfSx0LGUsbixyKX0sdC5wcm90b3R5cGUudmlzaXRBbGxPYmplY3RzPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dm9pZCAwPT09aSYmKGk9ITEpO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKW8+MCYmbi5wcmludChyLGkpLHQoZVtvXSk7aSYmbi5wcmludGxuKCl9LHQucHJvdG90eXBlLnZpc2l0QWxsU3RhdGVtZW50cz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0U3RhdGVtZW50KG4sZSl9KX0sdH0oKSxSZD10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sSWQ9XCIvZGVidWcvbGliXCIsTmQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2ltcG9ydEdlbmVyYXRvcj10fXJldHVybiB0LnByb3RvdHlwZS5lbWl0U3RhdGVtZW50cz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxpPW5ldyBEZCh0KSxvPU1kLmNyZWF0ZVJvb3Qobik7aS52aXNpdEFsbFN0YXRlbWVudHMoZSxvKTt2YXIgcz1bXTtyZXR1cm4gaS5pbXBvcnRzV2l0aFByZWZpeGVzLmZvckVhY2goZnVuY3Rpb24oZSxuKXtzLnB1c2goXCJpbXBcIisoXCJvcnQgKiBhcyBcIitlK1wiIGZyb20gJ1wiK3IuX2ltcG9ydEdlbmVyYXRvci5maWxlTmFtZVRvTW9kdWxlTmFtZShuLHQpK1wiJztcIikpfSkscy5wdXNoKG8udG9Tb3VyY2UoKSkscy5qb2luKFwiXFxuXCIpfSx0fSgpLERkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsITEpLHRoaXMuX21vZHVsZVVybD1lLHRoaXMuaW1wb3J0c1dpdGhQcmVmaXhlcz1uZXcgTWFwfXJldHVybiBSZChlLHQpLGUucHJvdG90eXBlLnZpc2l0VHlwZT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49XCJhbnlcIikscih0KT90LnZpc2l0VHlwZSh0aGlzLGUpOmUucHJpbnQobil9LGUucHJvdG90eXBlLnZpc2l0TGl0ZXJhbEV4cHI9ZnVuY3Rpb24oZSxuKXt2YXIgcj1lLnZhbHVlO3JldHVybiBpKHIpJiZlLnR5cGUhPUloPyhuLnByaW50KFwiKFwiK3IrXCIgYXMgYW55KVwiKSxudWxsKTp0LnByb3RvdHlwZS52aXNpdExpdGVyYWxFeHByLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS52aXNpdExpdGVyYWxBcnJheUV4cHI9ZnVuY3Rpb24oZSxuKXswPT09ZS5lbnRyaWVzLmxlbmd0aCYmbi5wcmludChcIihcIik7dmFyIHI9dC5wcm90b3R5cGUudmlzaXRMaXRlcmFsQXJyYXlFeHByLmNhbGwodGhpcyxlLG4pO3JldHVybiAwPT09ZS5lbnRyaWVzLmxlbmd0aCYmbi5wcmludChcIiBhcyBhbnlbXSlcIikscn0sZS5wcm90b3R5cGUudmlzaXRFeHRlcm5hbEV4cHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fdmlzaXRJZGVudGlmaWVyKHQudmFsdWUsdC50eXBlUGFyYW1zLGUpLG51bGx9LGUucHJvdG90eXBlLnZpc2l0RGVjbGFyZVZhclN0bXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5pc0V4cG9ydGVkVmFyKHQubmFtZSkmJmUucHJpbnQoXCJleHBvcnQgXCIpLHQuaGFzTW9kaWZpZXIoY2YuRmluYWwpP2UucHJpbnQoXCJjb25zdFwiKTplLnByaW50KFwidmFyXCIpLGUucHJpbnQoXCIgXCIrdC5uYW1lK1wiOlwiKSx0aGlzLnZpc2l0VHlwZSh0LnR5cGUsZSksZS5wcmludChcIiA9IFwiKSx0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLGUucHJpbnRsbihcIjtcIiksbnVsbH0sZS5wcm90b3R5cGUudmlzaXRDYXN0RXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiBlLnByaW50KFwiKDxcIiksdC50eXBlLnZpc2l0VHlwZSh0aGlzLGUpLGUucHJpbnQoXCI+XCIpLHQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksZS5wcmludChcIilcIiksbnVsbH0sZS5wcm90b3R5cGUudmlzaXREZWNsYXJlQ2xhc3NTdG10PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZS5wdXNoQ2xhc3ModCksZS5pc0V4cG9ydGVkVmFyKHQubmFtZSkmJmUucHJpbnQoXCJleHBvcnQgXCIpLGUucHJpbnQoXCJjbGFzcyBcIit0Lm5hbWUpLHIodC5wYXJlbnQpJiYoZS5wcmludChcIiBleHRlbmRzIFwiKSx0LnBhcmVudC52aXNpdEV4cHJlc3Npb24odGhpcyxlKSksZS5wcmludGxuKFwiIHtcIiksZS5pbmNJbmRlbnQoKSx0LmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLl92aXNpdENsYXNzRmllbGQodCxlKX0pLHIodC5jb25zdHJ1Y3Rvck1ldGhvZCkmJnRoaXMuX3Zpc2l0Q2xhc3NDb25zdHJ1Y3Rvcih0LGUpLHQuZ2V0dGVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLl92aXNpdENsYXNzR2V0dGVyKHQsZSl9KSx0Lm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5fdmlzaXRDbGFzc01ldGhvZCh0LGUpfSksZS5kZWNJbmRlbnQoKSxlLnByaW50bG4oXCJ9XCIpLGUucG9wQ2xhc3MoKSxudWxsfSxlLnByb3RvdHlwZS5fdmlzaXRDbGFzc0ZpZWxkPWZ1bmN0aW9uKHQsZSl7dC5oYXNNb2RpZmllcihjZi5Qcml2YXRlKSYmZS5wcmludChcIi8qcHJpdmF0ZSovIFwiKSxlLnByaW50KHQubmFtZSksZS5wcmludChcIjpcIiksdGhpcy52aXNpdFR5cGUodC50eXBlLGUpLGUucHJpbnRsbihcIjtcIil9LGUucHJvdG90eXBlLl92aXNpdENsYXNzR2V0dGVyPWZ1bmN0aW9uKHQsZSl7dC5oYXNNb2RpZmllcihjZi5Qcml2YXRlKSYmZS5wcmludChcInByaXZhdGUgXCIpLGUucHJpbnQoXCJnZXQgXCIrdC5uYW1lK1wiKClcIiksZS5wcmludChcIjpcIiksdGhpcy52aXNpdFR5cGUodC50eXBlLGUpLGUucHJpbnRsbihcIiB7XCIpLGUuaW5jSW5kZW50KCksdGhpcy52aXNpdEFsbFN0YXRlbWVudHModC5ib2R5LGUpLGUuZGVjSW5kZW50KCksZS5wcmludGxuKFwifVwiKX0sZS5wcm90b3R5cGUuX3Zpc2l0Q2xhc3NDb25zdHJ1Y3Rvcj1mdW5jdGlvbih0LGUpe2UucHJpbnQoXCJjb25zdHJ1Y3RvcihcIiksdGhpcy5fdmlzaXRQYXJhbXModC5jb25zdHJ1Y3Rvck1ldGhvZC5wYXJhbXMsZSksZS5wcmludGxuKFwiKSB7XCIpLGUuaW5jSW5kZW50KCksdGhpcy52aXNpdEFsbFN0YXRlbWVudHModC5jb25zdHJ1Y3Rvck1ldGhvZC5ib2R5LGUpLGUuZGVjSW5kZW50KCksZS5wcmludGxuKFwifVwiKX0sZS5wcm90b3R5cGUuX3Zpc2l0Q2xhc3NNZXRob2Q9ZnVuY3Rpb24odCxlKXt0Lmhhc01vZGlmaWVyKGNmLlByaXZhdGUpJiZlLnByaW50KFwicHJpdmF0ZSBcIiksZS5wcmludCh0Lm5hbWUrXCIoXCIpLHRoaXMuX3Zpc2l0UGFyYW1zKHQucGFyYW1zLGUpLGUucHJpbnQoXCIpOlwiKSx0aGlzLnZpc2l0VHlwZSh0LnR5cGUsZSxcInZvaWRcIiksZS5wcmludGxuKFwiIHtcIiksZS5pbmNJbmRlbnQoKSx0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyh0LmJvZHksZSksZS5kZWNJbmRlbnQoKSxlLnByaW50bG4oXCJ9XCIpfSxlLnByb3RvdHlwZS52aXNpdEZ1bmN0aW9uRXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiBlLnByaW50KFwiKFwiKSx0aGlzLl92aXNpdFBhcmFtcyh0LnBhcmFtcyxlKSxlLnByaW50KFwiKTpcIiksdGhpcy52aXNpdFR5cGUodC50eXBlLGUsXCJ2b2lkXCIpLGUucHJpbnRsbihcIiA9PiB7XCIpLGUuaW5jSW5kZW50KCksdGhpcy52aXNpdEFsbFN0YXRlbWVudHModC5zdGF0ZW1lbnRzLGUpLGUuZGVjSW5kZW50KCksZS5wcmludChcIn1cIiksbnVsbH0sZS5wcm90b3R5cGUudmlzaXREZWNsYXJlRnVuY3Rpb25TdG10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuaXNFeHBvcnRlZFZhcih0Lm5hbWUpJiZlLnByaW50KFwiZXhwb3J0IFwiKSxlLnByaW50KFwiZnVuY3Rpb24gXCIrdC5uYW1lK1wiKFwiKSx0aGlzLl92aXNpdFBhcmFtcyh0LnBhcmFtcyxlKSxlLnByaW50KFwiKTpcIiksdGhpcy52aXNpdFR5cGUodC50eXBlLGUsXCJ2b2lkXCIpLGUucHJpbnRsbihcIiB7XCIpLGUuaW5jSW5kZW50KCksdGhpcy52aXNpdEFsbFN0YXRlbWVudHModC5zdGF0ZW1lbnRzLGUpLGUuZGVjSW5kZW50KCksZS5wcmludGxuKFwifVwiKSxudWxsfSxlLnByb3RvdHlwZS52aXNpdFRyeUNhdGNoU3RtdD1mdW5jdGlvbih0LGUpe2UucHJpbnRsbihcInRyeSB7XCIpLGUuaW5jSW5kZW50KCksdGhpcy52aXNpdEFsbFN0YXRlbWVudHModC5ib2R5U3RtdHMsZSksZS5kZWNJbmRlbnQoKSxlLnByaW50bG4oXCJ9IGNhdGNoIChcIitPZC5uYW1lK1wiKSB7XCIpLGUuaW5jSW5kZW50KCk7dmFyIG49W1RkLnNldChPZC5wcm9wKFwic3RhY2tcIikpLnRvRGVjbFN0bXQobnVsbCxbY2YuRmluYWxdKV0uY29uY2F0KHQuY2F0Y2hTdG10cyk7cmV0dXJuIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKG4sZSksZS5kZWNJbmRlbnQoKSxlLnByaW50bG4oXCJ9XCIpLG51bGx9LGUucHJvdG90eXBlLnZpc2l0QnVpbHRpbnRUeXBlPWZ1bmN0aW9uKHQsZSl7dmFyIG47c3dpdGNoKHQubmFtZSl7Y2FzZSBFaC5Cb29sOm49XCJib29sZWFuXCI7YnJlYWs7Y2FzZSBFaC5EeW5hbWljOm49XCJhbnlcIjticmVhaztjYXNlIEVoLkZ1bmN0aW9uOm49XCJGdW5jdGlvblwiO2JyZWFrO2Nhc2UgRWguTnVtYmVyOm49XCJudW1iZXJcIjticmVhaztjYXNlIEVoLkludDpuPVwibnVtYmVyXCI7YnJlYWs7Y2FzZSBFaC5TdHJpbmc6bj1cInN0cmluZ1wiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgYnVpbHRpbiB0eXBlIFwiK3QubmFtZSl9cmV0dXJuIGUucHJpbnQobiksbnVsbH0sZS5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uVHlwZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsZSkscih0LnR5cGVQYXJhbXMpJiZ0LnR5cGVQYXJhbXMubGVuZ3RoPjAmJihlLnByaW50KFwiPFwiKSx0aGlzLnZpc2l0QWxsT2JqZWN0cyhmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdFR5cGUobixlKX0sdC50eXBlUGFyYW1zLGUsXCIsXCIpLGUucHJpbnQoXCI+XCIpKSxudWxsfSxlLnByb3RvdHlwZS52aXNpdEFycmF5VHlwZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnZpc2l0VHlwZSh0Lm9mLGUpLGUucHJpbnQoXCJbXVwiKSxudWxsfSxlLnByb3RvdHlwZS52aXNpdE1hcFR5cGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5wcmludChcIntba2V5OiBzdHJpbmddOlwiKSx0aGlzLnZpc2l0VHlwZSh0LnZhbHVlVHlwZSxlKSxlLnByaW50KFwifVwiKSxudWxsfSxlLnByb3RvdHlwZS5nZXRCdWlsdGluTWV0aG9kTmFtZT1mdW5jdGlvbih0KXt2YXIgZTtzd2l0Y2godCl7Y2FzZSBIaC5Db25jYXRBcnJheTplPVwiY29uY2F0XCI7YnJlYWs7Y2FzZSBIaC5TdWJzY3JpYmVPYnNlcnZhYmxlOmU9XCJzdWJzY3JpYmVcIjticmVhaztjYXNlIEhoLkJpbmQ6ZT1cImJpbmRcIjticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVua25vd24gYnVpbHRpbiBtZXRob2Q6IFwiK3QpfXJldHVybiBlfSxlLnByb3RvdHlwZS5fdmlzaXRQYXJhbXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMudmlzaXRBbGxPYmplY3RzKGZ1bmN0aW9uKHQpe2UucHJpbnQodC5uYW1lKSxlLnByaW50KFwiOlwiKSxuLnZpc2l0VHlwZSh0LnR5cGUsZSl9LHQsZSxcIixcIil9LGUucHJvdG90eXBlLl92aXNpdElkZW50aWZpZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMscz1iKHQpLGE9dyh0KTtpZihpKHMpKXRocm93IG5ldyBFcnJvcihcIkludGVybmFsIGVycm9yOiB1bmtub3duIGlkZW50aWZpZXIgXCIrdCk7aWYocihhKSYmYSE9dGhpcy5fbW9kdWxlVXJsKXt2YXIgdT10aGlzLmltcG9ydHNXaXRoUHJlZml4ZXMuZ2V0KGEpO2kodSkmJih1PVwiaW1wb3J0XCIrdGhpcy5pbXBvcnRzV2l0aFByZWZpeGVzLnNpemUsdGhpcy5pbXBvcnRzV2l0aFByZWZpeGVzLnNldChhLHUpKSxuLnByaW50KHUrXCIuXCIpfXQucmVmZXJlbmNlJiZ0LnJlZmVyZW5jZS5tZW1iZXJzJiZ0LnJlZmVyZW5jZS5tZW1iZXJzLmxlbmd0aD8obi5wcmludCh0LnJlZmVyZW5jZS5uYW1lKSxuLnByaW50KFwiLlwiKSxuLnByaW50KHQucmVmZXJlbmNlLm1lbWJlcnMuam9pbihcIi5cIikpKTpuLnByaW50KHMpLHIoZSkmJmUubGVuZ3RoPjAmJihuLnByaW50KFwiPFwiKSxcbnRoaXMudmlzaXRBbGxPYmplY3RzKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0VHlwZShvLG4pfSxlLG4sXCIsXCIpLG4ucHJpbnQoXCI+XCIpKX0sZX0oa2QpLGpkPXt9O0tuKGUuU2VjdXJpdHlDb250ZXh0LkhUTUwsW1wiaWZyYW1lfHNyY2RvY1wiLFwiKnxpbm5lckhUTUxcIixcIip8b3V0ZXJIVE1MXCJdKSxLbihlLlNlY3VyaXR5Q29udGV4dC5TVFlMRSxbXCIqfHN0eWxlXCJdKSxLbihlLlNlY3VyaXR5Q29udGV4dC5VUkwsW1wiKnxmb3JtQWN0aW9uXCIsXCJhcmVhfGhyZWZcIixcImFyZWF8cGluZ1wiLFwiYXVkaW98c3JjXCIsXCJhfGhyZWZcIixcImF8cGluZ1wiLFwiYmxvY2txdW90ZXxjaXRlXCIsXCJib2R5fGJhY2tncm91bmRcIixcImRlbHxjaXRlXCIsXCJmb3JtfGFjdGlvblwiLFwiaW1nfHNyY1wiLFwiaW1nfHNyY3NldFwiLFwiaW5wdXR8c3JjXCIsXCJpbnN8Y2l0ZVwiLFwicXxjaXRlXCIsXCJzb3VyY2V8c3JjXCIsXCJzb3VyY2V8c3Jjc2V0XCIsXCJ0cmFja3xzcmNcIixcInZpZGVvfHBvc3RlclwiLFwidmlkZW98c3JjXCJdKSxLbihlLlNlY3VyaXR5Q29udGV4dC5SRVNPVVJDRV9VUkwsW1wiYXBwbGV0fGNvZGVcIixcImFwcGxldHxjb2RlYmFzZVwiLFwiYmFzZXxocmVmXCIsXCJlbWJlZHxzcmNcIixcImZyYW1lfHNyY1wiLFwiaGVhZHxwcm9maWxlXCIsXCJodG1sfG1hbmlmZXN0XCIsXCJpZnJhbWV8c3JjXCIsXCJsaW5rfGhyZWZcIixcIm1lZGlhfHNyY1wiLFwib2JqZWN0fGNvZGViYXNlXCIsXCJvYmplY3R8ZGF0YVwiLFwic2NyaXB0fHNyY1wiXSk7dmFyIFZkPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxMZD10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSxGZD10aGlzJiZ0aGlzLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sVWQ9XCJib29sZWFuXCIsSGQ9XCJudW1iZXJcIixCZD1cInN0cmluZ1wiLHFkPVwib2JqZWN0XCIsemQ9W1wiW0VsZW1lbnRdfHRleHRDb250ZW50LCVjbGFzc0xpc3QsY2xhc3NOYW1lLGlkLGlubmVySFRNTCwqYmVmb3JlY29weSwqYmVmb3JlY3V0LCpiZWZvcmVwYXN0ZSwqY29weSwqY3V0LCpwYXN0ZSwqc2VhcmNoLCpzZWxlY3RzdGFydCwqd2Via2l0ZnVsbHNjcmVlbmNoYW5nZSwqd2Via2l0ZnVsbHNjcmVlbmVycm9yLCp3aGVlbCxvdXRlckhUTUwsI3Njcm9sbExlZnQsI3Njcm9sbFRvcFwiLFwiW0hUTUxFbGVtZW50XV5bRWxlbWVudF18YWNjZXNzS2V5LGNvbnRlbnRFZGl0YWJsZSxkaXIsIWRyYWdnYWJsZSwhaGlkZGVuLGlubmVyVGV4dCxsYW5nLCphYm9ydCwqYmVmb3JlY29weSwqYmVmb3JlY3V0LCpiZWZvcmVwYXN0ZSwqYmx1ciwqY2FuY2VsLCpjYW5wbGF5LCpjYW5wbGF5dGhyb3VnaCwqY2hhbmdlLCpjbGljaywqY2xvc2UsKmNvbnRleHRtZW51LCpjb3B5LCpjdWVjaGFuZ2UsKmN1dCwqZGJsY2xpY2ssKmRyYWcsKmRyYWdlbmQsKmRyYWdlbnRlciwqZHJhZ2xlYXZlLCpkcmFnb3ZlciwqZHJhZ3N0YXJ0LCpkcm9wLCpkdXJhdGlvbmNoYW5nZSwqZW1wdGllZCwqZW5kZWQsKmVycm9yLCpmb2N1cywqaW5wdXQsKmludmFsaWQsKmtleWRvd24sKmtleXByZXNzLCprZXl1cCwqbG9hZCwqbG9hZGVkZGF0YSwqbG9hZGVkbWV0YWRhdGEsKmxvYWRzdGFydCwqbWVzc2FnZSwqbW91c2Vkb3duLCptb3VzZWVudGVyLCptb3VzZWxlYXZlLCptb3VzZW1vdmUsKm1vdXNlb3V0LCptb3VzZW92ZXIsKm1vdXNldXAsKm1vdXNld2hlZWwsKm1vemZ1bGxzY3JlZW5jaGFuZ2UsKm1vemZ1bGxzY3JlZW5lcnJvciwqbW96cG9pbnRlcmxvY2tjaGFuZ2UsKm1venBvaW50ZXJsb2NrZXJyb3IsKnBhc3RlLCpwYXVzZSwqcGxheSwqcGxheWluZywqcHJvZ3Jlc3MsKnJhdGVjaGFuZ2UsKnJlc2V0LCpyZXNpemUsKnNjcm9sbCwqc2VhcmNoLCpzZWVrZWQsKnNlZWtpbmcsKnNlbGVjdCwqc2VsZWN0c3RhcnQsKnNob3csKnN0YWxsZWQsKnN1Ym1pdCwqc3VzcGVuZCwqdGltZXVwZGF0ZSwqdG9nZ2xlLCp2b2x1bWVjaGFuZ2UsKndhaXRpbmcsKndlYmdsY29udGV4dGNyZWF0aW9uZXJyb3IsKndlYmdsY29udGV4dGxvc3QsKndlYmdsY29udGV4dHJlc3RvcmVkLCp3ZWJraXRmdWxsc2NyZWVuY2hhbmdlLCp3ZWJraXRmdWxsc2NyZWVuZXJyb3IsKndoZWVsLG91dGVyVGV4dCwhc3BlbGxjaGVjaywlc3R5bGUsI3RhYkluZGV4LHRpdGxlLCF0cmFuc2xhdGVcIixcImFiYnIsYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGIsYmRpLGJkbyxjaXRlLGNvZGUsZGQsZGZuLGR0LGVtLGZpZ2NhcHRpb24sZmlndXJlLGZvb3RlcixoZWFkZXIsaSxrYmQsbWFpbixtYXJrLG5hdixub3NjcmlwdCxyYixycCxydCxydGMscnVieSxzLHNhbXAsc2VjdGlvbixzbWFsbCxzdHJvbmcsc3ViLHN1cCx1LHZhcix3YnJeW0hUTUxFbGVtZW50XXxhY2Nlc3NLZXksY29udGVudEVkaXRhYmxlLGRpciwhZHJhZ2dhYmxlLCFoaWRkZW4saW5uZXJUZXh0LGxhbmcsKmFib3J0LCpiZWZvcmVjb3B5LCpiZWZvcmVjdXQsKmJlZm9yZXBhc3RlLCpibHVyLCpjYW5jZWwsKmNhbnBsYXksKmNhbnBsYXl0aHJvdWdoLCpjaGFuZ2UsKmNsaWNrLCpjbG9zZSwqY29udGV4dG1lbnUsKmNvcHksKmN1ZWNoYW5nZSwqY3V0LCpkYmxjbGljaywqZHJhZywqZHJhZ2VuZCwqZHJhZ2VudGVyLCpkcmFnbGVhdmUsKmRyYWdvdmVyLCpkcmFnc3RhcnQsKmRyb3AsKmR1cmF0aW9uY2hhbmdlLCplbXB0aWVkLCplbmRlZCwqZXJyb3IsKmZvY3VzLCppbnB1dCwqaW52YWxpZCwqa2V5ZG93biwqa2V5cHJlc3MsKmtleXVwLCpsb2FkLCpsb2FkZWRkYXRhLCpsb2FkZWRtZXRhZGF0YSwqbG9hZHN0YXJ0LCptZXNzYWdlLCptb3VzZWRvd24sKm1vdXNlZW50ZXIsKm1vdXNlbGVhdmUsKm1vdXNlbW92ZSwqbW91c2VvdXQsKm1vdXNlb3ZlciwqbW91c2V1cCwqbW91c2V3aGVlbCwqbW96ZnVsbHNjcmVlbmNoYW5nZSwqbW96ZnVsbHNjcmVlbmVycm9yLCptb3pwb2ludGVybG9ja2NoYW5nZSwqbW96cG9pbnRlcmxvY2tlcnJvciwqcGFzdGUsKnBhdXNlLCpwbGF5LCpwbGF5aW5nLCpwcm9ncmVzcywqcmF0ZWNoYW5nZSwqcmVzZXQsKnJlc2l6ZSwqc2Nyb2xsLCpzZWFyY2gsKnNlZWtlZCwqc2Vla2luZywqc2VsZWN0LCpzZWxlY3RzdGFydCwqc2hvdywqc3RhbGxlZCwqc3VibWl0LCpzdXNwZW5kLCp0aW1ldXBkYXRlLCp0b2dnbGUsKnZvbHVtZWNoYW5nZSwqd2FpdGluZywqd2ViZ2xjb250ZXh0Y3JlYXRpb25lcnJvciwqd2ViZ2xjb250ZXh0bG9zdCwqd2ViZ2xjb250ZXh0cmVzdG9yZWQsKndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UsKndlYmtpdGZ1bGxzY3JlZW5lcnJvciwqd2hlZWwsb3V0ZXJUZXh0LCFzcGVsbGNoZWNrLCVzdHlsZSwjdGFiSW5kZXgsdGl0bGUsIXRyYW5zbGF0ZVwiLFwibWVkaWFeW0hUTUxFbGVtZW50XXwhYXV0b3BsYXksIWNvbnRyb2xzLCVjcm9zc09yaWdpbiwjY3VycmVudFRpbWUsIWRlZmF1bHRNdXRlZCwjZGVmYXVsdFBsYXliYWNrUmF0ZSwhZGlzYWJsZVJlbW90ZVBsYXliYWNrLCFsb29wLCFtdXRlZCwqZW5jcnlwdGVkLCNwbGF5YmFja1JhdGUscHJlbG9hZCxzcmMsJXNyY09iamVjdCwjdm9sdW1lXCIsXCI6c3ZnOl5bSFRNTEVsZW1lbnRdfCphYm9ydCwqYmx1ciwqY2FuY2VsLCpjYW5wbGF5LCpjYW5wbGF5dGhyb3VnaCwqY2hhbmdlLCpjbGljaywqY2xvc2UsKmNvbnRleHRtZW51LCpjdWVjaGFuZ2UsKmRibGNsaWNrLCpkcmFnLCpkcmFnZW5kLCpkcmFnZW50ZXIsKmRyYWdsZWF2ZSwqZHJhZ292ZXIsKmRyYWdzdGFydCwqZHJvcCwqZHVyYXRpb25jaGFuZ2UsKmVtcHRpZWQsKmVuZGVkLCplcnJvciwqZm9jdXMsKmlucHV0LCppbnZhbGlkLCprZXlkb3duLCprZXlwcmVzcywqa2V5dXAsKmxvYWQsKmxvYWRlZGRhdGEsKmxvYWRlZG1ldGFkYXRhLCpsb2Fkc3RhcnQsKm1vdXNlZG93biwqbW91c2VlbnRlciwqbW91c2VsZWF2ZSwqbW91c2Vtb3ZlLCptb3VzZW91dCwqbW91c2VvdmVyLCptb3VzZXVwLCptb3VzZXdoZWVsLCpwYXVzZSwqcGxheSwqcGxheWluZywqcHJvZ3Jlc3MsKnJhdGVjaGFuZ2UsKnJlc2V0LCpyZXNpemUsKnNjcm9sbCwqc2Vla2VkLCpzZWVraW5nLCpzZWxlY3QsKnNob3csKnN0YWxsZWQsKnN1Ym1pdCwqc3VzcGVuZCwqdGltZXVwZGF0ZSwqdG9nZ2xlLCp2b2x1bWVjaGFuZ2UsKndhaXRpbmcsJXN0eWxlLCN0YWJJbmRleFwiLFwiOnN2ZzpncmFwaGljc146c3ZnOnxcIixcIjpzdmc6YW5pbWF0aW9uXjpzdmc6fCpiZWdpbiwqZW5kLCpyZXBlYXRcIixcIjpzdmc6Z2VvbWV0cnleOnN2Zzp8XCIsXCI6c3ZnOmNvbXBvbmVudFRyYW5zZmVyRnVuY3Rpb25eOnN2Zzp8XCIsXCI6c3ZnOmdyYWRpZW50Xjpzdmc6fFwiLFwiOnN2Zzp0ZXh0Q29udGVudF46c3ZnOmdyYXBoaWNzfFwiLFwiOnN2Zzp0ZXh0UG9zaXRpb25pbmdeOnN2Zzp0ZXh0Q29udGVudHxcIixcImFeW0hUTUxFbGVtZW50XXxjaGFyc2V0LGNvb3Jkcyxkb3dubG9hZCxoYXNoLGhvc3QsaG9zdG5hbWUsaHJlZixocmVmbGFuZyxuYW1lLHBhc3N3b3JkLHBhdGhuYW1lLHBpbmcscG9ydCxwcm90b2NvbCxyZWZlcnJlclBvbGljeSxyZWwscmV2LHNlYXJjaCxzaGFwZSx0YXJnZXQsdGV4dCx0eXBlLHVzZXJuYW1lXCIsXCJhcmVhXltIVE1MRWxlbWVudF18YWx0LGNvb3JkcyxoYXNoLGhvc3QsaG9zdG5hbWUsaHJlZiwhbm9IcmVmLHBhc3N3b3JkLHBhdGhuYW1lLHBpbmcscG9ydCxwcm90b2NvbCxyZWZlcnJlclBvbGljeSxzZWFyY2gsc2hhcGUsdGFyZ2V0LHVzZXJuYW1lXCIsXCJhdWRpb15tZWRpYXxcIixcImJyXltIVE1MRWxlbWVudF18Y2xlYXJcIixcImJhc2VeW0hUTUxFbGVtZW50XXxocmVmLHRhcmdldFwiLFwiYm9keV5bSFRNTEVsZW1lbnRdfGFMaW5rLGJhY2tncm91bmQsYmdDb2xvcixsaW5rLCpiZWZvcmV1bmxvYWQsKmJsdXIsKmVycm9yLCpmb2N1cywqaGFzaGNoYW5nZSwqbGFuZ3VhZ2VjaGFuZ2UsKmxvYWQsKm1lc3NhZ2UsKm9mZmxpbmUsKm9ubGluZSwqcGFnZWhpZGUsKnBhZ2VzaG93LCpwb3BzdGF0ZSwqcmVqZWN0aW9uaGFuZGxlZCwqcmVzaXplLCpzY3JvbGwsKnN0b3JhZ2UsKnVuaGFuZGxlZHJlamVjdGlvbiwqdW5sb2FkLHRleHQsdkxpbmtcIixcImJ1dHRvbl5bSFRNTEVsZW1lbnRdfCFhdXRvZm9jdXMsIWRpc2FibGVkLGZvcm1BY3Rpb24sZm9ybUVuY3R5cGUsZm9ybU1ldGhvZCwhZm9ybU5vVmFsaWRhdGUsZm9ybVRhcmdldCxuYW1lLHR5cGUsdmFsdWVcIixcImNhbnZhc15bSFRNTEVsZW1lbnRdfCNoZWlnaHQsI3dpZHRoXCIsXCJjb250ZW50XltIVE1MRWxlbWVudF18c2VsZWN0XCIsXCJkbF5bSFRNTEVsZW1lbnRdfCFjb21wYWN0XCIsXCJkYXRhbGlzdF5bSFRNTEVsZW1lbnRdfFwiLFwiZGV0YWlsc15bSFRNTEVsZW1lbnRdfCFvcGVuXCIsXCJkaWFsb2deW0hUTUxFbGVtZW50XXwhb3BlbixyZXR1cm5WYWx1ZVwiLFwiZGlyXltIVE1MRWxlbWVudF18IWNvbXBhY3RcIixcImRpdl5bSFRNTEVsZW1lbnRdfGFsaWduXCIsXCJlbWJlZF5bSFRNTEVsZW1lbnRdfGFsaWduLGhlaWdodCxuYW1lLHNyYyx0eXBlLHdpZHRoXCIsXCJmaWVsZHNldF5bSFRNTEVsZW1lbnRdfCFkaXNhYmxlZCxuYW1lXCIsXCJmb250XltIVE1MRWxlbWVudF18Y29sb3IsZmFjZSxzaXplXCIsXCJmb3JtXltIVE1MRWxlbWVudF18YWNjZXB0Q2hhcnNldCxhY3Rpb24sYXV0b2NvbXBsZXRlLGVuY29kaW5nLGVuY3R5cGUsbWV0aG9kLG5hbWUsIW5vVmFsaWRhdGUsdGFyZ2V0XCIsXCJmcmFtZV5bSFRNTEVsZW1lbnRdfGZyYW1lQm9yZGVyLGxvbmdEZXNjLG1hcmdpbkhlaWdodCxtYXJnaW5XaWR0aCxuYW1lLCFub1Jlc2l6ZSxzY3JvbGxpbmcsc3JjXCIsXCJmcmFtZXNldF5bSFRNTEVsZW1lbnRdfGNvbHMsKmJlZm9yZXVubG9hZCwqYmx1ciwqZXJyb3IsKmZvY3VzLCpoYXNoY2hhbmdlLCpsYW5ndWFnZWNoYW5nZSwqbG9hZCwqbWVzc2FnZSwqb2ZmbGluZSwqb25saW5lLCpwYWdlaGlkZSwqcGFnZXNob3csKnBvcHN0YXRlLCpyZWplY3Rpb25oYW5kbGVkLCpyZXNpemUsKnNjcm9sbCwqc3RvcmFnZSwqdW5oYW5kbGVkcmVqZWN0aW9uLCp1bmxvYWQscm93c1wiLFwiaHJeW0hUTUxFbGVtZW50XXxhbGlnbixjb2xvciwhbm9TaGFkZSxzaXplLHdpZHRoXCIsXCJoZWFkXltIVE1MRWxlbWVudF18XCIsXCJoMSxoMixoMyxoNCxoNSxoNl5bSFRNTEVsZW1lbnRdfGFsaWduXCIsXCJodG1sXltIVE1MRWxlbWVudF18dmVyc2lvblwiLFwiaWZyYW1lXltIVE1MRWxlbWVudF18YWxpZ24sIWFsbG93RnVsbHNjcmVlbixmcmFtZUJvcmRlcixoZWlnaHQsbG9uZ0Rlc2MsbWFyZ2luSGVpZ2h0LG1hcmdpbldpZHRoLG5hbWUscmVmZXJyZXJQb2xpY3ksJXNhbmRib3gsc2Nyb2xsaW5nLHNyYyxzcmNkb2Msd2lkdGhcIixcImltZ15bSFRNTEVsZW1lbnRdfGFsaWduLGFsdCxib3JkZXIsJWNyb3NzT3JpZ2luLCNoZWlnaHQsI2hzcGFjZSwhaXNNYXAsbG9uZ0Rlc2MsbG93c3JjLG5hbWUscmVmZXJyZXJQb2xpY3ksc2l6ZXMsc3JjLHNyY3NldCx1c2VNYXAsI3ZzcGFjZSwjd2lkdGhcIixcImlucHV0XltIVE1MRWxlbWVudF18YWNjZXB0LGFsaWduLGFsdCxhdXRvY2FwaXRhbGl6ZSxhdXRvY29tcGxldGUsIWF1dG9mb2N1cywhY2hlY2tlZCwhZGVmYXVsdENoZWNrZWQsZGVmYXVsdFZhbHVlLGRpck5hbWUsIWRpc2FibGVkLCVmaWxlcyxmb3JtQWN0aW9uLGZvcm1FbmN0eXBlLGZvcm1NZXRob2QsIWZvcm1Ob1ZhbGlkYXRlLGZvcm1UYXJnZXQsI2hlaWdodCwhaW5jcmVtZW50YWwsIWluZGV0ZXJtaW5hdGUsbWF4LCNtYXhMZW5ndGgsbWluLCNtaW5MZW5ndGgsIW11bHRpcGxlLG5hbWUscGF0dGVybixwbGFjZWhvbGRlciwhcmVhZE9ubHksIXJlcXVpcmVkLHNlbGVjdGlvbkRpcmVjdGlvbiwjc2VsZWN0aW9uRW5kLCNzZWxlY3Rpb25TdGFydCwjc2l6ZSxzcmMsc3RlcCx0eXBlLHVzZU1hcCx2YWx1ZSwldmFsdWVBc0RhdGUsI3ZhbHVlQXNOdW1iZXIsI3dpZHRoXCIsXCJrZXlnZW5eW0hUTUxFbGVtZW50XXwhYXV0b2ZvY3VzLGNoYWxsZW5nZSwhZGlzYWJsZWQsa2V5dHlwZSxuYW1lXCIsXCJsaV5bSFRNTEVsZW1lbnRdfHR5cGUsI3ZhbHVlXCIsXCJsYWJlbF5bSFRNTEVsZW1lbnRdfGh0bWxGb3JcIixcImxlZ2VuZF5bSFRNTEVsZW1lbnRdfGFsaWduXCIsXCJsaW5rXltIVE1MRWxlbWVudF18YXMsY2hhcnNldCwlY3Jvc3NPcmlnaW4sIWRpc2FibGVkLGhyZWYsaHJlZmxhbmcsaW50ZWdyaXR5LG1lZGlhLHJlbCwlcmVsTGlzdCxyZXYsJXNpemVzLHRhcmdldCx0eXBlXCIsXCJtYXBeW0hUTUxFbGVtZW50XXxuYW1lXCIsXCJtYXJxdWVlXltIVE1MRWxlbWVudF18YmVoYXZpb3IsYmdDb2xvcixkaXJlY3Rpb24saGVpZ2h0LCNoc3BhY2UsI2xvb3AsI3Njcm9sbEFtb3VudCwjc2Nyb2xsRGVsYXksIXRydWVTcGVlZCwjdnNwYWNlLHdpZHRoXCIsXCJtZW51XltIVE1MRWxlbWVudF18IWNvbXBhY3RcIixcIm1ldGFeW0hUTUxFbGVtZW50XXxjb250ZW50LGh0dHBFcXVpdixuYW1lLHNjaGVtZVwiLFwibWV0ZXJeW0hUTUxFbGVtZW50XXwjaGlnaCwjbG93LCNtYXgsI21pbiwjb3B0aW11bSwjdmFsdWVcIixcImlucyxkZWxeW0hUTUxFbGVtZW50XXxjaXRlLGRhdGVUaW1lXCIsXCJvbF5bSFRNTEVsZW1lbnRdfCFjb21wYWN0LCFyZXZlcnNlZCwjc3RhcnQsdHlwZVwiLFwib2JqZWN0XltIVE1MRWxlbWVudF18YWxpZ24sYXJjaGl2ZSxib3JkZXIsY29kZSxjb2RlQmFzZSxjb2RlVHlwZSxkYXRhLCFkZWNsYXJlLGhlaWdodCwjaHNwYWNlLG5hbWUsc3RhbmRieSx0eXBlLHVzZU1hcCwjdnNwYWNlLHdpZHRoXCIsXCJvcHRncm91cF5bSFRNTEVsZW1lbnRdfCFkaXNhYmxlZCxsYWJlbFwiLFwib3B0aW9uXltIVE1MRWxlbWVudF18IWRlZmF1bHRTZWxlY3RlZCwhZGlzYWJsZWQsbGFiZWwsIXNlbGVjdGVkLHRleHQsdmFsdWVcIixcIm91dHB1dF5bSFRNTEVsZW1lbnRdfGRlZmF1bHRWYWx1ZSwlaHRtbEZvcixuYW1lLHZhbHVlXCIsXCJwXltIVE1MRWxlbWVudF18YWxpZ25cIixcInBhcmFtXltIVE1MRWxlbWVudF18bmFtZSx0eXBlLHZhbHVlLHZhbHVlVHlwZVwiLFwicGljdHVyZV5bSFRNTEVsZW1lbnRdfFwiLFwicHJlXltIVE1MRWxlbWVudF18I3dpZHRoXCIsXCJwcm9ncmVzc15bSFRNTEVsZW1lbnRdfCNtYXgsI3ZhbHVlXCIsXCJxLGJsb2NrcXVvdGUsY2l0ZV5bSFRNTEVsZW1lbnRdfFwiLFwic2NyaXB0XltIVE1MRWxlbWVudF18IWFzeW5jLGNoYXJzZXQsJWNyb3NzT3JpZ2luLCFkZWZlcixldmVudCxodG1sRm9yLGludGVncml0eSxzcmMsdGV4dCx0eXBlXCIsXCJzZWxlY3ReW0hUTUxFbGVtZW50XXwhYXV0b2ZvY3VzLCFkaXNhYmxlZCwjbGVuZ3RoLCFtdWx0aXBsZSxuYW1lLCFyZXF1aXJlZCwjc2VsZWN0ZWRJbmRleCwjc2l6ZSx2YWx1ZVwiLFwic2hhZG93XltIVE1MRWxlbWVudF18XCIsXCJzb3VyY2VeW0hUTUxFbGVtZW50XXxtZWRpYSxzaXplcyxzcmMsc3Jjc2V0LHR5cGVcIixcInNwYW5eW0hUTUxFbGVtZW50XXxcIixcInN0eWxlXltIVE1MRWxlbWVudF18IWRpc2FibGVkLG1lZGlhLHR5cGVcIixcImNhcHRpb25eW0hUTUxFbGVtZW50XXxhbGlnblwiLFwidGgsdGReW0hUTUxFbGVtZW50XXxhYmJyLGFsaWduLGF4aXMsYmdDb2xvcixjaCxjaE9mZiwjY29sU3BhbixoZWFkZXJzLGhlaWdodCwhbm9XcmFwLCNyb3dTcGFuLHNjb3BlLHZBbGlnbix3aWR0aFwiLFwiY29sLGNvbGdyb3VwXltIVE1MRWxlbWVudF18YWxpZ24sY2gsY2hPZmYsI3NwYW4sdkFsaWduLHdpZHRoXCIsXCJ0YWJsZV5bSFRNTEVsZW1lbnRdfGFsaWduLGJnQ29sb3IsYm9yZGVyLCVjYXB0aW9uLGNlbGxQYWRkaW5nLGNlbGxTcGFjaW5nLGZyYW1lLHJ1bGVzLHN1bW1hcnksJXRGb290LCV0SGVhZCx3aWR0aFwiLFwidHJeW0hUTUxFbGVtZW50XXxhbGlnbixiZ0NvbG9yLGNoLGNoT2ZmLHZBbGlnblwiLFwidGZvb3QsdGhlYWQsdGJvZHleW0hUTUxFbGVtZW50XXxhbGlnbixjaCxjaE9mZix2QWxpZ25cIixcInRlbXBsYXRlXltIVE1MRWxlbWVudF18XCIsXCJ0ZXh0YXJlYV5bSFRNTEVsZW1lbnRdfGF1dG9jYXBpdGFsaXplLCFhdXRvZm9jdXMsI2NvbHMsZGVmYXVsdFZhbHVlLGRpck5hbWUsIWRpc2FibGVkLCNtYXhMZW5ndGgsI21pbkxlbmd0aCxuYW1lLHBsYWNlaG9sZGVyLCFyZWFkT25seSwhcmVxdWlyZWQsI3Jvd3Msc2VsZWN0aW9uRGlyZWN0aW9uLCNzZWxlY3Rpb25FbmQsI3NlbGVjdGlvblN0YXJ0LHZhbHVlLHdyYXBcIixcInRpdGxlXltIVE1MRWxlbWVudF18dGV4dFwiLFwidHJhY2teW0hUTUxFbGVtZW50XXwhZGVmYXVsdCxraW5kLGxhYmVsLHNyYyxzcmNsYW5nXCIsXCJ1bF5bSFRNTEVsZW1lbnRdfCFjb21wYWN0LHR5cGVcIixcInVua25vd25eW0hUTUxFbGVtZW50XXxcIixcInZpZGVvXm1lZGlhfCNoZWlnaHQscG9zdGVyLCN3aWR0aFwiLFwiOnN2ZzphXjpzdmc6Z3JhcGhpY3N8XCIsXCI6c3ZnOmFuaW1hdGVeOnN2ZzphbmltYXRpb258XCIsXCI6c3ZnOmFuaW1hdGVNb3Rpb25eOnN2ZzphbmltYXRpb258XCIsXCI6c3ZnOmFuaW1hdGVUcmFuc2Zvcm1eOnN2ZzphbmltYXRpb258XCIsXCI6c3ZnOmNpcmNsZV46c3ZnOmdlb21ldHJ5fFwiLFwiOnN2ZzpjbGlwUGF0aF46c3ZnOmdyYXBoaWNzfFwiLFwiOnN2ZzpjdXJzb3JeOnN2Zzp8XCIsXCI6c3ZnOmRlZnNeOnN2ZzpncmFwaGljc3xcIixcIjpzdmc6ZGVzY146c3ZnOnxcIixcIjpzdmc6ZGlzY2FyZF46c3ZnOnxcIixcIjpzdmc6ZWxsaXBzZV46c3ZnOmdlb21ldHJ5fFwiLFwiOnN2ZzpmZUJsZW5kXjpzdmc6fFwiLFwiOnN2ZzpmZUNvbG9yTWF0cml4Xjpzdmc6fFwiLFwiOnN2ZzpmZUNvbXBvbmVudFRyYW5zZmVyXjpzdmc6fFwiLFwiOnN2ZzpmZUNvbXBvc2l0ZV46c3ZnOnxcIixcIjpzdmc6ZmVDb252b2x2ZU1hdHJpeF46c3ZnOnxcIixcIjpzdmc6ZmVEaWZmdXNlTGlnaHRpbmdeOnN2Zzp8XCIsXCI6c3ZnOmZlRGlzcGxhY2VtZW50TWFwXjpzdmc6fFwiLFwiOnN2ZzpmZURpc3RhbnRMaWdodF46c3ZnOnxcIixcIjpzdmc6ZmVEcm9wU2hhZG93Xjpzdmc6fFwiLFwiOnN2ZzpmZUZsb29kXjpzdmc6fFwiLFwiOnN2ZzpmZUZ1bmNBXjpzdmc6Y29tcG9uZW50VHJhbnNmZXJGdW5jdGlvbnxcIixcIjpzdmc6ZmVGdW5jQl46c3ZnOmNvbXBvbmVudFRyYW5zZmVyRnVuY3Rpb258XCIsXCI6c3ZnOmZlRnVuY0deOnN2Zzpjb21wb25lbnRUcmFuc2ZlckZ1bmN0aW9ufFwiLFwiOnN2ZzpmZUZ1bmNSXjpzdmc6Y29tcG9uZW50VHJhbnNmZXJGdW5jdGlvbnxcIixcIjpzdmc6ZmVHYXVzc2lhbkJsdXJeOnN2Zzp8XCIsXCI6c3ZnOmZlSW1hZ2VeOnN2Zzp8XCIsXCI6c3ZnOmZlTWVyZ2VeOnN2Zzp8XCIsXCI6c3ZnOmZlTWVyZ2VOb2RlXjpzdmc6fFwiLFwiOnN2ZzpmZU1vcnBob2xvZ3leOnN2Zzp8XCIsXCI6c3ZnOmZlT2Zmc2V0Xjpzdmc6fFwiLFwiOnN2ZzpmZVBvaW50TGlnaHReOnN2Zzp8XCIsXCI6c3ZnOmZlU3BlY3VsYXJMaWdodGluZ146c3ZnOnxcIixcIjpzdmc6ZmVTcG90TGlnaHReOnN2Zzp8XCIsXCI6c3ZnOmZlVGlsZV46c3ZnOnxcIixcIjpzdmc6ZmVUdXJidWxlbmNlXjpzdmc6fFwiLFwiOnN2ZzpmaWx0ZXJeOnN2Zzp8XCIsXCI6c3ZnOmZvcmVpZ25PYmplY3ReOnN2ZzpncmFwaGljc3xcIixcIjpzdmc6Z146c3ZnOmdyYXBoaWNzfFwiLFwiOnN2ZzppbWFnZV46c3ZnOmdyYXBoaWNzfFwiLFwiOnN2ZzpsaW5lXjpzdmc6Z2VvbWV0cnl8XCIsXCI6c3ZnOmxpbmVhckdyYWRpZW50Xjpzdmc6Z3JhZGllbnR8XCIsXCI6c3ZnOm1wYXRoXjpzdmc6fFwiLFwiOnN2ZzptYXJrZXJeOnN2Zzp8XCIsXCI6c3ZnOm1hc2teOnN2Zzp8XCIsXCI6c3ZnOm1ldGFkYXRhXjpzdmc6fFwiLFwiOnN2ZzpwYXRoXjpzdmc6Z2VvbWV0cnl8XCIsXCI6c3ZnOnBhdHRlcm5eOnN2Zzp8XCIsXCI6c3ZnOnBvbHlnb25eOnN2ZzpnZW9tZXRyeXxcIixcIjpzdmc6cG9seWxpbmVeOnN2ZzpnZW9tZXRyeXxcIixcIjpzdmc6cmFkaWFsR3JhZGllbnReOnN2ZzpncmFkaWVudHxcIixcIjpzdmc6cmVjdF46c3ZnOmdlb21ldHJ5fFwiLFwiOnN2ZzpzdmdeOnN2ZzpncmFwaGljc3wjY3VycmVudFNjYWxlLCN6b29tQW5kUGFuXCIsXCI6c3ZnOnNjcmlwdF46c3ZnOnx0eXBlXCIsXCI6c3ZnOnNldF46c3ZnOmFuaW1hdGlvbnxcIixcIjpzdmc6c3RvcF46c3ZnOnxcIixcIjpzdmc6c3R5bGVeOnN2Zzp8IWRpc2FibGVkLG1lZGlhLHRpdGxlLHR5cGVcIixcIjpzdmc6c3dpdGNoXjpzdmc6Z3JhcGhpY3N8XCIsXCI6c3ZnOnN5bWJvbF46c3ZnOnxcIixcIjpzdmc6dHNwYW5eOnN2Zzp0ZXh0UG9zaXRpb25pbmd8XCIsXCI6c3ZnOnRleHReOnN2Zzp0ZXh0UG9zaXRpb25pbmd8XCIsXCI6c3ZnOnRleHRQYXRoXjpzdmc6dGV4dENvbnRlbnR8XCIsXCI6c3ZnOnRpdGxlXjpzdmc6fFwiLFwiOnN2Zzp1c2VeOnN2ZzpncmFwaGljc3xcIixcIjpzdmc6dmlld146c3ZnOnwjem9vbUFuZFBhblwiLFwiZGF0YV5bSFRNTEVsZW1lbnRdfHZhbHVlXCIsXCJtZW51aXRlbV5bSFRNTEVsZW1lbnRdfHR5cGUsbGFiZWwsaWNvbiwhZGlzYWJsZWQsIWNoZWNrZWQscmFkaW9ncm91cCwhZGVmYXVsdFwiLFwic3VtbWFyeV5bSFRNTEVsZW1lbnRdfFwiLFwidGltZV5bSFRNTEVsZW1lbnRdfGRhdGVUaW1lXCJdLFdkPXtjbGFzczpcImNsYXNzTmFtZVwiLGZvcjpcImh0bWxGb3JcIixmb3JtYWN0aW9uOlwiZm9ybUFjdGlvblwiLGlubmVySHRtbDpcImlubmVySFRNTFwiLHJlYWRvbmx5OlwicmVhZE9ubHlcIix0YWJpbmRleDpcInRhYkluZGV4XCJ9LEdkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt2YXIgZT10aGlzO3QuY2FsbCh0aGlzKSx0aGlzLl9zY2hlbWE9e30semQuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj17fSxyPXQuc3BsaXQoXCJ8XCIpLGk9clswXSxvPXJbMV0scz1vLnNwbGl0KFwiLFwiKSxhPWkuc3BsaXQoXCJeXCIpLHU9YVswXSxjPWFbMV07dS5zcGxpdChcIixcIikuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5fc2NoZW1hW3QudG9Mb3dlckNhc2UoKV09bn0pO3ZhciBsPWMmJmUuX3NjaGVtYVtjLnRvTG93ZXJDYXNlKCldO2wmJk9iamVjdC5rZXlzKGwpLmZvckVhY2goZnVuY3Rpb24odCl7blt0XT1sW3RdfSkscy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKHQubGVuZ3RoPjApc3dpdGNoKHRbMF0pe2Nhc2VcIipcIjpicmVhaztjYXNlXCIhXCI6blt0LnN1YnN0cmluZygxKV09VWQ7YnJlYWs7Y2FzZVwiI1wiOm5bdC5zdWJzdHJpbmcoMSldPUhkO2JyZWFrO2Nhc2VcIiVcIjpuW3Quc3Vic3RyaW5nKDEpXT1xZDticmVhaztkZWZhdWx0Om5bdF09QmR9fSl9KX1yZXR1cm4gVmQobix0KSxuLnByb3RvdHlwZS5oYXNQcm9wZXJ0eT1mdW5jdGlvbih0LG4scil7aWYoci5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lLk5PX0VSUk9SU19TQ0hFTUEubmFtZX0pKXJldHVybiEwO2lmKHQuaW5kZXhPZihcIi1cIik+LTEpe2lmKFwibmctY29udGFpbmVyXCI9PT10fHxcIm5nLWNvbnRlbnRcIj09PXQpcmV0dXJuITE7aWYoci5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lLkNVU1RPTV9FTEVNRU5UU19TQ0hFTUEubmFtZX0pKXJldHVybiEwfXZhciBpPXRoaXMuX3NjaGVtYVt0LnRvTG93ZXJDYXNlKCldfHx0aGlzLl9zY2hlbWEudW5rbm93bjtyZXR1cm4hIWlbbl19LG4ucHJvdG90eXBlLmhhc0VsZW1lbnQ9ZnVuY3Rpb24odCxuKXtpZihuLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWUuTk9fRVJST1JTX1NDSEVNQS5uYW1lfSkpcmV0dXJuITA7aWYodC5pbmRleE9mKFwiLVwiKT4tMSl7aWYoXCJuZy1jb250YWluZXJcIj09PXR8fFwibmctY29udGVudFwiPT09dClyZXR1cm4hMDtpZihuLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWUuQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQS5uYW1lfSkpcmV0dXJuITB9cmV0dXJuISF0aGlzLl9zY2hlbWFbdC50b0xvd2VyQ2FzZSgpXX0sbi5wcm90b3R5cGUuc2VjdXJpdHlDb250ZXh0PWZ1bmN0aW9uKHQsbixyKXtyJiYobj10aGlzLmdldE1hcHBlZFByb3BOYW1lKG4pKSx0PXQudG9Mb3dlckNhc2UoKSxuPW4udG9Mb3dlckNhc2UoKTt2YXIgaT1qZFt0K1wifFwiK25dO3JldHVybiBpP2k6KGk9amRbXCIqfFwiK25dLGk/aTplLlNlY3VyaXR5Q29udGV4dC5OT05FKX0sbi5wcm90b3R5cGUuZ2V0TWFwcGVkUHJvcE5hbWU9ZnVuY3Rpb24odCl7cmV0dXJuIFdkW3RdfHx0fSxuLnByb3RvdHlwZS5nZXREZWZhdWx0Q29tcG9uZW50RWxlbWVudE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm5cIm5nLWNvbXBvbmVudFwifSxuLnByb3RvdHlwZS52YWxpZGF0ZVByb3BlcnR5PWZ1bmN0aW9uKHQpe2lmKHQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwib25cIikpe3ZhciBlPVwiQmluZGluZyB0byBldmVudCBwcm9wZXJ0eSAnXCIrdCtcIicgaXMgZGlzYWxsb3dlZCBmb3Igc2VjdXJpdHkgcmVhc29ucywgXCIrKFwicGxlYXNlIHVzZSAoXCIrdC5zbGljZSgyKStcIik9Li4uXCIpKyhcIlxcbklmICdcIit0K1wiJyBpcyBhIGRpcmVjdGl2ZSBpbnB1dCwgbWFrZSBzdXJlIHRoZSBkaXJlY3RpdmUgaXMgaW1wb3J0ZWQgYnkgdGhlXCIpK1wiIGN1cnJlbnQgbW9kdWxlLlwiO3JldHVybntlcnJvcjohMCxtc2c6ZX19cmV0dXJue2Vycm9yOiExfX0sbi5wcm90b3R5cGUudmFsaWRhdGVBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7aWYodC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoXCJvblwiKSl7dmFyIGU9XCJCaW5kaW5nIHRvIGV2ZW50IGF0dHJpYnV0ZSAnXCIrdCtcIicgaXMgZGlzYWxsb3dlZCBmb3Igc2VjdXJpdHkgcmVhc29ucywgXCIrKFwicGxlYXNlIHVzZSAoXCIrdC5zbGljZSgyKStcIik9Li4uXCIpO3JldHVybntlcnJvcjohMCxtc2c6ZX19cmV0dXJue2Vycm9yOiExfX0sbi5wcm90b3R5cGUuYWxsS25vd25FbGVtZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc2NoZW1hKX0sbi5wcm90b3R5cGUubm9ybWFsaXplQW5pbWF0aW9uU3R5bGVQcm9wZXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gZCh0KX0sbi5wcm90b3R5cGUubm9ybWFsaXplQW5pbWF0aW9uU3R5bGVWYWx1ZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9XCJcIixpPW4udG9TdHJpbmcoKS50cmltKCksbz1udWxsO2lmKFpuKHQpJiYwIT09biYmXCIwXCIhPT1uKWlmKFwibnVtYmVyXCI9PXR5cGVvZiBuKXI9XCJweFwiO2Vsc2V7dmFyIHM9bi5tYXRjaCgvXlsrLV0/W1xcZFxcLl0rKFthLXpdKikkLyk7cyYmMD09c1sxXS5sZW5ndGgmJihvPVwiUGxlYXNlIHByb3ZpZGUgYSBDU1MgdW5pdCB2YWx1ZSBmb3IgXCIrZStcIjpcIituKX1yZXR1cm57ZXJyb3I6byx2YWx1ZTppK3J9fSxuPUxkKFtNKCksRmQoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sbil9KE1sKSxYZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnN0cmljdFN0eWxpbmc9ITB9cmV0dXJuIHQucHJvdG90eXBlLnNoaW1Dc3NUZXh0PWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj1cIlwiKTt2YXIgcj10cih0KTtyZXR1cm4gdD1Kbih0KSx0PXRoaXMuX2luc2VydERpcmVjdGl2ZXModCksdGhpcy5fc2NvcGVDc3NUZXh0KHQsZSxuKStyfSx0LnByb3RvdHlwZS5faW5zZXJ0RGlyZWN0aXZlcz1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLl9pbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXNJbkNzc1RleHQodCksdGhpcy5faW5zZXJ0UG9seWZpbGxSdWxlc0luQ3NzVGV4dCh0KX0sdC5wcm90b3R5cGUuX2luc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKFFkLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZS0wXT1hcmd1bWVudHNbZV07cmV0dXJuIHRbMl0rXCJ7XCJ9KX0sdC5wcm90b3R5cGUuX2luc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZShZZCxmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2UtMF09YXJndW1lbnRzW2VdO3ZhciBuPXRbMF0ucmVwbGFjZSh0WzFdLFwiXCIpLnJlcGxhY2UodFsyXSxcIlwiKTtyZXR1cm4gdFs0XStufSl9LHQucHJvdG90eXBlLl9zY29wZUNzc1RleHQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2V4dHJhY3RVbnNjb3BlZFJ1bGVzRnJvbUNzc1RleHQodCk7cmV0dXJuIHQ9dGhpcy5faW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KHQpLHQ9dGhpcy5fY29udmVydENvbG9uSG9zdCh0KSx0PXRoaXMuX2NvbnZlcnRDb2xvbkhvc3RDb250ZXh0KHQpLHQ9dGhpcy5fY29udmVydFNoYWRvd0RPTVNlbGVjdG9ycyh0KSxlJiYodD10aGlzLl9zY29wZVNlbGVjdG9ycyh0LGUsbikpLHQ9dCtcIlxcblwiK3IsdC50cmltKCl9LHQucHJvdG90eXBlLl9leHRyYWN0VW5zY29wZWRSdWxlc0Zyb21Dc3NUZXh0PWZ1bmN0aW9uKHQpe3ZhciBlLG49XCJcIjtmb3IoS2QubGFzdEluZGV4PTA7bnVsbCE9PShlPUtkLmV4ZWModCkpOyl7dmFyIHI9ZVswXS5yZXBsYWNlKGVbMl0sXCJcIikucmVwbGFjZShlWzFdLGVbNF0pO24rPXIrXCJcXG5cXG5cIn1yZXR1cm4gbn0sdC5wcm90b3R5cGUuX2NvbnZlcnRDb2xvbkhvc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbnZlcnRDb2xvblJ1bGUodCxleSx0aGlzLl9jb2xvbkhvc3RQYXJ0UmVwbGFjZXIpfSx0LnByb3RvdHlwZS5fY29udmVydENvbG9uSG9zdENvbnRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbnZlcnRDb2xvblJ1bGUodCxueSx0aGlzLl9jb2xvbkhvc3RDb250ZXh0UGFydFJlcGxhY2VyKX0sdC5wcm90b3R5cGUuX2NvbnZlcnRDb2xvblJ1bGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LnJlcGxhY2UoZSxmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2UtMF09YXJndW1lbnRzW2VdO2lmKHRbMl0pe2Zvcih2YXIgcj10WzJdLnNwbGl0KFwiLFwiKSxpPVtdLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIHM9cltvXS50cmltKCk7aWYoIXMpYnJlYWs7aS5wdXNoKG4ocnkscyx0WzNdKSl9cmV0dXJuIGkuam9pbihcIixcIil9cmV0dXJuIHJ5K3RbM119KX0sdC5wcm90b3R5cGUuX2NvbG9uSG9zdENvbnRleHRQYXJ0UmVwbGFjZXI9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlLmluZGV4T2YoWmQpPi0xP3RoaXMuX2NvbG9uSG9zdFBhcnRSZXBsYWNlcih0LGUsbik6dCtlK24rXCIsIFwiK2UrXCIgXCIrdCtufSx0LnByb3RvdHlwZS5fY29sb25Ib3N0UGFydFJlcGxhY2VyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCtlLnJlcGxhY2UoWmQsXCJcIikrbn0sdC5wcm90b3R5cGUuX2NvbnZlcnRTaGFkb3dET01TZWxlY3RvcnM9ZnVuY3Rpb24odCl7cmV0dXJuIG95LnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0LnJlcGxhY2UoZSxcIiBcIil9LHQpfSx0LnByb3RvdHlwZS5fc2NvcGVTZWxlY3RvcnM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuIGVyKHQsZnVuY3Rpb24odCl7dmFyIGk9dC5zZWxlY3RvcixvPXQuY29udGVudDtyZXR1cm5cIkBcIiE9dC5zZWxlY3RvclswXT9pPXIuX3Njb3BlU2VsZWN0b3IodC5zZWxlY3RvcixlLG4sci5zdHJpY3RTdHlsaW5nKToodC5zZWxlY3Rvci5zdGFydHNXaXRoKFwiQG1lZGlhXCIpfHx0LnNlbGVjdG9yLnN0YXJ0c1dpdGgoXCJAc3VwcG9ydHNcIil8fHQuc2VsZWN0b3Iuc3RhcnRzV2l0aChcIkBwYWdlXCIpfHx0LnNlbGVjdG9yLnN0YXJ0c1dpdGgoXCJAZG9jdW1lbnRcIikpJiYobz1yLl9zY29wZVNlbGVjdG9ycyh0LmNvbnRlbnQsZSxuKSksbmV3IGd5KGksbyl9KX0sdC5wcm90b3R5cGUuX3Njb3BlU2VsZWN0b3I9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcztyZXR1cm4gdC5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyaW0oKS5zcGxpdChzeSl9KS5tYXAoZnVuY3Rpb24odCl7dmFyIG89dFswXSxzPXQuc2xpY2UoMSksYT1mdW5jdGlvbih0KXtyZXR1cm4gaS5fc2VsZWN0b3JOZWVkc1Njb3BpbmcodCxlKT9yP2kuX2FwcGx5U3RyaWN0U2VsZWN0b3JTY29wZSh0LGUsbik6aS5fYXBwbHlTZWxlY3RvclNjb3BlKHQsZSxuKTp0fTtyZXR1cm5bYShvKV0uY29uY2F0KHMpLmpvaW4oXCIgXCIpfSkuam9pbihcIiwgXCIpfSx0LnByb3RvdHlwZS5fc2VsZWN0b3JOZWVkc1Njb3Bpbmc9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9tYWtlU2NvcGVNYXRjaGVyKGUpO3JldHVybiFuLnRlc3QodCl9LHQucHJvdG90eXBlLl9tYWtlU2NvcGVNYXRjaGVyPWZ1bmN0aW9uKHQpe3ZhciBlPS9cXFsvZyxuPS9cXF0vZztyZXR1cm4gdD10LnJlcGxhY2UoZSxcIlxcXFxbXCIpLnJlcGxhY2UobixcIlxcXFxdXCIpLG5ldyBSZWdFeHAoXCJeKFwiK3QrXCIpXCIrYXksXCJtXCIpfSx0LnByb3RvdHlwZS5fYXBwbHlTZWxlY3RvclNjb3BlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5fYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKHQsZSxuKX0sdC5wcm90b3R5cGUuX2FwcGx5U2ltcGxlU2VsZWN0b3JTY29wZT1mdW5jdGlvbih0LGUsbil7aWYodXkubGFzdEluZGV4PTAsdXkudGVzdCh0KSl7dmFyIHI9dGhpcy5zdHJpY3RTdHlsaW5nP1wiW1wiK24rXCJdXCI6ZTtyZXR1cm4gdC5yZXBsYWNlKGl5LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucmVwbGFjZSgvKFteOl0qKSg6KikoLiopLyxmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gZStyK24raX0pfSkucmVwbGFjZSh1eSxyK1wiIFwiKX1yZXR1cm4gZStcIiBcIit0fSx0LnByb3RvdHlwZS5fYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLGk9L1xcW2lzPShbXlxcXV0qKVxcXS9nO2U9ZS5yZXBsYWNlKGksZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07cmV0dXJuIGVbMF19KTt2YXIgbz1cIltcIitlK1wiXVwiLHM9ZnVuY3Rpb24odCl7dmFyIGk9dC50cmltKCk7aWYoIWkpcmV0dXJuXCJcIjtpZih0LmluZGV4T2YocnkpPi0xKWk9ci5fYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKHQsZSxuKTtlbHNle3ZhciBzPXQucmVwbGFjZSh1eSxcIlwiKTtpZihzLmxlbmd0aD4wKXt2YXIgYT1zLm1hdGNoKC8oW146XSopKDoqKSguKikvKTthJiYoaT1hWzFdK28rYVsyXSthWzNdKX19cmV0dXJuIGl9LGE9bmV3ICRkKHQpO3Q9YS5jb250ZW50KCk7Zm9yKHZhciB1LGM9XCJcIixsPTAscD0vKCB8PnxcXCt8fig/IT0pKVxccyovZyxoPXQuaW5kZXhPZihyeSk7bnVsbCE9PSh1PXAuZXhlYyh0KSk7KXt2YXIgZj11WzFdLGQ9dC5zbGljZShsLHUuaW5kZXgpLnRyaW0oKSx5PWw+PWg/cyhkKTpkO2MrPXkrXCIgXCIrZitcIiBcIixsPXAubGFzdEluZGV4fXJldHVybiBjKz1zKHQuc3Vic3RyaW5nKGwpKSxhLnJlc3RvcmUoYyl9LHQucHJvdG90eXBlLl9pbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZShseSxKZCkucmVwbGFjZShjeSxaZCl9LHR9KCksJGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPXRoaXM7dGhpcy5wbGFjZWhvbGRlcnM9W10sdGhpcy5pbmRleD0wLHQ9dC5yZXBsYWNlKC8oXFxbW15cXF1dKlxcXSkvZyxmdW5jdGlvbih0LG4pe3ZhciByPVwiX19waC1cIitlLmluZGV4K1wiX19cIjtyZXR1cm4gZS5wbGFjZWhvbGRlcnMucHVzaChuKSxlLmluZGV4Kysscn0pLHRoaXMuX2NvbnRlbnQ9dC5yZXBsYWNlKC8oOm50aC1bLVxcd10rKShcXChbXildK1xcKSkvZyxmdW5jdGlvbih0LG4scil7dmFyIGk9XCJfX3BoLVwiK2UuaW5kZXgrXCJfX1wiO3JldHVybiBlLnBsYWNlaG9sZGVycy5wdXNoKHIpLGUuaW5kZXgrKyxuK2l9KX1yZXR1cm4gdC5wcm90b3R5cGUucmVzdG9yZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0LnJlcGxhY2UoL19fcGgtKFxcZCspX18vZyxmdW5jdGlvbih0LG4pe3JldHVybiBlLnBsYWNlaG9sZGVyc1srbl19KX0sdC5wcm90b3R5cGUuY29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZW50fSx0fSgpLFFkPS9wb2x5ZmlsbC1uZXh0LXNlbGVjdG9yW159XSpjb250ZW50OltcXHNdKj8oWydcIl0pKC4qPylcXDFbO1xcc10qfShbXntdKj8pey9naW0sWWQ9Lyhwb2x5ZmlsbC1ydWxlKVtefV0qKGNvbnRlbnQ6W1xcc10qKFsnXCJdKSguKj8pXFwzKVs7XFxzXSpbXn1dKn0vZ2ltLEtkPS8ocG9seWZpbGwtdW5zY29wZWQtcnVsZSlbXn1dKihjb250ZW50OltcXHNdKihbJ1wiXSkoLio/KVxcMylbO1xcc10qW159XSp9L2dpbSxaZD1cIi1zaGFkb3djc3Nob3N0XCIsSmQ9XCItc2hhZG93Y3NzY29udGV4dFwiLHR5PVwiKSg/OlxcXFwoKCg/OlxcXFwoW14pKF0qXFxcXCl8W14pKF0qKSs/KVxcXFwpKT8oW14se10qKVwiLGV5PW5ldyBSZWdFeHAoXCIoXCIrWmQrdHksXCJnaW1cIiksbnk9bmV3IFJlZ0V4cChcIihcIitKZCt0eSxcImdpbVwiKSxyeT1aZCtcIi1uby1jb21iaW5hdG9yXCIsaXk9Ly1zaGFkb3djc3Nob3N0LW5vLWNvbWJpbmF0b3IoW15cXHNdKikvLG95PVsvOjpzaGFkb3cvZywvOjpjb250ZW50L2csL1xcL3NoYWRvdy1kZWVwXFwvL2csL1xcL3NoYWRvd1xcLy9nXSxzeT0vKD86Pj4+KXwoPzpcXC9kZWVwXFwvKS9nLGF5PVwiKFs+XFxcXHN+K1suLHs6XVtcXFxcc1xcXFxTXSopPyRcIix1eT0vLXNoYWRvd2Nzc2hvc3QvZ2ltLGN5PS86aG9zdC9naW0sbHk9Lzpob3N0LWNvbnRleHQvZ2ltLHB5PS9cXC9cXCpcXHMqW1xcc1xcU10qP1xcKlxcLy9nLGh5PS9cXC9cXCpcXHMqI1xccypzb3VyY2VNYXBwaW5nVVJMPVtcXHNcXFNdKz9cXCpcXC8vLGZ5PS8oXFxzKikoW147XFx7XFx9XSs/KShcXHMqKSgoPzp7JUJMT0NLJX0/XFxzKjs/KXwoPzpcXHMqOykpL2csZHk9Lyhbe31dKS9nLHl5PVwie1wiLG15PVwifVwiLHZ5PVwiJUJMT0NLJVwiLGd5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuc2VsZWN0b3I9dCx0aGlzLmNvbnRlbnQ9ZX1yZXR1cm4gdH0oKSxfeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmVzY2FwZWRTdHJpbmc9dCx0aGlzLmJsb2Nrcz1lfXJldHVybiB0fSgpLGJ5PXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6cjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4scik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkoaT10W2FdKSYmKHM9KG88Mz9pKHMpOm8+Mz9pKGUsbixzKTppKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9LHd5PXRoaXMmJnRoaXMuX19tZXRhZGF0YXx8ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGUpfSxDeT1cIiVDT01QJVwiLEV5PVwiX25naG9zdC1cIitDeSxTeT1cIl9uZ2NvbnRlbnQtXCIrQ3kseHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMubmFtZT10LHRoaXMubW9kdWxlVXJsPWUsdGhpcy5pc1NoaW1tZWQ9bix0aGlzLnZhbHVlUGxhY2Vob2xkZXI9cn1yZXR1cm4gdH0oKSxQeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmNvbXBvbmVudFN0eWxlc2hlZXQ9dCx0aGlzLmV4dGVybmFsU3R5bGVzaGVldHM9ZX1yZXR1cm4gdH0oKSxPeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt0aGlzLnN0YXRlbWVudHM9dCx0aGlzLnN0eWxlc1Zhcj1lLHRoaXMuZGVwZW5kZW5jaWVzPW4sdGhpcy5pc1NoaW1tZWQ9cix0aGlzLm1ldGE9aX1yZXR1cm4gdH0oKSxUeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fdXJsUmVzb2x2ZXI9dCx0aGlzLl9zaGFkb3dDc3M9bmV3IFhkfXJldHVybiB0LnByb3RvdHlwZS5jb21waWxlQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1bXSxyPXRoaXMuX2NvbXBpbGVTdHlsZXModCxuZXcgeHMoe3N0eWxlczp0LnRlbXBsYXRlLnN0eWxlcyxzdHlsZVVybHM6dC50ZW1wbGF0ZS5zdHlsZVVybHMsbW9kdWxlVXJsOncodC50eXBlKX0pLCEwKTtyZXR1cm4gdC50ZW1wbGF0ZS5leHRlcm5hbFN0eWxlc2hlZXRzLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIGk9ZS5fY29tcGlsZVN0eWxlcyh0LHIsITEpO24ucHVzaChpKX0pLG5ldyBQeShyLG4pfSx0LnByb3RvdHlwZS5fY29tcGlsZVN0eWxlcz1mdW5jdGlvbih0LG4scil7Zm9yKHZhciBpPXRoaXMsbz10LnRlbXBsYXRlLmVuY2Fwc3VsYXRpb249PT1lLlZpZXdFbmNhcHN1bGF0aW9uLkVtdWxhdGVkLHM9bi5zdHlsZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0bihpLl9zaGltSWZOZWVkZWQodCxvKSl9KSxhPVtdLHU9MDt1PG4uc3R5bGVVcmxzLmxlbmd0aDt1Kyspe3ZhciBjPXtyZWZlcmVuY2U6bnVsbH07YS5wdXNoKG5ldyB4eShycihudWxsKSxuLnN0eWxlVXJsc1t1XSxvLGMpKSxzLnB1c2gobmV3IEdoKGMpKX12YXIgbD1ycihyP3Q6bnVsbCkscD1HZShsKS5zZXQoWWUocyxuZXcgUGgoVGgsW3doLkNvbnN0XSkpKS50b0RlY2xTdG10KG51bGwsW2NmLkZpbmFsXSk7cmV0dXJuIG5ldyBPeShbcF0sbCxhLG8sbil9LHQucHJvdG90eXBlLl9zaGltSWZOZWVkZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90aGlzLl9zaGFkb3dDc3Muc2hpbUNzc1RleHQodCxTeSxFeSk6dH0sdD1ieShbTSgpLHd5KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbbGhdKV0sdCl9KCksQXk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5ub2RlSW5kZXg9dCx0aGlzLnNvdXJjZUFzdD1lfXJldHVybiB0fSgpLE15PW5ldyBBeShudWxsLG51bGwpLGt5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl92aWV3PXQsdGhpcy5fbmV3U3RhdGU9TXksdGhpcy5fY3VyclN0YXRlPU15LHRoaXMuX2JvZHlTdGF0ZW1lbnRzPVtdLHRoaXMuX2RlYnVnRW5hYmxlZD10aGlzLl92aWV3LmdlbkNvbmZpZy5nZW5EZWJ1Z0luZm99cmV0dXJuIHQucHJvdG90eXBlLl91cGRhdGVEZWJ1Z0NvbnRleHRJZk5lZWRlZD1mdW5jdGlvbigpe2lmKHRoaXMuX25ld1N0YXRlLm5vZGVJbmRleCE9PXRoaXMuX2N1cnJTdGF0ZS5ub2RlSW5kZXh8fHRoaXMuX25ld1N0YXRlLnNvdXJjZUFzdCE9PXRoaXMuX2N1cnJTdGF0ZS5zb3VyY2VBc3Qpe3ZhciB0PXRoaXMuX3VwZGF0ZURlYnVnQ29udGV4dCh0aGlzLl9uZXdTdGF0ZSk7dCYmdGhpcy5fYm9keVN0YXRlbWVudHMucHVzaCh0LnRvU3RtdCgpKX19LHQucHJvdG90eXBlLl91cGRhdGVEZWJ1Z0NvbnRleHQ9ZnVuY3Rpb24odCl7aWYodGhpcy5fY3VyclN0YXRlPXRoaXMuX25ld1N0YXRlPXQsdGhpcy5fZGVidWdFbmFibGVkKXt2YXIgZT10LnNvdXJjZUFzdD90LnNvdXJjZUFzdC5zb3VyY2VTcGFuLnN0YXJ0Om51bGw7cmV0dXJuIG9mLmNhbGxNZXRob2QoXCJkZWJ1Z1wiLFt0bih0Lm5vZGVJbmRleCksZT90bihlLmxpbmUpOmFmLGU/dG4oZS5jb2wpOmFmXSl9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLnJlc2V0RGVidWdJbmZvRXhwcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3VwZGF0ZURlYnVnQ29udGV4dChuZXcgQXkodCxlKSk7cmV0dXJuIG58fGFmfSx0LnByb3RvdHlwZS5yZXNldERlYnVnSW5mbz1mdW5jdGlvbih0LGUpe3RoaXMuX25ld1N0YXRlPW5ldyBBeSh0LGUpfSx0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZS0wXT1hcmd1bWVudHNbZV07dGhpcy5hZGRTdG10cyh0KX0sdC5wcm90b3R5cGUuYWRkU3RtdD1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGVEZWJ1Z0NvbnRleHRJZk5lZWRlZCgpLHRoaXMuX2JvZHlTdGF0ZW1lbnRzLnB1c2godCl9LHQucHJvdG90eXBlLmFkZFN0bXRzPWZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZURlYnVnQ29udGV4dElmTmVlZGVkKCksKGU9dGhpcy5fYm9keVN0YXRlbWVudHMpLnB1c2guYXBwbHkoZSx0KTt2YXIgZX0sdC5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvZHlTdGF0ZW1lbnRzfSx0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9ib2R5U3RhdGVtZW50cy5sZW5ndGh9LHR9KCksUnk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LEl5PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyksdGhpcy5fdmlld0V4cHI9ZSx0aGlzLl92aWV3PW59cmV0dXJuIFJ5KGUsdCksZS5wcm90b3R5cGUuX2lzVGhpcz1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFZoJiZ0LmJ1aWx0aW49PT1qaC5UaGlzfSxlLnByb3RvdHlwZS52aXNpdFJlYWRWYXJFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2lzVGhpcyh0KT90aGlzLl92aWV3RXhwcjp0fSxlLnByb3RvdHlwZS52aXNpdFJlYWRQcm9wRXhwcj1mdW5jdGlvbihlLG4pe3JldHVybiB0aGlzLl9pc1RoaXMoZS5yZWNlaXZlcikmJih0aGlzLl92aWV3LmZpZWxkcy5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PWUubmFtZX0pfHx0aGlzLl92aWV3LmdldHRlcnMuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT1lLm5hbWV9KSk/dGhpcy5fdmlld0V4cHIuY2FzdCh0aGlzLl92aWV3LmNsYXNzVHlwZSkucHJvcChlLm5hbWUpOnQucHJvdG90eXBlLnZpc2l0UmVhZFByb3BFeHByLmNhbGwodGhpcyxlLG4pfSxlfShFZiksTnk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy52aWV3PXQsdGhpcy52YWx1ZXM9ZX1yZXR1cm4gdH0oKSxEeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5tZXRhPXQsdGhpcy5xdWVyeUxpc3Q9ZSx0aGlzLm93bmVyRGlyZWN0aXZlRXhwcmVzc2lvbj1uLHRoaXMudmlldz1yLHRoaXMuX3ZhbHVlcz1uZXcgTnkocixbXSl9cmV0dXJuIHQucHJvdG90eXBlLmFkZFZhbHVlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUscj1bXTtuJiZuIT09dGhpcy52aWV3Oyl7dmFyIGk9bi5kZWNsYXJhdGlvbkVsZW1lbnQ7ci51bnNoaWZ0KGkpLG49aS52aWV3fXZhciBvPWlyKHRoaXMucXVlcnlMaXN0LGUsdGhpcy52aWV3KSxzPXRoaXMuX3ZhbHVlcztyLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9cy52YWx1ZXMubGVuZ3RoPjA/cy52YWx1ZXNbcy52YWx1ZXMubGVuZ3RoLTFdOm51bGw7aWYoZSBpbnN0YW5jZW9mIE55JiZlLnZpZXc9PT10LmVtYmVkZGVkVmlldylzPWU7ZWxzZXt2YXIgbj1uZXcgTnkodC5lbWJlZGRlZFZpZXcsW10pO3MudmFsdWVzLnB1c2gobikscz1ufX0pLHMudmFsdWVzLnB1c2godCksci5sZW5ndGg+MCYmZS5kaXJ0eVBhcmVudFF1ZXJpZXNNZXRob2QuYWRkU3RtdChvLmNhbGxNZXRob2QoXCJzZXREaXJ0eVwiLFtdKS50b1N0bXQoKSl9LHQucHJvdG90eXBlLl9pc1N0YXRpYz1mdW5jdGlvbigpe3JldHVybiF0aGlzLl92YWx1ZXMudmFsdWVzLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBOeX0pfSx0LnByb3RvdHlwZS5nZW5lcmF0ZVN0YXRlbWVudHM9ZnVuY3Rpb24odCxlKXt2YXIgbj11cih0aGlzLl92YWx1ZXMpLHI9W3RoaXMucXVlcnlMaXN0LmNhbGxNZXRob2QoXCJyZXNldFwiLFtZZShuKV0pLnRvU3RtdCgpXTtpZih0aGlzLm93bmVyRGlyZWN0aXZlRXhwcmVzc2lvbil7dmFyIGk9dGhpcy5tZXRhLmZpcnN0P3RoaXMucXVlcnlMaXN0LnByb3AoXCJmaXJzdFwiKTp0aGlzLnF1ZXJ5TGlzdDtyLnB1c2godGhpcy5vd25lckRpcmVjdGl2ZUV4cHJlc3Npb24ucHJvcCh0aGlzLm1ldGEucHJvcGVydHlOYW1lKS5zZXQoaSkudG9TdG10KCkpfXRoaXMubWV0YS5maXJzdHx8ci5wdXNoKHRoaXMucXVlcnlMaXN0LmNhbGxNZXRob2QoXCJub3RpZnlPbkNoYW5nZXNcIixbXSkudG9TdG10KCkpLHRoaXMubWV0YS5maXJzdCYmdGhpcy5faXNTdGF0aWMoKT90LmFkZFN0bXRzKHIpOmUuYWRkU3RtdChuZXcgYmYodGhpcy5xdWVyeUxpc3QucHJvcChcImRpcnR5XCIpLHIpKX0sdH0oKSxqeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuZnJvbVZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB1bihfbC5WaWV3VHlwZSx0KX0sdH0oKSxWeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuZnJvbVZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB1bihfbC5WaWV3RW5jYXBzdWxhdGlvbix0KX0sdH0oKSxMeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuZnJvbVZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB1bihfbC5DaGFuZ2VEZXRlY3RvclN0YXR1cyx0KX0sdH0oKSxGeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQudmlld1V0aWxzPUdlKFwidmlld1V0aWxzXCIpLHQucGFyZW50Vmlldz1HZShcInBhcmVudFZpZXdcIiksdC5wYXJlbnRJbmRleD1HZShcInBhcmVudEluZGV4XCIpLHQucGFyZW50RWxlbWVudD1HZShcInBhcmVudEVsZW1lbnRcIiksdH0oKSxVeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucmVuZGVyZXI9b2YucHJvcChcInJlbmRlcmVyXCIpLHQudmlld1V0aWxzPW9mLnByb3AoXCJ2aWV3VXRpbHNcIiksdH0oKSxIeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQudG9rZW49R2UoXCJ0b2tlblwiKSx0LnJlcXVlc3ROb2RlSW5kZXg9R2UoXCJyZXF1ZXN0Tm9kZUluZGV4XCIpLHQubm90Rm91bmRSZXN1bHQ9R2UoXCJub3RGb3VuZFJlc3VsdFwiKSx0fSgpLEJ5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC50aHJvd09uQ2hhbmdlPUdlKFwidGhyb3dPbkNoYW5nZVwiKSx0LmNoYW5nZXM9R2UoXCJjaGFuZ2VzXCIpLHQuY2hhbmdlZD1HZShcImNoYW5nZWRcIiksdH0oKSxxeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuY29tcD10LHRoaXMubmFtZT1lLHRoaXMucGxhY2Vob2xkZXI9bn1yZXR1cm4gdH0oKSx6eT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmNvbXA9dCx0aGlzLnBsYWNlaG9sZGVyPWV9cmV0dXJuIHR9KCksV3k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLmRpcj10LHRoaXMubmFtZT1lLHRoaXMucGxhY2Vob2xkZXI9bn1yZXR1cm4gdH0oKSxHeT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sWHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dGhpcy5wYXJlbnQ9dCx0aGlzLnZpZXc9ZSx0aGlzLm5vZGVJbmRleD1uLHRoaXMucmVuZGVyTm9kZT1yLHRoaXMuc291cmNlQXN0PWl9cmV0dXJuIHQucHJvdG90eXBlLmlzTnVsbD1mdW5jdGlvbigpe3JldHVybiF0aGlzLnJlbmRlck5vZGV9LHQucHJvdG90eXBlLmlzUm9vdEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3IT10aGlzLnBhcmVudC52aWV3fSx0fSgpLCR5PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsaSxvLHMsYSx1LGMsbCxwKXt2YXIgaD10aGlzO3QuY2FsbCh0aGlzLGUsbixyLGksbyksdGhpcy5jb21wb25lbnQ9cyx0aGlzLl9kaXJlY3RpdmVzPWEsdGhpcy5fcmVzb2x2ZWRQcm92aWRlcnNBcnJheT11LHRoaXMuaGFzVmlld0NvbnRhaW5lcj1jLHRoaXMuaGFzRW1iZWRkZWRWaWV3PWwsdGhpcy5jb21wVmlld0V4cHI9bnVsbCx0aGlzLmluc3RhbmNlcz1uZXcgTWFwLHRoaXMuZGlyZWN0aXZlV3JhcHBlckluc3RhbmNlPW5ldyBNYXAsdGhpcy5fcXVlcnlDb3VudD0wLHRoaXMuX3F1ZXJpZXM9bmV3IE1hcCx0aGlzLmNvbnRlbnROb2Rlc0J5TmdDb250ZW50SW5kZXg9bnVsbCx0aGlzLnJlZmVyZW5jZVRva2Vucz17fSxwLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGgucmVmZXJlbmNlVG9rZW5zW3QubmFtZV09dC52YWx1ZX0pLHRoaXMuZWxlbWVudFJlZj1YZShZdChfbC5FbGVtZW50UmVmKSkuaW5zdGFudGlhdGUoW3RoaXMucmVuZGVyTm9kZV0pLHRoaXMuaW5zdGFuY2VzLnNldChRdChfbC5FbGVtZW50UmVmKSx0aGlzLmVsZW1lbnRSZWYpLHRoaXMuaW5zdGFuY2VzLnNldChRdChfbC5JbmplY3Rvciksb2YuY2FsbE1ldGhvZChcImluamVjdG9yXCIsW3RuKHRoaXMubm9kZUluZGV4KV0pKSx0aGlzLmluc3RhbmNlcy5zZXQoUXQoX2wuUmVuZGVyZXIpLG9mLnByb3AoXCJyZW5kZXJlclwiKSksKHRoaXMuaGFzVmlld0NvbnRhaW5lcnx8dGhpcy5oYXNFbWJlZGRlZFZpZXcpJiZ0aGlzLl9jcmVhdGVWaWV3Q29udGFpbmVyKCksdGhpcy5jb21wb25lbnQmJnRoaXMuX2NyZWF0ZUNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcigpfXJldHVybiBHeShlLHQpLGUuY3JlYXRlTnVsbD1mdW5jdGlvbigpe3JldHVybiBuZXcgZShudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxbXSxbXSwhMSwhMSxbXSl9LGUucHJvdG90eXBlLl9jcmVhdGVWaWV3Q29udGFpbmVyPWZ1bmN0aW9uKCl7dmFyIHQ9XCJfdmNfXCIrdGhpcy5ub2RlSW5kZXgsZT10aGlzLmlzUm9vdEVsZW1lbnQoKT9udWxsOnRoaXMucGFyZW50Lm5vZGVJbmRleDt0aGlzLnZpZXcuZmllbGRzLnB1c2gobmV3IG1mKHQsJGUoWXQoX2wuVmlld0NvbnRhaW5lcikpLFtjZi5Qcml2YXRlXSkpO3ZhciBuPW9mLnByb3AodCkuc2V0KFhlKFl0KF9sLlZpZXdDb250YWluZXIpKS5pbnN0YW50aWF0ZShbdG4odGhpcy5ub2RlSW5kZXgpLHRuKGUpLG9mLHRoaXMucmVuZGVyTm9kZV0pKS50b1N0bXQoKTt0aGlzLnZpZXcuY3JlYXRlTWV0aG9kLmFkZFN0bXQobiksdGhpcy52aWV3Q29udGFpbmVyPW9mLnByb3AodCksdGhpcy5pbnN0YW5jZXMuc2V0KFF0KF9sLlZpZXdDb250YWluZXIpLHRoaXMudmlld0NvbnRhaW5lciksdGhpcy52aWV3LnZpZXdDb250YWluZXJzLnB1c2godGhpcy52aWV3Q29udGFpbmVyKX0sZS5wcm90b3R5cGUuX2NyZWF0ZUNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmNvbXBvbmVudC5lbnRyeUNvbXBvbmVudHMubWFwKGZ1bmN0aW9uKGUpe3ZhciBuPXtyZWZlcmVuY2U6bnVsbH07cmV0dXJuIHQudmlldy50YXJnZXREZXBlbmRlbmNpZXMucHVzaChuZXcgenkoZSxuKSksbn0pO2lmKGUmJjAhPT1lLmxlbmd0aCl7dmFyIG49WGUoWXQoX2wuQ29kZWdlbkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikpLmluc3RhbnRpYXRlKFtZZShlLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gWGUodCl9KSksb3IodGhpcy52aWV3LFp0KF9sLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciksITEpXSkscj17dG9rZW46WnQoX2wuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKSx1c2VWYWx1ZTpufTt0aGlzLl9yZXNvbHZlZFByb3ZpZGVyc0FycmF5LnVuc2hpZnQobmV3IFFpKHIudG9rZW4sITEsITAsW3JdLFlpLlByaXZhdGVTZXJ2aWNlLFtdLHRoaXMuc291cmNlQXN0LnNvdXJjZVNwYW4pKX19LGUucHJvdG90eXBlLnNldENvbXBvbmVudFZpZXc9ZnVuY3Rpb24odCl7dGhpcy5jb21wVmlld0V4cHI9dCx0aGlzLmNvbnRlbnROb2Rlc0J5TmdDb250ZW50SW5kZXg9bmV3IEFycmF5KHRoaXMuY29tcG9uZW50LnRlbXBsYXRlLm5nQ29udGVudFNlbGVjdG9ycy5sZW5ndGgpO2Zvcih2YXIgZT0wO2U8dGhpcy5jb250ZW50Tm9kZXNCeU5nQ29udGVudEluZGV4Lmxlbmd0aDtlKyspdGhpcy5jb250ZW50Tm9kZXNCeU5nQ29udGVudEluZGV4W2VdPVtdfSxlLnByb3RvdHlwZS5zZXRFbWJlZGRlZFZpZXc9ZnVuY3Rpb24odCl7aWYodGhpcy5lbWJlZGRlZFZpZXc9dCxyKHQpKXt2YXIgZT1YZShZdChfbC5UZW1wbGF0ZVJlZl8pKS5pbnN0YW50aWF0ZShbb2YsdG4odGhpcy5ub2RlSW5kZXgpLHRoaXMucmVuZGVyTm9kZV0pLG49e3Rva2VuOlp0KF9sLlRlbXBsYXRlUmVmKSx1c2VWYWx1ZTplfTt0aGlzLl9yZXNvbHZlZFByb3ZpZGVyc0FycmF5LnVuc2hpZnQobmV3IFFpKG4udG9rZW4sITEsITAsW25dLFlpLkJ1aWx0aW4sW10sdGhpcy5zb3VyY2VBc3Quc291cmNlU3BhbikpfX0sZS5wcm90b3R5cGUuYmVmb3JlQ2hpbGRyZW49ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuaGFzVmlld0NvbnRhaW5lciYmdGhpcy5pbnN0YW5jZXMuc2V0KFF0KF9sLlZpZXdDb250YWluZXJSZWYpLHRoaXMudmlld0NvbnRhaW5lci5wcm9wKFwidmNSZWZcIikpLHRoaXMuX3Jlc29sdmVkUHJvdmlkZXJzPW5ldyBNYXAsdGhpcy5fcmVzb2x2ZWRQcm92aWRlcnNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9yZXNvbHZlZFByb3ZpZGVycy5zZXQoRShlLnRva2VuKSxlKX0pLEFycmF5LmZyb20odGhpcy5fcmVzb2x2ZWRQcm92aWRlcnMudmFsdWVzKCkpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49ZS5wcm92aWRlclR5cGU9PT1ZaS5Db21wb25lbnR8fGUucHJvdmlkZXJUeXBlPT09WWkuRGlyZWN0aXZlLHI9ZS5wcm92aWRlcnMubWFwKGZ1bmN0aW9uKHIpe2lmKHIudXNlRXhpc3RpbmcpcmV0dXJuIHQuX2dldERlcGVuZGVuY3koZS5wcm92aWRlclR5cGUse3Rva2VuOnIudXNlRXhpc3Rpbmd9KTtpZihyLnVzZUZhY3Rvcnkpe3ZhciBpPXIuZGVwc3x8ci51c2VGYWN0b3J5LmRpRGVwcyxvPWkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiB0Ll9nZXREZXBlbmRlbmN5KGUucHJvdmlkZXJUeXBlLG4pfSk7cmV0dXJuIFhlKHIudXNlRmFjdG9yeSkuY2FsbEZuKG8pfWlmKHIudXNlQ2xhc3Mpe3ZhciBpPXIuZGVwc3x8ci51c2VDbGFzcy5kaURlcHMsbz1pLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gdC5fZ2V0RGVwZW5kZW5jeShlLnByb3ZpZGVyVHlwZSxuKX0pO2lmKG4pe3ZhciBzPXtyZWZlcmVuY2U6bnVsbH07cmV0dXJuIHQudmlldy50YXJnZXREZXBlbmRlbmNpZXMucHVzaChuZXcgV3koci51c2VDbGFzcyxZZi5kaXJXcmFwcGVyQ2xhc3NOYW1lKHIudXNlQ2xhc3MpLHMpKSxKZi5jcmVhdGUocyxvKX1yZXR1cm4gWGUoci51c2VDbGFzcykuaW5zdGFudGlhdGUobywkZShyLnVzZUNsYXNzKSl9cmV0dXJuIFhuKHIudXNlVmFsdWUpfSksaT1cIl9cIitDKGUudG9rZW4pK1wiX1wiK3Qubm9kZUluZGV4K1wiX1wiK3QuaW5zdGFuY2VzLnNpemUsbz1mcihpLHIsZS5tdWx0aVByb3ZpZGVyLGUuZWFnZXIsdCk7bj8odC5kaXJlY3RpdmVXcmFwcGVySW5zdGFuY2Uuc2V0KEUoZS50b2tlbiksbyksdC5pbnN0YW5jZXMuc2V0KEUoZS50b2tlbiksSmYuY29udGV4dChvKSkpOnQuaW5zdGFuY2VzLnNldChFKGUudG9rZW4pLG8pfSk7Zm9yKHZhciBlPWZ1bmN0aW9uKGUpe3ZhciByPW4uX2RpcmVjdGl2ZXNbZV0saT1uLmluc3RhbmNlcy5nZXQoRShLdChyLnR5cGUpKSk7ci5xdWVyaWVzLmZvckVhY2goZnVuY3Rpb24oZSl7dC5fYWRkUXVlcnkoZSxpKX0pfSxuPXRoaXMscj0wO3I8dGhpcy5fZGlyZWN0aXZlcy5sZW5ndGg7cisrKWUocik7T2JqZWN0LmtleXModGhpcy5yZWZlcmVuY2VUb2tlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG4scj10LnJlZmVyZW5jZVRva2Vuc1tlXTtuPXI/dC5pbnN0YW5jZXMuZ2V0KEUocikpOnQucmVuZGVyTm9kZSx0LnZpZXcubG9jYWxzLnNldChlLG4pfSl9LGUucHJvdG90eXBlLmFmdGVyQ2hpbGRyZW49ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztBcnJheS5mcm9tKHRoaXMuX3Jlc29sdmVkUHJvdmlkZXJzLnZhbHVlcygpKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPWUuaW5zdGFuY2VzLmdldChFKG4udG9rZW4pKSxpPW4ucHJvdmlkZXJUeXBlPT09WWkuUHJpdmF0ZVNlcnZpY2U/MDp0O2Uudmlldy5pbmplY3RvckdldE1ldGhvZC5hZGRTdG10KGhyKGUubm9kZUluZGV4LGksbixyKSl9KX0sZS5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztBcnJheS5mcm9tKHRoaXMuX3F1ZXJpZXMudmFsdWVzKCkpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZW5lcmF0ZVN0YXRlbWVudHModC52aWV3LmNyZWF0ZU1ldGhvZCx0LnZpZXcudXBkYXRlQ29udGVudFF1ZXJpZXNNZXRob2QpfSl9KX0sZS5wcm90b3R5cGUuYWRkQ29udGVudE5vZGU9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbnRlbnROb2Rlc0J5TmdDb250ZW50SW5kZXhbdF0ucHVzaChlKX0sZS5wcm90b3R5cGUuZ2V0Q29tcG9uZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcy5jb21wb25lbnQpP3RoaXMuaW5zdGFuY2VzLmdldChFKEt0KHRoaXMuY29tcG9uZW50LnR5cGUpKSk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJUb2tlbnM9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9yZXNvbHZlZFByb3ZpZGVycy52YWx1ZXMoKSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRva2VufSl9LGUucHJvdG90eXBlLmdldFF1ZXJpZXNGb3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49W10saT10aGlzLG89MDshaS5pc051bGwoKTspZT1pLl9xdWVyaWVzLmdldChFKHQpKSxyKGUpJiZuLnB1c2guYXBwbHkobixlLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5tZXRhLmRlc2NlbmRhbnRzfHxvPD0xfSkpLGkuX2RpcmVjdGl2ZXMubGVuZ3RoPjAmJm8rKyxpPWkucGFyZW50O3JldHVybiBlPXRoaXMudmlldy5jb21wb25lbnRWaWV3LnZpZXdRdWVyaWVzLmdldChFKHQpKSxyKGUpJiZuLnB1c2guYXBwbHkobixlKSxufSxlLnByb3RvdHlwZS5fYWRkUXVlcnk9ZnVuY3Rpb24odCxlKXt2YXIgbj1cIl9xdWVyeV9cIitDKHQuc2VsZWN0b3JzWzBdKStcIl9cIit0aGlzLm5vZGVJbmRleCtcIl9cIit0aGlzLl9xdWVyeUNvdW50Kysscj1scihuLHRoaXMudmlldyksaT1uZXcgRHkodCxyLGUsdGhpcy52aWV3KTtyZXR1cm4gcHIodGhpcy5fcXVlcmllcyxpKSxpfSxlLnByb3RvdHlwZS5fZ2V0TG9jYWxEZXBlbmRlbmN5PWZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbDtpZihyKGUudG9rZW4pKXtpZighbiYmRShlLnRva2VuKT09PVF0KF9sLkNoYW5nZURldGVjdG9yUmVmKSlyZXR1cm4gdD09PVlpLkNvbXBvbmVudD90aGlzLmNvbXBWaWV3RXhwci5wcm9wKFwicmVmXCIpOmlyKG9mLnByb3AoXCJyZWZcIiksdGhpcy52aWV3LHRoaXMudmlldy5jb21wb25lbnRWaWV3KTtcbmlmKCFuKXt2YXIgaT10aGlzLl9yZXNvbHZlZFByb3ZpZGVycy5nZXQoRShlLnRva2VuKSk7aWYoaSYmKHQ9PT1ZaS5EaXJlY3RpdmV8fHQ9PT1ZaS5QdWJsaWNTZXJ2aWNlKSYmaS5wcm92aWRlclR5cGU9PT1ZaS5Qcml2YXRlU2VydmljZSlyZXR1cm4gbnVsbDtuPXRoaXMuaW5zdGFuY2VzLmdldChFKGUudG9rZW4pKX19cmV0dXJuIG59LGUucHJvdG90eXBlLl9nZXREZXBlbmRlbmN5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPW51bGw7Zm9yKGUuaXNWYWx1ZSYmKHI9dG4oZS52YWx1ZSkpLHJ8fGUuaXNTa2lwU2VsZnx8KHI9dGhpcy5fZ2V0TG9jYWxEZXBlbmRlbmN5KHQsZSkpOyFyJiYhbi5wYXJlbnQuaXNOdWxsKCk7KW49bi5wYXJlbnQscj1uLl9nZXRMb2NhbERlcGVuZGVuY3koWWkuUHVibGljU2VydmljZSx7dG9rZW46ZS50b2tlbn0pO3JldHVybiByfHwocj1vcih0aGlzLnZpZXcsZS50b2tlbixlLmlzT3B0aW9uYWwpKSxyfHwocj1hZiksaXIocix0aGlzLnZpZXcsbi52aWV3KX0sZX0oWHkpLFF5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPXRoaXM7dGhpcy52aWV3PXQsdGhpcy5tZXRhPWUsdGhpcy5fcHVyZVBpcGVQcm94eUNvdW50PTAsdGhpcy5pbnN0YW5jZT1vZi5wcm9wKFwiX3BpcGVfXCIrZS5uYW1lK1wiX1wiK3QucGlwZUNvdW50KyspO3ZhciByPXRoaXMubWV0YS50eXBlLmRpRGVwcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEUoZS50b2tlbik9PT1RdChfbC5DaGFuZ2VEZXRlY3RvclJlZik/aXIob2YucHJvcChcInJlZlwiKSxuLnZpZXcsbi52aWV3LmNvbXBvbmVudFZpZXcpOm9yKHQsZS50b2tlbiwhMSl9KTt0aGlzLnZpZXcuZmllbGRzLnB1c2gobmV3IG1mKHRoaXMuaW5zdGFuY2UubmFtZSwkZSh0aGlzLm1ldGEudHlwZSkpKSx0aGlzLnZpZXcuY3JlYXRlTWV0aG9kLnJlc2V0RGVidWdJbmZvKG51bGwsbnVsbCksdGhpcy52aWV3LmNyZWF0ZU1ldGhvZC5hZGRTdG10KG9mLnByb3AodGhpcy5pbnN0YW5jZS5uYW1lKS5zZXQoWGUodGhpcy5tZXRhLnR5cGUpLmluc3RhbnRpYXRlKHIpKS50b1N0bXQoKSl9cmV0dXJuIHQuY2FsbD1mdW5jdGlvbihlLG4scil7dmFyIGksbz1lLmNvbXBvbmVudFZpZXcscz1kcihvLG4pO3JldHVybiBzLnB1cmU/KGk9by5wdXJlUGlwZXMuZ2V0KG4pLGl8fChpPW5ldyB0KG8scyksby5wdXJlUGlwZXMuc2V0KG4saSksby5waXBlcy5wdXNoKGkpKSk6KGk9bmV3IHQoZSxzKSxlLnBpcGVzLnB1c2goaSkpLGkuX2NhbGwoZSxyKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicHVyZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXRhLnB1cmV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuX2NhbGw9ZnVuY3Rpb24odCxlKXtpZih0aGlzLm1ldGEucHVyZSl7dmFyIG49b2YucHJvcCh0aGlzLmluc3RhbmNlLm5hbWUrXCJfXCIrdGhpcy5fcHVyZVBpcGVQcm94eUNvdW50KyspLHI9aXIodGhpcy5pbnN0YW5jZSx0LHRoaXMudmlldyk7cmV0dXJuIGFuKHIucHJvcChcInRyYW5zZm9ybVwiKS5jYWxsTWV0aG9kKEhoLkJpbmQsW3JdKSxlLmxlbmd0aCxuLHtmaWVsZHM6dC5maWVsZHMsY3RvclN0bXRzOnQuY3JlYXRlTWV0aG9kfSksWGUoWXQoX2wuY2FzdEJ5VmFsdWUpKS5jYWxsRm4oW24sci5wcm9wKFwidHJhbnNmb3JtXCIpXSkuY2FsbEZuKGUpfXJldHVybiBpcih0aGlzLmluc3RhbmNlLHQsdGhpcy52aWV3KS5jYWxsTWV0aG9kKFwidHJhbnNmb3JtXCIsZSl9LHR9KCksWXk9e307WXkuTm9kZT0wLFl5LlZpZXdDb250YWluZXI9MSxZeS5OZ0NvbnRlbnQ9MixZeVtZeS5Ob2RlXT1cIk5vZGVcIixZeVtZeS5WaWV3Q29udGFpbmVyXT1cIlZpZXdDb250YWluZXJcIixZeVtZeS5OZ0NvbnRlbnRdPVwiTmdDb250ZW50XCI7dmFyIEt5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy50eXBlPXQsdGhpcy5leHByPWUsdGhpcy5uZ0NvbnRlbnRJbmRleD1ufXJldHVybiB0fSgpLFp5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxzLGEsdSl7dmFyIGM9dGhpczt0aGlzLmNvbXBvbmVudD10LHRoaXMuZ2VuQ29uZmlnPWUsdGhpcy5waXBlTWV0YXM9bix0aGlzLnN0eWxlcz1yLHRoaXMuYW5pbWF0aW9ucz1pLHRoaXMudmlld0luZGV4PW8sdGhpcy5kZWNsYXJhdGlvbkVsZW1lbnQ9cyx0aGlzLnRlbXBsYXRlVmFyaWFibGVCaW5kaW5ncz1hLHRoaXMudGFyZ2V0RGVwZW5kZW5jaWVzPXUsdGhpcy52aWV3Q2hpbGRyZW49W10sdGhpcy5ub2Rlcz1bXSx0aGlzLnJvb3ROb2Rlcz1bXSx0aGlzLmxhc3RSZW5kZXJOb2RlPWFmLHRoaXMudmlld0NvbnRhaW5lcnM9W10sdGhpcy5tZXRob2RzPVtdLHRoaXMuY3RvclN0bXRzPVtdLHRoaXMuZmllbGRzPVtdLHRoaXMuZ2V0dGVycz1bXSx0aGlzLmRpc3Bvc2FibGVzPVtdLHRoaXMucHVyZVBpcGVzPW5ldyBNYXAsdGhpcy5waXBlcz1bXSx0aGlzLmxvY2Fscz1uZXcgTWFwLHRoaXMubGl0ZXJhbEFycmF5Q291bnQ9MCx0aGlzLmxpdGVyYWxNYXBDb3VudD0wLHRoaXMucGlwZUNvdW50PTAsdGhpcy5jcmVhdGVNZXRob2Q9bmV3IGt5KHRoaXMpLHRoaXMuYW5pbWF0aW9uQmluZGluZ3NNZXRob2Q9bmV3IGt5KHRoaXMpLHRoaXMuaW5qZWN0b3JHZXRNZXRob2Q9bmV3IGt5KHRoaXMpLHRoaXMudXBkYXRlQ29udGVudFF1ZXJpZXNNZXRob2Q9bmV3IGt5KHRoaXMpLHRoaXMuZGlydHlQYXJlbnRRdWVyaWVzTWV0aG9kPW5ldyBreSh0aGlzKSx0aGlzLnVwZGF0ZVZpZXdRdWVyaWVzTWV0aG9kPW5ldyBreSh0aGlzKSx0aGlzLmRldGVjdENoYW5nZXNJbklucHV0c01ldGhvZD1uZXcga3kodGhpcyksdGhpcy5kZXRlY3RDaGFuZ2VzUmVuZGVyUHJvcGVydGllc01ldGhvZD1uZXcga3kodGhpcyksdGhpcy5hZnRlckNvbnRlbnRMaWZlY3ljbGVDYWxsYmFja3NNZXRob2Q9bmV3IGt5KHRoaXMpLHRoaXMuYWZ0ZXJWaWV3TGlmZWN5Y2xlQ2FsbGJhY2tzTWV0aG9kPW5ldyBreSh0aGlzKSx0aGlzLmRlc3Ryb3lNZXRob2Q9bmV3IGt5KHRoaXMpLHRoaXMuZGV0YWNoTWV0aG9kPW5ldyBreSh0aGlzKSx0aGlzLnZpZXdUeXBlPXlyKHQsbyksdGhpcy5jbGFzc05hbWU9c3IodCxvKSx0aGlzLmNsYXNzVHlwZT1RZShHZSh0aGlzLmNsYXNzTmFtZSkpLHRoaXMuY2xhc3NFeHByPUdlKHRoaXMuY2xhc3NOYW1lKSx0aGlzLnZpZXdUeXBlPT09Z28uQ09NUE9ORU5UfHx0aGlzLnZpZXdUeXBlPT09Z28uSE9TVD90aGlzLmNvbXBvbmVudFZpZXc9dGhpczp0aGlzLmNvbXBvbmVudFZpZXc9dGhpcy5kZWNsYXJhdGlvbkVsZW1lbnQudmlldy5jb21wb25lbnRWaWV3LHRoaXMuY29tcG9uZW50Q29udGV4dD1pcihvZi5wcm9wKFwiY29udGV4dFwiKSx0aGlzLHRoaXMuY29tcG9uZW50Vmlldyk7dmFyIGw9bmV3IE1hcDtpZih0aGlzLnZpZXdUeXBlPT09Z28uQ09NUE9ORU5UKXt2YXIgcD1vZi5wcm9wKFwiY29udGV4dFwiKTt0aGlzLmNvbXBvbmVudC52aWV3UXVlcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIG49XCJfdmlld1F1ZXJ5X1wiK0ModC5zZWxlY3RvcnNbMF0pK1wiX1wiK2Uscj1scihuLGMpLGk9bmV3IER5KHQscixwLGMpO3ByKGwsaSl9KX10aGlzLnZpZXdRdWVyaWVzPWwsYS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2MubG9jYWxzLnNldCh0WzFdLG9mLnByb3AoXCJjb250ZXh0XCIpLnByb3AodFswXSkpfSksdGhpcy5kZWNsYXJhdGlvbkVsZW1lbnQuaXNOdWxsKCl8fHRoaXMuZGVjbGFyYXRpb25FbGVtZW50LnNldEVtYmVkZGVkVmlldyh0aGlzKX1yZXR1cm4gdC5wcm90b3R5cGUuY2FsbFBpcGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBReS5jYWxsKHRoaXMsdCxbZV0uY29uY2F0KG4pKX0sdC5wcm90b3R5cGUuZ2V0TG9jYWw9ZnVuY3Rpb24odCl7aWYodD09QWYuZXZlbnQubmFtZSlyZXR1cm4gQWYuZXZlbnQ7Zm9yKHZhciBlPXRoaXMsbj1lLmxvY2Fscy5nZXQodCk7IW4mJnIoZS5kZWNsYXJhdGlvbkVsZW1lbnQudmlldyk7KWU9ZS5kZWNsYXJhdGlvbkVsZW1lbnQudmlldyxuPWUubG9jYWxzLmdldCh0KTtyZXR1cm4gcihuKT9pcihuLHRoaXMsZSk6bnVsbH0sdC5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztBcnJheS5mcm9tKHRoaXMudmlld1F1ZXJpZXMudmFsdWVzKCkpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZW5lcmF0ZVN0YXRlbWVudHModC5jcmVhdGVNZXRob2QsdC51cGRhdGVWaWV3UXVlcmllc01ldGhvZCl9KX0pfSx0fSgpLEp5PW9mLnByb3AoXCJudW1iZXJPZkNoZWNrc1wiKS5pZGVudGljYWwobmV3IFdoKDApKSx0bT0oWmUoQnkudGhyb3dPbkNoYW5nZSksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5xdWVyeT10LHRoaXMucmVhZD10Lm1ldGEucmVhZHx8ZX1yZXR1cm4gdH0oKSksZW09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy52aWV3PXQsdGhpcy5fc2NoZW1hUmVnaXN0cnk9ZSx0aGlzLl9ub2RlSW5kZXg9MH1yZXR1cm4gdC5wcm90b3R5cGUudmlzaXRCb3VuZFRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnZpZXcubm9kZXNbdGhpcy5fbm9kZUluZGV4KytdO3JldHVybiBPcih0LG4sdGhpcy52aWV3KSxudWxsfSx0LnByb3RvdHlwZS52aXNpdFRleHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fbm9kZUluZGV4KyssbnVsbH0sdC5wcm90b3R5cGUudmlzaXROZ0NvbnRlbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUudmlzaXRFbGVtZW50PWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcyxpPXRoaXMudmlldy5ub2Rlc1t0aGlzLl9ub2RlSW5kZXgrK107a3IoaSk7dmFyIG89bXIodC5vdXRwdXRzLHQuZGlyZWN0aXZlcyxpLCEwKTtyZXR1cm4gVHIodC5pbnB1dHMsdC5vdXRwdXRzLG8saSksdC5kaXJlY3RpdmVzLmZvckVhY2goZnVuY3Rpb24oZSxuKXt2YXIgbz1pLmRpcmVjdGl2ZVdyYXBwZXJJbnN0YW5jZS5nZXQoZS5kaXJlY3RpdmUudHlwZS5yZWZlcmVuY2UpO01yKGUsbyxuLGkpLEFyKGUsbyxpLHQubmFtZSxyLl9zY2hlbWFSZWdpc3RyeSl9KSxuKHRoaXMsdC5jaGlsZHJlbixpKSx0LmRpcmVjdGl2ZXMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1pLmluc3RhbmNlcy5nZXQodC5kaXJlY3RpdmUudHlwZS5yZWZlcmVuY2UpLG49aS5kaXJlY3RpdmVXcmFwcGVySW5zdGFuY2UuZ2V0KHQuZGlyZWN0aXZlLnR5cGUucmVmZXJlbmNlKTtDcih0LmRpcmVjdGl2ZSxlLGkpLEVyKHQuZGlyZWN0aXZlLGUsaSksU3IodCxuLGkpfSksdC5wcm92aWRlcnMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1pLmluc3RhbmNlcy5nZXQoRSh0LnRva2VuKSk7eHIodCxlLGkpfSksbnVsbH0sdC5wcm90b3R5cGUudmlzaXRFbWJlZGRlZFRlbXBsYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy52aWV3Lm5vZGVzW3RoaXMuX25vZGVJbmRleCsrXTtyZXR1cm4ga3IobiksbXIodC5vdXRwdXRzLHQuZGlyZWN0aXZlcyxuLCExKSx0LmRpcmVjdGl2ZXMuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciByPW4uaW5zdGFuY2VzLmdldCh0LmRpcmVjdGl2ZS50eXBlLnJlZmVyZW5jZSksaT1uLmRpcmVjdGl2ZVdyYXBwZXJJbnN0YW5jZS5nZXQodC5kaXJlY3RpdmUudHlwZS5yZWZlcmVuY2UpO01yKHQsaSxlLG4pLENyKHQuZGlyZWN0aXZlLHIsbiksRXIodC5kaXJlY3RpdmUscixuKSxTcih0LGksbil9KSx0LnByb3ZpZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPW4uaW5zdGFuY2VzLmdldChFKHQudG9rZW4pKTt4cih0LGUsbil9KSxScihuLmVtYmVkZGVkVmlldyx0LmNoaWxkcmVuLHRoaXMuX3NjaGVtYVJlZ2lzdHJ5KSxudWxsfSx0LnByb3RvdHlwZS52aXNpdEF0dHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUudmlzaXREaXJlY3RpdmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUudmlzaXRFdmVudD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS52aXNpdFJlZmVyZW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS52aXNpdFZhcmlhYmxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLnZpc2l0RGlyZWN0aXZlUHJvcGVydHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUudmlzaXRFbGVtZW50UHJvcGVydHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0sdH0oKSxubT1cIiRpbXBsaWNpdFwiLHJtPVwiY2xhc3NcIixpbT1cInN0eWxlXCIsb209XCJuZy1jb250YWluZXJcIixzbT1HZShcInBhcmVudFJlbmRlck5vZGVcIiksYW09R2UoXCJyb290U2VsZWN0b3JcIiksdW09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy52aWV3PXQsdGhpcy50YXJnZXREZXBlbmRlbmNpZXM9ZSx0aGlzLm5lc3RlZFZpZXdDb3VudD0wfXJldHVybiB0LnByb3RvdHlwZS5faXNSb290Tm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gdC52aWV3IT09dGhpcy52aWV3fSx0LnByb3RvdHlwZS5fYWRkUm9vdE5vZGVBbmRQcm9qZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPURyKHQpLG49ZS5wYXJlbnQsaT1lLnNvdXJjZUFzdC5uZ0NvbnRlbnRJbmRleCxvPXQgaW5zdGFuY2VvZiAkeSYmdC5oYXNWaWV3Q29udGFpbmVyP3Qudmlld0NvbnRhaW5lcjpudWxsO3RoaXMuX2lzUm9vdE5vZGUobik/dGhpcy52aWV3LnZpZXdUeXBlIT09Z28uQ09NUE9ORU5UJiZ0aGlzLnZpZXcucm9vdE5vZGVzLnB1c2gobmV3IEt5KG8/WXkuVmlld0NvbnRhaW5lcjpZeS5Ob2RlLG98fHQucmVuZGVyTm9kZSkpOnIobi5jb21wb25lbnQpJiZyKGkpJiZuLmFkZENvbnRlbnROb2RlKGksbmV3IEt5KG8/WXkuVmlld0NvbnRhaW5lcjpZeS5Ob2RlLG98fHQucmVuZGVyTm9kZSkpfSx0LnByb3RvdHlwZS5fZ2V0UGFyZW50UmVuZGVyTm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gdD1qcih0KSx0aGlzLl9pc1Jvb3ROb2RlKHQpP3RoaXMudmlldy52aWV3VHlwZT09PWdvLkNPTVBPTkVOVD9zbTphZjpyKHQuY29tcG9uZW50KSYmdC5jb21wb25lbnQudGVtcGxhdGUuZW5jYXBzdWxhdGlvbiE9PWUuVmlld0VuY2Fwc3VsYXRpb24uTmF0aXZlP2FmOnQucmVuZGVyTm9kZX0sdC5wcm90b3R5cGUuZ2V0T3JDcmVhdGVMYXN0UmVuZGVyTm9kZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudmlldztpZigwPT09dC5yb290Tm9kZXMubGVuZ3RofHx0LnJvb3ROb2Rlc1t0LnJvb3ROb2Rlcy5sZW5ndGgtMV0udHlwZSE9PVl5Lk5vZGUpe3ZhciBlPVwiX2VsX1wiK3Qubm9kZXMubGVuZ3RoO3QuZmllbGRzLnB1c2gobmV3IG1mKGUsJGUodC5nZW5Db25maWcucmVuZGVyVHlwZXMucmVuZGVyRWxlbWVudCkpKSx0LmNyZWF0ZU1ldGhvZC5hZGRTdG10KG9mLnByb3AoZSkuc2V0KFV5LnJlbmRlcmVyLmNhbGxNZXRob2QoXCJjcmVhdGVUZW1wbGF0ZUFuY2hvclwiLFthZixhZl0pKS50b1N0bXQoKSksdC5yb290Tm9kZXMucHVzaChuZXcgS3koWXkuTm9kZSxvZi5wcm9wKGUpKSl9cmV0dXJuIHQucm9vdE5vZGVzW3Qucm9vdE5vZGVzLmxlbmd0aC0xXS5leHByfSx0LnByb3RvdHlwZS52aXNpdEJvdW5kVGV4dD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl92aXNpdFRleHQodCxcIlwiLGUpfSx0LnByb3RvdHlwZS52aXNpdFRleHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fdmlzaXRUZXh0KHQsdC52YWx1ZSxlKX0sdC5wcm90b3R5cGUuX3Zpc2l0VGV4dD1mdW5jdGlvbih0LGUsbil7dmFyIHI9XCJfdGV4dF9cIit0aGlzLnZpZXcubm9kZXMubGVuZ3RoO3RoaXMudmlldy5maWVsZHMucHVzaChuZXcgbWYociwkZSh0aGlzLnZpZXcuZ2VuQ29uZmlnLnJlbmRlclR5cGVzLnJlbmRlclRleHQpKSk7dmFyIGk9b2YucHJvcChyKSxvPW5ldyBYeShuLHRoaXMudmlldyx0aGlzLnZpZXcubm9kZXMubGVuZ3RoLGksdCkscz1vZi5wcm9wKHIpLnNldChVeS5yZW5kZXJlci5jYWxsTWV0aG9kKFwiY3JlYXRlVGV4dFwiLFt0aGlzLl9nZXRQYXJlbnRSZW5kZXJOb2RlKG4pLHRuKGUpLHRoaXMudmlldy5jcmVhdGVNZXRob2QucmVzZXREZWJ1Z0luZm9FeHByKHRoaXMudmlldy5ub2Rlcy5sZW5ndGgsdCldKSkudG9TdG10KCk7cmV0dXJuIHRoaXMudmlldy5ub2Rlcy5wdXNoKG8pLHRoaXMudmlldy5jcmVhdGVNZXRob2QuYWRkU3RtdChzKSx0aGlzLl9hZGRSb290Tm9kZUFuZFByb2plY3QobyksaX0sdC5wcm90b3R5cGUudmlzaXROZ0NvbnRlbnQ9ZnVuY3Rpb24odCxlKXt0aGlzLnZpZXcuY3JlYXRlTWV0aG9kLnJlc2V0RGVidWdJbmZvKG51bGwsdCk7dmFyIG49dGhpcy5fZ2V0UGFyZW50UmVuZGVyTm9kZShlKTtyZXR1cm4gbiE9PWFmP3RoaXMudmlldy5jcmVhdGVNZXRob2QuYWRkU3RtdChvZi5jYWxsTWV0aG9kKFwicHJvamVjdE5vZGVzXCIsW24sdG4odC5pbmRleCldKS50b1N0bXQoKSk6dGhpcy5faXNSb290Tm9kZShlKT90aGlzLnZpZXcudmlld1R5cGUhPT1nby5DT01QT05FTlQmJnRoaXMudmlldy5yb290Tm9kZXMucHVzaChuZXcgS3koWXkuTmdDb250ZW50LG51bGwsdC5pbmRleCkpOnIoZS5jb21wb25lbnQpJiZyKHQubmdDb250ZW50SW5kZXgpJiZlLmFkZENvbnRlbnROb2RlKHQubmdDb250ZW50SW5kZXgsbmV3IEt5KFl5Lk5nQ29udGVudCxudWxsLHQuaW5kZXgpKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdEVsZW1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaSxvPXRoaXMudmlldy5ub2Rlcy5sZW5ndGgscz10aGlzLnZpZXcuY3JlYXRlTWV0aG9kLnJlc2V0RGVidWdJbmZvRXhwcihvLHQpLGE9dC5kaXJlY3RpdmVzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5kaXJlY3RpdmV9KSx1PWEuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0NvbXBvbmVudH0pO2lmKHQubmFtZT09PW9tKWk9VXkucmVuZGVyZXIuY2FsbE1ldGhvZChcImNyZWF0ZVRlbXBsYXRlQW5jaG9yXCIsW3RoaXMuX2dldFBhcmVudFJlbmRlck5vZGUoZSksc10pO2Vsc2V7dmFyIGM9RnIodC5hdHRycyksbD1zbihMcihjLGEpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdG4odCl9KSk7aT0wPT09byYmdGhpcy52aWV3LnZpZXdUeXBlPT09Z28uSE9TVD9YZShZdChfbC5zZWxlY3RPckNyZWF0ZVJlbmRlckhvc3RFbGVtZW50KSkuY2FsbEZuKFtVeS5yZW5kZXJlcix0bih0Lm5hbWUpLGwsYW0sc10pOlhlKFl0KF9sLmNyZWF0ZVJlbmRlckVsZW1lbnQpKS5jYWxsRm4oW1V5LnJlbmRlcmVyLHRoaXMuX2dldFBhcmVudFJlbmRlck5vZGUoZSksdG4odC5uYW1lKSxsLHNdKX12YXIgcD1cIl9lbF9cIitvO3RoaXMudmlldy5maWVsZHMucHVzaChuZXcgbWYocCwkZSh0aGlzLnZpZXcuZ2VuQ29uZmlnLnJlbmRlclR5cGVzLnJlbmRlckVsZW1lbnQpKSksdGhpcy52aWV3LmNyZWF0ZU1ldGhvZC5hZGRTdG10KG9mLnByb3AocCkuc2V0KGkpLnRvU3RtdCgpKTt2YXIgaD1vZi5wcm9wKHApLGY9bmV3ICR5KGUsdGhpcy52aWV3LG8saCx0LHUsYSx0LnByb3ZpZGVycyx0Lmhhc1ZpZXdDb250YWluZXIsITEsdC5yZWZlcmVuY2VzKTt0aGlzLnZpZXcubm9kZXMucHVzaChmKTt2YXIgZD1udWxsO2lmKHIodSkpe3ZhciB5PXtyZWZlcmVuY2U6bnVsbH07dGhpcy50YXJnZXREZXBlbmRlbmNpZXMucHVzaChuZXcgcXkodS50eXBlLHNyKHUsMCkseSkpLGQ9b2YucHJvcChcImNvbXBWaWV3X1wiK28pLHRoaXMudmlldy5maWVsZHMucHVzaChuZXcgbWYoZC5uYW1lLCRlKFl0KF9sLkFwcFZpZXcpLFskZSh1LnR5cGUpXSkpKSx0aGlzLnZpZXcudmlld0NoaWxkcmVuLnB1c2goZCksZi5zZXRDb21wb25lbnRWaWV3KGQpLHRoaXMudmlldy5jcmVhdGVNZXRob2QuYWRkU3RtdChkLnNldChYZSh5KS5pbnN0YW50aWF0ZShbVXkudmlld1V0aWxzLG9mLHRuKG8pLGhdKSkudG9TdG10KCkpfXJldHVybiBmLmJlZm9yZUNoaWxkcmVuKCksdGhpcy5fYWRkUm9vdE5vZGVBbmRQcm9qZWN0KGYpLG4odGhpcyx0LmNoaWxkcmVuLGYpLGYuYWZ0ZXJDaGlsZHJlbih0aGlzLnZpZXcubm9kZXMubGVuZ3RoLW8tMSkscihkKSYmdGhpcy52aWV3LmNyZWF0ZU1ldGhvZC5hZGRTdG10KGQuY2FsbE1ldGhvZChcImNyZWF0ZVwiLFtmLmdldENvbXBvbmVudCgpXSkudG9TdG10KCkpLG51bGx9LHQucHJvdG90eXBlLnZpc2l0RW1iZWRkZWRUZW1wbGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudmlldy5ub2Rlcy5sZW5ndGgscj1cIl9hbmNob3JfXCIrbjt0aGlzLnZpZXcuZmllbGRzLnB1c2gobmV3IG1mKHIsJGUodGhpcy52aWV3LmdlbkNvbmZpZy5yZW5kZXJUeXBlcy5yZW5kZXJDb21tZW50KSkpLHRoaXMudmlldy5jcmVhdGVNZXRob2QuYWRkU3RtdChvZi5wcm9wKHIpLnNldChVeS5yZW5kZXJlci5jYWxsTWV0aG9kKFwiY3JlYXRlVGVtcGxhdGVBbmNob3JcIixbdGhpcy5fZ2V0UGFyZW50UmVuZGVyTm9kZShlKSx0aGlzLnZpZXcuY3JlYXRlTWV0aG9kLnJlc2V0RGVidWdJbmZvRXhwcihuLHQpXSkpLnRvU3RtdCgpKTt2YXIgaT1vZi5wcm9wKHIpLG89dC52YXJpYWJsZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVyblt0LnZhbHVlLmxlbmd0aD4wP3QudmFsdWU6bm0sdC5uYW1lXX0pLHM9dC5kaXJlY3RpdmVzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5kaXJlY3RpdmV9KSxhPW5ldyAkeShlLHRoaXMudmlldyxuLGksdCxudWxsLHMsdC5wcm92aWRlcnMsdC5oYXNWaWV3Q29udGFpbmVyLCEwLHQucmVmZXJlbmNlcyk7dGhpcy52aWV3Lm5vZGVzLnB1c2goYSksdGhpcy5uZXN0ZWRWaWV3Q291bnQrKzt2YXIgdT1uZXcgWnkodGhpcy52aWV3LmNvbXBvbmVudCx0aGlzLnZpZXcuZ2VuQ29uZmlnLHRoaXMudmlldy5waXBlTWV0YXMsYWYsdGhpcy52aWV3LmFuaW1hdGlvbnMsdGhpcy52aWV3LnZpZXdJbmRleCt0aGlzLm5lc3RlZFZpZXdDb3VudCxhLG8sdGhpcy50YXJnZXREZXBlbmRlbmNpZXMpO3JldHVybiB0aGlzLm5lc3RlZFZpZXdDb3VudCs9SXIodSx0LmNoaWxkcmVuLHRoaXMudGFyZ2V0RGVwZW5kZW5jaWVzKSxhLmJlZm9yZUNoaWxkcmVuKCksdGhpcy5fYWRkUm9vdE5vZGVBbmRQcm9qZWN0KGEpLGEuYWZ0ZXJDaGlsZHJlbigwKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdEF0dHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUudmlzaXREaXJlY3RpdmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUudmlzaXRFdmVudD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS52aXNpdFJlZmVyZW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS52aXNpdFZhcmlhYmxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLnZpc2l0RGlyZWN0aXZlUHJvcGVydHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUudmlzaXRFbGVtZW50UHJvcGVydHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0sdH0oKSxjbT10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSxsbT10aGlzJiZ0aGlzLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0scG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLnN0YXRlbWVudHM9dCx0aGlzLnZpZXdDbGFzc1Zhcj1lLHRoaXMuZGVwZW5kZW5jaWVzPW59cmV0dXJuIHR9KCksaG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fZ2VuQ29uZmlnPXQsdGhpcy5fc2NoZW1hUmVnaXN0cnk9ZX1yZXR1cm4gdC5wcm90b3R5cGUuY29tcGlsZUNvbXBvbmVudD1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPVtdLHM9bmV3IFp5KHQsdGhpcy5fZ2VuQ29uZmlnLHIsbixpLDAsJHkuY3JlYXRlTnVsbCgpLFtdLG8pLGE9W107cmV0dXJuIElyKHMsZSxvKSxScihzLGUsdGhpcy5fc2NoZW1hUmVnaXN0cnkpLE5yKHMsYSksbmV3IHBtKGEscy5jbGFzc0V4cHIubmFtZSxvKX0sdD1jbShbTSgpLGxtKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbUnAsTWxdKV0sdCl9KCksZm09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLm5hbWU9dCx0aGlzLnN0YXRlbWVudHM9ZSx0aGlzLmZuRXhwPW59cmV0dXJuIHR9KCksZG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5jb21waWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3ZhciBuPXQrXCJfXCIrZS5uYW1lLHI9bmV3IE1tKGUubmFtZSxuKTtyZXR1cm4gci5idWlsZChlKX0pfSx0fSgpLHltPUdlKFwiZWxlbWVudFwiKSxtbT1HZShcImRlZmF1bHRTdGF0ZVN0eWxlc1wiKSx2bT1HZShcInZpZXdcIiksZ209dm0ucHJvcChcImFuaW1hdGlvbkNvbnRleHRcIiksX209dm0ucHJvcChcInJlbmRlcmVyXCIpLGJtPUdlKFwiY3VycmVudFN0YXRlXCIpLHdtPUdlKFwibmV4dFN0YXRlXCIpLENtPUdlKFwicGxheWVyXCIpLEVtPUdlKFwidG90YWxUaW1lXCIpLFNtPUdlKFwic3RhcnRTdGF0ZVN0eWxlc1wiKSx4bT1HZShcImVuZFN0YXRlU3R5bGVzXCIpLFBtPUdlKFwiY29sbGVjdGVkU3R5bGVzXCIpLE9tPUdlKFwicHJldmlvdXNQbGF5ZXJzXCIpLFRtPUtlKFtdKSxBbT1ZZShbXSksTW09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5hbmltYXRpb25OYW1lPXQsdGhpcy5fZm5WYXJOYW1lPWUrXCJfZmFjdG9yeVwiLHRoaXMuX3N0YXRlc01hcFZhck5hbWU9ZStcIl9zdGF0ZXNcIix0aGlzLl9zdGF0ZXNNYXBWYXI9R2UodGhpcy5fc3RhdGVzTWFwVmFyTmFtZSl9cmV0dXJuIHQucHJvdG90eXBlLnZpc2l0QW5pbWF0aW9uU3R5bGVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107cmV0dXJuIGUuaXNFeHBlY3RpbmdGaXJzdFN0eWxlU3RlcCYmKG4ucHVzaChTbSksZS5pc0V4cGVjdGluZ0ZpcnN0U3R5bGVTdGVwPSExKSx0LnN0eWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5rZXlzKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bZSx0bih0W2VdKV19KTtuLnB1c2goS2UoZSxudWxsLCEwKSl9KSxYZShZdChfbC5BbmltYXRpb25TdHlsZXMpKS5pbnN0YW50aWF0ZShbWGUoWXQoX2wuY29sbGVjdEFuZFJlc29sdmVTdHlsZXMpKS5jYWxsRm4oW1BtLFllKG4pXSldKX0sdC5wcm90b3R5cGUudmlzaXRBbmltYXRpb25LZXlmcmFtZT1mdW5jdGlvbih0LGUpe3JldHVybiBYZShZdChfbC5BbmltYXRpb25LZXlmcmFtZSkpLmluc3RhbnRpYXRlKFt0bih0Lm9mZnNldCksdC5zdHlsZXMudmlzaXQodGhpcyxlKV0pfSx0LnByb3RvdHlwZS52aXNpdEFuaW1hdGlvblN0ZXA9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2lmKGUuZW5kU3RhdGVBbmltYXRlU3RlcD09PXQpcmV0dXJuIHRoaXMuX3Zpc2l0RW5kU3RhdGVBbmltYXRpb24odCxlKTt2YXIgcj10LnN0YXJ0aW5nU3R5bGVzLnZpc2l0KHRoaXMsZSksaT10LmtleWZyYW1lcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXQobixlKX0pO3JldHVybiB0aGlzLl9jYWxsQW5pbWF0ZU1ldGhvZCh0LHIsWWUoaSksZSl9LHQucHJvdG90eXBlLl92aXNpdEVuZFN0YXRlQW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQuc3RhcnRpbmdTdHlsZXMudmlzaXQodGhpcyxlKSxpPXQua2V5ZnJhbWVzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdChuLGUpfSksbz1YZShZdChfbC5iYWxhbmNlQW5pbWF0aW9uS2V5ZnJhbWVzKSkuY2FsbEZuKFtQbSx4bSxZZShpKV0pO3JldHVybiB0aGlzLl9jYWxsQW5pbWF0ZU1ldGhvZCh0LHIsbyxlKX0sdC5wcm90b3R5cGUuX2NhbGxBbmltYXRlTWV0aG9kPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPUFtO3JldHVybiByLmlzRXhwZWN0aW5nRmlyc3RBbmltYXRlU3RlcCYmKGk9T20sci5pc0V4cGVjdGluZ0ZpcnN0QW5pbWF0ZVN0ZXA9ITEpLHIudG90YWxUcmFuc2l0aW9uVGltZSs9dC5kdXJhdGlvbit0LmRlbGF5LF9tLmNhbGxNZXRob2QoXCJhbmltYXRlXCIsW3ltLGUsbix0bih0LmR1cmF0aW9uKSx0bih0LmRlbGF5KSx0bih0LmVhc2luZyksaV0pfSx0LnByb3RvdHlwZS52aXNpdEFuaW1hdGlvblNlcXVlbmNlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXQuc3RlcHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0KG4sZSl9KTtyZXR1cm4gWGUoWXQoX2wuQW5pbWF0aW9uU2VxdWVuY2VQbGF5ZXIpKS5pbnN0YW50aWF0ZShbWWUocildKX0sdC5wcm90b3R5cGUudmlzaXRBbmltYXRpb25Hcm91cD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10LnN0ZXBzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdChuLGUpfSk7cmV0dXJuIFhlKFl0KF9sLkFuaW1hdGlvbkdyb3VwUGxheWVyKSkuaW5zdGFudGlhdGUoW1llKHIpXSl9LHQucHJvdG90eXBlLnZpc2l0QW5pbWF0aW9uU3RhdGVEZWNsYXJhdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXt9O25pKHQpLmZvckVhY2goZnVuY3Rpb24odCl7T2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtuW2VdPXRbZV19KX0pLGUuc3RhdGVNYXAucmVnaXN0ZXJTdGF0ZSh0LnN0YXRlTmFtZSxuKX0sdC5wcm90b3R5cGUudmlzaXRBbmltYXRpb25TdGF0ZVRyYW5zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10LmFuaW1hdGlvbi5zdGVwcyxyPW5bbi5sZW5ndGgtMV07ZWkocikmJihlLmVuZFN0YXRlQW5pbWF0ZVN0ZXA9ciksZS50b3RhbFRyYW5zaXRpb25UaW1lPTAsZS5pc0V4cGVjdGluZ0ZpcnN0U3R5bGVTdGVwPSEwLGUuaXNFeHBlY3RpbmdGaXJzdEFuaW1hdGVTdGVwPSEwO3ZhciBpPVtdO3Quc3RhdGVDaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7aS5wdXNoKHRpKGJtLHQuZnJvbVN0YXRlKS5hbmQodGkod20sdC50b1N0YXRlKSkpLHQuZnJvbVN0YXRlIT1EbyYmZS5zdGF0ZU1hcC5yZWdpc3RlclN0YXRlKHQuZnJvbVN0YXRlKSx0LnRvU3RhdGUhPURvJiZlLnN0YXRlTWFwLnJlZ2lzdGVyU3RhdGUodC50b1N0YXRlKX0pO3ZhciBvPXQuYW5pbWF0aW9uLnZpc2l0KHRoaXMsZSkscz1pLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0Lm9yKGUpfSksYT1DbS5lcXVhbHMoYWYpLmFuZChzKSx1PUNtLnNldChvKS50b1N0bXQoKSxjPUVtLnNldCh0bihlLnRvdGFsVHJhbnNpdGlvblRpbWUpKS50b1N0bXQoKTtyZXR1cm4gbmV3IGJmKGEsW3UsY10pfSx0LnByb3RvdHlwZS52aXNpdEFuaW1hdGlvbkVudHJ5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0LnN0YXRlRGVjbGFyYXRpb25zLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXQobixlKX0pLGUuc3RhdGVNYXAucmVnaXN0ZXJTdGF0ZShqbyx7fSk7dmFyIHI9W107ci5wdXNoKE9tLnNldChnbS5jYWxsTWV0aG9kKFwiZ2V0QW5pbWF0aW9uUGxheWVyc1wiLFt5bSx3bS5lcXVhbHModG4oVm8pKS5jb25kaXRpb25hbChhZix0bih0aGlzLmFuaW1hdGlvbk5hbWUpKV0pKS50b0RlY2xTdG10KCkpLHIucHVzaChQbS5zZXQoVG0pLnRvRGVjbFN0bXQoKSksci5wdXNoKENtLnNldChhZikudG9EZWNsU3RtdCgpKSxyLnB1c2goRW0uc2V0KHRuKDApKS50b0RlY2xTdG10KCkpLHIucHVzaChtbS5zZXQodGhpcy5fc3RhdGVzTWFwVmFyLmtleSh0bihqbykpKS50b0RlY2xTdG10KCkpLHIucHVzaChTbS5zZXQodGhpcy5fc3RhdGVzTWFwVmFyLmtleShibSkpLnRvRGVjbFN0bXQoKSksci5wdXNoKG5ldyBiZihTbS5lcXVhbHMoYWYpLFtTbS5zZXQobW0pLnRvU3RtdCgpXSkpLHIucHVzaCh4bS5zZXQodGhpcy5fc3RhdGVzTWFwVmFyLmtleSh3bSkpLnRvRGVjbFN0bXQoKSksci5wdXNoKG5ldyBiZih4bS5lcXVhbHMoYWYpLFt4bS5zZXQobW0pLnRvU3RtdCgpXSkpO3ZhciBpPVhlKFl0KF9sLnJlbmRlclN0eWxlcykpO3JldHVybiB0LnN0YXRlVHJhbnNpdGlvbnMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gci5wdXNoKHQudmlzaXQobixlKSl9KSxyLnB1c2gobmV3IGJmKENtLmVxdWFscyhhZiksW0NtLnNldChYZShZdChfbC5Ob09wQW5pbWF0aW9uUGxheWVyKSkuaW5zdGFudGlhdGUoW10pKS50b1N0bXQoKV0pKSxyLnB1c2goQ20uY2FsbE1ldGhvZChcIm9uRG9uZVwiLFtKZShbXSxbQ20uY2FsbE1ldGhvZChcImRlc3Ryb3lcIixbXSkudG9TdG10KCksaS5jYWxsRm4oW3ltLF9tLFhlKFl0KF9sLnByZXBhcmVGaW5hbEFuaW1hdGlvblN0eWxlcykpLmNhbGxGbihbU20seG1dKV0pLnRvU3RtdCgpXSldKS50b1N0bXQoKSksci5wdXNoKFhlKFl0KF9sLkFuaW1hdGlvblNlcXVlbmNlUGxheWVyKSkuaW5zdGFudGlhdGUoW09tXSkuY2FsbE1ldGhvZChcImRlc3Ryb3lcIixbXSkudG9TdG10KCkpLHIucHVzaChpLmNhbGxGbihbeW0sX20sWGUoWXQoX2wuY2xlYXJTdHlsZXMpKS5jYWxsRm4oW1NtXSldKS50b1N0bXQoKSksci5wdXNoKGdtLmNhbGxNZXRob2QoXCJxdWV1ZUFuaW1hdGlvblwiLFt5bSx0bih0aGlzLmFuaW1hdGlvbk5hbWUpLENtXSkudG9TdG10KCkpLHIucHVzaChuZXcgZGYoWGUoWXQoX2wuQW5pbWF0aW9uVHJhbnNpdGlvbikpLmluc3RhbnRpYXRlKFtDbSxibSx3bSxFbV0pKSksSmUoW25ldyBZaCh2bS5uYW1lLCRlKFl0KF9sLkFwcFZpZXcpLFtUaF0pKSxuZXcgWWgoeW0ubmFtZSxUaCksbmV3IFloKGJtLm5hbWUsVGgpLG5ldyBZaCh3bS5uYW1lLFRoKV0sciwkZShZdChfbC5BbmltYXRpb25UcmFuc2l0aW9uKSkpfSx0LnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbih0KXt2YXIgZT1uZXcga20sbj10LnZpc2l0KHRoaXMsZSkudG9EZWNsU3RtdCh0aGlzLl9mblZhck5hbWUpLGk9R2UodGhpcy5fZm5WYXJOYW1lKSxvPVtdO09iamVjdC5rZXlzKGUuc3RhdGVNYXAuc3RhdGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWUuc3RhdGVNYXAuc3RhdGVzW3RdLGk9VG07aWYocihuKSl7dmFyIHM9W107T2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbih0KXtzLnB1c2goW3QsdG4oblt0XSldKX0pLGk9S2UocyxudWxsLCEwKX1vLnB1c2goW3QsaV0pfSk7dmFyIHM9dGhpcy5fc3RhdGVzTWFwVmFyLnNldChLZShvLG51bGwsITApKS50b0RlY2xTdG10KCksYT1bcyxuXTtyZXR1cm4gbmV3IGZtKHRoaXMuYW5pbWF0aW9uTmFtZSxhLGkpfSx0fSgpLGttPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuc3RhdGVNYXA9bmV3IFJtLHRoaXMuZW5kU3RhdGVBbmltYXRlU3RlcD1udWxsLHRoaXMuaXNFeHBlY3RpbmdGaXJzdFN0eWxlU3RlcD0hMSx0aGlzLmlzRXhwZWN0aW5nRmlyc3RBbmltYXRlU3RlcD0hMSx0aGlzLnRvdGFsVHJhbnNpdGlvblRpbWU9MH1yZXR1cm4gdH0oKSxSbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9zdGF0ZXM9e319cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInN0YXRlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGVzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnJlZ2lzdGVyU3RhdGU9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1udWxsKTt2YXIgbj10aGlzLl9zdGF0ZXNbdF07bnx8KHRoaXMuX3N0YXRlc1t0XT1lKX0sdH0oKSxJbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuc3JjRmlsZVVybD10LHRoaXMuZ2VuRmlsZVVybD1lLHRoaXMuc291cmNlPW59cmV0dXJuIHR9KCksTm09dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LERtPS8oXFwudHN8XFwuZFxcLnRzfFxcLmpzfFxcLmpzeHxcXC50c3gpJC8sam09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyksdGhpcy5ob3N0PWUsdGhpcy5zeW1ib2xzPVtdLHRoaXMuaW5kZXhCeVN5bWJvbD1uZXcgTWFwLHRoaXMucHJvY2Vzc2VkU3VtbWFyeUJ5U3ltYm9sPW5ldyBNYXAsdGhpcy5wcm9jZXNzZWRTdW1tYXJpZXM9W119cmV0dXJuIE5tKGUsdCksZS5wcm90b3R5cGUuYWRkT3JNZXJnZVN1bW1hcnk9ZnVuY3Rpb24odCl7dmFyIGU9dC5tZXRhZGF0YTtlJiZcImNsYXNzXCI9PT1lLl9fc3ltYm9saWMmJihlPXtfX3N5bWJvbGljOlwiY2xhc3NcIixzdGF0aWNzOmUuc3RhdGljc30pO3ZhciBuPXRoaXMucHJvY2Vzc2VkU3VtbWFyeUJ5U3ltYm9sLmdldCh0LnN5bWJvbCk7bnx8KG49dGhpcy5wcm9jZXNzVmFsdWUoe3N5bWJvbDp0LnN5bWJvbH0pLHRoaXMucHJvY2Vzc2VkU3VtbWFyaWVzLnB1c2gobiksdGhpcy5wcm9jZXNzZWRTdW1tYXJ5QnlTeW1ib2wuc2V0KHQuc3ltYm9sLG4pKSxudWxsPT1uLm1ldGFkYXRhJiZudWxsIT1lJiYobi5tZXRhZGF0YT10aGlzLnByb2Nlc3NWYWx1ZShlKSksbnVsbD09bi50eXBlJiZudWxsIT10LnR5cGUmJihuLnR5cGU9dGhpcy5wcm9jZXNzVmFsdWUodC50eXBlKSl9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtzdW1tYXJpZXM6dGhpcy5wcm9jZXNzZWRTdW1tYXJpZXMsc3ltYm9sczp0aGlzLnN5bWJvbHMubWFwKGZ1bmN0aW9uKGUsbil7cmV0dXJue19fc3ltYm9sOm4sbmFtZTplLm5hbWUsZmlsZVBhdGg6dC5ob3N0LmdldE91dHB1dEZpbGVOYW1lKGUuZmlsZVBhdGgpfX0pfSl9LGUucHJvdG90eXBlLnByb2Nlc3NWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gZyh0LHRoaXMsbnVsbCl9LGUucHJvdG90eXBlLnZpc2l0T3RoZXI9ZnVuY3Rpb24odCxlKXtpZih0IGluc3RhbmNlb2YgSmkpe3ZhciBuPXRoaXMuaW5kZXhCeVN5bWJvbC5nZXQodCk7cmV0dXJuIG51bGw9PW4mJihuPXRoaXMuaW5kZXhCeVN5bWJvbC5zaXplLHRoaXMuaW5kZXhCeVN5bWJvbC5zZXQodCxuKSx0aGlzLnN5bWJvbHMucHVzaCh0KSkse19fc3ltYm9sOm59fX0sZX0oYXMpLFZtPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMpLHRoaXMuc3ltYm9sQ2FjaGU9ZX1yZXR1cm4gTm0oZSx0KSxlLnByb3RvdHlwZS5kZXNlcmlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49SlNPTi5wYXJzZSh0KTtyZXR1cm4gdGhpcy5zeW1ib2xzPW4uc3ltYm9scy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUuc3ltYm9sQ2FjaGUuZ2V0KHQuZmlsZVBhdGgsdC5uYW1lKX0pLGcobi5zdW1tYXJpZXMsdGhpcyxudWxsKX0sZS5wcm90b3R5cGUudmlzaXRTdHJpbmdNYXA9ZnVuY3Rpb24oZSxuKXtyZXR1cm5cIl9fc3ltYm9sXCJpbiBlP3RoaXMuc3ltYm9sc1tlLl9fc3ltYm9sXTp0LnByb3RvdHlwZS52aXNpdFN0cmluZ01hcC5jYWxsKHRoaXMsZSxuKX0sZX0oYXMpLExtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxzLGEsdSxjLGwscCxoKXt0aGlzLl9ob3N0PXQsdGhpcy5fbWV0YWRhdGFSZXNvbHZlcj1lLHRoaXMuX3RlbXBsYXRlUGFyc2VyPW4sdGhpcy5fc3R5bGVDb21waWxlcj1yLHRoaXMuX3ZpZXdDb21waWxlcj1pLHRoaXMuX2RpcldyYXBwZXJDb21waWxlcj1vLHRoaXMuX25nTW9kdWxlQ29tcGlsZXI9cyx0aGlzLl9vdXRwdXRFbWl0dGVyPWEsdGhpcy5fc3VtbWFyeVJlc29sdmVyPXUsdGhpcy5fbG9jYWxlSWQ9Yyx0aGlzLl90cmFuc2xhdGlvbkZvcm1hdD1sLHRoaXMuX2FuaW1hdGlvblBhcnNlcj1wLHRoaXMuX3N5bWJvbFJlc29sdmVyPWgsdGhpcy5fYW5pbWF0aW9uQ29tcGlsZXI9bmV3IGRtfXJldHVybiB0LnByb3RvdHlwZS5jbGVhckNhY2hlPWZ1bmN0aW9uKCl7dGhpcy5fbWV0YWRhdGFSZXNvbHZlci5jbGVhckNhY2hlKCl9LHQucHJvdG90eXBlLmNvbXBpbGVBbGw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPW1pKHRoaXMuX3N5bWJvbFJlc29sdmVyLHQsdGhpcy5faG9zdCkscj1kaShuLHRoaXMuX2hvc3QsdGhpcy5fbWV0YWRhdGFSZXNvbHZlciksaT1yLm5nTW9kdWxlQnlQaXBlT3JEaXJlY3RpdmUsbz1yLmZpbGVzLHM9ci5uZ01vZHVsZXM7cmV0dXJuIFByb21pc2UuYWxsKHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9tZXRhZGF0YVJlc29sdmVyLmxvYWROZ01vZHVsZURpcmVjdGl2ZUFuZFBpcGVNZXRhZGF0YSh0LnR5cGUucmVmZXJlbmNlLCExKX0pKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ9by5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2NvbXBpbGVTcmNGaWxlKHQuc3JjVXJsLGksdC5kaXJlY3RpdmVzLHQucGlwZXMsdC5uZ01vZHVsZXMsdC5pbmplY3RhYmxlcyl9KTtyZXR1cm4gaW8uZmxhdHRlbih0KX0pfSx0LnByb3RvdHlwZS5fY29tcGlsZVNyY0ZpbGU9ZnVuY3Rpb24odCxlLG4scixpLG8pe3ZhciBzPXRoaXMsYT1oaSh0KVsxXSx1PVtdLGM9W10sbD1bXTtpZihsLnB1c2godGhpcy5fY3JlYXRlU3VtbWFyeSh0LG4scixpLG8pKSxjLnB1c2guYXBwbHkoYyxpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcy5fY29tcGlsZU1vZHVsZSh0LHUpfSkpLGMucHVzaC5hcHBseShjLG4ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBzLl9jb21waWxlRGlyZWN0aXZlV3JhcHBlcih0LHUpfSkpLG4uZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgcj1zLl9tZXRhZGF0YVJlc29sdmVyLmdldERpcmVjdGl2ZU1ldGFkYXRhKG4pO2lmKCFyLmlzQ29tcG9uZW50KXJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7dmFyIGk9ZS5nZXQobik7aWYoIWkpdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWwgRXJyb3I6IGNhbm5vdCBkZXRlcm1pbmUgdGhlIG1vZHVsZSBmb3IgY29tcG9uZW50IFwiK2Ioci50eXBlKStcIiFcIik7cGkocik7dmFyIG89cy5fc3R5bGVDb21waWxlci5jb21waWxlQ29tcG9uZW50KHIpO28uZXh0ZXJuYWxTdHlsZXNoZWV0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2wucHVzaChzLl9jb2RnZW5TdHlsZXModCxlLGEpKX0pLGMucHVzaChzLl9jb21waWxlQ29tcG9uZW50RmFjdG9yeShyLGksYSx1KSxzLl9jb21waWxlQ29tcG9uZW50KHIsaSxpLnRyYW5zaXRpdmVNb2R1bGUuZGlyZWN0aXZlcyxvLmNvbXBvbmVudFN0eWxlc2hlZXQsYSx1KSl9KSx1Lmxlbmd0aD4wKXt2YXIgcD10aGlzLl9jb2RlZ2VuU291cmNlTW9kdWxlKHQsdWkodCksdSxjKTtsLnVuc2hpZnQocCl9cmV0dXJuIGx9LHQucHJvdG90eXBlLl9jcmVhdGVTdW1tYXJ5PWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89dGhpcyxzPXRoaXMuX3N5bWJvbFJlc29sdmVyLmdldFN5bWJvbHNPZih0KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG8uX3N5bWJvbFJlc29sdmVyLnJlc29sdmVTeW1ib2wodCl9KSxhPXIubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBvLl9tZXRhZGF0YVJlc29sdmVyLmdldE5nTW9kdWxlU3VtbWFyeSh0KX0pLmNvbmNhdChlLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gby5fbWV0YWRhdGFSZXNvbHZlci5nZXREaXJlY3RpdmVTdW1tYXJ5KHQpfSksbi5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG8uX21ldGFkYXRhUmVzb2x2ZXIuZ2V0UGlwZVN1bW1hcnkodCl9KSxpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gby5fbWV0YWRhdGFSZXNvbHZlci5nZXRJbmplY3RhYmxlU3VtbWFyeSh0KX0pKSx1PXJpKHRoaXMuX2hvc3QsdGhpcy5fc3VtbWFyeVJlc29sdmVyLHRoaXMuX3N5bWJvbFJlc29sdmVyLHMsYSk7cmV0dXJuIG5ldyBJbSh0LG9pKHQpLHUpfSx0LnByb3RvdHlwZS5fY29tcGlsZU1vZHVsZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10aGlzLl9tZXRhZGF0YVJlc29sdmVyLmdldE5nTW9kdWxlTWV0YWRhdGEodCksaT1bXTt0aGlzLl9sb2NhbGVJZCYmaS5wdXNoKHt0b2tlbjpadChfbC5MT0NBTEVfSUQpLHVzZVZhbHVlOnRoaXMuX2xvY2FsZUlkfSksdGhpcy5fdHJhbnNsYXRpb25Gb3JtYXQmJmkucHVzaCh7dG9rZW46WnQoX2wuVFJBTlNMQVRJT05TX0ZPUk1BVCksdXNlVmFsdWU6dGhpcy5fdHJhbnNsYXRpb25Gb3JtYXR9KTt2YXIgbz10aGlzLl9uZ01vZHVsZUNvbXBpbGVyLmNvbXBpbGUocixpKTtyZXR1cm4gby5kZXBlbmRlbmNpZXMuZm9yRWFjaChmdW5jdGlvbih0KXt0LnBsYWNlaG9sZGVyLnJlZmVyZW5jZT1uLl9zeW1ib2xSZXNvbHZlci5nZXRTdGF0aWNTeW1ib2wodWkodyh0LmNvbXApKSxjaSh0LmNvbXApKX0pLGUucHVzaC5hcHBseShlLG8uc3RhdGVtZW50cyksby5uZ01vZHVsZUZhY3RvcnlWYXJ9LHQucHJvdG90eXBlLl9jb21waWxlRGlyZWN0aXZlV3JhcHBlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX21ldGFkYXRhUmVzb2x2ZXIuZ2V0RGlyZWN0aXZlTWV0YWRhdGEodCkscj10aGlzLl9kaXJXcmFwcGVyQ29tcGlsZXIuY29tcGlsZShuKTtyZXR1cm4gZS5wdXNoLmFwcGx5KGUsci5zdGF0ZW1lbnRzKSxyLmRpcldyYXBwZXJDbGFzc1Zhcn0sdC5wcm90b3R5cGUuX2NvbXBpbGVDb21wb25lbnRGYWN0b3J5PWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPVModGhpcy5fc3ltYm9sUmVzb2x2ZXIuZ2V0U3RhdGljU3ltYm9sKHcodC50eXBlKSxiKHQudHlwZSkrXCJfSG9zdFwiKSx0KSxvPXRoaXMuX2NvbXBpbGVDb21wb25lbnQoaSxlLFt0LnR5cGVdLG51bGwsbixyKSxzPWNpKHQudHlwZSk7cmV0dXJuIHIucHVzaChHZShzKS5zZXQoWGUoWXQoX2wuQ29tcG9uZW50RmFjdG9yeSksWyRlKHQudHlwZSldKS5pbnN0YW50aWF0ZShbdG4odC5zZWxlY3RvciksR2UobyksWGUodC50eXBlKV0sJGUoWXQoX2wuQ29tcG9uZW50RmFjdG9yeSksWyRlKHQudHlwZSldLFt3aC5Db25zdF0pKSkudG9EZWNsU3RtdChudWxsLFtjZi5GaW5hbF0pKSxzfSx0LnByb3RvdHlwZS5fY29tcGlsZUNvbXBvbmVudD1mdW5jdGlvbih0LGUsbixyLGksbyl7dmFyIHM9dGhpcyxhPXRoaXMuX2FuaW1hdGlvblBhcnNlci5wYXJzZUNvbXBvbmVudCh0KSx1PW4ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBzLl9tZXRhZGF0YVJlc29sdmVyLmdldERpcmVjdGl2ZVN1bW1hcnkodC5yZWZlcmVuY2UpfSksYz1lLnRyYW5zaXRpdmVNb2R1bGUucGlwZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBzLl9tZXRhZGF0YVJlc29sdmVyLmdldFBpcGVTdW1tYXJ5KHQucmVmZXJlbmNlKX0pLGw9dGhpcy5fdGVtcGxhdGVQYXJzZXIucGFyc2UodCx0LnRlbXBsYXRlLnRlbXBsYXRlLHUsYyxlLnNjaGVtYXMsYih0LnR5cGUpKSxwPXI/R2Uoci5zdHlsZXNWYXIpOlllKFtdKSxoPXRoaXMuX2FuaW1hdGlvbkNvbXBpbGVyLmNvbXBpbGUoYih0LnR5cGUpLGEpLGY9dGhpcy5fdmlld0NvbXBpbGVyLmNvbXBpbGVDb21wb25lbnQodCxsLHAsYyxoKTtyZXR1cm4gciYmby5wdXNoLmFwcGx5KG8sYWkodGhpcy5fc3ltYm9sUmVzb2x2ZXIscixpKSksaC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBvLnB1c2guYXBwbHkobyx0LnN0YXRlbWVudHMpfSksby5wdXNoLmFwcGx5KG8sc2kodGhpcy5fc3ltYm9sUmVzb2x2ZXIsZikpLGYudmlld0NsYXNzVmFyfSx0LnByb3RvdHlwZS5fY29kZ2VuU3R5bGVzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYWkodGhpcy5fc3ltYm9sUmVzb2x2ZXIsZSxuKSx0aGlzLl9jb2RlZ2VuU291cmNlTW9kdWxlKHQsbGkoZS5tZXRhLm1vZHVsZVVybCxlLmlzU2hpbW1lZCxuKSxlLnN0YXRlbWVudHMsW2Uuc3R5bGVzVmFyXSl9LHQucHJvdG90eXBlLl9jb2RlZ2VuU291cmNlTW9kdWxlPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcgSW0odCxlLHRoaXMuX291dHB1dEVtaXR0ZXIuZW1pdFN0YXRlbWVudHMoZSxuLHIpKX0sdH0oKSxGbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5zdGF0aWNEZWxlZ2F0ZT10LHRoaXMuZHluYW1pY0RlbGVnYXRlPW5ldyBBb31yZXR1cm4gdC5pbnN0YWxsPWZ1bmN0aW9uKGUpe09vLnVwZGF0ZUNhcGFiaWxpdGllcyhuZXcgdChlKSl9LHQucHJvdG90eXBlLmlzUmVmbGVjdGlvbkVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUuZmFjdG9yeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5keW5hbWljRGVsZWdhdGUuZmFjdG9yeSh0KX0sdC5wcm90b3R5cGUuaGFzTGlmZWN5Y2xlSG9vaz1mdW5jdGlvbih0LGUpe3JldHVybiBnaSh0KT90aGlzLnN0YXRpY0RlbGVnYXRlLmhhc0xpZmVjeWNsZUhvb2sodCxlKTp0aGlzLmR5bmFtaWNEZWxlZ2F0ZS5oYXNMaWZlY3ljbGVIb29rKHQsZSl9LHQucHJvdG90eXBlLnBhcmFtZXRlcnM9ZnVuY3Rpb24odCl7cmV0dXJuIGdpKHQpP3RoaXMuc3RhdGljRGVsZWdhdGUucGFyYW1ldGVycyh0KTp0aGlzLmR5bmFtaWNEZWxlZ2F0ZS5wYXJhbWV0ZXJzKHQpfSx0LnByb3RvdHlwZS5hbm5vdGF0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gZ2kodCk/dGhpcy5zdGF0aWNEZWxlZ2F0ZS5hbm5vdGF0aW9ucyh0KTp0aGlzLmR5bmFtaWNEZWxlZ2F0ZS5hbm5vdGF0aW9ucyh0KX0sdC5wcm90b3R5cGUucHJvcE1ldGFkYXRhPWZ1bmN0aW9uKHQpe3JldHVybiBnaSh0KT90aGlzLnN0YXRpY0RlbGVnYXRlLnByb3BNZXRhZGF0YSh0KTp0aGlzLmR5bmFtaWNEZWxlZ2F0ZS5wcm9wTWV0YWRhdGEodCl9LHQucHJvdG90eXBlLmdldHRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5keW5hbWljRGVsZWdhdGUuZ2V0dGVyKHQpfSx0LnByb3RvdHlwZS5zZXR0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZHluYW1pY0RlbGVnYXRlLnNldHRlcih0KX0sdC5wcm90b3R5cGUubWV0aG9kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmR5bmFtaWNEZWxlZ2F0ZS5tZXRob2QodCl9LHQucHJvdG90eXBlLmltcG9ydFVyaT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0aWNEZWxlZ2F0ZS5pbXBvcnRVcmkodCl9LHQucHJvdG90eXBlLnJlc29sdmVJZGVudGlmaWVyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5zdGF0aWNEZWxlZ2F0ZS5yZXNvbHZlSWRlbnRpZmllcih0LGUpfSx0LnByb3RvdHlwZS5yZXNvbHZlRW51bT1mdW5jdGlvbih0LGUpe3JldHVybiBnaSh0KT90aGlzLnN0YXRpY0RlbGVnYXRlLnJlc29sdmVFbnVtKHQsZSk6bnVsbH0sdH0oKSxVbT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sSG09e2NvcmVEZWNvcmF0b3JzOlwiQGFuZ3VsYXIvY29yZS9zcmMvbWV0YWRhdGFcIixkaURlY29yYXRvcnM6XCJAYW5ndWxhci9jb3JlL3NyYy9kaS9tZXRhZGF0YVwiLGRpTWV0YWRhdGE6XCJAYW5ndWxhci9jb3JlL3NyYy9kaS9tZXRhZGF0YVwiLGRpT3BhcXVlVG9rZW46XCJAYW5ndWxhci9jb3JlL3NyYy9kaS9vcGFxdWVfdG9rZW5cIixhbmltYXRpb25NZXRhZGF0YTpcIkBhbmd1bGFyL2NvcmUvc3JjL2FuaW1hdGlvbi9tZXRhZGF0YVwiLHByb3ZpZGVyOlwiQGFuZ3VsYXIvY29yZS9zcmMvZGkvcHJvdmlkZXJcIn0sQm09L15cXCQuKlxcJCQvLHFtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt2YXIgaT10aGlzO3ZvaWQgMD09PWUmJihlPVtdKSx2b2lkIDA9PT1uJiYobj1bXSksdGhpcy5zeW1ib2xSZXNvbHZlcj10LHRoaXMuZXJyb3JSZWNvcmRlcj1yLHRoaXMuYW5ub3RhdGlvbkNhY2hlPW5ldyBNYXAsdGhpcy5wcm9wZXJ0eUNhY2hlPW5ldyBNYXAsdGhpcy5wYXJhbWV0ZXJDYWNoZT1uZXcgTWFwLHRoaXMubWV0aG9kQ2FjaGU9bmV3IE1hcCx0aGlzLmNvbnZlcnNpb25NYXA9bmV3IE1hcCx0aGlzLmluaXRpYWxpemVDb252ZXJzaW9uTWFwKCksZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBpLl9yZWdpc3RlckRlY29yYXRvck9yQ29uc3RydWN0b3IoaS5nZXRTdGF0aWNTeW1ib2wodC5maWxlUGF0aCx0Lm5hbWUpLHQuY3Rvcil9KSxuLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGkuX3JlZ2lzdGVyRnVuY3Rpb24oaS5nZXRTdGF0aWNTeW1ib2wodC5maWxlUGF0aCx0Lm5hbWUpLHQuZm4pfSl9cmV0dXJuIHQucHJvdG90eXBlLmltcG9ydFVyaT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmZpbmRTeW1ib2xEZWNsYXJhdGlvbih0KTtyZXR1cm4gZT9lLmZpbGVQYXRoOm51bGx9LHQucHJvdG90eXBlLnJlc29sdmVJZGVudGlmaWVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZmluZERlY2xhcmF0aW9uKGUsdCl9LHQucHJvdG90eXBlLmZpbmREZWNsYXJhdGlvbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuZmluZFN5bWJvbERlY2xhcmF0aW9uKHRoaXMuc3ltYm9sUmVzb2x2ZXIuZ2V0U3ltYm9sQnlNb2R1bGUodCxlLG4pKX0sdC5wcm90b3R5cGUuZmluZFN5bWJvbERlY2xhcmF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3ltYm9sUmVzb2x2ZXIucmVzb2x2ZVN5bWJvbCh0KTtyZXR1cm4gZSYmZS5tZXRhZGF0YSBpbnN0YW5jZW9mIEppP3RoaXMuZmluZFN5bWJvbERlY2xhcmF0aW9uKGUubWV0YWRhdGEpOnR9LHQucHJvdG90eXBlLnJlc29sdmVFbnVtPWZ1bmN0aW9uKHQsZSl7dmFyIG49dDtyZXR1cm4gdGhpcy5nZXRTdGF0aWNTeW1ib2wobi5maWxlUGF0aCxuLm5hbWUsW2VdKX0sdC5wcm90b3R5cGUuYW5ub3RhdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hbm5vdGF0aW9uQ2FjaGUuZ2V0KHQpO2lmKCFlKXtlPVtdO3ZhciBuPXRoaXMuZ2V0VHlwZU1ldGFkYXRhKHQpO2lmKG4uZXh0ZW5kcyl7dmFyIHI9dGhpcy5hbm5vdGF0aW9ucyh0aGlzLnNpbXBsaWZ5KHQsbi5leHRlbmRzKSk7ZS5wdXNoLmFwcGx5KGUscil9aWYobi5kZWNvcmF0b3JzKXt2YXIgaT10aGlzLnNpbXBsaWZ5KHQsbi5kZWNvcmF0b3JzKTtlLnB1c2guYXBwbHkoZSxpKX10aGlzLmFubm90YXRpb25DYWNoZS5zZXQodCxlLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hIXR9KSl9cmV0dXJuIGV9LHQucHJvdG90eXBlLnByb3BNZXRhZGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5wcm9wZXJ0eUNhY2hlLmdldCh0KTtpZighbil7dmFyIHI9dGhpcy5nZXRUeXBlTWV0YWRhdGEodCk7aWYobj17fSxyLmV4dGVuZHMpe3ZhciBpPXRoaXMucHJvcE1ldGFkYXRhKHRoaXMuc2ltcGxpZnkodCxyLmV4dGVuZHMpKTtPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe25bdF09aVt0XX0pfXZhciBvPXIubWVtYmVyc3x8e307T2JqZWN0LmtleXMobykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgaT1vW3JdLHM9aS5maW5kKGZ1bmN0aW9uKHQpe3JldHVyblwicHJvcGVydHlcIj09dC5fX3N5bWJvbGljfHxcIm1ldGhvZFwiPT10Ll9fc3ltYm9saWN9KSxhPVtdO25bcl0mJmEucHVzaC5hcHBseShhLG5bcl0pLG5bcl09YSxzJiZzLmRlY29yYXRvcnMmJmEucHVzaC5hcHBseShhLGUuc2ltcGxpZnkodCxzLmRlY29yYXRvcnMpKX0pLHRoaXMucHJvcGVydHlDYWNoZS5zZXQodCxuKX1yZXR1cm4gbn0sdC5wcm90b3R5cGUucGFyYW1ldGVycz1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBKaSkpcmV0dXJuIHRoaXMucmVwb3J0RXJyb3IobmV3IEVycm9yKFwicGFyYW1ldGVycyByZWNlaXZlZCBcIitKU09OLnN0cmluZ2lmeSh0KStcIiB3aGljaCBpcyBub3QgYSBTdGF0aWNTeW1ib2xcIiksdCksW107dHJ5e3ZhciBlPXRoaXMucGFyYW1ldGVyQ2FjaGUuZ2V0KHQpO2lmKCFlKXt2YXIgbj10aGlzLmdldFR5cGVNZXRhZGF0YSh0KSxyPW4/bi5tZW1iZXJzOm51bGwsaT1yP3IuX19jdG9yX186bnVsbDtpZihpKXt2YXIgbz1pLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuXCJjb25zdHJ1Y3RvclwiPT10Ll9fc3ltYm9saWN9KSxzPXRoaXMuc2ltcGxpZnkodCxvLnBhcmFtZXRlcnN8fFtdKSxhPXRoaXMuc2ltcGxpZnkodCxvLnBhcmFtZXRlckRlY29yYXRvcnN8fFtdKTtlPVtdLHMuZm9yRWFjaChmdW5jdGlvbih0LG4pe3ZhciByPVtdO3QmJnIucHVzaCh0KTt2YXIgaT1hP2Fbbl06bnVsbDtpJiZyLnB1c2guYXBwbHkocixpKSxlLnB1c2gocil9KX1lbHNlIG4uZXh0ZW5kcyYmKGU9dGhpcy5wYXJhbWV0ZXJzKHRoaXMuc2ltcGxpZnkodCxuLmV4dGVuZHMpKSk7ZXx8KGU9W10pLHRoaXMucGFyYW1ldGVyQ2FjaGUuc2V0KHQsZSl9cmV0dXJuIGV9Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihcIkZhaWxlZCBvbiB0eXBlIFwiK0pTT04uc3RyaW5naWZ5KHQpK1wiIHdpdGggZXJyb3IgXCIrZSksZX19LHQucHJvdG90eXBlLl9tZXRob2ROYW1lcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm1ldGhvZENhY2hlLmdldCh0KTtpZighZSl7dmFyIG49dGhpcy5nZXRUeXBlTWV0YWRhdGEodCk7aWYoZT17fSxuLmV4dGVuZHMpe3ZhciByPXRoaXMuX21ldGhvZE5hbWVzKHRoaXMuc2ltcGxpZnkodCxuLmV4dGVuZHMpKTtPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF09clt0XX0pfXZhciBpPW4ubWVtYmVyc3x8e307T2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj1pW3RdLHI9bi5zb21lKGZ1bmN0aW9uKHQpe3JldHVyblwibWV0aG9kXCI9PXQuX19zeW1ib2xpY30pO2VbdF09ZVt0XXx8cn0pLHRoaXMubWV0aG9kQ2FjaGUuc2V0KHQsZSl9cmV0dXJuIGV9LHQucHJvdG90eXBlLmhhc0xpZmVjeWNsZUhvb2s9ZnVuY3Rpb24odCxlKXt0IGluc3RhbmNlb2YgSml8fHRoaXMucmVwb3J0RXJyb3IobmV3IEVycm9yKFwiaGFzTGlmZWN5Y2xlSG9vayByZWNlaXZlZCBcIitKU09OLnN0cmluZ2lmeSh0KStcIiB3aGljaCBpcyBub3QgYSBTdGF0aWNTeW1ib2xcIiksdCk7dHJ5e3JldHVybiEhdGhpcy5fbWV0aG9kTmFtZXModClbZV19Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihcIkZhaWxlZCBvbiB0eXBlIFwiK0pTT04uc3RyaW5naWZ5KHQpK1wiIHdpdGggZXJyb3IgXCIrZSksZX19LHQucHJvdG90eXBlLl9yZWdpc3RlckRlY29yYXRvck9yQ29uc3RydWN0b3I9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbnZlcnNpb25NYXAuc2V0KHQsZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3KGUuYmluZC5hcHBseShlLFt2b2lkIDBdLmNvbmNhdChuKSkpfSl9LHQucHJvdG90eXBlLl9yZWdpc3RlckZ1bmN0aW9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5jb252ZXJzaW9uTWFwLnNldCh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuYXBwbHkodm9pZCAwLG4pfSl9LHQucHJvdG90eXBlLmluaXRpYWxpemVDb252ZXJzaW9uTWFwPWZ1bmN0aW9uKCl7dmFyIHQ9SG0uY29yZURlY29yYXRvcnMsbj1IbS5kaURlY29yYXRvcnMscj1IbS5kaU1ldGFkYXRhLGk9SG0uZGlPcGFxdWVUb2tlbixvPUhtLmFuaW1hdGlvbk1ldGFkYXRhO0htLnByb3ZpZGVyO3RoaXMub3BhcXVlVG9rZW49dGhpcy5maW5kRGVjbGFyYXRpb24oaSxcIk9wYXF1ZVRva2VuXCIpLHRoaXMuX3JlZ2lzdGVyRGVjb3JhdG9yT3JDb25zdHJ1Y3Rvcih0aGlzLmZpbmREZWNsYXJhdGlvbihuLFwiSG9zdFwiKSxlLkhvc3QpLHRoaXMuX3JlZ2lzdGVyRGVjb3JhdG9yT3JDb25zdHJ1Y3Rvcih0aGlzLmZpbmREZWNsYXJhdGlvbihuLFwiSW5qZWN0YWJsZVwiKSxlLkluamVjdGFibGUpLHRoaXMuX3JlZ2lzdGVyRGVjb3JhdG9yT3JDb25zdHJ1Y3Rvcih0aGlzLmZpbmREZWNsYXJhdGlvbihuLFwiU2VsZlwiKSxlLlNlbGYpLHRoaXMuX3JlZ2lzdGVyRGVjb3JhdG9yT3JDb25zdHJ1Y3Rvcih0aGlzLmZpbmREZWNsYXJhdGlvbihuLFwiU2tpcFNlbGZcIiksZS5Ta2lwU2VsZiksdGhpcy5fcmVnaXN0ZXJEZWNvcmF0b3JPckNvbnN0cnVjdG9yKHRoaXMuZmluZERlY2xhcmF0aW9uKG4sXCJJbmplY3RcIiksZS5JbmplY3QpLHRoaXMuX3JlZ2lzdGVyRGVjb3JhdG9yT3JDb25zdHJ1Y3Rvcih0aGlzLmZpbmREZWNsYXJhdGlvbihuLFwiT3B0aW9uYWxcIiksZS5PcHRpb25hbCksdGhpcy5fcmVnaXN0ZXJEZWNvcmF0b3JPckNvbnN0cnVjdG9yKHRoaXMuZmluZERlY2xhcmF0aW9uKHQsXCJBdHRyaWJ1dGVcIiksZS5BdHRyaWJ1dGUpLHRoaXMuX3JlZ2lzdGVyRGVjb3JhdG9yT3JDb25zdHJ1Y3Rvcih0aGlzLmZpbmREZWNsYXJhdGlvbih0LFwiQ29udGVudENoaWxkXCIpLGUuQ29udGVudENoaWxkKSx0aGlzLl9yZWdpc3RlckRlY29yYXRvck9yQ29uc3RydWN0b3IodGhpcy5maW5kRGVjbGFyYXRpb24odCxcIkNvbnRlbnRDaGlsZHJlblwiKSxlLkNvbnRlbnRDaGlsZHJlbiksdGhpcy5fcmVnaXN0ZXJEZWNvcmF0b3JPckNvbnN0cnVjdG9yKHRoaXMuZmluZERlY2xhcmF0aW9uKHQsXCJWaWV3Q2hpbGRcIiksZS5WaWV3Q2hpbGQpLHRoaXMuX3JlZ2lzdGVyRGVjb3JhdG9yT3JDb25zdHJ1Y3Rvcih0aGlzLmZpbmREZWNsYXJhdGlvbih0LFwiVmlld0NoaWxkcmVuXCIpLGUuVmlld0NoaWxkcmVuKSx0aGlzLl9yZWdpc3RlckRlY29yYXRvck9yQ29uc3RydWN0b3IodGhpcy5maW5kRGVjbGFyYXRpb24odCxcIklucHV0XCIpLGUuSW5wdXQpLHRoaXMuX3JlZ2lzdGVyRGVjb3JhdG9yT3JDb25zdHJ1Y3Rvcih0aGlzLmZpbmREZWNsYXJhdGlvbih0LFwiT3V0cHV0XCIpLGUuT3V0cHV0KSx0aGlzLl9yZWdpc3RlckRlY29yYXRvck9yQ29uc3RydWN0b3IodGhpcy5maW5kRGVjbGFyYXRpb24odCxcIlBpcGVcIiksZS5QaXBlKSx0aGlzLl9yZWdpc3RlckRlY29yYXRvck9yQ29uc3RydWN0b3IodGhpcy5maW5kRGVjbGFyYXRpb24odCxcIkhvc3RCaW5kaW5nXCIpLGUuSG9zdEJpbmRpbmcpLHRoaXMuX3JlZ2lzdGVyRGVjb3JhdG9yT3JDb25zdHJ1Y3Rvcih0aGlzLmZpbmREZWNsYXJhdGlvbih0LFwiSG9zdExpc3RlbmVyXCIpLGUuSG9zdExpc3RlbmVyKSx0aGlzLl9yZWdpc3RlckRlY29yYXRvck9yQ29uc3RydWN0b3IodGhpcy5maW5kRGVjbGFyYXRpb24odCxcIkRpcmVjdGl2ZVwiKSxlLkRpcmVjdGl2ZSksdGhpcy5fcmVnaXN0ZXJEZWNvcmF0b3JPckNvbnN0cnVjdG9yKHRoaXMuZmluZERlY2xhcmF0aW9uKHQsXCJDb21wb25lbnRcIiksZS5Db21wb25lbnQpLHRoaXMuX3JlZ2lzdGVyRGVjb3JhdG9yT3JDb25zdHJ1Y3Rvcih0aGlzLmZpbmREZWNsYXJhdGlvbih0LFwiTmdNb2R1bGVcIiksZS5OZ01vZHVsZSksdGhpcy5fcmVnaXN0ZXJEZWNvcmF0b3JPckNvbnN0cnVjdG9yKHRoaXMuZmluZERlY2xhcmF0aW9uKHIsXCJIb3N0XCIpLGUuSG9zdCksdGhpcy5fcmVnaXN0ZXJEZWNvcmF0b3JPckNvbnN0cnVjdG9yKHRoaXMuZmluZERlY2xhcmF0aW9uKHIsXCJTZWxmXCIpLGUuU2VsZiksdGhpcy5fcmVnaXN0ZXJEZWNvcmF0b3JPckNvbnN0cnVjdG9yKHRoaXMuZmluZERlY2xhcmF0aW9uKHIsXCJTa2lwU2VsZlwiKSxlLlNraXBTZWxmKSx0aGlzLl9yZWdpc3RlckRlY29yYXRvck9yQ29uc3RydWN0b3IodGhpcy5maW5kRGVjbGFyYXRpb24ocixcIk9wdGlvbmFsXCIpLGUuT3B0aW9uYWwpLHRoaXMuX3JlZ2lzdGVyRnVuY3Rpb24odGhpcy5maW5kRGVjbGFyYXRpb24obyxcInRyaWdnZXJcIiksZS50cmlnZ2VyKSx0aGlzLl9yZWdpc3RlckZ1bmN0aW9uKHRoaXMuZmluZERlY2xhcmF0aW9uKG8sXCJzdGF0ZVwiKSxlLnN0YXRlKSx0aGlzLl9yZWdpc3RlckZ1bmN0aW9uKHRoaXMuZmluZERlY2xhcmF0aW9uKG8sXCJ0cmFuc2l0aW9uXCIpLGUudHJhbnNpdGlvbiksdGhpcy5fcmVnaXN0ZXJGdW5jdGlvbih0aGlzLmZpbmREZWNsYXJhdGlvbihvLFwic3R5bGVcIiksZS5zdHlsZSksdGhpcy5fcmVnaXN0ZXJGdW5jdGlvbih0aGlzLmZpbmREZWNsYXJhdGlvbihvLFwiYW5pbWF0ZVwiKSxlLmFuaW1hdGUpLHRoaXMuX3JlZ2lzdGVyRnVuY3Rpb24odGhpcy5maW5kRGVjbGFyYXRpb24obyxcImtleWZyYW1lc1wiKSxlLmtleWZyYW1lcyksdGhpcy5fcmVnaXN0ZXJGdW5jdGlvbih0aGlzLmZpbmREZWNsYXJhdGlvbihvLFwic2VxdWVuY2VcIiksZS5zZXF1ZW5jZSksdGhpcy5fcmVnaXN0ZXJGdW5jdGlvbih0aGlzLmZpbmREZWNsYXJhdGlvbihvLFwiZ3JvdXBcIiksZS5ncm91cCl9LHQucHJvdG90eXBlLmdldFN0YXRpY1N5bWJvbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuc3ltYm9sUmVzb2x2ZXIuZ2V0U3RhdGljU3ltYm9sKHQsZSxuKX0sdC5wcm90b3R5cGUucmVwb3J0RXJyb3I9ZnVuY3Rpb24odCxlLG4pe2lmKCF0aGlzLmVycm9yUmVjb3JkZXIpdGhyb3cgdDtcbnRoaXMuZXJyb3JSZWNvcmRlcih0LGUmJmUuZmlsZVBhdGh8fG4pfSx0LnByb3RvdHlwZS5zaW1wbGlmeT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlLHIpe2Z1bmN0aW9uIGEodCl7dmFyIGU9aS5zeW1ib2xSZXNvbHZlci5yZXNvbHZlU3ltYm9sKHQpO3JldHVybiBlP2UubWV0YWRhdGE6bnVsbH1mdW5jdGlvbiB1KGUsaSxhKXtpZihpJiZcImZ1bmN0aW9uXCI9PWkuX19zeW1ib2xpYyl7aWYocy5nZXQoZSkpdGhyb3cgbmV3IEVycm9yKFwiUmVjdXJzaW9uIG5vdCBzdXBwb3J0ZWRcIik7cy5zZXQoZSwhMCk7dHJ5e3ZhciB1PWkudmFsdWU7aWYodSYmKDAhPXJ8fFwiZXJyb3JcIiE9dS5fX3N5bWJvbGljKSl7dmFyIGw9aS5wYXJhbWV0ZXJzLHA9aS5kZWZhdWx0czthPWEubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuKHQsZSxyKzEpfSkscCYmcC5sZW5ndGg+YS5sZW5ndGgmJmEucHVzaC5hcHBseShhLHAuc2xpY2UoYS5sZW5ndGgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gYyh0KX0pKTtmb3IodmFyIGg9em0uYnVpbGQoKSxmPTA7ZjxsLmxlbmd0aDtmKyspaC5kZWZpbmUobFtmXSxhW2ZdKTt2YXIgZCx5PW87dHJ5e289aC5kb25lKCksZD1uKGUsdSxyKzEpfWZpbmFsbHl7bz15fXJldHVybiBkfX1maW5hbGx5e3MuZGVsZXRlKGUpfX1yZXR1cm4gMD09PXI/e19fc3ltYm9saWM6XCJpZ25vcmVcIn06Yyh7X19zeW1ib2xpYzpcImVycm9yXCIsbWVzc2FnZTpcIkZ1bmN0aW9uIGNhbGwgbm90IHN1cHBvcnRlZFwiLGNvbnRleHQ6ZX0pfWZ1bmN0aW9uIGMoZSl7aWYoQ2koZSkpcmV0dXJuIGU7aWYoZSBpbnN0YW5jZW9mIEFycmF5KXtmb3IodmFyIHM9W10sbD0wLHA9ZTtsPHAubGVuZ3RoO2wrKyl7dmFyIGg9cFtsXTtpZihoJiZcInNwcmVhZFwiPT09aC5fX3N5bWJvbGljKXt2YXIgZj1jKGguZXhwcmVzc2lvbik7aWYoQXJyYXkuaXNBcnJheShmKSl7Zm9yKHZhciBkPTAseT1mO2Q8eS5sZW5ndGg7ZCsrKXt2YXIgbT15W2RdO3MucHVzaChtKX1jb250aW51ZX19dmFyIHY9YyhoKTtFaSh2KXx8cy5wdXNoKHYpfXJldHVybiBzfWlmKGUgaW5zdGFuY2VvZiBKaSl7aWYoZT09PWkub3BhcXVlVG9rZW58fGkuY29udmVyc2lvbk1hcC5oYXMoZSkpcmV0dXJuIGU7dmFyIGc9ZSxfPWEoZyk7cmV0dXJuIF8/bihnLF8scisxKTpnfWlmKGUpe2lmKGUuX19zeW1ib2xpYyl7dmFyIGc9dm9pZCAwO3N3aXRjaChlLl9fc3ltYm9saWMpe2Nhc2VcImJpbm9wXCI6dmFyIGI9YyhlLmxlZnQpO2lmKEVpKGIpKXJldHVybiBiO3ZhciB3PWMoZS5yaWdodCk7aWYoRWkodykpcmV0dXJuIHc7c3dpdGNoKGUub3BlcmF0b3Ipe2Nhc2VcIiYmXCI6cmV0dXJuIGImJnc7Y2FzZVwifHxcIjpyZXR1cm4gYnx8dztjYXNlXCJ8XCI6cmV0dXJuIGJ8dztjYXNlXCJeXCI6cmV0dXJuIGJedztjYXNlXCImXCI6cmV0dXJuIGImdztjYXNlXCI9PVwiOnJldHVybiBiPT13O2Nhc2VcIiE9XCI6cmV0dXJuIGIhPXc7Y2FzZVwiPT09XCI6cmV0dXJuIGI9PT13O2Nhc2VcIiE9PVwiOnJldHVybiBiIT09dztjYXNlXCI8XCI6cmV0dXJuIGI8dztjYXNlXCI+XCI6cmV0dXJuIGI+dztjYXNlXCI8PVwiOnJldHVybiBiPD13O2Nhc2VcIj49XCI6cmV0dXJuIGI+PXc7Y2FzZVwiPDxcIjpyZXR1cm4gYjw8dztjYXNlXCI+PlwiOnJldHVybiBiPj53O2Nhc2VcIitcIjpyZXR1cm4gYit3O2Nhc2VcIi1cIjpyZXR1cm4gYi13O2Nhc2VcIipcIjpyZXR1cm4gYip3O2Nhc2VcIi9cIjpyZXR1cm4gYi93O2Nhc2VcIiVcIjpyZXR1cm4gYiV3fXJldHVybiBudWxsO2Nhc2VcImlmXCI6dmFyIEM9YyhlLmNvbmRpdGlvbik7cmV0dXJuIGMoQz9lLnRoZW5FeHByZXNzaW9uOmUuZWxzZUV4cHJlc3Npb24pO2Nhc2VcInByZVwiOnZhciBFPWMoZS5vcGVyYW5kKTtpZihFaShFKSlyZXR1cm4gRTtzd2l0Y2goZS5vcGVyYXRvcil7Y2FzZVwiK1wiOnJldHVybiBFO2Nhc2VcIi1cIjpyZXR1cm4tRTtjYXNlXCIhXCI6cmV0dXJuIUU7Y2FzZVwiflwiOnJldHVybn5FfXJldHVybiBudWxsO2Nhc2VcImluZGV4XCI6dmFyIFM9YyhlLmV4cHJlc3Npb24pLHg9YyhlLmluZGV4KTtyZXR1cm4gUyYmQ2koeCk/U1t4XTpudWxsO2Nhc2VcInNlbGVjdFwiOnZhciBQPWUubWVtYmVyLE89dCxUPWMoZS5leHByZXNzaW9uKTtpZihUIGluc3RhbmNlb2YgSmkpe3ZhciBBPVQubWVtYmVycy5jb25jYXQoUCk7Tz1pLmdldFN0YXRpY1N5bWJvbChULmZpbGVQYXRoLFQubmFtZSxBKTt2YXIgXz1hKE8pO3JldHVybiBfP24oTyxfLHIrMSk6T31yZXR1cm4gVCYmQ2koUCk/bihPLFRbUF0scisxKTpudWxsO2Nhc2VcInJlZmVyZW5jZVwiOnZhciBNPWUubmFtZSxrPW8ucmVzb2x2ZShNKTtpZihrIT16bS5taXNzaW5nKXJldHVybiBrO2JyZWFrO2Nhc2VcImNsYXNzXCI6cmV0dXJuIHQ7Y2FzZVwiZnVuY3Rpb25cIjpyZXR1cm4gdDtjYXNlXCJuZXdcIjpjYXNlXCJjYWxsXCI6aWYoZz1uKHQsZS5leHByZXNzaW9uLHIrMSksZyBpbnN0YW5jZW9mIEppKXtpZihnPT09aS5vcGFxdWVUb2tlbilyZXR1cm4gdDt2YXIgUj1lLmFyZ3VtZW50c3x8W10sST1pLmNvbnZlcnNpb25NYXAuZ2V0KGcpO2lmKEkpe3ZhciBOPVIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuKHQsZSxyKzEpfSk7cmV0dXJuIEkodCxOKX12YXIgRD1hKGcpO3JldHVybiB1KGcsRCxSKX1icmVhaztjYXNlXCJlcnJvclwiOnZhciBqPWJpKGUpO2lmKGUubGluZSl0aHJvdyBqPWorXCIgKHBvc2l0aW9uIFwiKyhlLmxpbmUrMSkrXCI6XCIrKGUuY2hhcmFjdGVyKzEpK1wiIGluIHRoZSBvcmlnaW5hbCAudHMgZmlsZSlcIixTaShqLHQuZmlsZVBhdGgsZS5saW5lLGUuY2hhcmFjdGVyKTt0aHJvdyBuZXcgRXJyb3Ioail9cmV0dXJuIG51bGx9cmV0dXJuIHdpKGUsZnVuY3Rpb24odCxlKXtyZXR1cm4gYyh0KX0pfXJldHVybiBudWxsfXRyeXtyZXR1cm4gYyhlKX1jYXRjaChlKXt2YXIgbD10Lm1lbWJlcnMubGVuZ3RoP1wiLlwiK3QubWVtYmVycy5qb2luKFwiLlwiKTpcIlwiLHA9ZS5tZXNzYWdlK1wiLCByZXNvbHZpbmcgc3ltYm9sIFwiK3QubmFtZStsK1wiIGluIFwiK3QuZmlsZVBhdGg7aWYoZS5maWxlTmFtZSl0aHJvdyBTaShwLGUuZmlsZU5hbWUsZS5saW5lLGUuY29sdW1uKTt0aHJvdyBuZXcgY3MocCl9fXZhciByPXRoaXMsaT10aGlzLG89em0uZW1wdHkscz1uZXcgTWFwLGE9ZnVuY3Rpb24odCxlLGkpe3RyeXtyZXR1cm4gbih0LGUsaSl9Y2F0Y2goZSl7ci5yZXBvcnRFcnJvcihlLHQpfX0sdT10aGlzLmVycm9yUmVjb3JkZXI/YSh0LGUsMCk6bih0LGUsMCk7aWYoIUVpKHUpKXJldHVybiB1fSx0LnByb3RvdHlwZS5nZXRUeXBlTWV0YWRhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zeW1ib2xSZXNvbHZlci5yZXNvbHZlU3ltYm9sKHQpO3JldHVybiBlJiZlLm1ldGFkYXRhP2UubWV0YWRhdGE6e19fc3ltYm9saWM6XCJjbGFzc1wifX0sdH0oKSx6bT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7fSx0LmJ1aWxkPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IE1hcDtyZXR1cm57ZGVmaW5lOmZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuc2V0KHQsbiksdGhpc30sZG9uZTpmdW5jdGlvbigpe3JldHVybiBlLnNpemU+MD9uZXcgV20oZSk6dC5lbXB0eX19fSx0Lm1pc3Npbmc9e30sdC5lbXB0eT17cmVzb2x2ZTpmdW5jdGlvbihlKXtyZXR1cm4gdC5taXNzaW5nfX0sdH0oKSxXbT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzKSx0aGlzLmJpbmRpbmdzPWV9cmV0dXJuIFVtKGUsdCksZS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5iaW5kaW5ncy5oYXModCk/dGhpcy5iaW5kaW5ncy5nZXQodCk6em0ubWlzc2luZ30sZX0oem0pLEdtPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxYbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLnN5bWJvbD10LHRoaXMubWV0YWRhdGE9ZX1yZXR1cm4gdH0oKSwkbT0zLFFtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLmhvc3Q9dCx0aGlzLnN0YXRpY1N5bWJvbENhY2hlPWUsdGhpcy5zdW1tYXJ5UmVzb2x2ZXI9bix0aGlzLmVycm9yUmVjb3JkZXI9cix0aGlzLm1ldGFkYXRhQ2FjaGU9bmV3IE1hcCx0aGlzLnJlc29sdmVkU3ltYm9scz1uZXcgTWFwLHRoaXMucmVzb2x2ZWRGaWxlUGF0aHM9bmV3IFNldH1yZXR1cm4gdC5wcm90b3R5cGUucmVzb2x2ZVN5bWJvbD1mdW5jdGlvbih0KXtpZih0Lm1lbWJlcnMubGVuZ3RoPjApcmV0dXJuIHRoaXMuX3Jlc29sdmVTeW1ib2xNZW1iZXJzKHQpO3ZhciBlPXRoaXMuX3Jlc29sdmVTeW1ib2xGcm9tU3VtbWFyeSh0KTtyZXR1cm4gZXx8KHRoaXMuX2NyZWF0ZVN5bWJvbHNPZih0LmZpbGVQYXRoKSxlPXRoaXMucmVzb2x2ZWRTeW1ib2xzLmdldCh0KSksZX0sdC5wcm90b3R5cGUuX3Jlc29sdmVTeW1ib2xNZW1iZXJzPWZ1bmN0aW9uKHQpe3ZhciBlPXQubWVtYmVycyxuPXRoaXMucmVzb2x2ZVN5bWJvbCh0aGlzLmdldFN0YXRpY1N5bWJvbCh0LmZpbGVQYXRoLHQubmFtZSkpO2lmKCFuKXJldHVybiBudWxsO3ZhciByPW4ubWV0YWRhdGE7aWYociBpbnN0YW5jZW9mIEppKXJldHVybiBuZXcgWG0odCx0aGlzLmdldFN0YXRpY1N5bWJvbChyLmZpbGVQYXRoLHIubmFtZSxlKSk7aWYoIXJ8fFwiY2xhc3NcIiE9PXIuX19zeW1ib2xpYyl7Zm9yKHZhciBpPXIsbz0wO288ZS5sZW5ndGgmJmk7bysrKWk9aVtlW29dXTtyZXR1cm4gbmV3IFhtKHQsaSl9cmV0dXJuIHIuc3RhdGljcyYmMT09PWUubGVuZ3RoP25ldyBYbSh0LHIuc3RhdGljc1tlWzBdXSk6bnVsbH0sdC5wcm90b3R5cGUuX3Jlc29sdmVTeW1ib2xGcm9tU3VtbWFyeT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN1bW1hcnlSZXNvbHZlci5yZXNvbHZlU3VtbWFyeSh0KTtyZXR1cm4gZT9uZXcgWG0odCxlLm1ldGFkYXRhKTpudWxsfSx0LnByb3RvdHlwZS5nZXRTdGF0aWNTeW1ib2w9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnN0YXRpY1N5bWJvbENhY2hlLmdldCh0LGUsbil9LHQucHJvdG90eXBlLmdldFN5bWJvbHNPZj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgU2V0KHRoaXMuc3VtbWFyeVJlc29sdmVyLmdldFN5bWJvbHNPZih0KSk7cmV0dXJuIHRoaXMuX2NyZWF0ZVN5bWJvbHNPZih0KSx0aGlzLnJlc29sdmVkU3ltYm9scy5mb3JFYWNoKGZ1bmN0aW9uKG4pe24uc3ltYm9sLmZpbGVQYXRoPT09dCYmZS5hZGQobi5zeW1ib2wpfSksQXJyYXkuZnJvbShlKX0sdC5wcm90b3R5cGUuX2NyZWF0ZVN5bWJvbHNPZj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCF0aGlzLnJlc29sdmVkRmlsZVBhdGhzLmhhcyh0KSl7dGhpcy5yZXNvbHZlZEZpbGVQYXRocy5hZGQodCk7dmFyIG49W10scj10aGlzLmdldE1vZHVsZU1ldGFkYXRhKHQpO2lmKHIubWV0YWRhdGEmJk9iamVjdC5rZXlzKHIubWV0YWRhdGEpLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIG89ci5tZXRhZGF0YVtpXTtuLnB1c2goZS5jcmVhdGVSZXNvbHZlZFN5bWJvbChlLmdldFN0YXRpY1N5bWJvbCh0LGkpLG8pKX0pLHIuZXhwb3J0cylmb3IodmFyIGk9ZnVuY3Rpb24ocil7aWYoci5leHBvcnQpci5leHBvcnQuZm9yRWFjaChmdW5jdGlvbihpKXt2YXIgbztvPVwic3RyaW5nXCI9PXR5cGVvZiBpP2k6aS5hczt2YXIgcz1vO1wic3RyaW5nXCIhPXR5cGVvZiBpJiYocz1pLm5hbWUpO3ZhciBhPWUucmVzb2x2ZU1vZHVsZShyLmZyb20sdCk7aWYoYSl7dmFyIHU9ZS5nZXRTdGF0aWNTeW1ib2woYSxzKSxjPWUuZ2V0U3RhdGljU3ltYm9sKHQsbyk7bi5wdXNoKG5ldyBYbShjLHUpKX19KTtlbHNle3ZhciBpPW8ucmVzb2x2ZU1vZHVsZShyLmZyb20sdCk7aWYoaSl7dmFyIHM9by5nZXRTeW1ib2xzT2YoaSk7cy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBpPWUuZ2V0U3RhdGljU3ltYm9sKHQsci5uYW1lKTtuLnB1c2gobmV3IFhtKGkscikpfSl9fX0sbz10aGlzLHM9MCxhPXIuZXhwb3J0cztzPGEubGVuZ3RoO3MrKyl7dmFyIHU9YVtzXTtpKHUpfW4uZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5yZXNvbHZlZFN5bWJvbHMuc2V0KHQuc3ltYm9sLHQpfSl9fSx0LnByb3RvdHlwZS5jcmVhdGVSZXNvbHZlZFN5bWJvbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1mdW5jdGlvbihlKXtmdW5jdGlvbiByKCl7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIEdtKHIsZSksci5wcm90b3R5cGUudmlzaXRTdHJpbmdNYXA9ZnVuY3Rpb24ocixpKXt2YXIgbz1yLl9fc3ltYm9saWM7aWYoXCJmdW5jdGlvblwiPT09byl7dmFyIHM9aS5sZW5ndGg7aS5wdXNoLmFwcGx5KGksci5wYXJhbWV0ZXJzfHxbXSk7dmFyIGE9ZS5wcm90b3R5cGUudmlzaXRTdHJpbmdNYXAuY2FsbCh0aGlzLHIsaSk7cmV0dXJuIGkubGVuZ3RoPXMsYX1pZihcInJlZmVyZW5jZVwiPT09byl7dmFyIHU9ci5tb2R1bGUsYz1yLm5hbWU7aWYoIWMpcmV0dXJuIG51bGw7dmFyIGw9dm9pZCAwO2lmKHUpe2lmKGw9bi5yZXNvbHZlTW9kdWxlKHUsdC5maWxlUGF0aCksIWwpcmV0dXJue19fc3ltYm9saWM6XCJlcnJvclwiLG1lc3NhZ2U6XCJDb3VsZCBub3QgcmVzb2x2ZSBcIit1K1wiIHJlbGF0aXZlIHRvIFwiK3QuZmlsZVBhdGgrXCIuXCJ9fWVsc2V7dmFyIHA9aS5pbmRleE9mKGMpPj0wO3B8fChsPXQuZmlsZVBhdGgpfXJldHVybiBsP24uZ2V0U3RhdGljU3ltYm9sKGwsYyk6e19fc3ltYm9saWM6XCJyZWZlcmVuY2VcIixuYW1lOmN9fXJldHVybiBlLnByb3RvdHlwZS52aXNpdFN0cmluZ01hcC5jYWxsKHRoaXMscixpKX0scn0oYXMpLGk9ZyhlLG5ldyByLFtdKTtyZXR1cm4gbmV3IFhtKHQsaSl9LHQucHJvdG90eXBlLnJlcG9ydEVycm9yPWZ1bmN0aW9uKHQsZSxuKXtpZighdGhpcy5lcnJvclJlY29yZGVyKXRocm93IHQ7dGhpcy5lcnJvclJlY29yZGVyKHQsZSYmZS5maWxlUGF0aHx8bil9LHQucHJvdG90eXBlLmdldE1vZHVsZU1ldGFkYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubWV0YWRhdGFDYWNoZS5nZXQodCk7aWYoIWUpe3ZhciBuPXRoaXMuaG9zdC5nZXRNZXRhZGF0YUZvcih0KTtpZihuKXt2YXIgcj0tMTtuLmZvckVhY2goZnVuY3Rpb24odCl7dC52ZXJzaW9uPnImJihyPXQudmVyc2lvbixlPXQpfSl9aWYoZXx8KGU9e19fc3ltYm9saWM6XCJtb2R1bGVcIix2ZXJzaW9uOiRtLG1vZHVsZTp0LG1ldGFkYXRhOnt9fSksZS52ZXJzaW9uIT0kbSl7dmFyIGk9Mj09ZS52ZXJzaW9uP1wiVW5zdXBwb3J0ZWQgbWV0YWRhdGEgdmVyc2lvbiBcIitlLnZlcnNpb24rXCIgZm9yIG1vZHVsZSBcIit0K1wiLiBUaGlzIG1vZHVsZSBzaG91bGQgYmUgY29tcGlsZWQgd2l0aCBhIG5ld2VyIHZlcnNpb24gb2YgbmdjXCI6XCJNZXRhZGF0YSB2ZXJzaW9uIG1pc21hdGNoIGZvciBtb2R1bGUgXCIrdCtcIiwgZm91bmQgdmVyc2lvbiBcIitlLnZlcnNpb24rXCIsIGV4cGVjdGVkIFwiKyRtO3RoaXMucmVwb3J0RXJyb3IobmV3IEVycm9yKGkpLG51bGwpfXRoaXMubWV0YWRhdGFDYWNoZS5zZXQodCxlKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0U3ltYm9sQnlNb2R1bGU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMucmVzb2x2ZU1vZHVsZSh0LG4pO3JldHVybiByP3RoaXMuZ2V0U3RhdGljU3ltYm9sKHIsZSk6KHRoaXMucmVwb3J0RXJyb3IobmV3IEVycm9yKFwiQ291bGQgbm90IHJlc29sdmUgbW9kdWxlIFwiK3QrKG4/XCIgcmVsYXRpdmUgdG8gJCB7XFxuICAgICAgICAgICAgY29udGFpbmluZ0ZpbGVcXG4gICAgICAgICAgfSBcIjpcIlwiKSksbnVsbCksdGhpcy5nZXRTdGF0aWNTeW1ib2woXCJFUlJPUjpcIit0LGUpKX0sdC5wcm90b3R5cGUucmVzb2x2ZU1vZHVsZT1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdGhpcy5ob3N0Lm1vZHVsZU5hbWVUb0ZpbGVOYW1lKHQsZSl9Y2F0Y2gobil7Y29uc29sZS5lcnJvcihcIkNvdWxkIG5vdCByZXNvbHZlIG1vZHVsZSAnXCIrdCtcIicgcmVsYXRpdmUgdG8gZmlsZSBcIitlKSx0aGlzLnJlcG9ydEVycm9yKG5ldyBuLG51bGwsZSl9fSx0fSgpLFltPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuaG9zdD10LHRoaXMuc3RhdGljU3ltYm9sQ2FjaGU9ZSx0aGlzLnN1bW1hcnlDYWNoZT1uZXcgTWFwLHRoaXMubG9hZGVkRmlsZVBhdGhzPW5ldyBTZXR9cmV0dXJuIHQucHJvdG90eXBlLl9hc3NlcnROb01lbWJlcnM9ZnVuY3Rpb24odCl7aWYodC5tZW1iZXJzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbCBzdGF0ZTogU3RhdGljU3ltYm9scyBpbiBzdW1tYXJpZXMgY2FuJ3QgaGF2ZSBtZW1iZXJzISBcIitKU09OLnN0cmluZ2lmeSh0KSl9LHQucHJvdG90eXBlLnJlc29sdmVTdW1tYXJ5PWZ1bmN0aW9uKHQpe3RoaXMuX2Fzc2VydE5vTWVtYmVycyh0KTt2YXIgZT10aGlzLnN1bW1hcnlDYWNoZS5nZXQodCk7cmV0dXJuIGV8fCh0aGlzLl9sb2FkU3VtbWFyeUZpbGUodC5maWxlUGF0aCksZT10aGlzLnN1bW1hcnlDYWNoZS5nZXQodCkpLGV9LHQucHJvdG90eXBlLmdldFN5bWJvbHNPZj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbG9hZFN1bW1hcnlGaWxlKHQpLEFycmF5LmZyb20odGhpcy5zdW1tYXJ5Q2FjaGUua2V5cygpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZmlsZVBhdGg9PT10fSl9LHQucHJvdG90eXBlLl9sb2FkU3VtbWFyeUZpbGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdGhpcy5sb2FkZWRGaWxlUGF0aHMuaGFzKHQpJiYodGhpcy5sb2FkZWRGaWxlUGF0aHMuYWRkKHQpLCF0aGlzLmhvc3QuaXNTb3VyY2VGaWxlKHQpKSl7dmFyIG49b2kodCkscj12b2lkIDA7dHJ5e3I9dGhpcy5ob3N0LmxvYWRTdW1tYXJ5KG4pfWNhdGNoKHQpe3Rocm93IGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHN1bW1hcnkgZmlsZSBcIituKSx0fWlmKHIpe3ZhciBpPWlpKHRoaXMuc3RhdGljU3ltYm9sQ2FjaGUscik7aS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Uuc3VtbWFyeUNhY2hlLnNldCh0LnN5bWJvbCx0KX0pfX19LHR9KCksS209ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMucGFyZW50PXQsdGhpcy5pbnN0YW5jZT1lLHRoaXMuY2xhc3NOYW1lPW4sdGhpcy52YXJzPXJ9cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZUNoaWxkV2lodExvY2FsVmFycz1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLHRoaXMuaW5zdGFuY2UsdGhpcy5jbGFzc05hbWUsbmV3IE1hcCl9LHR9KCksWm09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudmFsdWU9dH1yZXR1cm4gdH0oKSxKbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmRlYnVnQXN0PWZ1bmN0aW9uKHQpe3JldHVybiBZbih0KX0sdC5wcm90b3R5cGUudmlzaXREZWNsYXJlVmFyU3RtdD1mdW5jdGlvbih0LGUpe3JldHVybiBlLnZhcnMuc2V0KHQubmFtZSx0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpKSxudWxsfSx0LnByb3RvdHlwZS52aXNpdFdyaXRlVmFyRXhwcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLHI9ZTtudWxsIT1yOyl7aWYoci52YXJzLmhhcyh0Lm5hbWUpKXJldHVybiByLnZhcnMuc2V0KHQubmFtZSxuKSxuO3I9ci5wYXJlbnR9dGhyb3cgbmV3IEVycm9yKFwiTm90IGRlY2xhcmVkIHZhcmlhYmxlIFwiK3QubmFtZSl9LHQucHJvdG90eXBlLnZpc2l0UmVhZFZhckV4cHI9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm5hbWU7aWYocih0LmJ1aWx0aW4pKXN3aXRjaCh0LmJ1aWx0aW4pe2Nhc2UgamguU3VwZXI6cmV0dXJuIGUuaW5zdGFuY2UuX19wcm90b19fO2Nhc2UgamguVGhpczpyZXR1cm4gZS5pbnN0YW5jZTtjYXNlIGpoLkNhdGNoRXJyb3I6bj10djticmVhaztjYXNlIGpoLkNhdGNoU3RhY2s6bj1ldjticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVua25vd24gYnVpbHRpbiB2YXJpYWJsZSBcIit0LmJ1aWx0aW4pfWZvcih2YXIgaT1lO251bGwhPWk7KXtpZihpLnZhcnMuaGFzKG4pKXJldHVybiBpLnZhcnMuZ2V0KG4pO2k9aS5wYXJlbnR9dGhyb3cgbmV3IEVycm9yKFwiTm90IGRlY2xhcmVkIHZhcmlhYmxlIFwiK24pfSx0LnByb3RvdHlwZS52aXNpdFdyaXRlS2V5RXhwcj1mdW5jdGlvbih0LGUpe3ZhciBuPXQucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSkscj10LmluZGV4LnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLGk9dC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcyxlKTtyZXR1cm4gbltyXT1pLGl9LHQucHJvdG90eXBlLnZpc2l0V3JpdGVQcm9wRXhwcj1mdW5jdGlvbih0LGUpe3ZhciBuPXQucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSkscj10LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpO3JldHVybiBuW3QubmFtZV09cixyfSx0LnByb3RvdHlwZS52aXNpdEludm9rZU1ldGhvZEV4cHI9ZnVuY3Rpb24odCxlKXt2YXIgbixpPXQucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksbz10aGlzLnZpc2l0QWxsRXhwcmVzc2lvbnModC5hcmdzLGUpO2lmKHIodC5idWlsdGluKSlzd2l0Y2godC5idWlsdGluKXtjYXNlIEhoLkNvbmNhdEFycmF5Om49aS5jb25jYXQuYXBwbHkoaSxvKTticmVhaztjYXNlIEhoLlN1YnNjcmliZU9ic2VydmFibGU6bj1pLnN1YnNjcmliZSh7bmV4dDpvWzBdfSk7YnJlYWs7Y2FzZSBIaC5CaW5kOm49aS5iaW5kLmFwcGx5KGksbyk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGJ1aWx0aW4gbWV0aG9kIFwiK3QuYnVpbHRpbil9ZWxzZSBuPWlbdC5uYW1lXS5hcHBseShpLG8pO3JldHVybiBufSx0LnByb3RvdHlwZS52aXNpdEludm9rZUZ1bmN0aW9uRXhwcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyh0LmFyZ3MsZSkscj10LmZuO2lmKHIgaW5zdGFuY2VvZiBWaCYmci5idWlsdGluPT09amguU3VwZXIpcmV0dXJuIGUuaW5zdGFuY2UuY29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmFwcGx5KGUuaW5zdGFuY2UsbiksbnVsbDt2YXIgaT10LmZuLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpO3JldHVybiBpLmFwcGx5KG51bGwsbil9LHQucHJvdG90eXBlLnZpc2l0UmV0dXJuU3RtdD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgWm0odC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcyxlKSl9LHQucHJvdG90eXBlLnZpc2l0RGVjbGFyZUNsYXNzU3RtdD1mdW5jdGlvbih0LGUpe3ZhciBuPVRpKHQsZSx0aGlzKTtyZXR1cm4gZS52YXJzLnNldCh0Lm5hbWUsbiksbnVsbH0sdC5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uU3RtdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmV4cHIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSl9LHQucHJvdG90eXBlLnZpc2l0SWZTdG10PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb25kaXRpb24udmlzaXRFeHByZXNzaW9uKHRoaXMsZSk7cmV0dXJuIG4/dGhpcy52aXNpdEFsbFN0YXRlbWVudHModC50cnVlQ2FzZSxlKTpyKHQuZmFsc2VDYXNlKT90aGlzLnZpc2l0QWxsU3RhdGVtZW50cyh0LmZhbHNlQ2FzZSxlKTpudWxsfSx0LnByb3RvdHlwZS52aXNpdFRyeUNhdGNoU3RtdD1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdGhpcy52aXNpdEFsbFN0YXRlbWVudHModC5ib2R5U3RtdHMsZSl9Y2F0Y2gocil7dmFyIG49ZS5jcmVhdGVDaGlsZFdpaHRMb2NhbFZhcnMoKTtyZXR1cm4gbi52YXJzLnNldCh0dixyKSxuLnZhcnMuc2V0KGV2LHIuc3RhY2spLHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHQuY2F0Y2hTdG10cyxuKX19LHQucHJvdG90eXBlLnZpc2l0VGhyb3dTdG10PWZ1bmN0aW9uKHQsZSl7dGhyb3cgdC5lcnJvci52aXNpdEV4cHJlc3Npb24odGhpcyxlKX0sdC5wcm90b3R5cGUudmlzaXRDb21tZW50U3RtdD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS52aXNpdEluc3RhbnRpYXRlRXhwcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyh0LmFyZ3MsZSkscj10LmNsYXNzRXhwci52aXNpdEV4cHJlc3Npb24odGhpcyxlKTtyZXR1cm4gbmV3KHIuYmluZC5hcHBseShyLFt2b2lkIDBdLmNvbmNhdChuKSkpfSx0LnByb3RvdHlwZS52aXNpdExpdGVyYWxFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmFsdWV9LHQucHJvdG90eXBlLnZpc2l0RXh0ZXJuYWxFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmFsdWUucmVmZXJlbmNlfSx0LnByb3RvdHlwZS52aXNpdENvbmRpdGlvbmFsRXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbmRpdGlvbi52aXNpdEV4cHJlc3Npb24odGhpcyxlKT90LnRydWVDYXNlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpOnIodC5mYWxzZUNhc2UpP3QuZmFsc2VDYXNlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpOm51bGx9LHQucHJvdG90eXBlLnZpc2l0Tm90RXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiF0LmNvbmRpdGlvbi52aXNpdEV4cHJlc3Npb24odGhpcyxlKX0sdC5wcm90b3R5cGUudmlzaXRDYXN0RXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiB0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpfSx0LnByb3RvdHlwZS52aXNpdEZ1bmN0aW9uRXhwcj1mdW5jdGlvbih0LGUpe3ZhciBuPXQucGFyYW1zLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSk7cmV0dXJuIEFpKG4sdC5zdGF0ZW1lbnRzLGUsdGhpcyl9LHQucHJvdG90eXBlLnZpc2l0RGVjbGFyZUZ1bmN0aW9uU3RtdD1mdW5jdGlvbih0LGUpe3ZhciBuPXQucGFyYW1zLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSk7cmV0dXJuIGUudmFycy5zZXQodC5uYW1lLEFpKG4sdC5zdGF0ZW1lbnRzLGUsdGhpcykpLG51bGx9LHQucHJvdG90eXBlLnZpc2l0QmluYXJ5T3BlcmF0b3JFeHByPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPWZ1bmN0aW9uKCl7cmV0dXJuIHQubGhzLnZpc2l0RXhwcmVzc2lvbihuLGUpfSxpPWZ1bmN0aW9uKCl7cmV0dXJuIHQucmhzLnZpc2l0RXhwcmVzc2lvbihuLGUpfTtzd2l0Y2godC5vcGVyYXRvcil7Y2FzZSBOaC5FcXVhbHM6cmV0dXJuIHIoKT09aSgpO2Nhc2UgTmguSWRlbnRpY2FsOnJldHVybiByKCk9PT1pKCk7Y2FzZSBOaC5Ob3RFcXVhbHM6cmV0dXJuIHIoKSE9aSgpO2Nhc2UgTmguTm90SWRlbnRpY2FsOnJldHVybiByKCkhPT1pKCk7Y2FzZSBOaC5BbmQ6cmV0dXJuIHIoKSYmaSgpO2Nhc2UgTmguT3I6cmV0dXJuIHIoKXx8aSgpO2Nhc2UgTmguUGx1czpyZXR1cm4gcigpK2koKTtjYXNlIE5oLk1pbnVzOnJldHVybiByKCktaSgpO2Nhc2UgTmguRGl2aWRlOnJldHVybiByKCkvaSgpO2Nhc2UgTmguTXVsdGlwbHk6cmV0dXJuIHIoKSppKCk7Y2FzZSBOaC5Nb2R1bG86cmV0dXJuIHIoKSVpKCk7Y2FzZSBOaC5Mb3dlcjpyZXR1cm4gcigpPGkoKTtjYXNlIE5oLkxvd2VyRXF1YWxzOnJldHVybiByKCk8PWkoKTtjYXNlIE5oLkJpZ2dlcjpyZXR1cm4gcigpPmkoKTtjYXNlIE5oLkJpZ2dlckVxdWFsczpyZXR1cm4gcigpPj1pKCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG9wZXJhdG9yIFwiK3Qub3BlcmF0b3IpfX0sdC5wcm90b3R5cGUudmlzaXRSZWFkUHJvcEV4cHI9ZnVuY3Rpb24odCxlKXt2YXIgbixyPXQucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsZSk7cmV0dXJuIG49clt0Lm5hbWVdfSx0LnByb3RvdHlwZS52aXNpdFJlYWRLZXlFeHByPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5yZWNlaXZlci52aXNpdEV4cHJlc3Npb24odGhpcyxlKSxyPXQuaW5kZXgudmlzaXRFeHByZXNzaW9uKHRoaXMsZSk7cmV0dXJuIG5bcl19LHQucHJvdG90eXBlLnZpc2l0TGl0ZXJhbEFycmF5RXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnZpc2l0QWxsRXhwcmVzc2lvbnModC5lbnRyaWVzLGUpfSx0LnByb3RvdHlwZS52aXNpdExpdGVyYWxNYXBFeHByPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXt9O3JldHVybiB0LmVudHJpZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gclt0LmtleV09dC52YWx1ZS52aXNpdEV4cHJlc3Npb24obixlKX0pLHJ9LHQucHJvdG90eXBlLnZpc2l0QWxsRXhwcmVzc2lvbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdEV4cHJlc3Npb24obixlKX0pfSx0LnByb3RvdHlwZS52aXNpdEFsbFN0YXRlbWVudHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxpPXIudmlzaXRTdGF0ZW1lbnQodGhpcyxlKTtpZihpIGluc3RhbmNlb2YgWm0pcmV0dXJuIGl9cmV0dXJuIG51bGx9LHR9KCksdHY9XCJlcnJvclwiLGV2PVwic3RhY2tcIixudj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0scnY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuY2FsbCh0aGlzLCExKX1yZXR1cm4gbnYoZSx0KSxlLnByb3RvdHlwZS52aXNpdERlY2xhcmVDbGFzc1N0bXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBlLnB1c2hDbGFzcyh0KSx0aGlzLl92aXNpdENsYXNzQ29uc3RydWN0b3IodCxlKSxyKHQucGFyZW50KSYmKGUucHJpbnQodC5uYW1lK1wiLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoXCIpLHQucGFyZW50LnZpc2l0RXhwcmVzc2lvbih0aGlzLGUpLGUucHJpbnRsbihcIi5wcm90b3R5cGUpO1wiKSksdC5nZXR0ZXJzLmZvckVhY2goZnVuY3Rpb24ocil7cmV0dXJuIG4uX3Zpc2l0Q2xhc3NHZXR0ZXIodCxyLGUpfSksdC5tZXRob2RzLmZvckVhY2goZnVuY3Rpb24ocil7cmV0dXJuIG4uX3Zpc2l0Q2xhc3NNZXRob2QodCxyLGUpfSksZS5wb3BDbGFzcygpLG51bGx9LGUucHJvdG90eXBlLl92aXNpdENsYXNzQ29uc3RydWN0b3I9ZnVuY3Rpb24odCxlKXtlLnByaW50KFwiZnVuY3Rpb24gXCIrdC5uYW1lK1wiKFwiKSxyKHQuY29uc3RydWN0b3JNZXRob2QpJiZ0aGlzLl92aXNpdFBhcmFtcyh0LmNvbnN0cnVjdG9yTWV0aG9kLnBhcmFtcyxlKSxlLnByaW50bG4oXCIpIHtcIiksZS5pbmNJbmRlbnQoKSxyKHQuY29uc3RydWN0b3JNZXRob2QpJiZ0LmNvbnN0cnVjdG9yTWV0aG9kLmJvZHkubGVuZ3RoPjAmJihlLnByaW50bG4oXCJ2YXIgc2VsZiA9IHRoaXM7XCIpLHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHQuY29uc3RydWN0b3JNZXRob2QuYm9keSxlKSksZS5kZWNJbmRlbnQoKSxlLnByaW50bG4oXCJ9XCIpfSxlLnByb3RvdHlwZS5fdmlzaXRDbGFzc0dldHRlcj1mdW5jdGlvbih0LGUsbil7bi5wcmludGxuKFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KFwiK3QubmFtZStcIi5wcm90b3R5cGUsICdcIitlLm5hbWUrXCInLCB7IGdldDogZnVuY3Rpb24oKSB7XCIpLG4uaW5jSW5kZW50KCksZS5ib2R5Lmxlbmd0aD4wJiYobi5wcmludGxuKFwidmFyIHNlbGYgPSB0aGlzO1wiKSx0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhlLmJvZHksbikpLG4uZGVjSW5kZW50KCksbi5wcmludGxuKFwifX0pO1wiKX0sZS5wcm90b3R5cGUuX3Zpc2l0Q2xhc3NNZXRob2Q9ZnVuY3Rpb24odCxlLG4pe24ucHJpbnQodC5uYW1lK1wiLnByb3RvdHlwZS5cIitlLm5hbWUrXCIgPSBmdW5jdGlvbihcIiksdGhpcy5fdmlzaXRQYXJhbXMoZS5wYXJhbXMsbiksbi5wcmludGxuKFwiKSB7XCIpLG4uaW5jSW5kZW50KCksZS5ib2R5Lmxlbmd0aD4wJiYobi5wcmludGxuKFwidmFyIHNlbGYgPSB0aGlzO1wiKSx0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhlLmJvZHksbikpLG4uZGVjSW5kZW50KCksbi5wcmludGxuKFwifTtcIil9LGUucHJvdG90eXBlLnZpc2l0UmVhZFZhckV4cHI9ZnVuY3Rpb24oZSxuKXtpZihlLmJ1aWx0aW49PT1qaC5UaGlzKW4ucHJpbnQoXCJzZWxmXCIpO2Vsc2V7aWYoZS5idWlsdGluPT09amguU3VwZXIpdGhyb3cgbmV3IEVycm9yKFwiJ3N1cGVyJyBuZWVkcyB0byBiZSBoYW5kbGVkIGF0IGEgcGFyZW50IGFzdCBub2RlLCBub3QgYXQgdGhlIHZhcmlhYmxlIGxldmVsIVwiKTt0LnByb3RvdHlwZS52aXNpdFJlYWRWYXJFeHByLmNhbGwodGhpcyxlLG4pfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS52aXNpdERlY2xhcmVWYXJTdG10PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucHJpbnQoXCJ2YXIgXCIrdC5uYW1lK1wiID0gXCIpLHQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksZS5wcmludGxuKFwiO1wiKSxudWxsfSxlLnByb3RvdHlwZS52aXNpdENhc3RFeHByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsZSksbnVsbH0sZS5wcm90b3R5cGUudmlzaXRJbnZva2VGdW5jdGlvbkV4cHI9ZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmZuO3JldHVybiByIGluc3RhbmNlb2YgVmgmJnIuYnVpbHRpbj09PWpoLlN1cGVyPyhuLmN1cnJlbnRDbGFzcy5wYXJlbnQudmlzaXRFeHByZXNzaW9uKHRoaXMsbiksbi5wcmludChcIi5jYWxsKHRoaXNcIiksZS5hcmdzLmxlbmd0aD4wJiYobi5wcmludChcIiwgXCIpLHRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyhlLmFyZ3MsbixcIixcIikpLG4ucHJpbnQoXCIpXCIpKTp0LnByb3RvdHlwZS52aXNpdEludm9rZUZ1bmN0aW9uRXhwci5jYWxsKHRoaXMsZSxuKSxudWxsfSxlLnByb3RvdHlwZS52aXNpdEZ1bmN0aW9uRXhwcj1mdW5jdGlvbih0LGUpe3JldHVybiBlLnByaW50KFwiZnVuY3Rpb24oXCIpLHRoaXMuX3Zpc2l0UGFyYW1zKHQucGFyYW1zLGUpLGUucHJpbnRsbihcIikge1wiKSxlLmluY0luZGVudCgpLHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHQuc3RhdGVtZW50cyxlKSxlLmRlY0luZGVudCgpLGUucHJpbnQoXCJ9XCIpLG51bGx9LGUucHJvdG90eXBlLnZpc2l0RGVjbGFyZUZ1bmN0aW9uU3RtdD1mdW5jdGlvbih0LGUpe3JldHVybiBlLnByaW50KFwiZnVuY3Rpb24gXCIrdC5uYW1lK1wiKFwiKSx0aGlzLl92aXNpdFBhcmFtcyh0LnBhcmFtcyxlKSxlLnByaW50bG4oXCIpIHtcIiksZS5pbmNJbmRlbnQoKSx0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyh0LnN0YXRlbWVudHMsZSksZS5kZWNJbmRlbnQoKSxlLnByaW50bG4oXCJ9XCIpLG51bGx9LGUucHJvdG90eXBlLnZpc2l0VHJ5Q2F0Y2hTdG10PWZ1bmN0aW9uKHQsZSl7ZS5wcmludGxuKFwidHJ5IHtcIiksZS5pbmNJbmRlbnQoKSx0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyh0LmJvZHlTdG10cyxlKSxlLmRlY0luZGVudCgpLGUucHJpbnRsbihcIn0gY2F0Y2ggKFwiK09kLm5hbWUrXCIpIHtcIiksZS5pbmNJbmRlbnQoKTt2YXIgbj1bVGQuc2V0KE9kLnByb3AoXCJzdGFja1wiKSkudG9EZWNsU3RtdChudWxsLFtjZi5GaW5hbF0pXS5jb25jYXQodC5jYXRjaFN0bXRzKTtyZXR1cm4gdGhpcy52aXNpdEFsbFN0YXRlbWVudHMobixlKSxlLmRlY0luZGVudCgpLGUucHJpbnRsbihcIn1cIiksbnVsbH0sZS5wcm90b3R5cGUuX3Zpc2l0UGFyYW1zPWZ1bmN0aW9uKHQsZSl7dGhpcy52aXNpdEFsbE9iamVjdHMoZnVuY3Rpb24odCl7cmV0dXJuIGUucHJpbnQodC5uYW1lKX0sdCxlLFwiLFwiKX0sZS5wcm90b3R5cGUuZ2V0QnVpbHRpbk1ldGhvZE5hbWU9ZnVuY3Rpb24odCl7dmFyIGU7c3dpdGNoKHQpe2Nhc2UgSGguQ29uY2F0QXJyYXk6ZT1cImNvbmNhdFwiO2JyZWFrO2Nhc2UgSGguU3Vic2NyaWJlT2JzZXJ2YWJsZTplPVwic3Vic2NyaWJlXCI7YnJlYWs7Y2FzZSBIaC5CaW5kOmU9XCJiaW5kXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGJ1aWx0aW4gbWV0aG9kOiBcIit0KX1yZXR1cm4gZX0sZX0oa2QpLGl2PXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxvdj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fZXZhbEFyZ05hbWVzPVtdLHRoaXMuX2V2YWxBcmdWYWx1ZXM9W119cmV0dXJuIGl2KGUsdCksZS5wcm90b3R5cGUuZ2V0QXJncz1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTA7ZTx0aGlzLl9ldmFsQXJnTmFtZXMubGVuZ3RoO2UrKyl0W3RoaXMuX2V2YWxBcmdOYW1lc1tlXV09dGhpcy5fZXZhbEFyZ1ZhbHVlc1tlXTtyZXR1cm4gdH0sZS5wcm90b3R5cGUudmlzaXRFeHRlcm5hbEV4cHI9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnZhbHVlLnJlZmVyZW5jZSxyPXRoaXMuX2V2YWxBcmdWYWx1ZXMuaW5kZXhPZihuKTtpZihyPT09LTEpe3I9dGhpcy5fZXZhbEFyZ1ZhbHVlcy5sZW5ndGgsdGhpcy5fZXZhbEFyZ1ZhbHVlcy5wdXNoKG4pO3ZhciBpPWIodC52YWx1ZSl8fFwidmFsXCI7dGhpcy5fZXZhbEFyZ05hbWVzLnB1c2goXCJqaXRfXCIraStyKX1yZXR1cm4gZS5wcmludCh0aGlzLl9ldmFsQXJnTmFtZXNbcl0pLG51bGx9LGV9KHJ2KSxzdj10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSxhdj10aGlzJiZ0aGlzLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sdXY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvLHMsYSx1KXt0aGlzLl9pbmplY3Rvcj10LHRoaXMuX21ldGFkYXRhUmVzb2x2ZXI9ZSx0aGlzLl90ZW1wbGF0ZVBhcnNlcj1uLHRoaXMuX3N0eWxlQ29tcGlsZXI9cix0aGlzLl92aWV3Q29tcGlsZXI9aSx0aGlzLl9uZ01vZHVsZUNvbXBpbGVyPW8sdGhpcy5fZGlyZWN0aXZlV3JhcHBlckNvbXBpbGVyPXMsdGhpcy5fY29tcGlsZXJDb25maWc9YSx0aGlzLl9hbmltYXRpb25QYXJzZXI9dSx0aGlzLl9jb21waWxlZFRlbXBsYXRlQ2FjaGU9bmV3IE1hcCx0aGlzLl9jb21waWxlZEhvc3RUZW1wbGF0ZUNhY2hlPW5ldyBNYXAsdGhpcy5fY29tcGlsZWREaXJlY3RpdmVXcmFwcGVyQ2FjaGU9bmV3IE1hcCx0aGlzLl9jb21waWxlZE5nTW9kdWxlQ2FjaGU9bmV3IE1hcCx0aGlzLl9hbmltYXRpb25Db21waWxlcj1uZXcgZG19cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImluamVjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmplY3Rvcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb21waWxlTW9kdWxlU3luYz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY29tcGlsZU1vZHVsZUFuZENvbXBvbmVudHModCwhMCkuc3luY1Jlc3VsdH0sdC5wcm90b3R5cGUuY29tcGlsZU1vZHVsZUFzeW5jPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jb21waWxlTW9kdWxlQW5kQ29tcG9uZW50cyh0LCExKS5hc3luY1Jlc3VsdH0sdC5wcm90b3R5cGUuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50cyh0LCEwKS5zeW5jUmVzdWx0fSx0LnByb3RvdHlwZS5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c0FzeW5jPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50cyh0LCExKS5hc3luY1Jlc3VsdH0sdC5wcm90b3R5cGUuZ2V0TmdDb250ZW50U2VsZWN0b3JzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NvbXBpbGVkVGVtcGxhdGVDYWNoZS5nZXQodCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNvbXBvbmVudCBcIitzKHQpK1wiIGlzIG5vdCB5ZXQgY29tcGlsZWQhXCIpO3JldHVybiBlLmNvbXBNZXRhLnRlbXBsYXRlLm5nQ29udGVudFNlbGVjdG9yc30sdC5wcm90b3R5cGUuX2NvbXBpbGVNb2R1bGVBbmRDb21wb25lbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuX2xvYWRNb2R1bGVzKHQsZSksaT1mdW5jdGlvbigpe3JldHVybiBuLl9jb21waWxlQ29tcG9uZW50cyh0LG51bGwpLG4uX2NvbXBpbGVNb2R1bGUodCl9O3JldHVybiBlP25ldyB1cyhpKCkpOm5ldyB1cyhudWxsLHIudGhlbihpKSl9LHQucHJvdG90eXBlLl9jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50cz1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMsaT10aGlzLl9sb2FkTW9kdWxlcyh0LG4pLG89ZnVuY3Rpb24oKXt2YXIgbj1bXTtyZXR1cm4gci5fY29tcGlsZUNvbXBvbmVudHModCxuKSxuZXcgZS5Nb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzKHIuX2NvbXBpbGVNb2R1bGUodCksbil9O3JldHVybiBuP25ldyB1cyhvKCkpOm5ldyB1cyhudWxsLGkudGhlbihvKSl9LHQucHJvdG90eXBlLl9sb2FkTW9kdWxlcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1bXSxpPXRoaXMuX21ldGFkYXRhUmVzb2x2ZXIuZ2V0TmdNb2R1bGVNZXRhZGF0YSh0KTtyZXR1cm4gaS50cmFuc2l0aXZlTW9kdWxlLm1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyLnB1c2gobi5fbWV0YWRhdGFSZXNvbHZlci5sb2FkTmdNb2R1bGVEaXJlY3RpdmVBbmRQaXBlTWV0YWRhdGEodC5yZWZlcmVuY2UsZSkpfSksUHJvbWlzZS5hbGwocil9LHQucHJvdG90eXBlLl9jb21waWxlTW9kdWxlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMscj10aGlzLl9jb21waWxlZE5nTW9kdWxlQ2FjaGUuZ2V0KHQpO2lmKCFyKXt2YXIgaT10aGlzLl9tZXRhZGF0YVJlc29sdmVyLmdldE5nTW9kdWxlTWV0YWRhdGEodCksbz1bdGhpcy5fbWV0YWRhdGFSZXNvbHZlci5nZXRQcm92aWRlck1ldGFkYXRhKG5ldyBrcyhlLkNvbXBpbGVyLHt1c2VGYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBsdihuLGkudHlwZS5yZWZlcmVuY2UpfX0pKV0scz10aGlzLl9uZ01vZHVsZUNvbXBpbGVyLmNvbXBpbGUoaSxvKTtzLmRlcGVuZGVuY2llcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QucGxhY2Vob2xkZXIucmVmZXJlbmNlPW4uX2Fzc2VydENvbXBvbmVudEtub3duKHQuY29tcC5yZWZlcmVuY2UsITApLnByb3h5Q29tcG9uZW50RmFjdG9yeX0pLHI9dGhpcy5fY29tcGlsZXJDb25maWcudXNlSml0P2tpKFwiL1wiK2IoaS50eXBlKStcIi9tb2R1bGUubmdmYWN0b3J5LmpzXCIscy5zdGF0ZW1lbnRzLHMubmdNb2R1bGVGYWN0b3J5VmFyKTpQaShzLnN0YXRlbWVudHMscy5uZ01vZHVsZUZhY3RvcnlWYXIpLHRoaXMuX2NvbXBpbGVkTmdNb2R1bGVDYWNoZS5zZXQoaS50eXBlLnJlZmVyZW5jZSxyKX1yZXR1cm4gcn0sdC5wcm90b3R5cGUuX2NvbXBpbGVDb21wb25lbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuX21ldGFkYXRhUmVzb2x2ZXIuZ2V0TmdNb2R1bGVNZXRhZGF0YSh0KSxpPW5ldyBNYXAsbz1uZXcgU2V0O3IudHJhbnNpdGl2ZU1vZHVsZS5tb2R1bGVzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9bi5fbWV0YWRhdGFSZXNvbHZlci5nZXROZ01vZHVsZU1ldGFkYXRhKHQucmVmZXJlbmNlKTtyLmRlY2xhcmVkRGlyZWN0aXZlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2kuc2V0KHQucmVmZXJlbmNlLHIpO3ZhciBzPW4uX21ldGFkYXRhUmVzb2x2ZXIuZ2V0RGlyZWN0aXZlTWV0YWRhdGEodC5yZWZlcmVuY2UpO2lmKG4uX2NvbXBpbGVEaXJlY3RpdmVXcmFwcGVyKHMscikscy5pc0NvbXBvbmVudCYmKG8uYWRkKG4uX2NyZWF0ZUNvbXBpbGVkVGVtcGxhdGUocyxyKSksZSkpe3ZhciBhPW4uX2NyZWF0ZUNvbXBpbGVkSG9zdFRlbXBsYXRlKHMudHlwZS5yZWZlcmVuY2Uscik7by5hZGQoYSksZS5wdXNoKGEucHJveHlDb21wb25lbnRGYWN0b3J5KX19KX0pLHIudHJhbnNpdGl2ZU1vZHVsZS5tb2R1bGVzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9bi5fbWV0YWRhdGFSZXNvbHZlci5nZXROZ01vZHVsZU1ldGFkYXRhKHQucmVmZXJlbmNlKTtlLmRlY2xhcmVkRGlyZWN0aXZlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPW4uX21ldGFkYXRhUmVzb2x2ZXIuZ2V0RGlyZWN0aXZlTWV0YWRhdGEodC5yZWZlcmVuY2UpO2UuaXNDb21wb25lbnQmJmUuZW50cnlDb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9aS5nZXQodC5yZWZlcmVuY2UpO28uYWRkKG4uX2NyZWF0ZUNvbXBpbGVkSG9zdFRlbXBsYXRlKHQucmVmZXJlbmNlLGUpKX0pfSksZS5lbnRyeUNvbXBvbmVudHMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1pLmdldCh0LnJlZmVyZW5jZSk7by5hZGQobi5fY3JlYXRlQ29tcGlsZWRIb3N0VGVtcGxhdGUodC5yZWZlcmVuY2UsZSkpfSl9KSxvLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG4uX2NvbXBpbGVUZW1wbGF0ZSh0KX0pfSx0LnByb3RvdHlwZS5jbGVhckNhY2hlRm9yPWZ1bmN0aW9uKHQpe3RoaXMuX2NvbXBpbGVkTmdNb2R1bGVDYWNoZS5kZWxldGUodCksdGhpcy5fbWV0YWRhdGFSZXNvbHZlci5jbGVhckNhY2hlRm9yKHQpLHRoaXMuX2NvbXBpbGVkSG9zdFRlbXBsYXRlQ2FjaGUuZGVsZXRlKHQpO3ZhciBlPXRoaXMuX2NvbXBpbGVkVGVtcGxhdGVDYWNoZS5nZXQodCk7ZSYmdGhpcy5fY29tcGlsZWRUZW1wbGF0ZUNhY2hlLmRlbGV0ZSh0KX0sdC5wcm90b3R5cGUuY2xlYXJDYWNoZT1mdW5jdGlvbigpe3RoaXMuX21ldGFkYXRhUmVzb2x2ZXIuY2xlYXJDYWNoZSgpLHRoaXMuX2NvbXBpbGVkVGVtcGxhdGVDYWNoZS5jbGVhcigpLHRoaXMuX2NvbXBpbGVkSG9zdFRlbXBsYXRlQ2FjaGUuY2xlYXIoKSx0aGlzLl9jb21waWxlZE5nTW9kdWxlQ2FjaGUuY2xlYXIoKX0sdC5wcm90b3R5cGUuX2NyZWF0ZUNvbXBpbGVkSG9zdFRlbXBsYXRlPWZ1bmN0aW9uKHQsZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9uZW50IFwiK3ModCkrXCIgaXMgbm90IHBhcnQgb2YgYW55IE5nTW9kdWxlIG9yIHRoZSBtb2R1bGUgaGFzIG5vdCBiZWVuIGltcG9ydGVkIGludG8geW91ciBtb2R1bGUuXCIpO3ZhciBuPXRoaXMuX2NvbXBpbGVkSG9zdFRlbXBsYXRlQ2FjaGUuZ2V0KHQpO2lmKCFuKXt2YXIgcj10aGlzLl9tZXRhZGF0YVJlc29sdmVyLmdldERpcmVjdGl2ZU1ldGFkYXRhKHQpO1JpKHIpO3ZhciBpPWZ1bmN0aW9uKCl7fTtpLm92ZXJyaWRkZW5OYW1lPWIoci50eXBlKStcIl9Ib3N0XCI7dmFyIG89UyhpLHIpO249bmV3IGN2KCEwLHIuc2VsZWN0b3Isci50eXBlLG8sZSxbci50eXBlXSksdGhpcy5fY29tcGlsZWRIb3N0VGVtcGxhdGVDYWNoZS5zZXQodCxuKX1yZXR1cm4gbn0sdC5wcm90b3R5cGUuX2NyZWF0ZUNvbXBpbGVkVGVtcGxhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jb21waWxlZFRlbXBsYXRlQ2FjaGUuZ2V0KHQudHlwZS5yZWZlcmVuY2UpO3JldHVybiBufHwoUmkodCksbj1uZXcgY3YoITEsdC5zZWxlY3Rvcix0LnR5cGUsdCxlLGUudHJhbnNpdGl2ZU1vZHVsZS5kaXJlY3RpdmVzKSx0aGlzLl9jb21waWxlZFRlbXBsYXRlQ2FjaGUuc2V0KHQudHlwZS5yZWZlcmVuY2UsbikpLG59LHQucHJvdG90eXBlLl9hc3NlcnRDb21wb25lbnRLbm93bj1mdW5jdGlvbih0LGUpe3ZhciBuPWU/dGhpcy5fY29tcGlsZWRIb3N0VGVtcGxhdGVDYWNoZS5nZXQodCk6dGhpcy5fY29tcGlsZWRUZW1wbGF0ZUNhY2hlLmdldCh0KTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIHN0YXRlOiBDb21waWxlZCB2aWV3IGZvciBjb21wb25lbnQgXCIrcyh0KStcIiAoaG9zdDogXCIrZStcIikgZG9lcyBub3QgZXhpc3QhXCIpO3JldHVybiBufSx0LnByb3RvdHlwZS5fYXNzZXJ0RGlyZWN0aXZlV3JhcHBlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb21waWxlZERpcmVjdGl2ZVdyYXBwZXJDYWNoZS5nZXQodCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBzdGF0ZTogRGlyZWN0aXZlIHdyYXBwZXIgZm9yIFwiK3ModCkrXCIgaGFzIG5vdCBiZWVuIGNvbXBpbGVkIVwiKTtyZXR1cm4gZX0sdC5wcm90b3R5cGUuX2NvbXBpbGVEaXJlY3RpdmVXcmFwcGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzLl9kaXJlY3RpdmVXcmFwcGVyQ29tcGlsZXIuY29tcGlsZSh0KSxpPXIuc3RhdGVtZW50cztuPXRoaXMuX2NvbXBpbGVyQ29uZmlnLnVzZUppdD9raShcIi9cIitiKGUudHlwZSkrXCIvXCIrYih0LnR5cGUpK1wiL3dyYXBwZXIubmdmYWN0b3J5LmpzXCIsaSxyLmRpcldyYXBwZXJDbGFzc1Zhcik6UGkoaSxyLmRpcldyYXBwZXJDbGFzc1ZhciksdGhpcy5fY29tcGlsZWREaXJlY3RpdmVXcmFwcGVyQ2FjaGUuc2V0KHQudHlwZS5yZWZlcmVuY2Usbil9LHQucHJvdG90eXBlLl9jb21waWxlVGVtcGxhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdC5pc0NvbXBpbGVkKXt2YXIgbj10LmNvbXBNZXRhLHI9bmV3IE1hcCxpPXRoaXMuX3N0eWxlQ29tcGlsZXIuY29tcGlsZUNvbXBvbmVudChuKTtpLmV4dGVybmFsU3R5bGVzaGVldHMuZm9yRWFjaChmdW5jdGlvbih0KXtyLnNldCh0Lm1ldGEubW9kdWxlVXJsLHQpfSksdGhpcy5fcmVzb2x2ZVN0eWxlc0NvbXBpbGVSZXN1bHQoaS5jb21wb25lbnRTdHlsZXNoZWV0LHIpO3ZhciBvPXRoaXMuX2FuaW1hdGlvblBhcnNlci5wYXJzZUNvbXBvbmVudChuKSxzPXQuZGlyZWN0aXZlcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUuX21ldGFkYXRhUmVzb2x2ZXIuZ2V0RGlyZWN0aXZlU3VtbWFyeSh0LnJlZmVyZW5jZSl9KSxhPXQubmdNb2R1bGUudHJhbnNpdGl2ZU1vZHVsZS5waXBlcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUuX21ldGFkYXRhUmVzb2x2ZXIuZ2V0UGlwZVN1bW1hcnkodC5yZWZlcmVuY2UpfSksdT10aGlzLl90ZW1wbGF0ZVBhcnNlci5wYXJzZShuLG4udGVtcGxhdGUudGVtcGxhdGUscyxhLHQubmdNb2R1bGUuc2NoZW1hcyxiKG4udHlwZSkpLGM9dGhpcy5fYW5pbWF0aW9uQ29tcGlsZXIuY29tcGlsZShiKG4udHlwZSksbyksbD10aGlzLl92aWV3Q29tcGlsZXIuY29tcGlsZUNvbXBvbmVudChuLHUsR2UoaS5jb21wb25lbnRTdHlsZXNoZWV0LnN0eWxlc1ZhciksYSxjKTtsLmRlcGVuZGVuY2llcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuO2lmKHQgaW5zdGFuY2VvZiBxeSl7dmFyIHI9dDtuPWUuX2Fzc2VydENvbXBvbmVudEtub3duKHIuY29tcC5yZWZlcmVuY2UsITEpLHIucGxhY2Vob2xkZXIucmVmZXJlbmNlPW4ucHJveHlWaWV3Q2xhc3N9ZWxzZSBpZih0IGluc3RhbmNlb2Ygenkpe3ZhciBpPXQ7bj1lLl9hc3NlcnRDb21wb25lbnRLbm93bihpLmNvbXAucmVmZXJlbmNlLCEwKSxpLnBsYWNlaG9sZGVyLnJlZmVyZW5jZT1uLnByb3h5Q29tcG9uZW50RmFjdG9yeX1lbHNlIGlmKHQgaW5zdGFuY2VvZiBXeSl7dmFyIG89dDtvLnBsYWNlaG9sZGVyLnJlZmVyZW5jZT1lLl9hc3NlcnREaXJlY3RpdmVXcmFwcGVyKG8uZGlyLnJlZmVyZW5jZSl9fSk7dmFyIHAsaD0oZj1pLmNvbXBvbmVudFN0eWxlc2hlZXQuc3RhdGVtZW50cykuY29uY2F0LmFwcGx5KGYsYy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhdGVtZW50c30pKS5jb25jYXQobC5zdGF0ZW1lbnRzKTtwPXRoaXMuX2NvbXBpbGVyQ29uZmlnLnVzZUppdD9raShcIi9cIitiKHQubmdNb2R1bGUudHlwZSkrXCIvXCIrYih0LmNvbXBUeXBlKStcIi9cIisodC5pc0hvc3Q/XCJob3N0XCI6XCJjb21wb25lbnRcIikrXCIubmdmYWN0b3J5LmpzXCIsaCxsLnZpZXdDbGFzc1Zhcik6UGkoaCxsLnZpZXdDbGFzc1ZhciksdC5jb21waWxlZChwKTt2YXIgZn19LHQucHJvdG90eXBlLl9yZXNvbHZlU3R5bGVzQ29tcGlsZVJlc3VsdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dC5kZXBlbmRlbmNpZXMuZm9yRWFjaChmdW5jdGlvbih0LHIpe3ZhciBpPWUuZ2V0KHQubW9kdWxlVXJsKSxvPW4uX3Jlc29sdmVBbmRFdmFsU3R5bGVzQ29tcGlsZVJlc3VsdChpLGUpO3QudmFsdWVQbGFjZWhvbGRlci5yZWZlcmVuY2U9b30pfSx0LnByb3RvdHlwZS5fcmVzb2x2ZUFuZEV2YWxTdHlsZXNDb21waWxlUmVzdWx0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3Jlc29sdmVTdHlsZXNDb21waWxlUmVzdWx0KHQsZSksdGhpcy5fY29tcGlsZXJDb25maWcudXNlSml0P2tpKFwiL1wiK3QubWV0YS5tb2R1bGVVcmwrXCIubmdzdHlsZS5qc1wiLHQuc3RhdGVtZW50cyx0LnN0eWxlc1Zhcik6UGkodC5zdGF0ZW1lbnRzLHQuc3R5bGVzVmFyKX0sdD1zdihbTSgpLGF2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbZS5JbmplY3RvcixmZCx4cCxUeSxobSx3ZCxZZixScCxpaF0pXSx0KX0oKSxjdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxuLHIsaSxvLGEpe3RoaXMuaXNIb3N0PXQsdGhpcy5jb21wVHlwZT1yLHRoaXMuY29tcE1ldGE9aSx0aGlzLm5nTW9kdWxlPW8sdGhpcy5kaXJlY3RpdmVzPWEsdGhpcy5fdmlld0NsYXNzPW51bGwsdGhpcy5pc0NvbXBpbGVkPSExO3ZhciB1PXRoaXM7dGhpcy5wcm94eVZpZXdDbGFzcz1mdW5jdGlvbigpe2lmKCF1Ll92aWV3Q2xhc3MpdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBzdGF0ZTogQ29tcGlsZWRUZW1wbGF0ZSBmb3IgXCIrcyh1LmNvbXBUeXBlKStcIiBpcyBub3QgY29tcGlsZWQgeWV0IVwiKTtyZXR1cm4gdS5fdmlld0NsYXNzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdGhpcy5wcm94eUNvbXBvbmVudEZhY3Rvcnk9dD9uZXcgZS5Db21wb25lbnRGYWN0b3J5KG4sdGhpcy5wcm94eVZpZXdDbGFzcyxyLnJlZmVyZW5jZSk6bnVsbH1yZXR1cm4gdC5wcm90b3R5cGUuY29tcGlsZWQ9ZnVuY3Rpb24odCl7dGhpcy5fdmlld0NsYXNzPXQsdGhpcy5wcm94eVZpZXdDbGFzcy5wcm90b3R5cGU9dC5wcm90b3R5cGUsdGhpcy5pc0NvbXBpbGVkPSEwfSx0fSgpLGx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2RlbGVnYXRlPXQsdGhpcy5fbmdNb2R1bGU9ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiX2luamVjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5pbmplY3Rvcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb21waWxlTW9kdWxlU3luYz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuY29tcGlsZU1vZHVsZVN5bmModCl9LHQucHJvdG90eXBlLmNvbXBpbGVNb2R1bGVBc3luYz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuY29tcGlsZU1vZHVsZUFzeW5jKHQpfSx0LnByb3RvdHlwZS5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmNvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzU3luYyh0KX0sdC5wcm90b3R5cGUuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYyh0KX0sdC5wcm90b3R5cGUuZ2V0TmdDb250ZW50U2VsZWN0b3JzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5nZXROZ0NvbnRlbnRTZWxlY3RvcnModCl9LHQucHJvdG90eXBlLmNsZWFyQ2FjaGU9ZnVuY3Rpb24oKXt0aGlzLl9kZWxlZ2F0ZS5jbGVhckNhY2hlKCl9LHQucHJvdG90eXBlLmNsZWFyQ2FjaGVGb3I9ZnVuY3Rpb24odCl7dGhpcy5fZGVsZWdhdGUuY2xlYXJDYWNoZUZvcih0KX0sdH0oKSxwdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuX2h0bWxQYXJzZXI9dCx0aGlzLl9pbXBsaWNpdFRhZ3M9ZSx0aGlzLl9pbXBsaWNpdEF0dHJzPW4sdGhpcy5fbWVzc2FnZXM9W119cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZUZyb21UZW1wbGF0ZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5faHRtbFBhcnNlci5wYXJzZSh0LGUsITAsbik7aWYoci5lcnJvcnMubGVuZ3RoKXJldHVybiByLmVycm9yczt2YXIgaT1wdChyLnJvb3ROb2RlcyxuLHRoaXMuX2ltcGxpY2l0VGFncyx0aGlzLl9pbXBsaWNpdEF0dHJzKTtpZihpLmVycm9ycy5sZW5ndGgpcmV0dXJuIGkuZXJyb3JzOyhvPXRoaXMuX21lc3NhZ2VzKS5wdXNoLmFwcGx5KG8saS5tZXNzYWdlcyk7dmFyIG99LHQucHJvdG90eXBlLmdldE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VzfSx0LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdC53cml0ZSh0aGlzLl9tZXNzYWdlcyl9LHR9KCksaHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMuaG9zdD10LHRoaXMuc3RhdGljU3ltYm9sUmVzb2x2ZXI9ZSx0aGlzLm1lc3NhZ2VCdW5kbGU9bix0aGlzLm1ldGFkYXRhUmVzb2x2ZXI9cn1yZXR1cm4gdC5wcm90b3R5cGUuZXh0cmFjdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49bWkodGhpcy5zdGF0aWNTeW1ib2xSZXNvbHZlcix0LHRoaXMuaG9zdCkscj1kaShuLHRoaXMuaG9zdCx0aGlzLm1ldGFkYXRhUmVzb2x2ZXIpLGk9ci5maWxlcyxvPXIubmdNb2R1bGVzO3JldHVybiBQcm9taXNlLmFsbChvLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZS5tZXRhZGF0YVJlc29sdmVyLmxvYWROZ01vZHVsZURpcmVjdGl2ZUFuZFBpcGVNZXRhZGF0YSh0LnR5cGUucmVmZXJlbmNlLCExKX0pKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ9W107aWYoaS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPVtdO24uZGlyZWN0aXZlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWUubWV0YWRhdGFSZXNvbHZlci5nZXREaXJlY3RpdmVNZXRhZGF0YSh0KTtuJiZuLmlzQ29tcG9uZW50JiZyLnB1c2gobil9KSxyLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIGk9ci50ZW1wbGF0ZS50ZW1wbGF0ZSxvPU5hLmZyb21BcnJheShyLnRlbXBsYXRlLmludGVycG9sYXRpb24pO3QucHVzaC5hcHBseSh0LGUubWVzc2FnZUJ1bmRsZS51cGRhdGVGcm9tVGVtcGxhdGUoaSxuLnNyY1VybCxvKSl9KX0pLHQubGVuZ3RoKXRocm93IG5ldyBFcnJvcih0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC50b1N0cmluZygpfSkuam9pbihcIlxcblwiKSk7cmV0dXJuIGUubWVzc2FnZUJ1bmRsZX0pfSx0LmNyZWF0ZT1mdW5jdGlvbihuKXt2YXIgcj1uZXcgZGwobmV3IHBsKSxpPWplKCksbz1uZXcgdG8scz1uZXcgWW0obixvKSxhPW5ldyBRbShuLG8scyksdT1uZXcgcW0oYSk7Rm0uaW5zdGFsbCh1KTt2YXIgYz1uZXcgUnAoe2dlbkRlYnVnSW5mbzohMSxkZWZhdWx0RW5jYXBzdWxhdGlvbjplLlZpZXdFbmNhcHN1bGF0aW9uLkVtdWxhdGVkLGxvZ0JpbmRpbmdVcGRhdGU6ITEsdXNlSml0OiExfSksbD1uZXcgeWgoe2dldDpmdW5jdGlvbih0KXtyZXR1cm4gbi5sb2FkUmVzb3VyY2UodCl9fSxpLHIsYykscD1uZXcgR2QsaD1uZXcgZmQobmV3IG5kKHUpLG5ldyBfaCh1KSxuZXcgb2QodSkscyxwLGwsdSksZj1uZXcgcHYocixbXSx7fSksZD1uZXcgdChuLGEsZixoKTtyZXR1cm57ZXh0cmFjdG9yOmQsc3RhdGljUmVmbGVjdG9yOnV9fSx0fSgpLGZ2PXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6cjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4scik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkoaT10W2FdKSYmKHM9KG88Mz9pKHMpOm8+Mz9pKGUsbixzKTppKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9LGR2PXRoaXMmJnRoaXMuX19tZXRhZGF0YXx8ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGUpfSx5dj17Z2V0OmZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcIk5vIFJlc291cmNlTG9hZGVyIGltcGxlbWVudGF0aW9uIGhhcyBiZWVuIHByb3ZpZGVkLiBDYW4ndCByZWFkIHRoZSB1cmwgXFxcIlwiK3QrJ1wiJyl9fSxtdj1uZXcgZS5PcGFxdWVUb2tlbihcIkh0bWxQYXJzZXJcIiksdnY9W3twcm92aWRlOlRvLHVzZVZhbHVlOk9vfSx7cHJvdmlkZTpjbyx1c2VFeGlzdGluZzpUb30se3Byb3ZpZGU6c2gsdXNlVmFsdWU6eXZ9LHVkLFBvLGZ1LHd1LHtwcm92aWRlOm12LHVzZUNsYXNzOnBsfSx7cHJvdmlkZTpkbCx1c2VGYWN0b3J5OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IGRsKHQsZSxuKX0sZGVwczpbbXYsW25ldyBlLk9wdGlvbmFsLG5ldyBlLkluamVjdChlLlRSQU5TTEFUSU9OUyldLFtuZXcgZS5PcHRpb25hbCxuZXcgZS5JbmplY3QoZS5UUkFOU0xBVElPTlNfRk9STUFUKV1dfSx7cHJvdmlkZTpwbCx1c2VFeGlzdGluZzpkbH0seHAseWgsZmQsY2gsVHksaG0sd2QsWWYse3Byb3ZpZGU6UnAsdXNlVmFsdWU6bmV3IFJwfSx1dix7cHJvdmlkZTplLkNvbXBpbGVyLHVzZUV4aXN0aW5nOnV2fSxHZCx7cHJvdmlkZTpNbCx1c2VFeGlzdGluZzpHZH0sbGgsX2gsb2QsbmQsaWhdLGd2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9kZWZhdWx0T3B0aW9ucz1be3VzZURlYnVnOmUuaXNEZXZNb2RlKCksdXNlSml0OiEwLGRlZmF1bHRFbmNhcHN1bGF0aW9uOmUuVmlld0VuY2Fwc3VsYXRpb24uRW11bGF0ZWR9XS5jb25jYXQodCl9cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZUNvbXBpbGVyPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PVtdKTt2YXIgbj1OaSh0aGlzLl9kZWZhdWx0T3B0aW9ucy5jb25jYXQodCkpLHI9ZS5SZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbdnYse3Byb3ZpZGU6UnAsdXNlRmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgUnAoe2dlbkRlYnVnSW5mbzpuLnVzZURlYnVnLHVzZUppdDpuLnVzZUppdCxkZWZhdWx0RW5jYXBzdWxhdGlvbjpuLmRlZmF1bHRFbmNhcHN1bGF0aW9uLGxvZ0JpbmRpbmdVcGRhdGU6bi51c2VEZWJ1Z30pfSxkZXBzOltdfSxuLnByb3ZpZGVyc10pO3JldHVybiByLmdldChlLkNvbXBpbGVyKX0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpBcnJheSxkZWNvcmF0b3JzOlt7dHlwZTplLkluamVjdCxhcmdzOltlLkNPTVBJTEVSX09QVElPTlNdfV19XX0sdD1mdihbTSgpLGR2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKV0sdCl9KCksX3Y9ZS5jcmVhdGVQbGF0Zm9ybUZhY3RvcnkoZS5wbGF0Zm9ybUNvcmUsXCJjb3JlRHluYW1pY1wiLFt7cHJvdmlkZTplLkNPTVBJTEVSX09QVElPTlMsdXNlVmFsdWU6e30sbXVsdGk6ITB9LHtwcm92aWRlOmUuQ29tcGlsZXJGYWN0b3J5LHVzZUNsYXNzOmd2fSx7cHJvdmlkZTplLlBMQVRGT1JNX0lOSVRJQUxJWkVSLHVzZVZhbHVlOklpLG11bHRpOiEwfV0pLGJ2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZmlsZU5hbWVUb01vZHVsZU5hbWU9ZnVuY3Rpb24odCxlKXt9LHR9KCk7dC5WRVJTSU9OPVZpLHQuVGV4dEFzdD1MaSx0LkJvdW5kVGV4dEFzdD1GaSx0LkF0dHJBc3Q9VWksdC5Cb3VuZEVsZW1lbnRQcm9wZXJ0eUFzdD1IaSx0LkJvdW5kRXZlbnRBc3Q9QmksdC5SZWZlcmVuY2VBc3Q9cWksdC5WYXJpYWJsZUFzdD16aSx0LkVsZW1lbnRBc3Q9V2ksdC5FbWJlZGRlZFRlbXBsYXRlQXN0PUdpLHQuQm91bmREaXJlY3RpdmVQcm9wZXJ0eUFzdD1YaSx0LkRpcmVjdGl2ZUFzdD0kaSx0LlByb3ZpZGVyQXN0PVFpLHQuUHJvdmlkZXJBc3RUeXBlPVlpLHQuTmdDb250ZW50QXN0PUtpLHQuUHJvcGVydHlCaW5kaW5nVHlwZT1aaSx0LnRlbXBsYXRlVmlzaXRBbGw9bix0LlRFTVBMQVRFX1RSQU5TRk9STVM9Q3AsdC5Db21waWxlckNvbmZpZz1ScCx0LlJlbmRlclR5cGVzPUlwLFxudC5Db21waWxlQW5pbWF0aW9uRW50cnlNZXRhZGF0YT1ocyx0LkNvbXBpbGVBbmltYXRpb25TdGF0ZU1ldGFkYXRhPWZzLHQuQ29tcGlsZUFuaW1hdGlvblN0YXRlRGVjbGFyYXRpb25NZXRhZGF0YT1kcyx0LkNvbXBpbGVBbmltYXRpb25TdGF0ZVRyYW5zaXRpb25NZXRhZGF0YT15cyx0LkNvbXBpbGVBbmltYXRpb25NZXRhZGF0YT1tcyx0LkNvbXBpbGVBbmltYXRpb25LZXlmcmFtZXNTZXF1ZW5jZU1ldGFkYXRhPXZzLHQuQ29tcGlsZUFuaW1hdGlvblN0eWxlTWV0YWRhdGE9Z3MsdC5Db21waWxlQW5pbWF0aW9uQW5pbWF0ZU1ldGFkYXRhPV9zLHQuQ29tcGlsZUFuaW1hdGlvbldpdGhTdGVwc01ldGFkYXRhPWJzLHQuQ29tcGlsZUFuaW1hdGlvblNlcXVlbmNlTWV0YWRhdGE9d3MsdC5Db21waWxlQW5pbWF0aW9uR3JvdXBNZXRhZGF0YT1Dcyx0LmlkZW50aWZpZXJOYW1lPWIsdC5pZGVudGlmaWVyTW9kdWxlVXJsPXcsdC5Db21waWxlU3VtbWFyeUtpbmQ9U3MsdC50b2tlbk5hbWU9Qyx0LnRva2VuUmVmZXJlbmNlPUUsdC5Db21waWxlU3R5bGVzaGVldE1ldGFkYXRhPXhzLHQuQ29tcGlsZVRlbXBsYXRlTWV0YWRhdGE9UHMsdC5Db21waWxlRGlyZWN0aXZlTWV0YWRhdGE9T3MsdC5jcmVhdGVIb3N0Q29tcG9uZW50TWV0YT1TLHQuQ29tcGlsZVBpcGVNZXRhZGF0YT1Ucyx0LkNvbXBpbGVOZ01vZHVsZU1ldGFkYXRhPUFzLHQuVHJhbnNpdGl2ZUNvbXBpbGVOZ01vZHVsZU1ldGFkYXRhPU1zLHQuUHJvdmlkZXJNZXRhPWtzLHQuY3JlYXRlQW90Q29tcGlsZXI9eGksdC5Bb3RDb21waWxlcj1MbSx0LmFuYWx5emVOZ01vZHVsZXM9ZmksdC5hbmFseXplQW5kVmFsaWRhdGVOZ01vZHVsZXM9ZGksdC5leHRyYWN0UHJvZ3JhbVN5bWJvbHM9bWksdC5TdGF0aWNSZWZsZWN0b3I9cW0sdC5TdGF0aWNBbmREeW5hbWljUmVmbGVjdGlvbkNhcGFiaWxpdGllcz1GbSx0LlN0YXRpY1N5bWJvbD1KaSx0LlN0YXRpY1N5bWJvbENhY2hlPXRvLHQuUmVzb2x2ZWRTdGF0aWNTeW1ib2w9WG0sdC5TdGF0aWNTeW1ib2xSZXNvbHZlcj1RbSx0LkFvdFN1bW1hcnlSZXNvbHZlcj1ZbSx0LlN1bW1hcnlSZXNvbHZlcj11ZCx0LkppdENvbXBpbGVyPXV2LHQuQ09NUElMRVJfUFJPVklERVJTPXZ2LHQuSml0Q29tcGlsZXJGYWN0b3J5PWd2LHQucGxhdGZvcm1Db3JlRHluYW1pYz1fdix0LmNyZWF0ZVVybFJlc29sdmVyV2l0aG91dFBhY2thZ2VQcmVmaXg9RGUsdC5jcmVhdGVPZmZsaW5lQ29tcGlsZVVybFJlc29sdmVyPWplLHQuREVGQVVMVF9QQUNLQUdFX1VSTF9QUk9WSURFUj1jaCx0LlVybFJlc29sdmVyPWxoLHQuZ2V0VXJsU2NoZW1lPVZlLHQuUmVzb3VyY2VMb2FkZXI9c2gsdC5EaXJlY3RpdmVSZXNvbHZlcj1faCx0LlBpcGVSZXNvbHZlcj1vZCx0Lk5nTW9kdWxlUmVzb2x2ZXI9bmQsdC5ERUZBVUxUX0lOVEVSUE9MQVRJT05fQ09ORklHPURhLHQuSW50ZXJwb2xhdGlvbkNvbmZpZz1OYSx0LkVsZW1lbnRTY2hlbWFSZWdpc3RyeT1NbCx0LkV4dHJhY3Rvcj1odix0LkkxOE5IdG1sUGFyc2VyPWRsLHQuTWVzc2FnZUJ1bmRsZT1wdix0LlNlcmlhbGl6ZXI9RWMsdC5YbGlmZj1IYyx0LlhtYj1LYyx0Llh0Yj1vbCx0LkRpcmVjdGl2ZU5vcm1hbGl6ZXI9eWgsdC5Ub2tlblR5cGU9cHUsdC5MZXhlcj1mdSx0LlRva2VuPWR1LHQuRU9GPXl1LHQuaXNJZGVudGlmaWVyPUgsdC5pc1F1b3RlPVcsdC5TcGxpdEludGVycG9sYXRpb249X3UsdC5UZW1wbGF0ZUJpbmRpbmdQYXJzZVJlc3VsdD1idSx0LlBhcnNlcj13dSx0Ll9QYXJzZUFTVD1DdSx0LkVSUk9SX0NPTExFQ1RPUl9UT0tFTj1oZCx0LkNvbXBpbGVNZXRhZGF0YVJlc29sdmVyPWZkLHQuY29tcG9uZW50TW9kdWxlVXJsPXpuLHQuUGFyc2VUcmVlUmVzdWx0PVd1LHQuVHJlZUVycm9yPXp1LHQuSHRtbFBhcnNlcj1wbCx0Lk5nTW9kdWxlQ29tcGlsZXI9d2QsdC5EaXJlY3RpdmVXcmFwcGVyQ29tcGlsZXI9WWYsdC5JbXBvcnRSZXNvbHZlcj1idix0LmRlYnVnT3V0cHV0QXN0QXNUeXBlU2NyaXB0PVluLHQuVHlwZVNjcmlwdEVtaXR0ZXI9TmQsdC5QYXJzZUxvY2F0aW9uPVN1LHQuUGFyc2VTb3VyY2VGaWxlPXh1LHQuUGFyc2VTb3VyY2VTcGFuPVB1LHQuUGFyc2VFcnJvckxldmVsPU91LHQuUGFyc2VFcnJvcj1UdSx0LkRvbUVsZW1lbnRTY2hlbWFSZWdpc3RyeT1HZCx0LkNzc1NlbGVjdG9yPVpvLHQuU2VsZWN0b3JNYXRjaGVyPUpvLHQuU2VsZWN0b3JMaXN0Q29udGV4dD10cyx0LlNlbGVjdG9yQ29udGV4dD1lcyx0LlN0eWxlc0NvbXBpbGVEZXBlbmRlbmN5PXh5LHQuU3R5bGVzQ29tcGlsZVJlc3VsdD1QeSx0LkNvbXBpbGVkU3R5bGVzaGVldD1PeSx0LlN0eWxlQ29tcGlsZXI9VHksdC5UZW1wbGF0ZVBhcnNlRXJyb3I9RXAsdC5UZW1wbGF0ZVBhcnNlUmVzdWx0PVNwLHQuVGVtcGxhdGVQYXJzZXI9eHAsdC5zcGxpdENsYXNzZXM9bWUsdC5jcmVhdGVFbGVtZW50Q3NzU2VsZWN0b3I9dmUsdC5yZW1vdmVTdW1tYXJ5RHVwbGljYXRlcz1fZSx0LlZpZXdDb21waWxlcj1obSx0LkFuaW1hdGlvblBhcnNlcj1paCx0LlN5bnRheEVycm9yPWNzfSksZnVuY3Rpb24oaSxvKXtcIm9iamVjdFwiPT10eXBlb2YgbiYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHI/byhuLGUoXCJAYW5ndWxhci9jb21waWxlclwiKSxlKFwiQGFuZ3VsYXIvY29yZVwiKSxlKFwiQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3NlclwiKSk6dC5yZWdpc3RlckR5bmFtaWMoXCJkXCIsW1wiYlwiLFwiY1wiLFwiZVwiXSwhMSxmdW5jdGlvbih0LGUsbil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9vLmNhbGwoZSxlLHQoXCJiXCIpLHQoXCJjXCIpLHQoXCJlXCIpKTpvfSl9KHRoaXMsZnVuY3Rpb24odCxlLG4scil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGksbz1yLl9fcGxhdGZvcm1fYnJvd3Nlcl9wcml2YXRlX18uSU5URVJOQUxfQlJPV1NFUl9QTEFURk9STV9QUk9WSURFUlMscz10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGUsbixyPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHQscil7ZT10LG49cn0pLGk9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBpLm9wZW4oXCJHRVRcIix0LCEwKSxpLnJlc3BvbnNlVHlwZT1cInRleHRcIixpLm9ubG9hZD1mdW5jdGlvbigpe3ZhciByPWkucmVzcG9uc2V8fGkucmVzcG9uc2VUZXh0LG89MTIyMz09PWkuc3RhdHVzPzIwNDppLnN0YXR1czswPT09byYmKG89cj8yMDA6MCksMjAwPD1vJiZvPD0zMDA/ZShyKTpuKFwiRmFpbGVkIHRvIGxvYWQgXCIrdCl9LGkub25lcnJvcj1mdW5jdGlvbigpe24oXCJGYWlsZWQgdG8gbG9hZCBcIit0KX0saS5zZW5kKCkscn0sZS5kZWNvcmF0b3JzPVt7dHlwZTpuLkluamVjdGFibGV9XSxlLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW119LGV9KGUuUmVzb3VyY2VMb2FkZXIpLHU9W28se3Byb3ZpZGU6bi5DT01QSUxFUl9PUFRJT05TLHVzZVZhbHVlOntwcm92aWRlcnM6W3twcm92aWRlOmUuUmVzb3VyY2VMb2FkZXIsdXNlQ2xhc3M6YX1dfSxtdWx0aTohMH1dO2k9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9cInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZT9zZWxmOmdsb2JhbDp3aW5kb3c7dmFyIGM9aTtjLmFzc2VydD1mdW5jdGlvbih0KXt9O3ZhciBsPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpZih0LmNhbGwodGhpcyksdGhpcy5fY2FjaGU9Yy4kdGVtcGxhdGVDYWNoZSxudWxsPT10aGlzLl9jYWNoZSl0aHJvdyBuZXcgRXJyb3IoXCJDYWNoZWRSZXNvdXJjZUxvYWRlcjogVGVtcGxhdGUgY2FjaGUgd2FzIG5vdCBmb3VuZCBpbiAkdGVtcGxhdGVDYWNoZS5cIil9cmV0dXJuIGwoZSx0KSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhY2hlLmhhc093blByb3BlcnR5KHQpP1Byb21pc2UucmVzb2x2ZSh0aGlzLl9jYWNoZVt0XSk6UHJvbWlzZS5yZWplY3QoXCJDYWNoZWRSZXNvdXJjZUxvYWRlcjogRGlkIG5vdCBmaW5kIGNhY2hlZCB0ZW1wbGF0ZSBmb3IgXCIrdCl9LGV9KGUuUmVzb3VyY2VMb2FkZXIpLGg9e0lOVEVSTkFMX0JST1dTRVJfRFlOQU1JQ19QTEFURk9STV9QUk9WSURFUlM6dSxSZXNvdXJjZUxvYWRlckltcGw6YX0sZj1uZXcgbi5WZXJzaW9uKFwiMi40LjhcIiksZD1be3Byb3ZpZGU6ZS5SZXNvdXJjZUxvYWRlcix1c2VDbGFzczpwfV0seT1uLmNyZWF0ZVBsYXRmb3JtRmFjdG9yeShlLnBsYXRmb3JtQ29yZUR5bmFtaWMsXCJicm93c2VyRHluYW1pY1wiLHUpO3QuUkVTT1VSQ0VfQ0FDSEVfUFJPVklERVI9ZCx0LnBsYXRmb3JtQnJvd3NlckR5bmFtaWM9eSx0LlZFUlNJT049Zix0Ll9fcGxhdGZvcm1fYnJvd3Nlcl9keW5hbWljX3ByaXZhdGVfXz1ofSksdC5yZWdpc3RlckR5bmFtaWMoXCJmXCIsW10sITEsZnVuY3Rpb24oaSxvLHMpe3ZhciBhPXQucmVnaXN0cnkuZ2V0KFwiQEBnbG9iYWwtaGVscGVyc1wiKS5wcmVwYXJlR2xvYmFsKHMuaWQsbnVsbCxudWxsKTtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC5qUXVlcnksbz10LlZlbDtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgaSl7dmFyIGk7aT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlPyQ9ZShcImpxdWVyeVwiKTokfWkuZWFzaW5nLmpzd2luZz1pLmVhc2luZy5zd2luZyxpLmV4dGVuZChpLmVhc2luZyx7ZGVmOlwiZWFzZU91dFF1YWRcIixzd2luZzpmdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiBpLmVhc2luZ1tpLmVhc2luZy5kZWZdKHQsZSxuLHIsbyl9LGVhc2VJblF1YWQ6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gciooZS89aSkqZStufSxlYXNlT3V0UXVhZDpmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybi1yKihlLz1pKSooZS0yKStufSxlYXNlSW5PdXRRdWFkOmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuKGUvPWkvMik8MT9yLzIqZSplK246LXIvMiooLS1lKihlLTIpLTEpK259LGVhc2VJbkN1YmljOmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIHIqKGUvPWkpKmUqZStufSxlYXNlT3V0Q3ViaWM6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gciooKGU9ZS9pLTEpKmUqZSsxKStufSxlYXNlSW5PdXRDdWJpYzpmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybihlLz1pLzIpPDE/ci8yKmUqZSplK246ci8yKigoZS09MikqZSplKzIpK259LGVhc2VJblF1YXJ0OmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIHIqKGUvPWkpKmUqZSplK259LGVhc2VPdXRRdWFydDpmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybi1yKigoZT1lL2ktMSkqZSplKmUtMSkrbn0sZWFzZUluT3V0UXVhcnQ6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4oZS89aS8yKTwxP3IvMiplKmUqZSplK246LXIvMiooKGUtPTIpKmUqZSplLTIpK259LGVhc2VJblF1aW50OmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIHIqKGUvPWkpKmUqZSplKmUrbn0sZWFzZU91dFF1aW50OmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIHIqKChlPWUvaS0xKSplKmUqZSplKzEpK259LGVhc2VJbk91dFF1aW50OmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuKGUvPWkvMik8MT9yLzIqZSplKmUqZSplK246ci8yKigoZS09MikqZSplKmUqZSsyKStufSxlYXNlSW5TaW5lOmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuLXIqTWF0aC5jb3MoZS9pKihNYXRoLlBJLzIpKStyK259LGVhc2VPdXRTaW5lOmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIHIqTWF0aC5zaW4oZS9pKihNYXRoLlBJLzIpKStufSxlYXNlSW5PdXRTaW5lOmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuLXIvMiooTWF0aC5jb3MoTWF0aC5QSSplL2kpLTEpK259LGVhc2VJbkV4cG86ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gMD09ZT9uOnIqTWF0aC5wb3coMiwxMCooZS9pLTEpKStufSxlYXNlT3V0RXhwbzpmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybiBlPT1pP24rcjpyKigtTWF0aC5wb3coMiwtMTAqZS9pKSsxKStufSxlYXNlSW5PdXRFeHBvOmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIDA9PWU/bjplPT1pP24rcjooZS89aS8yKTwxP3IvMipNYXRoLnBvdygyLDEwKihlLTEpKStuOnIvMiooLU1hdGgucG93KDIsLTEwKi0tZSkrMikrbn0sZWFzZUluQ2lyYzpmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybi1yKihNYXRoLnNxcnQoMS0oZS89aSkqZSktMSkrbn0sZWFzZU91dENpcmM6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gcipNYXRoLnNxcnQoMS0oZT1lL2ktMSkqZSkrbn0sZWFzZUluT3V0Q2lyYzpmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybihlLz1pLzIpPDE/LXIvMiooTWF0aC5zcXJ0KDEtZSplKS0xKStuOnIvMiooTWF0aC5zcXJ0KDEtKGUtPTIpKmUpKzEpK259LGVhc2VJbkVsYXN0aWM6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbz0xLjcwMTU4LHM9MCxhPXI7aWYoMD09ZSlyZXR1cm4gbjtpZigxPT0oZS89aSkpcmV0dXJuIG4rcjtpZihzfHwocz0uMyppKSxhPE1hdGguYWJzKHIpKXthPXI7dmFyIG89cy80fWVsc2UgdmFyIG89cy8oMipNYXRoLlBJKSpNYXRoLmFzaW4oci9hKTtyZXR1cm4tKGEqTWF0aC5wb3coMiwxMCooZS09MSkpKk1hdGguc2luKChlKmktbykqKDIqTWF0aC5QSSkvcykpK259LGVhc2VPdXRFbGFzdGljOmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89MS43MDE1OCxzPTAsYT1yO2lmKDA9PWUpcmV0dXJuIG47aWYoMT09KGUvPWkpKXJldHVybiBuK3I7aWYoc3x8KHM9LjMqaSksYTxNYXRoLmFicyhyKSl7YT1yO3ZhciBvPXMvNH1lbHNlIHZhciBvPXMvKDIqTWF0aC5QSSkqTWF0aC5hc2luKHIvYSk7cmV0dXJuIGEqTWF0aC5wb3coMiwtMTAqZSkqTWF0aC5zaW4oKGUqaS1vKSooMipNYXRoLlBJKS9zKStyK259LGVhc2VJbk91dEVsYXN0aWM6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbz0xLjcwMTU4LHM9MCxhPXI7aWYoMD09ZSlyZXR1cm4gbjtpZigyPT0oZS89aS8yKSlyZXR1cm4gbityO2lmKHN8fChzPWkqKC4zKjEuNSkpLGE8TWF0aC5hYnMocikpe2E9cjt2YXIgbz1zLzR9ZWxzZSB2YXIgbz1zLygyKk1hdGguUEkpKk1hdGguYXNpbihyL2EpO3JldHVybiBlPDE/LS41KihhKk1hdGgucG93KDIsMTAqKGUtPTEpKSpNYXRoLnNpbigoZSppLW8pKigyKk1hdGguUEkpL3MpKStuOmEqTWF0aC5wb3coMiwtMTAqKGUtPTEpKSpNYXRoLnNpbigoZSppLW8pKigyKk1hdGguUEkpL3MpKi41K3Irbn0sZWFzZUluQmFjazpmdW5jdGlvbih0LGUsbixyLGksbyl7cmV0dXJuIHZvaWQgMD09byYmKG89MS43MDE1OCksciooZS89aSkqZSooKG8rMSkqZS1vKStufSxlYXNlT3V0QmFjazpmdW5jdGlvbih0LGUsbixyLGksbyl7cmV0dXJuIHZvaWQgMD09byYmKG89MS43MDE1OCksciooKGU9ZS9pLTEpKmUqKChvKzEpKmUrbykrMSkrbn0sZWFzZUluT3V0QmFjazpmdW5jdGlvbih0LGUsbixyLGksbyl7cmV0dXJuIHZvaWQgMD09byYmKG89MS43MDE1OCksKGUvPWkvMik8MT9yLzIqKGUqZSooKChvKj0xLjUyNSkrMSkqZS1vKSkrbjpyLzIqKChlLT0yKSplKigoKG8qPTEuNTI1KSsxKSplK28pKzIpK259LGVhc2VJbkJvdW5jZTpmdW5jdGlvbih0LGUsbixyLG8pe3JldHVybiByLWkuZWFzaW5nLmVhc2VPdXRCb3VuY2UodCxvLWUsMCxyLG8pK259LGVhc2VPdXRCb3VuY2U6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4oZS89aSk8MS8yLjc1P3IqKDcuNTYyNSplKmUpK246ZTwyLzIuNzU/ciooNy41NjI1KihlLT0xLjUvMi43NSkqZSsuNzUpK246ZTwyLjUvMi43NT9yKig3LjU2MjUqKGUtPTIuMjUvMi43NSkqZSsuOTM3NSkrbjpyKig3LjU2MjUqKGUtPTIuNjI1LzIuNzUpKmUrLjk4NDM3NSkrbn0sZWFzZUluT3V0Qm91bmNlOmZ1bmN0aW9uKHQsZSxuLHIsbyl7cmV0dXJuIGU8by8yPy41KmkuZWFzaW5nLmVhc2VJbkJvdW5jZSh0LDIqZSwwLHIsbykrbjouNSppLmVhc2luZy5lYXNlT3V0Qm91bmNlKHQsMiplLW8sMCxyLG8pKy41KnIrbn19KSxpLmV4dGVuZChpLmVhc2luZyx7ZWFzZUluT3V0TWF0ZXJpYWw6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4oZS89aS8yKTwxP3IvMiplKmUrbjpyLzQqKChlLT0yKSplKmUrMikrbn19KSxpLlZlbG9jaXR5P2NvbnNvbGUubG9nKFwiVmVsb2NpdHkgaXMgYWxyZWFkeSBsb2FkZWQuIFlvdSBtYXkgYmUgbmVlZGxlc3NseSBpbXBvcnRpbmcgVmVsb2NpdHkgYWdhaW47IG5vdGUgdGhhdCBNYXRlcmlhbGl6ZSBpbmNsdWRlcyBWZWxvY2l0eS5cIik6KCFmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPXQubGVuZ3RoLHI9bi50eXBlKHQpO3JldHVyblwiZnVuY3Rpb25cIiE9PXImJiFuLmlzV2luZG93KHQpJiYoISgxIT09dC5ub2RlVHlwZXx8IWUpfHwoXCJhcnJheVwiPT09cnx8MD09PWV8fFwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPjAmJmUtMSBpbiB0KSl9aWYoIXQualF1ZXJ5KXt2YXIgbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbi5mbi5pbml0KHQsZSl9O24uaXNXaW5kb3c9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJnQ9PXQud2luZG93fSxuLnR5cGU9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/dCtcIlwiOlwib2JqZWN0XCI9PXR5cGVvZiB0fHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2lbcy5jYWxsKHQpXXx8XCJvYmplY3RcIjp0eXBlb2YgdH0sbi5pc0FycmF5PUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVyblwiYXJyYXlcIj09PW4udHlwZSh0KX0sbi5pc1BsYWluT2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlO2lmKCF0fHxcIm9iamVjdFwiIT09bi50eXBlKHQpfHx0Lm5vZGVUeXBlfHxuLmlzV2luZG93KHQpKXJldHVybiExO3RyeXtpZih0LmNvbnN0cnVjdG9yJiYhby5jYWxsKHQsXCJjb25zdHJ1Y3RvclwiKSYmIW8uY2FsbCh0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSxcImlzUHJvdG90eXBlT2ZcIikpcmV0dXJuITF9Y2F0Y2godCl7cmV0dXJuITF9Zm9yKGUgaW4gdCk7cmV0dXJuIHZvaWQgMD09PWV8fG8uY2FsbCh0LGUpfSxuLmVhY2g9ZnVuY3Rpb24odCxuLHIpe3ZhciBpLG89MCxzPXQubGVuZ3RoLGE9ZSh0KTtpZihyKXtpZihhKWZvcig7cz5vJiYoaT1uLmFwcGx5KHRbb10sciksaSE9PSExKTtvKyspO2Vsc2UgZm9yKG8gaW4gdClpZihpPW4uYXBwbHkodFtvXSxyKSxpPT09ITEpYnJlYWt9ZWxzZSBpZihhKWZvcig7cz5vJiYoaT1uLmNhbGwodFtvXSxvLHRbb10pLGkhPT0hMSk7bysrKTtlbHNlIGZvcihvIGluIHQpaWYoaT1uLmNhbGwodFtvXSxvLHRbb10pLGk9PT0hMSlicmVhaztyZXR1cm4gdH0sbi5kYXRhPWZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1pKXt2YXIgbz10W24uZXhwYW5kb10scz1vJiZyW29dO2lmKHZvaWQgMD09PWUpcmV0dXJuIHM7aWYocyYmZSBpbiBzKXJldHVybiBzW2VdfWVsc2UgaWYodm9pZCAwIT09ZSl7dmFyIG89dFtuLmV4cGFuZG9dfHwodFtuLmV4cGFuZG9dPSsrbi51dWlkKTtyZXR1cm4gcltvXT1yW29dfHx7fSxyW29dW2VdPWksaX19LG4ucmVtb3ZlRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBpPXRbbi5leHBhbmRvXSxvPWkmJnJbaV07byYmbi5lYWNoKGUsZnVuY3Rpb24odCxlKXtkZWxldGUgb1tlXX0pfSxuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciB0LGUscixpLG8scyxhPWFyZ3VtZW50c1swXXx8e30sdT0xLGM9YXJndW1lbnRzLmxlbmd0aCxsPSExO2ZvcihcImJvb2xlYW5cIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbdV18fHt9LHUrKyksXCJvYmplY3RcIiE9dHlwZW9mIGEmJlwiZnVuY3Rpb25cIiE9PW4udHlwZShhKSYmKGE9e30pLHU9PT1jJiYoYT10aGlzLHUtLSk7Yz51O3UrKylpZihudWxsIT0obz1hcmd1bWVudHNbdV0pKWZvcihpIGluIG8pdD1hW2ldLHI9b1tpXSxhIT09ciYmKGwmJnImJihuLmlzUGxhaW5PYmplY3Qocil8fChlPW4uaXNBcnJheShyKSkpPyhlPyhlPSExLHM9dCYmbi5pc0FycmF5KHQpP3Q6W10pOnM9dCYmbi5pc1BsYWluT2JqZWN0KHQpP3Q6e30sYVtpXT1uLmV4dGVuZChsLHMscikpOnZvaWQgMCE9PXImJihhW2ldPXIpKTtyZXR1cm4gYX0sbi5xdWV1ZT1mdW5jdGlvbih0LHIsaSl7ZnVuY3Rpb24gbyh0LG4pe3ZhciByPW58fFtdO3JldHVybiBudWxsIT10JiYoZShPYmplY3QodCkpPyFmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0rZS5sZW5ndGgscj0wLGk9dC5sZW5ndGg7bj5yOyl0W2krK109ZVtyKytdO2lmKG4hPT1uKWZvcig7dm9pZCAwIT09ZVtyXTspdFtpKytdPWVbcisrXTtyZXR1cm4gdC5sZW5ndGg9aSx0fShyLFwic3RyaW5nXCI9PXR5cGVvZiB0P1t0XTp0KTpbXS5wdXNoLmNhbGwocix0KSkscn1pZih0KXtyPShyfHxcImZ4XCIpK1wicXVldWVcIjt2YXIgcz1uLmRhdGEodCxyKTtyZXR1cm4gaT8oIXN8fG4uaXNBcnJheShpKT9zPW4uZGF0YSh0LHIsbyhpKSk6cy5wdXNoKGkpLHMpOnN8fFtdfX0sbi5kZXF1ZXVlPWZ1bmN0aW9uKHQsZSl7bi5lYWNoKHQubm9kZVR5cGU/W3RdOnQsZnVuY3Rpb24odCxyKXtlPWV8fFwiZnhcIjt2YXIgaT1uLnF1ZXVlKHIsZSksbz1pLnNoaWZ0KCk7XCJpbnByb2dyZXNzXCI9PT1vJiYobz1pLnNoaWZ0KCkpLG8mJihcImZ4XCI9PT1lJiZpLnVuc2hpZnQoXCJpbnByb2dyZXNzXCIpLG8uY2FsbChyLGZ1bmN0aW9uKCl7bi5kZXF1ZXVlKHIsZSl9KSl9KX0sbi5mbj1uLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbih0KXtpZih0Lm5vZGVUeXBlKXJldHVybiB0aGlzWzBdPXQsdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBET00gbm9kZS5cIil9LG9mZnNldDpmdW5jdGlvbigpe3ZhciBlPXRoaXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0P3RoaXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6e3RvcDowLGxlZnQ6MH07cmV0dXJue3RvcDplLnRvcCsodC5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuc2Nyb2xsVG9wfHwwKS0oZG9jdW1lbnQuY2xpZW50VG9wfHwwKSxsZWZ0OmUubGVmdCsodC5wYWdlWE9mZnNldHx8ZG9jdW1lbnQuc2Nyb2xsTGVmdHx8MCktKGRvY3VtZW50LmNsaWVudExlZnR8fDApfX0scG9zaXRpb246ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7Zm9yKHZhciB0PXRoaXMub2Zmc2V0UGFyZW50fHxkb2N1bWVudDt0JiZcImh0bWxcIj09PSF0Lm5vZGVUeXBlLnRvTG93ZXJDYXNlJiZcInN0YXRpY1wiPT09dC5zdHlsZS5wb3NpdGlvbjspdD10Lm9mZnNldFBhcmVudDtyZXR1cm4gdHx8ZG9jdW1lbnR9dmFyIGU9dGhpc1swXSx0PXQuYXBwbHkoZSkscj10aGlzLm9mZnNldCgpLGk9L14oPzpib2R5fGh0bWwpJC9pLnRlc3QodC5ub2RlTmFtZSk/e3RvcDowLGxlZnQ6MH06bih0KS5vZmZzZXQoKTtyZXR1cm4gci50b3AtPXBhcnNlRmxvYXQoZS5zdHlsZS5tYXJnaW5Ub3ApfHwwLHIubGVmdC09cGFyc2VGbG9hdChlLnN0eWxlLm1hcmdpbkxlZnQpfHwwLHQuc3R5bGUmJihpLnRvcCs9cGFyc2VGbG9hdCh0LnN0eWxlLmJvcmRlclRvcFdpZHRoKXx8MCxpLmxlZnQrPXBhcnNlRmxvYXQodC5zdHlsZS5ib3JkZXJMZWZ0V2lkdGgpfHwwKSx7dG9wOnIudG9wLWkudG9wLGxlZnQ6ci5sZWZ0LWkubGVmdH19fTt2YXIgcj17fTtuLmV4cGFuZG89XCJ2ZWxvY2l0eVwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLG4udXVpZD0wO2Zvcih2YXIgaT17fSxvPWkuaGFzT3duUHJvcGVydHkscz1pLnRvU3RyaW5nLGE9XCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yXCIuc3BsaXQoXCIgXCIpLHU9MDt1PGEubGVuZ3RoO3UrKylpW1wiW29iamVjdCBcIithW3VdK1wiXVwiXT1hW3VdLnRvTG93ZXJDYXNlKCk7bi5mbi5pbml0LnByb3RvdHlwZT1uLmZuLHQuVmVsb2NpdHk9e1V0aWxpdGllczpufX19KHdpbmRvdyksZnVuY3Rpb24odCl7XCJvYmplY3RcIj09dHlwZW9mIHImJlwib2JqZWN0XCI9PXR5cGVvZiByLmV4cG9ydHM/ci5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKHQpOnQoKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGU9LTEsbj10P3QubGVuZ3RoOjAscj1bXTsrK2U8bjspe3ZhciBpPXRbZV07aSYmci5wdXNoKGkpfXJldHVybiByfWZ1bmN0aW9uIHModCl7cmV0dXJuIG0uaXNXcmFwcGVkKHQpP3Q9W10uc2xpY2UuY2FsbCh0KTptLmlzTm9kZSh0KSYmKHQ9W3RdKSx0fWZ1bmN0aW9uIGEodCl7dmFyIGU9Zi5kYXRhKHQsXCJ2ZWxvY2l0eVwiKTtyZXR1cm4gbnVsbD09PWU/cjplfWZ1bmN0aW9uIHUodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnJvdW5kKGUqdCkqKDEvdCl9fWZ1bmN0aW9uIGModCxuLHIsaSl7ZnVuY3Rpb24gbyh0LGUpe3JldHVybiAxLTMqZSszKnR9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiAzKmUtNip0fWZ1bmN0aW9uIGEodCl7cmV0dXJuIDMqdH1mdW5jdGlvbiB1KHQsZSxuKXtyZXR1cm4oKG8oZSxuKSp0K3MoZSxuKSkqdCthKGUpKSp0fWZ1bmN0aW9uIGModCxlLG4pe3JldHVybiAzKm8oZSxuKSp0KnQrMipzKGUsbikqdCthKGUpfWZ1bmN0aW9uIGwoZSxuKXtmb3IodmFyIGk9MDt5Pmk7KytpKXt2YXIgbz1jKG4sdCxyKTtpZigwPT09bylyZXR1cm4gbjt2YXIgcz11KG4sdCxyKS1lO24tPXMvb31yZXR1cm4gbn1mdW5jdGlvbiBwKCl7Zm9yKHZhciBlPTA7Xz5lOysrZSlFW2VdPXUoZSpiLHQscil9ZnVuY3Rpb24gaChlLG4saSl7dmFyIG8scyxhPTA7ZG8gcz1uKyhpLW4pLzIsbz11KHMsdCxyKS1lLG8+MD9pPXM6bj1zO3doaWxlKE1hdGguYWJzKG8pPnYmJisrYTxnKTtyZXR1cm4gc31mdW5jdGlvbiBmKGUpe2Zvcih2YXIgbj0wLGk9MSxvPV8tMTtpIT1vJiZFW2ldPD1lOysraSluKz1iOy0taTt2YXIgcz0oZS1FW2ldKS8oRVtpKzFdLUVbaV0pLGE9bitzKmIsdT1jKGEsdCxyKTtyZXR1cm4gdT49bT9sKGUsYSk6MD09dT9hOmgoZSxuLG4rYil9ZnVuY3Rpb24gZCgpe1M9ITAsKHQhPW58fHIhPWkpJiZwKCl9dmFyIHk9NCxtPS4wMDEsdj0xZS03LGc9MTAsXz0xMSxiPTEvKF8tMSksdz1cIkZsb2F0MzJBcnJheVwiaW4gZTtpZig0IT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIEM9MDs0PkM7KytDKWlmKFwibnVtYmVyXCIhPXR5cGVvZiBhcmd1bWVudHNbQ118fGlzTmFOKGFyZ3VtZW50c1tDXSl8fCFpc0Zpbml0ZShhcmd1bWVudHNbQ10pKXJldHVybiExO3Q9TWF0aC5taW4odCwxKSxyPU1hdGgubWluKHIsMSksdD1NYXRoLm1heCh0LDApLHI9TWF0aC5tYXgociwwKTt2YXIgRT13P25ldyBGbG9hdDMyQXJyYXkoXyk6bmV3IEFycmF5KF8pLFM9ITEseD1mdW5jdGlvbihlKXtyZXR1cm4gU3x8ZCgpLHQ9PT1uJiZyPT09aT9lOjA9PT1lPzA6MT09PWU/MTp1KGYoZSksbixpKX07eC5nZXRDb250cm9sUG9pbnRzPWZ1bmN0aW9uKCl7cmV0dXJuW3t4OnQseTpufSx7eDpyLHk6aX1dfTt2YXIgUD1cImdlbmVyYXRlQmV6aWVyKFwiK1t0LG4scixpXStcIilcIjtyZXR1cm4geC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBQfSx4fWZ1bmN0aW9uIGwodCxlKXt2YXIgbj10O3JldHVybiBtLmlzU3RyaW5nKHQpP2IuRWFzaW5nc1t0XXx8KG49ITEpOm49bS5pc0FycmF5KHQpJiYxPT09dC5sZW5ndGg/dS5hcHBseShudWxsLHQpOm0uaXNBcnJheSh0KSYmMj09PXQubGVuZ3RoP3cuYXBwbHkobnVsbCx0LmNvbmNhdChbZV0pKTohKCFtLmlzQXJyYXkodCl8fDQhPT10Lmxlbmd0aCkmJmMuYXBwbHkobnVsbCx0KSxuPT09ITEmJihuPWIuRWFzaW5nc1tiLmRlZmF1bHRzLmVhc2luZ10/Yi5kZWZhdWx0cy5lYXNpbmc6Xyksbn1mdW5jdGlvbiBwKHQpe2lmKHQpe3ZhciBlPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG49Yi5TdGF0ZS5jYWxscy5sZW5ndGg7bj4xZTQmJihiLlN0YXRlLmNhbGxzPW8oYi5TdGF0ZS5jYWxscykpO2Zvcih2YXIgaT0wO24+aTtpKyspaWYoYi5TdGF0ZS5jYWxsc1tpXSl7dmFyIHM9Yi5TdGF0ZS5jYWxsc1tpXSx1PXNbMF0sYz1zWzJdLGw9c1szXSxkPSEhbCx5PW51bGw7bHx8KGw9Yi5TdGF0ZS5jYWxsc1tpXVszXT1lLTE2KTtmb3IodmFyIHY9TWF0aC5taW4oKGUtbCkvYy5kdXJhdGlvbiwxKSxnPTAsXz11Lmxlbmd0aDtfPmc7ZysrKXt2YXIgdz11W2ddLEU9dy5lbGVtZW50O2lmKGEoRSkpe3ZhciB4PSExO2lmKGMuZGlzcGxheSE9PXImJm51bGwhPT1jLmRpc3BsYXkmJlwibm9uZVwiIT09Yy5kaXNwbGF5KXtpZihcImZsZXhcIj09PWMuZGlzcGxheSl7dmFyIFA9W1wiLXdlYmtpdC1ib3hcIixcIi1tb3otYm94XCIsXCItbXMtZmxleGJveFwiLFwiLXdlYmtpdC1mbGV4XCJdO2YuZWFjaChQLGZ1bmN0aW9uKHQsZSl7Qy5zZXRQcm9wZXJ0eVZhbHVlKEUsXCJkaXNwbGF5XCIsZSl9KX1DLnNldFByb3BlcnR5VmFsdWUoRSxcImRpc3BsYXlcIixjLmRpc3BsYXkpfWMudmlzaWJpbGl0eSE9PXImJlwiaGlkZGVuXCIhPT1jLnZpc2liaWxpdHkmJkMuc2V0UHJvcGVydHlWYWx1ZShFLFwidmlzaWJpbGl0eVwiLGMudmlzaWJpbGl0eSk7Zm9yKHZhciBPIGluIHcpaWYoXCJlbGVtZW50XCIhPT1PKXt2YXIgVCxBPXdbT10sTT1tLmlzU3RyaW5nKEEuZWFzaW5nKT9iLkVhc2luZ3NbQS5lYXNpbmddOkEuZWFzaW5nO2lmKDE9PT12KVQ9QS5lbmRWYWx1ZTtlbHNle3ZhciBrPUEuZW5kVmFsdWUtQS5zdGFydFZhbHVlO2lmKFQ9QS5zdGFydFZhbHVlK2sqTSh2LGMsayksIWQmJlQ9PT1BLmN1cnJlbnRWYWx1ZSljb250aW51ZX1pZihBLmN1cnJlbnRWYWx1ZT1ULFwidHdlZW5cIj09PU8peT1UO2Vsc2V7aWYoQy5Ib29rcy5yZWdpc3RlcmVkW09dKXt2YXIgUj1DLkhvb2tzLmdldFJvb3QoTyksST1hKEUpLnJvb3RQcm9wZXJ0eVZhbHVlQ2FjaGVbUl07SSYmKEEucm9vdFByb3BlcnR5VmFsdWU9SSl9dmFyIE49Qy5zZXRQcm9wZXJ0eVZhbHVlKEUsTyxBLmN1cnJlbnRWYWx1ZSsoMD09PXBhcnNlRmxvYXQoVCk/XCJcIjpBLnVuaXRUeXBlKSxBLnJvb3RQcm9wZXJ0eVZhbHVlLEEuc2Nyb2xsRGF0YSk7Qy5Ib29rcy5yZWdpc3RlcmVkW09dJiYoYShFKS5yb290UHJvcGVydHlWYWx1ZUNhY2hlW1JdPUMuTm9ybWFsaXphdGlvbnMucmVnaXN0ZXJlZFtSXT9DLk5vcm1hbGl6YXRpb25zLnJlZ2lzdGVyZWRbUl0oXCJleHRyYWN0XCIsbnVsbCxOWzFdKTpOWzFdKSxcInRyYW5zZm9ybVwiPT09TlswXSYmKHg9ITApfX1jLm1vYmlsZUhBJiZhKEUpLnRyYW5zZm9ybUNhY2hlLnRyYW5zbGF0ZTNkPT09ciYmKGEoRSkudHJhbnNmb3JtQ2FjaGUudHJhbnNsYXRlM2Q9XCIoMHB4LCAwcHgsIDBweClcIix4PSEwKSx4JiZDLmZsdXNoVHJhbnNmb3JtQ2FjaGUoRSl9fWMuZGlzcGxheSE9PXImJlwibm9uZVwiIT09Yy5kaXNwbGF5JiYoYi5TdGF0ZS5jYWxsc1tpXVsyXS5kaXNwbGF5PSExKSxjLnZpc2liaWxpdHkhPT1yJiZcImhpZGRlblwiIT09Yy52aXNpYmlsaXR5JiYoYi5TdGF0ZS5jYWxsc1tpXVsyXS52aXNpYmlsaXR5PSExKSxjLnByb2dyZXNzJiZjLnByb2dyZXNzLmNhbGwoc1sxXSxzWzFdLHYsTWF0aC5tYXgoMCxsK2MuZHVyYXRpb24tZSksbCx5KSwxPT09diYmaChpKX19Yi5TdGF0ZS5pc1RpY2tpbmcmJlMocCl9ZnVuY3Rpb24gaCh0LGUpe2lmKCFiLlN0YXRlLmNhbGxzW3RdKXJldHVybiExO2Zvcih2YXIgbj1iLlN0YXRlLmNhbGxzW3RdWzBdLGk9Yi5TdGF0ZS5jYWxsc1t0XVsxXSxvPWIuU3RhdGUuY2FsbHNbdF1bMl0scz1iLlN0YXRlLmNhbGxzW3RdWzRdLHU9ITEsYz0wLGw9bi5sZW5ndGg7bD5jO2MrKyl7dmFyIHA9bltjXS5lbGVtZW50O2lmKGV8fG8ubG9vcHx8KFwibm9uZVwiPT09by5kaXNwbGF5JiZDLnNldFByb3BlcnR5VmFsdWUocCxcImRpc3BsYXlcIixvLmRpc3BsYXkpLFwiaGlkZGVuXCI9PT1vLnZpc2liaWxpdHkmJkMuc2V0UHJvcGVydHlWYWx1ZShwLFwidmlzaWJpbGl0eVwiLG8udmlzaWJpbGl0eSkpLG8ubG9vcCE9PSEwJiYoZi5xdWV1ZShwKVsxXT09PXJ8fCEvXFwudmVsb2NpdHlRdWV1ZUVudHJ5RmxhZy9pLnRlc3QoZi5xdWV1ZShwKVsxXSkpJiZhKHApKXthKHApLmlzQW5pbWF0aW5nPSExLGEocCkucm9vdFByb3BlcnR5VmFsdWVDYWNoZT17fTt2YXIgaD0hMTtmLmVhY2goQy5MaXN0cy50cmFuc2Zvcm1zM0QsZnVuY3Rpb24odCxlKXt2YXIgbj0vXnNjYWxlLy50ZXN0KGUpPzE6MCxpPWEocCkudHJhbnNmb3JtQ2FjaGVbZV07YShwKS50cmFuc2Zvcm1DYWNoZVtlXSE9PXImJm5ldyBSZWdFeHAoXCJeXFxcXChcIituK1wiW14uXVwiKS50ZXN0KGkpJiYoaD0hMCxkZWxldGUgYShwKS50cmFuc2Zvcm1DYWNoZVtlXSl9KSxvLm1vYmlsZUhBJiYoaD0hMCxkZWxldGUgYShwKS50cmFuc2Zvcm1DYWNoZS50cmFuc2xhdGUzZCksaCYmQy5mbHVzaFRyYW5zZm9ybUNhY2hlKHApLEMuVmFsdWVzLnJlbW92ZUNsYXNzKHAsXCJ2ZWxvY2l0eS1hbmltYXRpbmdcIil9aWYoIWUmJm8uY29tcGxldGUmJiFvLmxvb3AmJmM9PT1sLTEpdHJ5e28uY29tcGxldGUuY2FsbChpLGkpfWNhdGNoKHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyB0fSwxKX1zJiZvLmxvb3AhPT0hMCYmcyhpKSxhKHApJiZvLmxvb3A9PT0hMCYmIWUmJihmLmVhY2goYShwKS50d2VlbnNDb250YWluZXIsZnVuY3Rpb24odCxlKXsvXnJvdGF0ZS8udGVzdCh0KSYmMzYwPT09cGFyc2VGbG9hdChlLmVuZFZhbHVlKSYmKGUuZW5kVmFsdWU9MCxlLnN0YXJ0VmFsdWU9MzYwKSwvXmJhY2tncm91bmRQb3NpdGlvbi8udGVzdCh0KSYmMTAwPT09cGFyc2VGbG9hdChlLmVuZFZhbHVlKSYmXCIlXCI9PT1lLnVuaXRUeXBlJiYoZS5lbmRWYWx1ZT0wLGUuc3RhcnRWYWx1ZT0xMDApfSksYihwLFwicmV2ZXJzZVwiLHtsb29wOiEwLGRlbGF5Om8uZGVsYXl9KSksby5xdWV1ZSE9PSExJiZmLmRlcXVldWUocCxvLnF1ZXVlKX1iLlN0YXRlLmNhbGxzW3RdPSExO2Zvcih2YXIgZD0wLHk9Yi5TdGF0ZS5jYWxscy5sZW5ndGg7eT5kO2QrKylpZihiLlN0YXRlLmNhbGxzW2RdIT09ITEpe3U9ITA7YnJlYWt9dT09PSExJiYoYi5TdGF0ZS5pc1RpY2tpbmc9ITEsZGVsZXRlIGIuU3RhdGUuY2FsbHMsYi5TdGF0ZS5jYWxscz1bXSl9dmFyIGYsZD1mdW5jdGlvbigpe2lmKG4uZG9jdW1lbnRNb2RlKXJldHVybiBuLmRvY3VtZW50TW9kZTtmb3IodmFyIHQ9Nzt0PjQ7dC0tKXt2YXIgZT1uLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoZS5pbm5lckhUTUw9XCI8IS0tW2lmIElFIFwiK3QrXCJdPjxzcGFuPjwvc3Bhbj48IVtlbmRpZl0tLT5cIixlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3BhblwiKS5sZW5ndGgpcmV0dXJuIGU9bnVsbCx0fXJldHVybiByfSgpLHk9ZnVuY3Rpb24oKXt2YXIgdD0wO3JldHVybiBlLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZS5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3ZhciBuLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIG49TWF0aC5tYXgoMCwxNi0oci10KSksdD1yK24sc2V0VGltZW91dChmdW5jdGlvbigpe2UocituKX0sbil9fSgpLG09e2lzU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fSxpc0FycmF5OkFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX0saXNGdW5jdGlvbjpmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgRnVuY3Rpb25dXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9LGlzTm9kZTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5ub2RlVHlwZX0saXNOb2RlTGlzdDpmdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmL15cXFtvYmplY3QgKEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0fE9iamVjdClcXF0kLy50ZXN0KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkmJnQubGVuZ3RoIT09ciYmKDA9PT10Lmxlbmd0aHx8XCJvYmplY3RcIj09dHlwZW9mIHRbMF0mJnRbMF0ubm9kZVR5cGU+MCl9LGlzV3JhcHBlZDpmdW5jdGlvbih0KXtyZXR1cm4gdCYmKHQuanF1ZXJ5fHxlLlplcHRvJiZlLlplcHRvLnplcHRvLmlzWih0KSl9LGlzU1ZHOmZ1bmN0aW9uKHQpe3JldHVybiBlLlNWR0VsZW1lbnQmJnQgaW5zdGFuY2VvZiBlLlNWR0VsZW1lbnR9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpcmV0dXJuITE7cmV0dXJuITB9fSx2PSExO2lmKHQuZm4mJnQuZm4uanF1ZXJ5PyhmPXQsdj0hMCk6Zj1lLlZlbG9jaXR5LlV0aWxpdGllcyw4Pj1kJiYhdil0aHJvdyBuZXcgRXJyb3IoXCJWZWxvY2l0eTogSUU4IGFuZCBiZWxvdyByZXF1aXJlIGpRdWVyeSB0byBiZSBsb2FkZWQgYmVmb3JlIFZlbG9jaXR5LlwiKTtpZig3Pj1kKXJldHVybiB2b2lkKGkuZm4udmVsb2NpdHk9aS5mbi5hbmltYXRlKTt2YXIgZz00MDAsXz1cInN3aW5nXCIsYj17U3RhdGU6e2lzTW9iaWxlOi9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxpc0FuZHJvaWQ6L0FuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGlzR2luZ2VyYnJlYWQ6L0FuZHJvaWQgMlxcLjNcXC5bMy03XS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksaXNDaHJvbWU6ZS5jaHJvbWUsaXNGaXJlZm94Oi9GaXJlZm94L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxwcmVmaXhFbGVtZW50Om4uY3JlYXRlRWxlbWVudChcImRpdlwiKSxwcmVmaXhNYXRjaGVzOnt9LHNjcm9sbEFuY2hvcjpudWxsLHNjcm9sbFByb3BlcnR5TGVmdDpudWxsLHNjcm9sbFByb3BlcnR5VG9wOm51bGwsaXNUaWNraW5nOiExLGNhbGxzOltdfSxDU1M6e30sVXRpbGl0aWVzOmYsUmVkaXJlY3RzOnt9LEVhc2luZ3M6e30sUHJvbWlzZTplLlByb21pc2UsZGVmYXVsdHM6e3F1ZXVlOlwiXCIsZHVyYXRpb246ZyxlYXNpbmc6XyxiZWdpbjpyLGNvbXBsZXRlOnIscHJvZ3Jlc3M6cixkaXNwbGF5OnIsdmlzaWJpbGl0eTpyLGxvb3A6ITEsZGVsYXk6ITEsbW9iaWxlSEE6ITAsX2NhY2hlVmFsdWVzOiEwfSxpbml0OmZ1bmN0aW9uKHQpe2YuZGF0YSh0LFwidmVsb2NpdHlcIix7aXNTVkc6bS5pc1NWRyh0KSxpc0FuaW1hdGluZzohMSxjb21wdXRlZFN0eWxlOm51bGwsdHdlZW5zQ29udGFpbmVyOm51bGwscm9vdFByb3BlcnR5VmFsdWVDYWNoZTp7fSx0cmFuc2Zvcm1DYWNoZTp7fX0pfSxob29rOm51bGwsbW9jazohMSx2ZXJzaW9uOnttYWpvcjoxLG1pbm9yOjIscGF0Y2g6Mn0sZGVidWc6ITF9O2UucGFnZVlPZmZzZXQhPT1yPyhiLlN0YXRlLnNjcm9sbEFuY2hvcj1lLGIuU3RhdGUuc2Nyb2xsUHJvcGVydHlMZWZ0PVwicGFnZVhPZmZzZXRcIixiLlN0YXRlLnNjcm9sbFByb3BlcnR5VG9wPVwicGFnZVlPZmZzZXRcIik6KGIuU3RhdGUuc2Nyb2xsQW5jaG9yPW4uZG9jdW1lbnRFbGVtZW50fHxuLmJvZHkucGFyZW50Tm9kZXx8bi5ib2R5LGIuU3RhdGUuc2Nyb2xsUHJvcGVydHlMZWZ0PVwic2Nyb2xsTGVmdFwiLGIuU3RhdGUuc2Nyb2xsUHJvcGVydHlUb3A9XCJzY3JvbGxUb3BcIik7dmFyIHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybi10LnRlbnNpb24qdC54LXQuZnJpY3Rpb24qdC52fWZ1bmN0aW9uIGUoZSxuLHIpe3ZhciBpPXt4OmUueCtyLmR4Km4sdjplLnYrci5kdipuLHRlbnNpb246ZS50ZW5zaW9uLGZyaWN0aW9uOmUuZnJpY3Rpb259O3JldHVybntkeDppLnYsZHY6dChpKX19ZnVuY3Rpb24gbihuLHIpe3ZhciBpPXtkeDpuLnYsZHY6dChuKX0sbz1lKG4sLjUqcixpKSxzPWUobiwuNSpyLG8pLGE9ZShuLHIscyksdT0xLzYqKGkuZHgrMiooby5keCtzLmR4KSthLmR4KSxjPTEvNiooaS5kdisyKihvLmR2K3MuZHYpK2EuZHYpO3JldHVybiBuLng9bi54K3UqcixuLnY9bi52K2MqcixufXJldHVybiBmdW5jdGlvbiB0KGUscixpKXt2YXIgbyxzLGEsdT17eDotMSx2OjAsdGVuc2lvbjpudWxsLGZyaWN0aW9uOm51bGx9LGM9WzBdLGw9MCxwPTFlLTQsaD0uMDE2O2ZvcihlPXBhcnNlRmxvYXQoZSl8fDUwMCxyPXBhcnNlRmxvYXQocil8fDIwLGk9aXx8bnVsbCx1LnRlbnNpb249ZSx1LmZyaWN0aW9uPXIsbz1udWxsIT09aSxvPyhsPXQoZSxyKSxzPWwvaSpoKTpzPWg7YT1uKGF8fHUscyksYy5wdXNoKDErYS54KSxsKz0xNixNYXRoLmFicyhhLngpPnAmJk1hdGguYWJzKGEudik+cDspO3JldHVybiBvP2Z1bmN0aW9uKHQpe3JldHVybiBjW3QqKGMubGVuZ3RoLTEpfDBdfTpsfX0oKTtiLkVhc2luZ3M9e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gdH0sc3dpbmc6ZnVuY3Rpb24odCl7cmV0dXJuLjUtTWF0aC5jb3ModCpNYXRoLlBJKS8yfSxzcHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5jb3MoNC41KnQqTWF0aC5QSSkqTWF0aC5leHAoNiotdCl9fSxmLmVhY2goW1tcImVhc2VcIixbLjI1LC4xLC4yNSwxXV0sW1wiZWFzZS1pblwiLFsuNDIsMCwxLDFdXSxbXCJlYXNlLW91dFwiLFswLDAsLjU4LDFdXSxbXCJlYXNlLWluLW91dFwiLFsuNDIsMCwuNTgsMV1dLFtcImVhc2VJblNpbmVcIixbLjQ3LDAsLjc0NSwuNzE1XV0sW1wiZWFzZU91dFNpbmVcIixbLjM5LC41NzUsLjU2NSwxXV0sW1wiZWFzZUluT3V0U2luZVwiLFsuNDQ1LC4wNSwuNTUsLjk1XV0sW1wiZWFzZUluUXVhZFwiLFsuNTUsLjA4NSwuNjgsLjUzXV0sW1wiZWFzZU91dFF1YWRcIixbLjI1LC40NiwuNDUsLjk0XV0sW1wiZWFzZUluT3V0UXVhZFwiLFsuNDU1LC4wMywuNTE1LC45NTVdXSxbXCJlYXNlSW5DdWJpY1wiLFsuNTUsLjA1NSwuNjc1LC4xOV1dLFtcImVhc2VPdXRDdWJpY1wiLFsuMjE1LC42MSwuMzU1LDFdXSxbXCJlYXNlSW5PdXRDdWJpY1wiLFsuNjQ1LC4wNDUsLjM1NSwxXV0sW1wiZWFzZUluUXVhcnRcIixbLjg5NSwuMDMsLjY4NSwuMjJdXSxbXCJlYXNlT3V0UXVhcnRcIixbLjE2NSwuODQsLjQ0LDFdXSxbXCJlYXNlSW5PdXRRdWFydFwiLFsuNzcsMCwuMTc1LDFdXSxbXCJlYXNlSW5RdWludFwiLFsuNzU1LC4wNSwuODU1LC4wNl1dLFtcImVhc2VPdXRRdWludFwiLFsuMjMsMSwuMzIsMV1dLFtcImVhc2VJbk91dFF1aW50XCIsWy44NiwwLC4wNywxXV0sW1wiZWFzZUluRXhwb1wiLFsuOTUsLjA1LC43OTUsLjAzNV1dLFtcImVhc2VPdXRFeHBvXCIsWy4xOSwxLC4yMiwxXV0sW1wiZWFzZUluT3V0RXhwb1wiLFsxLDAsMCwxXV0sW1wiZWFzZUluQ2lyY1wiLFsuNiwuMDQsLjk4LC4zMzVdXSxbXCJlYXNlT3V0Q2lyY1wiLFsuMDc1LC44MiwuMTY1LDFdXSxbXCJlYXNlSW5PdXRDaXJjXCIsWy43ODUsLjEzNSwuMTUsLjg2XV1dLGZ1bmN0aW9uKHQsZSl7Yi5FYXNpbmdzW2VbMF1dPWMuYXBwbHkobnVsbCxlWzFdKX0pO3ZhciBDPWIuQ1NTPXtSZWdFeDp7aXNIZXg6L14jKFtBLWZcXGRdezN9KXsxLDJ9JC9pLHZhbHVlVW53cmFwOi9eW0Etel0rXFwoKC4qKVxcKSQvaSx3cmFwcGVkVmFsdWVBbHJlYWR5RXh0cmFjdGVkOi9bMC05Ll0rIFswLTkuXSsgWzAtOS5dKyggWzAtOS5dKyk/Lyx2YWx1ZVNwbGl0Oi8oW0Etel0rXFwoLitcXCkpfCgoW0EtejAtOSMtLl0rPykoPz1cXHN8JCkpL2dpfSxMaXN0czp7Y29sb3JzOltcImZpbGxcIixcInN0cm9rZVwiLFwic3RvcENvbG9yXCIsXCJjb2xvclwiLFwiYmFja2dyb3VuZENvbG9yXCIsXCJib3JkZXJDb2xvclwiLFwiYm9yZGVyVG9wQ29sb3JcIixcImJvcmRlclJpZ2h0Q29sb3JcIixcImJvcmRlckJvdHRvbUNvbG9yXCIsXCJib3JkZXJMZWZ0Q29sb3JcIixcIm91dGxpbmVDb2xvclwiXSx0cmFuc2Zvcm1zQmFzZTpbXCJ0cmFuc2xhdGVYXCIsXCJ0cmFuc2xhdGVZXCIsXCJzY2FsZVwiLFwic2NhbGVYXCIsXCJzY2FsZVlcIixcInNrZXdYXCIsXCJza2V3WVwiLFwicm90YXRlWlwiXSx0cmFuc2Zvcm1zM0Q6W1widHJhbnNmb3JtUGVyc3BlY3RpdmVcIixcInRyYW5zbGF0ZVpcIixcInNjYWxlWlwiLFwicm90YXRlWFwiLFwicm90YXRlWVwiXX0sSG9va3M6e3RlbXBsYXRlczp7dGV4dFNoYWRvdzpbXCJDb2xvciBYIFkgQmx1clwiLFwiYmxhY2sgMHB4IDBweCAwcHhcIl0sYm94U2hhZG93OltcIkNvbG9yIFggWSBCbHVyIFNwcmVhZFwiLFwiYmxhY2sgMHB4IDBweCAwcHggMHB4XCJdLGNsaXA6W1wiVG9wIFJpZ2h0IEJvdHRvbSBMZWZ0XCIsXCIwcHggMHB4IDBweCAwcHhcIl0sYmFja2dyb3VuZFBvc2l0aW9uOltcIlggWVwiLFwiMCUgMCVcIl0sdHJhbnNmb3JtT3JpZ2luOltcIlggWSBaXCIsXCI1MCUgNTAlIDBweFwiXSxwZXJzcGVjdGl2ZU9yaWdpbjpbXCJYIFlcIixcIjUwJSA1MCVcIl19LHJlZ2lzdGVyZWQ6e30scmVnaXN0ZXI6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PEMuTGlzdHMuY29sb3JzLmxlbmd0aDt0Kyspe3ZhciBlPVwiY29sb3JcIj09PUMuTGlzdHMuY29sb3JzW3RdP1wiMCAwIDAgMVwiOlwiMjU1IDI1NSAyNTUgMVwiO0MuSG9va3MudGVtcGxhdGVzW0MuTGlzdHMuY29sb3JzW3RdXT1bXCJSZWQgR3JlZW4gQmx1ZSBBbHBoYVwiLGVdfXZhciBuLHIsaTtpZihkKWZvcihuIGluIEMuSG9va3MudGVtcGxhdGVzKXtyPUMuSG9va3MudGVtcGxhdGVzW25dLGk9clswXS5zcGxpdChcIiBcIik7dmFyIG89clsxXS5tYXRjaChDLlJlZ0V4LnZhbHVlU3BsaXQpO1wiQ29sb3JcIj09PWlbMF0mJihpLnB1c2goaS5zaGlmdCgpKSxvLnB1c2goby5zaGlmdCgpKSxDLkhvb2tzLnRlbXBsYXRlc1tuXT1baS5qb2luKFwiIFwiKSxvLmpvaW4oXCIgXCIpXSl9Zm9yKG4gaW4gQy5Ib29rcy50ZW1wbGF0ZXMpe3I9Qy5Ib29rcy50ZW1wbGF0ZXNbbl0saT1yWzBdLnNwbGl0KFwiIFwiKTtmb3IodmFyIHQgaW4gaSl7dmFyIHM9bitpW3RdLGE9dDtDLkhvb2tzLnJlZ2lzdGVyZWRbc109W24sYV19fX0sZ2V0Um9vdDpmdW5jdGlvbih0KXt2YXIgZT1DLkhvb2tzLnJlZ2lzdGVyZWRbdF07cmV0dXJuIGU/ZVswXTp0fSxjbGVhblJvb3RQcm9wZXJ0eVZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEMuUmVnRXgudmFsdWVVbndyYXAudGVzdChlKSYmKGU9ZS5tYXRjaChDLlJlZ0V4LnZhbHVlVW53cmFwKVsxXSksQy5WYWx1ZXMuaXNDU1NOdWxsVmFsdWUoZSkmJihlPUMuSG9va3MudGVtcGxhdGVzW3RdWzFdKSxlfSxleHRyYWN0VmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1DLkhvb2tzLnJlZ2lzdGVyZWRbdF07aWYobil7dmFyIHI9blswXSxpPW5bMV07cmV0dXJuIGU9Qy5Ib29rcy5jbGVhblJvb3RQcm9wZXJ0eVZhbHVlKHIsZSksZS50b1N0cmluZygpLm1hdGNoKEMuUmVnRXgudmFsdWVTcGxpdClbaV19cmV0dXJuIGV9LGluamVjdFZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1DLkhvb2tzLnJlZ2lzdGVyZWRbdF07aWYocil7dmFyIGksbyxzPXJbMF0sYT1yWzFdO3JldHVybiBuPUMuSG9va3MuY2xlYW5Sb290UHJvcGVydHlWYWx1ZShzLG4pLGk9bi50b1N0cmluZygpLm1hdGNoKEMuUmVnRXgudmFsdWVTcGxpdCksaVthXT1lLG89aS5qb2luKFwiIFwiKX1yZXR1cm4gbn19LE5vcm1hbGl6YXRpb25zOntyZWdpc3RlcmVkOntjbGlwOmZ1bmN0aW9uKHQsZSxuKXtzd2l0Y2godCl7Y2FzZVwibmFtZVwiOnJldHVyblwiY2xpcFwiO2Nhc2VcImV4dHJhY3RcIjp2YXIgcjtyZXR1cm4gQy5SZWdFeC53cmFwcGVkVmFsdWVBbHJlYWR5RXh0cmFjdGVkLnRlc3Qobik/cj1uOihyPW4udG9TdHJpbmcoKS5tYXRjaChDLlJlZ0V4LnZhbHVlVW53cmFwKSxyPXI/clsxXS5yZXBsYWNlKC8sKFxccyspPy9nLFwiIFwiKTpuKSxyO2Nhc2VcImluamVjdFwiOnJldHVyblwicmVjdChcIituK1wiKVwifX0sYmx1cjpmdW5jdGlvbih0LGUsbil7c3dpdGNoKHQpe2Nhc2VcIm5hbWVcIjpyZXR1cm4gYi5TdGF0ZS5pc0ZpcmVmb3g/XCJmaWx0ZXJcIjpcIi13ZWJraXQtZmlsdGVyXCI7Y2FzZVwiZXh0cmFjdFwiOnZhciByPXBhcnNlRmxvYXQobik7aWYoIXImJjAhPT1yKXt2YXIgaT1uLnRvU3RyaW5nKCkubWF0Y2goL2JsdXJcXCgoWzAtOV0rW0Etel0rKVxcKS9pKTtyPWk/aVsxXTowfXJldHVybiByO2Nhc2VcImluamVjdFwiOnJldHVybiBwYXJzZUZsb2F0KG4pP1wiYmx1cihcIituK1wiKVwiOlwibm9uZVwifX0sb3BhY2l0eTpmdW5jdGlvbih0LGUsbil7aWYoOD49ZClzd2l0Y2godCl7Y2FzZVwibmFtZVwiOnJldHVyblwiZmlsdGVyXCI7Y2FzZVwiZXh0cmFjdFwiOnZhciByPW4udG9TdHJpbmcoKS5tYXRjaCgvYWxwaGFcXChvcGFjaXR5PSguKilcXCkvaSk7cmV0dXJuIG49cj9yWzFdLzEwMDoxO2Nhc2VcImluamVjdFwiOnJldHVybiBlLnN0eWxlLnpvb209MSxwYXJzZUZsb2F0KG4pPj0xP1wiXCI6XCJhbHBoYShvcGFjaXR5PVwiK3BhcnNlSW50KDEwMCpwYXJzZUZsb2F0KG4pLDEwKStcIilcIn1lbHNlIHN3aXRjaCh0KXtjYXNlXCJuYW1lXCI6cmV0dXJuXCJvcGFjaXR5XCI7Y2FzZVwiZXh0cmFjdFwiOnJldHVybiBuO2Nhc2VcImluamVjdFwiOnJldHVybiBufX19LHJlZ2lzdGVyOmZ1bmN0aW9uKCl7OT49ZHx8Yi5TdGF0ZS5pc0dpbmdlcmJyZWFkfHwoQy5MaXN0cy50cmFuc2Zvcm1zQmFzZT1DLkxpc3RzLnRyYW5zZm9ybXNCYXNlLmNvbmNhdChDLkxpc3RzLnRyYW5zZm9ybXMzRCkpO2Zvcih2YXIgdD0wO3Q8Qy5MaXN0cy50cmFuc2Zvcm1zQmFzZS5sZW5ndGg7dCsrKSFmdW5jdGlvbigpe3ZhciBlPUMuTGlzdHMudHJhbnNmb3Jtc0Jhc2VbdF07Qy5Ob3JtYWxpemF0aW9ucy5yZWdpc3RlcmVkW2VdPWZ1bmN0aW9uKHQsbixpKXtzd2l0Y2godCl7Y2FzZVwibmFtZVwiOnJldHVyblwidHJhbnNmb3JtXCI7Y2FzZVwiZXh0cmFjdFwiOnJldHVybiBhKG4pPT09cnx8YShuKS50cmFuc2Zvcm1DYWNoZVtlXT09PXI/L15zY2FsZS9pLnRlc3QoZSk/MTowOmEobikudHJhbnNmb3JtQ2FjaGVbZV0ucmVwbGFjZSgvWygpXS9nLFwiXCIpO2Nhc2VcImluamVjdFwiOnZhciBvPSExO3N3aXRjaChlLnN1YnN0cigwLGUubGVuZ3RoLTEpKXtjYXNlXCJ0cmFuc2xhdGVcIjpvPSEvKCV8cHh8ZW18cmVtfHZ3fHZofFxcZCkkL2kudGVzdChpKTticmVhaztjYXNlXCJzY2FsXCI6Y2FzZVwic2NhbGVcIjpiLlN0YXRlLmlzQW5kcm9pZCYmYShuKS50cmFuc2Zvcm1DYWNoZVtlXT09PXImJjE+aSYmKGk9MSksbz0hLyhcXGQpJC9pLnRlc3QoaSk7YnJlYWs7Y2FzZVwic2tld1wiOm89IS8oZGVnfFxcZCkkL2kudGVzdChpKTticmVhaztjYXNlXCJyb3RhdGVcIjpvPSEvKGRlZ3xcXGQpJC9pLnRlc3QoaSl9cmV0dXJuIG98fChhKG4pLnRyYW5zZm9ybUNhY2hlW2VdPVwiKFwiK2krXCIpXCIpLGEobikudHJhbnNmb3JtQ2FjaGVbZV19fX0oKTtmb3IodmFyIHQ9MDt0PEMuTGlzdHMuY29sb3JzLmxlbmd0aDt0KyspIWZ1bmN0aW9uKCl7dmFyIGU9Qy5MaXN0cy5jb2xvcnNbdF07Qy5Ob3JtYWxpemF0aW9ucy5yZWdpc3RlcmVkW2VdPWZ1bmN0aW9uKHQsbixpKXtzd2l0Y2godCl7Y2FzZVwibmFtZVwiOnJldHVybiBlO2Nhc2VcImV4dHJhY3RcIjp2YXIgbztpZihDLlJlZ0V4LndyYXBwZWRWYWx1ZUFscmVhZHlFeHRyYWN0ZWQudGVzdChpKSlvPWk7ZWxzZXt2YXIgcyxhPXtibGFjazpcInJnYigwLCAwLCAwKVwiLGJsdWU6XCJyZ2IoMCwgMCwgMjU1KVwiLGdyYXk6XCJyZ2IoMTI4LCAxMjgsIDEyOClcIixncmVlbjpcInJnYigwLCAxMjgsIDApXCIscmVkOlwicmdiKDI1NSwgMCwgMClcIix3aGl0ZTpcInJnYigyNTUsIDI1NSwgMjU1KVwifTsvXltBLXpdKyQvaS50ZXN0KGkpP3M9YVtpXSE9PXI/YVtpXTphLmJsYWNrOkMuUmVnRXguaXNIZXgudGVzdChpKT9zPVwicmdiKFwiK0MuVmFsdWVzLmhleFRvUmdiKGkpLmpvaW4oXCIgXCIpK1wiKVwiOi9ecmdiYT9cXCgvaS50ZXN0KGkpfHwocz1hLmJsYWNrKSxvPShzfHxpKS50b1N0cmluZygpLm1hdGNoKEMuUmVnRXgudmFsdWVVbndyYXApWzFdLnJlcGxhY2UoLywoXFxzKyk/L2csXCIgXCIpfXJldHVybiA4Pj1kfHwzIT09by5zcGxpdChcIiBcIikubGVuZ3RofHwobys9XCIgMVwiKSxvO2Nhc2VcImluamVjdFwiOnJldHVybiA4Pj1kPzQ9PT1pLnNwbGl0KFwiIFwiKS5sZW5ndGgmJihpPWkuc3BsaXQoL1xccysvKS5zbGljZSgwLDMpLmpvaW4oXCIgXCIpKTozPT09aS5zcGxpdChcIiBcIikubGVuZ3RoJiYoaSs9XCIgMVwiKSwoOD49ZD9cInJnYlwiOlwicmdiYVwiKStcIihcIitpLnJlcGxhY2UoL1xccysvZyxcIixcIikucmVwbGFjZSgvXFwuKFxcZCkrKD89LCkvZyxcIlwiKStcIilcIn19fSgpfX0sTmFtZXM6e2NhbWVsQ2FzZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC8tKFxcdykvZyxmdW5jdGlvbih0LGUpe3JldHVybiBlLnRvVXBwZXJDYXNlKCl9KX0sU1ZHQXR0cmlidXRlOmZ1bmN0aW9uKHQpe3ZhciBlPVwid2lkdGh8aGVpZ2h0fHh8eXxjeHxjeXxyfHJ4fHJ5fHgxfHgyfHkxfHkyXCI7cmV0dXJuKGR8fGIuU3RhdGUuaXNBbmRyb2lkJiYhYi5TdGF0ZS5pc0Nocm9tZSkmJihlKz1cInx0cmFuc2Zvcm1cIiksbmV3IFJlZ0V4cChcIl4oXCIrZStcIikkXCIsXCJpXCIpLnRlc3QodCl9LHByZWZpeENoZWNrOmZ1bmN0aW9uKHQpe2lmKGIuU3RhdGUucHJlZml4TWF0Y2hlc1t0XSlyZXR1cm5bYi5TdGF0ZS5wcmVmaXhNYXRjaGVzW3RdLCEwXTtmb3IodmFyIGU9W1wiXCIsXCJXZWJraXRcIixcIk1velwiLFwibXNcIixcIk9cIl0sbj0wLHI9ZS5sZW5ndGg7cj5uO24rKyl7dmFyIGk7aWYoaT0wPT09bj90OmVbbl0rdC5yZXBsYWNlKC9eXFx3LyxmdW5jdGlvbih0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSksbS5pc1N0cmluZyhiLlN0YXRlLnByZWZpeEVsZW1lbnQuc3R5bGVbaV0pKXJldHVybiBiLlN0YXRlLnByZWZpeE1hdGNoZXNbdF09aSxbaSwhMF19cmV0dXJuW3QsITFdfX0sVmFsdWVzOntoZXhUb1JnYjpmdW5jdGlvbih0KXt2YXIgZSxuPS9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2kscj0vXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pO3JldHVybiB0PXQucmVwbGFjZShuLGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBlK2UrbituK3Ircn0pLGU9ci5leGVjKHQpLGU/W3BhcnNlSW50KGVbMV0sMTYpLHBhcnNlSW50KGVbMl0sMTYpLHBhcnNlSW50KGVbM10sMTYpXTpbMCwwLDBdfSxpc0NTU051bGxWYWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gMD09dHx8L14obm9uZXxhdXRvfHRyYW5zcGFyZW50fChyZ2JhXFwoMCwgPzAsID8wLCA/MFxcKSkpJC9pLnRlc3QodCl9LGdldFVuaXRUeXBlOmZ1bmN0aW9uKHQpe3JldHVybi9eKHJvdGF0ZXxza2V3KS9pLnRlc3QodCk/XCJkZWdcIjovKF4oc2NhbGV8c2NhbGVYfHNjYWxlWXxzY2FsZVp8YWxwaGF8ZmxleEdyb3d8ZmxleEhlaWdodHx6SW5kZXh8Zm9udFdlaWdodCkkKXwoKG9wYWNpdHl8cmVkfGdyZWVufGJsdWV8YWxwaGEpJCkvaS50ZXN0KHQpP1wiXCI6XCJweFwifSxnZXREaXNwbGF5VHlwZTpmdW5jdGlvbih0KXt2YXIgZT10JiZ0LnRhZ05hbWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO3JldHVybi9eKGJ8YmlnfGl8c21hbGx8dHR8YWJicnxhY3JvbnltfGNpdGV8Y29kZXxkZm58ZW18a2JkfHN0cm9uZ3xzYW1wfHZhcnxhfGJkb3xicnxpbWd8bWFwfG9iamVjdHxxfHNjcmlwdHxzcGFufHN1YnxzdXB8YnV0dG9ufGlucHV0fGxhYmVsfHNlbGVjdHx0ZXh0YXJlYSkkL2kudGVzdChlKT9cImlubGluZVwiOi9eKGxpKSQvaS50ZXN0KGUpP1wibGlzdC1pdGVtXCI6L14odHIpJC9pLnRlc3QoZSk/XCJ0YWJsZS1yb3dcIjovXih0YWJsZSkkL2kudGVzdChlKT9cInRhYmxlXCI6L14odGJvZHkpJC9pLnRlc3QoZSk/XCJ0YWJsZS1yb3ctZ3JvdXBcIjpcImJsb2NrXCJ9LGFkZENsYXNzOmZ1bmN0aW9uKHQsZSl7dC5jbGFzc0xpc3Q/dC5jbGFzc0xpc3QuYWRkKGUpOnQuY2xhc3NOYW1lKz0odC5jbGFzc05hbWUubGVuZ3RoP1wiIFwiOlwiXCIpK2V9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQsZSl7dC5jbGFzc0xpc3Q/dC5jbGFzc0xpc3QucmVtb3ZlKGUpOnQuY2xhc3NOYW1lPXQuY2xhc3NOYW1lLnRvU3RyaW5nKCkucmVwbGFjZShuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrZS5zcGxpdChcIiBcIikuam9pbihcInxcIikrXCIoXFxcXHN8JClcIixcImdpXCIpLFwiIFwiKX19LGdldFByb3BlcnR5VmFsdWU6ZnVuY3Rpb24odCxuLGksbyl7ZnVuY3Rpb24gcyh0LG4pe2Z1bmN0aW9uIGkoKXtjJiZDLnNldFByb3BlcnR5VmFsdWUodCxcImRpc3BsYXlcIixcIm5vbmVcIil9dmFyIHU9MDtpZig4Pj1kKXU9Zi5jc3ModCxuKTtlbHNle3ZhciBjPSExO2lmKC9eKHdpZHRofGhlaWdodCkkLy50ZXN0KG4pJiYwPT09Qy5nZXRQcm9wZXJ0eVZhbHVlKHQsXCJkaXNwbGF5XCIpJiYoYz0hMCxDLnNldFByb3BlcnR5VmFsdWUodCxcImRpc3BsYXlcIixDLlZhbHVlcy5nZXREaXNwbGF5VHlwZSh0KSkpLCFvKXtpZihcImhlaWdodFwiPT09biYmXCJib3JkZXItYm94XCIhPT1DLmdldFByb3BlcnR5VmFsdWUodCxcImJveFNpemluZ1wiKS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpe3ZhciBsPXQub2Zmc2V0SGVpZ2h0LShwYXJzZUZsb2F0KEMuZ2V0UHJvcGVydHlWYWx1ZSh0LFwiYm9yZGVyVG9wV2lkdGhcIikpfHwwKS0ocGFyc2VGbG9hdChDLmdldFByb3BlcnR5VmFsdWUodCxcImJvcmRlckJvdHRvbVdpZHRoXCIpKXx8MCktKHBhcnNlRmxvYXQoQy5nZXRQcm9wZXJ0eVZhbHVlKHQsXCJwYWRkaW5nVG9wXCIpKXx8MCktKHBhcnNlRmxvYXQoQy5nZXRQcm9wZXJ0eVZhbHVlKHQsXCJwYWRkaW5nQm90dG9tXCIpKXx8MCk7cmV0dXJuIGkoKSxsfWlmKFwid2lkdGhcIj09PW4mJlwiYm9yZGVyLWJveFwiIT09Qy5nZXRQcm9wZXJ0eVZhbHVlKHQsXCJib3hTaXppbmdcIikudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKXt2YXIgcD10Lm9mZnNldFdpZHRoLShwYXJzZUZsb2F0KEMuZ2V0UHJvcGVydHlWYWx1ZSh0LFwiYm9yZGVyTGVmdFdpZHRoXCIpKXx8MCktKHBhcnNlRmxvYXQoQy5nZXRQcm9wZXJ0eVZhbHVlKHQsXCJib3JkZXJSaWdodFdpZHRoXCIpKXx8MCktKHBhcnNlRmxvYXQoQy5nZXRQcm9wZXJ0eVZhbHVlKHQsXCJwYWRkaW5nTGVmdFwiKSl8fDApLShwYXJzZUZsb2F0KEMuZ2V0UHJvcGVydHlWYWx1ZSh0LFwicGFkZGluZ1JpZ2h0XCIpKXx8MCk7cmV0dXJuIGkoKSxwfX12YXIgaDtoPWEodCk9PT1yP2UuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpOmEodCkuY29tcHV0ZWRTdHlsZT9hKHQpLmNvbXB1dGVkU3R5bGU6YSh0KS5jb21wdXRlZFN0eWxlPWUuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpLFwiYm9yZGVyQ29sb3JcIj09PW4mJihuPVwiYm9yZGVyVG9wQ29sb3JcIiksdT05PT09ZCYmXCJmaWx0ZXJcIj09PW4/aC5nZXRQcm9wZXJ0eVZhbHVlKG4pOmhbbl0sKFwiXCI9PT11fHxudWxsPT09dSkmJih1PXQuc3R5bGVbbl0pLGkoKX1pZihcImF1dG9cIj09PXUmJi9eKHRvcHxyaWdodHxib3R0b218bGVmdCkkL2kudGVzdChuKSl7dmFyIHk9cyh0LFwicG9zaXRpb25cIik7KFwiZml4ZWRcIj09PXl8fFwiYWJzb2x1dGVcIj09PXkmJi90b3B8bGVmdC9pLnRlc3QobikpJiYodT1mKHQpLnBvc2l0aW9uKClbbl0rXCJweFwiKX1yZXR1cm4gdX12YXIgdTtpZihDLkhvb2tzLnJlZ2lzdGVyZWRbbl0pe3ZhciBjPW4sbD1DLkhvb2tzLmdldFJvb3QoYyk7aT09PXImJihpPUMuZ2V0UHJvcGVydHlWYWx1ZSh0LEMuTmFtZXMucHJlZml4Q2hlY2sobClbMF0pKSxDLk5vcm1hbGl6YXRpb25zLnJlZ2lzdGVyZWRbbF0mJihpPUMuTm9ybWFsaXphdGlvbnMucmVnaXN0ZXJlZFtsXShcImV4dHJhY3RcIix0LGkpKSx1PUMuSG9va3MuZXh0cmFjdFZhbHVlKGMsaSl9ZWxzZSBpZihDLk5vcm1hbGl6YXRpb25zLnJlZ2lzdGVyZWRbbl0pe3ZhciBwLGg7cD1DLk5vcm1hbGl6YXRpb25zLnJlZ2lzdGVyZWRbbl0oXCJuYW1lXCIsdCksXCJ0cmFuc2Zvcm1cIiE9PXAmJihoPXModCxDLk5hbWVzLnByZWZpeENoZWNrKHApWzBdKSxDLlZhbHVlcy5pc0NTU051bGxWYWx1ZShoKSYmQy5Ib29rcy50ZW1wbGF0ZXNbbl0mJihoPUMuSG9va3MudGVtcGxhdGVzW25dWzFdKSksdT1DLk5vcm1hbGl6YXRpb25zLnJlZ2lzdGVyZWRbbl0oXCJleHRyYWN0XCIsdCxoKX1pZighL15bXFxkLV0vLnRlc3QodSkpaWYoYSh0KSYmYSh0KS5pc1NWRyYmQy5OYW1lcy5TVkdBdHRyaWJ1dGUobikpaWYoL14oaGVpZ2h0fHdpZHRoKSQvaS50ZXN0KG4pKXRyeXt1PXQuZ2V0QkJveCgpW25dfWNhdGNoKHQpe3U9MH1lbHNlIHU9dC5nZXRBdHRyaWJ1dGUobik7ZWxzZSB1PXModCxDLk5hbWVzLnByZWZpeENoZWNrKG4pWzBdKTtyZXR1cm4gQy5WYWx1ZXMuaXNDU1NOdWxsVmFsdWUodSkmJih1PTApLGIuZGVidWc+PTImJmNvbnNvbGUubG9nKFwiR2V0IFwiK24rXCI6IFwiK3UpLHV9LHNldFByb3BlcnR5VmFsdWU6ZnVuY3Rpb24odCxuLHIsaSxvKXt2YXIgcz1uO2lmKFwic2Nyb2xsXCI9PT1uKW8uY29udGFpbmVyP28uY29udGFpbmVyW1wic2Nyb2xsXCIrby5kaXJlY3Rpb25dPXI6XCJMZWZ0XCI9PT1vLmRpcmVjdGlvbj9lLnNjcm9sbFRvKHIsby5hbHRlcm5hdGVWYWx1ZSk6ZS5zY3JvbGxUbyhvLmFsdGVybmF0ZVZhbHVlLHIpO2Vsc2UgaWYoQy5Ob3JtYWxpemF0aW9ucy5yZWdpc3RlcmVkW25dJiZcInRyYW5zZm9ybVwiPT09Qy5Ob3JtYWxpemF0aW9ucy5yZWdpc3RlcmVkW25dKFwibmFtZVwiLHQpKUMuTm9ybWFsaXphdGlvbnMucmVnaXN0ZXJlZFtuXShcImluamVjdFwiLHQscikscz1cInRyYW5zZm9ybVwiLHI9YSh0KS50cmFuc2Zvcm1DYWNoZVtuXTtlbHNle2lmKEMuSG9va3MucmVnaXN0ZXJlZFtuXSl7dmFyIHU9bixjPUMuSG9va3MuZ2V0Um9vdChuKTtpPWl8fEMuZ2V0UHJvcGVydHlWYWx1ZSh0LGMpLHI9Qy5Ib29rcy5pbmplY3RWYWx1ZSh1LHIsaSksbj1jfWlmKEMuTm9ybWFsaXphdGlvbnMucmVnaXN0ZXJlZFtuXSYmKHI9Qy5Ob3JtYWxpemF0aW9ucy5yZWdpc3RlcmVkW25dKFwiaW5qZWN0XCIsdCxyKSxuPUMuTm9ybWFsaXphdGlvbnMucmVnaXN0ZXJlZFtuXShcIm5hbWVcIix0KSkscz1DLk5hbWVzLnByZWZpeENoZWNrKG4pWzBdLDg+PWQpdHJ5e3Quc3R5bGVbc109cn1jYXRjaCh0KXtiLmRlYnVnJiZjb25zb2xlLmxvZyhcIkJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBbXCIrcitcIl0gZm9yIFtcIitzK1wiXVwiKX1lbHNlIGEodCkmJmEodCkuaXNTVkcmJkMuTmFtZXMuU1ZHQXR0cmlidXRlKG4pP3Quc2V0QXR0cmlidXRlKG4scik6dC5zdHlsZVtzXT1yO2IuZGVidWc+PTImJmNvbnNvbGUubG9nKFwiU2V0IFwiK24rXCIgKFwiK3MrXCIpOiBcIityKX1yZXR1cm5bcyxyXX0sZmx1c2hUcmFuc2Zvcm1DYWNoZTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiBwYXJzZUZsb2F0KEMuZ2V0UHJvcGVydHlWYWx1ZSh0LGUpKX12YXIgbj1cIlwiO2lmKChkfHxiLlN0YXRlLmlzQW5kcm9pZCYmIWIuU3RhdGUuaXNDaHJvbWUpJiZhKHQpLmlzU1ZHKXt2YXIgcj17dHJhbnNsYXRlOltlKFwidHJhbnNsYXRlWFwiKSxlKFwidHJhbnNsYXRlWVwiKV0sc2tld1g6W2UoXCJza2V3WFwiKV0sc2tld1k6W2UoXCJza2V3WVwiKV0sc2NhbGU6MSE9PWUoXCJzY2FsZVwiKT9bZShcInNjYWxlXCIpLGUoXCJzY2FsZVwiKV06W2UoXCJzY2FsZVhcIiksZShcInNjYWxlWVwiKV0scm90YXRlOltlKFwicm90YXRlWlwiKSwwLDBdfTtmLmVhY2goYSh0KS50cmFuc2Zvcm1DYWNoZSxmdW5jdGlvbih0KXsvXnRyYW5zbGF0ZS9pLnRlc3QodCk/dD1cInRyYW5zbGF0ZVwiOi9ec2NhbGUvaS50ZXN0KHQpP3Q9XCJzY2FsZVwiOi9ecm90YXRlL2kudGVzdCh0KSYmKHQ9XCJyb3RhdGVcIiksclt0XSYmKG4rPXQrXCIoXCIrclt0XS5qb2luKFwiIFwiKStcIikgXCIsZGVsZXRlIHJbdF0pfSl9ZWxzZXt2YXIgaSxvO2YuZWFjaChhKHQpLnRyYW5zZm9ybUNhY2hlLGZ1bmN0aW9uKGUpe3JldHVybiBpPWEodCkudHJhbnNmb3JtQ2FjaGVbZV0sXCJ0cmFuc2Zvcm1QZXJzcGVjdGl2ZVwiPT09ZT8obz1pLCEwKTooOT09PWQmJlwicm90YXRlWlwiPT09ZSYmKGU9XCJyb3RhdGVcIiksdm9pZChuKz1lK2krXCIgXCIpKX0pLG8mJihuPVwicGVyc3BlY3RpdmVcIitvK1wiIFwiK24pfUMuc2V0UHJvcGVydHlWYWx1ZSh0LFwidHJhbnNmb3JtXCIsbil9fTtDLkhvb2tzLnJlZ2lzdGVyKCksQy5Ob3JtYWxpemF0aW9ucy5yZWdpc3RlcigpLGIuaG9vaz1mdW5jdGlvbih0LGUsbil7dmFyIGk9cjtyZXR1cm4gdD1zKHQpLGYuZWFjaCh0LGZ1bmN0aW9uKHQsbyl7aWYoYShvKT09PXImJmIuaW5pdChvKSxuPT09cilpPT09ciYmKGk9Yi5DU1MuZ2V0UHJvcGVydHlWYWx1ZShvLGUpKTtlbHNle3ZhciBzPWIuQ1NTLnNldFByb3BlcnR5VmFsdWUobyxlLG4pO1widHJhbnNmb3JtXCI9PT1zWzBdJiZiLkNTUy5mbHVzaFRyYW5zZm9ybUNhY2hlKG8pLGk9c319KSxpfTt2YXIgRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbz9PLnByb21pc2V8fG51bGw6dX1mdW5jdGlvbiBpKCl7ZnVuY3Rpb24gdCh0KXtmdW5jdGlvbiBjKHQsZSl7dmFyIG49cixpPXIsYT1yO3JldHVybiBtLmlzQXJyYXkodCk/KG49dFswXSwhbS5pc0FycmF5KHRbMV0pJiYvXltcXGQtXS8udGVzdCh0WzFdKXx8bS5pc0Z1bmN0aW9uKHRbMV0pfHxDLlJlZ0V4LmlzSGV4LnRlc3QodFsxXSk/YT10WzFdOihtLmlzU3RyaW5nKHRbMV0pJiYhQy5SZWdFeC5pc0hleC50ZXN0KHRbMV0pfHxtLmlzQXJyYXkodFsxXSkpJiYoaT1lP3RbMV06bCh0WzFdLHMuZHVyYXRpb24pLFxudFsyXSE9PXImJihhPXRbMl0pKSk6bj10LGV8fChpPWl8fHMuZWFzaW5nKSxtLmlzRnVuY3Rpb24obikmJihuPW4uY2FsbChvLFMsdykpLG0uaXNGdW5jdGlvbihhKSYmKGE9YS5jYWxsKG8sUyx3KSksW258fDAsaSxhXX1mdW5jdGlvbiBoKHQsZSl7dmFyIG4scjtyZXR1cm4gcj0oZXx8XCIwXCIpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bJUEtel0rJC8sZnVuY3Rpb24odCl7cmV0dXJuIG49dCxcIlwifSksbnx8KG49Qy5WYWx1ZXMuZ2V0VW5pdFR5cGUodCkpLFtyLG5dfWZ1bmN0aW9uIGcoKXt2YXIgdD17bXlQYXJlbnQ6by5wYXJlbnROb2RlfHxuLmJvZHkscG9zaXRpb246Qy5nZXRQcm9wZXJ0eVZhbHVlKG8sXCJwb3NpdGlvblwiKSxmb250U2l6ZTpDLmdldFByb3BlcnR5VmFsdWUobyxcImZvbnRTaXplXCIpfSxyPXQucG9zaXRpb249PT1OLmxhc3RQb3NpdGlvbiYmdC5teVBhcmVudD09PU4ubGFzdFBhcmVudCxpPXQuZm9udFNpemU9PT1OLmxhc3RGb250U2l6ZTtOLmxhc3RQYXJlbnQ9dC5teVBhcmVudCxOLmxhc3RQb3NpdGlvbj10LnBvc2l0aW9uLE4ubGFzdEZvbnRTaXplPXQuZm9udFNpemU7dmFyIHM9MTAwLHU9e307aWYoaSYmcil1LmVtVG9QeD1OLmxhc3RFbVRvUHgsdS5wZXJjZW50VG9QeFdpZHRoPU4ubGFzdFBlcmNlbnRUb1B4V2lkdGgsdS5wZXJjZW50VG9QeEhlaWdodD1OLmxhc3RQZXJjZW50VG9QeEhlaWdodDtlbHNle3ZhciBjPWEobykuaXNTVkc/bi5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwicmVjdFwiKTpuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yi5pbml0KGMpLHQubXlQYXJlbnQuYXBwZW5kQ2hpbGQoYyksZi5lYWNoKFtcIm92ZXJmbG93XCIsXCJvdmVyZmxvd1hcIixcIm92ZXJmbG93WVwiXSxmdW5jdGlvbih0LGUpe2IuQ1NTLnNldFByb3BlcnR5VmFsdWUoYyxlLFwiaGlkZGVuXCIpfSksYi5DU1Muc2V0UHJvcGVydHlWYWx1ZShjLFwicG9zaXRpb25cIix0LnBvc2l0aW9uKSxiLkNTUy5zZXRQcm9wZXJ0eVZhbHVlKGMsXCJmb250U2l6ZVwiLHQuZm9udFNpemUpLGIuQ1NTLnNldFByb3BlcnR5VmFsdWUoYyxcImJveFNpemluZ1wiLFwiY29udGVudC1ib3hcIiksZi5lYWNoKFtcIm1pbldpZHRoXCIsXCJtYXhXaWR0aFwiLFwid2lkdGhcIixcIm1pbkhlaWdodFwiLFwibWF4SGVpZ2h0XCIsXCJoZWlnaHRcIl0sZnVuY3Rpb24odCxlKXtiLkNTUy5zZXRQcm9wZXJ0eVZhbHVlKGMsZSxzK1wiJVwiKX0pLGIuQ1NTLnNldFByb3BlcnR5VmFsdWUoYyxcInBhZGRpbmdMZWZ0XCIscytcImVtXCIpLHUucGVyY2VudFRvUHhXaWR0aD1OLmxhc3RQZXJjZW50VG9QeFdpZHRoPShwYXJzZUZsb2F0KEMuZ2V0UHJvcGVydHlWYWx1ZShjLFwid2lkdGhcIixudWxsLCEwKSl8fDEpL3MsdS5wZXJjZW50VG9QeEhlaWdodD1OLmxhc3RQZXJjZW50VG9QeEhlaWdodD0ocGFyc2VGbG9hdChDLmdldFByb3BlcnR5VmFsdWUoYyxcImhlaWdodFwiLG51bGwsITApKXx8MSkvcyx1LmVtVG9QeD1OLmxhc3RFbVRvUHg9KHBhcnNlRmxvYXQoQy5nZXRQcm9wZXJ0eVZhbHVlKGMsXCJwYWRkaW5nTGVmdFwiKSl8fDEpL3MsdC5teVBhcmVudC5yZW1vdmVDaGlsZChjKX1yZXR1cm4gbnVsbD09PU4ucmVtVG9QeCYmKE4ucmVtVG9QeD1wYXJzZUZsb2F0KEMuZ2V0UHJvcGVydHlWYWx1ZShuLmJvZHksXCJmb250U2l6ZVwiKSl8fDE2KSxudWxsPT09Ti52d1RvUHgmJihOLnZ3VG9QeD1wYXJzZUZsb2F0KGUuaW5uZXJXaWR0aCkvMTAwLE4udmhUb1B4PXBhcnNlRmxvYXQoZS5pbm5lckhlaWdodCkvMTAwKSx1LnJlbVRvUHg9Ti5yZW1Ub1B4LHUudndUb1B4PU4udndUb1B4LHUudmhUb1B4PU4udmhUb1B4LGIuZGVidWc+PTEmJmNvbnNvbGUubG9nKFwiVW5pdCByYXRpb3M6IFwiK0pTT04uc3RyaW5naWZ5KHUpLG8pLHV9aWYocy5iZWdpbiYmMD09PVMpdHJ5e3MuYmVnaW4uY2FsbChkLGQpfWNhdGNoKHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyB0fSwxKX1pZihcInNjcm9sbFwiPT09VCl7dmFyIF8sRSx4LFA9L154JC9pLnRlc3Qocy5heGlzKT9cIkxlZnRcIjpcIlRvcFwiLEE9cGFyc2VGbG9hdChzLm9mZnNldCl8fDA7cy5jb250YWluZXI/bS5pc1dyYXBwZWQocy5jb250YWluZXIpfHxtLmlzTm9kZShzLmNvbnRhaW5lcik/KHMuY29udGFpbmVyPXMuY29udGFpbmVyWzBdfHxzLmNvbnRhaW5lcixfPXMuY29udGFpbmVyW1wic2Nyb2xsXCIrUF0seD1fK2YobykucG9zaXRpb24oKVtQLnRvTG93ZXJDYXNlKCldK0EpOnMuY29udGFpbmVyPW51bGw6KF89Yi5TdGF0ZS5zY3JvbGxBbmNob3JbYi5TdGF0ZVtcInNjcm9sbFByb3BlcnR5XCIrUF1dLEU9Yi5TdGF0ZS5zY3JvbGxBbmNob3JbYi5TdGF0ZVtcInNjcm9sbFByb3BlcnR5XCIrKFwiTGVmdFwiPT09UD9cIlRvcFwiOlwiTGVmdFwiKV1dLHg9ZihvKS5vZmZzZXQoKVtQLnRvTG93ZXJDYXNlKCldK0EpLHU9e3Njcm9sbDp7cm9vdFByb3BlcnR5VmFsdWU6ITEsc3RhcnRWYWx1ZTpfLGN1cnJlbnRWYWx1ZTpfLGVuZFZhbHVlOngsdW5pdFR5cGU6XCJcIixlYXNpbmc6cy5lYXNpbmcsc2Nyb2xsRGF0YTp7Y29udGFpbmVyOnMuY29udGFpbmVyLGRpcmVjdGlvbjpQLGFsdGVybmF0ZVZhbHVlOkV9fSxlbGVtZW50Om99LGIuZGVidWcmJmNvbnNvbGUubG9nKFwidHdlZW5zQ29udGFpbmVyIChzY3JvbGwpOiBcIix1LnNjcm9sbCxvKX1lbHNlIGlmKFwicmV2ZXJzZVwiPT09VCl7aWYoIWEobykudHdlZW5zQ29udGFpbmVyKXJldHVybiB2b2lkIGYuZGVxdWV1ZShvLHMucXVldWUpO1wibm9uZVwiPT09YShvKS5vcHRzLmRpc3BsYXkmJihhKG8pLm9wdHMuZGlzcGxheT1cImF1dG9cIiksXCJoaWRkZW5cIj09PWEobykub3B0cy52aXNpYmlsaXR5JiYoYShvKS5vcHRzLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIpLGEobykub3B0cy5sb29wPSExLGEobykub3B0cy5iZWdpbj1udWxsLGEobykub3B0cy5jb21wbGV0ZT1udWxsLHYuZWFzaW5nfHxkZWxldGUgcy5lYXNpbmcsdi5kdXJhdGlvbnx8ZGVsZXRlIHMuZHVyYXRpb24scz1mLmV4dGVuZCh7fSxhKG8pLm9wdHMscyk7dmFyIE09Zi5leHRlbmQoITAse30sYShvKS50d2VlbnNDb250YWluZXIpO2Zvcih2YXIgayBpbiBNKWlmKFwiZWxlbWVudFwiIT09ayl7dmFyIFI9TVtrXS5zdGFydFZhbHVlO01ba10uc3RhcnRWYWx1ZT1NW2tdLmN1cnJlbnRWYWx1ZT1NW2tdLmVuZFZhbHVlLE1ba10uZW5kVmFsdWU9UixtLmlzRW1wdHlPYmplY3Qodil8fChNW2tdLmVhc2luZz1zLmVhc2luZyksYi5kZWJ1ZyYmY29uc29sZS5sb2coXCJyZXZlcnNlIHR3ZWVuc0NvbnRhaW5lciAoXCIraytcIik6IFwiK0pTT04uc3RyaW5naWZ5KE1ba10pLG8pfXU9TX1lbHNlIGlmKFwic3RhcnRcIj09PVQpe3ZhciBNO2EobykudHdlZW5zQ29udGFpbmVyJiZhKG8pLmlzQW5pbWF0aW5nPT09ITAmJihNPWEobykudHdlZW5zQ29udGFpbmVyKSxmLmVhY2goeSxmdW5jdGlvbih0LGUpe2lmKFJlZ0V4cChcIl5cIitDLkxpc3RzLmNvbG9ycy5qb2luKFwiJHxeXCIpK1wiJFwiKS50ZXN0KHQpKXt2YXIgbj1jKGUsITApLGk9blswXSxvPW5bMV0scz1uWzJdO2lmKEMuUmVnRXguaXNIZXgudGVzdChpKSl7Zm9yKHZhciBhPVtcIlJlZFwiLFwiR3JlZW5cIixcIkJsdWVcIl0sdT1DLlZhbHVlcy5oZXhUb1JnYihpKSxsPXM/Qy5WYWx1ZXMuaGV4VG9SZ2Iocyk6cixwPTA7cDxhLmxlbmd0aDtwKyspe3ZhciBoPVt1W3BdXTtvJiZoLnB1c2gobyksbCE9PXImJmgucHVzaChsW3BdKSx5W3QrYVtwXV09aH1kZWxldGUgeVt0XX19fSk7Zm9yKHZhciBJIGluIHkpe3ZhciBqPWMoeVtJXSksVj1qWzBdLEw9alsxXSxGPWpbMl07ST1DLk5hbWVzLmNhbWVsQ2FzZShJKTt2YXIgVT1DLkhvb2tzLmdldFJvb3QoSSksSD0hMTtpZihhKG8pLmlzU1ZHfHxcInR3ZWVuXCI9PT1VfHxDLk5hbWVzLnByZWZpeENoZWNrKFUpWzFdIT09ITF8fEMuTm9ybWFsaXphdGlvbnMucmVnaXN0ZXJlZFtVXSE9PXIpeyhzLmRpc3BsYXkhPT1yJiZudWxsIT09cy5kaXNwbGF5JiZcIm5vbmVcIiE9PXMuZGlzcGxheXx8cy52aXNpYmlsaXR5IT09ciYmXCJoaWRkZW5cIiE9PXMudmlzaWJpbGl0eSkmJi9vcGFjaXR5fGZpbHRlci8udGVzdChJKSYmIUYmJjAhPT1WJiYoRj0wKSxzLl9jYWNoZVZhbHVlcyYmTSYmTVtJXT8oRj09PXImJihGPU1bSV0uZW5kVmFsdWUrTVtJXS51bml0VHlwZSksSD1hKG8pLnJvb3RQcm9wZXJ0eVZhbHVlQ2FjaGVbVV0pOkMuSG9va3MucmVnaXN0ZXJlZFtJXT9GPT09cj8oSD1DLmdldFByb3BlcnR5VmFsdWUobyxVKSxGPUMuZ2V0UHJvcGVydHlWYWx1ZShvLEksSCkpOkg9Qy5Ib29rcy50ZW1wbGF0ZXNbVV1bMV06Rj09PXImJihGPUMuZ2V0UHJvcGVydHlWYWx1ZShvLEkpKTt2YXIgQixxLHosVz0hMTtpZihCPWgoSSxGKSxGPUJbMF0sej1CWzFdLEI9aChJLFYpLFY9QlswXS5yZXBsYWNlKC9eKFsrLVxcLypdKT0vLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIFc9ZSxcIlwifSkscT1CWzFdLEY9cGFyc2VGbG9hdChGKXx8MCxWPXBhcnNlRmxvYXQoVil8fDAsXCIlXCI9PT1xJiYoL14oZm9udFNpemV8bGluZUhlaWdodCkkLy50ZXN0KEkpPyhWLz0xMDAscT1cImVtXCIpOi9ec2NhbGUvLnRlc3QoSSk/KFYvPTEwMCxxPVwiXCIpOi8oUmVkfEdyZWVufEJsdWUpJC9pLnRlc3QoSSkmJihWPVYvMTAwKjI1NSxxPVwiXCIpKSwvW1xcLypdLy50ZXN0KFcpKXE9ejtlbHNlIGlmKHohPT1xJiYwIT09RilpZigwPT09VilxPXo7ZWxzZXtpPWl8fGcoKTt2YXIgRz0vbWFyZ2lufHBhZGRpbmd8bGVmdHxyaWdodHx3aWR0aHx0ZXh0fHdvcmR8bGV0dGVyL2kudGVzdChJKXx8L1gkLy50ZXN0KEkpfHxcInhcIj09PUk/XCJ4XCI6XCJ5XCI7c3dpdGNoKHope2Nhc2VcIiVcIjpGKj1cInhcIj09PUc/aS5wZXJjZW50VG9QeFdpZHRoOmkucGVyY2VudFRvUHhIZWlnaHQ7YnJlYWs7Y2FzZVwicHhcIjpicmVhaztkZWZhdWx0OkYqPWlbeitcIlRvUHhcIl19c3dpdGNoKHEpe2Nhc2VcIiVcIjpGKj0xLyhcInhcIj09PUc/aS5wZXJjZW50VG9QeFdpZHRoOmkucGVyY2VudFRvUHhIZWlnaHQpO2JyZWFrO2Nhc2VcInB4XCI6YnJlYWs7ZGVmYXVsdDpGKj0xL2lbcStcIlRvUHhcIl19fXN3aXRjaChXKXtjYXNlXCIrXCI6Vj1GK1Y7YnJlYWs7Y2FzZVwiLVwiOlY9Ri1WO2JyZWFrO2Nhc2VcIipcIjpWKj1GO2JyZWFrO2Nhc2VcIi9cIjpWPUYvVn11W0ldPXtyb290UHJvcGVydHlWYWx1ZTpILHN0YXJ0VmFsdWU6RixjdXJyZW50VmFsdWU6RixlbmRWYWx1ZTpWLHVuaXRUeXBlOnEsZWFzaW5nOkx9LGIuZGVidWcmJmNvbnNvbGUubG9nKFwidHdlZW5zQ29udGFpbmVyIChcIitJK1wiKTogXCIrSlNPTi5zdHJpbmdpZnkodVtJXSksbyl9ZWxzZSBiLmRlYnVnJiZjb25zb2xlLmxvZyhcIlNraXBwaW5nIFtcIitVK1wiXSBkdWUgdG8gYSBsYWNrIG9mIGJyb3dzZXIgc3VwcG9ydC5cIil9dS5lbGVtZW50PW99dS5lbGVtZW50JiYoQy5WYWx1ZXMuYWRkQ2xhc3MobyxcInZlbG9jaXR5LWFuaW1hdGluZ1wiKSxELnB1c2godSksXCJcIj09PXMucXVldWUmJihhKG8pLnR3ZWVuc0NvbnRhaW5lcj11LGEobykub3B0cz1zKSxhKG8pLmlzQW5pbWF0aW5nPSEwLFM9PT13LTE/KGIuU3RhdGUuY2FsbHMucHVzaChbRCxkLHMsbnVsbCxPLnJlc29sdmVyXSksYi5TdGF0ZS5pc1RpY2tpbmc9PT0hMSYmKGIuU3RhdGUuaXNUaWNraW5nPSEwLHAoKSkpOlMrKyl9dmFyIGksbz10aGlzLHM9Zi5leHRlbmQoe30sYi5kZWZhdWx0cyx2KSx1PXt9O3N3aXRjaChhKG8pPT09ciYmYi5pbml0KG8pLHBhcnNlRmxvYXQocy5kZWxheSkmJnMucXVldWUhPT0hMSYmZi5xdWV1ZShvLHMucXVldWUsZnVuY3Rpb24odCl7Yi52ZWxvY2l0eVF1ZXVlRW50cnlGbGFnPSEwLGEobykuZGVsYXlUaW1lcj17c2V0VGltZW91dDpzZXRUaW1lb3V0KHQscGFyc2VGbG9hdChzLmRlbGF5KSksbmV4dDp0fX0pLHMuZHVyYXRpb24udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJmYXN0XCI6cy5kdXJhdGlvbj0yMDA7YnJlYWs7Y2FzZVwibm9ybWFsXCI6cy5kdXJhdGlvbj1nO2JyZWFrO2Nhc2VcInNsb3dcIjpzLmR1cmF0aW9uPTYwMDticmVhaztkZWZhdWx0OnMuZHVyYXRpb249cGFyc2VGbG9hdChzLmR1cmF0aW9uKXx8MX1iLm1vY2shPT0hMSYmKGIubW9jaz09PSEwP3MuZHVyYXRpb249cy5kZWxheT0xOihzLmR1cmF0aW9uKj1wYXJzZUZsb2F0KGIubW9jayl8fDEscy5kZWxheSo9cGFyc2VGbG9hdChiLm1vY2spfHwxKSkscy5lYXNpbmc9bChzLmVhc2luZyxzLmR1cmF0aW9uKSxzLmJlZ2luJiYhbS5pc0Z1bmN0aW9uKHMuYmVnaW4pJiYocy5iZWdpbj1udWxsKSxzLnByb2dyZXNzJiYhbS5pc0Z1bmN0aW9uKHMucHJvZ3Jlc3MpJiYocy5wcm9ncmVzcz1udWxsKSxzLmNvbXBsZXRlJiYhbS5pc0Z1bmN0aW9uKHMuY29tcGxldGUpJiYocy5jb21wbGV0ZT1udWxsKSxzLmRpc3BsYXkhPT1yJiZudWxsIT09cy5kaXNwbGF5JiYocy5kaXNwbGF5PXMuZGlzcGxheS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCksXCJhdXRvXCI9PT1zLmRpc3BsYXkmJihzLmRpc3BsYXk9Yi5DU1MuVmFsdWVzLmdldERpc3BsYXlUeXBlKG8pKSkscy52aXNpYmlsaXR5IT09ciYmbnVsbCE9PXMudmlzaWJpbGl0eSYmKHMudmlzaWJpbGl0eT1zLnZpc2liaWxpdHkudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKSxzLm1vYmlsZUhBPXMubW9iaWxlSEEmJmIuU3RhdGUuaXNNb2JpbGUmJiFiLlN0YXRlLmlzR2luZ2VyYnJlYWQscy5xdWV1ZT09PSExP3MuZGVsYXk/c2V0VGltZW91dCh0LHMuZGVsYXkpOnQoKTpmLnF1ZXVlKG8scy5xdWV1ZSxmdW5jdGlvbihlLG4pe3JldHVybiBuPT09ITA/KE8ucHJvbWlzZSYmTy5yZXNvbHZlcihkKSwhMCk6KGIudmVsb2NpdHlRdWV1ZUVudHJ5RmxhZz0hMCx2b2lkIHQoZSkpfSksXCJcIiE9PXMucXVldWUmJlwiZnhcIiE9PXMucXVldWV8fFwiaW5wcm9ncmVzc1wiPT09Zi5xdWV1ZShvKVswXXx8Zi5kZXF1ZXVlKG8pfXZhciBvLHUsYyxkLHksdixfPWFyZ3VtZW50c1swXSYmKGFyZ3VtZW50c1swXS5wfHxmLmlzUGxhaW5PYmplY3QoYXJndW1lbnRzWzBdLnByb3BlcnRpZXMpJiYhYXJndW1lbnRzWzBdLnByb3BlcnRpZXMubmFtZXN8fG0uaXNTdHJpbmcoYXJndW1lbnRzWzBdLnByb3BlcnRpZXMpKTtpZihtLmlzV3JhcHBlZCh0aGlzKT8obz0hMSxjPTAsZD10aGlzLHU9dGhpcyk6KG89ITAsYz0xLGQ9Xz9hcmd1bWVudHNbMF0uZWxlbWVudHN8fGFyZ3VtZW50c1swXS5lOmFyZ3VtZW50c1swXSksZD1zKGQpKXtfPyh5PWFyZ3VtZW50c1swXS5wcm9wZXJ0aWVzfHxhcmd1bWVudHNbMF0ucCx2PWFyZ3VtZW50c1swXS5vcHRpb25zfHxhcmd1bWVudHNbMF0ubyk6KHk9YXJndW1lbnRzW2NdLHY9YXJndW1lbnRzW2MrMV0pO3ZhciB3PWQubGVuZ3RoLFM9MDtpZighL14oc3RvcHxmaW5pc2gpJC9pLnRlc3QoeSkmJiFmLmlzUGxhaW5PYmplY3Qodikpe3ZhciB4PWMrMTt2PXt9O2Zvcih2YXIgUD14O1A8YXJndW1lbnRzLmxlbmd0aDtQKyspbS5pc0FycmF5KGFyZ3VtZW50c1tQXSl8fCEvXihmYXN0fG5vcm1hbHxzbG93KSQvaS50ZXN0KGFyZ3VtZW50c1tQXSkmJiEvXlxcZC8udGVzdChhcmd1bWVudHNbUF0pP20uaXNTdHJpbmcoYXJndW1lbnRzW1BdKXx8bS5pc0FycmF5KGFyZ3VtZW50c1tQXSk/di5lYXNpbmc9YXJndW1lbnRzW1BdOm0uaXNGdW5jdGlvbihhcmd1bWVudHNbUF0pJiYodi5jb21wbGV0ZT1hcmd1bWVudHNbUF0pOnYuZHVyYXRpb249YXJndW1lbnRzW1BdfXZhciBPPXtwcm9taXNlOm51bGwscmVzb2x2ZXI6bnVsbCxyZWplY3RlcjpudWxsfTtvJiZiLlByb21pc2UmJihPLnByb21pc2U9bmV3IGIuUHJvbWlzZShmdW5jdGlvbih0LGUpe08ucmVzb2x2ZXI9dCxPLnJlamVjdGVyPWV9KSk7dmFyIFQ7c3dpdGNoKHkpe2Nhc2VcInNjcm9sbFwiOlQ9XCJzY3JvbGxcIjticmVhaztjYXNlXCJyZXZlcnNlXCI6VD1cInJldmVyc2VcIjticmVhaztjYXNlXCJmaW5pc2hcIjpjYXNlXCJzdG9wXCI6Zi5lYWNoKGQsZnVuY3Rpb24odCxlKXthKGUpJiZhKGUpLmRlbGF5VGltZXImJihjbGVhclRpbWVvdXQoYShlKS5kZWxheVRpbWVyLnNldFRpbWVvdXQpLGEoZSkuZGVsYXlUaW1lci5uZXh0JiZhKGUpLmRlbGF5VGltZXIubmV4dCgpLGRlbGV0ZSBhKGUpLmRlbGF5VGltZXIpfSk7dmFyIEE9W107cmV0dXJuIGYuZWFjaChiLlN0YXRlLmNhbGxzLGZ1bmN0aW9uKHQsZSl7ZSYmZi5lYWNoKGVbMV0sZnVuY3Rpb24obixpKXt2YXIgbz12PT09cj9cIlwiOnY7cmV0dXJuIG8hPT0hMCYmZVsyXS5xdWV1ZSE9PW8mJih2IT09cnx8ZVsyXS5xdWV1ZSE9PSExKXx8dm9pZCBmLmVhY2goZCxmdW5jdGlvbihuLHIpe3I9PT1pJiYoKHY9PT0hMHx8bS5pc1N0cmluZyh2KSkmJihmLmVhY2goZi5xdWV1ZShyLG0uaXNTdHJpbmcodik/djpcIlwiKSxmdW5jdGlvbih0LGUpe20uaXNGdW5jdGlvbihlKSYmZShudWxsLCEwKX0pLGYucXVldWUocixtLmlzU3RyaW5nKHYpP3Y6XCJcIixbXSkpLFwic3RvcFwiPT09eT8oYShyKSYmYShyKS50d2VlbnNDb250YWluZXImJm8hPT0hMSYmZi5lYWNoKGEocikudHdlZW5zQ29udGFpbmVyLGZ1bmN0aW9uKHQsZSl7ZS5lbmRWYWx1ZT1lLmN1cnJlbnRWYWx1ZX0pLEEucHVzaCh0KSk6XCJmaW5pc2hcIj09PXkmJihlWzJdLmR1cmF0aW9uPTEpKX0pfSl9KSxcInN0b3BcIj09PXkmJihmLmVhY2goQSxmdW5jdGlvbih0LGUpe2goZSwhMCl9KSxPLnByb21pc2UmJk8ucmVzb2x2ZXIoZCkpLHQoKTtkZWZhdWx0OmlmKCFmLmlzUGxhaW5PYmplY3QoeSl8fG0uaXNFbXB0eU9iamVjdCh5KSl7aWYobS5pc1N0cmluZyh5KSYmYi5SZWRpcmVjdHNbeV0pe3ZhciBNPWYuZXh0ZW5kKHt9LHYpLGs9TS5kdXJhdGlvbixSPU0uZGVsYXl8fDA7cmV0dXJuIE0uYmFja3dhcmRzPT09ITAmJihkPWYuZXh0ZW5kKCEwLFtdLGQpLnJldmVyc2UoKSksZi5lYWNoKGQsZnVuY3Rpb24odCxlKXtwYXJzZUZsb2F0KE0uc3RhZ2dlcik/TS5kZWxheT1SK3BhcnNlRmxvYXQoTS5zdGFnZ2VyKSp0Om0uaXNGdW5jdGlvbihNLnN0YWdnZXIpJiYoTS5kZWxheT1SK00uc3RhZ2dlci5jYWxsKGUsdCx3KSksTS5kcmFnJiYoTS5kdXJhdGlvbj1wYXJzZUZsb2F0KGspfHwoL14oY2FsbG91dHx0cmFuc2l0aW9uKS8udGVzdCh5KT8xZTM6ZyksTS5kdXJhdGlvbj1NYXRoLm1heChNLmR1cmF0aW9uKihNLmJhY2t3YXJkcz8xLXQvdzoodCsxKS93KSwuNzUqTS5kdXJhdGlvbiwyMDApKSxiLlJlZGlyZWN0c1t5XS5jYWxsKGUsZSxNfHx7fSx0LHcsZCxPLnByb21pc2U/TzpyKX0pLHQoKX12YXIgST1cIlZlbG9jaXR5OiBGaXJzdCBhcmd1bWVudCAoXCIreStcIikgd2FzIG5vdCBhIHByb3BlcnR5IG1hcCwgYSBrbm93biBhY3Rpb24sIG9yIGEgcmVnaXN0ZXJlZCByZWRpcmVjdC4gQWJvcnRpbmcuXCI7cmV0dXJuIE8ucHJvbWlzZT9PLnJlamVjdGVyKG5ldyBFcnJvcihJKSk6Y29uc29sZS5sb2coSSksdCgpfVQ9XCJzdGFydFwifXZhciBOPXtsYXN0UGFyZW50Om51bGwsbGFzdFBvc2l0aW9uOm51bGwsbGFzdEZvbnRTaXplOm51bGwsbGFzdFBlcmNlbnRUb1B4V2lkdGg6bnVsbCxsYXN0UGVyY2VudFRvUHhIZWlnaHQ6bnVsbCxsYXN0RW1Ub1B4Om51bGwscmVtVG9QeDpudWxsLHZ3VG9QeDpudWxsLHZoVG9QeDpudWxsfSxEPVtdO2YuZWFjaChkLGZ1bmN0aW9uKHQsZSl7bS5pc05vZGUoZSkmJmkuY2FsbChlKX0pO3ZhciBqLE09Zi5leHRlbmQoe30sYi5kZWZhdWx0cyx2KTtpZihNLmxvb3A9cGFyc2VJbnQoTS5sb29wKSxqPTIqTS5sb29wLTEsTS5sb29wKWZvcih2YXIgVj0wO2o+VjtWKyspe3ZhciBMPXtkZWxheTpNLmRlbGF5LHByb2dyZXNzOk0ucHJvZ3Jlc3N9O1Y9PT1qLTEmJihMLmRpc3BsYXk9TS5kaXNwbGF5LEwudmlzaWJpbGl0eT1NLnZpc2liaWxpdHksTC5jb21wbGV0ZT1NLmNvbXBsZXRlKSxFKGQsXCJyZXZlcnNlXCIsTCl9cmV0dXJuIHQoKX19O2I9Zi5leHRlbmQoRSxiKSxiLmFuaW1hdGU9RTt2YXIgUz1lLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8eTtyZXR1cm4gYi5TdGF0ZS5pc01vYmlsZXx8bi5oaWRkZW49PT1yfHxuLmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsZnVuY3Rpb24oKXtuLmhpZGRlbj8oUz1mdW5jdGlvbih0KXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3QoITApfSwxNil9LHAoKSk6Uz1lLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8eX0pLHQuVmVsb2NpdHk9Yix0IT09ZSYmKHQuZm4udmVsb2NpdHk9RSx0LmZuLnZlbG9jaXR5LmRlZmF1bHRzPWIuZGVmYXVsdHMpLGYuZWFjaChbXCJEb3duXCIsXCJVcFwiXSxmdW5jdGlvbih0LGUpe2IuUmVkaXJlY3RzW1wic2xpZGVcIitlXT1mdW5jdGlvbih0LG4saSxvLHMsYSl7dmFyIHU9Zi5leHRlbmQoe30sbiksYz11LmJlZ2luLGw9dS5jb21wbGV0ZSxwPXtoZWlnaHQ6XCJcIixtYXJnaW5Ub3A6XCJcIixtYXJnaW5Cb3R0b206XCJcIixwYWRkaW5nVG9wOlwiXCIscGFkZGluZ0JvdHRvbTpcIlwifSxoPXt9O3UuZGlzcGxheT09PXImJih1LmRpc3BsYXk9XCJEb3duXCI9PT1lP1wiaW5saW5lXCI9PT1iLkNTUy5WYWx1ZXMuZ2V0RGlzcGxheVR5cGUodCk/XCJpbmxpbmUtYmxvY2tcIjpcImJsb2NrXCI6XCJub25lXCIpLHUuYmVnaW49ZnVuY3Rpb24oKXtjJiZjLmNhbGwocyxzKTtmb3IodmFyIG4gaW4gcCl7aFtuXT10LnN0eWxlW25dO3ZhciByPWIuQ1NTLmdldFByb3BlcnR5VmFsdWUodCxuKTtwW25dPVwiRG93blwiPT09ZT9bciwwXTpbMCxyXX1oLm92ZXJmbG93PXQuc3R5bGUub3ZlcmZsb3csdC5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwifSx1LmNvbXBsZXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIGgpdC5zdHlsZVtlXT1oW2VdO2wmJmwuY2FsbChzLHMpLGEmJmEucmVzb2x2ZXIocyl9LGIodCxwLHUpfX0pLGYuZWFjaChbXCJJblwiLFwiT3V0XCJdLGZ1bmN0aW9uKHQsZSl7Yi5SZWRpcmVjdHNbXCJmYWRlXCIrZV09ZnVuY3Rpb24odCxuLGksbyxzLGEpe3ZhciB1PWYuZXh0ZW5kKHt9LG4pLGM9e29wYWNpdHk6XCJJblwiPT09ZT8xOjB9LGw9dS5jb21wbGV0ZTt1LmNvbXBsZXRlPWkhPT1vLTE/dS5iZWdpbj1udWxsOmZ1bmN0aW9uKCl7bCYmbC5jYWxsKHMscyksYSYmYS5yZXNvbHZlcihzKX0sdS5kaXNwbGF5PT09ciYmKHUuZGlzcGxheT1cIkluXCI9PT1lP1wiYXV0b1wiOlwibm9uZVwiKSxiKHRoaXMsYyx1KX19KSxifSh3aW5kb3cualF1ZXJ5fHx3aW5kb3cuWmVwdG98fHdpbmRvdyx3aW5kb3csZG9jdW1lbnQpfSkpLCFmdW5jdGlvbih0LGUsbixpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKHQsZSxuKXtyZXR1cm4gc2V0VGltZW91dChwKHQsbiksZSl9ZnVuY3Rpb24gcyh0LGUsbil7cmV0dXJuISFBcnJheS5pc0FycmF5KHQpJiYoYSh0LG5bZV0sbiksITApfWZ1bmN0aW9uIGEodCxlLG4pe3ZhciByO2lmKHQpaWYodC5mb3JFYWNoKXQuZm9yRWFjaChlLG4pO2Vsc2UgaWYodC5sZW5ndGghPT1pKWZvcihyPTA7cjx0Lmxlbmd0aDspZS5jYWxsKG4sdFtyXSxyLHQpLHIrKztlbHNlIGZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmZS5jYWxsKG4sdFtyXSxyLHQpfWZ1bmN0aW9uIHUodCxlLG4pe2Zvcih2YXIgcj1PYmplY3Qua2V5cyhlKSxvPTA7bzxyLmxlbmd0aDspKCFufHxuJiZ0W3Jbb11dPT09aSkmJih0W3Jbb11dPWVbcltvXV0pLG8rKztyZXR1cm4gdH1mdW5jdGlvbiBjKHQsZSl7cmV0dXJuIHUodCxlLCEwKX1mdW5jdGlvbiBsKHQsZSxuKXt2YXIgcixpPWUucHJvdG90eXBlO3I9dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpKSxyLmNvbnN0cnVjdG9yPXQsci5fc3VwZXI9aSxuJiZ1KHIsbil9ZnVuY3Rpb24gcCh0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19ZnVuY3Rpb24gaCh0LGUpe3JldHVybiB0eXBlb2YgdD09cHQ/dC5hcHBseShlP2VbMF18fGk6aSxlKTp0fWZ1bmN0aW9uIGYodCxlKXtyZXR1cm4gdD09PWk/ZTp0fWZ1bmN0aW9uIGQodCxlLG4pe2EoZyhlKSxmdW5jdGlvbihlKXt0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLCExKX0pfWZ1bmN0aW9uIHkodCxlLG4pe2EoZyhlKSxmdW5jdGlvbihlKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuLCExKX0pfWZ1bmN0aW9uIG0odCxlKXtmb3IoO3Q7KXtpZih0PT1lKXJldHVybiEwO3Q9dC5wYXJlbnROb2RlfXJldHVybiExfWZ1bmN0aW9uIHYodCxlKXtyZXR1cm4gdC5pbmRleE9mKGUpPi0xfWZ1bmN0aW9uIGcodCl7cmV0dXJuIHQudHJpbSgpLnNwbGl0KC9cXHMrL2cpfWZ1bmN0aW9uIF8odCxlLG4pe2lmKHQuaW5kZXhPZiYmIW4pcmV0dXJuIHQuaW5kZXhPZihlKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoOyl7aWYobiYmdFtyXVtuXT09ZXx8IW4mJnRbcl09PT1lKXJldHVybiByO3IrK31yZXR1cm4tMX1mdW5jdGlvbiBiKHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LDApfWZ1bmN0aW9uIHcodCxlLG4pe2Zvcih2YXIgcj1bXSxpPVtdLG89MDtvPHQubGVuZ3RoOyl7dmFyIHM9ZT90W29dW2VdOnRbb107XyhpLHMpPDAmJnIucHVzaCh0W29dKSxpW29dPXMsbysrfXJldHVybiBuJiYocj1lP3Iuc29ydChmdW5jdGlvbih0LG4pe3JldHVybiB0W2VdPm5bZV19KTpyLnNvcnQoKSkscn1mdW5jdGlvbiBDKHQsZSl7Zm9yKHZhciBuLHIsbz1lWzBdLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxzPTA7czxjdC5sZW5ndGg7KXtpZihuPWN0W3NdLHI9bj9uK286ZSxyIGluIHQpcmV0dXJuIHI7cysrfXJldHVybiBpfWZ1bmN0aW9uIEUoKXtyZXR1cm4geXQrK31mdW5jdGlvbiBTKHQpe3ZhciBlPXQub3duZXJEb2N1bWVudDtyZXR1cm4gZS5kZWZhdWx0Vmlld3x8ZS5wYXJlbnRXaW5kb3d9ZnVuY3Rpb24geCh0LGUpe3ZhciBuPXRoaXM7dGhpcy5tYW5hZ2VyPXQsdGhpcy5jYWxsYmFjaz1lLHRoaXMuZWxlbWVudD10LmVsZW1lbnQsdGhpcy50YXJnZXQ9dC5vcHRpb25zLmlucHV0VGFyZ2V0LHRoaXMuZG9tSGFuZGxlcj1mdW5jdGlvbihlKXtoKHQub3B0aW9ucy5lbmFibGUsW3RdKSYmbi5oYW5kbGVyKGUpfSx0aGlzLmluaXQoKX1mdW5jdGlvbiBQKHQpe3ZhciBlLG49dC5vcHRpb25zLmlucHV0Q2xhc3M7cmV0dXJuIG5ldyhlPW4/bjpndD9VOl90P3E6dnQ/VzpGKSh0LE8pfWZ1bmN0aW9uIE8odCxlLG4pe3ZhciByPW4ucG9pbnRlcnMubGVuZ3RoLGk9bi5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoLG89ZSZ4dCYmMD09PXItaSxzPWUmKE90fFR0KSYmMD09PXItaTtuLmlzRmlyc3Q9ISFvLG4uaXNGaW5hbD0hIXMsbyYmKHQuc2Vzc2lvbj17fSksbi5ldmVudFR5cGU9ZSxUKHQsbiksdC5lbWl0KFwiaGFtbWVyLmlucHV0XCIsbiksdC5yZWNvZ25pemUobiksdC5zZXNzaW9uLnByZXZJbnB1dD1ufWZ1bmN0aW9uIFQodCxlKXt2YXIgbj10LnNlc3Npb24scj1lLnBvaW50ZXJzLGk9ci5sZW5ndGg7bi5maXJzdElucHV0fHwobi5maXJzdElucHV0PWsoZSkpLGk+MSYmIW4uZmlyc3RNdWx0aXBsZT9uLmZpcnN0TXVsdGlwbGU9ayhlKToxPT09aSYmKG4uZmlyc3RNdWx0aXBsZT0hMSk7dmFyIG89bi5maXJzdElucHV0LHM9bi5maXJzdE11bHRpcGxlLGE9cz9zLmNlbnRlcjpvLmNlbnRlcix1PWUuY2VudGVyPVIocik7ZS50aW1lU3RhbXA9ZHQoKSxlLmRlbHRhVGltZT1lLnRpbWVTdGFtcC1vLnRpbWVTdGFtcCxlLmFuZ2xlPWooYSx1KSxlLmRpc3RhbmNlPUQoYSx1KSxBKG4sZSksZS5vZmZzZXREaXJlY3Rpb249TihlLmRlbHRhWCxlLmRlbHRhWSksZS5zY2FsZT1zP0wocy5wb2ludGVycyxyKToxLGUucm90YXRpb249cz9WKHMucG9pbnRlcnMscik6MCxNKG4sZSk7dmFyIGM9dC5lbGVtZW50O20oZS5zcmNFdmVudC50YXJnZXQsYykmJihjPWUuc3JjRXZlbnQudGFyZ2V0KSxlLnRhcmdldD1jfWZ1bmN0aW9uIEEodCxlKXt2YXIgbj1lLmNlbnRlcixyPXQub2Zmc2V0RGVsdGF8fHt9LGk9dC5wcmV2RGVsdGF8fHt9LG89dC5wcmV2SW5wdXR8fHt9OyhlLmV2ZW50VHlwZT09PXh0fHxvLmV2ZW50VHlwZT09PU90KSYmKGk9dC5wcmV2RGVsdGE9e3g6by5kZWx0YVh8fDAseTpvLmRlbHRhWXx8MH0scj10Lm9mZnNldERlbHRhPXt4Om4ueCx5Om4ueX0pLGUuZGVsdGFYPWkueCsobi54LXIueCksZS5kZWx0YVk9aS55KyhuLnktci55KX1mdW5jdGlvbiBNKHQsZSl7dmFyIG4scixvLHMsYT10Lmxhc3RJbnRlcnZhbHx8ZSx1PWUudGltZVN0YW1wLWEudGltZVN0YW1wO2lmKGUuZXZlbnRUeXBlIT1UdCYmKHU+U3R8fGEudmVsb2NpdHk9PT1pKSl7dmFyIGM9YS5kZWx0YVgtZS5kZWx0YVgsbD1hLmRlbHRhWS1lLmRlbHRhWSxwPUkodSxjLGwpO3I9cC54LG89cC55LG49ZnQocC54KT5mdChwLnkpP3AueDpwLnkscz1OKGMsbCksdC5sYXN0SW50ZXJ2YWw9ZX1lbHNlIG49YS52ZWxvY2l0eSxyPWEudmVsb2NpdHlYLG89YS52ZWxvY2l0eVkscz1hLmRpcmVjdGlvbjtlLnZlbG9jaXR5PW4sZS52ZWxvY2l0eVg9cixlLnZlbG9jaXR5WT1vLGUuZGlyZWN0aW9uPXN9ZnVuY3Rpb24gayh0KXtmb3IodmFyIGU9W10sbj0wO248dC5wb2ludGVycy5sZW5ndGg7KWVbbl09e2NsaWVudFg6aHQodC5wb2ludGVyc1tuXS5jbGllbnRYKSxjbGllbnRZOmh0KHQucG9pbnRlcnNbbl0uY2xpZW50WSl9LG4rKztyZXR1cm57dGltZVN0YW1wOmR0KCkscG9pbnRlcnM6ZSxjZW50ZXI6UihlKSxkZWx0YVg6dC5kZWx0YVgsZGVsdGFZOnQuZGVsdGFZfX1mdW5jdGlvbiBSKHQpe3ZhciBlPXQubGVuZ3RoO2lmKDE9PT1lKXJldHVybnt4Omh0KHRbMF0uY2xpZW50WCkseTpodCh0WzBdLmNsaWVudFkpfTtmb3IodmFyIG49MCxyPTAsaT0wO2U+aTspbis9dFtpXS5jbGllbnRYLHIrPXRbaV0uY2xpZW50WSxpKys7cmV0dXJue3g6aHQobi9lKSx5Omh0KHIvZSl9fWZ1bmN0aW9uIEkodCxlLG4pe3JldHVybnt4OmUvdHx8MCx5Om4vdHx8MH19ZnVuY3Rpb24gTih0LGUpe3JldHVybiB0PT09ZT9BdDpmdCh0KT49ZnQoZSk/dD4wP010Omt0OmU+MD9SdDpJdH1mdW5jdGlvbiBEKHQsZSxuKXtufHwobj1WdCk7dmFyIHI9ZVtuWzBdXS10W25bMF1dLGk9ZVtuWzFdXS10W25bMV1dO3JldHVybiBNYXRoLnNxcnQocipyK2kqaSl9ZnVuY3Rpb24gaih0LGUsbil7bnx8KG49VnQpO3ZhciByPWVbblswXV0tdFtuWzBdXSxpPWVbblsxXV0tdFtuWzFdXTtyZXR1cm4gMTgwKk1hdGguYXRhbjIoaSxyKS9NYXRoLlBJfWZ1bmN0aW9uIFYodCxlKXtyZXR1cm4gaihlWzFdLGVbMF0sTHQpLWoodFsxXSx0WzBdLEx0KX1mdW5jdGlvbiBMKHQsZSl7cmV0dXJuIEQoZVswXSxlWzFdLEx0KS9EKHRbMF0sdFsxXSxMdCl9ZnVuY3Rpb24gRigpe3RoaXMuZXZFbD1VdCx0aGlzLmV2V2luPUh0LHRoaXMuYWxsb3c9ITAsdGhpcy5wcmVzc2VkPSExLHguYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFUoKXt0aGlzLmV2RWw9enQsdGhpcy5ldldpbj1XdCx4LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnN0b3JlPXRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHM9W119ZnVuY3Rpb24gSCgpe3RoaXMuZXZUYXJnZXQ9WHQsdGhpcy5ldldpbj0kdCx0aGlzLnN0YXJ0ZWQ9ITEseC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gQih0LGUpe3ZhciBuPWIodC50b3VjaGVzKSxyPWIodC5jaGFuZ2VkVG91Y2hlcyk7cmV0dXJuIGUmKE90fFR0KSYmKG49dyhuLmNvbmNhdChyKSxcImlkZW50aWZpZXJcIiwhMCkpLFtuLHJdfWZ1bmN0aW9uIHEoKXt0aGlzLmV2VGFyZ2V0PVl0LHRoaXMudGFyZ2V0SWRzPXt9LHguYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHoodCxlKXt2YXIgbj1iKHQudG91Y2hlcykscj10aGlzLnRhcmdldElkcztpZihlJih4dHxQdCkmJjE9PT1uLmxlbmd0aClyZXR1cm4gcltuWzBdLmlkZW50aWZpZXJdPSEwLFtuLG5dO3ZhciBpLG8scz1iKHQuY2hhbmdlZFRvdWNoZXMpLGE9W10sdT10aGlzLnRhcmdldDtpZihvPW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBtKHQudGFyZ2V0LHUpfSksZT09PXh0KWZvcihpPTA7aTxvLmxlbmd0aDspcltvW2ldLmlkZW50aWZpZXJdPSEwLGkrKztmb3IoaT0wO2k8cy5sZW5ndGg7KXJbc1tpXS5pZGVudGlmaWVyXSYmYS5wdXNoKHNbaV0pLGUmKE90fFR0KSYmZGVsZXRlIHJbc1tpXS5pZGVudGlmaWVyXSxpKys7cmV0dXJuIGEubGVuZ3RoP1t3KG8uY29uY2F0KGEpLFwiaWRlbnRpZmllclwiLCEwKSxhXTp2b2lkIDB9ZnVuY3Rpb24gVygpe3guYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB0PXAodGhpcy5oYW5kbGVyLHRoaXMpO3RoaXMudG91Y2g9bmV3IHEodGhpcy5tYW5hZ2VyLHQpLHRoaXMubW91c2U9bmV3IEYodGhpcy5tYW5hZ2VyLHQpfWZ1bmN0aW9uIEcodCxlKXt0aGlzLm1hbmFnZXI9dCx0aGlzLnNldChlKX1mdW5jdGlvbiBYKHQpe2lmKHYodCxuZSkpcmV0dXJuIG5lO3ZhciBlPXYodCxyZSksbj12KHQsaWUpO3JldHVybiBlJiZuP3JlK1wiIFwiK2llOmV8fG4/ZT9yZTppZTp2KHQsZWUpP2VlOnRlfWZ1bmN0aW9uICQodCl7dGhpcy5pZD1FKCksdGhpcy5tYW5hZ2VyPW51bGwsdGhpcy5vcHRpb25zPWModHx8e30sdGhpcy5kZWZhdWx0cyksdGhpcy5vcHRpb25zLmVuYWJsZT1mKHRoaXMub3B0aW9ucy5lbmFibGUsITApLHRoaXMuc3RhdGU9b2UsdGhpcy5zaW11bHRhbmVvdXM9e30sdGhpcy5yZXF1aXJlRmFpbD1bXX1mdW5jdGlvbiBRKHQpe3JldHVybiB0JmxlP1wiY2FuY2VsXCI6dCZ1ZT9cImVuZFwiOnQmYWU/XCJtb3ZlXCI6dCZzZT9cInN0YXJ0XCI6XCJcIn1mdW5jdGlvbiBZKHQpe3JldHVybiB0PT1JdD9cImRvd25cIjp0PT1SdD9cInVwXCI6dD09TXQ/XCJsZWZ0XCI6dD09a3Q/XCJyaWdodFwiOlwiXCJ9ZnVuY3Rpb24gSyh0LGUpe3ZhciBuPWUubWFuYWdlcjtyZXR1cm4gbj9uLmdldCh0KTp0fWZ1bmN0aW9uIFooKXskLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBKKCl7Wi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5wWD1udWxsLHRoaXMucFk9bnVsbH1mdW5jdGlvbiB0dCgpe1ouYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGV0KCl7JC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdGltZXI9bnVsbCx0aGlzLl9pbnB1dD1udWxsfWZ1bmN0aW9uIG50KCl7Wi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcnQoKXtaLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBpdCgpeyQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMucFRpbWU9ITEsdGhpcy5wQ2VudGVyPSExLHRoaXMuX3RpbWVyPW51bGwsdGhpcy5faW5wdXQ9bnVsbCx0aGlzLmNvdW50PTB9ZnVuY3Rpb24gb3QodCxlKXtyZXR1cm4gZT1lfHx7fSxlLnJlY29nbml6ZXJzPWYoZS5yZWNvZ25pemVycyxvdC5kZWZhdWx0cy5wcmVzZXQpLG5ldyBzdCh0LGUpfWZ1bmN0aW9uIHN0KHQsZSl7ZT1lfHx7fSx0aGlzLm9wdGlvbnM9YyhlLG90LmRlZmF1bHRzKSx0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQ9dGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0fHx0LHRoaXMuaGFuZGxlcnM9e30sdGhpcy5zZXNzaW9uPXt9LHRoaXMucmVjb2duaXplcnM9W10sdGhpcy5lbGVtZW50PXQsdGhpcy5pbnB1dD1QKHRoaXMpLHRoaXMudG91Y2hBY3Rpb249bmV3IEcodGhpcyx0aGlzLm9wdGlvbnMudG91Y2hBY3Rpb24pLGF0KHRoaXMsITApLGEoZS5yZWNvZ25pemVycyxmdW5jdGlvbih0KXt2YXIgZT10aGlzLmFkZChuZXcgdFswXSh0WzFdKSk7dFsyXSYmZS5yZWNvZ25pemVXaXRoKHRbMl0pLHRbM10mJmUucmVxdWlyZUZhaWx1cmUodFszXSl9LHRoaXMpfWZ1bmN0aW9uIGF0KHQsZSl7dmFyIG49dC5lbGVtZW50O2EodC5vcHRpb25zLmNzc1Byb3BzLGZ1bmN0aW9uKHQscil7bi5zdHlsZVtDKG4uc3R5bGUscildPWU/dDpcIlwifSl9ZnVuY3Rpb24gdXQodCxuKXt2YXIgcj1lLmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7ci5pbml0RXZlbnQodCwhMCwhMCksci5nZXN0dXJlPW4sbi50YXJnZXQuZGlzcGF0Y2hFdmVudChyKX12YXIgY3Q9W1wiXCIsXCJ3ZWJraXRcIixcIm1velwiLFwiTVNcIixcIm1zXCIsXCJvXCJdLGx0PWUuY3JlYXRlRWxlbWVudChcImRpdlwiKSxwdD1cImZ1bmN0aW9uXCIsaHQ9TWF0aC5yb3VuZCxmdD1NYXRoLmFicyxkdD1EYXRlLm5vdyx5dD0xLG10PS9tb2JpbGV8dGFibGV0fGlwKGFkfGhvbmV8b2QpfGFuZHJvaWQvaSx2dD1cIm9udG91Y2hzdGFydFwiaW4gdCxndD1DKHQsXCJQb2ludGVyRXZlbnRcIikhPT1pLF90PXZ0JiZtdC50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGJ0PVwidG91Y2hcIix3dD1cInBlblwiLEN0PVwibW91c2VcIixFdD1cImtpbmVjdFwiLFN0PTI1LHh0PTEsUHQ9MixPdD00LFR0PTgsQXQ9MSxNdD0yLGt0PTQsUnQ9OCxJdD0xNixOdD1NdHxrdCxEdD1SdHxJdCxqdD1OdHxEdCxWdD1bXCJ4XCIsXCJ5XCJdLEx0PVtcImNsaWVudFhcIixcImNsaWVudFlcIl07eC5wcm90b3R5cGU9e2hhbmRsZXI6ZnVuY3Rpb24oKXt9LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLmV2RWwmJmQodGhpcy5lbGVtZW50LHRoaXMuZXZFbCx0aGlzLmRvbUhhbmRsZXIpLHRoaXMuZXZUYXJnZXQmJmQodGhpcy50YXJnZXQsdGhpcy5ldlRhcmdldCx0aGlzLmRvbUhhbmRsZXIpLHRoaXMuZXZXaW4mJmQoUyh0aGlzLmVsZW1lbnQpLHRoaXMuZXZXaW4sdGhpcy5kb21IYW5kbGVyKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZXZFbCYmeSh0aGlzLmVsZW1lbnQsdGhpcy5ldkVsLHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldlRhcmdldCYmeSh0aGlzLnRhcmdldCx0aGlzLmV2VGFyZ2V0LHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldldpbiYmeShTKHRoaXMuZWxlbWVudCksdGhpcy5ldldpbix0aGlzLmRvbUhhbmRsZXIpfX07dmFyIEZ0PXttb3VzZWRvd246eHQsbW91c2Vtb3ZlOlB0LG1vdXNldXA6T3R9LFV0PVwibW91c2Vkb3duXCIsSHQ9XCJtb3VzZW1vdmUgbW91c2V1cFwiO2woRix4LHtoYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciBlPUZ0W3QudHlwZV07ZSZ4dCYmMD09PXQuYnV0dG9uJiYodGhpcy5wcmVzc2VkPSEwKSxlJlB0JiYxIT09dC53aGljaCYmKGU9T3QpLHRoaXMucHJlc3NlZCYmdGhpcy5hbGxvdyYmKGUmT3QmJih0aGlzLnByZXNzZWQ9ITEpLHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOlt0XSxjaGFuZ2VkUG9pbnRlcnM6W3RdLHBvaW50ZXJUeXBlOkN0LHNyY0V2ZW50OnR9KSl9fSk7dmFyIEJ0PXtwb2ludGVyZG93bjp4dCxwb2ludGVybW92ZTpQdCxwb2ludGVydXA6T3QscG9pbnRlcmNhbmNlbDpUdCxwb2ludGVyb3V0OlR0fSxxdD17MjpidCwzOnd0LDQ6Q3QsNTpFdH0senQ9XCJwb2ludGVyZG93blwiLFd0PVwicG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWxcIjt0Lk1TUG9pbnRlckV2ZW50JiYoenQ9XCJNU1BvaW50ZXJEb3duXCIsV3Q9XCJNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbFwiKSxsKFUseCx7aGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0b3JlLG49ITEscj10LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKFwibXNcIixcIlwiKSxpPUJ0W3JdLG89cXRbdC5wb2ludGVyVHlwZV18fHQucG9pbnRlclR5cGUscz1vPT1idCxhPV8oZSx0LnBvaW50ZXJJZCxcInBvaW50ZXJJZFwiKTtpJnh0JiYoMD09PXQuYnV0dG9ufHxzKT8wPmEmJihlLnB1c2godCksYT1lLmxlbmd0aC0xKTppJihPdHxUdCkmJihuPSEwKSwwPmF8fChlW2FdPXQsdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsaSx7cG9pbnRlcnM6ZSxjaGFuZ2VkUG9pbnRlcnM6W3RdLHBvaW50ZXJUeXBlOm8sc3JjRXZlbnQ6dH0pLG4mJmUuc3BsaWNlKGEsMSkpfX0pO3ZhciBHdD17dG91Y2hzdGFydDp4dCx0b3VjaG1vdmU6UHQsdG91Y2hlbmQ6T3QsdG91Y2hjYW5jZWw6VHR9LFh0PVwidG91Y2hzdGFydFwiLCR0PVwidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWxcIjtsKEgseCx7aGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgZT1HdFt0LnR5cGVdO2lmKGU9PT14dCYmKHRoaXMuc3RhcnRlZD0hMCksdGhpcy5zdGFydGVkKXt2YXIgbj1CLmNhbGwodGhpcyx0LGUpO2UmKE90fFR0KSYmMD09PW5bMF0ubGVuZ3RoLW5bMV0ubGVuZ3RoJiYodGhpcy5zdGFydGVkPSExKSx0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlcixlLHtwb2ludGVyczpuWzBdLGNoYW5nZWRQb2ludGVyczpuWzFdLHBvaW50ZXJUeXBlOmJ0LHNyY0V2ZW50OnR9KX19fSk7dmFyIFF0PXt0b3VjaHN0YXJ0Onh0LHRvdWNobW92ZTpQdCx0b3VjaGVuZDpPdCx0b3VjaGNhbmNlbDpUdH0sWXQ9XCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbFwiO2wocSx4LHtoYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciBlPVF0W3QudHlwZV0sbj16LmNhbGwodGhpcyx0LGUpO24mJnRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOm5bMF0sY2hhbmdlZFBvaW50ZXJzOm5bMV0scG9pbnRlclR5cGU6YnQsc3JjRXZlbnQ6dH0pfX0pLGwoVyx4LHtoYW5kbGVyOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uLnBvaW50ZXJUeXBlPT1idCxpPW4ucG9pbnRlclR5cGU9PUN0O2lmKHIpdGhpcy5tb3VzZS5hbGxvdz0hMTtlbHNlIGlmKGkmJiF0aGlzLm1vdXNlLmFsbG93KXJldHVybjtlJihPdHxUdCkmJih0aGlzLm1vdXNlLmFsbG93PSEwKSx0aGlzLmNhbGxiYWNrKHQsZSxuKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudG91Y2guZGVzdHJveSgpLHRoaXMubW91c2UuZGVzdHJveSgpfX0pO3ZhciBLdD1DKGx0LnN0eWxlLFwidG91Y2hBY3Rpb25cIiksWnQ9S3QhPT1pLEp0PVwiY29tcHV0ZVwiLHRlPVwiYXV0b1wiLGVlPVwibWFuaXB1bGF0aW9uXCIsbmU9XCJub25lXCIscmU9XCJwYW4teFwiLGllPVwicGFuLXlcIjtHLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKHQpe3Q9PUp0JiYodD10aGlzLmNvbXB1dGUoKSksWnQmJih0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZVtLdF09dCksdGhpcy5hY3Rpb25zPXQudG9Mb3dlckNhc2UoKS50cmltKCl9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKX0sY29tcHV0ZTpmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiBhKHRoaXMubWFuYWdlci5yZWNvZ25pemVycyxmdW5jdGlvbihlKXtoKGUub3B0aW9ucy5lbmFibGUsW2VdKSYmKHQ9dC5jb25jYXQoZS5nZXRUb3VjaEFjdGlvbigpKSl9KSxYKHQuam9pbihcIiBcIikpfSxwcmV2ZW50RGVmYXVsdHM6ZnVuY3Rpb24odCl7aWYoIVp0KXt2YXIgZT10LnNyY0V2ZW50LG49dC5vZmZzZXREaXJlY3Rpb247aWYodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKXJldHVybiB2b2lkIGUucHJldmVudERlZmF1bHQoKTt2YXIgcj10aGlzLmFjdGlvbnMsaT12KHIsbmUpLG89dihyLGllKSxzPXYocixyZSk7cmV0dXJuIGl8fG8mJm4mTnR8fHMmJm4mRHQ/dGhpcy5wcmV2ZW50U3JjKGUpOnZvaWQgMH19LHByZXZlbnRTcmM6ZnVuY3Rpb24odCl7dGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkPSEwLHQucHJldmVudERlZmF1bHQoKX19O3ZhciBvZT0xLHNlPTIsYWU9NCx1ZT04LGNlPXVlLGxlPTE2LHBlPTMyOyQucHJvdG90eXBlPXtkZWZhdWx0czp7fSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHUodGhpcy5vcHRpb25zLHQpLHRoaXMubWFuYWdlciYmdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHRoaXN9LHJlY29nbml6ZVdpdGg6ZnVuY3Rpb24odCl7aWYocyh0LFwicmVjb2duaXplV2l0aFwiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuc2ltdWx0YW5lb3VzO3JldHVybiB0PUsodCx0aGlzKSxlW3QuaWRdfHwoZVt0LmlkXT10LHQucmVjb2duaXplV2l0aCh0aGlzKSksdGhpc30sZHJvcFJlY29nbml6ZVdpdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHModCxcImRyb3BSZWNvZ25pemVXaXRoXCIsdGhpcyk/dGhpczoodD1LKHQsdGhpcyksZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW3QuaWRdLHRoaXMpfSxyZXF1aXJlRmFpbHVyZTpmdW5jdGlvbih0KXtpZihzKHQsXCJyZXF1aXJlRmFpbHVyZVwiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMucmVxdWlyZUZhaWw7cmV0dXJuIHQ9Syh0LHRoaXMpLC0xPT09XyhlLHQpJiYoZS5wdXNoKHQpLHQucmVxdWlyZUZhaWx1cmUodGhpcykpLHRoaXN9LGRyb3BSZXF1aXJlRmFpbHVyZTpmdW5jdGlvbih0KXtpZihzKHQsXCJkcm9wUmVxdWlyZUZhaWx1cmVcIix0aGlzKSlyZXR1cm4gdGhpczt0PUsodCx0aGlzKTt2YXIgZT1fKHRoaXMucmVxdWlyZUZhaWwsdCk7cmV0dXJuIGU+LTEmJnRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGUsMSksdGhpc30saGFzUmVxdWlyZUZhaWx1cmVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoPjB9LGNhblJlY29nbml6ZVdpdGg6ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLnNpbXVsdGFuZW91c1t0LmlkXX0sZW1pdDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe24ubWFuYWdlci5lbWl0KG4ub3B0aW9ucy5ldmVudCsoZT9RKHIpOlwiXCIpLHQpfXZhciBuPXRoaXMscj10aGlzLnN0YXRlO3VlPnImJmUoITApLGUoKSxyPj11ZSYmZSghMCl9LHRyeUVtaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FuRW1pdCgpP3RoaXMuZW1pdCh0KTp2b2lkKHRoaXMuc3RhdGU9cGUpfSxjYW5FbWl0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aDspe2lmKCEodGhpcy5yZXF1aXJlRmFpbFt0XS5zdGF0ZSYocGV8b2UpKSlyZXR1cm4hMTt0Kyt9cmV0dXJuITB9LHJlY29nbml6ZTpmdW5jdGlvbih0KXt2YXIgZT11KHt9LHQpO3JldHVybiBoKHRoaXMub3B0aW9ucy5lbmFibGUsW3RoaXMsZV0pPyh0aGlzLnN0YXRlJihjZXxsZXxwZSkmJih0aGlzLnN0YXRlPW9lKSx0aGlzLnN0YXRlPXRoaXMucHJvY2VzcyhlKSx2b2lkKHRoaXMuc3RhdGUmKHNlfGFlfHVlfGxlKSYmdGhpcy50cnlFbWl0KGUpKSk6KHRoaXMucmVzZXQoKSx2b2lkKHRoaXMuc3RhdGU9cGUpKX0scHJvY2VzczpmdW5jdGlvbigpe30sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXt9LHJlc2V0OmZ1bmN0aW9uKCl7fX0sbChaLCQse2RlZmF1bHRzOntwb2ludGVyczoxfSxhdHRyVGVzdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMucG9pbnRlcnM7cmV0dXJuIDA9PT1lfHx0LnBvaW50ZXJzLmxlbmd0aD09PWV9LHByb2Nlc3M6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZSxuPXQuZXZlbnRUeXBlLHI9ZSYoc2V8YWUpLGk9dGhpcy5hdHRyVGVzdCh0KTtyZXR1cm4gciYmKG4mVHR8fCFpKT9lfGxlOnJ8fGk/biZPdD9lfHVlOmUmc2U/ZXxhZTpzZTpwZX19KSxsKEosWix7ZGVmYXVsdHM6e2V2ZW50OlwicGFuXCIsdGhyZXNob2xkOjEwLHBvaW50ZXJzOjEsZGlyZWN0aW9uOmp0fSxnZXRUb3VjaEFjdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24sZT1bXTtyZXR1cm4gdCZOdCYmZS5wdXNoKGllKSx0JkR0JiZlLnB1c2gocmUpLGV9LGRpcmVjdGlvblRlc3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLG49ITAscj10LmRpc3RhbmNlLGk9dC5kaXJlY3Rpb24sbz10LmRlbHRhWCxzPXQuZGVsdGFZO3JldHVybiBpJmUuZGlyZWN0aW9ufHwoZS5kaXJlY3Rpb24mTnQ/KGk9MD09PW8/QXQ6MD5vP010Omt0LG49byE9dGhpcy5wWCxyPU1hdGguYWJzKHQuZGVsdGFYKSk6KGk9MD09PXM/QXQ6MD5zP1J0Okl0LG49cyE9dGhpcy5wWSxyPU1hdGguYWJzKHQuZGVsdGFZKSkpLHQuZGlyZWN0aW9uPWksbiYmcj5lLnRocmVzaG9sZCYmaSZlLmRpcmVjdGlvbn0sYXR0clRlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIFoucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcyx0KSYmKHRoaXMuc3RhdGUmc2V8fCEodGhpcy5zdGF0ZSZzZSkmJnRoaXMuZGlyZWN0aW9uVGVzdCh0KSl9LGVtaXQ6ZnVuY3Rpb24odCl7dGhpcy5wWD10LmRlbHRhWCx0aGlzLnBZPXQuZGVsdGFZO3ZhciBlPVkodC5kaXJlY3Rpb24pO2UmJnRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCtlLHQpLHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLHQpfX0pLGwodHQsWix7ZGVmYXVsdHM6e2V2ZW50OlwicGluY2hcIix0aHJlc2hvbGQ6MCxwb2ludGVyczoyfSxnZXRUb3VjaEFjdGlvbjpmdW5jdGlvbigpe3JldHVybltuZV19LGF0dHJUZXN0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsdCkmJihNYXRoLmFicyh0LnNjYWxlLTEpPnRoaXMub3B0aW9ucy50aHJlc2hvbGR8fHRoaXMuc3RhdGUmc2UpfSxlbWl0OmZ1bmN0aW9uKHQpe2lmKHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLHQpLDEhPT10LnNjYWxlKXt2YXIgZT10LnNjYWxlPDE/XCJpblwiOlwib3V0XCI7dGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50K2UsdCl9fX0pLGwoZXQsJCx7ZGVmYXVsdHM6e2V2ZW50OlwicHJlc3NcIixwb2ludGVyczoxLHRpbWU6NTAwLHRocmVzaG9sZDo1fSxnZXRUb3VjaEFjdGlvbjpmdW5jdGlvbigpe3JldHVyblt0ZV19LHByb2Nlc3M6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLG49dC5wb2ludGVycy5sZW5ndGg9PT1lLnBvaW50ZXJzLHI9dC5kaXN0YW5jZTxlLnRocmVzaG9sZCxpPXQuZGVsdGFUaW1lPmUudGltZTtpZih0aGlzLl9pbnB1dD10LCFyfHwhbnx8dC5ldmVudFR5cGUmKE90fFR0KSYmIWkpdGhpcy5yZXNldCgpO2Vsc2UgaWYodC5ldmVudFR5cGUmeHQpdGhpcy5yZXNldCgpLHRoaXMuX3RpbWVyPW8oZnVuY3Rpb24oKXt0aGlzLnN0YXRlPWNlLHRoaXMudHJ5RW1pdCgpfSxlLnRpbWUsdGhpcyk7ZWxzZSBpZih0LmV2ZW50VHlwZSZPdClyZXR1cm4gY2U7cmV0dXJuIHBlfSxyZXNldDpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl90aW1lcil9LGVtaXQ6ZnVuY3Rpb24odCl7dGhpcy5zdGF0ZT09PWNlJiYodCYmdC5ldmVudFR5cGUmT3Q/dGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50K1widXBcIix0KToodGhpcy5faW5wdXQudGltZVN0YW1wPWR0KCksdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LHRoaXMuX2lucHV0KSkpfX0pLGwobnQsWix7ZGVmYXVsdHM6e2V2ZW50Olwicm90YXRlXCIsdGhyZXNob2xkOjAscG9pbnRlcnM6Mn0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm5bbmVdfSxhdHRyVGVzdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLHQpJiYoTWF0aC5hYnModC5yb3RhdGlvbik+dGhpcy5vcHRpb25zLnRocmVzaG9sZHx8dGhpcy5zdGF0ZSZzZSl9fSksbChydCxaLHtkZWZhdWx0czp7ZXZlbnQ6XCJzd2lwZVwiLHRocmVzaG9sZDoxMCx2ZWxvY2l0eTouNjUsZGlyZWN0aW9uOk50fER0LHBvaW50ZXJzOjF9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIEoucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyl9LGF0dHJUZXN0OmZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5vcHRpb25zLmRpcmVjdGlvbjtyZXR1cm4gbiYoTnR8RHQpP2U9dC52ZWxvY2l0eTpuJk50P2U9dC52ZWxvY2l0eVg6biZEdCYmKGU9dC52ZWxvY2l0eVkpLHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcyx0KSYmbiZ0LmRpcmVjdGlvbiYmdC5kaXN0YW5jZT50aGlzLm9wdGlvbnMudGhyZXNob2xkJiZmdChlKT50aGlzLm9wdGlvbnMudmVsb2NpdHkmJnQuZXZlbnRUeXBlJk90fSxlbWl0OmZ1bmN0aW9uKHQpe3ZhciBlPVkodC5kaXJlY3Rpb24pO2UmJnRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCtlLHQpLHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCx0KX19KSxsKGl0LCQse2RlZmF1bHRzOntldmVudDpcInRhcFwiLHBvaW50ZXJzOjEsdGFwczoxLGludGVydmFsOjMwMCx0aW1lOjI1MCx0aHJlc2hvbGQ6Mixwb3NUaHJlc2hvbGQ6MTB9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuW2VlXX0scHJvY2VzczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMsbj10LnBvaW50ZXJzLmxlbmd0aD09PWUucG9pbnRlcnMscj10LmRpc3RhbmNlPGUudGhyZXNob2xkLGk9dC5kZWx0YVRpbWU8ZS50aW1lO2lmKHRoaXMucmVzZXQoKSx0LmV2ZW50VHlwZSZ4dCYmMD09PXRoaXMuY291bnQpcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtpZihyJiZpJiZuKXtpZih0LmV2ZW50VHlwZSE9T3QpcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTt2YXIgcz0hdGhpcy5wVGltZXx8dC50aW1lU3RhbXAtdGhpcy5wVGltZTxlLmludGVydmFsLGE9IXRoaXMucENlbnRlcnx8RCh0aGlzLnBDZW50ZXIsdC5jZW50ZXIpPGUucG9zVGhyZXNob2xkO3RoaXMucFRpbWU9dC50aW1lU3RhbXAsdGhpcy5wQ2VudGVyPXQuY2VudGVyLGEmJnM/dGhpcy5jb3VudCs9MTp0aGlzLmNvdW50PTEsdGhpcy5faW5wdXQ9dDt2YXIgdT10aGlzLmNvdW50JWUudGFwcztpZigwPT09dSlyZXR1cm4gdGhpcy5oYXNSZXF1aXJlRmFpbHVyZXMoKT8odGhpcy5fdGltZXI9byhmdW5jdGlvbigpe3RoaXMuc3RhdGU9Y2UsdGhpcy50cnlFbWl0KCl9LGUuaW50ZXJ2YWwsdGhpcyksc2UpOmNlfXJldHVybiBwZX0sZmFpbFRpbWVvdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGltZXI9byhmdW5jdGlvbigpe3RoaXMuc3RhdGU9cGV9LHRoaXMub3B0aW9ucy5pbnRlcnZhbCx0aGlzKSxwZX0scmVzZXQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpfSxlbWl0OmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT09Y2UmJih0aGlzLl9pbnB1dC50YXBDb3VudD10aGlzLmNvdW50LHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCx0aGlzLl9pbnB1dCkpfX0pLG90LlZFUlNJT049XCIyLjAuNFwiLG90LmRlZmF1bHRzPXtkb21FdmVudHM6ITEsdG91Y2hBY3Rpb246SnQsZW5hYmxlOiEwLGlucHV0VGFyZ2V0Om51bGwsaW5wdXRDbGFzczpudWxsLHByZXNldDpbW250LHtlbmFibGU6ITF9XSxbdHQse2VuYWJsZTohMX0sW1wicm90YXRlXCJdXSxbcnQse2RpcmVjdGlvbjpOdH1dLFtKLHtkaXJlY3Rpb246TnR9LFtcInN3aXBlXCJdXSxbaXRdLFtpdCx7ZXZlbnQ6XCJkb3VibGV0YXBcIix0YXBzOjJ9LFtcInRhcFwiXV0sW2V0XV0sY3NzUHJvcHM6e3VzZXJTZWxlY3Q6XCJkZWZhdWx0XCIsdG91Y2hTZWxlY3Q6XCJub25lXCIsdG91Y2hDYWxsb3V0Olwibm9uZVwiLGNvbnRlbnRab29taW5nOlwibm9uZVwiLHVzZXJEcmFnOlwibm9uZVwiLHRhcEhpZ2hsaWdodENvbG9yOlwicmdiYSgwLDAsMCwwKVwifX07dmFyIGhlPTEsZmU9MjtzdC5wcm90b3R5cGU9e3NldDpmdW5jdGlvbih0KXtyZXR1cm4gdSh0aGlzLm9wdGlvbnMsdCksdC50b3VjaEFjdGlvbiYmdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKSx0LmlucHV0VGFyZ2V0JiYodGhpcy5pbnB1dC5kZXN0cm95KCksdGhpcy5pbnB1dC50YXJnZXQ9dC5pbnB1dFRhcmdldCx0aGlzLmlucHV0LmluaXQoKSksdGhpc30sc3RvcDpmdW5jdGlvbih0KXt0aGlzLnNlc3Npb24uc3RvcHBlZD10P2ZlOmhlfSxyZWNvZ25pemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zZXNzaW9uO2lmKCFlLnN0b3BwZWQpe3RoaXMudG91Y2hBY3Rpb24ucHJldmVudERlZmF1bHRzKHQpO3ZhciBuLHI9dGhpcy5yZWNvZ25pemVycyxpPWUuY3VyUmVjb2duaXplcjsoIWl8fGkmJmkuc3RhdGUmY2UpJiYoaT1lLmN1clJlY29nbml6ZXI9bnVsbCk7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDspbj1yW29dLGUuc3RvcHBlZD09PWZlfHxpJiZuIT1pJiYhbi5jYW5SZWNvZ25pemVXaXRoKGkpP24ucmVzZXQoKTpuLnJlY29nbml6ZSh0KSwhaSYmbi5zdGF0ZSYoc2V8YWV8dWUpJiYoaT1lLmN1clJlY29nbml6ZXI9biksbysrfX0sZ2V0OmZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiAkKXJldHVybiB0O2Zvcih2YXIgZT10aGlzLnJlY29nbml6ZXJzLG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLm9wdGlvbnMuZXZlbnQ9PXQpcmV0dXJuIGVbbl07cmV0dXJuIG51bGx9LGFkZDpmdW5jdGlvbih0KXtpZihzKHQsXCJhZGRcIix0aGlzKSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLmdldCh0Lm9wdGlvbnMuZXZlbnQpO3JldHVybiBlJiZ0aGlzLnJlbW92ZShlKSx0aGlzLnJlY29nbml6ZXJzLnB1c2godCksdC5tYW5hZ2VyPXRoaXMsdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKSx0fSxyZW1vdmU6ZnVuY3Rpb24odCl7aWYocyh0LFwicmVtb3ZlXCIsdGhpcykpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5yZWNvZ25pemVycztyZXR1cm4gdD10aGlzLmdldCh0KSxlLnNwbGljZShfKGUsdCksMSksdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKSx0aGlzfSxvbjpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuaGFuZGxlcnM7cmV0dXJuIGEoZyh0KSxmdW5jdGlvbih0KXtuW3RdPW5bdF18fFtdLG5bdF0ucHVzaChlKX0pLHRoaXN9LG9mZjpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuaGFuZGxlcnM7cmV0dXJuIGEoZyh0KSxmdW5jdGlvbih0KXtlP25bdF0uc3BsaWNlKF8oblt0XSxlKSwxKTpkZWxldGUgblt0XX0pLHRoaXN9LGVtaXQ6ZnVuY3Rpb24odCxlKXt0aGlzLm9wdGlvbnMuZG9tRXZlbnRzJiZ1dCh0LGUpO3ZhciBuPXRoaXMuaGFuZGxlcnNbdF0mJnRoaXMuaGFuZGxlcnNbdF0uc2xpY2UoKTtpZihuJiZuLmxlbmd0aCl7ZS50eXBlPXQsZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2Uuc3JjRXZlbnQucHJldmVudERlZmF1bHQoKX07Zm9yKHZhciByPTA7cjxuLmxlbmd0aDspbltyXShlKSxyKyt9fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50JiZhdCh0aGlzLCExKSx0aGlzLmhhbmRsZXJzPXt9LHRoaXMuc2Vzc2lvbj17fSx0aGlzLmlucHV0LmRlc3Ryb3koKSx0aGlzLmVsZW1lbnQ9bnVsbH19LHUob3Qse0lOUFVUX1NUQVJUOnh0LElOUFVUX01PVkU6UHQsSU5QVVRfRU5EOk90LElOUFVUX0NBTkNFTDpUdCxTVEFURV9QT1NTSUJMRTpvZSxTVEFURV9CRUdBTjpzZSxTVEFURV9DSEFOR0VEOmFlLFNUQVRFX0VOREVEOnVlLFNUQVRFX1JFQ09HTklaRUQ6Y2UsU1RBVEVfQ0FOQ0VMTEVEOmxlLFNUQVRFX0ZBSUxFRDpwZSxESVJFQ1RJT05fTk9ORTpBdCxESVJFQ1RJT05fTEVGVDpNdCxESVJFQ1RJT05fUklHSFQ6a3QsRElSRUNUSU9OX1VQOlJ0LERJUkVDVElPTl9ET1dOOkl0LERJUkVDVElPTl9IT1JJWk9OVEFMOk50LERJUkVDVElPTl9WRVJUSUNBTDpEdCxESVJFQ1RJT05fQUxMOmp0LE1hbmFnZXI6c3QsSW5wdXQ6eCxUb3VjaEFjdGlvbjpHLFRvdWNoSW5wdXQ6cSxNb3VzZUlucHV0OkYsUG9pbnRlckV2ZW50SW5wdXQ6VSxUb3VjaE1vdXNlSW5wdXQ6VyxTaW5nbGVUb3VjaElucHV0OkgsUmVjb2duaXplcjokLEF0dHJSZWNvZ25pemVyOlosVGFwOml0LFBhbjpKLFN3aXBlOnJ0LFBpbmNoOnR0LFJvdGF0ZTpudCxQcmVzczpldCxvbjpkLG9mZjp5LGVhY2g6YSxtZXJnZTpjLGV4dGVuZDp1LGluaGVyaXQ6bCxiaW5kRm46cCxwcmVmaXhlZDpDfSksdHlwZW9mIGRlZmluZT09cHQmJmRlZmluZS5hbWQ/ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIG90fSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHImJnIuZXhwb3J0cz9yLmV4cG9ydHM9b3Q6dFtuXT1vdH0od2luZG93LGRvY3VtZW50LFwiSGFtbWVyXCIpLGZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wianF1ZXJ5XCIsXCJoYW1tZXJqc1wiXSx0KTpcIm9iamVjdFwiPT10eXBlb2Ygbj90KGUoXCJqcXVlcnlcIiksZShcImhhbW1lcmpzXCIpKTp0KGksSGFtbWVyKX0oZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKG4scil7dmFyIGk9dChuKTtpLmRhdGEoXCJoYW1tZXJcIil8fGkuZGF0YShcImhhbW1lclwiLG5ldyBlKGlbMF0scikpfXQuZm4uaGFtbWVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMsdCl9KX0sZS5NYW5hZ2VyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuLHIpe2UuY2FsbCh0aGlzLG4sciksdCh0aGlzLmVsZW1lbnQpLnRyaWdnZXIoe3R5cGU6bixnZXN0dXJlOnJ9KX19KGUuTWFuYWdlci5wcm90b3R5cGUuZW1pdCl9KSxmdW5jdGlvbih0KXt0LlBhY2thZ2U/TWF0ZXJpYWxpemU9e306dC5NYXRlcmlhbGl6ZT17fX0od2luZG93KSxmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPVtcIndlYmtpdFwiLFwibW96XCJdLHI9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsaT10LmNhbmNlbEFuaW1hdGlvbkZyYW1lLG89bi5sZW5ndGg7LS1vPj0wJiYhcjspcj10W25bb10rXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0saT10W25bb10rXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl07ciYmaXx8KHI9ZnVuY3Rpb24odCl7dmFyIG49K0RhdGUubm93KCkscj1NYXRoLm1heChlKzE2LG4pO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChlPXIpfSxyLW4pfSxpPWNsZWFyVGltZW91dCksdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9cix0LmNhbmNlbEFuaW1hdGlvbkZyYW1lPWl9KHdpbmRvdyksTWF0ZXJpYWxpemUuZ3VpZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gTWF0aC5mbG9vcig2NTUzNiooMStNYXRoLnJhbmRvbSgpKSkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCgpK3QoKStcIi1cIit0KCkrXCItXCIrdCgpK1wiLVwiK3QoKStcIi1cIit0KCkrdCgpK3QoKX19KCksTWF0ZXJpYWxpemUuZXNjYXBlSGFzaD1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC8oOnxcXC58XFxbfFxcXXwsfD0pL2csXCJcXFxcJDFcIil9LE1hdGVyaWFsaXplLmVsZW1lbnRPclBhcmVudElzRml4ZWQ9ZnVuY3Rpb24odCl7dmFyIGU9JCh0KSxuPWUuYWRkKGUucGFyZW50cygpKSxyPSExO3JldHVybiBuLmVhY2goZnVuY3Rpb24oKXtpZihcImZpeGVkXCI9PT0kKHRoaXMpLmNzcyhcInBvc2l0aW9uXCIpKXJldHVybiByPSEwLCExfSkscn07dmFyIG87bz1pP2kuVmVsb2NpdHk6JD8kLlZlbG9jaXR5OlZlbG9jaXR5LGZ1bmN0aW9uKHQpe3QuZm4uY29sbGFwc2libGU9ZnVuY3Rpb24oZSl7dmFyIG49e2FjY29yZGlvbjp2b2lkIDAsb25PcGVuOnZvaWQgMCxvbkNsb3NlOnZvaWQgMH07cmV0dXJuIGU9dC5leHRlbmQobixlKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBuKGUpe2M9dS5maW5kKFwiPiBsaSA+IC5jb2xsYXBzaWJsZS1oZWFkZXJcIiksZS5oYXNDbGFzcyhcImFjdGl2ZVwiKT9lLnBhcmVudCgpLmFkZENsYXNzKFwiYWN0aXZlXCIpOmUucGFyZW50KCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksZS5wYXJlbnQoKS5oYXNDbGFzcyhcImFjdGl2ZVwiKT9lLnNpYmxpbmdzKFwiLmNvbGxhcHNpYmxlLWJvZHlcIikuc3RvcCghMCwhMSkuc2xpZGVEb3duKHtkdXJhdGlvbjozNTAsZWFzaW5nOlwiZWFzZU91dFF1YXJ0XCIscXVldWU6ITEsY29tcGxldGU6ZnVuY3Rpb24oKXt0KHRoaXMpLmNzcyhcImhlaWdodFwiLFwiXCIpfX0pOmUuc2libGluZ3MoXCIuY29sbGFwc2libGUtYm9keVwiKS5zdG9wKCEwLCExKS5zbGlkZVVwKHtkdXJhdGlvbjozNTAsZWFzaW5nOlwiZWFzZU91dFF1YXJ0XCIscXVldWU6ITEsY29tcGxldGU6ZnVuY3Rpb24oKXt0KHRoaXMpLmNzcyhcImhlaWdodFwiLFwiXCIpfX0pLGMubm90KGUpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLGMubm90KGUpLnBhcmVudCgpLmNoaWxkcmVuKFwiLmNvbGxhcHNpYmxlLWJvZHlcIikuc3RvcCghMCwhMSkuZWFjaChmdW5jdGlvbigpe3QodGhpcykuaXMoXCI6dmlzaWJsZVwiKSYmdCh0aGlzKS5zbGlkZVVwKHtkdXJhdGlvbjozNTAsZWFzaW5nOlwiZWFzZU91dFF1YXJ0XCIscXVldWU6ITEsY29tcGxldGU6ZnVuY3Rpb24oKXt0KHRoaXMpLmNzcyhcImhlaWdodFwiLFwiXCIpLG8odCh0aGlzKS5zaWJsaW5ncyhcIi5jb2xsYXBzaWJsZS1oZWFkZXJcIikpfX0pfSl9ZnVuY3Rpb24gcihlKXtlLmhhc0NsYXNzKFwiYWN0aXZlXCIpP2UucGFyZW50KCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik6ZS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSxlLnBhcmVudCgpLmhhc0NsYXNzKFwiYWN0aXZlXCIpP2Uuc2libGluZ3MoXCIuY29sbGFwc2libGUtYm9keVwiKS5zdG9wKCEwLCExKS5zbGlkZURvd24oe2R1cmF0aW9uOjM1MCxlYXNpbmc6XCJlYXNlT3V0UXVhcnRcIixxdWV1ZTohMSxjb21wbGV0ZTpmdW5jdGlvbigpe3QodGhpcykuY3NzKFwiaGVpZ2h0XCIsXCJcIil9fSk6ZS5zaWJsaW5ncyhcIi5jb2xsYXBzaWJsZS1ib2R5XCIpLnN0b3AoITAsITEpLnNsaWRlVXAoe2R1cmF0aW9uOjM1MCxlYXNpbmc6XCJlYXNlT3V0UXVhcnRcIixxdWV1ZTohMSxjb21wbGV0ZTpmdW5jdGlvbigpe3QodGhpcykuY3NzKFwiaGVpZ2h0XCIsXCJcIil9fSl9ZnVuY3Rpb24gaSh0KXtlLmFjY29yZGlvbnx8XCJhY2NvcmRpb25cIj09PWx8fHZvaWQgMD09PWw/bih0KTpyKHQpLG8odCl9ZnVuY3Rpb24gbyh0KXt0Lmhhc0NsYXNzKFwiYWN0aXZlXCIpP1wiZnVuY3Rpb25cIj09dHlwZW9mIGUub25PcGVuJiZlLm9uT3Blbi5jYWxsKHRoaXMsdC5wYXJlbnQoKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbkNsb3NlJiZlLm9uQ2xvc2UuY2FsbCh0aGlzLHQucGFyZW50KCkpO1xufWZ1bmN0aW9uIHModCl7dmFyIGU9YSh0KTtyZXR1cm4gZS5sZW5ndGg+MH1mdW5jdGlvbiBhKHQpe3JldHVybiB0LmNsb3Nlc3QoXCJsaSA+IC5jb2xsYXBzaWJsZS1oZWFkZXJcIil9dmFyIHU9dCh0aGlzKSxjPXQodGhpcykuZmluZChcIj4gbGkgPiAuY29sbGFwc2libGUtaGVhZGVyXCIpLGw9dS5kYXRhKFwiY29sbGFwc2libGVcIik7dS5vZmYoXCJjbGljay5jb2xsYXBzZVwiLFwiPiBsaSA+IC5jb2xsYXBzaWJsZS1oZWFkZXJcIiksYy5vZmYoXCJjbGljay5jb2xsYXBzZVwiKSx1Lm9uKFwiY2xpY2suY29sbGFwc2VcIixcIj4gbGkgPiAuY29sbGFwc2libGUtaGVhZGVyXCIsZnVuY3Rpb24oZSl7dmFyIG49dChlLnRhcmdldCk7cyhuKSYmKG49YShuKSksbi50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKSxpKG4pfSksZS5hY2NvcmRpb258fFwiYWNjb3JkaW9uXCI9PT1sfHx2b2lkIDA9PT1sP2koYy5maWx0ZXIoXCIuYWN0aXZlXCIpLmZpcnN0KCkpOmMuZmlsdGVyKFwiLmFjdGl2ZVwiKS5lYWNoKGZ1bmN0aW9uKCl7aSh0KHRoaXMpKX0pfSl9LHQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dChcIi5jb2xsYXBzaWJsZVwiKS5jb2xsYXBzaWJsZSgpfSl9KGkpLGZ1bmN0aW9uKHQpe3QuZm4uc2Nyb2xsVG89ZnVuY3Rpb24oZSl7cmV0dXJuIHQodGhpcykuc2Nyb2xsVG9wKHQodGhpcykuc2Nyb2xsVG9wKCktdCh0aGlzKS5vZmZzZXQoKS50b3ArdChlKS5vZmZzZXQoKS50b3ApLHRoaXN9LHQuZm4uZHJvcGRvd249ZnVuY3Rpb24oZSl7dmFyIG49e2luRHVyYXRpb246MzAwLG91dER1cmF0aW9uOjIyNSxjb25zdHJhaW5fd2lkdGg6ITAsaG92ZXI6ITEsZ3V0dGVyOjAsYmVsb3dPcmlnaW46ITEsYWxpZ25tZW50OlwibGVmdFwiLHN0b3BQcm9wYWdhdGlvbjohMX07cmV0dXJuXCJvcGVuXCI9PT1lPyh0aGlzLmVhY2goZnVuY3Rpb24oKXt0KHRoaXMpLnRyaWdnZXIoXCJvcGVuXCIpfSksITEpOlwiY2xvc2VcIj09PWU/KHRoaXMuZWFjaChmdW5jdGlvbigpe3QodGhpcykudHJpZ2dlcihcImNsb3NlXCIpfSksITEpOnZvaWQgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe3ZvaWQgMCE9PXMuZGF0YShcImluZHVyYXRpb25cIikmJihhLmluRHVyYXRpb249cy5kYXRhKFwiaW5kdXJhdGlvblwiKSksdm9pZCAwIT09cy5kYXRhKFwib3V0ZHVyYXRpb25cIikmJihhLm91dER1cmF0aW9uPXMuZGF0YShcIm91dGR1cmF0aW9uXCIpKSx2b2lkIDAhPT1zLmRhdGEoXCJjb25zdHJhaW53aWR0aFwiKSYmKGEuY29uc3RyYWluX3dpZHRoPXMuZGF0YShcImNvbnN0cmFpbndpZHRoXCIpKSx2b2lkIDAhPT1zLmRhdGEoXCJob3ZlclwiKSYmKGEuaG92ZXI9cy5kYXRhKFwiaG92ZXJcIikpLHZvaWQgMCE9PXMuZGF0YShcImd1dHRlclwiKSYmKGEuZ3V0dGVyPXMuZGF0YShcImd1dHRlclwiKSksdm9pZCAwIT09cy5kYXRhKFwiYmVsb3dvcmlnaW5cIikmJihhLmJlbG93T3JpZ2luPXMuZGF0YShcImJlbG93b3JpZ2luXCIpKSx2b2lkIDAhPT1zLmRhdGEoXCJhbGlnbm1lbnRcIikmJihhLmFsaWdubWVudD1zLmRhdGEoXCJhbGlnbm1lbnRcIikpLHZvaWQgMCE9PXMuZGF0YShcInN0b3Bwcm9wYWdhdGlvblwiKSYmKGEuc3RvcFByb3BhZ2F0aW9uPXMuZGF0YShcInN0b3Bwcm9wYWdhdGlvblwiKSl9ZnVuY3Rpb24gaShlKXtcImZvY3VzXCI9PT1lJiYodT0hMCkscigpLGMuYWRkQ2xhc3MoXCJhY3RpdmVcIikscy5hZGRDbGFzcyhcImFjdGl2ZVwiKSxhLmNvbnN0cmFpbl93aWR0aD09PSEwP2MuY3NzKFwid2lkdGhcIixzLm91dGVyV2lkdGgoKSk6Yy5jc3MoXCJ3aGl0ZS1zcGFjZVwiLFwibm93cmFwXCIpO3ZhciBuPXdpbmRvdy5pbm5lckhlaWdodCxpPXMuaW5uZXJIZWlnaHQoKSxvPXMub2Zmc2V0KCkubGVmdCxsPXMub2Zmc2V0KCkudG9wLXQod2luZG93KS5zY3JvbGxUb3AoKSxwPWEuYWxpZ25tZW50LGg9MCxmPTAsZD0wO2EuYmVsb3dPcmlnaW49PT0hMCYmKGQ9aSk7dmFyIHk9MCxtPTAsdj1zLnBhcmVudCgpO2lmKHYuaXMoXCJib2R5XCIpfHwodlswXS5zY3JvbGxIZWlnaHQ+dlswXS5jbGllbnRIZWlnaHQmJih5PXZbMF0uc2Nyb2xsVG9wKSx2WzBdLnNjcm9sbFdpZHRoPnZbMF0uY2xpZW50V2lkdGgmJihtPXZbMF0uc2Nyb2xsTGVmdCkpLG8rYy5pbm5lcldpZHRoKCk+dCh3aW5kb3cpLndpZHRoKCk/cD1cInJpZ2h0XCI6by1jLmlubmVyV2lkdGgoKStzLmlubmVyV2lkdGgoKTwwJiYocD1cImxlZnRcIiksbCtjLmlubmVySGVpZ2h0KCk+bilpZihsK2ktYy5pbm5lckhlaWdodCgpPDApe3ZhciBnPW4tbC1kO2MuY3NzKFwibWF4LWhlaWdodFwiLGcpfWVsc2UgZHx8KGQrPWkpLGQtPWMuaW5uZXJIZWlnaHQoKTtpZihcImxlZnRcIj09PXApaD1hLmd1dHRlcixmPXMucG9zaXRpb24oKS5sZWZ0K2g7ZWxzZSBpZihcInJpZ2h0XCI9PT1wKXt2YXIgXz1zLnBvc2l0aW9uKCkubGVmdCtzLm91dGVyV2lkdGgoKS1jLm91dGVyV2lkdGgoKTtoPS1hLmd1dHRlcixmPV8raH1jLmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpzLnBvc2l0aW9uKCkudG9wK2QreSxsZWZ0OmYrbX0pLGMuc3RvcCghMCwhMCkuY3NzKFwib3BhY2l0eVwiLDApLnNsaWRlRG93bih7cXVldWU6ITEsZHVyYXRpb246YS5pbkR1cmF0aW9uLGVhc2luZzpcImVhc2VPdXRDdWJpY1wiLGNvbXBsZXRlOmZ1bmN0aW9uKCl7dCh0aGlzKS5jc3MoXCJoZWlnaHRcIixcIlwiKX19KS5hbmltYXRlKHtvcGFjaXR5OjF9LHtxdWV1ZTohMSxkdXJhdGlvbjphLmluRHVyYXRpb24sZWFzaW5nOlwiZWFzZU91dFNpbmVcIn0pfWZ1bmN0aW9uIG8oKXt1PSExLGMuZmFkZU91dChhLm91dER1cmF0aW9uKSxjLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLHMucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksc2V0VGltZW91dChmdW5jdGlvbigpe2MuY3NzKFwibWF4LWhlaWdodFwiLFwiXCIpfSxhLm91dER1cmF0aW9uKX12YXIgcz10KHRoaXMpLGE9dC5leHRlbmQoe30sbixlKSx1PSExLGM9dChcIiNcIitzLmF0dHIoXCJkYXRhLWFjdGl2YXRlc1wiKSk7aWYocigpLHMuYWZ0ZXIoYyksYS5ob3Zlcil7dmFyIGw9ITE7cy51bmJpbmQoXCJjbGljay5cIitzLmF0dHIoXCJpZFwiKSkscy5vbihcIm1vdXNlZW50ZXJcIixmdW5jdGlvbih0KXtsPT09ITEmJihpKCksbD0hMCl9KSxzLm9uKFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKGUpe3ZhciBuPWUudG9FbGVtZW50fHxlLnJlbGF0ZWRUYXJnZXQ7dChuKS5jbG9zZXN0KFwiLmRyb3Bkb3duLWNvbnRlbnRcIikuaXMoYyl8fChjLnN0b3AoITAsITApLG8oKSxsPSExKX0pLGMub24oXCJtb3VzZWxlYXZlXCIsZnVuY3Rpb24oZSl7dmFyIG49ZS50b0VsZW1lbnR8fGUucmVsYXRlZFRhcmdldDt0KG4pLmNsb3Nlc3QoXCIuZHJvcGRvd24tYnV0dG9uXCIpLmlzKHMpfHwoYy5zdG9wKCEwLCEwKSxvKCksbD0hMSl9KX1lbHNlIHMudW5iaW5kKFwiY2xpY2suXCIrcy5hdHRyKFwiaWRcIikpLHMuYmluZChcImNsaWNrLlwiK3MuYXR0cihcImlkXCIpLGZ1bmN0aW9uKGUpe3V8fChzWzBdIT1lLmN1cnJlbnRUYXJnZXR8fHMuaGFzQ2xhc3MoXCJhY3RpdmVcIil8fDAhPT10KGUudGFyZ2V0KS5jbG9zZXN0KFwiLmRyb3Bkb3duLWNvbnRlbnRcIikubGVuZ3RoP3MuaGFzQ2xhc3MoXCJhY3RpdmVcIikmJihvKCksdChkb2N1bWVudCkudW5iaW5kKFwiY2xpY2suXCIrYy5hdHRyKFwiaWRcIikrXCIgdG91Y2hzdGFydC5cIitjLmF0dHIoXCJpZFwiKSkpOihlLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24mJmUuc3RvcFByb3BhZ2F0aW9uKCksaShcImNsaWNrXCIpKSxjLmhhc0NsYXNzKFwiYWN0aXZlXCIpJiZ0KGRvY3VtZW50KS5iaW5kKFwiY2xpY2suXCIrYy5hdHRyKFwiaWRcIikrXCIgdG91Y2hzdGFydC5cIitjLmF0dHIoXCJpZFwiKSxmdW5jdGlvbihlKXtjLmlzKGUudGFyZ2V0KXx8cy5pcyhlLnRhcmdldCl8fHMuZmluZChlLnRhcmdldCkubGVuZ3RofHwobygpLHQoZG9jdW1lbnQpLnVuYmluZChcImNsaWNrLlwiK2MuYXR0cihcImlkXCIpK1wiIHRvdWNoc3RhcnQuXCIrYy5hdHRyKFwiaWRcIikpKX0pKX0pO3Mub24oXCJvcGVuXCIsZnVuY3Rpb24odCxlKXtpKGUpfSkscy5vbihcImNsb3NlXCIsbyl9KX0sdChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt0KFwiLmRyb3Bkb3duLWJ1dHRvblwiKS5kcm9wZG93bigpfSl9KGkpLGZ1bmN0aW9uKHQpe3ZhciBlPTAsbj0wLHI9ZnVuY3Rpb24oKXtyZXR1cm4gbisrLFwibWF0ZXJpYWxpemUtbW9kYWwtb3ZlcmxheS1cIitufSxpPXtpbml0OmZ1bmN0aW9uKG4pe3ZhciBpPXtvcGFjaXR5Oi41LGluX2R1cmF0aW9uOjM1MCxvdXRfZHVyYXRpb246MjUwLHJlYWR5OnZvaWQgMCxjb21wbGV0ZTp2b2lkIDAsZGlzbWlzc2libGU6ITAsc3RhcnRpbmdfdG9wOlwiNCVcIixlbmRpbmdfdG9wOlwiMTAlXCJ9O3JldHVybiBuPXQuZXh0ZW5kKGksbiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKSxvPXQodGhpcykuYXR0cihcImlkXCIpfHxcIiNcIit0KHRoaXMpLmRhdGEoXCJ0YXJnZXRcIikscz1mdW5jdGlvbigpe3ZhciByPWkuZGF0YShcIm92ZXJsYXktaWRcIiksbz10KFwiI1wiK3IpO2kucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpLHQoXCJib2R5XCIpLmNzcyh7b3ZlcmZsb3c6XCJcIix3aWR0aDpcIlwifSksaS5maW5kKFwiLm1vZGFsLWNsb3NlXCIpLm9mZihcImNsaWNrLmNsb3NlXCIpLHQoZG9jdW1lbnQpLm9mZihcImtleXVwLm1vZGFsXCIrciksby52ZWxvY2l0eSh7b3BhY2l0eTowfSx7ZHVyYXRpb246bi5vdXRfZHVyYXRpb24scXVldWU6ITEsZWFzZTpcImVhc2VPdXRRdWFydFwifSk7dmFyIHM9e2R1cmF0aW9uOm4ub3V0X2R1cmF0aW9uLHF1ZXVlOiExLGVhc2U6XCJlYXNlT3V0Q3ViaWNcIixjb21wbGV0ZTpmdW5jdGlvbigpe3QodGhpcykuY3NzKHtkaXNwbGF5Olwibm9uZVwifSksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5jb21wbGV0ZSYmbi5jb21wbGV0ZS5jYWxsKHRoaXMsaSksby5yZW1vdmUoKSxlLS19fTtpLmhhc0NsYXNzKFwiYm90dG9tLXNoZWV0XCIpP2kudmVsb2NpdHkoe2JvdHRvbTpcIi0xMDAlXCIsb3BhY2l0eTowfSxzKTppLnZlbG9jaXR5KHt0b3A6bi5zdGFydGluZ190b3Asb3BhY2l0eTowLHNjYWxlWDouN30scyl9LGE9ZnVuY3Rpb24obyl7dmFyIGE9dChcImJvZHlcIiksdT1hLmlubmVyV2lkdGgoKTtpZihhLmNzcyhcIm92ZXJmbG93XCIsXCJoaWRkZW5cIiksYS53aWR0aCh1KSwhaS5oYXNDbGFzcyhcIm9wZW5cIikpe3ZhciBjPXIoKSxsPXQoJzxkaXYgY2xhc3M9XCJtb2RhbC1vdmVybGF5XCI+PC9kaXY+Jyk7bFN0YWNrPSsrZSxsLmF0dHIoXCJpZFwiLGMpLmNzcyhcInotaW5kZXhcIiwxZTMrMipsU3RhY2spLGkuZGF0YShcIm92ZXJsYXktaWRcIixjKS5jc3MoXCJ6LWluZGV4XCIsMWUzKzIqbFN0YWNrKzEpLGkuYWRkQ2xhc3MoXCJvcGVuXCIpLHQoXCJib2R5XCIpLmFwcGVuZChsKSxuLmRpc21pc3NpYmxlJiYobC5jbGljayhmdW5jdGlvbigpe3MoKX0pLHQoZG9jdW1lbnQpLm9uKFwia2V5dXAubW9kYWxcIitjLGZ1bmN0aW9uKHQpezI3PT09dC5rZXlDb2RlJiZzKCl9KSksaS5maW5kKFwiLm1vZGFsLWNsb3NlXCIpLm9uKFwiY2xpY2suY2xvc2VcIixmdW5jdGlvbih0KXtzKCl9KSxsLmNzcyh7ZGlzcGxheTpcImJsb2NrXCIsb3BhY2l0eTowfSksaS5jc3Moe2Rpc3BsYXk6XCJibG9ja1wiLG9wYWNpdHk6MH0pLGwudmVsb2NpdHkoe29wYWNpdHk6bi5vcGFjaXR5fSx7ZHVyYXRpb246bi5pbl9kdXJhdGlvbixxdWV1ZTohMSxlYXNlOlwiZWFzZU91dEN1YmljXCJ9KSxpLmRhdGEoXCJhc3NvY2lhdGVkLW92ZXJsYXlcIixsWzBdKTt2YXIgcD17ZHVyYXRpb246bi5pbl9kdXJhdGlvbixxdWV1ZTohMSxlYXNlOlwiZWFzZU91dEN1YmljXCIsY29tcGxldGU6ZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLnJlYWR5JiZuLnJlYWR5LmNhbGwodGhpcyxpLG8pfX07aS5oYXNDbGFzcyhcImJvdHRvbS1zaGVldFwiKT9pLnZlbG9jaXR5KHtib3R0b206XCIwXCIsb3BhY2l0eToxfSxwKToodC5WZWxvY2l0eS5ob29rKGksXCJzY2FsZVhcIiwuNyksaS5jc3Moe3RvcDpuLnN0YXJ0aW5nX3RvcH0pLGkudmVsb2NpdHkoe3RvcDpuLmVuZGluZ190b3Asb3BhY2l0eToxLHNjYWxlWDpcIjFcIn0scCkpfX07dChkb2N1bWVudCkub2ZmKFwiY2xpY2subW9kYWxUcmlnZ2VyXCIsJ2FbaHJlZj1cIiMnK28rJ1wiXSwgW2RhdGEtdGFyZ2V0PVwiJytvKydcIl0nKSx0KHRoaXMpLm9mZihcIm9wZW5Nb2RhbFwiKSx0KHRoaXMpLm9mZihcImNsb3NlTW9kYWxcIiksdChkb2N1bWVudCkub24oXCJjbGljay5tb2RhbFRyaWdnZXJcIiwnYVtocmVmPVwiIycrbysnXCJdLCBbZGF0YS10YXJnZXQ9XCInK28rJ1wiXScsZnVuY3Rpb24oZSl7bi5zdGFydGluZ190b3A9KHQodGhpcykub2Zmc2V0KCkudG9wLXQod2luZG93KS5zY3JvbGxUb3AoKSkvMS4xNSxhKHQodGhpcykpLGUucHJldmVudERlZmF1bHQoKX0pLHQodGhpcykub24oXCJvcGVuTW9kYWxcIixmdW5jdGlvbigpe3QodGhpcykuYXR0cihcImhyZWZcIil8fFwiI1wiK3QodGhpcykuZGF0YShcInRhcmdldFwiKTthKCl9KSx0KHRoaXMpLm9uKFwiY2xvc2VNb2RhbFwiLGZ1bmN0aW9uKCl7cygpfSl9KX0sb3BlbjpmdW5jdGlvbigpe3QodGhpcykudHJpZ2dlcihcIm9wZW5Nb2RhbFwiKX0sY2xvc2U6ZnVuY3Rpb24oKXt0KHRoaXMpLnRyaWdnZXIoXCJjbG9zZU1vZGFsXCIpfX07dC5mbi5tb2RhbD1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXT9pW2VdLmFwcGx5KHRoaXMsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTpcIm9iamVjdFwiIT10eXBlb2YgZSYmZT92b2lkIHQuZXJyb3IoXCJNZXRob2QgXCIrZStcIiBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkubW9kYWxcIik6aS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KGkpLGZ1bmN0aW9uKHQpe3QuZm4ubWF0ZXJpYWxib3g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe289ITE7dmFyIGU9dS5wYXJlbnQoXCIubWF0ZXJpYWwtcGxhY2Vob2xkZXJcIikscj0od2luZG93LmlubmVyV2lkdGgsd2luZG93LmlubmVySGVpZ2h0LHUuZGF0YShcIndpZHRoXCIpKSxzPXUuZGF0YShcImhlaWdodFwiKTt1LnZlbG9jaXR5KFwic3RvcFwiLCEwKSx0KFwiI21hdGVyaWFsYm94LW92ZXJsYXlcIikudmVsb2NpdHkoXCJzdG9wXCIsITApLHQoXCIubWF0ZXJpYWxib3gtY2FwdGlvblwiKS52ZWxvY2l0eShcInN0b3BcIiwhMCksdChcIiNtYXRlcmlhbGJveC1vdmVybGF5XCIpLnZlbG9jaXR5KHtvcGFjaXR5OjB9LHtkdXJhdGlvbjphLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRRdWFkXCIsY29tcGxldGU6ZnVuY3Rpb24oKXtpPSExLHQodGhpcykucmVtb3ZlKCl9fSksdS52ZWxvY2l0eSh7d2lkdGg6cixoZWlnaHQ6cyxsZWZ0OjAsdG9wOjB9LHtkdXJhdGlvbjphLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRRdWFkXCJ9KSx0KFwiLm1hdGVyaWFsYm94LWNhcHRpb25cIikudmVsb2NpdHkoe29wYWNpdHk6MH0se2R1cmF0aW9uOmEscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIixjb21wbGV0ZTpmdW5jdGlvbigpe2UuY3NzKHtoZWlnaHQ6XCJcIix3aWR0aDpcIlwiLHBvc2l0aW9uOlwiXCIsdG9wOlwiXCIsbGVmdDpcIlwifSksdS5jc3Moe2hlaWdodDpcIlwiLHRvcDpcIlwiLGxlZnQ6XCJcIix3aWR0aDpcIlwiLFwibWF4LXdpZHRoXCI6XCJcIixwb3NpdGlvbjpcIlwiLFwiei1pbmRleFwiOlwiXCJ9KSx1LnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLG89ITAsdCh0aGlzKS5yZW1vdmUoKSxuJiZuLmNzcyhcIm92ZXJmbG93XCIsXCJcIil9fSl9aWYoIXQodGhpcykuaGFzQ2xhc3MoXCJpbml0aWFsaXplZFwiKSl7dCh0aGlzKS5hZGRDbGFzcyhcImluaXRpYWxpemVkXCIpO3ZhciBuLHIsaT0hMSxvPSEwLHM9Mjc1LGE9MjAwLHU9dCh0aGlzKSxjPXQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1hdGVyaWFsLXBsYWNlaG9sZGVyXCIpO3Uud3JhcChjKSx1Lm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe3ZhciBhPXUucGFyZW50KFwiLm1hdGVyaWFsLXBsYWNlaG9sZGVyXCIpLGM9d2luZG93LmlubmVyV2lkdGgsbD13aW5kb3cuaW5uZXJIZWlnaHQscD11LndpZHRoKCksaD11LmhlaWdodCgpO2lmKG89PT0hMSlyZXR1cm4gZSgpLCExO2lmKGkmJm89PT0hMClyZXR1cm4gZSgpLCExO289ITEsdS5hZGRDbGFzcyhcImFjdGl2ZVwiKSxpPSEwLGEuY3NzKHt3aWR0aDphWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLGhlaWdodDphWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCxwb3NpdGlvbjpcInJlbGF0aXZlXCIsdG9wOjAsbGVmdDowfSksbj12b2lkIDAscj1hWzBdLnBhcmVudE5vZGU7Zm9yKDtudWxsIT09ciYmIXQocikuaXMoZG9jdW1lbnQpOyl7dmFyIGY9dChyKTtcInZpc2libGVcIiE9PWYuY3NzKFwib3ZlcmZsb3dcIikmJihmLmNzcyhcIm92ZXJmbG93XCIsXCJ2aXNpYmxlXCIpLG49dm9pZCAwPT09bj9mOm4uYWRkKGYpKSxyPXIucGFyZW50Tm9kZX11LmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLFwiei1pbmRleFwiOjFlM30pLmRhdGEoXCJ3aWR0aFwiLHApLmRhdGEoXCJoZWlnaHRcIixoKTt2YXIgZD10KCc8ZGl2IGlkPVwibWF0ZXJpYWxib3gtb3ZlcmxheVwiPjwvZGl2PicpLmNzcyh7b3BhY2l0eTowfSkuY2xpY2soZnVuY3Rpb24oKXtvPT09ITAmJmUoKX0pO2lmKHUuYmVmb3JlKGQpLGQudmVsb2NpdHkoe29wYWNpdHk6MX0se2R1cmF0aW9uOnMscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pLFwiXCIhPT11LmRhdGEoXCJjYXB0aW9uXCIpKXt2YXIgeT10KCc8ZGl2IGNsYXNzPVwibWF0ZXJpYWxib3gtY2FwdGlvblwiPjwvZGl2PicpO3kudGV4dCh1LmRhdGEoXCJjYXB0aW9uXCIpKSx0KFwiYm9keVwiKS5hcHBlbmQoeSkseS5jc3Moe2Rpc3BsYXk6XCJpbmxpbmVcIn0pLHkudmVsb2NpdHkoe29wYWNpdHk6MX0se2R1cmF0aW9uOnMscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pfXZhciBtPTAsdj1wL2MsZz1oL2wsXz0wLGI9MDt2Pmc/KG09aC9wLF89LjkqYyxiPS45KmMqbSk6KG09cC9oLF89LjkqbCptLGI9LjkqbCksdS5oYXNDbGFzcyhcInJlc3BvbnNpdmUtaW1nXCIpP3UudmVsb2NpdHkoe1wibWF4LXdpZHRoXCI6Xyx3aWR0aDpwfSx7ZHVyYXRpb246MCxxdWV1ZTohMSxjb21wbGV0ZTpmdW5jdGlvbigpe3UuY3NzKHtsZWZ0OjAsdG9wOjB9KS52ZWxvY2l0eSh7aGVpZ2h0OmIsd2lkdGg6XyxsZWZ0OnQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKStjLzItdS5wYXJlbnQoXCIubWF0ZXJpYWwtcGxhY2Vob2xkZXJcIikub2Zmc2V0KCkubGVmdC1fLzIsdG9wOnQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpK2wvMi11LnBhcmVudChcIi5tYXRlcmlhbC1wbGFjZWhvbGRlclwiKS5vZmZzZXQoKS50b3AtYi8yfSx7ZHVyYXRpb246cyxxdWV1ZTohMSxlYXNpbmc6XCJlYXNlT3V0UXVhZFwiLGNvbXBsZXRlOmZ1bmN0aW9uKCl7bz0hMH19KX19KTp1LmNzcyhcImxlZnRcIiwwKS5jc3MoXCJ0b3BcIiwwKS52ZWxvY2l0eSh7aGVpZ2h0OmIsd2lkdGg6XyxsZWZ0OnQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKStjLzItdS5wYXJlbnQoXCIubWF0ZXJpYWwtcGxhY2Vob2xkZXJcIikub2Zmc2V0KCkubGVmdC1fLzIsdG9wOnQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpK2wvMi11LnBhcmVudChcIi5tYXRlcmlhbC1wbGFjZWhvbGRlclwiKS5vZmZzZXQoKS50b3AtYi8yfSx7ZHVyYXRpb246cyxxdWV1ZTohMSxlYXNpbmc6XCJlYXNlT3V0UXVhZFwiLGNvbXBsZXRlOmZ1bmN0aW9uKCl7bz0hMH19KX0pLHQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKXtpJiZlKCl9KSx0KGRvY3VtZW50KS5rZXl1cChmdW5jdGlvbih0KXsyNz09PXQua2V5Q29kZSYmbz09PSEwJiZpJiZlKCl9KX19KX0sdChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt0KFwiLm1hdGVyaWFsYm94ZWRcIikubWF0ZXJpYWxib3goKX0pfShpKSxmdW5jdGlvbih0KXt0LmZuLnBhcmFsbGF4PWZ1bmN0aW9uKCl7dmFyIGU9dCh3aW5kb3cpLndpZHRoKCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihuKXtmdW5jdGlvbiByKG4pe3ZhciByO3I9ZTw2MDE/aS5oZWlnaHQoKT4wP2kuaGVpZ2h0KCk6aS5jaGlsZHJlbihcImltZ1wiKS5oZWlnaHQoKTppLmhlaWdodCgpPjA/aS5oZWlnaHQoKTo1MDA7dmFyIG89aS5jaGlsZHJlbihcImltZ1wiKS5maXJzdCgpLHM9by5oZWlnaHQoKSxhPXMtcix1PWkub2Zmc2V0KCkudG9wK3IsYz1pLm9mZnNldCgpLnRvcCxsPXQod2luZG93KS5zY3JvbGxUb3AoKSxwPXdpbmRvdy5pbm5lckhlaWdodCxoPWwrcCxmPShoLWMpLyhyK3ApLGQ9TWF0aC5yb3VuZChhKmYpO24mJm8uY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIiksdT5sJiZjPGwrcCYmby5jc3MoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZTNEKC01MCUsXCIrZCtcInB4LCAwKVwiKX12YXIgaT10KHRoaXMpO2kuYWRkQ2xhc3MoXCJwYXJhbGxheFwiKSxpLmNoaWxkcmVuKFwiaW1nXCIpLm9uZShcImxvYWRcIixmdW5jdGlvbigpe3IoITApfSkuZWFjaChmdW5jdGlvbigpe3RoaXMuY29tcGxldGUmJnQodGhpcykudHJpZ2dlcihcImxvYWRcIil9KSx0KHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCl7ZT10KHdpbmRvdykud2lkdGgoKSxyKCExKX0pLHQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtlPXQod2luZG93KS53aWR0aCgpLHIoITEpfSl9KX19KGkpLGZ1bmN0aW9uKHQpe3ZhciBlPXtpbml0OmZ1bmN0aW9uKGUpe3ZhciBuPXtvblNob3c6bnVsbH07cmV0dXJuIGU9dC5leHRlbmQobixlKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbixyLGk9dCh0aGlzKSxvPSh0KHdpbmRvdykud2lkdGgoKSxpLmZpbmQoXCJsaS50YWIgYVwiKSkscz1pLndpZHRoKCksYT1NYXRoLm1heChzLGlbMF0uc2Nyb2xsV2lkdGgpL28ubGVuZ3RoLHU9MCxjPWZ1bmN0aW9uKHQpe3JldHVybiBzLXQucG9zaXRpb24oKS5sZWZ0LXQub3V0ZXJXaWR0aCgpLWkuc2Nyb2xsTGVmdCgpfSxsPWZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc2l0aW9uKCkubGVmdCtpLnNjcm9sbExlZnQoKX07bj10KG8uZmlsdGVyKCdbaHJlZj1cIicrbG9jYXRpb24uaGFzaCsnXCJdJykpLDA9PT1uLmxlbmd0aCYmKG49dCh0aGlzKS5maW5kKFwibGkudGFiIGEuYWN0aXZlXCIpLmZpcnN0KCkpLDA9PT1uLmxlbmd0aCYmKG49dCh0aGlzKS5maW5kKFwibGkudGFiIGFcIikuZmlyc3QoKSksbi5hZGRDbGFzcyhcImFjdGl2ZVwiKSx1PW8uaW5kZXgobiksdTwwJiYodT0wKSx2b2lkIDAhPT1uWzBdJiYocj10KG5bMF0uaGFzaCkpLGkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiaW5kaWNhdG9yXCI+PC9kaXY+Jyk7dmFyIHA9aS5maW5kKFwiLmluZGljYXRvclwiKTtpLmlzKFwiOnZpc2libGVcIikmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtwLmNzcyh7cmlnaHQ6YyhuKX0pLHAuY3NzKHtsZWZ0Omwobil9KX0sMCksdCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpe3M9aS53aWR0aCgpLGE9TWF0aC5tYXgocyxpWzBdLnNjcm9sbFdpZHRoKS9vLmxlbmd0aCx1PDAmJih1PTApLDAhPT1hJiYwIT09cyYmKHAuY3NzKHtyaWdodDpjKG4pfSkscC5jc3Moe2xlZnQ6bChuKX0pKX0pLG8ubm90KG4pLmVhY2goZnVuY3Rpb24oKXt0KE1hdGVyaWFsaXplLmVzY2FwZUhhc2godGhpcy5oYXNoKSkuaGlkZSgpfSksaS5vbihcImNsaWNrXCIsXCJhXCIsZnVuY3Rpb24oaCl7aWYodCh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcyhcImRpc2FibGVkXCIpKXJldHVybiB2b2lkIGgucHJldmVudERlZmF1bHQoKTtpZighdCh0aGlzKS5hdHRyKFwidGFyZ2V0XCIpKXtzPWkud2lkdGgoKSxhPU1hdGgubWF4KHMsaVswXS5zY3JvbGxXaWR0aCkvby5sZW5ndGgsbi5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSx2b2lkIDAhPT1yJiZyLmhpZGUoKSxuPXQodGhpcykscj10KE1hdGVyaWFsaXplLmVzY2FwZUhhc2godGhpcy5oYXNoKSksbz1pLmZpbmQoXCJsaS50YWIgYVwiKTtuLnBvc2l0aW9uKCk7bi5hZGRDbGFzcyhcImFjdGl2ZVwiKTt2YXIgZj11O3U9by5pbmRleCh0KHRoaXMpKSx1PDAmJih1PTApLHZvaWQgMCE9PXImJihyLnNob3coKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uU2hvdyYmZS5vblNob3cuY2FsbCh0aGlzLHIpKSx1LWY+PTA/KHAudmVsb2NpdHkoe3JpZ2h0OmMobil9LHtkdXJhdGlvbjozMDAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pLHAudmVsb2NpdHkoe2xlZnQ6bChuKX0se2R1cmF0aW9uOjMwMCxxdWV1ZTohMSxlYXNpbmc6XCJlYXNlT3V0UXVhZFwiLGRlbGF5OjkwfSkpOihwLnZlbG9jaXR5KHtsZWZ0Omwobil9LHtkdXJhdGlvbjozMDAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pLHAudmVsb2NpdHkoe3JpZ2h0OmMobil9LHtkdXJhdGlvbjozMDAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIixkZWxheTo5MH0pKSxoLnByZXZlbnREZWZhdWx0KCl9fSl9KX0sc2VsZWN0X3RhYjpmdW5jdGlvbih0KXt0aGlzLmZpbmQoJ2FbaHJlZj1cIiMnK3QrJ1wiXScpLnRyaWdnZXIoXCJjbGlja1wiKX19O3QuZm4udGFicz1mdW5jdGlvbihuKXtyZXR1cm4gZVtuXT9lW25dLmFwcGx5KHRoaXMsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTpcIm9iamVjdFwiIT10eXBlb2YgbiYmbj92b2lkIHQuZXJyb3IoXCJNZXRob2QgXCIrbitcIiBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkudGFic1wiKTplLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe3QoXCJ1bC50YWJzXCIpLnRhYnMoKX0pfShpKSxmdW5jdGlvbih0KXt0LmZuLnRvb2x0aXA9ZnVuY3Rpb24obil7dmFyIHI9NSxpPXtkZWxheTozNTAsdG9vbHRpcDpcIlwiLHBvc2l0aW9uOlwiYm90dG9tXCIsaHRtbDohMX07cmV0dXJuXCJyZW1vdmVcIj09PW4/KHRoaXMuZWFjaChmdW5jdGlvbigpe3QoXCIjXCIrdCh0aGlzKS5hdHRyKFwiZGF0YS10b29sdGlwLWlkXCIpKS5yZW1vdmUoKSx0KHRoaXMpLm9mZihcIm1vdXNlZW50ZXIudG9vbHRpcCBtb3VzZWxlYXZlLnRvb2x0aXBcIil9KSwhMSk6KG49dC5leHRlbmQoaSxuKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1NYXRlcmlhbGl6ZS5ndWlkKCksbz10KHRoaXMpO28uYXR0cihcImRhdGEtdG9vbHRpcC1pZFwiKSYmdChcIiNcIitvLmF0dHIoXCJkYXRhLXRvb2x0aXAtaWRcIikpLnJlbW92ZSgpLG8uYXR0cihcImRhdGEtdG9vbHRpcC1pZFwiLGkpO3ZhciBzLGEsdSxjLGwscCxoPWZ1bmN0aW9uKCl7cz1vLmF0dHIoXCJkYXRhLWh0bWxcIik/XCJ0cnVlXCI9PT1vLmF0dHIoXCJkYXRhLWh0bWxcIik6bi5odG1sLGE9by5hdHRyKFwiZGF0YS1kZWxheVwiKSxhPXZvaWQgMD09PWF8fFwiXCI9PT1hP24uZGVsYXk6YSx1PW8uYXR0cihcImRhdGEtcG9zaXRpb25cIiksdT12b2lkIDA9PT11fHxcIlwiPT09dT9uLnBvc2l0aW9uOnUsYz1vLmF0dHIoXCJkYXRhLXRvb2x0aXBcIiksYz12b2lkIDA9PT1jfHxcIlwiPT09Yz9uLnRvb2x0aXA6Y307aCgpO3ZhciBmPWZ1bmN0aW9uKCl7dmFyIGU9dCgnPGRpdiBjbGFzcz1cIm1hdGVyaWFsLXRvb2x0aXBcIj48L2Rpdj4nKTtyZXR1cm4gYz1zP3QoXCI8c3Bhbj48L3NwYW4+XCIpLmh0bWwoYyk6dChcIjxzcGFuPjwvc3Bhbj5cIikudGV4dChjKSxlLmFwcGVuZChjKS5hcHBlbmRUbyh0KFwiYm9keVwiKSkuYXR0cihcImlkXCIsaSkscD10KCc8ZGl2IGNsYXNzPVwiYmFja2Ryb3BcIj48L2Rpdj4nKSxwLmFwcGVuZFRvKGUpLGV9O2w9ZigpLG8ub2ZmKFwibW91c2VlbnRlci50b29sdGlwIG1vdXNlbGVhdmUudG9vbHRpcFwiKTt2YXIgZCx5PSExO28ub24oe1wibW91c2VlbnRlci50b29sdGlwXCI6ZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oKXtoKCkseT0hMCxsLnZlbG9jaXR5KFwic3RvcFwiKSxwLnZlbG9jaXR5KFwic3RvcFwiKSxsLmNzcyh7ZGlzcGxheTpcImJsb2NrXCIsbGVmdDpcIjBweFwiLHRvcDpcIjBweFwifSk7dmFyIHQsbixpLHM9by5vdXRlcldpZHRoKCksYT1vLm91dGVySGVpZ2h0KCksYz1sLm91dGVySGVpZ2h0KCksZj1sLm91dGVyV2lkdGgoKSxkPVwiMHB4XCIsbT1cIjBweFwiLHY9OCxnPTg7XCJ0b3BcIj09PXU/KHQ9by5vZmZzZXQoKS50b3AtYy1yLG49by5vZmZzZXQoKS5sZWZ0K3MvMi1mLzIsaT1lKG4sdCxmLGMpLGQ9XCItMTBweFwiLHAuY3NzKHtib3R0b206MCxsZWZ0OjAsYm9yZGVyUmFkaXVzOlwiMTRweCAxNHB4IDAgMFwiLHRyYW5zZm9ybU9yaWdpbjpcIjUwJSAxMDAlXCIsbWFyZ2luVG9wOmMsbWFyZ2luTGVmdDpmLzItcC53aWR0aCgpLzJ9KSk6XCJsZWZ0XCI9PT11Pyh0PW8ub2Zmc2V0KCkudG9wK2EvMi1jLzIsbj1vLm9mZnNldCgpLmxlZnQtZi1yLGk9ZShuLHQsZixjKSxtPVwiLTEwcHhcIixwLmNzcyh7dG9wOlwiLTdweFwiLHJpZ2h0OjAsd2lkdGg6XCIxNHB4XCIsaGVpZ2h0OlwiMTRweFwiLGJvcmRlclJhZGl1czpcIjE0cHggMCAwIDE0cHhcIix0cmFuc2Zvcm1PcmlnaW46XCI5NSUgNTAlXCIsbWFyZ2luVG9wOmMvMixtYXJnaW5MZWZ0OmZ9KSk6XCJyaWdodFwiPT09dT8odD1vLm9mZnNldCgpLnRvcCthLzItYy8yLG49by5vZmZzZXQoKS5sZWZ0K3MrcixpPWUobix0LGYsYyksbT1cIisxMHB4XCIscC5jc3Moe3RvcDpcIi03cHhcIixsZWZ0OjAsd2lkdGg6XCIxNHB4XCIsaGVpZ2h0OlwiMTRweFwiLGJvcmRlclJhZGl1czpcIjAgMTRweCAxNHB4IDBcIix0cmFuc2Zvcm1PcmlnaW46XCI1JSA1MCVcIixtYXJnaW5Ub3A6Yy8yLG1hcmdpbkxlZnQ6XCIwcHhcIn0pKToodD1vLm9mZnNldCgpLnRvcCtvLm91dGVySGVpZ2h0KCkrcixuPW8ub2Zmc2V0KCkubGVmdCtzLzItZi8yLGk9ZShuLHQsZixjKSxkPVwiKzEwcHhcIixwLmNzcyh7dG9wOjAsbGVmdDowLG1hcmdpbkxlZnQ6Zi8yLXAud2lkdGgoKS8yfSkpLGwuY3NzKHt0b3A6aS55LGxlZnQ6aS54fSksdj1NYXRoLlNRUlQyKmYvcGFyc2VJbnQocC5jc3MoXCJ3aWR0aFwiKSksZz1NYXRoLlNRUlQyKmMvcGFyc2VJbnQocC5jc3MoXCJoZWlnaHRcIikpLGwudmVsb2NpdHkoe21hcmdpblRvcDpkLG1hcmdpbkxlZnQ6bX0se2R1cmF0aW9uOjM1MCxxdWV1ZTohMX0pLnZlbG9jaXR5KHtvcGFjaXR5OjF9LHtkdXJhdGlvbjozMDAsZGVsYXk6NTAscXVldWU6ITF9KSxwLmNzcyh7ZGlzcGxheTpcImJsb2NrXCJ9KS52ZWxvY2l0eSh7b3BhY2l0eToxfSx7ZHVyYXRpb246NTUsZGVsYXk6MCxxdWV1ZTohMX0pLnZlbG9jaXR5KHtzY2FsZVg6dixzY2FsZVk6Z30se2R1cmF0aW9uOjMwMCxkZWxheTowLHF1ZXVlOiExLGVhc2luZzpcImVhc2VJbk91dFF1YWRcIn0pfTtkPXNldFRpbWVvdXQobixhKX0sXCJtb3VzZWxlYXZlLnRvb2x0aXBcIjpmdW5jdGlvbigpe3k9ITEsY2xlYXJUaW1lb3V0KGQpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt5IT09ITAmJihsLnZlbG9jaXR5KHtvcGFjaXR5OjAsbWFyZ2luVG9wOjAsbWFyZ2luTGVmdDowfSx7ZHVyYXRpb246MjI1LHF1ZXVlOiExfSkscC52ZWxvY2l0eSh7b3BhY2l0eTowLHNjYWxlWDoxLHNjYWxlWToxfSx7ZHVyYXRpb246MjI1LHF1ZXVlOiExLGNvbXBsZXRlOmZ1bmN0aW9uKCl7cC5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLGwuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKSx5PSExfX0pKX0sMjI1KX19KX0pKX07dmFyIGU9ZnVuY3Rpb24oZSxuLHIsaSl7dmFyIG89ZSxzPW47cmV0dXJuIG88MD9vPTQ6bytyPndpbmRvdy5pbm5lcldpZHRoJiYoby09bytyLXdpbmRvdy5pbm5lcldpZHRoKSxzPDA/cz00OnMraT53aW5kb3cuaW5uZXJIZWlnaHQrdCh3aW5kb3cpLnNjcm9sbFRvcCYmKHMtPXMraS13aW5kb3cuaW5uZXJIZWlnaHQpLHt4Om8seTpzfX07dChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt0KFwiLnRvb2x0aXBwZWRcIikudG9vbHRpcCgpfSl9KGkpLGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUodCl7cmV0dXJuIG51bGwhPT10JiZ0PT09dC53aW5kb3d9ZnVuY3Rpb24gbih0KXtyZXR1cm4gZSh0KT90Ojk9PT10Lm5vZGVUeXBlJiZ0LmRlZmF1bHRWaWV3fWZ1bmN0aW9uIHIodCl7dmFyIGUscixpPXt0b3A6MCxsZWZ0OjB9LG89dCYmdC5vd25lckRvY3VtZW50O3JldHVybiBlPW8uZG9jdW1lbnRFbGVtZW50LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKGk9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkscj1uKG8pLHt0b3A6aS50b3Arci5wYWdlWU9mZnNldC1lLmNsaWVudFRvcCxsZWZ0OmkubGVmdCtyLnBhZ2VYT2Zmc2V0LWUuY2xpZW50TGVmdH19ZnVuY3Rpb24gaSh0KXt2YXIgZT1cIlwiO2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlKz1uK1wiOlwiK3Rbbl0rXCI7XCIpO3JldHVybiBlfWZ1bmN0aW9uIG8odCl7aWYobC5hbGxvd0V2ZW50KHQpPT09ITEpcmV0dXJuIG51bGw7Zm9yKHZhciBlPW51bGwsbj10LnRhcmdldHx8dC5zcmNFbGVtZW50O251bGwhPT1uLnBhcmVudEVsZW1lbnQ7KXtpZighKG4gaW5zdGFuY2VvZiBTVkdFbGVtZW50fHxuLmNsYXNzTmFtZS5pbmRleE9mKFwid2F2ZXMtZWZmZWN0XCIpPT09LTEpKXtlPW47YnJlYWt9aWYobi5jbGFzc0xpc3QuY29udGFpbnMoXCJ3YXZlcy1lZmZlY3RcIikpe2U9bjticmVha31uPW4ucGFyZW50RWxlbWVudH1yZXR1cm4gZX1mdW5jdGlvbiBzKGUpe3ZhciBuPW8oZSk7bnVsbCE9PW4mJihjLnNob3coZSxuKSxcIm9udG91Y2hzdGFydFwiaW4gdCYmKG4uYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsYy5oaWRlLCExKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLGMuaGlkZSwhMSkpLG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixjLmhpZGUsITEpLG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIixjLmhpZGUsITEpKX12YXIgYT1hfHx7fSx1PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwuYmluZChkb2N1bWVudCksYz17ZHVyYXRpb246NzUwLHNob3c6ZnVuY3Rpb24odCxlKXtpZigyPT09dC5idXR0b24pcmV0dXJuITE7dmFyIG49ZXx8dGhpcyxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5jbGFzc05hbWU9XCJ3YXZlcy1yaXBwbGVcIixuLmFwcGVuZENoaWxkKG8pO3ZhciBzPXIobiksYT10LnBhZ2VZLXMudG9wLHU9dC5wYWdlWC1zLmxlZnQsbD1cInNjYWxlKFwiK24uY2xpZW50V2lkdGgvMTAwKjEwK1wiKVwiO1widG91Y2hlc1wiaW4gdCYmKGE9dC50b3VjaGVzWzBdLnBhZ2VZLXMudG9wLHU9dC50b3VjaGVzWzBdLnBhZ2VYLXMubGVmdCksby5zZXRBdHRyaWJ1dGUoXCJkYXRhLWhvbGRcIixEYXRlLm5vdygpKSxvLnNldEF0dHJpYnV0ZShcImRhdGEtc2NhbGVcIixsKSxvLnNldEF0dHJpYnV0ZShcImRhdGEteFwiLHUpLG8uc2V0QXR0cmlidXRlKFwiZGF0YS15XCIsYSk7dmFyIHA9e3RvcDphK1wicHhcIixsZWZ0OnUrXCJweFwifTtvLmNsYXNzTmFtZT1vLmNsYXNzTmFtZStcIiB3YXZlcy1ub3RyYW5zaXRpb25cIixvLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsaShwKSksby5jbGFzc05hbWU9by5jbGFzc05hbWUucmVwbGFjZShcIndhdmVzLW5vdHJhbnNpdGlvblwiLFwiXCIpLHBbXCItd2Via2l0LXRyYW5zZm9ybVwiXT1sLHBbXCItbW96LXRyYW5zZm9ybVwiXT1sLHBbXCItbXMtdHJhbnNmb3JtXCJdPWwscFtcIi1vLXRyYW5zZm9ybVwiXT1sLHAudHJhbnNmb3JtPWwscC5vcGFjaXR5PVwiMVwiLHBbXCItd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb25cIl09Yy5kdXJhdGlvbitcIm1zXCIscFtcIi1tb3otdHJhbnNpdGlvbi1kdXJhdGlvblwiXT1jLmR1cmF0aW9uK1wibXNcIixwW1wiLW8tdHJhbnNpdGlvbi1kdXJhdGlvblwiXT1jLmR1cmF0aW9uK1wibXNcIixwW1widHJhbnNpdGlvbi1kdXJhdGlvblwiXT1jLmR1cmF0aW9uK1wibXNcIixwW1wiLXdlYmtpdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblwiXT1cImN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MClcIixwW1wiLW1vei10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblwiXT1cImN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MClcIixwW1wiLW8tdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cIl09XCJjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApXCIscFtcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCJdPVwiY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKVwiLG8uc2V0QXR0cmlidXRlKFwic3R5bGVcIixpKHApKX0saGlkZTpmdW5jdGlvbih0KXtsLnRvdWNodXAodCk7dmFyIGU9dGhpcyxuPSgxLjQqZS5jbGllbnRXaWR0aCxudWxsKSxyPWUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIndhdmVzLXJpcHBsZVwiKTtpZighKHIubGVuZ3RoPjApKXJldHVybiExO249cltyLmxlbmd0aC0xXTt2YXIgbz1uLmdldEF0dHJpYnV0ZShcImRhdGEteFwiKSxzPW4uZ2V0QXR0cmlidXRlKFwiZGF0YS15XCIpLGE9bi5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNjYWxlXCIpLHU9RGF0ZS5ub3coKS1OdW1iZXIobi5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhvbGRcIikpLHA9MzUwLXU7cDwwJiYocD0wKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQ9e3RvcDpzK1wicHhcIixsZWZ0Om8rXCJweFwiLG9wYWNpdHk6XCIwXCIsXCItd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb25cIjpjLmR1cmF0aW9uK1wibXNcIixcIi1tb3otdHJhbnNpdGlvbi1kdXJhdGlvblwiOmMuZHVyYXRpb24rXCJtc1wiLFwiLW8tdHJhbnNpdGlvbi1kdXJhdGlvblwiOmMuZHVyYXRpb24rXCJtc1wiLFwidHJhbnNpdGlvbi1kdXJhdGlvblwiOmMuZHVyYXRpb24rXCJtc1wiLFwiLXdlYmtpdC10cmFuc2Zvcm1cIjphLFwiLW1vei10cmFuc2Zvcm1cIjphLFwiLW1zLXRyYW5zZm9ybVwiOmEsXCItby10cmFuc2Zvcm1cIjphLHRyYW5zZm9ybTphfTtuLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsaSh0KSksc2V0VGltZW91dChmdW5jdGlvbigpe3RyeXtlLnJlbW92ZUNoaWxkKG4pfWNhdGNoKHQpe3JldHVybiExfX0sYy5kdXJhdGlvbil9LHApfSx3cmFwSW5wdXQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV07aWYoXCJpbnB1dFwiPT09bi50YWdOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciByPW4ucGFyZW50Tm9kZTtpZihcImlcIj09PXIudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZyLmNsYXNzTmFtZS5pbmRleE9mKFwid2F2ZXMtZWZmZWN0XCIpIT09LTEpY29udGludWU7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7aS5jbGFzc05hbWU9bi5jbGFzc05hbWUrXCIgd2F2ZXMtaW5wdXQtd3JhcHBlclwiO3ZhciBvPW4uZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7b3x8KG89XCJcIiksaS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLG8pLG4uY2xhc3NOYW1lPVwid2F2ZXMtYnV0dG9uLWlucHV0XCIsbi5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKSxyLnJlcGxhY2VDaGlsZChpLG4pLGkuYXBwZW5kQ2hpbGQobil9fX19LGw9e3RvdWNoZXM6MCxhbGxvd0V2ZW50OmZ1bmN0aW9uKHQpe3ZhciBlPSEwO3JldHVyblwidG91Y2hzdGFydFwiPT09dC50eXBlP2wudG91Y2hlcys9MTpcInRvdWNoZW5kXCI9PT10LnR5cGV8fFwidG91Y2hjYW5jZWxcIj09PXQudHlwZT9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bC50b3VjaGVzPjAmJihsLnRvdWNoZXMtPTEpfSw1MDApOlwibW91c2Vkb3duXCI9PT10LnR5cGUmJmwudG91Y2hlcz4wJiYoZT0hMSksZX0sdG91Y2h1cDpmdW5jdGlvbih0KXtsLmFsbG93RXZlbnQodCl9fTthLmRpc3BsYXlFZmZlY3Q9ZnVuY3Rpb24oZSl7ZT1lfHx7fSxcImR1cmF0aW9uXCJpbiBlJiYoYy5kdXJhdGlvbj1lLmR1cmF0aW9uKSxjLndyYXBJbnB1dCh1KFwiLndhdmVzLWVmZmVjdFwiKSksXCJvbnRvdWNoc3RhcnRcImluIHQmJmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixzLCExKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixzLCExKX0sYS5hdHRhY2g9ZnVuY3Rpb24oZSl7XCJpbnB1dFwiPT09ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJihjLndyYXBJbnB1dChbZV0pLGU9ZS5wYXJlbnRFbGVtZW50KSxcIm9udG91Y2hzdGFydFwiaW4gdCYmZS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHMsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHMsITEpfSx0LldhdmVzPWEsZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixmdW5jdGlvbigpe2EuZGlzcGxheUVmZmVjdCgpfSwhMSl9KHdpbmRvdyksTWF0ZXJpYWxpemUudG9hc3Q9ZnVuY3Rpb24odCxlLG4scil7ZnVuY3Rpb24gcyh0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKGUuY2xhc3NMaXN0LmFkZChcInRvYXN0XCIpLG4pZm9yKHZhciBzPW4uc3BsaXQoXCIgXCIpLGE9MCx1PXMubGVuZ3RoO2E8dTthKyspZS5jbGFzc0xpc3QuYWRkKHNbYV0pOyhcIm9iamVjdFwiPT10eXBlb2YgSFRNTEVsZW1lbnQ/dCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50OnQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dCYmMT09PXQubm9kZVR5cGUmJlwic3RyaW5nXCI9PXR5cGVvZiB0Lm5vZGVOYW1lKT9lLmFwcGVuZENoaWxkKHQpOnQgaW5zdGFuY2VvZiBpP2UuYXBwZW5kQ2hpbGQodFswXSk6ZS5pbm5lckhUTUw9dDt2YXIgYz1uZXcgSGFtbWVyKGUse3ByZXZlbnRfZGVmYXVsdDohMX0pO3JldHVybiBjLm9uKFwicGFuXCIsZnVuY3Rpb24odCl7dmFyIG49dC5kZWx0YVgscj04MDtlLmNsYXNzTGlzdC5jb250YWlucyhcInBhbm5pbmdcIil8fGUuY2xhc3NMaXN0LmFkZChcInBhbm5pbmdcIik7dmFyIGk9MS1NYXRoLmFicyhuL3IpO2k8MCYmKGk9MCksbyhlLHtsZWZ0Om4sb3BhY2l0eTppfSx7ZHVyYXRpb246NTAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pfSksYy5vbihcInBhbmVuZFwiLGZ1bmN0aW9uKHQpe3ZhciBuPXQuZGVsdGFYLGk9ODA7TWF0aC5hYnMobik+aT9vKGUse21hcmdpblRvcDpcIi00MHB4XCJ9LHtkdXJhdGlvbjozNzUsZWFzaW5nOlwiZWFzZU91dEV4cG9cIixxdWV1ZTohMSxjb21wbGV0ZTpmdW5jdGlvbigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHImJnIoKSxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9fSk6KGUuY2xhc3NMaXN0LnJlbW92ZShcInBhbm5pbmdcIiksbyhlLHtsZWZ0OjAsb3BhY2l0eToxfSx7ZHVyYXRpb246MzAwLGVhc2luZzpcImVhc2VPdXRFeHBvXCIscXVldWU6ITF9KSl9KSxlfW49bnx8XCJcIjt2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvYXN0LWNvbnRhaW5lclwiKTtudWxsPT09YSYmKGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxhLmlkPVwidG9hc3QtY29udGFpbmVyXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSk7dmFyIHU9cyh0KTt0JiZhLmFwcGVuZENoaWxkKHUpLHUuc3R5bGUudG9wPVwiMzVweFwiLHUuc3R5bGUub3BhY2l0eT0wLG8odSx7dG9wOlwiMHB4XCIsb3BhY2l0eToxfSx7ZHVyYXRpb246MzAwLGVhc2luZzpcImVhc2VPdXRDdWJpY1wiLHF1ZXVlOiExfSk7dmFyIGMsbD1lO251bGwhPWwmJihjPXNldEludGVydmFsKGZ1bmN0aW9uKCl7bnVsbD09PXUucGFyZW50Tm9kZSYmd2luZG93LmNsZWFySW50ZXJ2YWwoYyksdS5jbGFzc0xpc3QuY29udGFpbnMoXCJwYW5uaW5nXCIpfHwobC09MjApLGw8PTAmJihvKHUse29wYWNpdHk6MCxtYXJnaW5Ub3A6XCItNDBweFwifSx7ZHVyYXRpb246Mzc1LGVhc2luZzpcImVhc2VPdXRFeHBvXCIscXVldWU6ITEsY29tcGxldGU6ZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZyKCksdGhpc1swXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXNbMF0pfX0pLHdpbmRvdy5jbGVhckludGVydmFsKGMpKX0sMjApKX0sZnVuY3Rpb24odCl7dmFyIGU9e2luaXQ6ZnVuY3Rpb24oZSl7dmFyIG49e21lbnVXaWR0aDozMDAsZWRnZTpcImxlZnRcIixjbG9zZU9uQ2xpY2s6ITEsZHJhZ2dhYmxlOiEwfTtlPXQuZXh0ZW5kKG4sZSksdCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dCh0aGlzKSxyPXQoXCIjXCIrbi5hdHRyKFwiZGF0YS1hY3RpdmF0ZXNcIikpOzMwMCE9ZS5tZW51V2lkdGgmJnIuY3NzKFwid2lkdGhcIixlLm1lbnVXaWR0aCk7dmFyIGk7ZS5kcmFnZ2FibGU/KGk9dCgnPGRpdiBjbGFzcz1cImRyYWctdGFyZ2V0XCI+PC9kaXY+JykuYXR0cihcImRhdGEtc2lkZW5hdlwiLG4uYXR0cihcImRhdGEtYWN0aXZhdGVzXCIpKSx0KFwiYm9keVwiKS5hcHBlbmQoaSkpOmk9dCgpLFwibGVmdFwiPT1lLmVkZ2U/KHIuY3NzKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKC0xMDAlKVwiKSxpLmNzcyh7bGVmdDowfSkpOihyLmFkZENsYXNzKFwicmlnaHQtYWxpZ25lZFwiKS5jc3MoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVgoMTAwJSlcIiksaS5jc3Moe3JpZ2h0OjB9KSksci5oYXNDbGFzcyhcImZpeGVkXCIpJiZ3aW5kb3cuaW5uZXJXaWR0aD45OTImJnIuY3NzKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKDApXCIpLHIuaGFzQ2xhc3MoXCJmaXhlZFwiKSYmdCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpe3dpbmRvdy5pbm5lcldpZHRoPjk5Mj8wIT09dChcIiNzaWRlbmF2LW92ZXJsYXlcIikubGVuZ3RoJiZhP28oITApOnIuY3NzKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKDAlKVwiKTphPT09ITEmJihcImxlZnRcIj09PWUuZWRnZT9yLmNzcyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWCgtMTAwJSlcIik6ci5jc3MoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVgoMTAwJSlcIikpfSksZS5jbG9zZU9uQ2xpY2s9PT0hMCYmci5vbihcImNsaWNrLml0ZW1jbGlja1wiLFwiYTpub3QoLmNvbGxhcHNpYmxlLWhlYWRlcilcIixmdW5jdGlvbigpe28oKX0pO3ZhciBvPWZ1bmN0aW9uKG4pe3M9ITEsYT0hMSx0KFwiYm9keVwiKS5jc3Moe292ZXJmbG93OlwiXCIsd2lkdGg6XCJcIn0pLHQoXCIjc2lkZW5hdi1vdmVybGF5XCIpLnZlbG9jaXR5KHtvcGFjaXR5OjB9LHtkdXJhdGlvbjoyMDAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIixjb21wbGV0ZTpmdW5jdGlvbigpe3QodGhpcykucmVtb3ZlKCl9fSksXCJsZWZ0XCI9PT1lLmVkZ2U/KGkuY3NzKHt3aWR0aDpcIlwiLHJpZ2h0OlwiXCIsbGVmdDpcIjBcIn0pLHIudmVsb2NpdHkoe3RyYW5zbGF0ZVg6XCItMTAwJVwifSx7ZHVyYXRpb246MjAwLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRDdWJpY1wiLGNvbXBsZXRlOmZ1bmN0aW9uKCl7bj09PSEwJiYoci5yZW1vdmVBdHRyKFwic3R5bGVcIiksci5jc3MoXCJ3aWR0aFwiLGUubWVudVdpZHRoKSl9fSkpOihpLmNzcyh7d2lkdGg6XCJcIixyaWdodDpcIjBcIixsZWZ0OlwiXCJ9KSxyLnZlbG9jaXR5KHt0cmFuc2xhdGVYOlwiMTAwJVwifSx7ZHVyYXRpb246MjAwLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRDdWJpY1wiLGNvbXBsZXRlOmZ1bmN0aW9uKCl7bj09PSEwJiYoci5yZW1vdmVBdHRyKFwic3R5bGVcIiksci5jc3MoXCJ3aWR0aFwiLGUubWVudVdpZHRoKSl9fSkpfSxzPSExLGE9ITE7ZS5kcmFnZ2FibGUmJihpLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe2EmJm8oKX0pLGkuaGFtbWVyKHtwcmV2ZW50X2RlZmF1bHQ6ITF9KS5iaW5kKFwicGFuXCIsZnVuY3Rpb24obil7aWYoXCJ0b3VjaFwiPT1uLmdlc3R1cmUucG9pbnRlclR5cGUpe3ZhciBpPShuLmdlc3R1cmUuZGlyZWN0aW9uLG4uZ2VzdHVyZS5jZW50ZXIueCkscz0obi5nZXN0dXJlLmNlbnRlci55LG4uZ2VzdHVyZS52ZWxvY2l0eVgsdChcImJvZHlcIikpLHU9dChcIiNzaWRlbmF2LW92ZXJsYXlcIiksYz1zLmlubmVyV2lkdGgoKTtpZihzLmNzcyhcIm92ZXJmbG93XCIsXCJoaWRkZW5cIikscy53aWR0aChjKSwwPT09dS5sZW5ndGgmJih1PXQoJzxkaXYgaWQ9XCJzaWRlbmF2LW92ZXJsYXlcIj48L2Rpdj4nKSx1LmNzcyhcIm9wYWNpdHlcIiwwKS5jbGljayhmdW5jdGlvbigpe28oKX0pLHQoXCJib2R5XCIpLmFwcGVuZCh1KSksXCJsZWZ0XCI9PT1lLmVkZ2UmJihpPmUubWVudVdpZHRoP2k9ZS5tZW51V2lkdGg6aTwwJiYoaT0wKSksXCJsZWZ0XCI9PT1lLmVkZ2UpaTxlLm1lbnVXaWR0aC8yP2E9ITE6aT49ZS5tZW51V2lkdGgvMiYmKGE9ITApLHIuY3NzKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKFwiKyhpLWUubWVudVdpZHRoKStcInB4KVwiKTtlbHNle2k8d2luZG93LmlubmVyV2lkdGgtZS5tZW51V2lkdGgvMj9hPSEwOmk+PXdpbmRvdy5pbm5lcldpZHRoLWUubWVudVdpZHRoLzImJihhPSExKTt2YXIgbD1pLWUubWVudVdpZHRoLzI7bDwwJiYobD0wKSxyLmNzcyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWChcIitsK1wicHgpXCIpfXZhciBwO1wibGVmdFwiPT09ZS5lZGdlPyhwPWkvZS5tZW51V2lkdGgsdS52ZWxvY2l0eSh7b3BhY2l0eTpwfSx7ZHVyYXRpb246MTAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pKToocD1NYXRoLmFicygoaS13aW5kb3cuaW5uZXJXaWR0aCkvZS5tZW51V2lkdGgpLHUudmVsb2NpdHkoe29wYWNpdHk6cH0se2R1cmF0aW9uOjEwLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRRdWFkXCJ9KSl9fSkuYmluZChcInBhbmVuZFwiLGZ1bmN0aW9uKG4pe2lmKFwidG91Y2hcIj09bi5nZXN0dXJlLnBvaW50ZXJUeXBlKXt2YXIgbz10KCc8ZGl2IGlkPVwic2lkZW5hdi1vdmVybGF5XCI+PC9kaXY+JyksdT1uLmdlc3R1cmUudmVsb2NpdHlYLGM9bi5nZXN0dXJlLmNlbnRlci54LGw9Yy1lLm1lbnVXaWR0aCxwPWMtZS5tZW51V2lkdGgvMjtsPjAmJihsPTApLHA8MCYmKHA9MCkscz0hMSxcImxlZnRcIj09PWUuZWRnZT9hJiZ1PD0uM3x8dTwtLjU/KDAhPT1sJiZyLnZlbG9jaXR5KHt0cmFuc2xhdGVYOlswLGxdfSx7ZHVyYXRpb246MzAwLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRRdWFkXCJ9KSxvLnZlbG9jaXR5KHtvcGFjaXR5OjF9LHtkdXJhdGlvbjo1MCxxdWV1ZTohMSxlYXNpbmc6XCJlYXNlT3V0UXVhZFwifSksaS5jc3Moe3dpZHRoOlwiNTAlXCIscmlnaHQ6MCxsZWZ0OlwiXCJ9KSxhPSEwKTooIWF8fHU+LjMpJiYodChcImJvZHlcIikuY3NzKHtvdmVyZmxvdzpcIlwiLHdpZHRoOlwiXCJ9KSxyLnZlbG9jaXR5KHt0cmFuc2xhdGVYOlstMSplLm1lbnVXaWR0aC0xMCxsXX0se2R1cmF0aW9uOjIwMCxxdWV1ZTohMSxlYXNpbmc6XCJlYXNlT3V0UXVhZFwifSksby52ZWxvY2l0eSh7b3BhY2l0eTowfSx7ZHVyYXRpb246MjAwLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRRdWFkXCIsY29tcGxldGU6ZnVuY3Rpb24oKXt0KHRoaXMpLnJlbW92ZSgpfX0pLGkuY3NzKHt3aWR0aDpcIjEwcHhcIixyaWdodDpcIlwiLGxlZnQ6MH0pKTphJiZ1Pj0tLjN8fHU+LjU/KDAhPT1wJiZyLnZlbG9jaXR5KHt0cmFuc2xhdGVYOlswLHBdfSx7ZHVyYXRpb246MzAwLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRRdWFkXCJ9KSxvLnZlbG9jaXR5KHtvcGFjaXR5OjF9LHtkdXJhdGlvbjo1MCxxdWV1ZTohMSxlYXNpbmc6XCJlYXNlT3V0UXVhZFwifSksaS5jc3Moe3dpZHRoOlwiNTAlXCIscmlnaHQ6XCJcIixsZWZ0OjB9KSxhPSEwKTooIWF8fHU8LS4zKSYmKHQoXCJib2R5XCIpLmNzcyh7b3ZlcmZsb3c6XCJcIix3aWR0aDpcIlwifSksci52ZWxvY2l0eSh7dHJhbnNsYXRlWDpbZS5tZW51V2lkdGgrMTAscF19LHtkdXJhdGlvbjoyMDAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pLG8udmVsb2NpdHkoe29wYWNpdHk6MH0se2R1cmF0aW9uOjIwMCxxdWV1ZTohMSxlYXNpbmc6XCJlYXNlT3V0UXVhZFwiLGNvbXBsZXRlOmZ1bmN0aW9uKCl7dCh0aGlzKS5yZW1vdmUoKX19KSxpLmNzcyh7d2lkdGg6XCIxMHB4XCIscmlnaHQ6MCxsZWZ0OlwiXCJ9KSl9fSkpLG4uY2xpY2soZnVuY3Rpb24oKXtpZihhPT09ITApYT0hMSxzPSExLG8oKTtlbHNle3ZhciBuPXQoXCJib2R5XCIpLHU9dCgnPGRpdiBpZD1cInNpZGVuYXYtb3ZlcmxheVwiPjwvZGl2PicpLGM9bi5pbm5lcldpZHRoKCk7bi5jc3MoXCJvdmVyZmxvd1wiLFwiaGlkZGVuXCIpLG4ud2lkdGgoYyksdChcImJvZHlcIikuYXBwZW5kKGkpLFwibGVmdFwiPT09ZS5lZGdlPyhpLmNzcyh7d2lkdGg6XCI1MCVcIixyaWdodDowLGxlZnQ6XCJcIn0pLHIudmVsb2NpdHkoe3RyYW5zbGF0ZVg6WzAsLTEqZS5tZW51V2lkdGhdfSx7ZHVyYXRpb246MzAwLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRRdWFkXCJ9KSk6KGkuY3NzKHt3aWR0aDpcIjUwJVwiLHJpZ2h0OlwiXCIsbGVmdDowfSksci52ZWxvY2l0eSh7dHJhbnNsYXRlWDpbMCxlLm1lbnVXaWR0aF19LHtkdXJhdGlvbjozMDAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pKSx1LmNzcyhcIm9wYWNpdHlcIiwwKS5jbGljayhmdW5jdGlvbigpe2E9ITEscz0hMSxvKCksdS52ZWxvY2l0eSh7b3BhY2l0eTowfSx7ZHVyYXRpb246MzAwLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRRdWFkXCIsY29tcGxldGU6ZnVuY3Rpb24oKXt0KHRoaXMpLnJlbW92ZSgpfX0pfSksdChcImJvZHlcIikuYXBwZW5kKHUpLHUudmVsb2NpdHkoe29wYWNpdHk6MX0se2R1cmF0aW9uOjMwMCxxdWV1ZTohMSxlYXNpbmc6XCJlYXNlT3V0UXVhZFwiLGNvbXBsZXRlOmZ1bmN0aW9uKCl7YT0hMCxzPSExfX0pfXJldHVybiExfSl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPXQoXCIjc2lkZW5hdi1vdmVybGF5XCIpLG49dCgnLmRyYWctdGFyZ2V0W2RhdGEtc2lkZW5hdj1cIicrdCh0aGlzKS5hdHRyKFwiZGF0YS1hY3RpdmF0ZXNcIikrJ1wiXScpO2UudHJpZ2dlcihcImNsaWNrXCIpLG4ucmVtb3ZlKCksdCh0aGlzKS5vZmYoXCJjbGlja1wiKSxlLnJlbW92ZSgpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKFwiY2xpY2tcIil9LGhpZGU6ZnVuY3Rpb24oKXt0KFwiI3NpZGVuYXYtb3ZlcmxheVwiKS50cmlnZ2VyKFwiY2xpY2tcIil9fTt0LmZuLnNpZGVOYXY9ZnVuY3Rpb24obil7cmV0dXJuIGVbbl0/ZVtuXS5hcHBseSh0aGlzLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk6XCJvYmplY3RcIiE9dHlwZW9mIG4mJm4/dm9pZCB0LmVycm9yKFwiTWV0aG9kIFwiK24rXCIgZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5LnNpZGVOYXZcIik6ZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KGkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsaSl7dmFyIG89dCgpO3JldHVybiB0LmVhY2gocyxmdW5jdGlvbih0LHMpe2lmKHMuaGVpZ2h0KCk+MCl7dmFyIGE9cy5vZmZzZXQoKS50b3AsdT1zLm9mZnNldCgpLmxlZnQsYz11K3Mud2lkdGgoKSxsPWErcy5oZWlnaHQoKSxwPSEodT5ufHxjPGl8fGE+cnx8bDxlKTtwJiZvLnB1c2gocyl9fSksb31mdW5jdGlvbiBuKG4peysrYzt2YXIgcj1vLnNjcm9sbFRvcCgpLGk9by5zY3JvbGxMZWZ0KCkscz1pK28ud2lkdGgoKSx1PXIrby5oZWlnaHQoKSxwPWUocitsLnRvcCtufHwyMDAscytsLnJpZ2h0LHUrbC5ib3R0b20saStsLmxlZnQpO3QuZWFjaChwLGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5kYXRhKFwic2Nyb2xsU3B5OnRpY2tzXCIpO1wibnVtYmVyXCIhPXR5cGVvZiBuJiZlLnRyaWdnZXJIYW5kbGVyKFwic2Nyb2xsU3B5OmVudGVyXCIpLGUuZGF0YShcInNjcm9sbFNweTp0aWNrc1wiLGMpfSksdC5lYWNoKGEsZnVuY3Rpb24odCxlKXt2YXIgbj1lLmRhdGEoXCJzY3JvbGxTcHk6dGlja3NcIik7XCJudW1iZXJcIj09dHlwZW9mIG4mJm4hPT1jJiYoZS50cmlnZ2VySGFuZGxlcihcInNjcm9sbFNweTpleGl0XCIpLGUuZGF0YShcInNjcm9sbFNweTp0aWNrc1wiLG51bGwpKX0pLGE9cH1mdW5jdGlvbiByKCl7by50cmlnZ2VyKFwic2Nyb2xsU3B5OndpblNpemVcIil9ZnVuY3Rpb24gaSh0LGUsbil7dmFyIHIsaSxvLHM9bnVsbCxhPTA7bnx8KG49e30pO3ZhciB1PWZ1bmN0aW9uKCl7YT1uLmxlYWRpbmc9PT0hMT8wOnAoKSxzPW51bGwsbz10LmFwcGx5KHIsaSkscj1pPW51bGx9O3JldHVybiBmdW5jdGlvbigpe3ZhciBjPXAoKTthfHxuLmxlYWRpbmchPT0hMXx8KGE9Yyk7dmFyIGw9ZS0oYy1hKTtyZXR1cm4gcj10aGlzLGk9YXJndW1lbnRzLGw8PTA/KGNsZWFyVGltZW91dChzKSxzPW51bGwsYT1jLG89dC5hcHBseShyLGkpLHI9aT1udWxsKTpzfHxuLnRyYWlsaW5nPT09ITF8fChzPXNldFRpbWVvdXQodSxsKSksb319dmFyIG89dCh3aW5kb3cpLHM9W10sYT1bXSx1PSExLGM9MCxsPXt0b3A6MCxyaWdodDowLGJvdHRvbTowLGxlZnQ6MH0scD1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX07dC5zY3JvbGxTcHk9ZnVuY3Rpb24oZSxyKXt2YXIgYT17dGhyb3R0bGU6MTAwLHNjcm9sbE9mZnNldDoyMDB9O3I9dC5leHRlbmQoYSxyKTt2YXIgYz1bXTtlPXQoZSksZS5lYWNoKGZ1bmN0aW9uKGUsbil7cy5wdXNoKHQobikpLHQobikuZGF0YShcInNjcm9sbFNweTppZFwiLGUpLHQoJ2FbaHJlZj1cIiMnK3QobikuYXR0cihcImlkXCIpKydcIl0nKS5jbGljayhmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIG49dChNYXRlcmlhbGl6ZS5lc2NhcGVIYXNoKHRoaXMuaGFzaCkpLm9mZnNldCgpLnRvcCsxO3QoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoe3Njcm9sbFRvcDpuLXIuc2Nyb2xsT2Zmc2V0fSx7ZHVyYXRpb246NDAwLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRDdWJpY1wifSl9KX0pLGwudG9wPXIub2Zmc2V0VG9wfHwwLGwucmlnaHQ9ci5vZmZzZXRSaWdodHx8MCxsLmJvdHRvbT1yLm9mZnNldEJvdHRvbXx8MCxsLmxlZnQ9ci5vZmZzZXRMZWZ0fHwwO3ZhciBwPWkoZnVuY3Rpb24oKXtuKHIuc2Nyb2xsT2Zmc2V0KX0sci50aHJvdHRsZXx8MTAwKSxoPWZ1bmN0aW9uKCl7dChkb2N1bWVudCkucmVhZHkocCl9O3JldHVybiB1fHwoby5vbihcInNjcm9sbFwiLGgpLG8ub24oXCJyZXNpemVcIixoKSx1PSEwKSxzZXRUaW1lb3V0KGgsMCksZS5vbihcInNjcm9sbFNweTplbnRlclwiLGZ1bmN0aW9uKCl7Yz10LmdyZXAoYyxmdW5jdGlvbih0KXtyZXR1cm4gMCE9dC5oZWlnaHQoKX0pO3ZhciBlPXQodGhpcyk7Y1swXT8odCgnYVtocmVmPVwiIycrY1swXS5hdHRyKFwiaWRcIikrJ1wiXScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLGUuZGF0YShcInNjcm9sbFNweTppZFwiKTxjWzBdLmRhdGEoXCJzY3JvbGxTcHk6aWRcIik/Yy51bnNoaWZ0KHQodGhpcykpOmMucHVzaCh0KHRoaXMpKSk6Yy5wdXNoKHQodGhpcykpLHQoJ2FbaHJlZj1cIiMnK2NbMF0uYXR0cihcImlkXCIpKydcIl0nKS5hZGRDbGFzcyhcImFjdGl2ZVwiKX0pLGUub24oXCJzY3JvbGxTcHk6ZXhpdFwiLGZ1bmN0aW9uKCl7aWYoYz10LmdyZXAoYyxmdW5jdGlvbih0KXtyZXR1cm4gMCE9dC5oZWlnaHQoKX0pLGNbMF0pe3QoJ2FbaHJlZj1cIiMnK2NbMF0uYXR0cihcImlkXCIpKydcIl0nKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTt2YXIgZT10KHRoaXMpO2M9dC5ncmVwKGMsZnVuY3Rpb24odCl7cmV0dXJuIHQuYXR0cihcImlkXCIpIT1lLmF0dHIoXCJpZFwiKX0pLGNbMF0mJnQoJ2FbaHJlZj1cIiMnK2NbMF0uYXR0cihcImlkXCIpKydcIl0nKS5hZGRDbGFzcyhcImFjdGl2ZVwiKX19KSxlfSx0LndpblNpemVTcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHQud2luU2l6ZVNweT1mdW5jdGlvbigpe3JldHVybiBvfSxlPWV8fHt0aHJvdHRsZToxMDB9LG8ub24oXCJyZXNpemVcIixpKHIsZS50aHJvdHRsZXx8MTAwKSl9LHQuZm4uc2Nyb2xsU3B5PWZ1bmN0aW9uKGUpe3JldHVybiB0LnNjcm9sbFNweSh0KHRoaXMpLGUpfX0oaSksZnVuY3Rpb24odCl7dChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciBuPWUuY3NzKFwiZm9udC1mYW1pbHlcIikscj1lLmNzcyhcImZvbnQtc2l6ZVwiKSxvPWUuY3NzKFwibGluZS1oZWlnaHRcIik7ciYmaS5jc3MoXCJmb250LXNpemVcIixyKSxuJiZpLmNzcyhcImZvbnQtZmFtaWx5XCIsbiksbyYmaS5jc3MoXCJsaW5lLWhlaWdodFwiLG8pLFwib2ZmXCI9PT1lLmF0dHIoXCJ3cmFwXCIpJiZpLmNzcyhcIm92ZXJmbG93LXdyYXBcIixcIm5vcm1hbFwiKS5jc3MoXCJ3aGl0ZS1zcGFjZVwiLFwicHJlXCIpLGkudGV4dChlLnZhbCgpK1wiXFxuXCIpO3ZhciBzPWkuaHRtbCgpLnJlcGxhY2UoL1xcbi9nLFwiPGJyPlwiKTtpLmh0bWwocyksZS5pcyhcIjp2aXNpYmxlXCIpP2kuY3NzKFwid2lkdGhcIixlLndpZHRoKCkpOmkuY3NzKFwid2lkdGhcIix0KHdpbmRvdykud2lkdGgoKS8yKSxlLmNzcyhcImhlaWdodFwiLGkuaGVpZ2h0KCkpfU1hdGVyaWFsaXplLnVwZGF0ZVRleHRGaWVsZHM9ZnVuY3Rpb24oKXt2YXIgZT1cImlucHV0W3R5cGU9dGV4dF0sIGlucHV0W3R5cGU9cGFzc3dvcmRdLCBpbnB1dFt0eXBlPWVtYWlsXSwgaW5wdXRbdHlwZT11cmxdLCBpbnB1dFt0eXBlPXRlbF0sIGlucHV0W3R5cGU9bnVtYmVyXSwgaW5wdXRbdHlwZT1zZWFyY2hdLCB0ZXh0YXJlYVwiO3QoZSkuZWFjaChmdW5jdGlvbihlLG4pe3QobikudmFsKCkubGVuZ3RoPjB8fG4uYXV0b2ZvY3VzfHx2b2lkIDAhPT10KHRoaXMpLmF0dHIoXCJwbGFjZWhvbGRlclwiKXx8dChuKVswXS52YWxpZGl0eS5iYWRJbnB1dD09PSEwP3QodGhpcykuc2libGluZ3MoXCJsYWJlbFwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTp0KHRoaXMpLnNpYmxpbmdzKFwibGFiZWxcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIil9KX07dmFyIG49XCJpbnB1dFt0eXBlPXRleHRdLCBpbnB1dFt0eXBlPXBhc3N3b3JkXSwgaW5wdXRbdHlwZT1lbWFpbF0sIGlucHV0W3R5cGU9dXJsXSwgaW5wdXRbdHlwZT10ZWxdLCBpbnB1dFt0eXBlPW51bWJlcl0sIGlucHV0W3R5cGU9c2VhcmNoXSwgdGV4dGFyZWFcIjt0KGRvY3VtZW50KS5vbihcImNoYW5nZVwiLG4sZnVuY3Rpb24oKXswPT09dCh0aGlzKS52YWwoKS5sZW5ndGgmJnZvaWQgMD09PXQodGhpcykuYXR0cihcInBsYWNlaG9sZGVyXCIpfHx0KHRoaXMpLnNpYmxpbmdzKFwibGFiZWxcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIiksdmFsaWRhdGVfZmllbGQodCh0aGlzKSl9KSx0KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe01hdGVyaWFsaXplLnVwZGF0ZVRleHRGaWVsZHMoKX0pLHQoZG9jdW1lbnQpLm9uKFwicmVzZXRcIixmdW5jdGlvbihlKXt2YXIgcj10KGUudGFyZ2V0KTtyLmlzKFwiZm9ybVwiKSYmKHIuZmluZChuKS5yZW1vdmVDbGFzcyhcInZhbGlkXCIpLnJlbW92ZUNsYXNzKFwiaW52YWxpZFwiKSxyLmZpbmQobikuZWFjaChmdW5jdGlvbigpe1wiXCI9PT10KHRoaXMpLmF0dHIoXCJ2YWx1ZVwiKSYmdCh0aGlzKS5zaWJsaW5ncyhcImxhYmVsXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpfSksci5maW5kKFwic2VsZWN0LmluaXRpYWxpemVkXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1yLmZpbmQoXCJvcHRpb25bc2VsZWN0ZWRdXCIpLnRleHQoKTtyLnNpYmxpbmdzKFwiaW5wdXQuc2VsZWN0LWRyb3Bkb3duXCIpLnZhbCh0KX0pKX0pLHQoZG9jdW1lbnQpLm9uKFwiZm9jdXNcIixuLGZ1bmN0aW9uKCl7dCh0aGlzKS5zaWJsaW5ncyhcImxhYmVsLCAucHJlZml4XCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpfSksdChkb2N1bWVudCkub24oXCJibHVyXCIsbixmdW5jdGlvbigpe3ZhciBlPXQodGhpcyksbj1cIi5wcmVmaXhcIjswPT09ZS52YWwoKS5sZW5ndGgmJmVbMF0udmFsaWRpdHkuYmFkSW5wdXQhPT0hMCYmdm9pZCAwPT09ZS5hdHRyKFwicGxhY2Vob2xkZXJcIikmJihuKz1cIiwgbGFiZWxcIiksZS5zaWJsaW5ncyhuKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSx2YWxpZGF0ZV9maWVsZChlKX0pLHdpbmRvdy52YWxpZGF0ZV9maWVsZD1mdW5jdGlvbih0KXt2YXIgZT12b2lkIDAhPT10LmF0dHIoXCJsZW5ndGhcIiksbj1wYXJzZUludCh0LmF0dHIoXCJsZW5ndGhcIikpLHI9dC52YWwoKS5sZW5ndGg7MD09PXQudmFsKCkubGVuZ3RoJiZ0WzBdLnZhbGlkaXR5LmJhZElucHV0PT09ITE/dC5oYXNDbGFzcyhcInZhbGlkYXRlXCIpJiYodC5yZW1vdmVDbGFzcyhcInZhbGlkXCIpLHQucmVtb3ZlQ2xhc3MoXCJpbnZhbGlkXCIpKTp0Lmhhc0NsYXNzKFwidmFsaWRhdGVcIikmJih0LmlzKFwiOnZhbGlkXCIpJiZlJiZyPD1ufHx0LmlzKFwiOnZhbGlkXCIpJiYhZT8odC5yZW1vdmVDbGFzcyhcImludmFsaWRcIiksdC5hZGRDbGFzcyhcInZhbGlkXCIpKToodC5yZW1vdmVDbGFzcyhcInZhbGlkXCIpLHQuYWRkQ2xhc3MoXCJpbnZhbGlkXCIpKSl9O3ZhciByPVwiaW5wdXRbdHlwZT1yYWRpb10sIGlucHV0W3R5cGU9Y2hlY2tib3hdXCI7dChkb2N1bWVudCkub24oXCJrZXl1cC5yYWRpb1wiLHIsZnVuY3Rpb24oZSl7aWYoOT09PWUud2hpY2gpe3QodGhpcykuYWRkQ2xhc3MoXCJ0YWJiZWRcIik7dmFyIG49dCh0aGlzKTtyZXR1cm4gdm9pZCBuLm9uZShcImJsdXJcIixmdW5jdGlvbihlKXt0KHRoaXMpLnJlbW92ZUNsYXNzKFwidGFiYmVkXCIpfSl9fSk7dmFyIGk9dChcIi5oaWRkZW5kaXZcIikuZmlyc3QoKTtpLmxlbmd0aHx8KGk9dCgnPGRpdiBjbGFzcz1cImhpZGRlbmRpdiBjb21tb25cIj48L2Rpdj4nKSx0KFwiYm9keVwiKS5hcHBlbmQoaSkpO3ZhciBvPVwiLm1hdGVyaWFsaXplLXRleHRhcmVhXCI7dChvKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dCh0aGlzKTtuLnZhbCgpLmxlbmd0aCYmZShuKX0pLHQoXCJib2R5XCIpLm9uKFwia2V5dXAga2V5ZG93biBhdXRvcmVzaXplXCIsbyxmdW5jdGlvbigpe2UodCh0aGlzKSl9KSx0KGRvY3VtZW50KS5vbihcImNoYW5nZVwiLCcuZmlsZS1maWVsZCBpbnB1dFt0eXBlPVwiZmlsZVwiXScsZnVuY3Rpb24oKXtmb3IodmFyIGU9dCh0aGlzKS5jbG9zZXN0KFwiLmZpbGUtZmllbGRcIiksbj1lLmZpbmQoXCJpbnB1dC5maWxlLXBhdGhcIikscj10KHRoaXMpWzBdLmZpbGVzLGk9W10sbz0wO288ci5sZW5ndGg7bysrKWkucHVzaChyW29dLm5hbWUpO24udmFsKGkuam9pbihcIiwgXCIpKSxuLnRyaWdnZXIoXCJjaGFuZ2VcIil9KTt2YXIgcyxhPVwiaW5wdXRbdHlwZT1yYW5nZV1cIix1PSExO3QoYSkuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQoJzxzcGFuIGNsYXNzPVwidGh1bWJcIj48c3BhbiBjbGFzcz1cInZhbHVlXCI+PC9zcGFuPjwvc3Bhbj4nKTt0KHRoaXMpLmFmdGVyKGUpfSk7dmFyIGM9XCIucmFuZ2UtZmllbGRcIjt0KGRvY3VtZW50KS5vbihcImNoYW5nZVwiLGEsZnVuY3Rpb24oZSl7dmFyIG49dCh0aGlzKS5zaWJsaW5ncyhcIi50aHVtYlwiKTtuLmZpbmQoXCIudmFsdWVcIikuaHRtbCh0KHRoaXMpLnZhbCgpKX0pLHQoZG9jdW1lbnQpLm9uKFwiaW5wdXQgbW91c2Vkb3duIHRvdWNoc3RhcnRcIixhLGZ1bmN0aW9uKGUpe1xudmFyIG49dCh0aGlzKS5zaWJsaW5ncyhcIi50aHVtYlwiKSxyPXQodGhpcykub3V0ZXJXaWR0aCgpO24ubGVuZ3RoPD0wJiYobj10KCc8c3BhbiBjbGFzcz1cInRodW1iXCI+PHNwYW4gY2xhc3M9XCJ2YWx1ZVwiPjwvc3Bhbj48L3NwYW4+JyksdCh0aGlzKS5hZnRlcihuKSksbi5maW5kKFwiLnZhbHVlXCIpLmh0bWwodCh0aGlzKS52YWwoKSksdT0hMCx0KHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpLG4uaGFzQ2xhc3MoXCJhY3RpdmVcIil8fG4udmVsb2NpdHkoe2hlaWdodDpcIjMwcHhcIix3aWR0aDpcIjMwcHhcIix0b3A6XCItMjBweFwiLG1hcmdpbkxlZnQ6XCItMTVweFwifSx7ZHVyYXRpb246MzAwLGVhc2luZzpcImVhc2VPdXRFeHBvXCJ9KSxcImlucHV0XCIhPT1lLnR5cGUmJihzPXZvaWQgMD09PWUucGFnZVh8fG51bGw9PT1lLnBhZ2VYP2Uub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VYLXQodGhpcykub2Zmc2V0KCkubGVmdDplLnBhZ2VYLXQodGhpcykub2Zmc2V0KCkubGVmdCxzPDA/cz0wOnM+ciYmKHM9ciksbi5hZGRDbGFzcyhcImFjdGl2ZVwiKS5jc3MoXCJsZWZ0XCIscykpLG4uZmluZChcIi52YWx1ZVwiKS5odG1sKHQodGhpcykudmFsKCkpfSksdChkb2N1bWVudCkub24oXCJtb3VzZXVwIHRvdWNoZW5kXCIsYyxmdW5jdGlvbigpe3U9ITEsdCh0aGlzKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKX0pLHQoZG9jdW1lbnQpLm9uKFwibW91c2Vtb3ZlIHRvdWNobW92ZVwiLGMsZnVuY3Rpb24oZSl7dmFyIG4scj10KHRoaXMpLmNoaWxkcmVuKFwiLnRodW1iXCIpO2lmKHUpe3IuaGFzQ2xhc3MoXCJhY3RpdmVcIil8fHIudmVsb2NpdHkoe2hlaWdodDpcIjMwcHhcIix3aWR0aDpcIjMwcHhcIix0b3A6XCItMjBweFwiLG1hcmdpbkxlZnQ6XCItMTVweFwifSx7ZHVyYXRpb246MzAwLGVhc2luZzpcImVhc2VPdXRFeHBvXCJ9KSxuPXZvaWQgMD09PWUucGFnZVh8fG51bGw9PT1lLnBhZ2VYP2Uub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VYLXQodGhpcykub2Zmc2V0KCkubGVmdDplLnBhZ2VYLXQodGhpcykub2Zmc2V0KCkubGVmdDt2YXIgaT10KHRoaXMpLm91dGVyV2lkdGgoKTtuPDA/bj0wOm4+aSYmKG49aSksci5hZGRDbGFzcyhcImFjdGl2ZVwiKS5jc3MoXCJsZWZ0XCIsbiksci5maW5kKFwiLnZhbHVlXCIpLmh0bWwoci5zaWJsaW5ncyhhKS52YWwoKSl9fSksdChkb2N1bWVudCkub24oXCJtb3VzZW91dCB0b3VjaGxlYXZlXCIsYyxmdW5jdGlvbigpe2lmKCF1KXt2YXIgZT10KHRoaXMpLmNoaWxkcmVuKFwiLnRodW1iXCIpO2UuaGFzQ2xhc3MoXCJhY3RpdmVcIikmJmUudmVsb2NpdHkoe2hlaWdodDpcIjBcIix3aWR0aDpcIjBcIix0b3A6XCIxMHB4XCIsbWFyZ2luTGVmdDpcIi02cHhcIn0se2R1cmF0aW9uOjEwMH0pLGUucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIil9fSksdC5mbi5hdXRvY29tcGxldGU9ZnVuY3Rpb24oZSl7dmFyIG49e2RhdGE6e319O3JldHVybiBlPXQuZXh0ZW5kKG4sZSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dCh0aGlzKSxyPWUuZGF0YSxpPW4uY2xvc2VzdChcIi5pbnB1dC1maWVsZFwiKTtpZighdC5pc0VtcHR5T2JqZWN0KHIpKXt2YXIgbz10KCc8dWwgY2xhc3M9XCJhdXRvY29tcGxldGUtY29udGVudCBkcm9wZG93bi1jb250ZW50XCI+PC91bD4nKTtpLmxlbmd0aD9pLmFwcGVuZChvKTpuLmFmdGVyKG8pO3ZhciBzPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5maW5kKFwiaW1nXCIpLHI9ZS50ZXh0KCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiXCIrdC50b0xvd2VyQ2FzZSgpKSxpPXIrdC5sZW5ndGgtMSxvPWUudGV4dCgpLnNsaWNlKDAscikscz1lLnRleHQoKS5zbGljZShyLGkrMSksYT1lLnRleHQoKS5zbGljZShpKzEpO2UuaHRtbChcIjxzcGFuPlwiK28rXCI8c3BhbiBjbGFzcz0naGlnaGxpZ2h0Jz5cIitzK1wiPC9zcGFuPlwiK2ErXCI8L3NwYW4+XCIpLG4ubGVuZ3RoJiZlLnByZXBlbmQobil9O24ub24oXCJrZXl1cFwiLGZ1bmN0aW9uKGUpe2lmKDEzPT09ZS53aGljaClyZXR1cm4gdm9pZCBvLmZpbmQoXCJsaVwiKS5maXJzdCgpLmNsaWNrKCk7dmFyIGk9bi52YWwoKS50b0xvd2VyQ2FzZSgpO2lmKG8uZW1wdHkoKSxcIlwiIT09aSlmb3IodmFyIGEgaW4gcilpZihyLmhhc093blByb3BlcnR5KGEpJiZhLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpKSE9PS0xJiZhLnRvTG93ZXJDYXNlKCkhPT1pKXt2YXIgdT10KFwiPGxpPjwvbGk+XCIpO3JbYV0/dS5hcHBlbmQoJzxpbWcgc3JjPVwiJytyW2FdKydcIiBjbGFzcz1cInJpZ2h0IGNpcmNsZVwiPjxzcGFuPicrYStcIjwvc3Bhbj5cIik6dS5hcHBlbmQoXCI8c3Bhbj5cIithK1wiPC9zcGFuPlwiKSxvLmFwcGVuZCh1KSxzKGksdSl9fSksby5vbihcImNsaWNrXCIsXCJsaVwiLGZ1bmN0aW9uKCl7bi52YWwodCh0aGlzKS50ZXh0KCkudHJpbSgpKSxuLnRyaWdnZXIoXCJjaGFuZ2VcIiksby5lbXB0eSgpfSl9fSl9fSksdC5mbi5tYXRlcmlhbF9zZWxlY3Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0LGUsbil7dmFyIGk9dC5pbmRleE9mKGUpLG89aT09PS0xO3JldHVybiBvP3QucHVzaChlKTp0LnNwbGljZShpLDEpLG4uc2libGluZ3MoXCJ1bC5kcm9wZG93bi1jb250ZW50XCIpLmZpbmQoXCJsaVwiKS5lcShlKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKSxuLmZpbmQoXCJvcHRpb25cIikuZXEoZSkucHJvcChcInNlbGVjdGVkXCIsbykscih0LG4pLG99ZnVuY3Rpb24gcih0LGUpe2Zvcih2YXIgbj1cIlwiLHI9MCxpPXQubGVuZ3RoO3I8aTtyKyspe3ZhciBvPWUuZmluZChcIm9wdGlvblwiKS5lcSh0W3JdKS50ZXh0KCk7bis9MD09PXI/bzpcIiwgXCIrb31cIlwiPT09biYmKG49ZS5maW5kKFwib3B0aW9uOmRpc2FibGVkXCIpLmVxKDApLnRleHQoKSksZS5zaWJsaW5ncyhcImlucHV0LnNlbGVjdC1kcm9wZG93blwiKS52YWwobil9dCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9dCh0aGlzKTtpZighci5oYXNDbGFzcyhcImJyb3dzZXItZGVmYXVsdFwiKSl7dmFyIGk9ISFyLmF0dHIoXCJtdWx0aXBsZVwiKSxvPXIuZGF0YShcInNlbGVjdC1pZFwiKTtpZihvJiYoci5wYXJlbnQoKS5maW5kKFwic3Bhbi5jYXJldFwiKS5yZW1vdmUoKSxyLnBhcmVudCgpLmZpbmQoXCJpbnB1dFwiKS5yZW1vdmUoKSxyLnVud3JhcCgpLHQoXCJ1bCNzZWxlY3Qtb3B0aW9ucy1cIitvKS5yZW1vdmUoKSksXCJkZXN0cm95XCI9PT1lKXJldHVybiB2b2lkIHIuZGF0YShcInNlbGVjdC1pZFwiLG51bGwpLnJlbW92ZUNsYXNzKFwiaW5pdGlhbGl6ZWRcIik7dmFyIHM9TWF0ZXJpYWxpemUuZ3VpZCgpO3IuZGF0YShcInNlbGVjdC1pZFwiLHMpO3ZhciBhPXQoJzxkaXYgY2xhc3M9XCJzZWxlY3Qtd3JhcHBlclwiPjwvZGl2PicpO2EuYWRkQ2xhc3Moci5hdHRyKFwiY2xhc3NcIikpO3ZhciB1PXQoJzx1bCBpZD1cInNlbGVjdC1vcHRpb25zLScrcysnXCIgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50IHNlbGVjdC1kcm9wZG93biAnKyhpP1wibXVsdGlwbGUtc2VsZWN0LWRyb3Bkb3duXCI6XCJcIikrJ1wiPjwvdWw+JyksYz1yLmNoaWxkcmVuKFwib3B0aW9uLCBvcHRncm91cFwiKSxsPVtdLHA9ITEsaD1yLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikuaHRtbCgpfHxyLmZpbmQoXCJvcHRpb246Zmlyc3RcIikuaHRtbCgpfHxcIlwiLGY9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPW4uaXMoXCI6ZGlzYWJsZWRcIik/XCJkaXNhYmxlZCBcIjpcIlwiLG89XCJvcHRncm91cC1vcHRpb25cIj09PXI/XCJvcHRncm91cC1vcHRpb24gXCI6XCJcIixzPW4uZGF0YShcImljb25cIiksYT1uLmF0dHIoXCJjbGFzc1wiKTtpZihzKXt2YXIgYz1cIlwiO3JldHVybiBhJiYoYz0nIGNsYXNzPVwiJythKydcIicpLFwibXVsdGlwbGVcIj09PXI/dS5hcHBlbmQodCgnPGxpIGNsYXNzPVwiJytpKydcIj48aW1nIGFsdD1cIlwiIHNyYz1cIicrcysnXCInK2MrJz48c3Bhbj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCInK2krXCIvPjxsYWJlbD48L2xhYmVsPlwiK24uaHRtbCgpK1wiPC9zcGFuPjwvbGk+XCIpKTp1LmFwcGVuZCh0KCc8bGkgY2xhc3M9XCInK2krbysnXCI+PGltZyBhbHQ9XCJcIiBzcmM9XCInK3MrJ1wiJytjK1wiPjxzcGFuPlwiK24uaHRtbCgpK1wiPC9zcGFuPjwvbGk+XCIpKSwhMH1cIm11bHRpcGxlXCI9PT1yP3UuYXBwZW5kKHQoJzxsaSBjbGFzcz1cIicraSsnXCI+PHNwYW4+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiJytpK1wiLz48bGFiZWw+PC9sYWJlbD5cIituLmh0bWwoKStcIjwvc3Bhbj48L2xpPlwiKSk6dS5hcHBlbmQodCgnPGxpIGNsYXNzPVwiJytpK28rJ1wiPjxzcGFuPicrbi5odG1sKCkrXCI8L3NwYW4+PC9saT5cIikpfTtjLmxlbmd0aCYmYy5lYWNoKGZ1bmN0aW9uKCl7aWYodCh0aGlzKS5pcyhcIm9wdGlvblwiKSlpP2Yocix0KHRoaXMpLFwibXVsdGlwbGVcIik6ZihyLHQodGhpcykpO2Vsc2UgaWYodCh0aGlzKS5pcyhcIm9wdGdyb3VwXCIpKXt2YXIgZT10KHRoaXMpLmNoaWxkcmVuKFwib3B0aW9uXCIpO3UuYXBwZW5kKHQoJzxsaSBjbGFzcz1cIm9wdGdyb3VwXCI+PHNwYW4+Jyt0KHRoaXMpLmF0dHIoXCJsYWJlbFwiKStcIjwvc3Bhbj48L2xpPlwiKSksZS5lYWNoKGZ1bmN0aW9uKCl7ZihyLHQodGhpcyksXCJvcHRncm91cC1vcHRpb25cIil9KX19KSx1LmZpbmQoXCJsaTpub3QoLm9wdGdyb3VwKVwiKS5lYWNoKGZ1bmN0aW9uKG8pe3QodGhpcykuY2xpY2soZnVuY3Rpb24ocyl7aWYoIXQodGhpcykuaGFzQ2xhc3MoXCJkaXNhYmxlZFwiKSYmIXQodGhpcykuaGFzQ2xhc3MoXCJvcHRncm91cFwiKSl7dmFyIGE9ITA7aT8odCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyx0aGlzKS5wcm9wKFwiY2hlY2tlZFwiLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIWV9KSxhPW4obCx0KHRoaXMpLmluZGV4KCksciksbS50cmlnZ2VyKFwiZm9jdXNcIikpOih1LmZpbmQoXCJsaVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSx0KHRoaXMpLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpLG0udmFsKHQodGhpcykudGV4dCgpKSksdih1LHQodGhpcykpLHIuZmluZChcIm9wdGlvblwiKS5lcShvKS5wcm9wKFwic2VsZWN0ZWRcIixhKSxyLnRyaWdnZXIoXCJjaGFuZ2VcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUmJmUoKX1zLnN0b3BQcm9wYWdhdGlvbigpfSl9KSxyLndyYXAoYSk7dmFyIGQ9dCgnPHNwYW4gY2xhc3M9XCJjYXJldFwiPiYjOTY2MDs8L3NwYW4+Jyk7ci5pcyhcIjpkaXNhYmxlZFwiKSYmZC5hZGRDbGFzcyhcImRpc2FibGVkXCIpO3ZhciB5PWgucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKSxtPXQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwic2VsZWN0LWRyb3Bkb3duXCIgcmVhZG9ubHk9XCJ0cnVlXCIgJysoci5pcyhcIjpkaXNhYmxlZFwiKT9cImRpc2FibGVkXCI6XCJcIikrJyBkYXRhLWFjdGl2YXRlcz1cInNlbGVjdC1vcHRpb25zLScrcysnXCIgdmFsdWU9XCInK3krJ1wiLz4nKTtyLmJlZm9yZShtKSxtLmJlZm9yZShkKSxtLmFmdGVyKHUpLHIuaXMoXCI6ZGlzYWJsZWRcIil8fG0uZHJvcGRvd24oe2hvdmVyOiExLGNsb3NlT25DbGljazohMX0pLHIuYXR0cihcInRhYmluZGV4XCIpJiZ0KG1bMF0pLmF0dHIoXCJ0YWJpbmRleFwiLHIuYXR0cihcInRhYmluZGV4XCIpKSxyLmFkZENsYXNzKFwiaW5pdGlhbGl6ZWRcIiksbS5vbih7Zm9jdXM6ZnVuY3Rpb24oKXtpZih0KFwidWwuc2VsZWN0LWRyb3Bkb3duXCIpLm5vdCh1WzBdKS5pcyhcIjp2aXNpYmxlXCIpJiZ0KFwiaW5wdXQuc2VsZWN0LWRyb3Bkb3duXCIpLnRyaWdnZXIoXCJjbG9zZVwiKSwhdS5pcyhcIjp2aXNpYmxlXCIpKXt0KHRoaXMpLnRyaWdnZXIoXCJvcGVuXCIsW1wiZm9jdXNcIl0pO3ZhciBlPXQodGhpcykudmFsKCksbj11LmZpbmQoXCJsaVwiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzKS50ZXh0KCkudG9Mb3dlckNhc2UoKT09PWUudG9Mb3dlckNhc2UoKX0pWzBdO3YodSxuKX19LGNsaWNrOmZ1bmN0aW9uKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCl9fSksbS5vbihcImJsdXJcIixmdW5jdGlvbigpe2l8fHQodGhpcykudHJpZ2dlcihcImNsb3NlXCIpLHUuZmluZChcImxpLnNlbGVjdGVkXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIil9KSx1LmhvdmVyKGZ1bmN0aW9uKCl7cD0hMH0sZnVuY3Rpb24oKXtwPSExfSksdCh3aW5kb3cpLm9uKHtjbGljazpmdW5jdGlvbigpe2kmJihwfHxtLnRyaWdnZXIoXCJjbG9zZVwiKSl9fSksaSYmci5maW5kKFwib3B0aW9uOnNlbGVjdGVkOm5vdCg6ZGlzYWJsZWQpXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLmluZGV4KCk7bihsLGUsciksdS5maW5kKFwibGlcIikuZXEoZSkuZmluZChcIjpjaGVja2JveFwiKS5wcm9wKFwiY2hlY2tlZFwiLCEwKX0pO3ZhciB2PWZ1bmN0aW9uKGUsbil7aWYobil7ZS5maW5kKFwibGkuc2VsZWN0ZWRcIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTt2YXIgcj10KG4pO3IuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKSx1LnNjcm9sbFRvKHIpfX0sZz1bXSxfPWZ1bmN0aW9uKGUpe2lmKDk9PWUud2hpY2gpcmV0dXJuIHZvaWQgbS50cmlnZ2VyKFwiY2xvc2VcIik7aWYoNDA9PWUud2hpY2gmJiF1LmlzKFwiOnZpc2libGVcIikpcmV0dXJuIHZvaWQgbS50cmlnZ2VyKFwib3BlblwiKTtpZigxMyE9ZS53aGljaHx8dS5pcyhcIjp2aXNpYmxlXCIpKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIG49U3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKS50b0xvd2VyQ2FzZSgpLHI9WzksMTMsMjcsMzgsNDBdO2lmKG4mJnIuaW5kZXhPZihlLndoaWNoKT09PS0xKXtnLnB1c2gobik7dmFyIG89Zy5qb2luKFwiXCIpLHM9dS5maW5kKFwibGlcIikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10KHRoaXMpLnRleHQoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yobyl9KVswXTtzJiZ2KHUscyl9aWYoMTM9PWUud2hpY2gpe3ZhciBhPXUuZmluZChcImxpLnNlbGVjdGVkOm5vdCguZGlzYWJsZWQpXCIpWzBdO2EmJih0KGEpLnRyaWdnZXIoXCJjbGlja1wiKSxpfHxtLnRyaWdnZXIoXCJjbG9zZVwiKSl9NDA9PWUud2hpY2gmJihzPXUuZmluZChcImxpLnNlbGVjdGVkXCIpLmxlbmd0aD91LmZpbmQoXCJsaS5zZWxlY3RlZFwiKS5uZXh0KFwibGk6bm90KC5kaXNhYmxlZClcIilbMF06dS5maW5kKFwibGk6bm90KC5kaXNhYmxlZClcIilbMF0sdih1LHMpKSwyNz09ZS53aGljaCYmbS50cmlnZ2VyKFwiY2xvc2VcIiksMzg9PWUud2hpY2gmJihzPXUuZmluZChcImxpLnNlbGVjdGVkXCIpLnByZXYoXCJsaTpub3QoLmRpc2FibGVkKVwiKVswXSxzJiZ2KHUscykpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtnPVtdfSwxZTMpfX07bS5vbihcImtleWRvd25cIixfKX19KX19KGkpLGZ1bmN0aW9uKHQpe3ZhciBlPXtpbml0OmZ1bmN0aW9uKGUpe3ZhciBuPXtpbmRpY2F0b3JzOiEwLGhlaWdodDo0MDAsdHJhbnNpdGlvbjo1MDAsaW50ZXJ2YWw6NmUzfTtyZXR1cm4gZT10LmV4dGVuZChuLGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe2Z1bmN0aW9uIG4odCxlKXt0Lmhhc0NsYXNzKFwiY2VudGVyLWFsaWduXCIpP3QudmVsb2NpdHkoe29wYWNpdHk6MCx0cmFuc2xhdGVZOi0xMDB9LHtkdXJhdGlvbjplLHF1ZXVlOiExfSk6dC5oYXNDbGFzcyhcInJpZ2h0LWFsaWduXCIpP3QudmVsb2NpdHkoe29wYWNpdHk6MCx0cmFuc2xhdGVYOjEwMH0se2R1cmF0aW9uOmUscXVldWU6ITF9KTp0Lmhhc0NsYXNzKFwibGVmdC1hbGlnblwiKSYmdC52ZWxvY2l0eSh7b3BhY2l0eTowLHRyYW5zbGF0ZVg6LTEwMH0se2R1cmF0aW9uOmUscXVldWU6ITF9KX1mdW5jdGlvbiByKHQpe3Q+PWMubGVuZ3RoP3Q9MDp0PDAmJih0PWMubGVuZ3RoLTEpLGw9dS5maW5kKFwiLmFjdGl2ZVwiKS5pbmRleCgpLGwhPXQmJihpPWMuZXEobCksJGNhcHRpb249aS5maW5kKFwiLmNhcHRpb25cIiksaS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSxpLnZlbG9jaXR5KHtvcGFjaXR5OjB9LHtkdXJhdGlvbjplLnRyYW5zaXRpb24scXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIixjb21wbGV0ZTpmdW5jdGlvbigpe2Mubm90KFwiLmFjdGl2ZVwiKS52ZWxvY2l0eSh7b3BhY2l0eTowLHRyYW5zbGF0ZVg6MCx0cmFuc2xhdGVZOjB9LHtkdXJhdGlvbjowLHF1ZXVlOiExfSl9fSksbigkY2FwdGlvbixlLnRyYW5zaXRpb24pLGUuaW5kaWNhdG9ycyYmby5lcShsKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSxjLmVxKHQpLnZlbG9jaXR5KHtvcGFjaXR5OjF9LHtkdXJhdGlvbjplLnRyYW5zaXRpb24scXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pLGMuZXEodCkuZmluZChcIi5jYXB0aW9uXCIpLnZlbG9jaXR5KHtvcGFjaXR5OjEsdHJhbnNsYXRlWDowLHRyYW5zbGF0ZVk6MH0se2R1cmF0aW9uOmUudHJhbnNpdGlvbixkZWxheTplLnRyYW5zaXRpb24scXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pLGMuZXEodCkuYWRkQ2xhc3MoXCJhY3RpdmVcIiksZS5pbmRpY2F0b3JzJiZvLmVxKHQpLmFkZENsYXNzKFwiYWN0aXZlXCIpKX12YXIgaSxvLHMsYT10KHRoaXMpLHU9YS5maW5kKFwidWwuc2xpZGVzXCIpLmZpcnN0KCksYz11LmZpbmQoXCI+IGxpXCIpLGw9dS5maW5kKFwiLmFjdGl2ZVwiKS5pbmRleCgpO2whPS0xJiYoaT1jLmVxKGwpKSxhLmhhc0NsYXNzKFwiZnVsbHNjcmVlblwiKXx8KGUuaW5kaWNhdG9ycz9hLmhlaWdodChlLmhlaWdodCs0MCk6YS5oZWlnaHQoZS5oZWlnaHQpLHUuaGVpZ2h0KGUuaGVpZ2h0KSksYy5maW5kKFwiLmNhcHRpb25cIikuZWFjaChmdW5jdGlvbigpe24odCh0aGlzKSwwKX0pLGMuZmluZChcImltZ1wiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQkFQLy8vd0FBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCI7dCh0aGlzKS5hdHRyKFwic3JjXCIpIT09ZSYmKHQodGhpcykuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLFwidXJsKFwiK3QodGhpcykuYXR0cihcInNyY1wiKStcIilcIiksdCh0aGlzKS5hdHRyKFwic3JjXCIsZSkpfSksZS5pbmRpY2F0b3JzJiYobz10KCc8dWwgY2xhc3M9XCJpbmRpY2F0b3JzXCI+PC91bD4nKSxjLmVhY2goZnVuY3Rpb24obil7dmFyIGk9dCgnPGxpIGNsYXNzPVwiaW5kaWNhdG9yLWl0ZW1cIj48L2xpPicpO2kuY2xpY2soZnVuY3Rpb24oKXt2YXIgbj11LnBhcmVudCgpLGk9bi5maW5kKHQodGhpcykpLmluZGV4KCk7cihpKSxjbGVhckludGVydmFsKHMpLHM9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtsPXUuZmluZChcIi5hY3RpdmVcIikuaW5kZXgoKSxjLmxlbmd0aD09bCsxP2w9MDpsKz0xLHIobCl9LGUudHJhbnNpdGlvbitlLmludGVydmFsKX0pLG8uYXBwZW5kKGkpfSksYS5hcHBlbmQobyksbz1hLmZpbmQoXCJ1bC5pbmRpY2F0b3JzXCIpLmZpbmQoXCJsaS5pbmRpY2F0b3ItaXRlbVwiKSksaT9pLnNob3coKTooYy5maXJzdCgpLmFkZENsYXNzKFwiYWN0aXZlXCIpLnZlbG9jaXR5KHtvcGFjaXR5OjF9LHtkdXJhdGlvbjplLnRyYW5zaXRpb24scXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pLGw9MCxpPWMuZXEobCksZS5pbmRpY2F0b3JzJiZvLmVxKGwpLmFkZENsYXNzKFwiYWN0aXZlXCIpKSxpLmZpbmQoXCJpbWdcIikuZWFjaChmdW5jdGlvbigpe2kuZmluZChcIi5jYXB0aW9uXCIpLnZlbG9jaXR5KHtvcGFjaXR5OjEsdHJhbnNsYXRlWDowLHRyYW5zbGF0ZVk6MH0se2R1cmF0aW9uOmUudHJhbnNpdGlvbixxdWV1ZTohMSxlYXNpbmc6XCJlYXNlT3V0UXVhZFwifSl9KSxzPXNldEludGVydmFsKGZ1bmN0aW9uKCl7bD11LmZpbmQoXCIuYWN0aXZlXCIpLmluZGV4KCkscihsKzEpfSxlLnRyYW5zaXRpb24rZS5pbnRlcnZhbCk7dmFyIHA9ITEsaD0hMSxmPSExO2EuaGFtbWVyKHtwcmV2ZW50X2RlZmF1bHQ6ITF9KS5iaW5kKFwicGFuXCIsZnVuY3Rpb24odCl7aWYoXCJ0b3VjaFwiPT09dC5nZXN0dXJlLnBvaW50ZXJUeXBlKXtjbGVhckludGVydmFsKHMpO3ZhciBlPXQuZ2VzdHVyZS5kaXJlY3Rpb24sbj10Lmdlc3R1cmUuZGVsdGFYLHI9dC5nZXN0dXJlLnZlbG9jaXR5WDskY3Vycl9zbGlkZT11LmZpbmQoXCIuYWN0aXZlXCIpLCRjdXJyX3NsaWRlLnZlbG9jaXR5KHt0cmFuc2xhdGVYOm59LHtkdXJhdGlvbjo1MCxxdWV1ZTohMSxlYXNpbmc6XCJlYXNlT3V0UXVhZFwifSksND09PWUmJihuPmEuaW5uZXJXaWR0aCgpLzJ8fHI8LS42NSk/Zj0hMDoyPT09ZSYmKG48LTEqYS5pbm5lcldpZHRoKCkvMnx8cj4uNjUpJiYoaD0hMCk7dmFyIGk7aCYmKGk9JGN1cnJfc2xpZGUubmV4dCgpLDA9PT1pLmxlbmd0aCYmKGk9Yy5maXJzdCgpKSxpLnZlbG9jaXR5KHtvcGFjaXR5OjF9LHtkdXJhdGlvbjozMDAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pKSxmJiYoaT0kY3Vycl9zbGlkZS5wcmV2KCksMD09PWkubGVuZ3RoJiYoaT1jLmxhc3QoKSksaS52ZWxvY2l0eSh7b3BhY2l0eToxfSx7ZHVyYXRpb246MzAwLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRRdWFkXCJ9KSl9fSkuYmluZChcInBhbmVuZFwiLGZ1bmN0aW9uKHQpe1widG91Y2hcIj09PXQuZ2VzdHVyZS5wb2ludGVyVHlwZSYmKCRjdXJyX3NsaWRlPXUuZmluZChcIi5hY3RpdmVcIikscD0hMSxjdXJyX2luZGV4PXUuZmluZChcIi5hY3RpdmVcIikuaW5kZXgoKSwhZiYmIWh8fGMubGVuZ3RoPD0xPyRjdXJyX3NsaWRlLnZlbG9jaXR5KHt0cmFuc2xhdGVYOjB9LHtkdXJhdGlvbjozMDAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pOmg/KHIoY3Vycl9pbmRleCsxKSwkY3Vycl9zbGlkZS52ZWxvY2l0eSh7dHJhbnNsYXRlWDotMSphLmlubmVyV2lkdGgoKX0se2R1cmF0aW9uOjMwMCxxdWV1ZTohMSxlYXNpbmc6XCJlYXNlT3V0UXVhZFwiLGNvbXBsZXRlOmZ1bmN0aW9uKCl7JGN1cnJfc2xpZGUudmVsb2NpdHkoe29wYWNpdHk6MCx0cmFuc2xhdGVYOjB9LHtkdXJhdGlvbjowLHF1ZXVlOiExfSl9fSkpOmYmJihyKGN1cnJfaW5kZXgtMSksJGN1cnJfc2xpZGUudmVsb2NpdHkoe3RyYW5zbGF0ZVg6YS5pbm5lcldpZHRoKCl9LHtkdXJhdGlvbjozMDAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIixjb21wbGV0ZTpmdW5jdGlvbigpeyRjdXJyX3NsaWRlLnZlbG9jaXR5KHtvcGFjaXR5OjAsdHJhbnNsYXRlWDowfSx7ZHVyYXRpb246MCxxdWV1ZTohMX0pfX0pKSxoPSExLGY9ITEsY2xlYXJJbnRlcnZhbChzKSxzPXNldEludGVydmFsKGZ1bmN0aW9uKCl7bD11LmZpbmQoXCIuYWN0aXZlXCIpLmluZGV4KCksYy5sZW5ndGg9PWwrMT9sPTA6bCs9MSxyKGwpfSxlLnRyYW5zaXRpb24rZS5pbnRlcnZhbCkpfSksYS5vbihcInNsaWRlclBhdXNlXCIsZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHMpfSksYS5vbihcInNsaWRlclN0YXJ0XCIsZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHMpLHM9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtsPXUuZmluZChcIi5hY3RpdmVcIikuaW5kZXgoKSxjLmxlbmd0aD09bCsxP2w9MDpsKz0xLHIobCl9LGUudHJhbnNpdGlvbitlLmludGVydmFsKX0pLGEub24oXCJzbGlkZXJOZXh0XCIsZnVuY3Rpb24oKXtsPXUuZmluZChcIi5hY3RpdmVcIikuaW5kZXgoKSxyKGwrMSl9KSxhLm9uKFwic2xpZGVyUHJldlwiLGZ1bmN0aW9uKCl7bD11LmZpbmQoXCIuYWN0aXZlXCIpLmluZGV4KCkscihsLTEpfSl9KX0scGF1c2U6ZnVuY3Rpb24oKXt0KHRoaXMpLnRyaWdnZXIoXCJzbGlkZXJQYXVzZVwiKX0sc3RhcnQ6ZnVuY3Rpb24oKXt0KHRoaXMpLnRyaWdnZXIoXCJzbGlkZXJTdGFydFwiKX0sbmV4dDpmdW5jdGlvbigpe3QodGhpcykudHJpZ2dlcihcInNsaWRlck5leHRcIil9LHByZXY6ZnVuY3Rpb24oKXt0KHRoaXMpLnRyaWdnZXIoXCJzbGlkZXJQcmV2XCIpfX07dC5mbi5zbGlkZXI9ZnVuY3Rpb24obil7cmV0dXJuIGVbbl0/ZVtuXS5hcHBseSh0aGlzLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk6XCJvYmplY3RcIiE9dHlwZW9mIG4mJm4/dm9pZCB0LmVycm9yKFwiTWV0aG9kIFwiK24rXCIgZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5LnRvb2x0aXBcIik6ZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KGkpLGZ1bmN0aW9uKHQpe3QoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dChkb2N1bWVudCkub24oXCJjbGljay5jYXJkXCIsXCIuY2FyZFwiLGZ1bmN0aW9uKGUpe3QodGhpcykuZmluZChcIj4gLmNhcmQtcmV2ZWFsXCIpLmxlbmd0aCYmKHQoZS50YXJnZXQpLmlzKHQoXCIuY2FyZC1yZXZlYWwgLmNhcmQtdGl0bGVcIikpfHx0KGUudGFyZ2V0KS5pcyh0KFwiLmNhcmQtcmV2ZWFsIC5jYXJkLXRpdGxlIGlcIikpP3QodGhpcykuZmluZChcIi5jYXJkLXJldmVhbFwiKS52ZWxvY2l0eSh7dHJhbnNsYXRlWTowfSx7ZHVyYXRpb246MjI1LHF1ZXVlOiExLGVhc2luZzpcImVhc2VJbk91dFF1YWRcIixjb21wbGV0ZTpmdW5jdGlvbigpe3QodGhpcykuY3NzKHtkaXNwbGF5Olwibm9uZVwifSl9fSk6KHQoZS50YXJnZXQpLmlzKHQoXCIuY2FyZCAuYWN0aXZhdG9yXCIpKXx8dChlLnRhcmdldCkuaXModChcIi5jYXJkIC5hY3RpdmF0b3IgaVwiKSkpJiYodChlLnRhcmdldCkuY2xvc2VzdChcIi5jYXJkXCIpLmNzcyhcIm92ZXJmbG93XCIsXCJoaWRkZW5cIiksdCh0aGlzKS5maW5kKFwiLmNhcmQtcmV2ZWFsXCIpLmNzcyh7ZGlzcGxheTpcImJsb2NrXCJ9KS52ZWxvY2l0eShcInN0b3BcIiwhMSkudmVsb2NpdHkoe3RyYW5zbGF0ZVk6XCItMTAwJVwifSx7ZHVyYXRpb246MzAwLHF1ZXVlOiExLGVhc2luZzpcImVhc2VJbk91dFF1YWRcIn0pKSl9KX0pfShpKSxmdW5jdGlvbih0KXt2YXIgZT0hMSxuPXtkYXRhOltdLHBsYWNlaG9sZGVyOlwiXCIsc2Vjb25kYXJ5UGxhY2Vob2xkZXI6XCJcIn07dChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt0KGRvY3VtZW50KS5vbihcImNsaWNrXCIsXCIuY2hpcCAuY2xvc2VcIixmdW5jdGlvbihlKXt2YXIgbj10KHRoaXMpLmNsb3Nlc3QoXCIuY2hpcHNcIik7bi5hdHRyKFwiZGF0YS1pbml0aWFsaXplZFwiKXx8dCh0aGlzKS5jbG9zZXN0KFwiLmNoaXBcIikucmVtb3ZlKCl9KX0pLHQuZm4ubWF0ZXJpYWxfY2hpcD1mdW5jdGlvbihyKXt2YXIgaT10aGlzO2lmKHRoaXMuJGVsPXQodGhpcyksdGhpcy4kZG9jdW1lbnQ9dChkb2N1bWVudCksdGhpcy5TRUxTPXtDSElQUzpcIi5jaGlwc1wiLENISVA6XCIuY2hpcFwiLElOUFVUOlwiaW5wdXRcIixERUxFVEU6XCIubWF0ZXJpYWwtaWNvbnNcIixTRUxFQ1RFRF9DSElQOlwiLnNlbGVjdGVkXCJ9LFwiZGF0YVwiPT09cilyZXR1cm4gdGhpcy4kZWwuZGF0YShcImNoaXBzXCIpO3ZhciBvPXQuZXh0ZW5kKHt9LG4scik7dGhpcy5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9MDtpLiRlbC5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dCh0aGlzKSxyPU1hdGVyaWFsaXplLmd1aWQoKTtvLmRhdGEmJm8uZGF0YSBpbnN0YW5jZW9mIEFycmF5fHwoby5kYXRhPVtdKSxuLmRhdGEoXCJjaGlwc1wiLG8uZGF0YSksbi5hdHRyKFwiZGF0YS1pbmRleFwiLGUpLG4uYXR0cihcImRhdGEtaW5pdGlhbGl6ZWRcIiwhMCksbi5oYXNDbGFzcyhpLlNFTFMuQ0hJUFMpfHxuLmFkZENsYXNzKFwiY2hpcHNcIiksaS5jaGlwcyhuLHIpLGUrK30pfSx0aGlzLmhhbmRsZUV2ZW50cz1mdW5jdGlvbigpe3ZhciBlPWkuU0VMUztpLiRkb2N1bWVudC5vZmYoXCJjbGljay5jaGlwcy1mb2N1c1wiLGUuQ0hJUFMpLm9uKFwiY2xpY2suY2hpcHMtZm9jdXNcIixlLkNISVBTLGZ1bmN0aW9uKG4pe3Qobi50YXJnZXQpLmZpbmQoZS5JTlBVVCkuZm9jdXMoKX0pLGkuJGRvY3VtZW50Lm9mZihcImNsaWNrLmNoaXBzLXNlbGVjdFwiLGUuQ0hJUCkub24oXCJjbGljay5jaGlwcy1zZWxlY3RcIixlLkNISVAsZnVuY3Rpb24obil7dChlLkNISVApLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIiksdCh0aGlzKS50b2dnbGVDbGFzcyhcInNlbGVjdGVkXCIpfSksaS4kZG9jdW1lbnQub2ZmKFwia2V5ZG93bi5jaGlwc1wiKS5vbihcImtleWRvd24uY2hpcHNcIixmdW5jdGlvbihuKXtpZighdChuLnRhcmdldCkuaXMoXCJpbnB1dCwgdGV4dGFyZWFcIikpe3ZhciByLG89aS4kZG9jdW1lbnQuZmluZChlLkNISVArZS5TRUxFQ1RFRF9DSElQKSxzPW8uY2xvc2VzdChlLkNISVBTKSxhPW8uc2libGluZ3MoZS5DSElQKS5sZW5ndGg7aWYoby5sZW5ndGgpaWYoOD09PW4ud2hpY2h8fDQ2PT09bi53aGljaCl7bi5wcmV2ZW50RGVmYXVsdCgpLHI9by5pbmRleCgpLGkuZGVsZXRlQ2hpcChyLHMpO3ZhciB1PW51bGw7cisxPGE/dT1yOnIhPT1hJiZyKzEhPT1hfHwodT1hLTEpLHU8MCYmKHU9bnVsbCksbnVsbCE9PXUmJmkuc2VsZWN0Q2hpcCh1LHMpLGF8fHMuZmluZChcImlucHV0XCIpLmZvY3VzKCl9ZWxzZSBpZigzNz09PW4ud2hpY2gpe2lmKHI9by5pbmRleCgpLTEscjwwKXJldHVybjt0KGUuQ0hJUCkucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKSxpLnNlbGVjdENoaXAocixzKX1lbHNlIGlmKDM5PT09bi53aGljaCl7aWYocj1vLmluZGV4KCkrMSx0KGUuQ0hJUCkucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKSxyPmEpcmV0dXJuIHZvaWQgcy5maW5kKFwiaW5wdXRcIikuZm9jdXMoKTtpLnNlbGVjdENoaXAocixzKX19fSksaS4kZG9jdW1lbnQub2ZmKFwiZm9jdXNpbi5jaGlwc1wiLGUuQ0hJUFMrXCIgXCIrZS5JTlBVVCkub24oXCJmb2N1c2luLmNoaXBzXCIsZS5DSElQUytcIiBcIitlLklOUFVULGZ1bmN0aW9uKG4pe3ZhciByPXQobi50YXJnZXQpLmNsb3Nlc3QoZS5DSElQUyk7ci5hZGRDbGFzcyhcImZvY3VzXCIpLHIuc2libGluZ3MoXCJsYWJlbCwgLnByZWZpeFwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKSx0KGUuQ0hJUCkucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKX0pLGkuJGRvY3VtZW50Lm9mZihcImZvY3Vzb3V0LmNoaXBzXCIsZS5DSElQUytcIiBcIitlLklOUFVUKS5vbihcImZvY3Vzb3V0LmNoaXBzXCIsZS5DSElQUytcIiBcIitlLklOUFVULGZ1bmN0aW9uKG4pe3ZhciByPXQobi50YXJnZXQpLmNsb3Nlc3QoZS5DSElQUyk7ci5yZW1vdmVDbGFzcyhcImZvY3VzXCIpLHIuZGF0YShcImNoaXBzXCIpLmxlbmd0aHx8ci5zaWJsaW5ncyhcImxhYmVsXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLHIuc2libGluZ3MoXCIucHJlZml4XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpfSksaS4kZG9jdW1lbnQub2ZmKFwia2V5ZG93bi5jaGlwcy1hZGRcIixlLkNISVBTK1wiIFwiK2UuSU5QVVQpLm9uKFwia2V5ZG93bi5jaGlwcy1hZGRcIixlLkNISVBTK1wiIFwiK2UuSU5QVVQsZnVuY3Rpb24obil7dmFyIHI9dChuLnRhcmdldCksbz1yLmNsb3Nlc3QoZS5DSElQUykscz1vLmNoaWxkcmVuKGUuQ0hJUCkubGVuZ3RoO3JldHVybiAxMz09PW4ud2hpY2g/KG4ucHJldmVudERlZmF1bHQoKSxpLmFkZENoaXAoe3RhZzpyLnZhbCgpfSxvKSx2b2lkIHIudmFsKFwiXCIpKTo4IT09bi5rZXlDb2RlJiYzNyE9PW4ua2V5Q29kZXx8XCJcIiE9PXIudmFsKCl8fCFzP3ZvaWQgMDooaS5zZWxlY3RDaGlwKHMtMSxvKSx2b2lkIHIuYmx1cigpKX0pLGkuJGRvY3VtZW50Lm9mZihcImNsaWNrLmNoaXBzLWRlbGV0ZVwiLGUuQ0hJUFMrXCIgXCIrZS5ERUxFVEUpLm9uKFwiY2xpY2suY2hpcHMtZGVsZXRlXCIsZS5DSElQUytcIiBcIitlLkRFTEVURSxmdW5jdGlvbihuKXt2YXIgcj10KG4udGFyZ2V0KSxvPXIuY2xvc2VzdChlLkNISVBTKSxzPXIuY2xvc2VzdChlLkNISVApO24uc3RvcFByb3BhZ2F0aW9uKCksaS5kZWxldGVDaGlwKHMuaW5kZXgoKSxvKSxvLmZpbmQoXCJpbnB1dFwiKS5mb2N1cygpfSl9LHRoaXMuY2hpcHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1cIlwiO3QuZGF0YShcImNoaXBzXCIpLmZvckVhY2goZnVuY3Rpb24odCl7bis9aS5yZW5kZXJDaGlwKHQpfSksbis9JzxpbnB1dCBpZD1cIicrZSsnXCIgY2xhc3M9XCJpbnB1dFwiIHBsYWNlaG9sZGVyPVwiXCI+Jyx0Lmh0bWwobiksaS5zZXRQbGFjZWhvbGRlcih0KTt2YXIgcj10Lm5leHQoXCJsYWJlbFwiKTtyLmxlbmd0aCYmKHIuYXR0cihcImZvclwiLGUpLHQuZGF0YShcImNoaXBzXCIpLmxlbmd0aCYmci5hZGRDbGFzcyhcImFjdGl2ZVwiKSl9LHRoaXMucmVuZGVyQ2hpcD1mdW5jdGlvbih0KXtpZih0LnRhZyl7dmFyIGU9JzxkaXYgY2xhc3M9XCJjaGlwXCI+Jyt0LnRhZztyZXR1cm4gdC5pbWFnZSYmKGUrPScgPGltZyBzcmM9XCInK3QuaW1hZ2UrJ1wiPiAnKSxlKz0nPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBjbG9zZVwiPmNsb3NlPC9pPicsZSs9XCI8L2Rpdj5cIn19LHRoaXMuc2V0UGxhY2Vob2xkZXI9ZnVuY3Rpb24odCl7dC5kYXRhKFwiY2hpcHNcIikubGVuZ3RoJiZvLnBsYWNlaG9sZGVyP3QuZmluZChcImlucHV0XCIpLnByb3AoXCJwbGFjZWhvbGRlclwiLG8ucGxhY2Vob2xkZXIpOiF0LmRhdGEoXCJjaGlwc1wiKS5sZW5ndGgmJm8uc2Vjb25kYXJ5UGxhY2Vob2xkZXImJnQuZmluZChcImlucHV0XCIpLnByb3AoXCJwbGFjZWhvbGRlclwiLG8uc2Vjb25kYXJ5UGxhY2Vob2xkZXIpfSx0aGlzLmlzVmFsaWQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5kYXRhKFwiY2hpcHNcIikscj0hMSxpPTA7aTxuLmxlbmd0aDtpKyspaWYobltpXS50YWc9PT1lLnRhZylyZXR1cm4gdm9pZChyPSEwKTtyZXR1cm5cIlwiIT09ZS50YWcmJiFyfSx0aGlzLmFkZENoaXA9ZnVuY3Rpb24oZSxuKXtpZihpLmlzVmFsaWQobixlKSl7Zm9yKHZhciByPWkucmVuZGVyQ2hpcChlKSxvPVtdLHM9bi5kYXRhKFwiY2hpcHNcIiksYT0wO2E8cy5sZW5ndGg7YSsrKW8ucHVzaChzW2FdKTtvLnB1c2goZSksbi5kYXRhKFwiY2hpcHNcIixvKSx0KHIpLmluc2VydEJlZm9yZShuLmZpbmQoXCJpbnB1dFwiKSksbi50cmlnZ2VyKFwiY2hpcC5hZGRcIixlKSxpLnNldFBsYWNlaG9sZGVyKG4pfX0sdGhpcy5kZWxldGVDaGlwPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5kYXRhKFwiY2hpcHNcIilbdF07ZS5maW5kKFwiLmNoaXBcIikuZXEodCkucmVtb3ZlKCk7Zm9yKHZhciByPVtdLG89ZS5kYXRhKFwiY2hpcHNcIikscz0wO3M8by5sZW5ndGg7cysrKXMhPT10JiZyLnB1c2gob1tzXSk7ZS5kYXRhKFwiY2hpcHNcIixyKSxlLnRyaWdnZXIoXCJjaGlwLmRlbGV0ZVwiLG4pLGkuc2V0UGxhY2Vob2xkZXIoZSl9LHRoaXMuc2VsZWN0Q2hpcD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuZmluZChcIi5jaGlwXCIpLmVxKHQpO24mJiExPT09bi5oYXNDbGFzcyhcInNlbGVjdGVkXCIpJiYobi5hZGRDbGFzcyhcInNlbGVjdGVkXCIpLGUudHJpZ2dlcihcImNoaXAuc2VsZWN0XCIsZS5kYXRhKFwiY2hpcHNcIilbdF0pKX0sdGhpcy5nZXRDaGlwc0VsZW1lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5lcSh0KX0sdGhpcy5pbml0KCksZXx8KHRoaXMuaGFuZGxlRXZlbnRzKCksZT0hMCl9fShpKSxmdW5jdGlvbih0KXt0LmZuLnB1c2hwaW49ZnVuY3Rpb24oZSl7dmFyIG49e3RvcDowLGJvdHRvbToxLzAsb2Zmc2V0OjB9O3JldHVyblwicmVtb3ZlXCI9PT1lPyh0aGlzLmVhY2goZnVuY3Rpb24oKXsoaWQ9dCh0aGlzKS5kYXRhKFwicHVzaHBpbi1pZFwiKSkmJih0KHdpbmRvdykub2ZmKFwic2Nyb2xsLlwiK2lkKSx0KHRoaXMpLnJlbW92ZURhdGEoXCJwdXNocGluLWlkXCIpLnJlbW92ZUNsYXNzKFwicGluLXRvcCBwaW5uZWQgcGluLWJvdHRvbVwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIikpfSksITEpOihlPXQuZXh0ZW5kKG4sZSksJGluZGV4PTAsdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbih0KXt0LnJlbW92ZUNsYXNzKFwicGluLXRvcFwiKSx0LnJlbW92ZUNsYXNzKFwicGlubmVkXCIpLHQucmVtb3ZlQ2xhc3MoXCJwaW4tYm90dG9tXCIpfWZ1bmN0aW9uIHIocixpKXtyLmVhY2goZnVuY3Rpb24oKXtlLnRvcDw9aSYmZS5ib3R0b20+PWkmJiF0KHRoaXMpLmhhc0NsYXNzKFwicGlubmVkXCIpJiYobih0KHRoaXMpKSx0KHRoaXMpLmNzcyhcInRvcFwiLGUub2Zmc2V0KSx0KHRoaXMpLmFkZENsYXNzKFwicGlubmVkXCIpKSxpPGUudG9wJiYhdCh0aGlzKS5oYXNDbGFzcyhcInBpbi10b3BcIikmJihuKHQodGhpcykpLHQodGhpcykuY3NzKFwidG9wXCIsMCksdCh0aGlzKS5hZGRDbGFzcyhcInBpbi10b3BcIikpLGk+ZS5ib3R0b20mJiF0KHRoaXMpLmhhc0NsYXNzKFwicGluLWJvdHRvbVwiKSYmKG4odCh0aGlzKSksdCh0aGlzKS5hZGRDbGFzcyhcInBpbi1ib3R0b21cIiksdCh0aGlzKS5jc3MoXCJ0b3BcIixlLmJvdHRvbS1zKSl9KX12YXIgaT1NYXRlcmlhbGl6ZS5ndWlkKCksbz10KHRoaXMpLHM9dCh0aGlzKS5vZmZzZXQoKS50b3A7dCh0aGlzKS5kYXRhKFwicHVzaHBpbi1pZFwiLGkpLHIobyx0KHdpbmRvdykuc2Nyb2xsVG9wKCkpLHQod2luZG93KS5vbihcInNjcm9sbC5cIitpLGZ1bmN0aW9uKCl7dmFyIG49dCh3aW5kb3cpLnNjcm9sbFRvcCgpK2Uub2Zmc2V0O3IobyxuKX0pfSkpfX0oaSksZnVuY3Rpb24odCl7dChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt0LmZuLnJldmVyc2U9W10ucmV2ZXJzZSx0KGRvY3VtZW50KS5vbihcIm1vdXNlZW50ZXIuZml4ZWRBY3Rpb25CdG5cIixcIi5maXhlZC1hY3Rpb24tYnRuOm5vdCguY2xpY2stdG8tdG9nZ2xlKTpub3QoLnRvb2xiYXIpXCIsZnVuY3Rpb24obil7dmFyIHI9dCh0aGlzKTtlKHIpfSksdChkb2N1bWVudCkub24oXCJtb3VzZWxlYXZlLmZpeGVkQWN0aW9uQnRuXCIsXCIuZml4ZWQtYWN0aW9uLWJ0bjpub3QoLmNsaWNrLXRvLXRvZ2dsZSk6bm90KC50b29sYmFyKVwiLGZ1bmN0aW9uKGUpe3ZhciByPXQodGhpcyk7bihyKX0pLHQoZG9jdW1lbnQpLm9uKFwiY2xpY2suZmFiQ2xpY2tUb2dnbGVcIixcIi5maXhlZC1hY3Rpb24tYnRuLmNsaWNrLXRvLXRvZ2dsZSA+IGFcIixmdW5jdGlvbihyKXt2YXIgaT10KHRoaXMpLG89aS5wYXJlbnQoKTtvLmhhc0NsYXNzKFwiYWN0aXZlXCIpP24obyk6ZShvKX0pLHQoZG9jdW1lbnQpLm9uKFwiY2xpY2suZmFiVG9vbGJhclwiLFwiLmZpeGVkLWFjdGlvbi1idG4udG9vbGJhciA+IGFcIixmdW5jdGlvbihlKXt2YXIgbj10KHRoaXMpLGk9bi5wYXJlbnQoKTtyKGkpfSl9KSx0LmZuLmV4dGVuZCh7b3BlbkZBQjpmdW5jdGlvbigpe2UodCh0aGlzKSl9LGNsb3NlRkFCOmZ1bmN0aW9uKCl7bih0KHRoaXMpKX0sb3BlblRvb2xiYXI6ZnVuY3Rpb24oKXtyKHQodGhpcykpfSxjbG9zZVRvb2xiYXI6ZnVuY3Rpb24oKXtpKHQodGhpcykpfX0pO3ZhciBlPWZ1bmN0aW9uKGUpe3ZhciBuPWU7aWYobi5oYXNDbGFzcyhcImFjdGl2ZVwiKT09PSExKXt2YXIgcixpLG89bi5oYXNDbGFzcyhcImhvcml6b250YWxcIik7bz09PSEwP2k9NDA6cj00MCxuLmFkZENsYXNzKFwiYWN0aXZlXCIpLG4uZmluZChcInVsIC5idG4tZmxvYXRpbmdcIikudmVsb2NpdHkoe3NjYWxlWTpcIi40XCIsc2NhbGVYOlwiLjRcIix0cmFuc2xhdGVZOnIrXCJweFwiLHRyYW5zbGF0ZVg6aStcInB4XCJ9LHtkdXJhdGlvbjowfSk7dmFyIHM9MDtuLmZpbmQoXCJ1bCAuYnRuLWZsb2F0aW5nXCIpLnJldmVyc2UoKS5lYWNoKGZ1bmN0aW9uKCl7dCh0aGlzKS52ZWxvY2l0eSh7b3BhY2l0eTpcIjFcIixzY2FsZVg6XCIxXCIsc2NhbGVZOlwiMVwiLHRyYW5zbGF0ZVk6XCIwXCIsdHJhbnNsYXRlWDpcIjBcIn0se2R1cmF0aW9uOjgwLGRlbGF5OnN9KSxzKz00MH0pfX0sbj1mdW5jdGlvbih0KXt2YXIgZSxuLHI9dCxpPXIuaGFzQ2xhc3MoXCJob3Jpem9udGFsXCIpO2k9PT0hMD9uPTQwOmU9NDAsci5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtyLmZpbmQoXCJ1bCAuYnRuLWZsb2F0aW5nXCIpLnZlbG9jaXR5KFwic3RvcFwiLCEwKSxyLmZpbmQoXCJ1bCAuYnRuLWZsb2F0aW5nXCIpLnZlbG9jaXR5KHtvcGFjaXR5OlwiMFwiLHNjYWxlWDpcIi40XCIsc2NhbGVZOlwiLjRcIix0cmFuc2xhdGVZOmUrXCJweFwiLHRyYW5zbGF0ZVg6bitcInB4XCJ9LHtkdXJhdGlvbjo4MH0pfSxyPWZ1bmN0aW9uKGUpe2lmKFwidHJ1ZVwiIT09ZS5hdHRyKFwiZGF0YS1vcGVuXCIpKXt2YXIgbixyLG8scz13aW5kb3cuaW5uZXJXaWR0aCxhPXdpbmRvdy5pbm5lckhlaWdodCx1PWVbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYz1lLmZpbmQoXCI+IGFcIikuZmlyc3QoKSxsPWUuZmluZChcIj4gdWxcIikuZmlyc3QoKSxwPXQoJzxkaXYgY2xhc3M9XCJmYWItYmFja2Ryb3BcIj48L2Rpdj4nKSxoPWMuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiKTtjLmFwcGVuZChwKSxuPXUubGVmdC1zLzIrdS53aWR0aC8yLHI9YS11LmJvdHRvbSxvPXMvcC53aWR0aCgpLGUuYXR0cihcImRhdGEtb3JpZ2luLWJvdHRvbVwiLHUuYm90dG9tKSxlLmF0dHIoXCJkYXRhLW9yaWdpbi1sZWZ0XCIsdS5sZWZ0KSxlLmF0dHIoXCJkYXRhLW9yaWdpbi13aWR0aFwiLHUud2lkdGgpLGUuYWRkQ2xhc3MoXCJhY3RpdmVcIiksZS5hdHRyKFwiZGF0YS1vcGVuXCIsITApLGUuY3NzKHtcInRleHQtYWxpZ25cIjpcImNlbnRlclwiLHdpZHRoOlwiMTAwJVwiLGJvdHRvbTowLGxlZnQ6MCx0cmFuc2Zvcm06XCJ0cmFuc2xhdGVYKFwiK24rXCJweClcIix0cmFuc2l0aW9uOlwibm9uZVwifSksYy5jc3Moe3RyYW5zZm9ybTpcInRyYW5zbGF0ZVkoXCIrLXIrXCJweClcIix0cmFuc2l0aW9uOlwibm9uZVwifSkscC5jc3Moe1wiYmFja2dyb3VuZC1jb2xvclwiOmh9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5jc3Moe3RyYW5zZm9ybTpcIlwiLHRyYW5zaXRpb246XCJ0cmFuc2Zvcm0gLjJzIGN1YmljLWJlemllcigwLjU1MCwgMC4wODUsIDAuNjgwLCAwLjUzMCksIGJhY2tncm91bmQtY29sb3IgMHMgbGluZWFyIC4yc1wifSksYy5jc3Moe292ZXJmbG93OlwidmlzaWJsZVwiLHRyYW5zZm9ybTpcIlwiLHRyYW5zaXRpb246XCJ0cmFuc2Zvcm0gLjJzXCJ9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5jc3Moe292ZXJmbG93OlwiaGlkZGVuXCIsXCJiYWNrZ3JvdW5kLWNvbG9yXCI6aH0pLHAuY3NzKHt0cmFuc2Zvcm06XCJzY2FsZShcIitvK1wiKVwiLHRyYW5zaXRpb246XCJ0cmFuc2Zvcm0gLjJzIGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MClcIn0pLGwuZmluZChcIj4gbGkgPiBhXCIpLmNzcyh7b3BhY2l0eToxfSksdCh3aW5kb3cpLm9uKFwic2Nyb2xsLmZhYlRvb2xiYXJDbG9zZVwiLGZ1bmN0aW9uKCl7aShlKSx0KHdpbmRvdykub2ZmKFwic2Nyb2xsLmZhYlRvb2xiYXJDbG9zZVwiKSx0KGRvY3VtZW50KS5vZmYoXCJjbGljay5mYWJUb29sYmFyQ2xvc2VcIil9KSx0KGRvY3VtZW50KS5vbihcImNsaWNrLmZhYlRvb2xiYXJDbG9zZVwiLGZ1bmN0aW9uKG4pe3Qobi50YXJnZXQpLmNsb3Nlc3QobCkubGVuZ3RofHwoaShlKSx0KHdpbmRvdykub2ZmKFwic2Nyb2xsLmZhYlRvb2xiYXJDbG9zZVwiKSx0KGRvY3VtZW50KS5vZmYoXCJjbGljay5mYWJUb29sYmFyQ2xvc2VcIikpfSl9LDEwMCl9LDApfX0saT1mdW5jdGlvbih0KXtpZihcInRydWVcIj09PXQuYXR0cihcImRhdGEtb3BlblwiKSl7dmFyIGUsbixyLGk9d2luZG93LmlubmVyV2lkdGgsbz13aW5kb3cuaW5uZXJIZWlnaHQscz10LmF0dHIoXCJkYXRhLW9yaWdpbi13aWR0aFwiKSxhPXQuYXR0cihcImRhdGEtb3JpZ2luLWJvdHRvbVwiKSx1PXQuYXR0cihcImRhdGEtb3JpZ2luLWxlZnRcIiksYz10LmZpbmQoXCI+IC5idG4tZmxvYXRpbmdcIikuZmlyc3QoKSxsPXQuZmluZChcIj4gdWxcIikuZmlyc3QoKSxwPXQuZmluZChcIi5mYWItYmFja2Ryb3BcIiksaD1jLmNzcyhcImJhY2tncm91bmQtY29sb3JcIik7ZT11LWkvMitzLzIsbj1vLWEscj1pL3Aud2lkdGgoKSx0LnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLHQuYXR0cihcImRhdGEtb3BlblwiLCExKSx0LmNzcyh7XCJiYWNrZ3JvdW5kLWNvbG9yXCI6XCJ0cmFuc3BhcmVudFwiLHRyYW5zaXRpb246XCJub25lXCJ9KSxjLmNzcyh7dHJhbnNpdGlvbjpcIm5vbmVcIn0pLHAuY3NzKHt0cmFuc2Zvcm06XCJzY2FsZSgwKVwiLFwiYmFja2dyb3VuZC1jb2xvclwiOmh9KSxsLmZpbmQoXCI+IGxpID4gYVwiKS5jc3Moe29wYWNpdHk6XCJcIn0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtwLnJlbW92ZSgpLHQuY3NzKHtcInRleHQtYWxpZ25cIjpcIlwiLHdpZHRoOlwiXCIsYm90dG9tOlwiXCIsbGVmdDpcIlwiLG92ZXJmbG93OlwiXCIsXCJiYWNrZ3JvdW5kLWNvbG9yXCI6XCJcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzZChcIistZStcInB4LDAsMClcIn0pLGMuY3NzKHtvdmVyZmxvdzpcIlwiLHRyYW5zZm9ybTpcInRyYW5zbGF0ZTNkKDAsXCIrbitcInB4LDApXCJ9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5jc3Moe3RyYW5zZm9ybTpcInRyYW5zbGF0ZTNkKDAsMCwwKVwiLHRyYW5zaXRpb246XCJ0cmFuc2Zvcm0gLjJzXCJ9KSxjLmNzcyh7dHJhbnNmb3JtOlwidHJhbnNsYXRlM2QoMCwwLDApXCIsdHJhbnNpdGlvbjpcInRyYW5zZm9ybSAuMnMgY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKVwifSl9LDIwKX0sMjAwKX19fShpKSxmdW5jdGlvbih0KXtNYXRlcmlhbGl6ZS5mYWRlSW5JbWFnZT1mdW5jdGlvbihlKXt2YXIgbjtpZihcInN0cmluZ1wiPT10eXBlb2YgZSluPXQoZSk7ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgZSlyZXR1cm47bj1lfW4uY3NzKHtvcGFjaXR5OjB9KSx0KG4pLnZlbG9jaXR5KHtvcGFjaXR5OjF9LHtkdXJhdGlvbjo2NTAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFNpbmVcIn0pLHQobikudmVsb2NpdHkoe29wYWNpdHk6MX0se2R1cmF0aW9uOjEzMDAscXVldWU6ITEsZWFzaW5nOlwic3dpbmdcIixzdGVwOmZ1bmN0aW9uKGUsbil7bi5zdGFydD0xMDA7dmFyIHI9ZS8xMDAsaT0xNTAtKDEwMC1lKS8xLjc1O2k8MTAwJiYoaT0xMDApLGU+PTAmJnQodGhpcykuY3NzKHtcIi13ZWJraXQtZmlsdGVyXCI6XCJncmF5c2NhbGUoXCIrcitcIilicmlnaHRuZXNzKFwiK2krXCIlKVwiLGZpbHRlcjpcImdyYXlzY2FsZShcIityK1wiKWJyaWdodG5lc3MoXCIraStcIiUpXCJ9KX19KX0sTWF0ZXJpYWxpemUuc2hvd1N0YWdnZXJlZExpc3Q9ZnVuY3Rpb24oZSl7dmFyIG47aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpbj10KGUpO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpcmV0dXJuO249ZX12YXIgcj0wO24uZmluZChcImxpXCIpLnZlbG9jaXR5KHt0cmFuc2xhdGVYOlwiLTEwMHB4XCJ9LHtkdXJhdGlvbjowfSksbi5maW5kKFwibGlcIikuZWFjaChmdW5jdGlvbigpe3QodGhpcykudmVsb2NpdHkoe29wYWNpdHk6XCIxXCIsdHJhbnNsYXRlWDpcIjBcIn0se2R1cmF0aW9uOjgwMCxkZWxheTpyLGVhc2luZzpbNjAsMTBdfSkscis9MTIwfSl9LHQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIGU9ITEsbj0hMTt0KFwiLmRpc21pc3NhYmxlXCIpLmVhY2goZnVuY3Rpb24oKXt0KHRoaXMpLmhhbW1lcih7cHJldmVudF9kZWZhdWx0OiExfSkuYmluZChcInBhblwiLGZ1bmN0aW9uKHIpe2lmKFwidG91Y2hcIj09PXIuZ2VzdHVyZS5wb2ludGVyVHlwZSl7dmFyIGk9dCh0aGlzKSxvPXIuZ2VzdHVyZS5kaXJlY3Rpb24scz1yLmdlc3R1cmUuZGVsdGFYLGE9ci5nZXN0dXJlLnZlbG9jaXR5WDtpLnZlbG9jaXR5KHt0cmFuc2xhdGVYOnN9LHtkdXJhdGlvbjo1MCxxdWV1ZTohMSxlYXNpbmc6XCJlYXNlT3V0UXVhZFwifSksND09PW8mJihzPmkuaW5uZXJXaWR0aCgpLzJ8fGE8LS43NSkmJihlPSEwKSwyPT09byYmKHM8LTEqaS5pbm5lcldpZHRoKCkvMnx8YT4uNzUpJiYobj0hMCl9fSkuYmluZChcInBhbmVuZFwiLGZ1bmN0aW9uKHIpe2lmKE1hdGguYWJzKHIuZ2VzdHVyZS5kZWx0YVgpPHQodGhpcykuaW5uZXJXaWR0aCgpLzImJihuPSExLGU9ITEpLFwidG91Y2hcIj09PXIuZ2VzdHVyZS5wb2ludGVyVHlwZSl7dmFyIGk9dCh0aGlzKTtpZihlfHxuKXt2YXIgbztvPWU/aS5pbm5lcldpZHRoKCk6LTEqaS5pbm5lcldpZHRoKCksaS52ZWxvY2l0eSh7dHJhbnNsYXRlWDpvfSx7ZHVyYXRpb246MTAwLHF1ZXVlOiExLGVhc2luZzpcImVhc2VPdXRRdWFkXCIsY29tcGxldGU6ZnVuY3Rpb24oKXtpLmNzcyhcImJvcmRlclwiLFwibm9uZVwiKSxpLnZlbG9jaXR5KHtoZWlnaHQ6MCxwYWRkaW5nOjB9LHtkdXJhdGlvbjoyMDAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIixjb21wbGV0ZTpmdW5jdGlvbigpe2kucmVtb3ZlKCl9fSl9fSl9ZWxzZSBpLnZlbG9jaXR5KHt0cmFuc2xhdGVYOjB9LHtkdXJhdGlvbjoxMDAscXVldWU6ITEsZWFzaW5nOlwiZWFzZU91dFF1YWRcIn0pO2U9ITEsbj0hMX19KX0pfSl9KGkpLGZ1bmN0aW9uKHQpe01hdGVyaWFsaXplLnNjcm9sbEZpcmU9ZnVuY3Rpb24odCl7dmFyIGU9ITE7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIixmdW5jdGlvbigpe2U9ITB9KSxzZXRJbnRlcnZhbChmdW5jdGlvbigpe2lmKGUpe2U9ITE7Zm9yKHZhciBuPXdpbmRvdy5wYWdlWU9mZnNldCt3aW5kb3cuaW5uZXJIZWlnaHQscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdLG89aS5zZWxlY3RvcixzPWkub2Zmc2V0LGE9aS5jYWxsYmFjayx1PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iobyk7aWYobnVsbCE9PXUpe3ZhciBjPXUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wK3dpbmRvdy5wYWdlWU9mZnNldDtpZihuPmMrcyYmaS5kb25lIT09ITApe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEpYS5jYWxsKHRoaXMsdSk7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgYSl7dmFyIGw9bmV3IEZ1bmN0aW9uKGEpO2wodSl9aS5kb25lPSEwfX19fX0sMTAwKX19KGkpLGZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJwaWNrZXJcIixbXCJqcXVlcnlcIl0sdCk6XCJvYmplY3RcIj09dHlwZW9mIG4/ci5leHBvcnRzPXQoZShcImpxdWVyeVwiKSk6dGhpcy5QaWNrZXI9dChpKX0oZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShvLHMsdSxwKXtmdW5jdGlvbiBoKCl7cmV0dXJuIGUuXy5ub2RlKFwiZGl2XCIsZS5fLm5vZGUoXCJkaXZcIixlLl8ubm9kZShcImRpdlwiLGUuXy5ub2RlKFwiZGl2XCIsUy5jb21wb25lbnQubm9kZXMoXy5vcGVuKSx3LmJveCksdy53cmFwKSx3LmZyYW1lKSx3LmhvbGRlcil9ZnVuY3Rpb24gZigpe0MuZGF0YShzLFMpLmFkZENsYXNzKHcuaW5wdXQpLmF0dHIoXCJ0YWJpbmRleFwiLC0xKS52YWwoQy5kYXRhKFwidmFsdWVcIik/Uy5nZXQoXCJzZWxlY3RcIixiLmZvcm1hdCk6by52YWx1ZSksYi5lZGl0YWJsZXx8Qy5vbihcImZvY3VzLlwiK18uaWQrXCIgY2xpY2suXCIrXy5pZCxmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksUy4kcm9vdC5lcSgwKS5mb2N1cygpfSkub24oXCJrZXlkb3duLlwiK18uaWQsbSksaShvLHtoYXNwb3B1cDohMCxleHBhbmRlZDohMSxyZWFkb25seTohMSxvd25zOm8uaWQrXCJfcm9vdFwifSl9ZnVuY3Rpb24gZCgpe1MuJHJvb3Qub24oe2tleWRvd246bSxmb2N1c2luOmZ1bmN0aW9uKHQpe1MuJHJvb3QucmVtb3ZlQ2xhc3Mody5mb2N1c2VkKSx0LnN0b3BQcm9wYWdhdGlvbigpfSxcIm1vdXNlZG93biBjbGlja1wiOmZ1bmN0aW9uKGUpe3ZhciBuPWUudGFyZ2V0O24hPVMuJHJvb3QuY2hpbGRyZW4oKVswXSYmKGUuc3RvcFByb3BhZ2F0aW9uKCksXCJtb3VzZWRvd25cIiE9ZS50eXBlfHx0KG4pLmlzKFwiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGJ1dHRvbiwgb3B0aW9uXCIpfHwoZS5wcmV2ZW50RGVmYXVsdCgpLFMuJHJvb3QuZXEoMCkuZm9jdXMoKSkpfX0pLm9uKHtmb2N1czpmdW5jdGlvbigpe0MuYWRkQ2xhc3Mody50YXJnZXQpfSxibHVyOmZ1bmN0aW9uKCl7Qy5yZW1vdmVDbGFzcyh3LnRhcmdldCl9fSkub24oXCJmb2N1cy50b09wZW5cIix2KS5vbihcImNsaWNrXCIsXCJbZGF0YS1waWNrXSwgW2RhdGEtbmF2XSwgW2RhdGEtY2xlYXJdLCBbZGF0YS1jbG9zZV1cIixmdW5jdGlvbigpe3ZhciBlPXQodGhpcyksbj1lLmRhdGEoKSxyPWUuaGFzQ2xhc3Mody5uYXZEaXNhYmxlZCl8fGUuaGFzQ2xhc3Mody5kaXNhYmxlZCksaT1hKCk7aT1pJiYoaS50eXBlfHxpLmhyZWYpLChyfHxpJiYhdC5jb250YWlucyhTLiRyb290WzBdLGkpKSYmUy4kcm9vdC5lcSgwKS5mb2N1cygpLCFyJiZuLm5hdj9TLnNldChcImhpZ2hsaWdodFwiLFMuY29tcG9uZW50Lml0ZW0uaGlnaGxpZ2h0LHtuYXY6bi5uYXZ9KTohciYmXCJwaWNrXCJpbiBuP1Muc2V0KFwic2VsZWN0XCIsbi5waWNrKTpuLmNsZWFyP1MuY2xlYXIoKS5jbG9zZSghMCk6bi5jbG9zZSYmUy5jbG9zZSghMCl9KSxpKFMuJHJvb3RbMF0sXCJoaWRkZW5cIiwhMCl9ZnVuY3Rpb24geSgpe3ZhciBlO2IuaGlkZGVuTmFtZT09PSEwPyhlPW8ubmFtZSxvLm5hbWU9XCJcIik6KGU9W1wic3RyaW5nXCI9PXR5cGVvZiBiLmhpZGRlblByZWZpeD9iLmhpZGRlblByZWZpeDpcIlwiLFwic3RyaW5nXCI9PXR5cGVvZiBiLmhpZGRlblN1ZmZpeD9iLmhpZGRlblN1ZmZpeDpcIl9zdWJtaXRcIl0sZT1lWzBdK28ubmFtZStlWzFdKSxTLl9oaWRkZW49dCgnPGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9XCInK2UrJ1wiJysoQy5kYXRhKFwidmFsdWVcIil8fG8udmFsdWU/JyB2YWx1ZT1cIicrUy5nZXQoXCJzZWxlY3RcIixiLmZvcm1hdFN1Ym1pdCkrJ1wiJzpcIlwiKStcIj5cIilbMF0sQy5vbihcImNoYW5nZS5cIitfLmlkLGZ1bmN0aW9uKCl7Uy5faGlkZGVuLnZhbHVlPW8udmFsdWU/Uy5nZXQoXCJzZWxlY3RcIixiLmZvcm1hdFN1Ym1pdCk6XCJcIn0pLGIuY29udGFpbmVyP3QoYi5jb250YWluZXIpLmFwcGVuZChTLl9oaWRkZW4pOkMuYWZ0ZXIoUy5faGlkZGVuKX1mdW5jdGlvbiBtKHQpe3ZhciBlPXQua2V5Q29kZSxuPS9eKDh8NDYpJC8udGVzdChlKTtyZXR1cm4gMjc9PWU/KFMuY2xvc2UoKSwhMSk6dm9pZCgoMzI9PWV8fG58fCFfLm9wZW4mJlMuY29tcG9uZW50LmtleVtlXSkmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSxuP1MuY2xlYXIoKS5jbG9zZSgpOlMub3BlbigpKSl9ZnVuY3Rpb24gdih0KXt0LnN0b3BQcm9wYWdhdGlvbigpLFwiZm9jdXNcIj09dC50eXBlJiZTLiRyb290LmFkZENsYXNzKHcuZm9jdXNlZCksUy5vcGVuKCl9aWYoIW8pcmV0dXJuIGU7dmFyIGc9ITEsXz17aWQ6by5pZHx8XCJQXCIrTWF0aC5hYnMofn4oTWF0aC5yYW5kb20oKSpuZXcgRGF0ZSkpfSxiPXU/dC5leHRlbmQoITAse30sdS5kZWZhdWx0cyxwKTpwfHx7fSx3PXQuZXh0ZW5kKHt9LGUua2xhc3NlcygpLGIua2xhc3MpLEM9dChvKSxFPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQoKX0sUz1FLnByb3RvdHlwZT17Y29uc3RydWN0b3I6RSwkbm9kZTpDLHN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIF8mJl8uc3RhcnQ/UzooXy5tZXRob2RzPXt9LF8uc3RhcnQ9ITAsXy5vcGVuPSExLF8udHlwZT1vLnR5cGUsby5hdXRvZm9jdXM9bz09YSgpLG8ucmVhZE9ubHk9IWIuZWRpdGFibGUsby5pZD1vLmlkfHxfLmlkLFwidGV4dFwiIT1vLnR5cGUmJihvLnR5cGU9XCJ0ZXh0XCIpLFMuY29tcG9uZW50PW5ldyB1KFMsYiksUy4kcm9vdD10KGUuXy5ub2RlKFwiZGl2XCIsaCgpLHcucGlja2VyLCdpZD1cIicrby5pZCsnX3Jvb3RcIiB0YWJpbmRleD1cIjBcIicpKSxkKCksYi5mb3JtYXRTdWJtaXQmJnkoKSxmKCksYi5jb250YWluZXI/dChiLmNvbnRhaW5lcikuYXBwZW5kKFMuJHJvb3QpOkMuYWZ0ZXIoUy4kcm9vdCksUy5vbih7c3RhcnQ6Uy5jb21wb25lbnQub25TdGFydCxyZW5kZXI6Uy5jb21wb25lbnQub25SZW5kZXIsc3RvcDpTLmNvbXBvbmVudC5vblN0b3Asb3BlbjpTLmNvbXBvbmVudC5vbk9wZW4sY2xvc2U6Uy5jb21wb25lbnQub25DbG9zZSxzZXQ6Uy5jb21wb25lbnQub25TZXR9KS5vbih7c3RhcnQ6Yi5vblN0YXJ0LHJlbmRlcjpiLm9uUmVuZGVyLHN0b3A6Yi5vblN0b3Asb3BlbjpiLm9uT3BlbixjbG9zZTpiLm9uQ2xvc2Usc2V0OmIub25TZXR9KSxnPW4oUy4kcm9vdC5jaGlsZHJlbigpWzBdKSxvLmF1dG9mb2N1cyYmUy5vcGVuKCksUy50cmlnZ2VyKFwic3RhcnRcIikudHJpZ2dlcihcInJlbmRlclwiKSl9LHJlbmRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdD9TLiRyb290Lmh0bWwoaCgpKTpTLiRyb290LmZpbmQoXCIuXCIrdy5ib3gpLmh0bWwoUy5jb21wb25lbnQubm9kZXMoXy5vcGVuKSksUy50cmlnZ2VyKFwicmVuZGVyXCIpfSxzdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIF8uc3RhcnQ/KFMuY2xvc2UoKSxTLl9oaWRkZW4mJlMuX2hpZGRlbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKFMuX2hpZGRlbiksUy4kcm9vdC5yZW1vdmUoKSxDLnJlbW92ZUNsYXNzKHcuaW5wdXQpLnJlbW92ZURhdGEocyksc2V0VGltZW91dChmdW5jdGlvbigpe0Mub2ZmKFwiLlwiK18uaWQpfSwwKSxvLnR5cGU9Xy50eXBlLG8ucmVhZE9ubHk9ITEsUy50cmlnZ2VyKFwic3RvcFwiKSxfLm1ldGhvZHM9e30sXy5zdGFydD0hMSxTKTpTfSxvcGVuOmZ1bmN0aW9uKG4pe3JldHVybiBfLm9wZW4/UzooQy5hZGRDbGFzcyh3LmFjdGl2ZSksaShvLFwiZXhwYW5kZWRcIiwhMCksc2V0VGltZW91dChmdW5jdGlvbigpe1MuJHJvb3QuYWRkQ2xhc3Mody5vcGVuZWQpLGkoUy4kcm9vdFswXSxcImhpZGRlblwiLCExKX0sMCksbiE9PSExJiYoXy5vcGVuPSEwLGcmJmwuY3NzKFwib3ZlcmZsb3dcIixcImhpZGRlblwiKS5jc3MoXCJwYWRkaW5nLXJpZ2h0XCIsXCIrPVwiK3IoKSksUy4kcm9vdC5lcSgwKS5mb2N1cygpLGMub24oXCJjbGljay5cIitfLmlkK1wiIGZvY3VzaW4uXCIrXy5pZCxmdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldDtlIT1vJiZlIT1kb2N1bWVudCYmMyE9dC53aGljaCYmUy5jbG9zZShlPT09Uy4kcm9vdC5jaGlsZHJlbigpWzBdKX0pLm9uKFwia2V5ZG93bi5cIitfLmlkLGZ1bmN0aW9uKG4pe3ZhciByPW4ua2V5Q29kZSxpPVMuY29tcG9uZW50LmtleVtyXSxvPW4udGFyZ2V0OzI3PT1yP1MuY2xvc2UoITApOm8hPVMuJHJvb3RbMF18fCFpJiYxMyE9cj90LmNvbnRhaW5zKFMuJHJvb3RbMF0sbykmJjEzPT1yJiYobi5wcmV2ZW50RGVmYXVsdCgpLG8uY2xpY2soKSk6KG4ucHJldmVudERlZmF1bHQoKSxpP2UuXy50cmlnZ2VyKFMuY29tcG9uZW50LmtleS5nbyxTLFtlLl8udHJpZ2dlcihpKV0pOlMuJHJvb3QuZmluZChcIi5cIit3LmhpZ2hsaWdodGVkKS5oYXNDbGFzcyh3LmRpc2FibGVkKXx8Uy5zZXQoXCJzZWxlY3RcIixTLmNvbXBvbmVudC5pdGVtLmhpZ2hsaWdodCkuY2xvc2UoKSl9KSksUy50cmlnZ2VyKFwib3BlblwiKSl9LGNsb3NlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiYoUy4kcm9vdC5vZmYoXCJmb2N1cy50b09wZW5cIikuZXEoMCkuZm9jdXMoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Uy4kcm9vdC5vbihcImZvY3VzLnRvT3BlblwiLHYpfSwwKSksQy5yZW1vdmVDbGFzcyh3LmFjdGl2ZSksaShvLFwiZXhwYW5kZWRcIiwhMSksc2V0VGltZW91dChmdW5jdGlvbigpe1MuJHJvb3QucmVtb3ZlQ2xhc3Mody5vcGVuZWQrXCIgXCIrdy5mb2N1c2VkKSxpKFMuJHJvb3RbMF0sXCJoaWRkZW5cIiwhMCl9LDApLF8ub3Blbj8oXy5vcGVuPSExLGcmJmwuY3NzKFwib3ZlcmZsb3dcIixcIlwiKS5jc3MoXCJwYWRkaW5nLXJpZ2h0XCIsXCItPVwiK3IoKSksYy5vZmYoXCIuXCIrXy5pZCksUy50cmlnZ2VyKFwiY2xvc2VcIikpOlN9LGNsZWFyOmZ1bmN0aW9uKHQpe3JldHVybiBTLnNldChcImNsZWFyXCIsbnVsbCx0KX0sc2V0OmZ1bmN0aW9uKGUsbixyKXt2YXIgaSxvLHM9dC5pc1BsYWluT2JqZWN0KGUpLGE9cz9lOnt9O2lmKHI9cyYmdC5pc1BsYWluT2JqZWN0KG4pP246cnx8e30sZSl7c3x8KGFbZV09bik7Zm9yKGkgaW4gYSlvPWFbaV0saSBpbiBTLmNvbXBvbmVudC5pdGVtJiYodm9pZCAwPT09byYmKG89bnVsbCksUy5jb21wb25lbnQuc2V0KGksbyxyKSksXCJzZWxlY3RcIiE9aSYmXCJjbGVhclwiIT1pfHxDLnZhbChcImNsZWFyXCI9PWk/XCJcIjpTLmdldChpLGIuZm9ybWF0KSkudHJpZ2dlcihcImNoYW5nZVwiKTtTLnJlbmRlcigpfXJldHVybiByLm11dGVkP1M6Uy50cmlnZ2VyKFwic2V0XCIsYSl9LGdldDpmdW5jdGlvbih0LG4pe2lmKHQ9dHx8XCJ2YWx1ZVwiLG51bGwhPV9bdF0pcmV0dXJuIF9bdF07aWYoXCJ2YWx1ZVN1Ym1pdFwiPT10KXtpZihTLl9oaWRkZW4pcmV0dXJuIFMuX2hpZGRlbi52YWx1ZTt0PVwidmFsdWVcIn1pZihcInZhbHVlXCI9PXQpcmV0dXJuIG8udmFsdWU7aWYodCBpbiBTLmNvbXBvbmVudC5pdGVtKXtpZihcInN0cmluZ1wiPT10eXBlb2Ygbil7dmFyIHI9Uy5jb21wb25lbnQuZ2V0KHQpO3JldHVybiByP2UuXy50cmlnZ2VyKFMuY29tcG9uZW50LmZvcm1hdHMudG9TdHJpbmcsUy5jb21wb25lbnQsW24scl0pOlwiXCJ9cmV0dXJuIFMuY29tcG9uZW50LmdldCh0KX19LG9uOmZ1bmN0aW9uKGUsbixyKXt2YXIgaSxvLHM9dC5pc1BsYWluT2JqZWN0KGUpLGE9cz9lOnt9O2lmKGUpe3N8fChhW2VdPW4pO2ZvcihpIGluIGEpbz1hW2ldLHImJihpPVwiX1wiK2kpLF8ubWV0aG9kc1tpXT1fLm1ldGhvZHNbaV18fFtdLF8ubWV0aG9kc1tpXS5wdXNoKG8pfXJldHVybiBTfSxvZmY6ZnVuY3Rpb24oKXt2YXIgdCxlLG49YXJndW1lbnRzO2Zvcih0PTAsbmFtZXNDb3VudD1uLmxlbmd0aDt0PG5hbWVzQ291bnQ7dCs9MSllPW5bdF0sZSBpbiBfLm1ldGhvZHMmJmRlbGV0ZSBfLm1ldGhvZHNbZV07cmV0dXJuIFN9LHRyaWdnZXI6ZnVuY3Rpb24odCxuKXt2YXIgcj1mdW5jdGlvbih0KXt2YXIgcj1fLm1ldGhvZHNbdF07ciYmci5tYXAoZnVuY3Rpb24odCl7ZS5fLnRyaWdnZXIodCxTLFtuXSl9KX07cmV0dXJuIHIoXCJfXCIrdCkscih0KSxTfX07cmV0dXJuIG5ldyBFfWZ1bmN0aW9uIG4odCl7dmFyIGUsbj1cInBvc2l0aW9uXCI7cmV0dXJuIHQuY3VycmVudFN0eWxlP2U9dC5jdXJyZW50U3R5bGVbbl06d2luZG93LmdldENvbXB1dGVkU3R5bGUmJihlPWdldENvbXB1dGVkU3R5bGUodClbbl0pLFwiZml4ZWRcIj09ZX1mdW5jdGlvbiByKCl7aWYobC5oZWlnaHQoKTw9dS5oZWlnaHQoKSlyZXR1cm4gMDt2YXIgZT10KCc8ZGl2IHN0eWxlPVwidmlzaWJpbGl0eTpoaWRkZW47d2lkdGg6MTAwcHhcIiAvPicpLmFwcGVuZFRvKFwiYm9keVwiKSxuPWVbMF0ub2Zmc2V0V2lkdGg7ZS5jc3MoXCJvdmVyZmxvd1wiLFwic2Nyb2xsXCIpO3ZhciByPXQoJzxkaXYgc3R5bGU9XCJ3aWR0aDoxMDAlXCIgLz4nKS5hcHBlbmRUbyhlKSxpPXJbMF0ub2Zmc2V0V2lkdGg7cmV0dXJuIGUucmVtb3ZlKCksbi1pfWZ1bmN0aW9uIGkoZSxuLHIpe2lmKHQuaXNQbGFpbk9iamVjdChuKSlmb3IodmFyIGkgaW4gbilvKGUsaSxuW2ldKTtlbHNlIG8oZSxuLHIpfWZ1bmN0aW9uIG8odCxlLG4pe3Quc2V0QXR0cmlidXRlKChcInJvbGVcIj09ZT9cIlwiOlwiYXJpYS1cIikrZSxuKX1mdW5jdGlvbiBzKGUsbil7dC5pc1BsYWluT2JqZWN0KGUpfHwoZT17YXR0cmlidXRlOm59KSxuPVwiXCI7Zm9yKHZhciByIGluIGUpe3ZhciBpPShcInJvbGVcIj09cj9cIlwiOlwiYXJpYS1cIikrcixvPWVbcl07bis9bnVsbD09bz9cIlwiOmkrJz1cIicrZVtyXSsnXCInfXJldHVybiBufWZ1bmN0aW9uIGEoKXt0cnl7cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9Y2F0Y2godCl7fX12YXIgdT10KHdpbmRvdyksYz10KGRvY3VtZW50KSxsPXQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtyZXR1cm4gZS5rbGFzc2VzPWZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fFwicGlja2VyXCIse3BpY2tlcjp0LG9wZW5lZDp0K1wiLS1vcGVuZWRcIixmb2N1c2VkOnQrXCItLWZvY3VzZWRcIixpbnB1dDp0K1wiX19pbnB1dFwiLGFjdGl2ZTp0K1wiX19pbnB1dC0tYWN0aXZlXCIsdGFyZ2V0OnQrXCJfX2lucHV0LS10YXJnZXRcIixob2xkZXI6dCtcIl9faG9sZGVyXCIsZnJhbWU6dCtcIl9fZnJhbWVcIix3cmFwOnQrXCJfX3dyYXBcIixib3g6dCtcIl9fYm94XCJ9fSxlLl89e2dyb3VwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbixyPVwiXCIsaT1lLl8udHJpZ2dlcih0Lm1pbix0KTtpPD1lLl8udHJpZ2dlcih0Lm1heCx0LFtpXSk7aSs9dC5pKW49ZS5fLnRyaWdnZXIodC5pdGVtLHQsW2ldKSxyKz1lLl8ubm9kZSh0Lm5vZGUsblswXSxuWzFdLG5bMl0pO3JldHVybiByfSxub2RlOmZ1bmN0aW9uKGUsbixyLGkpe3JldHVybiBuPyhuPXQuaXNBcnJheShuKT9uLmpvaW4oXCJcIik6bixyPXI/JyBjbGFzcz1cIicrcisnXCInOlwiXCIsaT1pP1wiIFwiK2k6XCJcIixcIjxcIitlK3IraStcIj5cIituK1wiPC9cIitlK1wiPlwiKTpcIlwifSxsZWFkOmZ1bmN0aW9uKHQpe3JldHVybih0PDEwP1wiMFwiOlwiXCIpK3R9LHRyaWdnZXI6ZnVuY3Rpb24odCxlLG4pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dC5hcHBseShlLG58fFtdKTp0fSxkaWdpdHM6ZnVuY3Rpb24odCl7cmV0dXJuL1xcZC8udGVzdCh0WzFdKT8yOjF9LGlzRGF0ZTpmdW5jdGlvbih0KXtyZXR1cm57fS50b1N0cmluZy5jYWxsKHQpLmluZGV4T2YoXCJEYXRlXCIpPi0xJiZ0aGlzLmlzSW50ZWdlcih0LmdldERhdGUoKSl9LGlzSW50ZWdlcjpmdW5jdGlvbih0KXtyZXR1cm57fS50b1N0cmluZy5jYWxsKHQpLmluZGV4T2YoXCJOdW1iZXJcIik+LTEmJnQlMT09PTB9LGFyaWFBdHRyOnN9LGUuZXh0ZW5kPWZ1bmN0aW9uKG4scil7dC5mbltuXT1mdW5jdGlvbihpLG8pe3ZhciBzPXRoaXMuZGF0YShuKTtyZXR1cm5cInBpY2tlclwiPT1pP3M6cyYmXCJzdHJpbmdcIj09dHlwZW9mIGk/ZS5fLnRyaWdnZXIoc1tpXSxzLFtvXSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG89dCh0aGlzKTtvLmRhdGEobil8fG5ldyBlKHRoaXMsbixyLGkpfSl9LHQuZm5bbl0uZGVmYXVsdHM9ci5kZWZhdWx0c30sZX0pLGZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wicGlja2VyXCIsXCJqcXVlcnlcIl0sdCk6XCJvYmplY3RcIj09dHlwZW9mIG4/ci5leHBvcnRzPXQoZShcIi4vcGlja2VyLmpzXCIpLGUoXCJqcXVlcnlcIikpOnQoUGlja2VyLGkpfShmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXt2YXIgbj10aGlzLHI9dC4kbm9kZVswXSxpPXIudmFsdWUsbz10LiRub2RlLmRhdGEoXCJ2YWx1ZVwiKSxzPW98fGksYT1vP2UuZm9ybWF0U3VibWl0OmUuZm9ybWF0LHU9ZnVuY3Rpb24oKXtyZXR1cm4gci5jdXJyZW50U3R5bGU/XCJydGxcIj09ci5jdXJyZW50U3R5bGUuZGlyZWN0aW9uOlwicnRsXCI9PWdldENvbXB1dGVkU3R5bGUodC4kcm9vdFswXSkuZGlyZWN0aW9ufTtuLnNldHRpbmdzPWUsbi4kbm9kZT10LiRub2RlLG4ucXVldWU9e21pbjpcIm1lYXN1cmUgY3JlYXRlXCIsbWF4OlwibWVhc3VyZSBjcmVhdGVcIixub3c6XCJub3cgY3JlYXRlXCIsc2VsZWN0OlwicGFyc2UgY3JlYXRlIHZhbGlkYXRlXCIsaGlnaGxpZ2h0OlwicGFyc2UgbmF2aWdhdGUgY3JlYXRlIHZhbGlkYXRlXCIsdmlldzpcInBhcnNlIGNyZWF0ZSB2YWxpZGF0ZSB2aWV3c2V0XCIsXG5kaXNhYmxlOlwiZGVhY3RpdmF0ZVwiLGVuYWJsZTpcImFjdGl2YXRlXCJ9LG4uaXRlbT17fSxuLml0ZW0uY2xlYXI9bnVsbCxuLml0ZW0uZGlzYWJsZT0oZS5kaXNhYmxlfHxbXSkuc2xpY2UoMCksbi5pdGVtLmVuYWJsZT0tZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09PT0hMD90LnNoaWZ0KCk6LTF9KG4uaXRlbS5kaXNhYmxlKSxuLnNldChcIm1pblwiLGUubWluKS5zZXQoXCJtYXhcIixlLm1heCkuc2V0KFwibm93XCIpLHM/bi5zZXQoXCJzZWxlY3RcIixzLHtmb3JtYXQ6YX0pOm4uc2V0KFwic2VsZWN0XCIsbnVsbCkuc2V0KFwiaGlnaGxpZ2h0XCIsbi5pdGVtLm5vdyksbi5rZXk9ezQwOjcsMzg6LTcsMzk6ZnVuY3Rpb24oKXtyZXR1cm4gdSgpPy0xOjF9LDM3OmZ1bmN0aW9uKCl7cmV0dXJuIHUoKT8xOi0xfSxnbzpmdW5jdGlvbih0KXt2YXIgZT1uLml0ZW0uaGlnaGxpZ2h0LHI9bmV3IERhdGUoZS55ZWFyLGUubW9udGgsZS5kYXRlK3QpO24uc2V0KFwiaGlnaGxpZ2h0XCIscix7aW50ZXJ2YWw6dH0pLHRoaXMucmVuZGVyKCl9fSx0Lm9uKFwicmVuZGVyXCIsZnVuY3Rpb24oKXt0LiRyb290LmZpbmQoXCIuXCIrZS5rbGFzcy5zZWxlY3RNb250aCkub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBuPXRoaXMudmFsdWU7biYmKHQuc2V0KFwiaGlnaGxpZ2h0XCIsW3QuZ2V0KFwidmlld1wiKS55ZWFyLG4sdC5nZXQoXCJoaWdobGlnaHRcIikuZGF0ZV0pLHQuJHJvb3QuZmluZChcIi5cIitlLmtsYXNzLnNlbGVjdE1vbnRoKS50cmlnZ2VyKFwiZm9jdXNcIikpfSksdC4kcm9vdC5maW5kKFwiLlwiK2Uua2xhc3Muc2VsZWN0WWVhcikub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBuPXRoaXMudmFsdWU7biYmKHQuc2V0KFwiaGlnaGxpZ2h0XCIsW24sdC5nZXQoXCJ2aWV3XCIpLm1vbnRoLHQuZ2V0KFwiaGlnaGxpZ2h0XCIpLmRhdGVdKSx0LiRyb290LmZpbmQoXCIuXCIrZS5rbGFzcy5zZWxlY3RZZWFyKS50cmlnZ2VyKFwiZm9jdXNcIikpfSl9LDEpLm9uKFwib3BlblwiLGZ1bmN0aW9uKCl7dmFyIHI9XCJcIjtuLmRpc2FibGVkKG4uZ2V0KFwibm93XCIpKSYmKHI9XCI6bm90KC5cIitlLmtsYXNzLmJ1dHRvblRvZGF5K1wiKVwiKSx0LiRyb290LmZpbmQoXCJidXR0b25cIityK1wiLCBzZWxlY3RcIikuYXR0cihcImRpc2FibGVkXCIsITEpfSwxKS5vbihcImNsb3NlXCIsZnVuY3Rpb24oKXt0LiRyb290LmZpbmQoXCJidXR0b24sIHNlbGVjdFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwhMCl9LDEpfXZhciByPTcsaT02LG89dC5fO24ucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxpPXIuaXRlbTtyZXR1cm4gbnVsbD09PWU/KFwiY2xlYXJcIj09dCYmKHQ9XCJzZWxlY3RcIiksaVt0XT1lLHIpOihpW1wiZW5hYmxlXCI9PXQ/XCJkaXNhYmxlXCI6XCJmbGlwXCI9PXQ/XCJlbmFibGVcIjp0XT1yLnF1ZXVlW3RdLnNwbGl0KFwiIFwiKS5tYXAoZnVuY3Rpb24oaSl7cmV0dXJuIGU9cltpXSh0LGUsbil9KS5wb3AoKSxcInNlbGVjdFwiPT10P3Iuc2V0KFwiaGlnaGxpZ2h0XCIsaS5zZWxlY3Qsbik6XCJoaWdobGlnaHRcIj09dD9yLnNldChcInZpZXdcIixpLmhpZ2hsaWdodCxuKTp0Lm1hdGNoKC9eKGZsaXB8bWlufG1heHxkaXNhYmxlfGVuYWJsZSkkLykmJihpLnNlbGVjdCYmci5kaXNhYmxlZChpLnNlbGVjdCkmJnIuc2V0KFwic2VsZWN0XCIsaS5zZWxlY3QsbiksaS5oaWdobGlnaHQmJnIuZGlzYWJsZWQoaS5oaWdobGlnaHQpJiZyLnNldChcImhpZ2hsaWdodFwiLGkuaGlnaGxpZ2h0LG4pKSxyKX0sbi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLml0ZW1bdF19LG4ucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0LG4scil7dmFyIGkscz10aGlzO3JldHVybiBuPXZvaWQgMD09PW4/dDpuLG49PS0oMS8wKXx8bj09MS8wP2k9bjplLmlzUGxhaW5PYmplY3QobikmJm8uaXNJbnRlZ2VyKG4ucGljayk/bj1uLm9iajplLmlzQXJyYXkobik/KG49bmV3IERhdGUoblswXSxuWzFdLG5bMl0pLG49by5pc0RhdGUobik/bjpzLmNyZWF0ZSgpLm9iaik6bj1vLmlzSW50ZWdlcihuKXx8by5pc0RhdGUobik/cy5ub3JtYWxpemUobmV3IERhdGUobikscik6cy5ub3codCxuLHIpLHt5ZWFyOml8fG4uZ2V0RnVsbFllYXIoKSxtb250aDppfHxuLmdldE1vbnRoKCksZGF0ZTppfHxuLmdldERhdGUoKSxkYXk6aXx8bi5nZXREYXkoKSxvYmo6aXx8bixwaWNrOml8fG4uZ2V0VGltZSgpfX0sbi5wcm90b3R5cGUuY3JlYXRlUmFuZ2U9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLGk9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0hMHx8ZS5pc0FycmF5KHQpfHxvLmlzRGF0ZSh0KT9yLmNyZWF0ZSh0KTp0fTtyZXR1cm4gby5pc0ludGVnZXIodCl8fCh0PWkodCkpLG8uaXNJbnRlZ2VyKG4pfHwobj1pKG4pKSxvLmlzSW50ZWdlcih0KSYmZS5pc1BsYWluT2JqZWN0KG4pP3Q9W24ueWVhcixuLm1vbnRoLG4uZGF0ZSt0XTpvLmlzSW50ZWdlcihuKSYmZS5pc1BsYWluT2JqZWN0KHQpJiYobj1bdC55ZWFyLHQubW9udGgsdC5kYXRlK25dKSx7ZnJvbTppKHQpLHRvOmkobil9fSxuLnByb3RvdHlwZS53aXRoaW5SYW5nZT1mdW5jdGlvbih0LGUpe3JldHVybiB0PXRoaXMuY3JlYXRlUmFuZ2UodC5mcm9tLHQudG8pLGUucGljaz49dC5mcm9tLnBpY2smJmUucGljazw9dC50by5waWNrfSxuLnByb3RvdHlwZS5vdmVybGFwUmFuZ2VzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdD1uLmNyZWF0ZVJhbmdlKHQuZnJvbSx0LnRvKSxlPW4uY3JlYXRlUmFuZ2UoZS5mcm9tLGUudG8pLG4ud2l0aGluUmFuZ2UodCxlLmZyb20pfHxuLndpdGhpblJhbmdlKHQsZS50byl8fG4ud2l0aGluUmFuZ2UoZSx0LmZyb20pfHxuLndpdGhpblJhbmdlKGUsdC50byl9LG4ucHJvdG90eXBlLm5vdz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGU9bmV3IERhdGUsbiYmbi5yZWwmJmUuc2V0RGF0ZShlLmdldERhdGUoKStuLnJlbCksdGhpcy5ub3JtYWxpemUoZSxuKX0sbi5wcm90b3R5cGUubmF2aWdhdGU9ZnVuY3Rpb24odCxuLHIpe3ZhciBpLG8scyxhLHU9ZS5pc0FycmF5KG4pLGM9ZS5pc1BsYWluT2JqZWN0KG4pLGw9dGhpcy5pdGVtLnZpZXc7aWYodXx8Yyl7Zm9yKGM/KG89bi55ZWFyLHM9bi5tb250aCxhPW4uZGF0ZSk6KG89K25bMF0scz0rblsxXSxhPStuWzJdKSxyJiZyLm5hdiYmbCYmbC5tb250aCE9PXMmJihvPWwueWVhcixzPWwubW9udGgpLGk9bmV3IERhdGUobyxzKyhyJiZyLm5hdj9yLm5hdjowKSwxKSxvPWkuZ2V0RnVsbFllYXIoKSxzPWkuZ2V0TW9udGgoKTtuZXcgRGF0ZShvLHMsYSkuZ2V0TW9udGgoKSE9PXM7KWEtPTE7bj1bbyxzLGFdfXJldHVybiBufSxuLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2V0SG91cnMoMCwwLDAsMCksdH0sbi5wcm90b3R5cGUubWVhc3VyZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGU/XCJzdHJpbmdcIj09dHlwZW9mIGU/ZT1uLnBhcnNlKHQsZSk6by5pc0ludGVnZXIoZSkmJihlPW4ubm93KHQsZSx7cmVsOmV9KSk6ZT1cIm1pblwiPT10Py0oMS8wKToxLzAsZX0sbi5wcm90b3R5cGUudmlld3NldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNyZWF0ZShbZS55ZWFyLGUubW9udGgsMV0pfSxuLnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbih0LG4scil7dmFyIGkscyxhLHUsYz10aGlzLGw9bixwPXImJnIuaW50ZXJ2YWw/ci5pbnRlcnZhbDoxLGg9Yy5pdGVtLmVuYWJsZT09PS0xLGY9Yy5pdGVtLm1pbixkPWMuaXRlbS5tYXgseT1oJiZjLml0ZW0uZGlzYWJsZS5maWx0ZXIoZnVuY3Rpb24odCl7aWYoZS5pc0FycmF5KHQpKXt2YXIgcj1jLmNyZWF0ZSh0KS5waWNrO3I8bi5waWNrP2k9ITA6cj5uLnBpY2smJihzPSEwKX1yZXR1cm4gby5pc0ludGVnZXIodCl9KS5sZW5ndGg7aWYoKCFyfHwhci5uYXYpJiYoIWgmJmMuZGlzYWJsZWQobil8fGgmJmMuZGlzYWJsZWQobikmJih5fHxpfHxzKXx8IWgmJihuLnBpY2s8PWYucGlja3x8bi5waWNrPj1kLnBpY2spKSlmb3IoaCYmIXkmJighcyYmcD4wfHwhaSYmcDwwKSYmKHAqPS0xKTtjLmRpc2FibGVkKG4pJiYoTWF0aC5hYnMocCk+MSYmKG4ubW9udGg8bC5tb250aHx8bi5tb250aD5sLm1vbnRoKSYmKG49bCxwPXA+MD8xOi0xKSxuLnBpY2s8PWYucGljaz8oYT0hMCxwPTEsbj1jLmNyZWF0ZShbZi55ZWFyLGYubW9udGgsZi5kYXRlKyhuLnBpY2s9PT1mLnBpY2s/MDotMSldKSk6bi5waWNrPj1kLnBpY2smJih1PSEwLHA9LTEsbj1jLmNyZWF0ZShbZC55ZWFyLGQubW9udGgsZC5kYXRlKyhuLnBpY2s9PT1kLnBpY2s/MDoxKV0pKSwhYXx8IXUpOyluPWMuY3JlYXRlKFtuLnllYXIsbi5tb250aCxuLmRhdGUrcF0pO3JldHVybiBufSxuLnByb3RvdHlwZS5kaXNhYmxlZD1mdW5jdGlvbih0KXt2YXIgbj10aGlzLHI9bi5pdGVtLmRpc2FibGUuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBvLmlzSW50ZWdlcihyKT90LmRheT09PShuLnNldHRpbmdzLmZpcnN0RGF5P3I6ci0xKSU3OmUuaXNBcnJheShyKXx8by5pc0RhdGUocik/dC5waWNrPT09bi5jcmVhdGUocikucGljazplLmlzUGxhaW5PYmplY3Qocik/bi53aXRoaW5SYW5nZShyLHQpOnZvaWQgMH0pO3JldHVybiByPXIubGVuZ3RoJiYhci5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNBcnJheSh0KSYmXCJpbnZlcnRlZFwiPT10WzNdfHxlLmlzUGxhaW5PYmplY3QodCkmJnQuaW52ZXJ0ZWR9KS5sZW5ndGgsbi5pdGVtLmVuYWJsZT09PS0xPyFyOnJ8fHQucGljazxuLml0ZW0ubWluLnBpY2t8fHQucGljaz5uLml0ZW0ubWF4LnBpY2t9LG4ucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLGk9e307cmV0dXJuIGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlPyhuJiZuLmZvcm1hdHx8KG49bnx8e30sbi5mb3JtYXQ9ci5zZXR0aW5ncy5mb3JtYXQpLHIuZm9ybWF0cy50b0FycmF5KG4uZm9ybWF0KS5tYXAoZnVuY3Rpb24odCl7dmFyIG49ci5mb3JtYXRzW3RdLHM9bj9vLnRyaWdnZXIobixyLFtlLGldKTp0LnJlcGxhY2UoL14hLyxcIlwiKS5sZW5ndGg7biYmKGlbdF09ZS5zdWJzdHIoMCxzKSksZT1lLnN1YnN0cihzKX0pLFtpLnl5eXl8fGkueXksKyhpLm1tfHxpLm0pLTEsaS5kZHx8aS5kXSk6ZX0sbi5wcm90b3R5cGUuZm9ybWF0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3ZhciByPXQubWF0Y2goL1xcdysvKVswXTtyZXR1cm4gbi5tbXx8bi5tfHwobi5tPWUuaW5kZXhPZihyKSsxKSxyLmxlbmd0aH1mdW5jdGlvbiBlKHQpe3JldHVybiB0Lm1hdGNoKC9cXHcrLylbMF0ubGVuZ3RofXJldHVybntkOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ/by5kaWdpdHModCk6ZS5kYXRlfSxkZDpmdW5jdGlvbih0LGUpe3JldHVybiB0PzI6by5sZWFkKGUuZGF0ZSl9LGRkZDpmdW5jdGlvbih0LG4pe3JldHVybiB0P2UodCk6dGhpcy5zZXR0aW5ncy53ZWVrZGF5c1Nob3J0W24uZGF5XX0sZGRkZDpmdW5jdGlvbih0LG4pe3JldHVybiB0P2UodCk6dGhpcy5zZXR0aW5ncy53ZWVrZGF5c0Z1bGxbbi5kYXldfSxtOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ/by5kaWdpdHModCk6ZS5tb250aCsxfSxtbTpmdW5jdGlvbih0LGUpe3JldHVybiB0PzI6by5sZWFkKGUubW9udGgrMSl9LG1tbTpmdW5jdGlvbihlLG4pe3ZhciByPXRoaXMuc2V0dGluZ3MubW9udGhzU2hvcnQ7cmV0dXJuIGU/dChlLHIsbik6cltuLm1vbnRoXX0sbW1tbTpmdW5jdGlvbihlLG4pe3ZhciByPXRoaXMuc2V0dGluZ3MubW9udGhzRnVsbDtyZXR1cm4gZT90KGUscixuKTpyW24ubW9udGhdfSx5eTpmdW5jdGlvbih0LGUpe3JldHVybiB0PzI6KFwiXCIrZS55ZWFyKS5zbGljZSgyKX0seXl5eTpmdW5jdGlvbih0LGUpe3JldHVybiB0PzQ6ZS55ZWFyfSx0b0FycmF5OmZ1bmN0aW9uKHQpe3JldHVybiB0LnNwbGl0KC8oZHsxLDR9fG17MSw0fXx5ezR9fHl5fCEuKS9nKX0sdG9TdHJpbmc6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBuLmZvcm1hdHMudG9BcnJheSh0KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG8udHJpZ2dlcihuLmZvcm1hdHNbdF0sbixbMCxlXSl8fHQucmVwbGFjZSgvXiEvLFwiXCIpfSkuam9pbihcIlwiKX19fSgpLG4ucHJvdG90eXBlLmlzRGF0ZUV4YWN0PWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpcztyZXR1cm4gby5pc0ludGVnZXIodCkmJm8uaXNJbnRlZ2VyKG4pfHxcImJvb2xlYW5cIj09dHlwZW9mIHQmJlwiYm9vbGVhblwiPT10eXBlb2Ygbj90PT09bjooby5pc0RhdGUodCl8fGUuaXNBcnJheSh0KSkmJihvLmlzRGF0ZShuKXx8ZS5pc0FycmF5KG4pKT9yLmNyZWF0ZSh0KS5waWNrPT09ci5jcmVhdGUobikucGljazohKCFlLmlzUGxhaW5PYmplY3QodCl8fCFlLmlzUGxhaW5PYmplY3QobikpJiYoci5pc0RhdGVFeGFjdCh0LmZyb20sbi5mcm9tKSYmci5pc0RhdGVFeGFjdCh0LnRvLG4udG8pKX0sbi5wcm90b3R5cGUuaXNEYXRlT3ZlcmxhcD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMsaT1yLnNldHRpbmdzLmZpcnN0RGF5PzE6MDtyZXR1cm4gby5pc0ludGVnZXIodCkmJihvLmlzRGF0ZShuKXx8ZS5pc0FycmF5KG4pKT8odD10JTcraSx0PT09ci5jcmVhdGUobikuZGF5KzEpOm8uaXNJbnRlZ2VyKG4pJiYoby5pc0RhdGUodCl8fGUuaXNBcnJheSh0KSk/KG49biU3K2ksbj09PXIuY3JlYXRlKHQpLmRheSsxKTohKCFlLmlzUGxhaW5PYmplY3QodCl8fCFlLmlzUGxhaW5PYmplY3QobikpJiZyLm92ZXJsYXBSYW5nZXModCxuKX0sbi5wcm90b3R5cGUuZmxpcEVuYWJsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLml0ZW07ZS5lbmFibGU9dHx8KGUuZW5hYmxlPT0tMT8xOi0xKX0sbi5wcm90b3R5cGUuZGVhY3RpdmF0ZT1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMsaT1yLml0ZW0uZGlzYWJsZS5zbGljZSgwKTtyZXR1cm5cImZsaXBcIj09bj9yLmZsaXBFbmFibGUoKTpuPT09ITE/KHIuZmxpcEVuYWJsZSgxKSxpPVtdKTpuPT09ITA/KHIuZmxpcEVuYWJsZSgtMSksaT1bXSk6bi5tYXAoZnVuY3Rpb24odCl7Zm9yKHZhciBuLHM9MDtzPGkubGVuZ3RoO3MrPTEpaWYoci5pc0RhdGVFeGFjdCh0LGlbc10pKXtuPSEwO2JyZWFrfW58fChvLmlzSW50ZWdlcih0KXx8by5pc0RhdGUodCl8fGUuaXNBcnJheSh0KXx8ZS5pc1BsYWluT2JqZWN0KHQpJiZ0LmZyb20mJnQudG8pJiZpLnB1c2godCl9KSxpfSxuLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMsaT1yLml0ZW0uZGlzYWJsZSxzPWkubGVuZ3RoO3JldHVyblwiZmxpcFwiPT1uP3IuZmxpcEVuYWJsZSgpOm49PT0hMD8oci5mbGlwRW5hYmxlKDEpLGk9W10pOm49PT0hMT8oci5mbGlwRW5hYmxlKC0xKSxpPVtdKTpuLm1hcChmdW5jdGlvbih0KXt2YXIgbixhLHUsYztmb3IodT0wO3U8czt1Kz0xKXtpZihhPWlbdV0sci5pc0RhdGVFeGFjdChhLHQpKXtuPWlbdV09bnVsbCxjPSEwO2JyZWFrfWlmKHIuaXNEYXRlT3ZlcmxhcChhLHQpKXtlLmlzUGxhaW5PYmplY3QodCk/KHQuaW52ZXJ0ZWQ9ITAsbj10KTplLmlzQXJyYXkodCk/KG49dCxuWzNdfHxuLnB1c2goXCJpbnZlcnRlZFwiKSk6by5pc0RhdGUodCkmJihuPVt0LmdldEZ1bGxZZWFyKCksdC5nZXRNb250aCgpLHQuZ2V0RGF0ZSgpLFwiaW52ZXJ0ZWRcIl0pO2JyZWFrfX1pZihuKWZvcih1PTA7dTxzO3UrPTEpaWYoci5pc0RhdGVFeGFjdChpW3VdLHQpKXtpW3VdPW51bGw7YnJlYWt9aWYoYylmb3IodT0wO3U8czt1Kz0xKWlmKHIuaXNEYXRlT3ZlcmxhcChpW3VdLHQpKXtpW3VdPW51bGw7YnJlYWt9biYmaS5wdXNoKG4pfSksaS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXR9KX0sbi5wcm90b3R5cGUubm9kZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWUuc2V0dGluZ3Mscz1lLml0ZW0sYT1zLm5vdyx1PXMuc2VsZWN0LGM9cy5oaWdobGlnaHQsbD1zLnZpZXcscD1zLmRpc2FibGUsaD1zLm1pbixmPXMubWF4LGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5maXJzdERheSYmKHQucHVzaCh0LnNoaWZ0KCkpLGUucHVzaChlLnNoaWZ0KCkpKSxvLm5vZGUoXCJ0aGVhZFwiLG8ubm9kZShcInRyXCIsby5ncm91cCh7bWluOjAsbWF4OnItMSxpOjEsbm9kZTpcInRoXCIsaXRlbTpmdW5jdGlvbihyKXtyZXR1cm5bdFtyXSxuLmtsYXNzLndlZWtkYXlzLCdzY29wZT1jb2wgdGl0bGU9XCInK2Vbcl0rJ1wiJ119fSkpKX0oKG4uc2hvd1dlZWtkYXlzRnVsbD9uLndlZWtkYXlzRnVsbDpuLndlZWtkYXlzTGV0dGVyKS5zbGljZSgwKSxuLndlZWtkYXlzRnVsbC5zbGljZSgwKSkseT1mdW5jdGlvbih0KXtyZXR1cm4gby5ub2RlKFwiZGl2XCIsXCIgXCIsbi5rbGFzc1tcIm5hdlwiKyh0P1wiTmV4dFwiOlwiUHJldlwiKV0rKHQmJmwueWVhcj49Zi55ZWFyJiZsLm1vbnRoPj1mLm1vbnRofHwhdCYmbC55ZWFyPD1oLnllYXImJmwubW9udGg8PWgubW9udGg/XCIgXCIrbi5rbGFzcy5uYXZEaXNhYmxlZDpcIlwiKSxcImRhdGEtbmF2PVwiKyh0fHwtMSkrXCIgXCIrby5hcmlhQXR0cih7cm9sZTpcImJ1dHRvblwiLGNvbnRyb2xzOmUuJG5vZGVbMF0uaWQrXCJfdGFibGVcIn0pKycgdGl0bGU9XCInKyh0P24ubGFiZWxNb250aE5leHQ6bi5sYWJlbE1vbnRoUHJldikrJ1wiJyl9LG09ZnVuY3Rpb24ocil7dmFyIGk9bi5zaG93TW9udGhzU2hvcnQ/bi5tb250aHNTaG9ydDpuLm1vbnRoc0Z1bGw7cmV0dXJuXCJzaG9ydF9tb250aHNcIj09ciYmKGk9bi5tb250aHNTaG9ydCksbi5zZWxlY3RNb250aHMmJnZvaWQgMD09cj9vLm5vZGUoXCJzZWxlY3RcIixvLmdyb3VwKHttaW46MCxtYXg6MTEsaToxLG5vZGU6XCJvcHRpb25cIixpdGVtOmZ1bmN0aW9uKHQpe3JldHVybltpW3RdLDAsXCJ2YWx1ZT1cIit0KyhsLm1vbnRoPT10P1wiIHNlbGVjdGVkXCI6XCJcIikrKGwueWVhcj09aC55ZWFyJiZ0PGgubW9udGh8fGwueWVhcj09Zi55ZWFyJiZ0PmYubW9udGg/XCIgZGlzYWJsZWRcIjpcIlwiKV19fSksbi5rbGFzcy5zZWxlY3RNb250aCtcIiBicm93c2VyLWRlZmF1bHRcIiwodD9cIlwiOlwiZGlzYWJsZWRcIikrXCIgXCIrby5hcmlhQXR0cih7Y29udHJvbHM6ZS4kbm9kZVswXS5pZCtcIl90YWJsZVwifSkrJyB0aXRsZT1cIicrbi5sYWJlbE1vbnRoU2VsZWN0KydcIicpOlwic2hvcnRfbW9udGhzXCI9PXI/bnVsbCE9dT9vLm5vZGUoXCJkaXZcIixpW3UubW9udGhdKTpvLm5vZGUoXCJkaXZcIixpW2wubW9udGhdKTpvLm5vZGUoXCJkaXZcIixpW2wubW9udGhdLG4ua2xhc3MubW9udGgpfSx2PWZ1bmN0aW9uKHIpe3ZhciBpPWwueWVhcixzPW4uc2VsZWN0WWVhcnM9PT0hMD81On5+KG4uc2VsZWN0WWVhcnMvMik7aWYocyl7dmFyIGE9aC55ZWFyLHU9Zi55ZWFyLGM9aS1zLHA9aStzO2lmKGE+YyYmKHArPWEtYyxjPWEpLHU8cCl7dmFyIGQ9Yy1hLHk9cC11O2MtPWQ+eT95OmQscD11fWlmKG4uc2VsZWN0WWVhcnMmJnZvaWQgMD09cilyZXR1cm4gby5ub2RlKFwic2VsZWN0XCIsby5ncm91cCh7bWluOmMsbWF4OnAsaToxLG5vZGU6XCJvcHRpb25cIixpdGVtOmZ1bmN0aW9uKHQpe3JldHVyblt0LDAsXCJ2YWx1ZT1cIit0KyhpPT10P1wiIHNlbGVjdGVkXCI6XCJcIildfX0pLG4ua2xhc3Muc2VsZWN0WWVhcitcIiBicm93c2VyLWRlZmF1bHRcIiwodD9cIlwiOlwiZGlzYWJsZWRcIikrXCIgXCIrby5hcmlhQXR0cih7Y29udHJvbHM6ZS4kbm9kZVswXS5pZCtcIl90YWJsZVwifSkrJyB0aXRsZT1cIicrbi5sYWJlbFllYXJTZWxlY3QrJ1wiJyl9cmV0dXJuXCJyYXdcIj09cj9vLm5vZGUoXCJkaXZcIixpKTpvLm5vZGUoXCJkaXZcIixpLG4ua2xhc3MueWVhcil9O3JldHVybiBjcmVhdGVEYXlMYWJlbD1mdW5jdGlvbigpe3JldHVybiBudWxsIT11P28ubm9kZShcImRpdlwiLHUuZGF0ZSk6by5ub2RlKFwiZGl2XCIsYS5kYXRlKX0sY3JlYXRlV2Vla2RheUxhYmVsPWZ1bmN0aW9uKCl7dmFyIHQ7dD1udWxsIT11P3UuZGF5OmEuZGF5O3ZhciBlPW4ud2Vla2RheXNGdWxsW3RdO3JldHVybiBlfSxvLm5vZGUoXCJkaXZcIixvLm5vZGUoXCJkaXZcIixjcmVhdGVXZWVrZGF5TGFiZWwoKSxcInBpY2tlcl9fd2Vla2RheS1kaXNwbGF5XCIpK28ubm9kZShcImRpdlwiLG0oXCJzaG9ydF9tb250aHNcIiksbi5rbGFzcy5tb250aF9kaXNwbGF5KStvLm5vZGUoXCJkaXZcIixjcmVhdGVEYXlMYWJlbCgpLG4ua2xhc3MuZGF5X2Rpc3BsYXkpK28ubm9kZShcImRpdlwiLHYoXCJyYXdcIiksbi5rbGFzcy55ZWFyX2Rpc3BsYXkpLG4ua2xhc3MuZGF0ZV9kaXNwbGF5KStvLm5vZGUoXCJkaXZcIixvLm5vZGUoXCJkaXZcIiwobi5zZWxlY3RZZWFycz9tKCkrdigpOm0oKSt2KCkpK3koKSt5KDEpLG4ua2xhc3MuaGVhZGVyKStvLm5vZGUoXCJ0YWJsZVwiLGQrby5ub2RlKFwidGJvZHlcIixvLmdyb3VwKHttaW46MCxtYXg6aS0xLGk6MSxub2RlOlwidHJcIixpdGVtOmZ1bmN0aW9uKHQpe3ZhciBpPW4uZmlyc3REYXkmJjA9PT1lLmNyZWF0ZShbbC55ZWFyLGwubW9udGgsMV0pLmRheT8tNzowO3JldHVybltvLmdyb3VwKHttaW46cip0LWwuZGF5K2krMSxtYXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5taW4rci0xfSxpOjEsbm9kZTpcInRkXCIsaXRlbTpmdW5jdGlvbih0KXt0PWUuY3JlYXRlKFtsLnllYXIsbC5tb250aCx0KyhuLmZpcnN0RGF5PzE6MCldKTt2YXIgcj11JiZ1LnBpY2s9PXQucGljayxpPWMmJmMucGljaz09dC5waWNrLHM9cCYmZS5kaXNhYmxlZCh0KXx8dC5waWNrPGgucGlja3x8dC5waWNrPmYucGljayxkPW8udHJpZ2dlcihlLmZvcm1hdHMudG9TdHJpbmcsZSxbbi5mb3JtYXQsdF0pO3JldHVybltvLm5vZGUoXCJkaXZcIix0LmRhdGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUucHVzaChsLm1vbnRoPT10Lm1vbnRoP24ua2xhc3MuaW5mb2N1czpuLmtsYXNzLm91dGZvY3VzKSxhLnBpY2s9PXQucGljayYmZS5wdXNoKG4ua2xhc3Mubm93KSxyJiZlLnB1c2gobi5rbGFzcy5zZWxlY3RlZCksaSYmZS5wdXNoKG4ua2xhc3MuaGlnaGxpZ2h0ZWQpLHMmJmUucHVzaChuLmtsYXNzLmRpc2FibGVkKSxlLmpvaW4oXCIgXCIpfShbbi5rbGFzcy5kYXldKSxcImRhdGEtcGljaz1cIit0LnBpY2srXCIgXCIrby5hcmlhQXR0cih7cm9sZTpcImdyaWRjZWxsXCIsbGFiZWw6ZCxzZWxlY3RlZDohKCFyfHxlLiRub2RlLnZhbCgpIT09ZCl8fG51bGwsYWN0aXZlZGVzY2VuZGFudDohIWl8fG51bGwsZGlzYWJsZWQ6ISFzfHxudWxsfSkpLFwiXCIsby5hcmlhQXR0cih7cm9sZTpcInByZXNlbnRhdGlvblwifSldfX0pXX19KSksbi5rbGFzcy50YWJsZSwnaWQ9XCInK2UuJG5vZGVbMF0uaWQrJ190YWJsZVwiICcrby5hcmlhQXR0cih7cm9sZTpcImdyaWRcIixjb250cm9sczplLiRub2RlWzBdLmlkLHJlYWRvbmx5OiEwfSkpLG4ua2xhc3MuY2FsZW5kYXJfY29udGFpbmVyKStvLm5vZGUoXCJkaXZcIixvLm5vZGUoXCJidXR0b25cIixuLnRvZGF5LFwiYnRuLWZsYXQgcGlja2VyX190b2RheVwiLFwidHlwZT1idXR0b24gZGF0YS1waWNrPVwiK2EucGljaysodCYmIWUuZGlzYWJsZWQoYSk/XCJcIjpcIiBkaXNhYmxlZFwiKStcIiBcIitvLmFyaWFBdHRyKHtjb250cm9sczplLiRub2RlWzBdLmlkfSkpK28ubm9kZShcImJ1dHRvblwiLG4uY2xlYXIsXCJidG4tZmxhdCBwaWNrZXJfX2NsZWFyXCIsXCJ0eXBlPWJ1dHRvbiBkYXRhLWNsZWFyPTFcIisodD9cIlwiOlwiIGRpc2FibGVkXCIpK1wiIFwiK28uYXJpYUF0dHIoe2NvbnRyb2xzOmUuJG5vZGVbMF0uaWR9KSkrby5ub2RlKFwiYnV0dG9uXCIsbi5jbG9zZSxcImJ0bi1mbGF0IHBpY2tlcl9fY2xvc2VcIixcInR5cGU9YnV0dG9uIGRhdGEtY2xvc2U9dHJ1ZSBcIisodD9cIlwiOlwiIGRpc2FibGVkXCIpK1wiIFwiK28uYXJpYUF0dHIoe2NvbnRyb2xzOmUuJG5vZGVbMF0uaWR9KSksbi5rbGFzcy5mb290ZXIpfSxuLmRlZmF1bHRzPWZ1bmN0aW9uKHQpe3JldHVybntsYWJlbE1vbnRoTmV4dDpcIk5leHQgbW9udGhcIixsYWJlbE1vbnRoUHJldjpcIlByZXZpb3VzIG1vbnRoXCIsbGFiZWxNb250aFNlbGVjdDpcIlNlbGVjdCBhIG1vbnRoXCIsbGFiZWxZZWFyU2VsZWN0OlwiU2VsZWN0IGEgeWVhclwiLG1vbnRoc0Z1bGw6W1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCJdLG1vbnRoc1Nob3J0OltcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIl0sd2Vla2RheXNGdWxsOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdLHdlZWtkYXlzU2hvcnQ6W1wiU3VuXCIsXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCJdLHdlZWtkYXlzTGV0dGVyOltcIlNcIixcIk1cIixcIlRcIixcIldcIixcIlRcIixcIkZcIixcIlNcIl0sdG9kYXk6XCJUb2RheVwiLGNsZWFyOlwiQ2xlYXJcIixjbG9zZTpcIkNsb3NlXCIsZm9ybWF0OlwiZCBtbW1tLCB5eXl5XCIsa2xhc3M6e3RhYmxlOnQrXCJ0YWJsZVwiLGhlYWRlcjp0K1wiaGVhZGVyXCIsZGF0ZV9kaXNwbGF5OnQrXCJkYXRlLWRpc3BsYXlcIixkYXlfZGlzcGxheTp0K1wiZGF5LWRpc3BsYXlcIixtb250aF9kaXNwbGF5OnQrXCJtb250aC1kaXNwbGF5XCIseWVhcl9kaXNwbGF5OnQrXCJ5ZWFyLWRpc3BsYXlcIixjYWxlbmRhcl9jb250YWluZXI6dCtcImNhbGVuZGFyLWNvbnRhaW5lclwiLG5hdlByZXY6dCtcIm5hdi0tcHJldlwiLG5hdk5leHQ6dCtcIm5hdi0tbmV4dFwiLG5hdkRpc2FibGVkOnQrXCJuYXYtLWRpc2FibGVkXCIsbW9udGg6dCtcIm1vbnRoXCIseWVhcjp0K1wieWVhclwiLHNlbGVjdE1vbnRoOnQrXCJzZWxlY3QtLW1vbnRoXCIsc2VsZWN0WWVhcjp0K1wic2VsZWN0LS15ZWFyXCIsd2Vla2RheXM6dCtcIndlZWtkYXlcIixkYXk6dCtcImRheVwiLGRpc2FibGVkOnQrXCJkYXktLWRpc2FibGVkXCIsc2VsZWN0ZWQ6dCtcImRheS0tc2VsZWN0ZWRcIixoaWdobGlnaHRlZDp0K1wiZGF5LS1oaWdobGlnaHRlZFwiLG5vdzp0K1wiZGF5LS10b2RheVwiLGluZm9jdXM6dCtcImRheS0taW5mb2N1c1wiLG91dGZvY3VzOnQrXCJkYXktLW91dGZvY3VzXCIsZm9vdGVyOnQrXCJmb290ZXJcIixidXR0b25DbGVhcjp0K1wiYnV0dG9uLS1jbGVhclwiLGJ1dHRvblRvZGF5OnQrXCJidXR0b24tLXRvZGF5XCIsYnV0dG9uQ2xvc2U6dCtcImJ1dHRvbi0tY2xvc2VcIn19fSh0LmtsYXNzZXMoKS5waWNrZXIrXCJfX1wiKSx0LmV4dGVuZChcInBpY2thZGF0ZVwiLG4pfSksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPSt0KHRoaXMpLmF0dHIoXCJsZW5ndGhcIiksbj0rdCh0aGlzKS52YWwoKS5sZW5ndGgscj1uPD1lO3QodGhpcykucGFyZW50KCkuZmluZCgnc3BhbltjbGFzcz1cImNoYXJhY3Rlci1jb3VudGVyXCJdJykuaHRtbChuK1wiL1wiK2UpLGkocix0KHRoaXMpKX1mdW5jdGlvbiBuKGUpe3ZhciBuPWUucGFyZW50KCkuZmluZCgnc3BhbltjbGFzcz1cImNoYXJhY3Rlci1jb3VudGVyXCJdJyk7bi5sZW5ndGh8fChuPXQoXCI8c3Bhbi8+XCIpLmFkZENsYXNzKFwiY2hhcmFjdGVyLWNvdW50ZXJcIikuY3NzKFwiZmxvYXRcIixcInJpZ2h0XCIpLmNzcyhcImZvbnQtc2l6ZVwiLFwiMTJweFwiKS5jc3MoXCJoZWlnaHRcIiwxKSxlLnBhcmVudCgpLmFwcGVuZChuKSl9ZnVuY3Rpb24gcigpe3QodGhpcykucGFyZW50KCkuZmluZCgnc3BhbltjbGFzcz1cImNoYXJhY3Rlci1jb3VudGVyXCJdJykuaHRtbChcIlwiKX1mdW5jdGlvbiBpKHQsZSl7dmFyIG49ZS5oYXNDbGFzcyhcImludmFsaWRcIik7dCYmbj9lLnJlbW92ZUNsYXNzKFwiaW52YWxpZFwiKTp0fHxufHwoZS5yZW1vdmVDbGFzcyhcInZhbGlkXCIpLGUuYWRkQ2xhc3MoXCJpbnZhbGlkXCIpKX10LmZuLmNoYXJhY3RlckNvdW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKSxvPWkucGFyZW50KCkuZmluZCgnc3BhbltjbGFzcz1cImNoYXJhY3Rlci1jb3VudGVyXCJdJyk7aWYoIW8ubGVuZ3RoKXt2YXIgcz12b2lkIDAhPT1pLmF0dHIoXCJsZW5ndGhcIik7cyYmKGkub24oXCJpbnB1dFwiLGUpLGkub24oXCJmb2N1c1wiLGUpLGkub24oXCJibHVyXCIsciksbihpKSl9fSl9LHQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dChcImlucHV0LCB0ZXh0YXJlYVwiKS5jaGFyYWN0ZXJDb3VudGVyKCl9KX0oaSksZnVuY3Rpb24odCl7dmFyIGU9e2luaXQ6ZnVuY3Rpb24oZSl7dmFyIG49e3RpbWVfY29uc3RhbnQ6MjAwLGRpc3Q6LTEwMCxzaGlmdDowLHBhZGRpbmc6MCxmdWxsX3dpZHRoOiExLGluZGljYXRvcnM6ITEsbm9fd3JhcDohMX07cmV0dXJuIGU9dC5leHRlbmQobixlKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQmJihJWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIscCksSVswXS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsaCksSVswXS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixmKSksSVswXS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIscCksSVswXS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsaCksSVswXS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLGYpLElbMF0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIixmKSxJWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGMpfWZ1bmN0aW9uIHIodCl7cmV0dXJuIHQudGFyZ2V0VG91Y2hlcyYmdC50YXJnZXRUb3VjaGVzLmxlbmd0aD49MT90LnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WDp0LmNsaWVudFh9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdC50YXJnZXRUb3VjaGVzJiZ0LnRhcmdldFRvdWNoZXMubGVuZ3RoPj0xP3QudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRZOnQuY2xpZW50WX1mdW5jdGlvbiBvKHQpe3JldHVybiB0Pj1iP3QlYjp0PDA/byhiK3QlYik6dH1mdW5jdGlvbiBzKHQpe3ZhciBuLHIsaSxzLGEsdSxjO2lmKG09XCJudW1iZXJcIj09dHlwZW9mIHQ/dDptLHY9TWF0aC5mbG9vcigobStfLzIpL18pLGk9bS12Kl8scz1pPDA/MTotMSxhPS1zKmkqMi9fLHI9Yj4+MSxlLmZ1bGxfd2lkdGg/Yz1cInRyYW5zbGF0ZVgoMClcIjooYz1cInRyYW5zbGF0ZVgoXCIrKElbMF0uY2xpZW50V2lkdGgtaXRlbV93aWR0aCkvMitcInB4KSBcIixjKz1cInRyYW5zbGF0ZVkoXCIrKElbMF0uY2xpZW50SGVpZ2h0LWl0ZW1fd2lkdGgpLzIrXCJweClcIiksTil7dmFyIGw9diViLHA9Ui5maW5kKFwiLmluZGljYXRvci1pdGVtLmFjdGl2ZVwiKTtwLmluZGV4KCkhPT1sJiYocC5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSxSLmZpbmQoXCIuaW5kaWNhdG9yLWl0ZW1cIikuZXEobCkuYWRkQ2xhc3MoXCJhY3RpdmVcIikpfWZvcigoIWUubm9fd3JhcHx8dj49MCYmdjxiKSYmKHU9ZFtvKHYpXSx1LnN0eWxlW1BdPWMrXCIgdHJhbnNsYXRlWChcIistaS8yK1wicHgpIHRyYW5zbGF0ZVgoXCIrcyplLnNoaWZ0KmEqbitcInB4KSB0cmFuc2xhdGVaKFwiK2UuZGlzdCphK1wicHgpXCIsdS5zdHlsZS56SW5kZXg9MCxlLmZ1bGxfd2lkdGg/dHdlZW5lZE9wYWNpdHk9MTp0d2VlbmVkT3BhY2l0eT0xLS4yKmEsdS5zdHlsZS5vcGFjaXR5PXR3ZWVuZWRPcGFjaXR5LHUuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpLG49MTtuPD1yOysrbillLmZ1bGxfd2lkdGg/KHpUcmFuc2xhdGlvbj1lLmRpc3QsdHdlZW5lZE9wYWNpdHk9bj09PXImJmk8MD8xLWE6MSk6KHpUcmFuc2xhdGlvbj1lLmRpc3QqKDIqbithKnMpLHR3ZWVuZWRPcGFjaXR5PTEtLjIqKDIqbithKnMpKSwoIWUubm9fd3JhcHx8dituPGIpJiYodT1kW28odituKV0sdS5zdHlsZVtQXT1jK1wiIHRyYW5zbGF0ZVgoXCIrKGUuc2hpZnQrKF8qbi1pKS8yKStcInB4KSB0cmFuc2xhdGVaKFwiK3pUcmFuc2xhdGlvbitcInB4KVwiLHUuc3R5bGUuekluZGV4PS1uLHUuc3R5bGUub3BhY2l0eT10d2VlbmVkT3BhY2l0eSx1LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiKSxlLmZ1bGxfd2lkdGg/KHpUcmFuc2xhdGlvbj1lLmRpc3QsdHdlZW5lZE9wYWNpdHk9bj09PXImJmk+MD8xLWE6MSk6KHpUcmFuc2xhdGlvbj1lLmRpc3QqKDIqbi1hKnMpLHR3ZWVuZWRPcGFjaXR5PTEtLjIqKDIqbi1hKnMpKSwoIWUubm9fd3JhcHx8di1uPj0wKSYmKHU9ZFtvKHYtbildLHUuc3R5bGVbUF09YytcIiB0cmFuc2xhdGVYKFwiKygtZS5zaGlmdCsoLV8qbi1pKS8yKStcInB4KSB0cmFuc2xhdGVaKFwiK3pUcmFuc2xhdGlvbitcInB4KVwiLHUuc3R5bGUuekluZGV4PS1uLHUuc3R5bGUub3BhY2l0eT10d2VlbmVkT3BhY2l0eSx1LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiKTsoIWUubm9fd3JhcHx8dj49MCYmdjxiKSYmKHU9ZFtvKHYpXSx1LnN0eWxlW1BdPWMrXCIgdHJhbnNsYXRlWChcIistaS8yK1wicHgpIHRyYW5zbGF0ZVgoXCIrcyplLnNoaWZ0KmErXCJweCkgdHJhbnNsYXRlWihcIitlLmRpc3QqYStcInB4KVwiLHUuc3R5bGUuekluZGV4PTAsZS5mdWxsX3dpZHRoP3R3ZWVuZWRPcGFjaXR5PTE6dHdlZW5lZE9wYWNpdHk9MS0uMiphLHUuc3R5bGUub3BhY2l0eT10d2VlbmVkT3BhY2l0eSx1LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiKX1mdW5jdGlvbiBhKCl7dmFyIHQsZSxuLHI7dD1EYXRlLm5vdygpLGU9dC1ULFQ9dCxuPW0tTyxPPW0scj0xZTMqbi8oMStlKSx4PS44KnIrLjIqeH1mdW5jdGlvbiB1KCl7dmFyIHQsbjtFJiYodD1EYXRlLm5vdygpLVQsbj1FKk1hdGguZXhwKC10L2UudGltZV9jb25zdGFudCksbj4yfHxuPC0yPyhzKFMtbikscmVxdWVzdEFuaW1hdGlvbkZyYW1lKHUpKTpzKFMpKX1mdW5jdGlvbiBjKG4pe2lmKE0pcmV0dXJuIG4ucHJldmVudERlZmF1bHQoKSxuLnN0b3BQcm9wYWdhdGlvbigpLCExO2lmKCFlLmZ1bGxfd2lkdGgpe3ZhciByPXQobi50YXJnZXQpLmNsb3Nlc3QoXCIuY2Fyb3VzZWwtaXRlbVwiKS5pbmRleCgpLGk9diViLXI7MCE9PWkmJihuLnByZXZlbnREZWZhdWx0KCksbi5zdG9wUHJvcGFnYXRpb24oKSksbChyKX19ZnVuY3Rpb24gbCh0KXt2YXIgbj12JWItdDtlLm5vX3dyYXB8fChuPDA/TWF0aC5hYnMobitiKTxNYXRoLmFicyhuKSYmKG4rPWIpOm4+MCYmTWF0aC5hYnMobi1iKTxuJiYobi09YikpLG48MD9JLnRyaWdnZXIoXCJjYXJvdXNlbE5leHRcIixbTWF0aC5hYnMobildKTpuPjAmJkkudHJpZ2dlcihcImNhcm91c2VsUHJldlwiLFtuXSl9ZnVuY3Rpb24gcCh0KXtnPSEwLE09ITEsaz0hMSx3PXIodCksQz1pKHQpLHg9RT0wLE89bSxUPURhdGUubm93KCksY2xlYXJJbnRlcnZhbChBKSxBPXNldEludGVydmFsKGEsMTAwKX1mdW5jdGlvbiBoKHQpe3ZhciBlLG4sbztpZihnKWlmKGU9cih0KSx5PWkodCksbj13LWUsbz1NYXRoLmFicyhDLXkpLG88MzAmJiFrKShuPjJ8fG48LTIpJiYoTT0hMCx3PWUscyhtK24pKTtlbHNle2lmKE0pcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLCExO2s9ITB9aWYoTSlyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksITF9ZnVuY3Rpb24gZih0KXtpZihnKXJldHVybiBnPSExLGNsZWFySW50ZXJ2YWwoQSksUz1tLCh4PjEwfHx4PC0xMCkmJihFPS45KngsUz1tK0UpLFM9TWF0aC5yb3VuZChTL18pKl8sZS5ub193cmFwJiYoUz49XyooYi0xKT9TPV8qKGItMSk6UzwwJiYoUz0wKSksRT1TLW0sVD1EYXRlLm5vdygpLHJlcXVlc3RBbmltYXRpb25GcmFtZSh1KSxNJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpLCExfXZhciBkLG0sdixnLF8sYix3LEMsRSxTLHgsUCxPLFQsQSxNLGssUj10KCc8dWwgY2xhc3M9XCJpbmRpY2F0b3JzXCI+PC91bD4nKSxJPXQodGhpcyksTj1JLmF0dHIoXCJkYXRhLWluZGljYXRvcnNcIil8fGUuaW5kaWNhdG9ycztpZihJLmhhc0NsYXNzKFwiaW5pdGlhbGl6ZWRcIikpcmV0dXJuIHQodGhpcykudHJpZ2dlcihcImNhcm91c2VsTmV4dFwiLFsxZS02XSksITA7aWYoZS5mdWxsX3dpZHRoKXtlLmRpc3Q9MDt2YXIgRD1JLmZpbmQoXCIuY2Fyb3VzZWwtaXRlbSBpbWdcIikuZmlyc3QoKTtELmxlbmd0aD9pbWFnZUhlaWdodD1ELm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7SS5jc3MoXCJoZWlnaHRcIix0KHRoaXMpLmhlaWdodCgpKX0pOihpbWFnZUhlaWdodD1JLmZpbmQoXCIuY2Fyb3VzZWwtaXRlbVwiKS5maXJzdCgpLmhlaWdodCgpLEkuY3NzKFwiaGVpZ2h0XCIsaW1hZ2VIZWlnaHQpKSxOJiZJLmZpbmQoXCIuY2Fyb3VzZWwtZml4ZWQtaXRlbVwiKS5hZGRDbGFzcyhcIndpdGgtaW5kaWNhdG9yc1wiKX1JLmFkZENsYXNzKFwiaW5pdGlhbGl6ZWRcIiksZz0hMSxtPVM9MCxkPVtdLGl0ZW1fd2lkdGg9SS5maW5kKFwiLmNhcm91c2VsLWl0ZW1cIikuZmlyc3QoKS5pbm5lcldpZHRoKCksXz0yKml0ZW1fd2lkdGgrZS5wYWRkaW5nLEkuZmluZChcIi5jYXJvdXNlbC1pdGVtXCIpLmVhY2goZnVuY3Rpb24oZSl7aWYoZC5wdXNoKHQodGhpcylbMF0pLE4pe3ZhciBuPXQoJzxsaSBjbGFzcz1cImluZGljYXRvci1pdGVtXCI+PC9saT4nKTswPT09ZSYmbi5hZGRDbGFzcyhcImFjdGl2ZVwiKSxuLmNsaWNrKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKS5pbmRleCgpO2woZSl9KSxSLmFwcGVuZChuKX19KSxOJiZJLmFwcGVuZChSKSxiPWQubGVuZ3RoLFA9XCJ0cmFuc2Zvcm1cIixbXCJ3ZWJraXRcIixcIk1velwiLFwiT1wiLFwibXNcIl0uZXZlcnkoZnVuY3Rpb24odCl7dmFyIGU9dCtcIlRyYW5zZm9ybVwiO3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW2VdfHwoUD1lLCExKX0pLHdpbmRvdy5vbnJlc2l6ZT1zLG4oKSxzKG0pLHQodGhpcykub24oXCJjYXJvdXNlbE5leHRcIixmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTEpLFM9bStfKmUsbSE9PVMmJihFPVMtbSxUPURhdGUubm93KCkscmVxdWVzdEFuaW1hdGlvbkZyYW1lKHUpKX0pLHQodGhpcykub24oXCJjYXJvdXNlbFByZXZcIixmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTEpLFM9bS1fKmUsbSE9PVMmJihFPVMtbSxUPURhdGUubm93KCkscmVxdWVzdEFuaW1hdGlvbkZyYW1lKHUpKX0pLHQodGhpcykub24oXCJjYXJvdXNlbFNldFwiLGZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MCksbChlKX0pfSl9LG5leHQ6ZnVuY3Rpb24oZSl7dCh0aGlzKS50cmlnZ2VyKFwiY2Fyb3VzZWxOZXh0XCIsW2VdKX0scHJldjpmdW5jdGlvbihlKXt0KHRoaXMpLnRyaWdnZXIoXCJjYXJvdXNlbFByZXZcIixbZV0pfSxzZXQ6ZnVuY3Rpb24oZSl7dCh0aGlzKS50cmlnZ2VyKFwiY2Fyb3VzZWxTZXRcIixbZV0pfX07dC5mbi5jYXJvdXNlbD1mdW5jdGlvbihuKXtyZXR1cm4gZVtuXT9lW25dLmFwcGx5KHRoaXMsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTpcIm9iamVjdFwiIT10eXBlb2YgbiYmbj92b2lkIHQuZXJyb3IoXCJNZXRob2QgXCIrbitcIiBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkuY2Fyb3VzZWxcIik6ZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KGkpLHQualF1ZXJ5PWksdC5WZWw9b30odGhpcyksYSgpfSksdC5yZWdpc3RlckR5bmFtaWMoXCIxMFwiLFtcImNcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLGUmJmUuX19kZWNvcmF0ZXx8ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6cjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4scik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkoaT10W2FdKSYmKHM9KG88Mz9pKHMpOm8+Mz9pKGUsbixzKTppKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9KSxpPWUmJmUuX19tZXRhZGF0YXx8ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGUpfSxvPXQoXCJjXCIpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5uYW1lPVwiQW5ndWxhclwifXJldHVybiB0PXIoW28uQ29tcG9uZW50KHtzZWxlY3RvcjpcImJvZHlcIix0ZW1wbGF0ZVVybDpcIi4vYXBwL2FwcC5jb21wb25lbnQuaHRtbFwifSksaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSx0KX0oKTtlLkFwcENvbXBvbmVudD1zfSksdC5yZWdpc3RlckR5bmFtaWMoXCIxMVwiLFtcImNcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLGUmJmUuX19kZWNvcmF0ZXx8ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6cjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4scik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkoaT10W2FdKSYmKHM9KG88Mz9pKHMpOm8+Mz9pKGUsbixzKTppKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9KSxpPWUmJmUuX19tZXRhZGF0YXx8ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGUpfSxvPXQoXCJjXCIpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0PXIoW28uQ29tcG9uZW50KHtzZWxlY3RvcjpcImhlYWRlclwiLHRlbXBsYXRlVXJsOlwiLi9hcHAvc2hhcmVkL2hlYWRlci9oZWFkZXIuaHRtbFwifSksaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSx0KX0oKTtlLmhlYWRlcj1zfSksdC5yZWdpc3RlckR5bmFtaWMoXCIxMlwiLFtcImNcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLGUmJmUuX19kZWNvcmF0ZXx8ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6cjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4scik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkoaT10W2FdKSYmKHM9KG88Mz9pKHMpOm8+Mz9pKGUsbixzKTppKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9KSxpPWUmJmUuX19tZXRhZGF0YXx8ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGUpfSxvPXQoXCJjXCIpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0PXIoW28uQ29tcG9uZW50KHtzZWxlY3RvcjpcImZvb3RlclwiLHRlbXBsYXRlVXJsOlwiLi9hcHAvc2hhcmVkL2Zvb3Rlci9mb290ZXIuaHRtbFwifSksaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSx0KX0oKTtlLmZvb3Rlcj1zfSksdC5yZWdpc3RlckR5bmFtaWMoXCIxM1wiLFtcImNcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLGUmJmUuX19kZWNvcmF0ZXx8ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6cjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4scik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkoaT10W2FdKSYmKHM9KG88Mz9pKHMpOm8+Mz9pKGUsbixzKTppKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9KSxpPWUmJmUuX19tZXRhZGF0YXx8ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGUpfSxvPXQoXCJjXCIpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0PXIoW28uQ29tcG9uZW50KHtzZWxlY3RvcjpcImxvYWRlclwiLHRlbXBsYXRlVXJsOlwiLi9hcHAvc2hhcmVkL2xvYWRlci9sb2FkZXIuaHRtbFwiLGFuaW1hdGlvbnM6W28udHJpZ2dlcihcImNhcmRyb2xlXCIsW28uc3RhdGUoXCIqXCIsby5zdHlsZSh7XCItbXMtdHJhbnNmb3JtXCI6XCJ0cmFuc2xhdGUzRCgwcHgsIDBweCwgMHB4KVwiLFwiLXdlYmtpdC10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNEKDBweCwgMHB4LCAwcHgpXCIsXCItbW96LXRyYW5zZm9ybVwiOlwidHJhbnNsYXRlM0QoMHB4LCAwcHgsIDBweClcIixcIi1vLXRyYW5zZm9ybVwiOlwidHJhbnNsYXRlM0QoMHB4LCAwcHgsIDBweClcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzRCgwcHgsIDBweCwgMHB4KVwiLG9wYWNpdHk6MX0pKSxvLnRyYW5zaXRpb24oXCJ2b2lkID0+ICpcIixbby5zdHlsZSh7b3BhY2l0eTowLFwiLW1zLXRyYW5zZm9ybVwiOlwidHJhbnNsYXRlM0QoMHB4LCAxNTBweCwgMHB4KVwiLFwiLXdlYmtpdC10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNEKDBweCwgMTUwcHgsIDBweClcIixcIi1tb3otdHJhbnNmb3JtXCI6XCJ0cmFuc2xhdGUzRCgwcHgsIDE1MHB4LCAwcHgpXCIsXCItby10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNEKDBweCwgMTUwcHgsIDBweClcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzRCgwcHgsIDE1MHB4LCAwcHgpXCJ9KSxvLmFuaW1hdGUoXCIwLjNzIDBzIGVhc2Utb3V0XCIpXSldKV19KSxpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLHQpfSgpO2UubG9hZGVyPXN9KSxmdW5jdGlvbihpLG8pe1wib2JqZWN0XCI9PXR5cGVvZiBuJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygcj9vKG4sZShcIkBhbmd1bGFyL2NvcmVcIiksZShcInJ4anMvb3BlcmF0b3IvdG9Qcm9taXNlXCIpLGUoXCJyeGpzL1N1YmplY3RcIiksZShcInJ4anMvT2JzZXJ2YWJsZVwiKSxlKFwicnhqcy9vYnNlcnZhYmxlL2Zyb21Qcm9taXNlXCIpKTp0LnJlZ2lzdGVyRHluYW1pYyhcIjE0XCIsW1wiY1wiLFwiMTVcIixcIjE2XCIsXCIxN1wiLFwiMThcIl0sITEsZnVuY3Rpb24odCxlLG4pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG8/by5jYWxsKGUsZSx0KFwiY1wiKSx0KFwiMTVcIiksdChcIjE2XCIpLHQoXCIxN1wiKSx0KFwiMThcIikpOm99KX0odGhpcyxmdW5jdGlvbih0LGUsbixyLGksbyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcyh0KXtyZXR1cm4gbnVsbCE9dH1mdW5jdGlvbiBhKHQpe3JldHVybiBudWxsPT10fWZ1bmN0aW9uIHUodCxlKXtyZXR1cm4gdD09PWV8fFwibnVtYmVyXCI9PXR5cGVvZiB0JiZcIm51bWJlclwiPT10eXBlb2YgZSYmaXNOYU4odCkmJmlzTmFOKGUpfWZ1bmN0aW9uIGModCl7cmV0dXJuIG51bGwhPT10JiYoXCJmdW5jdGlvblwiPT10eXBlb2YgdHx8XCJvYmplY3RcIj09dHlwZW9mIHQpfWZ1bmN0aW9uIGwodCl7cmV0dXJuIWModCl9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gbnVsbD09dHx8MD09PXQubGVuZ3RofWZ1bmN0aW9uIGgodCl7cmV0dXJuIHoodCk/dDpuLnRvUHJvbWlzZS5jYWxsKHQpfWZ1bmN0aW9uIGYodCxlKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUodCl9KX1mdW5jdGlvbiBkKHQsZSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQpfSl9ZnVuY3Rpb24geSh0KXt2YXIgZT10LnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiBzKGUpP0IubWVyZ2UodCxlKTp0fSx7fSk7cmV0dXJuIDA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGg/bnVsbDplfWZ1bmN0aW9uIG0odCl7cmV0dXJuIHQudmFsaWRhdGU/ZnVuY3Rpb24oZSl7cmV0dXJuIHQudmFsaWRhdGUoZSl9OnR9ZnVuY3Rpb24gdih0KXtyZXR1cm4gdC52YWxpZGF0ZT9mdW5jdGlvbihlKXtyZXR1cm4gdC52YWxpZGF0ZShlKX06dH1mdW5jdGlvbiBnKCl7dGhyb3cgbmV3IEVycm9yKFwidW5pbXBsZW1lbnRlZFwiKX1mdW5jdGlvbiBfKHQsZSl7cmV0dXJuIG51bGw9PXQ/XCJcIitlOihsKGUpfHwoZT1cIk9iamVjdFwiKSwodCtcIjogXCIrZSkuc2xpY2UoMCw1MCkpfWZ1bmN0aW9uIGIodCl7cmV0dXJuIHQuc3BsaXQoXCI6XCIpWzBdfWZ1bmN0aW9uIHcodCxlKXtyZXR1cm4gbnVsbD09dD9cIlwiK2U6KFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1cIidcIitlK1wiJ1wiKSxsKGUpfHwoZT1cIk9iamVjdFwiKSwodCtcIjogXCIrZSkuc2xpY2UoMCw1MCkpfWZ1bmN0aW9uIEModCl7cmV0dXJuIHQuc3BsaXQoXCI6XCIpWzBdfWZ1bmN0aW9uIEUodCxlKXtyZXR1cm4gZS5wYXRoLmNvbmNhdChbdF0pfWZ1bmN0aW9uIFModCxlKXt0fHxUKGUsXCJDYW5ub3QgZmluZCBjb250cm9sIHdpdGhcIiksZS52YWx1ZUFjY2Vzc29yfHxUKGUsXCJObyB2YWx1ZSBhY2Nlc3NvciBmb3IgZm9ybSBjb250cm9sIHdpdGhcIiksdC52YWxpZGF0b3I9JC5jb21wb3NlKFt0LnZhbGlkYXRvcixlLnZhbGlkYXRvcl0pLHQuYXN5bmNWYWxpZGF0b3I9JC5jb21wb3NlQXN5bmMoW3QuYXN5bmNWYWxpZGF0b3IsZS5hc3luY1ZhbGlkYXRvcl0pLGUudmFsdWVBY2Nlc3Nvci53cml0ZVZhbHVlKHQudmFsdWUpLGUudmFsdWVBY2Nlc3Nvci5yZWdpc3Rlck9uQ2hhbmdlKGZ1bmN0aW9uKG4pe2Uudmlld1RvTW9kZWxVcGRhdGUobiksdC5tYXJrQXNEaXJ0eSgpLHQuc2V0VmFsdWUobix7ZW1pdE1vZGVsVG9WaWV3Q2hhbmdlOiExfSl9KSxlLnZhbHVlQWNjZXNzb3IucmVnaXN0ZXJPblRvdWNoZWQoZnVuY3Rpb24oKXtyZXR1cm4gdC5tYXJrQXNUb3VjaGVkKCl9KSx0LnJlZ2lzdGVyT25DaGFuZ2UoZnVuY3Rpb24odCxuKXtlLnZhbHVlQWNjZXNzb3Iud3JpdGVWYWx1ZSh0KSxuJiZlLnZpZXdUb01vZGVsVXBkYXRlKHQpfSksZS52YWx1ZUFjY2Vzc29yLnNldERpc2FibGVkU3RhdGUmJnQucmVnaXN0ZXJPbkRpc2FibGVkQ2hhbmdlKGZ1bmN0aW9uKHQpe2UudmFsdWVBY2Nlc3Nvci5zZXREaXNhYmxlZFN0YXRlKHQpfSksZS5fcmF3VmFsaWRhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZSYmZS5yZWdpc3Rlck9uVmFsaWRhdG9yQ2hhbmdlKGZ1bmN0aW9uKCl7cmV0dXJuIHQudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSgpfSl9KSxlLl9yYXdBc3luY1ZhbGlkYXRvcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlZ2lzdGVyT25WYWxpZGF0b3JDaGFuZ2UmJmUucmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZShmdW5jdGlvbigpe3JldHVybiB0LnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoKX0pfSl9ZnVuY3Rpb24geCh0LGUpe2UudmFsdWVBY2Nlc3Nvci5yZWdpc3Rlck9uQ2hhbmdlKGZ1bmN0aW9uKCl7cmV0dXJuIE8oZSl9KSxlLnZhbHVlQWNjZXNzb3IucmVnaXN0ZXJPblRvdWNoZWQoZnVuY3Rpb24oKXtyZXR1cm4gTyhlKX0pLGUuX3Jhd1ZhbGlkYXRvcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyT25WYWxpZGF0b3JDaGFuZ2UmJnQucmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZShudWxsKX0pLGUuX3Jhd0FzeW5jVmFsaWRhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZSYmdC5yZWdpc3Rlck9uVmFsaWRhdG9yQ2hhbmdlKG51bGwpfSksdCYmdC5fY2xlYXJDaGFuZ2VGbnMoKX1mdW5jdGlvbiBQKHQsZSl7YSh0KSYmVChlLFwiQ2Fubm90IGZpbmQgY29udHJvbCB3aXRoXCIpLHQudmFsaWRhdG9yPSQuY29tcG9zZShbdC52YWxpZGF0b3IsZS52YWxpZGF0b3JdKSx0LmFzeW5jVmFsaWRhdG9yPSQuY29tcG9zZUFzeW5jKFt0LmFzeW5jVmFsaWRhdG9yLGUuYXN5bmNWYWxpZGF0b3JdKX1mdW5jdGlvbiBPKHQpe3JldHVybiBUKHQsXCJUaGVyZSBpcyBubyBGb3JtQ29udHJvbCBpbnN0YW5jZSBhdHRhY2hlZCB0byBmb3JtIGNvbnRyb2wgZWxlbWVudCB3aXRoXCIpfWZ1bmN0aW9uIFQodCxlKXt2YXIgbjt0aHJvdyBuPXQucGF0aC5sZW5ndGg+MT9cInBhdGg6ICdcIit0LnBhdGguam9pbihcIiAtPiBcIikrXCInXCI6dC5wYXRoWzBdP1wibmFtZTogJ1wiK3QucGF0aCtcIidcIjpcInVuc3BlY2lmaWVkIG5hbWUgYXR0cmlidXRlXCIsbmV3IEVycm9yKGUrXCIgXCIrbil9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gcyh0KT8kLmNvbXBvc2UodC5tYXAobSkpOm51bGx9ZnVuY3Rpb24gTSh0KXtyZXR1cm4gcyh0KT8kLmNvbXBvc2VBc3luYyh0Lm1hcCh2KSk6bnVsbH1mdW5jdGlvbiBrKHQsZSl7aWYoIXQuaGFzT3duUHJvcGVydHkoXCJtb2RlbFwiKSlyZXR1cm4hMTt2YXIgbj10Lm1vZGVsO3JldHVybiEhbi5pc0ZpcnN0Q2hhbmdlKCl8fCF1KGUsbi5jdXJyZW50VmFsdWUpfWZ1bmN0aW9uIFIodCl7cmV0dXJuIHl0LnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29uc3RydWN0b3I9PT1lfSl9ZnVuY3Rpb24gSSh0LGUpe2lmKCFlKXJldHVybiBudWxsO3ZhciBuLHIsaTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuY29uc3RydWN0b3I9PT1KP249ZTpSKGUpPyhyJiZUKHQsXCJNb3JlIHRoYW4gb25lIGJ1aWx0LWluIHZhbHVlIGFjY2Vzc29yIG1hdGNoZXMgZm9ybSBjb250cm9sIHdpdGhcIikscj1lKTooaSYmVCh0LFwiTW9yZSB0aGFuIG9uZSBjdXN0b20gdmFsdWUgYWNjZXNzb3IgbWF0Y2hlcyBmb3JtIGNvbnRyb2wgd2l0aFwiKSxpPWUpfSksaT9pOnI/cjpuP246KFQodCxcIk5vIHZhbGlkIHZhbHVlIGFjY2Vzc29yIGZvciBmb3JtIGNvbnRyb2wgd2l0aFwiKSxudWxsKX1mdW5jdGlvbiBOKHQsZSxuKXtyZXR1cm4gbnVsbD09ZT9udWxsOihlIGluc3RhbmNlb2YgQXJyYXl8fChlPWUuc3BsaXQobikpLGUgaW5zdGFuY2VvZiBBcnJheSYmMD09PWUubGVuZ3RoP251bGw6ZS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIFJ0P3QuY29udHJvbHNbZV18fG51bGw6dCBpbnN0YW5jZW9mIEl0P3QuYXQoZSl8fG51bGw6bnVsbH0sdCkpfWZ1bmN0aW9uIEQodCl7cmV0dXJuIHoodCk/by5mcm9tUHJvbWlzZSh0KTp0fWZ1bmN0aW9uIGoodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/QSh0KTp0fWZ1bmN0aW9uIFYodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/TSh0KTp0fWZ1bmN0aW9uIEwodCl7cmV0dXJuISh0IGluc3RhbmNlb2YgbmV8fHQgaW5zdGFuY2VvZiBKdHx8dCBpbnN0YW5jZW9mIGllKX12YXIgRj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNvbnRyb2xcIix7Z2V0OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwidW5pbXBsZW1lbnRlZFwiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ2YWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC52YWx1ZTpudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInZhbGlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLnZhbGlkOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaW52YWxpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5pbnZhbGlkOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGVuZGluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5wZW5kaW5nOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZXJyb3JzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLmVycm9yczpudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInByaXN0aW5lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLnByaXN0aW5lOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZGlydHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wuZGlydHk6bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ0b3VjaGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLnRvdWNoZWQ6bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ1bnRvdWNoZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wudW50b3VjaGVkOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZGlzYWJsZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wuZGlzYWJsZWQ6bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJlbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLmVuYWJsZWQ6bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJzdGF0dXNDaGFuZ2VzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLnN0YXR1c0NoYW5nZXM6bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ2YWx1ZUNoYW5nZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wudmFsdWVDaGFuZ2VzOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGF0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD12b2lkIDApLHRoaXMuY29udHJvbCYmdGhpcy5jb250cm9sLnJlc2V0KHQpfSx0LnByb3RvdHlwZS5oYXNFcnJvcj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSwhIXRoaXMuY29udHJvbCYmdGhpcy5jb250cm9sLmhhc0Vycm9yKHQsZSl9LHQucHJvdG90eXBlLmdldEVycm9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wuZ2V0RXJyb3IodCxlKTpudWxsfSx0fSgpLFU9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LEg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBVKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZm9ybURpcmVjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGV9KEYpLEI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0Lm1lcmdlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXt9LHI9MCxpPU9iamVjdC5rZXlzKHQpO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO25bb109dFtvXX1mb3IodmFyIHM9MCxhPU9iamVjdC5rZXlzKGUpO3M8YS5sZW5ndGg7cysrKXt2YXIgbz1hW3NdO25bb109ZVtvXX1yZXR1cm4gbn0sdC5lcXVhbHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KSxyPU9iamVjdC5rZXlzKGUpO2lmKG4ubGVuZ3RoIT1yLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIG89bltpXTtpZih0W29dIT09ZVtvXSlyZXR1cm4hMX1yZXR1cm4hMH0sdH0oKSxxPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5maW5kTGFzdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aC0xO24+PTA7bi0tKWlmKGUodFtuXSkpcmV0dXJuIHRbbl07cmV0dXJuIG51bGx9LHQucmVtb3ZlQWxsPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciByPXQuaW5kZXhPZihlW25dKTtyPi0xJiZ0LnNwbGljZShyLDEpfX0sdC5yZW1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmluZGV4T2YoZSk7cmV0dXJuIG4+LTEmJih0LnNwbGljZShuLDEpLCEwKX0sdC5lcXVhbHM9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9LHQuZmxhdHRlbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSxuKXt2YXIgcj1BcnJheS5pc0FycmF5KG4pP3QuZmxhdHRlbihuKTpuO3JldHVybiBlLmNvbmNhdChyKX0sW10pfSx0fSgpLHo9ZS5fX2NvcmVfcHJpdmF0ZV9fLmlzUHJvbWlzZSxXPWUuX19jb3JlX3ByaXZhdGVfXy5pc09ic2VydmFibGUsRz1uZXcgZS5PcGFxdWVUb2tlbihcIk5nVmFsaWRhdG9yc1wiKSxYPW5ldyBlLk9wYXF1ZVRva2VuKFwiTmdBc3luY1ZhbGlkYXRvcnNcIiksJD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucmVxdWlyZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHAodC52YWx1ZSk/e3JlcXVpcmVkOiEwfTpudWxsfSx0LnJlcXVpcmVkVHJ1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZT09PSEwP251bGw6e3JlcXVpcmVkOiEwfX0sdC5taW5MZW5ndGg9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHAoZS52YWx1ZSkpcmV0dXJuIG51bGw7dmFyIG49ZS52YWx1ZT9lLnZhbHVlLmxlbmd0aDowO3JldHVybiBuPHQ/e21pbmxlbmd0aDp7cmVxdWlyZWRMZW5ndGg6dCxhY3R1YWxMZW5ndGg6bn19Om51bGx9fSx0Lm1heExlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49ZS52YWx1ZT9lLnZhbHVlLmxlbmd0aDowO3JldHVybiBuPnQ/e21heGxlbmd0aDp7cmVxdWlyZWRMZW5ndGg6dCxhY3R1YWxMZW5ndGg6bn19Om51bGx9fSx0LnBhdHRlcm49ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIHQubnVsbFZhbGlkYXRvcjt2YXIgbixyO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlPyhyPVwiXlwiK2UrXCIkXCIsbj1uZXcgUmVnRXhwKHIpKToocj1lLnRvU3RyaW5nKCksbj1lKSxmdW5jdGlvbih0KXtpZihwKHQudmFsdWUpKXJldHVybiBudWxsO3ZhciBlPXQudmFsdWU7cmV0dXJuIG4udGVzdChlKT9udWxsOntwYXR0ZXJuOntyZXF1aXJlZFBhdHRlcm46cixhY3R1YWxWYWx1ZTplfX19fSx0Lm51bGxWYWxpZGF0b3I9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LHQuY29tcG9zZT1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gbnVsbDt2YXIgZT10LmZpbHRlcihzKTtyZXR1cm4gMD09ZS5sZW5ndGg/bnVsbDpmdW5jdGlvbih0KXtyZXR1cm4geShmKHQsZSkpfX0sdC5jb21wb3NlQXN5bmM9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIG51bGw7dmFyIGU9dC5maWx0ZXIocyk7cmV0dXJuIDA9PWUubGVuZ3RoP251bGw6ZnVuY3Rpb24odCl7dmFyIG49ZCh0LGUpLm1hcChoKTtyZXR1cm4gUHJvbWlzZS5hbGwobikudGhlbih5KX19LHR9KCksUT1uZXcgZS5PcGFxdWVUb2tlbihcIk5nVmFsdWVBY2Nlc3NvclwiKSxZPXtwcm92aWRlOlEsdXNlRXhpc3Rpbmc6ZS5mb3J3YXJkUmVmKGZ1bmN0aW9uKCl7cmV0dXJuIEt9KSxtdWx0aTohMH0sSz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9yZW5kZXJlcj10LHRoaXMuX2VsZW1lbnRSZWY9ZSx0aGlzLm9uQ2hhbmdlPWZ1bmN0aW9uKHQpe30sdGhpcy5vblRvdWNoZWQ9ZnVuY3Rpb24oKXt9fXJldHVybiB0LnByb3RvdHlwZS53cml0ZVZhbHVlPWZ1bmN0aW9uKHQpe3RoaXMuX3JlbmRlcmVyLnNldEVsZW1lbnRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsXCJjaGVja2VkXCIsdCk7XG59LHQucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2U9ZnVuY3Rpb24odCl7dGhpcy5vbkNoYW5nZT10fSx0LnByb3RvdHlwZS5yZWdpc3Rlck9uVG91Y2hlZD1mdW5jdGlvbih0KXt0aGlzLm9uVG91Y2hlZD10fSx0LnByb3RvdHlwZS5zZXREaXNhYmxlZFN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3JlbmRlcmVyLnNldEVsZW1lbnRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsXCJkaXNhYmxlZFwiLHQpfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcImlucHV0W3R5cGU9Y2hlY2tib3hdW2Zvcm1Db250cm9sTmFtZV0saW5wdXRbdHlwZT1jaGVja2JveF1bZm9ybUNvbnRyb2xdLGlucHV0W3R5cGU9Y2hlY2tib3hdW25nTW9kZWxdXCIsaG9zdDp7XCIoY2hhbmdlKVwiOlwib25DaGFuZ2UoJGV2ZW50LnRhcmdldC5jaGVja2VkKVwiLFwiKGJsdXIpXCI6XCJvblRvdWNoZWQoKVwifSxwcm92aWRlcnM6W1ldfV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOmUuUmVuZGVyZXJ9LHt0eXBlOmUuRWxlbWVudFJlZn1dfSx0fSgpLFo9e3Byb3ZpZGU6USx1c2VFeGlzdGluZzplLmZvcndhcmRSZWYoZnVuY3Rpb24oKXtyZXR1cm4gSn0pLG11bHRpOiEwfSxKPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX3JlbmRlcmVyPXQsdGhpcy5fZWxlbWVudFJlZj1lLHRoaXMub25DaGFuZ2U9ZnVuY3Rpb24odCl7fSx0aGlzLm9uVG91Y2hlZD1mdW5jdGlvbigpe319cmV0dXJuIHQucHJvdG90eXBlLndyaXRlVmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbD09dD9cIlwiOnQ7dGhpcy5fcmVuZGVyZXIuc2V0RWxlbWVudFByb3BlcnR5KHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudCxcInZhbHVlXCIsZSl9LHQucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2U9ZnVuY3Rpb24odCl7dGhpcy5vbkNoYW5nZT10fSx0LnByb3RvdHlwZS5yZWdpc3Rlck9uVG91Y2hlZD1mdW5jdGlvbih0KXt0aGlzLm9uVG91Y2hlZD10fSx0LnByb3RvdHlwZS5zZXREaXNhYmxlZFN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3JlbmRlcmVyLnNldEVsZW1lbnRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsXCJkaXNhYmxlZFwiLHQpfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcImlucHV0Om5vdChbdHlwZT1jaGVja2JveF0pW2Zvcm1Db250cm9sTmFtZV0sdGV4dGFyZWFbZm9ybUNvbnRyb2xOYW1lXSxpbnB1dDpub3QoW3R5cGU9Y2hlY2tib3hdKVtmb3JtQ29udHJvbF0sdGV4dGFyZWFbZm9ybUNvbnRyb2xdLGlucHV0Om5vdChbdHlwZT1jaGVja2JveF0pW25nTW9kZWxdLHRleHRhcmVhW25nTW9kZWxdLFtuZ0RlZmF1bHRDb250cm9sXVwiLGhvc3Q6e1wiKGlucHV0KVwiOlwib25DaGFuZ2UoJGV2ZW50LnRhcmdldC52YWx1ZSlcIixcIihibHVyKVwiOlwib25Ub3VjaGVkKClcIn0scHJvdmlkZXJzOltaXX1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTplLlJlbmRlcmVyfSx7dHlwZTplLkVsZW1lbnRSZWZ9XX0sdH0oKSx0dD17cHJvdmlkZTpRLHVzZUV4aXN0aW5nOmUuZm9yd2FyZFJlZihmdW5jdGlvbigpe3JldHVybiBldH0pLG11bHRpOiEwfSxldD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9yZW5kZXJlcj10LHRoaXMuX2VsZW1lbnRSZWY9ZSx0aGlzLm9uQ2hhbmdlPWZ1bmN0aW9uKHQpe30sdGhpcy5vblRvdWNoZWQ9ZnVuY3Rpb24oKXt9fXJldHVybiB0LnByb3RvdHlwZS53cml0ZVZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGw9PXQ/XCJcIjp0O3RoaXMuX3JlbmRlcmVyLnNldEVsZW1lbnRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsXCJ2YWx1ZVwiLGUpfSx0LnByb3RvdHlwZS5yZWdpc3Rlck9uQ2hhbmdlPWZ1bmN0aW9uKHQpe3RoaXMub25DaGFuZ2U9ZnVuY3Rpb24oZSl7dChcIlwiPT1lP251bGw6cGFyc2VGbG9hdChlKSl9fSx0LnByb3RvdHlwZS5yZWdpc3Rlck9uVG91Y2hlZD1mdW5jdGlvbih0KXt0aGlzLm9uVG91Y2hlZD10fSx0LnByb3RvdHlwZS5zZXREaXNhYmxlZFN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3JlbmRlcmVyLnNldEVsZW1lbnRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsXCJkaXNhYmxlZFwiLHQpfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcImlucHV0W3R5cGU9bnVtYmVyXVtmb3JtQ29udHJvbE5hbWVdLGlucHV0W3R5cGU9bnVtYmVyXVtmb3JtQ29udHJvbF0saW5wdXRbdHlwZT1udW1iZXJdW25nTW9kZWxdXCIsaG9zdDp7XCIoY2hhbmdlKVwiOlwib25DaGFuZ2UoJGV2ZW50LnRhcmdldC52YWx1ZSlcIixcIihpbnB1dClcIjpcIm9uQ2hhbmdlKCRldmVudC50YXJnZXQudmFsdWUpXCIsXCIoYmx1cilcIjpcIm9uVG91Y2hlZCgpXCJ9LHByb3ZpZGVyczpbdHRdfV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOmUuUmVuZGVyZXJ9LHt0eXBlOmUuRWxlbWVudFJlZn1dfSx0fSgpLG50PXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxydD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fcGFyZW50PW51bGwsdGhpcy5uYW1lPW51bGwsdGhpcy52YWx1ZUFjY2Vzc29yPW51bGwsdGhpcy5fcmF3VmFsaWRhdG9ycz1bXSx0aGlzLl9yYXdBc3luY1ZhbGlkYXRvcnM9W119cmV0dXJuIG50KGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidmFsaWRhdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBnKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYXN5bmNWYWxpZGF0b3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS52aWV3VG9Nb2RlbFVwZGF0ZT1mdW5jdGlvbih0KXt9LGV9KEYpLGl0PXtwcm92aWRlOlEsdXNlRXhpc3Rpbmc6ZS5mb3J3YXJkUmVmKGZ1bmN0aW9uKCl7cmV0dXJuIHN0fSksbXVsdGk6ITB9LG90PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2FjY2Vzc29ycz1bXX1yZXR1cm4gdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7dGhpcy5fYWNjZXNzb3JzLnB1c2goW3QsZV0pfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2FjY2Vzc29ycy5sZW5ndGgtMTtlPj0wOy0tZSlpZih0aGlzLl9hY2Nlc3NvcnNbZV1bMV09PT10KXJldHVybiB2b2lkIHRoaXMuX2FjY2Vzc29ycy5zcGxpY2UoZSwxKX0sdC5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5fYWNjZXNzb3JzLmZvckVhY2goZnVuY3Rpb24obil7ZS5faXNTYW1lR3JvdXAobix0KSYmblsxXSE9PXQmJm5bMV0uZmlyZVVuY2hlY2sodC52YWx1ZSl9KX0sdC5wcm90b3R5cGUuX2lzU2FtZUdyb3VwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0WzBdLmNvbnRyb2wmJih0WzBdLl9wYXJlbnQ9PT1lLl9jb250cm9sLl9wYXJlbnQmJnRbMV0ubmFtZT09PWUubmFtZSl9LHQuZGVjb3JhdG9ycz1be3R5cGU6ZS5JbmplY3RhYmxlfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybltdfSx0fSgpLHN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLl9yZW5kZXJlcj10LHRoaXMuX2VsZW1lbnRSZWY9ZSx0aGlzLl9yZWdpc3RyeT1uLHRoaXMuX2luamVjdG9yPXIsdGhpcy5vbkNoYW5nZT1mdW5jdGlvbigpe30sdGhpcy5vblRvdWNoZWQ9ZnVuY3Rpb24oKXt9fXJldHVybiB0LnByb3RvdHlwZS5uZ09uSW5pdD1mdW5jdGlvbigpe3RoaXMuX2NvbnRyb2w9dGhpcy5faW5qZWN0b3IuZ2V0KHJ0KSx0aGlzLl9jaGVja05hbWUoKSx0aGlzLl9yZWdpc3RyeS5hZGQodGhpcy5fY29udHJvbCx0aGlzKX0sdC5wcm90b3R5cGUubmdPbkRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9yZWdpc3RyeS5yZW1vdmUodGhpcyl9LHQucHJvdG90eXBlLndyaXRlVmFsdWU9ZnVuY3Rpb24odCl7dGhpcy5fc3RhdGU9dD09PXRoaXMudmFsdWUsdGhpcy5fcmVuZGVyZXIuc2V0RWxlbWVudFByb3BlcnR5KHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudCxcImNoZWNrZWRcIix0aGlzLl9zdGF0ZSl9LHQucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLl9mbj10LHRoaXMub25DaGFuZ2U9ZnVuY3Rpb24oKXt0KGUudmFsdWUpLGUuX3JlZ2lzdHJ5LnNlbGVjdChlKX19LHQucHJvdG90eXBlLmZpcmVVbmNoZWNrPWZ1bmN0aW9uKHQpe3RoaXMud3JpdGVWYWx1ZSh0KX0sdC5wcm90b3R5cGUucmVnaXN0ZXJPblRvdWNoZWQ9ZnVuY3Rpb24odCl7dGhpcy5vblRvdWNoZWQ9dH0sdC5wcm90b3R5cGUuc2V0RGlzYWJsZWRTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9yZW5kZXJlci5zZXRFbGVtZW50UHJvcGVydHkodGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LFwiZGlzYWJsZWRcIix0KX0sdC5wcm90b3R5cGUuX2NoZWNrTmFtZT1mdW5jdGlvbigpe3RoaXMubmFtZSYmdGhpcy5mb3JtQ29udHJvbE5hbWUmJnRoaXMubmFtZSE9PXRoaXMuZm9ybUNvbnRyb2xOYW1lJiZ0aGlzLl90aHJvd05hbWVFcnJvcigpLCF0aGlzLm5hbWUmJnRoaXMuZm9ybUNvbnRyb2xOYW1lJiYodGhpcy5uYW1lPXRoaXMuZm9ybUNvbnRyb2xOYW1lKX0sdC5wcm90b3R5cGUuX3Rocm93TmFtZUVycm9yPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCdcXG4gICAgICBJZiB5b3UgZGVmaW5lIGJvdGggYSBuYW1lIGFuZCBhIGZvcm1Db250cm9sTmFtZSBhdHRyaWJ1dGUgb24geW91ciByYWRpbyBidXR0b24sIHRoZWlyIHZhbHVlc1xcbiAgICAgIG11c3QgbWF0Y2guIEV4OiA8aW5wdXQgdHlwZT1cInJhZGlvXCIgZm9ybUNvbnRyb2xOYW1lPVwiZm9vZFwiIG5hbWU9XCJmb29kXCI+XFxuICAgICcpfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcImlucHV0W3R5cGU9cmFkaW9dW2Zvcm1Db250cm9sTmFtZV0saW5wdXRbdHlwZT1yYWRpb11bZm9ybUNvbnRyb2xdLGlucHV0W3R5cGU9cmFkaW9dW25nTW9kZWxdXCIsaG9zdDp7XCIoY2hhbmdlKVwiOlwib25DaGFuZ2UoKVwiLFwiKGJsdXIpXCI6XCJvblRvdWNoZWQoKVwifSxwcm92aWRlcnM6W2l0XX1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTplLlJlbmRlcmVyfSx7dHlwZTplLkVsZW1lbnRSZWZ9LHt0eXBlOm90fSx7dHlwZTplLkluamVjdG9yfV19LHQucHJvcERlY29yYXRvcnM9e25hbWU6W3t0eXBlOmUuSW5wdXR9XSxmb3JtQ29udHJvbE5hbWU6W3t0eXBlOmUuSW5wdXR9XSx2YWx1ZTpbe3R5cGU6ZS5JbnB1dH1dfSx0fSgpLGF0PXtwcm92aWRlOlEsdXNlRXhpc3Rpbmc6ZS5mb3J3YXJkUmVmKGZ1bmN0aW9uKCl7cmV0dXJuIHV0fSksbXVsdGk6ITB9LHV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX3JlbmRlcmVyPXQsdGhpcy5fZWxlbWVudFJlZj1lLHRoaXMub25DaGFuZ2U9ZnVuY3Rpb24odCl7fSx0aGlzLm9uVG91Y2hlZD1mdW5jdGlvbigpe319cmV0dXJuIHQucHJvdG90eXBlLndyaXRlVmFsdWU9ZnVuY3Rpb24odCl7dGhpcy5fcmVuZGVyZXIuc2V0RWxlbWVudFByb3BlcnR5KHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudCxcInZhbHVlXCIscGFyc2VGbG9hdCh0KSl9LHQucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2U9ZnVuY3Rpb24odCl7dGhpcy5vbkNoYW5nZT1mdW5jdGlvbihlKXt0KFwiXCI9PWU/bnVsbDpwYXJzZUZsb2F0KGUpKX19LHQucHJvdG90eXBlLnJlZ2lzdGVyT25Ub3VjaGVkPWZ1bmN0aW9uKHQpe3RoaXMub25Ub3VjaGVkPXR9LHQucHJvdG90eXBlLnNldERpc2FibGVkU3RhdGU9ZnVuY3Rpb24odCl7dGhpcy5fcmVuZGVyZXIuc2V0RWxlbWVudFByb3BlcnR5KHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudCxcImRpc2FibGVkXCIsdCl9LHQuZGVjb3JhdG9ycz1be3R5cGU6ZS5EaXJlY3RpdmUsYXJnczpbe3NlbGVjdG9yOlwiaW5wdXRbdHlwZT1yYW5nZV1bZm9ybUNvbnRyb2xOYW1lXSxpbnB1dFt0eXBlPXJhbmdlXVtmb3JtQ29udHJvbF0saW5wdXRbdHlwZT1yYW5nZV1bbmdNb2RlbF1cIixob3N0OntcIihjaGFuZ2UpXCI6XCJvbkNoYW5nZSgkZXZlbnQudGFyZ2V0LnZhbHVlKVwiLFwiKGlucHV0KVwiOlwib25DaGFuZ2UoJGV2ZW50LnRhcmdldC52YWx1ZSlcIixcIihibHVyKVwiOlwib25Ub3VjaGVkKClcIn0scHJvdmlkZXJzOlthdF19XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6ZS5SZW5kZXJlcn0se3R5cGU6ZS5FbGVtZW50UmVmfV19LHR9KCksY3Q9e3Byb3ZpZGU6USx1c2VFeGlzdGluZzplLmZvcndhcmRSZWYoZnVuY3Rpb24oKXtyZXR1cm4gbHR9KSxtdWx0aTohMH0sbHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fcmVuZGVyZXI9dCx0aGlzLl9lbGVtZW50UmVmPWUsdGhpcy5fb3B0aW9uTWFwPW5ldyBNYXAsdGhpcy5faWRDb3VudGVyPTAsdGhpcy5vbkNoYW5nZT1mdW5jdGlvbih0KXt9LHRoaXMub25Ub3VjaGVkPWZ1bmN0aW9uKCl7fX1yZXR1cm4gdC5wcm90b3R5cGUud3JpdGVWYWx1ZT1mdW5jdGlvbih0KXt0aGlzLnZhbHVlPXQ7dmFyIGU9dGhpcy5fZ2V0T3B0aW9uSWQodCk7bnVsbD09ZSYmdGhpcy5fcmVuZGVyZXIuc2V0RWxlbWVudFByb3BlcnR5KHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudCxcInNlbGVjdGVkSW5kZXhcIiwtMSk7dmFyIG49XyhlLHQpO3RoaXMuX3JlbmRlcmVyLnNldEVsZW1lbnRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsXCJ2YWx1ZVwiLG4pfSx0LnByb3RvdHlwZS5yZWdpc3Rlck9uQ2hhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5vbkNoYW5nZT1mdW5jdGlvbihuKXtlLnZhbHVlPW4sdChlLl9nZXRPcHRpb25WYWx1ZShuKSl9fSx0LnByb3RvdHlwZS5yZWdpc3Rlck9uVG91Y2hlZD1mdW5jdGlvbih0KXt0aGlzLm9uVG91Y2hlZD10fSx0LnByb3RvdHlwZS5zZXREaXNhYmxlZFN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3JlbmRlcmVyLnNldEVsZW1lbnRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsXCJkaXNhYmxlZFwiLHQpfSx0LnByb3RvdHlwZS5fcmVnaXN0ZXJPcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5faWRDb3VudGVyKyspLnRvU3RyaW5nKCl9LHQucHJvdG90eXBlLl9nZXRPcHRpb25JZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPUFycmF5LmZyb20odGhpcy5fb3B0aW9uTWFwLmtleXMoKSk7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV07aWYodSh0aGlzLl9vcHRpb25NYXAuZ2V0KHIpLHQpKXJldHVybiByfXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5fZ2V0T3B0aW9uVmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9Yih0KTtyZXR1cm4gdGhpcy5fb3B0aW9uTWFwLmhhcyhlKT90aGlzLl9vcHRpb25NYXAuZ2V0KGUpOnR9LHQuZGVjb3JhdG9ycz1be3R5cGU6ZS5EaXJlY3RpdmUsYXJnczpbe3NlbGVjdG9yOlwic2VsZWN0Om5vdChbbXVsdGlwbGVdKVtmb3JtQ29udHJvbE5hbWVdLHNlbGVjdDpub3QoW211bHRpcGxlXSlbZm9ybUNvbnRyb2xdLHNlbGVjdDpub3QoW211bHRpcGxlXSlbbmdNb2RlbF1cIixob3N0OntcIihjaGFuZ2UpXCI6XCJvbkNoYW5nZSgkZXZlbnQudGFyZ2V0LnZhbHVlKVwiLFwiKGJsdXIpXCI6XCJvblRvdWNoZWQoKVwifSxwcm92aWRlcnM6W2N0XX1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTplLlJlbmRlcmVyfSx7dHlwZTplLkVsZW1lbnRSZWZ9XX0sdH0oKSxwdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuX2VsZW1lbnQ9dCx0aGlzLl9yZW5kZXJlcj1lLHRoaXMuX3NlbGVjdD1uLHRoaXMuX3NlbGVjdCYmKHRoaXMuaWQ9dGhpcy5fc2VsZWN0Ll9yZWdpc3Rlck9wdGlvbigpKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmdWYWx1ZVwiLHtzZXQ6ZnVuY3Rpb24odCl7bnVsbCE9dGhpcy5fc2VsZWN0JiYodGhpcy5fc2VsZWN0Ll9vcHRpb25NYXAuc2V0KHRoaXMuaWQsdCksdGhpcy5fc2V0RWxlbWVudFZhbHVlKF8odGhpcy5pZCx0KSksdGhpcy5fc2VsZWN0LndyaXRlVmFsdWUodGhpcy5fc2VsZWN0LnZhbHVlKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidmFsdWVcIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NldEVsZW1lbnRWYWx1ZSh0KSx0aGlzLl9zZWxlY3QmJnRoaXMuX3NlbGVjdC53cml0ZVZhbHVlKHRoaXMuX3NlbGVjdC52YWx1ZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuX3NldEVsZW1lbnRWYWx1ZT1mdW5jdGlvbih0KXt0aGlzLl9yZW5kZXJlci5zZXRFbGVtZW50UHJvcGVydHkodGhpcy5fZWxlbWVudC5uYXRpdmVFbGVtZW50LFwidmFsdWVcIix0KX0sdC5wcm90b3R5cGUubmdPbkRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9zZWxlY3QmJih0aGlzLl9zZWxlY3QuX29wdGlvbk1hcC5kZWxldGUodGhpcy5pZCksdGhpcy5fc2VsZWN0LndyaXRlVmFsdWUodGhpcy5fc2VsZWN0LnZhbHVlKSl9LHQuZGVjb3JhdG9ycz1be3R5cGU6ZS5EaXJlY3RpdmUsYXJnczpbe3NlbGVjdG9yOlwib3B0aW9uXCJ9XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6ZS5FbGVtZW50UmVmfSx7dHlwZTplLlJlbmRlcmVyfSx7dHlwZTpsdCxkZWNvcmF0b3JzOlt7dHlwZTplLk9wdGlvbmFsfSx7dHlwZTplLkhvc3R9XX1dfSx0LnByb3BEZWNvcmF0b3JzPXtuZ1ZhbHVlOlt7dHlwZTplLklucHV0LGFyZ3M6W1wibmdWYWx1ZVwiXX1dLHZhbHVlOlt7dHlwZTplLklucHV0LGFyZ3M6W1widmFsdWVcIl19XX0sdH0oKSxodD17cHJvdmlkZTpRLHVzZUV4aXN0aW5nOmUuZm9yd2FyZFJlZihmdW5jdGlvbigpe3JldHVybiBmdH0pLG11bHRpOiEwfSxmdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9yZW5kZXJlcj10LHRoaXMuX2VsZW1lbnRSZWY9ZSx0aGlzLl9vcHRpb25NYXA9bmV3IE1hcCx0aGlzLl9pZENvdW50ZXI9MCx0aGlzLm9uQ2hhbmdlPWZ1bmN0aW9uKHQpe30sdGhpcy5vblRvdWNoZWQ9ZnVuY3Rpb24oKXt9fXJldHVybiB0LnByb3RvdHlwZS53cml0ZVZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy52YWx1ZT10O3ZhciBuO2lmKEFycmF5LmlzQXJyYXkodCkpe3ZhciByPXQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9nZXRPcHRpb25JZCh0KX0pO249ZnVuY3Rpb24odCxlKXt0Ll9zZXRTZWxlY3RlZChyLmluZGV4T2YoZS50b1N0cmluZygpKT4tMSl9fWVsc2Ugbj1mdW5jdGlvbih0LGUpe3QuX3NldFNlbGVjdGVkKCExKX07dGhpcy5fb3B0aW9uTWFwLmZvckVhY2gobil9LHQucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLm9uQ2hhbmdlPWZ1bmN0aW9uKG4pe3ZhciByPVtdO2lmKG4uaGFzT3duUHJvcGVydHkoXCJzZWxlY3RlZE9wdGlvbnNcIikpZm9yKHZhciBpPW4uc2VsZWN0ZWRPcHRpb25zLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIHM9aS5pdGVtKG8pLGE9ZS5fZ2V0T3B0aW9uVmFsdWUocy52YWx1ZSk7ci5wdXNoKGEpfWVsc2UgZm9yKHZhciBpPW4ub3B0aW9ucyxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBzPWkuaXRlbShvKTtpZihzLnNlbGVjdGVkKXt2YXIgYT1lLl9nZXRPcHRpb25WYWx1ZShzLnZhbHVlKTtyLnB1c2goYSl9fWUudmFsdWU9cix0KHIpfX0sdC5wcm90b3R5cGUucmVnaXN0ZXJPblRvdWNoZWQ9ZnVuY3Rpb24odCl7dGhpcy5vblRvdWNoZWQ9dH0sdC5wcm90b3R5cGUuc2V0RGlzYWJsZWRTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9yZW5kZXJlci5zZXRFbGVtZW50UHJvcGVydHkodGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LFwiZGlzYWJsZWRcIix0KX0sdC5wcm90b3R5cGUuX3JlZ2lzdGVyT3B0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPSh0aGlzLl9pZENvdW50ZXIrKykudG9TdHJpbmcoKTtyZXR1cm4gdGhpcy5fb3B0aW9uTWFwLnNldChlLHQpLGV9LHQucHJvdG90eXBlLl9nZXRPcHRpb25JZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPUFycmF5LmZyb20odGhpcy5fb3B0aW9uTWFwLmtleXMoKSk7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV07aWYodSh0aGlzLl9vcHRpb25NYXAuZ2V0KHIpLl92YWx1ZSx0KSlyZXR1cm4gcn1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuX2dldE9wdGlvblZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPUModCk7cmV0dXJuIHRoaXMuX29wdGlvbk1hcC5oYXMoZSk/dGhpcy5fb3B0aW9uTWFwLmdldChlKS5fdmFsdWU6dH0sdC5kZWNvcmF0b3JzPVt7dHlwZTplLkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJzZWxlY3RbbXVsdGlwbGVdW2Zvcm1Db250cm9sTmFtZV0sc2VsZWN0W211bHRpcGxlXVtmb3JtQ29udHJvbF0sc2VsZWN0W211bHRpcGxlXVtuZ01vZGVsXVwiLGhvc3Q6e1wiKGNoYW5nZSlcIjpcIm9uQ2hhbmdlKCRldmVudC50YXJnZXQpXCIsXCIoYmx1cilcIjpcIm9uVG91Y2hlZCgpXCJ9LHByb3ZpZGVyczpbaHRdfV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOmUuUmVuZGVyZXJ9LHt0eXBlOmUuRWxlbWVudFJlZn1dfSx0fSgpLGR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fZWxlbWVudD10LHRoaXMuX3JlbmRlcmVyPWUsdGhpcy5fc2VsZWN0PW4sdGhpcy5fc2VsZWN0JiYodGhpcy5pZD10aGlzLl9zZWxlY3QuX3JlZ2lzdGVyT3B0aW9uKHRoaXMpKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmdWYWx1ZVwiLHtzZXQ6ZnVuY3Rpb24odCl7bnVsbCE9dGhpcy5fc2VsZWN0JiYodGhpcy5fdmFsdWU9dCx0aGlzLl9zZXRFbGVtZW50VmFsdWUodyh0aGlzLmlkLHQpKSx0aGlzLl9zZWxlY3Qud3JpdGVWYWx1ZSh0aGlzLl9zZWxlY3QudmFsdWUpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ2YWx1ZVwiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2VsZWN0Pyh0aGlzLl92YWx1ZT10LHRoaXMuX3NldEVsZW1lbnRWYWx1ZSh3KHRoaXMuaWQsdCkpLHRoaXMuX3NlbGVjdC53cml0ZVZhbHVlKHRoaXMuX3NlbGVjdC52YWx1ZSkpOnRoaXMuX3NldEVsZW1lbnRWYWx1ZSh0KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5fc2V0RWxlbWVudFZhbHVlPWZ1bmN0aW9uKHQpe3RoaXMuX3JlbmRlcmVyLnNldEVsZW1lbnRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsXCJ2YWx1ZVwiLHQpfSx0LnByb3RvdHlwZS5fc2V0U2VsZWN0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5fcmVuZGVyZXIuc2V0RWxlbWVudFByb3BlcnR5KHRoaXMuX2VsZW1lbnQubmF0aXZlRWxlbWVudCxcInNlbGVjdGVkXCIsdCl9LHQucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fc2VsZWN0JiYodGhpcy5fc2VsZWN0Ll9vcHRpb25NYXAuZGVsZXRlKHRoaXMuaWQpLHRoaXMuX3NlbGVjdC53cml0ZVZhbHVlKHRoaXMuX3NlbGVjdC52YWx1ZSkpfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIm9wdGlvblwifV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOmUuRWxlbWVudFJlZn0se3R5cGU6ZS5SZW5kZXJlcn0se3R5cGU6ZnQsZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5Ib3N0fV19XX0sdC5wcm9wRGVjb3JhdG9ycz17bmdWYWx1ZTpbe3R5cGU6ZS5JbnB1dCxhcmdzOltcIm5nVmFsdWVcIl19XSx2YWx1ZTpbe3R5cGU6ZS5JbnB1dCxhcmdzOltcInZhbHVlXCJdfV19LHR9KCkseXQ9W0ssdXQsZXQsbHQsZnQsc3RdLG10PXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSx2dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG10KGUsdCksZS5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9jaGVja1BhcmVudFR5cGUoKSx0aGlzLmZvcm1EaXJlY3RpdmUuYWRkRm9ybUdyb3VwKHRoaXMpfSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZm9ybURpcmVjdGl2ZSYmdGhpcy5mb3JtRGlyZWN0aXZlLnJlbW92ZUZvcm1Hcm91cCh0aGlzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY29udHJvbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb3JtRGlyZWN0aXZlLmdldEZvcm1Hcm91cCh0aGlzKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFKHRoaXMubmFtZSx0aGlzLl9wYXJlbnQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImZvcm1EaXJlY3RpdmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcmVudD90aGlzLl9wYXJlbnQuZm9ybURpcmVjdGl2ZTpudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInZhbGlkYXRvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQSh0aGlzLl92YWxpZGF0b3JzKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhc3luY1ZhbGlkYXRvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTSh0aGlzLl9hc3luY1ZhbGlkYXRvcnMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9jaGVja1BhcmVudFR5cGU9ZnVuY3Rpb24oKXt9LGV9KEgpLGd0PXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxfdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fY2Q9dH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmdDbGFzc1VudG91Y2hlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2NkLmNvbnRyb2wmJnRoaXMuX2NkLmNvbnRyb2wudW50b3VjaGVkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5nQ2xhc3NUb3VjaGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5fY2QuY29udHJvbCYmdGhpcy5fY2QuY29udHJvbC50b3VjaGVkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5nQ2xhc3NQcmlzdGluZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2NkLmNvbnRyb2wmJnRoaXMuX2NkLmNvbnRyb2wucHJpc3RpbmV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmdDbGFzc0RpcnR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5fY2QuY29udHJvbCYmdGhpcy5fY2QuY29udHJvbC5kaXJ0eX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJuZ0NsYXNzVmFsaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9jZC5jb250cm9sJiZ0aGlzLl9jZC5jb250cm9sLnZhbGlkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5nQ2xhc3NJbnZhbGlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5fY2QuY29udHJvbCYmdGhpcy5fY2QuY29udHJvbC5pbnZhbGlkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5nQ2xhc3NQZW5kaW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5fY2QuY29udHJvbCYmdGhpcy5fY2QuY29udHJvbC5wZW5kaW5nfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHR9KCksYnQ9e1wiW2NsYXNzLm5nLXVudG91Y2hlZF1cIjpcIm5nQ2xhc3NVbnRvdWNoZWRcIixcIltjbGFzcy5uZy10b3VjaGVkXVwiOlwibmdDbGFzc1RvdWNoZWRcIixcIltjbGFzcy5uZy1wcmlzdGluZV1cIjpcIm5nQ2xhc3NQcmlzdGluZVwiLFwiW2NsYXNzLm5nLWRpcnR5XVwiOlwibmdDbGFzc0RpcnR5XCIsXCJbY2xhc3MubmctdmFsaWRdXCI6XCJuZ0NsYXNzVmFsaWRcIixcIltjbGFzcy5uZy1pbnZhbGlkXVwiOlwibmdDbGFzc0ludmFsaWRcIixcIltjbGFzcy5uZy1wZW5kaW5nXVwiOlwibmdDbGFzc1BlbmRpbmdcIn0sd3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlKXt0LmNhbGwodGhpcyxlKX1yZXR1cm4gZ3Qobix0KSxuLmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltmb3JtQ29udHJvbE5hbWVdLFtuZ01vZGVsXSxbZm9ybUNvbnRyb2xdXCIsaG9zdDpidH1dfV0sbi5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpydCxkZWNvcmF0b3JzOlt7dHlwZTplLlNlbGZ9XX1dfSxufShfdCksQ3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlKXt0LmNhbGwodGhpcyxlKX1yZXR1cm4gZ3Qobix0KSxuLmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltmb3JtR3JvdXBOYW1lXSxbZm9ybUFycmF5TmFtZV0sW25nTW9kZWxHcm91cF0sW2Zvcm1Hcm91cF0sZm9ybTpub3QoW25nTm9Gb3JtXSksW25nRm9ybV1cIixob3N0OmJ0fV19XSxuLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOkgsZGVjb3JhdG9yczpbe3R5cGU6ZS5TZWxmfV19XX0sbn0oX3QpLEV0PXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxTdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZvaWQgMD09PWUmJihlPSExKSx0LmNhbGwodGhpcyksdGhpcy5fX2lzQXN5bmM9ZX1yZXR1cm4gRXQoZSx0KSxlLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLG89ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LHM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlPyhpPXRoaXMuX19pc0FzeW5jP2Z1bmN0aW9uKHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZS5uZXh0KHQpfSl9OmZ1bmN0aW9uKHQpe2UubmV4dCh0KX0sZS5lcnJvciYmKG89dGhpcy5fX2lzQXN5bmM/ZnVuY3Rpb24odCl7c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBlLmVycm9yKHQpfSl9OmZ1bmN0aW9uKHQpe2UuZXJyb3IodCl9KSxlLmNvbXBsZXRlJiYocz10aGlzLl9faXNBc3luYz9mdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZS5jb21wbGV0ZSgpfSl9OmZ1bmN0aW9uKCl7ZS5jb21wbGV0ZSgpfSkpOihpPXRoaXMuX19pc0FzeW5jP2Z1bmN0aW9uKHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZSh0KX0pfTpmdW5jdGlvbih0KXtlKHQpfSxuJiYobz10aGlzLl9faXNBc3luYz9mdW5jdGlvbih0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIG4odCl9KX06ZnVuY3Rpb24odCl7bih0KX0pLHImJihzPXRoaXMuX19pc0FzeW5jP2Z1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiByKCl9KX06ZnVuY3Rpb24oKXtyKCl9KSksdC5wcm90b3R5cGUuc3Vic2NyaWJlLmNhbGwodGhpcyxpLG8scyl9LGV9KHIuU3ViamVjdCkseHQ9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LFB0PVwiVkFMSURcIixPdD1cIklOVkFMSURcIixUdD1cIlBFTkRJTkdcIixBdD1cIkRJU0FCTEVEXCIsTXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy52YWxpZGF0b3I9dCx0aGlzLmFzeW5jVmFsaWRhdG9yPWUsdGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKCl7fSx0aGlzLl9wcmlzdGluZT0hMCx0aGlzLl90b3VjaGVkPSExLHRoaXMuX29uRGlzYWJsZWRDaGFuZ2U9W119cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInZhbHVlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJwYXJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcmVudH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJzdGF0dXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1c30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ2YWxpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzPT09UHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaW52YWxpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzPT09T3R9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGVuZGluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzPT1UdH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkaXNhYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzPT09QXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZW5hYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzIT09QXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZXJyb3JzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lcnJvcnN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicHJpc3RpbmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByaXN0aW5lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRpcnR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLnByaXN0aW5lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInRvdWNoZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdWNoZWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidW50b3VjaGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLl90b3VjaGVkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInZhbHVlQ2hhbmdlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWVDaGFuZ2VzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInN0YXR1c0NoYW5nZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1c0NoYW5nZXN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuc2V0VmFsaWRhdG9ycz1mdW5jdGlvbih0KXt0aGlzLnZhbGlkYXRvcj1qKHQpfSx0LnByb3RvdHlwZS5zZXRBc3luY1ZhbGlkYXRvcnM9ZnVuY3Rpb24odCl7dGhpcy5hc3luY1ZhbGlkYXRvcj1WKHQpfSx0LnByb3RvdHlwZS5jbGVhclZhbGlkYXRvcnM9ZnVuY3Rpb24oKXt0aGlzLnZhbGlkYXRvcj1udWxsfSx0LnByb3RvdHlwZS5jbGVhckFzeW5jVmFsaWRhdG9ycz1mdW5jdGlvbigpe3RoaXMuYXN5bmNWYWxpZGF0b3I9bnVsbH0sdC5wcm90b3R5cGUubWFya0FzVG91Y2hlZD1mdW5jdGlvbih0KXt2YXIgZT0odm9pZCAwPT09dD97fTp0KS5vbmx5U2VsZjt0aGlzLl90b3VjaGVkPSEwLHRoaXMuX3BhcmVudCYmIWUmJnRoaXMuX3BhcmVudC5tYXJrQXNUb3VjaGVkKHtvbmx5U2VsZjplfSl9LHQucHJvdG90eXBlLm1hcmtBc1VudG91Y2hlZD1mdW5jdGlvbih0KXt2YXIgZT0odm9pZCAwPT09dD97fTp0KS5vbmx5U2VsZjt0aGlzLl90b3VjaGVkPSExLHRoaXMuX2ZvckVhY2hDaGlsZChmdW5jdGlvbih0KXt0Lm1hcmtBc1VudG91Y2hlZCh7b25seVNlbGY6ITB9KX0pLHRoaXMuX3BhcmVudCYmIWUmJnRoaXMuX3BhcmVudC5fdXBkYXRlVG91Y2hlZCh7b25seVNlbGY6ZX0pfSx0LnByb3RvdHlwZS5tYXJrQXNEaXJ0eT1mdW5jdGlvbih0KXt2YXIgZT0odm9pZCAwPT09dD97fTp0KS5vbmx5U2VsZjt0aGlzLl9wcmlzdGluZT0hMSx0aGlzLl9wYXJlbnQmJiFlJiZ0aGlzLl9wYXJlbnQubWFya0FzRGlydHkoe29ubHlTZWxmOmV9KX0sdC5wcm90b3R5cGUubWFya0FzUHJpc3RpbmU9ZnVuY3Rpb24odCl7dmFyIGU9KHZvaWQgMD09PXQ/e306dCkub25seVNlbGY7dGhpcy5fcHJpc3RpbmU9ITAsdGhpcy5fZm9yRWFjaENoaWxkKGZ1bmN0aW9uKHQpe3QubWFya0FzUHJpc3RpbmUoe29ubHlTZWxmOiEwfSl9KSx0aGlzLl9wYXJlbnQmJiFlJiZ0aGlzLl9wYXJlbnQuX3VwZGF0ZVByaXN0aW5lKHtvbmx5U2VsZjplfSl9LHQucHJvdG90eXBlLm1hcmtBc1BlbmRpbmc9ZnVuY3Rpb24odCl7dmFyIGU9KHZvaWQgMD09PXQ/e306dCkub25seVNlbGY7dGhpcy5fc3RhdHVzPVR0LHRoaXMuX3BhcmVudCYmIWUmJnRoaXMuX3BhcmVudC5tYXJrQXNQZW5kaW5nKHtvbmx5U2VsZjplfSl9LHQucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24odCl7dmFyIGU9dm9pZCAwPT09dD97fTp0LG49ZS5vbmx5U2VsZixyPWUuZW1pdEV2ZW50O3RoaXMuX3N0YXR1cz1BdCx0aGlzLl9lcnJvcnM9bnVsbCx0aGlzLl9mb3JFYWNoQ2hpbGQoZnVuY3Rpb24odCl7dC5kaXNhYmxlKHtvbmx5U2VsZjohMH0pfSksdGhpcy5fdXBkYXRlVmFsdWUoKSxyIT09ITEmJih0aGlzLl92YWx1ZUNoYW5nZXMuZW1pdCh0aGlzLl92YWx1ZSksdGhpcy5fc3RhdHVzQ2hhbmdlcy5lbWl0KHRoaXMuX3N0YXR1cykpLHRoaXMuX3VwZGF0ZUFuY2VzdG9ycyhuKSx0aGlzLl9vbkRpc2FibGVkQ2hhbmdlLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQoITApfSl9LHQucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbih0KXt2YXIgZT12b2lkIDA9PT10P3t9OnQsbj1lLm9ubHlTZWxmLHI9ZS5lbWl0RXZlbnQ7dGhpcy5fc3RhdHVzPVB0LHRoaXMuX2ZvckVhY2hDaGlsZChmdW5jdGlvbih0KXt0LmVuYWJsZSh7b25seVNlbGY6ITB9KX0pLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7b25seVNlbGY6ITAsZW1pdEV2ZW50OnJ9KSx0aGlzLl91cGRhdGVBbmNlc3RvcnMobiksdGhpcy5fb25EaXNhYmxlZENoYW5nZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0KCExKX0pfSx0LnByb3RvdHlwZS5fdXBkYXRlQW5jZXN0b3JzPWZ1bmN0aW9uKHQpe3RoaXMuX3BhcmVudCYmIXQmJih0aGlzLl9wYXJlbnQudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSgpLHRoaXMuX3BhcmVudC5fdXBkYXRlUHJpc3RpbmUoKSx0aGlzLl9wYXJlbnQuX3VwZGF0ZVRvdWNoZWQoKSl9LHQucHJvdG90eXBlLnNldFBhcmVudD1mdW5jdGlvbih0KXt0aGlzLl9wYXJlbnQ9dH0sdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnBhdGNoVmFsdWU9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5PWZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMD09PXQ/e306dCxuPWUub25seVNlbGYscj1lLmVtaXRFdmVudDt0aGlzLl9zZXRJbml0aWFsU3RhdHVzKCksdGhpcy5fdXBkYXRlVmFsdWUoKSx0aGlzLmVuYWJsZWQmJih0aGlzLl9lcnJvcnM9dGhpcy5fcnVuVmFsaWRhdG9yKCksdGhpcy5fc3RhdHVzPXRoaXMuX2NhbGN1bGF0ZVN0YXR1cygpLHRoaXMuX3N0YXR1cyE9PVB0JiZ0aGlzLl9zdGF0dXMhPT1UdHx8dGhpcy5fcnVuQXN5bmNWYWxpZGF0b3IocikpLHIhPT0hMSYmKHRoaXMuX3ZhbHVlQ2hhbmdlcy5lbWl0KHRoaXMuX3ZhbHVlKSx0aGlzLl9zdGF0dXNDaGFuZ2VzLmVtaXQodGhpcy5fc3RhdHVzKSksdGhpcy5fcGFyZW50JiYhbiYmdGhpcy5fcGFyZW50LnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe29ubHlTZWxmOm4sZW1pdEV2ZW50OnJ9KX0sdC5wcm90b3R5cGUuX3VwZGF0ZVRyZWVWYWxpZGl0eT1mdW5jdGlvbih0KXt2YXIgZT0odm9pZCAwPT09dD97ZW1pdEV2ZW50OiEwfTp0KS5lbWl0RXZlbnQ7dGhpcy5fZm9yRWFjaENoaWxkKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll91cGRhdGVUcmVlVmFsaWRpdHkoe2VtaXRFdmVudDplfSl9KSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe29ubHlTZWxmOiEwLGVtaXRFdmVudDplfSl9LHQucHJvdG90eXBlLl9zZXRJbml0aWFsU3RhdHVzPWZ1bmN0aW9uKCl7dGhpcy5fc3RhdHVzPXRoaXMuX2FsbENvbnRyb2xzRGlzYWJsZWQoKT9BdDpQdH0sdC5wcm90b3R5cGUuX3J1blZhbGlkYXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbGlkYXRvcj90aGlzLnZhbGlkYXRvcih0aGlzKTpudWxsfSx0LnByb3RvdHlwZS5fcnVuQXN5bmNWYWxpZGF0b3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLmFzeW5jVmFsaWRhdG9yKXt0aGlzLl9zdGF0dXM9VHQsdGhpcy5fY2FuY2VsRXhpc3RpbmdTdWJzY3JpcHRpb24oKTt2YXIgbj1EKHRoaXMuYXN5bmNWYWxpZGF0b3IodGhpcykpO2lmKCFXKG4pKXRocm93IG5ldyBFcnJvcihcImV4cGVjdGVkIHRoZSBmb2xsb3dpbmcgdmFsaWRhdG9yIHRvIHJldHVybiBQcm9taXNlIG9yIE9ic2VydmFibGU6IFwiK3RoaXMuYXN5bmNWYWxpZGF0b3IrXCIuIElmIHlvdSBhcmUgdXNpbmcgRm9ybUJ1aWxkZXI7IGRpZCB5b3UgZm9yZ2V0IHRvIGJyYWNlIHlvdXIgdmFsaWRhdG9ycyBpbiBhbiBhcnJheT9cIik7dGhpcy5fYXN5bmNWYWxpZGF0aW9uU3Vic2NyaXB0aW9uPW4uc3Vic2NyaWJlKHtuZXh0OmZ1bmN0aW9uKG4pe3JldHVybiBlLnNldEVycm9ycyhuLHtlbWl0RXZlbnQ6dH0pfX0pfX0sdC5wcm90b3R5cGUuX2NhbmNlbEV4aXN0aW5nU3Vic2NyaXB0aW9uPWZ1bmN0aW9uKCl7dGhpcy5fYXN5bmNWYWxpZGF0aW9uU3Vic2NyaXB0aW9uJiZ0aGlzLl9hc3luY1ZhbGlkYXRpb25TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX0sdC5wcm90b3R5cGUuc2V0RXJyb3JzPWZ1bmN0aW9uKHQsZSl7dmFyIG49KHZvaWQgMD09PWU/e306ZSkuZW1pdEV2ZW50O3RoaXMuX2Vycm9ycz10LHRoaXMuX3VwZGF0ZUNvbnRyb2xzRXJyb3JzKG4hPT0hMSl9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gTih0aGlzLHQsXCIuXCIpfSx0LnByb3RvdHlwZS5nZXRFcnJvcj1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPW51bGwpO3ZhciBuPWU/dGhpcy5nZXQoZSk6dGhpcztyZXR1cm4gbiYmbi5fZXJyb3JzP24uX2Vycm9yc1t0XTpudWxsfSx0LnByb3RvdHlwZS5oYXNFcnJvcj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSwhIXRoaXMuZ2V0RXJyb3IodCxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicm9vdFwiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpczt0Ll9wYXJlbnQ7KXQ9dC5fcGFyZW50O3JldHVybiB0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLl91cGRhdGVDb250cm9sc0Vycm9ycz1mdW5jdGlvbih0KXt0aGlzLl9zdGF0dXM9dGhpcy5fY2FsY3VsYXRlU3RhdHVzKCksdCYmdGhpcy5fc3RhdHVzQ2hhbmdlcy5lbWl0KHRoaXMuX3N0YXR1cyksdGhpcy5fcGFyZW50JiZ0aGlzLl9wYXJlbnQuX3VwZGF0ZUNvbnRyb2xzRXJyb3JzKHQpfSx0LnByb3RvdHlwZS5faW5pdE9ic2VydmFibGVzPWZ1bmN0aW9uKCl7dGhpcy5fdmFsdWVDaGFuZ2VzPW5ldyBTdCx0aGlzLl9zdGF0dXNDaGFuZ2VzPW5ldyBTdH0sdC5wcm90b3R5cGUuX2NhbGN1bGF0ZVN0YXR1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbGxDb250cm9sc0Rpc2FibGVkKCk/QXQ6dGhpcy5fZXJyb3JzP090OnRoaXMuX2FueUNvbnRyb2xzSGF2ZVN0YXR1cyhUdCk/VHQ6dGhpcy5fYW55Q29udHJvbHNIYXZlU3RhdHVzKE90KT9PdDpQdH0sdC5wcm90b3R5cGUuX3VwZGF0ZVZhbHVlPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5fZm9yRWFjaENoaWxkPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuX2FueUNvbnRyb2xzPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuX2FsbENvbnRyb2xzRGlzYWJsZWQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLl9hbnlDb250cm9sc0hhdmVTdGF0dXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FueUNvbnRyb2xzKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXR1cz09PXR9KX0sdC5wcm90b3R5cGUuX2FueUNvbnRyb2xzRGlydHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW55Q29udHJvbHMoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGlydHl9KX0sdC5wcm90b3R5cGUuX2FueUNvbnRyb2xzVG91Y2hlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbnlDb250cm9scyhmdW5jdGlvbih0KXtyZXR1cm4gdC50b3VjaGVkfSl9LHQucHJvdG90eXBlLl91cGRhdGVQcmlzdGluZT1mdW5jdGlvbih0KXt2YXIgZT0odm9pZCAwPT09dD97fTp0KS5vbmx5U2VsZjt0aGlzLl9wcmlzdGluZT0hdGhpcy5fYW55Q29udHJvbHNEaXJ0eSgpLHRoaXMuX3BhcmVudCYmIWUmJnRoaXMuX3BhcmVudC5fdXBkYXRlUHJpc3RpbmUoe29ubHlTZWxmOmV9KX0sdC5wcm90b3R5cGUuX3VwZGF0ZVRvdWNoZWQ9ZnVuY3Rpb24odCl7dmFyIGU9KHZvaWQgMD09PXQ/e306dCkub25seVNlbGY7dGhpcy5fdG91Y2hlZD10aGlzLl9hbnlDb250cm9sc1RvdWNoZWQoKSx0aGlzLl9wYXJlbnQmJiFlJiZ0aGlzLl9wYXJlbnQuX3VwZGF0ZVRvdWNoZWQoe29ubHlTZWxmOmV9KX0sdC5wcm90b3R5cGUuX2lzQm94ZWRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQmJjI9PT1PYmplY3Qua2V5cyh0KS5sZW5ndGgmJlwidmFsdWVcImluIHQmJlwiZGlzYWJsZWRcImluIHR9LHQucHJvdG90eXBlLl9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZT1mdW5jdGlvbih0KXt0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2U9dH0sdH0oKSxrdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1uJiYobj1udWxsKSx2b2lkIDA9PT1yJiYocj1udWxsKSx0LmNhbGwodGhpcyxqKG4pLFYocikpLHRoaXMuX29uQ2hhbmdlPVtdLHRoaXMuX2FwcGx5Rm9ybVN0YXRlKGUpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7b25seVNlbGY6ITAsZW1pdEV2ZW50OiExfSksdGhpcy5faW5pdE9ic2VydmFibGVzKCl9cmV0dXJuIHh0KGUsdCksZS5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dm9pZCAwPT09ZT97fTplLGk9ci5vbmx5U2VsZixvPXIuZW1pdEV2ZW50LHM9ci5lbWl0TW9kZWxUb1ZpZXdDaGFuZ2UsYT1yLmVtaXRWaWV3VG9Nb2RlbENoYW5nZTt0aGlzLl92YWx1ZT10LHRoaXMuX29uQ2hhbmdlLmxlbmd0aCYmcyE9PSExJiZ0aGlzLl9vbkNoYW5nZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0KG4uX3ZhbHVlLGEhPT0hMSl9KSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe29ubHlTZWxmOmksZW1pdEV2ZW50Om99KX0sZS5wcm90b3R5cGUucGF0Y2hWYWx1ZT1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KSx0aGlzLnNldFZhbHVlKHQsZSl9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09dCYmKHQ9bnVsbCk7dmFyIG49dm9pZCAwPT09ZT97fTplLHI9bi5vbmx5U2VsZixpPW4uZW1pdEV2ZW50O3RoaXMuX2FwcGx5Rm9ybVN0YXRlKHQpLHRoaXMubWFya0FzUHJpc3RpbmUoe29ubHlTZWxmOnJ9KSx0aGlzLm1hcmtBc1VudG91Y2hlZCh7b25seVNlbGY6cn0pLHRoaXMuc2V0VmFsdWUodGhpcy5fdmFsdWUse29ubHlTZWxmOnIsZW1pdEV2ZW50Oml9KX0sZS5wcm90b3R5cGUuX3VwZGF0ZVZhbHVlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fYW55Q29udHJvbHM9ZnVuY3Rpb24odCl7cmV0dXJuITF9LGUucHJvdG90eXBlLl9hbGxDb250cm9sc0Rpc2FibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzYWJsZWR9LGUucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2U9ZnVuY3Rpb24odCl7dGhpcy5fb25DaGFuZ2UucHVzaCh0KX0sZS5wcm90b3R5cGUuX2NsZWFyQ2hhbmdlRm5zPWZ1bmN0aW9uKCl7dGhpcy5fb25DaGFuZ2U9W10sdGhpcy5fb25EaXNhYmxlZENoYW5nZT1bXSx0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24oKXt9fSxlLnByb3RvdHlwZS5yZWdpc3Rlck9uRGlzYWJsZWRDaGFuZ2U9ZnVuY3Rpb24odCl7dGhpcy5fb25EaXNhYmxlZENoYW5nZS5wdXNoKHQpfSxlLnByb3RvdHlwZS5fZm9yRWFjaENoaWxkPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUuX2FwcGx5Rm9ybVN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMuX2lzQm94ZWRWYWx1ZSh0KT8odGhpcy5fdmFsdWU9dC52YWx1ZSx0LmRpc2FibGVkP3RoaXMuZGlzYWJsZSh7b25seVNlbGY6ITAsZW1pdEV2ZW50OiExfSk6dGhpcy5lbmFibGUoe29ubHlTZWxmOiEwLGVtaXRFdmVudDohMX0pKTp0aGlzLl92YWx1ZT10fSxlfShNdCksUnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7dm9pZCAwPT09biYmKG49bnVsbCksdm9pZCAwPT09ciYmKHI9bnVsbCksdC5jYWxsKHRoaXMsbixyKSx0aGlzLmNvbnRyb2xzPWUsdGhpcy5faW5pdE9ic2VydmFibGVzKCksdGhpcy5fc2V0VXBDb250cm9scygpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7b25seVNlbGY6ITAsZW1pdEV2ZW50OiExfSl9cmV0dXJuIHh0KGUsdCksZS5wcm90b3R5cGUucmVnaXN0ZXJDb250cm9sPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29udHJvbHNbdF0/dGhpcy5jb250cm9sc1t0XToodGhpcy5jb250cm9sc1t0XT1lLGUuc2V0UGFyZW50KHRoaXMpLGUuX3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKHRoaXMuX29uQ29sbGVjdGlvbkNoYW5nZSksZSl9LGUucHJvdG90eXBlLmFkZENvbnRyb2w9ZnVuY3Rpb24odCxlKXt0aGlzLnJlZ2lzdGVyQ29udHJvbCh0LGUpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSgpLHRoaXMuX29uQ29sbGVjdGlvbkNoYW5nZSgpfSxlLnByb3RvdHlwZS5yZW1vdmVDb250cm9sPWZ1bmN0aW9uKHQpe3RoaXMuY29udHJvbHNbdF0mJnRoaXMuY29udHJvbHNbdF0uX3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKGZ1bmN0aW9uKCl7fSksZGVsZXRlIHRoaXMuY29udHJvbHNbdF0sdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KCksdGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlKCl9LGUucHJvdG90eXBlLnNldENvbnRyb2w9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbnRyb2xzW3RdJiZ0aGlzLmNvbnRyb2xzW3RdLl9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZShmdW5jdGlvbigpe30pLGRlbGV0ZSB0aGlzLmNvbnRyb2xzW3RdLGUmJnRoaXMucmVnaXN0ZXJDb250cm9sKHQsZSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KCksdGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlKCl9LGUucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRyb2xzLmhhc093blByb3BlcnR5KHQpJiZ0aGlzLmNvbnRyb2xzW3RdLmVuYWJsZWR9LGUucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXZvaWQgMD09PWU/e306ZSxpPXIub25seVNlbGYsbz1yLmVtaXRFdmVudDt0aGlzLl9jaGVja0FsbFZhbHVlc1ByZXNlbnQodCksT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtuLl90aHJvd0lmQ29udHJvbE1pc3NpbmcoZSksbi5jb250cm9sc1tlXS5zZXRWYWx1ZSh0W2VdLHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6b30pfSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjppLGVtaXRFdmVudDpvfSl9LGUucHJvdG90eXBlLnBhdGNoVmFsdWU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dm9pZCAwPT09ZT97fTplLGk9ci5vbmx5U2VsZixvPXIuZW1pdEV2ZW50O09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oZSl7bi5jb250cm9sc1tlXSYmbi5jb250cm9sc1tlXS5wYXRjaFZhbHVlKHRbZV0se29ubHlTZWxmOiEwLGVtaXRFdmVudDpvfSl9KSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe29ubHlTZWxmOmksZW1pdEV2ZW50Om99KX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10JiYodD17fSk7dmFyIG49dm9pZCAwPT09ZT97fTplLHI9bi5vbmx5U2VsZixpPW4uZW1pdEV2ZW50O3RoaXMuX2ZvckVhY2hDaGlsZChmdW5jdGlvbihlLG4pe2UucmVzZXQodFtuXSx7b25seVNlbGY6ITAsZW1pdEV2ZW50Oml9KX0pLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7b25seVNlbGY6cixlbWl0RXZlbnQ6aX0pLHRoaXMuX3VwZGF0ZVByaXN0aW5lKHtvbmx5U2VsZjpyfSksdGhpcy5fdXBkYXRlVG91Y2hlZCh7b25seVNlbGY6cn0pfSxlLnByb3RvdHlwZS5nZXRSYXdWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWR1Y2VDaGlsZHJlbih7fSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbbl09ZSBpbnN0YW5jZW9mIGt0P2UudmFsdWU6ZS5nZXRSYXdWYWx1ZSgpLHR9KX0sZS5wcm90b3R5cGUuX3Rocm93SWZDb250cm9sTWlzc2luZz1mdW5jdGlvbih0KXtpZighT2JqZWN0LmtleXModGhpcy5jb250cm9scykubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlxcbiAgICAgICAgVGhlcmUgYXJlIG5vIGZvcm0gY29udHJvbHMgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgZ3JvdXAgeWV0LiAgSWYgeW91J3JlIHVzaW5nIG5nTW9kZWwsXFxuICAgICAgICB5b3UgbWF5IHdhbnQgdG8gY2hlY2sgbmV4dCB0aWNrIChlLmcuIHVzZSBzZXRUaW1lb3V0KS5cXG4gICAgICBcIik7aWYoIXRoaXMuY29udHJvbHNbdF0pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgZm9ybSBjb250cm9sIHdpdGggbmFtZTogXCIrdCtcIi5cIil9LGUucHJvdG90eXBlLl9mb3JFYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztPYmplY3Qua2V5cyh0aGlzLmNvbnRyb2xzKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiB0KGUuY29udHJvbHNbbl0sbil9KX0sZS5wcm90b3R5cGUuX3NldFVwQ29udHJvbHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2ZvckVhY2hDaGlsZChmdW5jdGlvbihlKXtlLnNldFBhcmVudCh0KSxlLl9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZSh0Ll9vbkNvbGxlY3Rpb25DaGFuZ2UpfSl9LGUucHJvdG90eXBlLl91cGRhdGVWYWx1ZT1mdW5jdGlvbigpe3RoaXMuX3ZhbHVlPXRoaXMuX3JlZHVjZVZhbHVlKCl9LGUucHJvdG90eXBlLl9hbnlDb250cm9scz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49ITE7cmV0dXJuIHRoaXMuX2ZvckVhY2hDaGlsZChmdW5jdGlvbihyLGkpe249bnx8ZS5jb250YWlucyhpKSYmdChyKX0pLG59LGUucHJvdG90eXBlLl9yZWR1Y2VWYWx1ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3JlZHVjZUNoaWxkcmVuKHt9LGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4obi5lbmFibGVkfHx0LmRpc2FibGVkKSYmKGVbcl09bi52YWx1ZSksZX0pfSxlLnByb3RvdHlwZS5fcmVkdWNlQ2hpbGRyZW49ZnVuY3Rpb24odCxlKXt2YXIgbj10O3JldHVybiB0aGlzLl9mb3JFYWNoQ2hpbGQoZnVuY3Rpb24odCxyKXtuPWUobix0LHIpfSksbn0sZS5wcm90b3R5cGUuX2FsbENvbnRyb2xzRGlzYWJsZWQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPU9iamVjdC5rZXlzKHRoaXMuY29udHJvbHMpO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO2lmKHRoaXMuY29udHJvbHNbbl0uZW5hYmxlZClyZXR1cm4hMX1yZXR1cm4gT2JqZWN0LmtleXModGhpcy5jb250cm9scykubGVuZ3RoPjB8fHRoaXMuZGlzYWJsZWR9LGUucHJvdG90eXBlLl9jaGVja0FsbFZhbHVlc1ByZXNlbnQ9ZnVuY3Rpb24odCl7dGhpcy5fZm9yRWFjaENoaWxkKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwPT09dFtuXSl0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHN1cHBseSBhIHZhbHVlIGZvciBmb3JtIGNvbnRyb2wgd2l0aCBuYW1lOiAnXCIrbitcIicuXCIpfSl9LGV9KE10KSxJdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt2b2lkIDA9PT1uJiYobj1udWxsKSx2b2lkIDA9PT1yJiYocj1udWxsKSx0LmNhbGwodGhpcyxuLHIpLHRoaXMuY29udHJvbHM9ZSx0aGlzLl9pbml0T2JzZXJ2YWJsZXMoKSx0aGlzLl9zZXRVcENvbnRyb2xzKCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ITF9KX1yZXR1cm4geHQoZSx0KSxlLnByb3RvdHlwZS5hdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250cm9sc1t0XX0sZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0KXt0aGlzLmNvbnRyb2xzLnB1c2godCksdGhpcy5fcmVnaXN0ZXJDb250cm9sKHQpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSgpLHRoaXMuX29uQ29sbGVjdGlvbkNoYW5nZSgpfSxlLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbnRyb2xzLnNwbGljZSh0LDAsZSksdGhpcy5fcmVnaXN0ZXJDb250cm9sKGUpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSgpLHRoaXMuX29uQ29sbGVjdGlvbkNoYW5nZSgpfSxlLnByb3RvdHlwZS5yZW1vdmVBdD1mdW5jdGlvbih0KXt0aGlzLmNvbnRyb2xzW3RdJiZ0aGlzLmNvbnRyb2xzW3RdLl9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZShmdW5jdGlvbigpe30pLHRoaXMuY29udHJvbHMuc3BsaWNlKHQsMSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KCksdGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlKCl9LGUucHJvdG90eXBlLnNldENvbnRyb2w9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbnRyb2xzW3RdJiZ0aGlzLmNvbnRyb2xzW3RdLl9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZShmdW5jdGlvbigpe30pLHRoaXMuY29udHJvbHMuc3BsaWNlKHQsMSksZSYmKHRoaXMuY29udHJvbHMuc3BsaWNlKHQsMCxlKSx0aGlzLl9yZWdpc3RlckNvbnRyb2woZSkpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSgpLHRoaXMuX29uQ29sbGVjdGlvbkNoYW5nZSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udHJvbHMubGVuZ3RofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXZvaWQgMD09PWU/e306ZSxpPXIub25seVNlbGYsbz1yLmVtaXRFdmVudDt0aGlzLl9jaGVja0FsbFZhbHVlc1ByZXNlbnQodCksdC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7bi5fdGhyb3dJZkNvbnRyb2xNaXNzaW5nKGUpLG4uYXQoZSkuc2V0VmFsdWUodCx7b25seVNlbGY6ITAsZW1pdEV2ZW50Om99KX0pLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7b25seVNlbGY6aSxlbWl0RXZlbnQ6b30pfSxlLnByb3RvdHlwZS5wYXRjaFZhbHVlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXZvaWQgMD09PWU/e306ZSxpPXIub25seVNlbGYsbz1yLmVtaXRFdmVudDt0LmZvckVhY2goZnVuY3Rpb24odCxlKXtuLmF0KGUpJiZuLmF0KGUpLnBhdGNoVmFsdWUodCx7b25seVNlbGY6ITAsZW1pdEV2ZW50Om99KX0pLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7b25seVNlbGY6aSxlbWl0RXZlbnQ6b30pfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQmJih0PVtdKTt2YXIgbj12b2lkIDA9PT1lP3t9OmUscj1uLm9ubHlTZWxmLGk9bi5lbWl0RXZlbnQ7dGhpcy5fZm9yRWFjaENoaWxkKGZ1bmN0aW9uKGUsbil7ZS5yZXNldCh0W25dLHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6aX0pfSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjpyLGVtaXRFdmVudDppfSksdGhpcy5fdXBkYXRlUHJpc3RpbmUoe29ubHlTZWxmOnJ9KSx0aGlzLl91cGRhdGVUb3VjaGVkKHtvbmx5U2VsZjpyfSl9LGUucHJvdG90eXBlLmdldFJhd1ZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udHJvbHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Yga3Q/dC52YWx1ZTp0LmdldFJhd1ZhbHVlKCl9KX0sZS5wcm90b3R5cGUuX3Rocm93SWZDb250cm9sTWlzc2luZz1mdW5jdGlvbih0KXtpZighdGhpcy5jb250cm9scy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiXFxuICAgICAgICBUaGVyZSBhcmUgbm8gZm9ybSBjb250cm9scyByZWdpc3RlcmVkIHdpdGggdGhpcyBhcnJheSB5ZXQuICBJZiB5b3UncmUgdXNpbmcgbmdNb2RlbCxcXG4gICAgICAgIHlvdSBtYXkgd2FudCB0byBjaGVjayBuZXh0IHRpY2sgKGUuZy4gdXNlIHNldFRpbWVvdXQpLlxcbiAgICAgIFwiKTtpZighdGhpcy5hdCh0KSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBmb3JtIGNvbnRyb2wgYXQgaW5kZXggXCIrdCl9LGUucHJvdG90eXBlLl9mb3JFYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5jb250cm9scy5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7dChlLG4pfSl9LGUucHJvdG90eXBlLl91cGRhdGVWYWx1ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fdmFsdWU9dGhpcy5jb250cm9scy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5hYmxlZHx8dC5kaXNhYmxlZH0pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZX0pfSxlLnByb3RvdHlwZS5fYW55Q29udHJvbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udHJvbHMuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZS5lbmFibGVkJiZ0KGUpfSl9LGUucHJvdG90eXBlLl9zZXRVcENvbnRyb2xzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztcbnRoaXMuX2ZvckVhY2hDaGlsZChmdW5jdGlvbihlKXtyZXR1cm4gdC5fcmVnaXN0ZXJDb250cm9sKGUpfSl9LGUucHJvdG90eXBlLl9jaGVja0FsbFZhbHVlc1ByZXNlbnQ9ZnVuY3Rpb24odCl7dGhpcy5fZm9yRWFjaENoaWxkKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwPT09dFtuXSl0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHN1cHBseSBhIHZhbHVlIGZvciBmb3JtIGNvbnRyb2wgYXQgaW5kZXg6IFwiK24rXCIuXCIpfSl9LGUucHJvdG90eXBlLl9hbGxDb250cm9sc0Rpc2FibGVkPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLmNvbnRyb2xzO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO2lmKG4uZW5hYmxlZClyZXR1cm4hMX1yZXR1cm4gdGhpcy5jb250cm9scy5sZW5ndGg+MHx8dGhpcy5kaXNhYmxlZH0sZS5wcm90b3R5cGUuX3JlZ2lzdGVyQ29udHJvbD1mdW5jdGlvbih0KXt0LnNldFBhcmVudCh0aGlzKSx0Ll9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZSh0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2UpfSxlfShNdCksTnQ9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LER0PXtwcm92aWRlOkgsdXNlRXhpc3Rpbmc6ZS5mb3J3YXJkUmVmKGZ1bmN0aW9uKCl7cmV0dXJuIFZ0fSl9LGp0PVByb21pc2UucmVzb2x2ZShudWxsKSxWdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUsbil7dC5jYWxsKHRoaXMpLHRoaXMuX3N1Ym1pdHRlZD0hMSx0aGlzLm5nU3VibWl0PW5ldyBTdCx0aGlzLmZvcm09bmV3IFJ0KHt9LEEoZSksTShuKSl9cmV0dXJuIE50KG4sdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwic3VibWl0dGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJtaXR0ZWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwiZm9ybURpcmVjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJjb250cm9sXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcm19LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwicGF0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJjb250cm9sc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb3JtLmNvbnRyb2xzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLG4ucHJvdG90eXBlLmFkZENvbnRyb2w9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztqdC50aGVuKGZ1bmN0aW9uKCl7dmFyIG49ZS5fZmluZENvbnRhaW5lcih0LnBhdGgpO3QuX2NvbnRyb2w9bi5yZWdpc3RlckNvbnRyb2wodC5uYW1lLHQuY29udHJvbCksUyh0LmNvbnRyb2wsdCksdC5jb250cm9sLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDohMX0pfSl9LG4ucHJvdG90eXBlLmdldENvbnRyb2w9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZm9ybS5nZXQodC5wYXRoKX0sbi5wcm90b3R5cGUucmVtb3ZlQ29udHJvbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2p0LnRoZW4oZnVuY3Rpb24oKXt2YXIgbj1lLl9maW5kQ29udGFpbmVyKHQucGF0aCk7biYmbi5yZW1vdmVDb250cm9sKHQubmFtZSl9KX0sbi5wcm90b3R5cGUuYWRkRm9ybUdyb3VwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7anQudGhlbihmdW5jdGlvbigpe3ZhciBuPWUuX2ZpbmRDb250YWluZXIodC5wYXRoKSxyPW5ldyBSdCh7fSk7UChyLHQpLG4ucmVnaXN0ZXJDb250cm9sKHQubmFtZSxyKSxyLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDohMX0pfSl9LG4ucHJvdG90eXBlLnJlbW92ZUZvcm1Hcm91cD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2p0LnRoZW4oZnVuY3Rpb24oKXt2YXIgbj1lLl9maW5kQ29udGFpbmVyKHQucGF0aCk7biYmbi5yZW1vdmVDb250cm9sKHQubmFtZSl9KX0sbi5wcm90b3R5cGUuZ2V0Rm9ybUdyb3VwPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZvcm0uZ2V0KHQucGF0aCl9LG4ucHJvdG90eXBlLnVwZGF0ZU1vZGVsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztqdC50aGVuKGZ1bmN0aW9uKCl7dmFyIHI9bi5mb3JtLmdldCh0LnBhdGgpO3Iuc2V0VmFsdWUoZSl9KX0sbi5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24odCl7dGhpcy5jb250cm9sLnNldFZhbHVlKHQpfSxuLnByb3RvdHlwZS5vblN1Ym1pdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3VibWl0dGVkPSEwLHRoaXMubmdTdWJtaXQuZW1pdCh0KSwhMX0sbi5wcm90b3R5cGUub25SZXNldD1mdW5jdGlvbigpe3RoaXMucmVzZXRGb3JtKCl9LG4ucHJvdG90eXBlLnJlc2V0Rm9ybT1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD12b2lkIDApLHRoaXMuZm9ybS5yZXNldCh0KSx0aGlzLl9zdWJtaXR0ZWQ9ITF9LG4ucHJvdG90eXBlLl9maW5kQ29udGFpbmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0LnBvcCgpLHQubGVuZ3RoP3RoaXMuZm9ybS5nZXQodCk6dGhpcy5mb3JtfSxuLmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcImZvcm06bm90KFtuZ05vRm9ybV0pOm5vdChbZm9ybUdyb3VwXSksbmdGb3JtLFtuZ0Zvcm1dXCIscHJvdmlkZXJzOltEdF0saG9zdDp7XCIoc3VibWl0KVwiOlwib25TdWJtaXQoJGV2ZW50KVwiLFwiKHJlc2V0KVwiOlwib25SZXNldCgpXCJ9LG91dHB1dHM6W1wibmdTdWJtaXRcIl0sZXhwb3J0QXM6XCJuZ0Zvcm1cIn1dfV0sbi5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpBcnJheSxkZWNvcmF0b3JzOlt7dHlwZTplLk9wdGlvbmFsfSx7dHlwZTplLlNlbGZ9LHt0eXBlOmUuSW5qZWN0LGFyZ3M6W0ddfV19LHt0eXBlOkFycmF5LGRlY29yYXRvcnM6W3t0eXBlOmUuT3B0aW9uYWx9LHt0eXBlOmUuU2VsZn0se3R5cGU6ZS5JbmplY3QsYXJnczpbWF19XX1dfSxufShIKSxMdD17Zm9ybUNvbnRyb2xOYW1lOidcXG4gICAgPGRpdiBbZm9ybUdyb3VwXT1cIm15R3JvdXBcIj5cXG4gICAgICA8aW5wdXQgZm9ybUNvbnRyb2xOYW1lPVwiZmlyc3ROYW1lXCI+XFxuICAgIDwvZGl2PlxcblxcbiAgICBJbiB5b3VyIGNsYXNzOlxcblxcbiAgICB0aGlzLm15R3JvdXAgPSBuZXcgRm9ybUdyb3VwKHtcXG4gICAgICAgZmlyc3ROYW1lOiBuZXcgRm9ybUNvbnRyb2woKVxcbiAgICB9KTsnLGZvcm1Hcm91cE5hbWU6J1xcbiAgICA8ZGl2IFtmb3JtR3JvdXBdPVwibXlHcm91cFwiPlxcbiAgICAgICA8ZGl2IGZvcm1Hcm91cE5hbWU9XCJwZXJzb25cIj5cXG4gICAgICAgICAgPGlucHV0IGZvcm1Db250cm9sTmFtZT1cImZpcnN0TmFtZVwiPlxcbiAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIEluIHlvdXIgY2xhc3M6XFxuXFxuICAgIHRoaXMubXlHcm91cCA9IG5ldyBGb3JtR3JvdXAoe1xcbiAgICAgICBwZXJzb246IG5ldyBGb3JtR3JvdXAoeyBmaXJzdE5hbWU6IG5ldyBGb3JtQ29udHJvbCgpIH0pXFxuICAgIH0pOycsZm9ybUFycmF5TmFtZTonXFxuICAgIDxkaXYgW2Zvcm1Hcm91cF09XCJteUdyb3VwXCI+XFxuICAgICAgPGRpdiBmb3JtQXJyYXlOYW1lPVwiY2l0aWVzXCI+XFxuICAgICAgICA8ZGl2ICpuZ0Zvcj1cImxldCBjaXR5IG9mIGNpdHlBcnJheS5jb250cm9sczsgbGV0IGk9aW5kZXhcIj5cXG4gICAgICAgICAgPGlucHV0IFtmb3JtQ29udHJvbE5hbWVdPVwiaVwiPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblxcbiAgICBJbiB5b3VyIGNsYXNzOlxcblxcbiAgICB0aGlzLmNpdHlBcnJheSA9IG5ldyBGb3JtQXJyYXkoW25ldyBGb3JtQ29udHJvbChcXCdTRlxcJyldKTtcXG4gICAgdGhpcy5teUdyb3VwID0gbmV3IEZvcm1Hcm91cCh7XFxuICAgICAgY2l0aWVzOiB0aGlzLmNpdHlBcnJheVxcbiAgICB9KTsnLG5nTW9kZWxHcm91cDonXFxuICAgIDxmb3JtPlxcbiAgICAgICA8ZGl2IG5nTW9kZWxHcm91cD1cInBlcnNvblwiPlxcbiAgICAgICAgICA8aW5wdXQgWyhuZ01vZGVsKV09XCJwZXJzb24ubmFtZVwiIG5hbWU9XCJmaXJzdE5hbWVcIj5cXG4gICAgICAgPC9kaXY+XFxuICAgIDwvZm9ybT4nLG5nTW9kZWxXaXRoRm9ybUdyb3VwOidcXG4gICAgPGRpdiBbZm9ybUdyb3VwXT1cIm15R3JvdXBcIj5cXG4gICAgICAgPGlucHV0IGZvcm1Db250cm9sTmFtZT1cImZpcnN0TmFtZVwiPlxcbiAgICAgICA8aW5wdXQgWyhuZ01vZGVsKV09XCJzaG93TW9yZUNvbnRyb2xzXCIgW25nTW9kZWxPcHRpb25zXT1cIntzdGFuZGFsb25lOiB0cnVlfVwiPlxcbiAgICA8L2Rpdj5cXG4gICd9LEZ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5tb2RlbFBhcmVudEV4Y2VwdGlvbj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignXFxuICAgICAgbmdNb2RlbCBjYW5ub3QgYmUgdXNlZCB0byByZWdpc3RlciBmb3JtIGNvbnRyb2xzIHdpdGggYSBwYXJlbnQgZm9ybUdyb3VwIGRpcmVjdGl2ZS4gIFRyeSB1c2luZ1xcbiAgICAgIGZvcm1Hcm91cFxcJ3MgcGFydG5lciBkaXJlY3RpdmUgXCJmb3JtQ29udHJvbE5hbWVcIiBpbnN0ZWFkLiAgRXhhbXBsZTpcXG5cXG4gICAgICAnK0x0LmZvcm1Db250cm9sTmFtZStcIlxcblxcbiAgICAgIE9yLCBpZiB5b3UnZCBsaWtlIHRvIGF2b2lkIHJlZ2lzdGVyaW5nIHRoaXMgZm9ybSBjb250cm9sLCBpbmRpY2F0ZSB0aGF0IGl0J3Mgc3RhbmRhbG9uZSBpbiBuZ01vZGVsT3B0aW9uczpcXG5cXG4gICAgICBFeGFtcGxlOlxcblxcbiAgICAgIFwiK0x0Lm5nTW9kZWxXaXRoRm9ybUdyb3VwKX0sdC5mb3JtR3JvdXBOYW1lRXhjZXB0aW9uPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiXFxuICAgICAgbmdNb2RlbCBjYW5ub3QgYmUgdXNlZCB0byByZWdpc3RlciBmb3JtIGNvbnRyb2xzIHdpdGggYSBwYXJlbnQgZm9ybUdyb3VwTmFtZSBvciBmb3JtQXJyYXlOYW1lIGRpcmVjdGl2ZS5cXG5cXG4gICAgICBPcHRpb24gMTogVXNlIGZvcm1Db250cm9sTmFtZSBpbnN0ZWFkIG9mIG5nTW9kZWwgKHJlYWN0aXZlIHN0cmF0ZWd5KTpcXG5cXG4gICAgICBcIitMdC5mb3JtR3JvdXBOYW1lK1wiXFxuXFxuICAgICAgT3B0aW9uIDI6ICBVcGRhdGUgbmdNb2RlbCdzIHBhcmVudCBiZSBuZ01vZGVsR3JvdXAgKHRlbXBsYXRlLWRyaXZlbiBzdHJhdGVneSk6XFxuXFxuICAgICAgXCIrTHQubmdNb2RlbEdyb3VwKX0sdC5taXNzaW5nTmFtZUV4Y2VwdGlvbj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignSWYgbmdNb2RlbCBpcyB1c2VkIHdpdGhpbiBhIGZvcm0gdGFnLCBlaXRoZXIgdGhlIG5hbWUgYXR0cmlidXRlIG11c3QgYmUgc2V0IG9yIHRoZSBmb3JtXFxuICAgICAgY29udHJvbCBtdXN0IGJlIGRlZmluZWQgYXMgXFwnc3RhbmRhbG9uZVxcJyBpbiBuZ01vZGVsT3B0aW9ucy5cXG5cXG4gICAgICBFeGFtcGxlIDE6IDxpbnB1dCBbKG5nTW9kZWwpXT1cInBlcnNvbi5maXJzdE5hbWVcIiBuYW1lPVwiZmlyc3RcIj5cXG4gICAgICBFeGFtcGxlIDI6IDxpbnB1dCBbKG5nTW9kZWwpXT1cInBlcnNvbi5maXJzdE5hbWVcIiBbbmdNb2RlbE9wdGlvbnNdPVwie3N0YW5kYWxvbmU6IHRydWV9XCI+Jyl9LHQubW9kZWxHcm91cFBhcmVudEV4Y2VwdGlvbj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIlxcbiAgICAgIG5nTW9kZWxHcm91cCBjYW5ub3QgYmUgdXNlZCB3aXRoIGEgcGFyZW50IGZvcm1Hcm91cCBkaXJlY3RpdmUuXFxuXFxuICAgICAgT3B0aW9uIDE6IFVzZSBmb3JtR3JvdXBOYW1lIGluc3RlYWQgb2YgbmdNb2RlbEdyb3VwIChyZWFjdGl2ZSBzdHJhdGVneSk6XFxuXFxuICAgICAgXCIrTHQuZm9ybUdyb3VwTmFtZStcIlxcblxcbiAgICAgIE9wdGlvbiAyOiAgVXNlIGEgcmVndWxhciBmb3JtIHRhZyBpbnN0ZWFkIG9mIHRoZSBmb3JtR3JvdXAgZGlyZWN0aXZlICh0ZW1wbGF0ZS1kcml2ZW4gc3RyYXRlZ3kpOlxcblxcbiAgICAgIFwiK0x0Lm5nTW9kZWxHcm91cCl9LHR9KCksVXQ9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LEh0PXtwcm92aWRlOkgsdXNlRXhpc3Rpbmc6ZS5mb3J3YXJkUmVmKGZ1bmN0aW9uKCl7cmV0dXJuIEJ0fSl9LEJ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSxuLHIpe3QuY2FsbCh0aGlzKSx0aGlzLl9wYXJlbnQ9ZSx0aGlzLl92YWxpZGF0b3JzPW4sdGhpcy5fYXN5bmNWYWxpZGF0b3JzPXJ9cmV0dXJuIFV0KG4sdCksbi5wcm90b3R5cGUuX2NoZWNrUGFyZW50VHlwZT1mdW5jdGlvbigpe3RoaXMuX3BhcmVudCBpbnN0YW5jZW9mIG58fHRoaXMuX3BhcmVudCBpbnN0YW5jZW9mIFZ0fHxGdC5tb2RlbEdyb3VwUGFyZW50RXhjZXB0aW9uKCl9LG4uZGVjb3JhdG9ycz1be3R5cGU6ZS5EaXJlY3RpdmUsYXJnczpbe3NlbGVjdG9yOlwiW25nTW9kZWxHcm91cF1cIixwcm92aWRlcnM6W0h0XSxleHBvcnRBczpcIm5nTW9kZWxHcm91cFwifV19XSxuLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOkgsZGVjb3JhdG9yczpbe3R5cGU6ZS5Ib3N0fSx7dHlwZTplLlNraXBTZWxmfV19LHt0eXBlOkFycmF5LGRlY29yYXRvcnM6W3t0eXBlOmUuT3B0aW9uYWx9LHt0eXBlOmUuU2VsZn0se3R5cGU6ZS5JbmplY3QsYXJnczpbR119XX0se3R5cGU6QXJyYXksZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5TZWxmfSx7dHlwZTplLkluamVjdCxhcmdzOltYXX1dfV19LG4ucHJvcERlY29yYXRvcnM9e25hbWU6W3t0eXBlOmUuSW5wdXQsYXJnczpbXCJuZ01vZGVsR3JvdXBcIl19XX0sbn0odnQpLHF0PXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSx6dD17cHJvdmlkZTpydCx1c2VFeGlzdGluZzplLmZvcndhcmRSZWYoZnVuY3Rpb24oKXtyZXR1cm4gR3R9KX0sV3Q9UHJvbWlzZS5yZXNvbHZlKG51bGwpLEd0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSxuLHIsaSl7dC5jYWxsKHRoaXMpLHRoaXMuX2NvbnRyb2w9bmV3IGt0LHRoaXMuX3JlZ2lzdGVyZWQ9ITEsdGhpcy51cGRhdGU9bmV3IFN0LHRoaXMuX3BhcmVudD1lLHRoaXMuX3Jhd1ZhbGlkYXRvcnM9bnx8W10sdGhpcy5fcmF3QXN5bmNWYWxpZGF0b3JzPXJ8fFtdLHRoaXMudmFsdWVBY2Nlc3Nvcj1JKHRoaXMsaSl9cmV0dXJuIHF0KG4sdCksbi5wcm90b3R5cGUubmdPbkNoYW5nZXM9ZnVuY3Rpb24odCl7dGhpcy5fY2hlY2tGb3JFcnJvcnMoKSx0aGlzLl9yZWdpc3RlcmVkfHx0aGlzLl9zZXRVcENvbnRyb2woKSxcImlzRGlzYWJsZWRcImluIHQmJnRoaXMuX3VwZGF0ZURpc2FibGVkKHQpLGsodCx0aGlzLnZpZXdNb2RlbCkmJih0aGlzLl91cGRhdGVWYWx1ZSh0aGlzLm1vZGVsKSx0aGlzLnZpZXdNb2RlbD10aGlzLm1vZGVsKX0sbi5wcm90b3R5cGUubmdPbkRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmZvcm1EaXJlY3RpdmUmJnRoaXMuZm9ybURpcmVjdGl2ZS5yZW1vdmVDb250cm9sKHRoaXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJjb250cm9sXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250cm9sfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcInBhdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcmVudD9FKHRoaXMubmFtZSx0aGlzLl9wYXJlbnQpOlt0aGlzLm5hbWVdfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcImZvcm1EaXJlY3RpdmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcmVudD90aGlzLl9wYXJlbnQuZm9ybURpcmVjdGl2ZTpudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcInZhbGlkYXRvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQSh0aGlzLl9yYXdWYWxpZGF0b3JzKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJhc3luY1ZhbGlkYXRvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTSh0aGlzLl9yYXdBc3luY1ZhbGlkYXRvcnMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLG4ucHJvdG90eXBlLnZpZXdUb01vZGVsVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMudmlld01vZGVsPXQsdGhpcy51cGRhdGUuZW1pdCh0KX0sbi5wcm90b3R5cGUuX3NldFVwQ29udHJvbD1mdW5jdGlvbigpe3RoaXMuX2lzU3RhbmRhbG9uZSgpP3RoaXMuX3NldFVwU3RhbmRhbG9uZSgpOnRoaXMuZm9ybURpcmVjdGl2ZS5hZGRDb250cm9sKHRoaXMpLHRoaXMuX3JlZ2lzdGVyZWQ9ITB9LG4ucHJvdG90eXBlLl9pc1N0YW5kYWxvbmU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fcGFyZW50fHx0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5zdGFuZGFsb25lfSxuLnByb3RvdHlwZS5fc2V0VXBTdGFuZGFsb25lPWZ1bmN0aW9uKCl7Uyh0aGlzLl9jb250cm9sLHRoaXMpLHRoaXMuX2NvbnRyb2wudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7ZW1pdEV2ZW50OiExfSl9LG4ucHJvdG90eXBlLl9jaGVja0ZvckVycm9ycz1mdW5jdGlvbigpe3RoaXMuX2lzU3RhbmRhbG9uZSgpfHx0aGlzLl9jaGVja1BhcmVudFR5cGUoKSx0aGlzLl9jaGVja05hbWUoKX0sbi5wcm90b3R5cGUuX2NoZWNrUGFyZW50VHlwZT1mdW5jdGlvbigpeyEodGhpcy5fcGFyZW50IGluc3RhbmNlb2YgQnQpJiZ0aGlzLl9wYXJlbnQgaW5zdGFuY2VvZiB2dD9GdC5mb3JtR3JvdXBOYW1lRXhjZXB0aW9uKCk6dGhpcy5fcGFyZW50IGluc3RhbmNlb2YgQnR8fHRoaXMuX3BhcmVudCBpbnN0YW5jZW9mIFZ0fHxGdC5tb2RlbFBhcmVudEV4Y2VwdGlvbigpfSxuLnByb3RvdHlwZS5fY2hlY2tOYW1lPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMubmFtZSYmKHRoaXMubmFtZT10aGlzLm9wdGlvbnMubmFtZSksdGhpcy5faXNTdGFuZGFsb25lKCl8fHRoaXMubmFtZXx8RnQubWlzc2luZ05hbWVFeGNlcHRpb24oKX0sbi5wcm90b3R5cGUuX3VwZGF0ZVZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7V3QudGhlbihmdW5jdGlvbigpe2UuY29udHJvbC5zZXRWYWx1ZSh0LHtlbWl0Vmlld1RvTW9kZWxDaGFuZ2U6ITF9KX0pfSxuLnByb3RvdHlwZS5fdXBkYXRlRGlzYWJsZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuaXNEaXNhYmxlZC5jdXJyZW50VmFsdWUscj1cIlwiPT09bnx8biYmXCJmYWxzZVwiIT09bjtXdC50aGVuKGZ1bmN0aW9uKCl7ciYmIWUuY29udHJvbC5kaXNhYmxlZD9lLmNvbnRyb2wuZGlzYWJsZSgpOiFyJiZlLmNvbnRyb2wuZGlzYWJsZWQmJmUuY29udHJvbC5lbmFibGUoKX0pfSxuLmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltuZ01vZGVsXTpub3QoW2Zvcm1Db250cm9sTmFtZV0pOm5vdChbZm9ybUNvbnRyb2xdKVwiLHByb3ZpZGVyczpbenRdLGV4cG9ydEFzOlwibmdNb2RlbFwifV19XSxuLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOkgsZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5Ib3N0fV19LHt0eXBlOkFycmF5LGRlY29yYXRvcnM6W3t0eXBlOmUuT3B0aW9uYWx9LHt0eXBlOmUuU2VsZn0se3R5cGU6ZS5JbmplY3QsYXJnczpbR119XX0se3R5cGU6QXJyYXksZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5TZWxmfSx7dHlwZTplLkluamVjdCxhcmdzOltYXX1dfSx7dHlwZTpBcnJheSxkZWNvcmF0b3JzOlt7dHlwZTplLk9wdGlvbmFsfSx7dHlwZTplLlNlbGZ9LHt0eXBlOmUuSW5qZWN0LGFyZ3M6W1FdfV19XX0sbi5wcm9wRGVjb3JhdG9ycz17bmFtZTpbe3R5cGU6ZS5JbnB1dH1dLGlzRGlzYWJsZWQ6W3t0eXBlOmUuSW5wdXQsYXJnczpbXCJkaXNhYmxlZFwiXX1dLG1vZGVsOlt7dHlwZTplLklucHV0LGFyZ3M6W1wibmdNb2RlbFwiXX1dLG9wdGlvbnM6W3t0eXBlOmUuSW5wdXQsYXJnczpbXCJuZ01vZGVsT3B0aW9uc1wiXX1dLHVwZGF0ZTpbe3R5cGU6ZS5PdXRwdXQsYXJnczpbXCJuZ01vZGVsQ2hhbmdlXCJdfV19LG59KHJ0KSxYdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuY29udHJvbFBhcmVudEV4Y2VwdGlvbj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcImZvcm1Db250cm9sTmFtZSBtdXN0IGJlIHVzZWQgd2l0aCBhIHBhcmVudCBmb3JtR3JvdXAgZGlyZWN0aXZlLiAgWW91J2xsIHdhbnQgdG8gYWRkIGEgZm9ybUdyb3VwXFxuICAgICAgIGRpcmVjdGl2ZSBhbmQgcGFzcyBpdCBhbiBleGlzdGluZyBGb3JtR3JvdXAgaW5zdGFuY2UgKHlvdSBjYW4gY3JlYXRlIG9uZSBpbiB5b3VyIGNsYXNzKS5cXG5cXG4gICAgICBFeGFtcGxlOlxcblxcbiAgICAgIFwiK0x0LmZvcm1Db250cm9sTmFtZSl9LHQubmdNb2RlbEdyb3VwRXhjZXB0aW9uPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCdmb3JtQ29udHJvbE5hbWUgY2Fubm90IGJlIHVzZWQgd2l0aCBhbiBuZ01vZGVsR3JvdXAgcGFyZW50LiBJdCBpcyBvbmx5IGNvbXBhdGlibGUgd2l0aCBwYXJlbnRzXFxuICAgICAgIHRoYXQgYWxzbyBoYXZlIGEgXCJmb3JtXCIgcHJlZml4OiBmb3JtR3JvdXBOYW1lLCBmb3JtQXJyYXlOYW1lLCBvciBmb3JtR3JvdXAuXFxuXFxuICAgICAgIE9wdGlvbiAxOiAgVXBkYXRlIHRoZSBwYXJlbnQgdG8gYmUgZm9ybUdyb3VwTmFtZSAocmVhY3RpdmUgZm9ybSBzdHJhdGVneSlcXG5cXG4gICAgICAgICcrTHQuZm9ybUdyb3VwTmFtZStcIlxcblxcbiAgICAgICAgT3B0aW9uIDI6IFVzZSBuZ01vZGVsIGluc3RlYWQgb2YgZm9ybUNvbnRyb2xOYW1lICh0ZW1wbGF0ZS1kcml2ZW4gc3RyYXRlZ3kpXFxuXFxuICAgICAgICBcIitMdC5uZ01vZGVsR3JvdXApfSx0Lm1pc3NpbmdGb3JtRXhjZXB0aW9uPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiZm9ybUdyb3VwIGV4cGVjdHMgYSBGb3JtR3JvdXAgaW5zdGFuY2UuIFBsZWFzZSBwYXNzIG9uZSBpbi5cXG5cXG4gICAgICAgRXhhbXBsZTpcXG5cXG4gICAgICAgXCIrTHQuZm9ybUNvbnRyb2xOYW1lKX0sdC5ncm91cFBhcmVudEV4Y2VwdGlvbj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcImZvcm1Hcm91cE5hbWUgbXVzdCBiZSB1c2VkIHdpdGggYSBwYXJlbnQgZm9ybUdyb3VwIGRpcmVjdGl2ZS4gIFlvdSdsbCB3YW50IHRvIGFkZCBhIGZvcm1Hcm91cFxcbiAgICAgIGRpcmVjdGl2ZSBhbmQgcGFzcyBpdCBhbiBleGlzdGluZyBGb3JtR3JvdXAgaW5zdGFuY2UgKHlvdSBjYW4gY3JlYXRlIG9uZSBpbiB5b3VyIGNsYXNzKS5cXG5cXG4gICAgICBFeGFtcGxlOlxcblxcbiAgICAgIFwiK0x0LmZvcm1Hcm91cE5hbWUpfSx0LmFycmF5UGFyZW50RXhjZXB0aW9uPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiZm9ybUFycmF5TmFtZSBtdXN0IGJlIHVzZWQgd2l0aCBhIHBhcmVudCBmb3JtR3JvdXAgZGlyZWN0aXZlLiAgWW91J2xsIHdhbnQgdG8gYWRkIGEgZm9ybUdyb3VwXFxuICAgICAgIGRpcmVjdGl2ZSBhbmQgcGFzcyBpdCBhbiBleGlzdGluZyBGb3JtR3JvdXAgaW5zdGFuY2UgKHlvdSBjYW4gY3JlYXRlIG9uZSBpbiB5b3VyIGNsYXNzKS5cXG5cXG4gICAgICAgIEV4YW1wbGU6XFxuXFxuICAgICAgICBcIitMdC5mb3JtQXJyYXlOYW1lKX0sdC5kaXNhYmxlZEF0dHJXYXJuaW5nPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiXFxuICAgICAgSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgdGhlIGRpc2FibGVkIGF0dHJpYnV0ZSB3aXRoIGEgcmVhY3RpdmUgZm9ybSBkaXJlY3RpdmUuIElmIHlvdSBzZXQgZGlzYWJsZWQgdG8gdHJ1ZVxcbiAgICAgIHdoZW4geW91IHNldCB1cCB0aGlzIGNvbnRyb2wgaW4geW91ciBjb21wb25lbnQgY2xhc3MsIHRoZSBkaXNhYmxlZCBhdHRyaWJ1dGUgd2lsbCBhY3R1YWxseSBiZSBzZXQgaW4gdGhlIERPTSBmb3JcXG4gICAgICB5b3UuIFdlIHJlY29tbWVuZCB1c2luZyB0aGlzIGFwcHJvYWNoIHRvIGF2b2lkICdjaGFuZ2VkIGFmdGVyIGNoZWNrZWQnIGVycm9ycy5cXG4gICAgICAgXFxuICAgICAgRXhhbXBsZTogXFxuICAgICAgZm9ybSA9IG5ldyBGb3JtR3JvdXAoe1xcbiAgICAgICAgZmlyc3Q6IG5ldyBGb3JtQ29udHJvbCh7dmFsdWU6ICdOYW5jeScsIGRpc2FibGVkOiB0cnVlfSwgVmFsaWRhdG9ycy5yZXF1aXJlZCksXFxuICAgICAgICBsYXN0OiBuZXcgRm9ybUNvbnRyb2woJ0RyZXcnLCBWYWxpZGF0b3JzLnJlcXVpcmVkKVxcbiAgICAgIH0pO1xcbiAgICBcIil9LHR9KCksJHQ9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LFF0PXtwcm92aWRlOnJ0LHVzZUV4aXN0aW5nOmUuZm9yd2FyZFJlZihmdW5jdGlvbigpe3JldHVybiBZdH0pfSxZdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUsbixyKXt0LmNhbGwodGhpcyksdGhpcy51cGRhdGU9bmV3IFN0LHRoaXMuX3Jhd1ZhbGlkYXRvcnM9ZXx8W10sdGhpcy5fcmF3QXN5bmNWYWxpZGF0b3JzPW58fFtdLHRoaXMudmFsdWVBY2Nlc3Nvcj1JKHRoaXMscil9cmV0dXJuICR0KG4sdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwiaXNEaXNhYmxlZFwiLHtzZXQ6ZnVuY3Rpb24odCl7WHQuZGlzYWJsZWRBdHRyV2FybmluZygpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLG4ucHJvdG90eXBlLm5nT25DaGFuZ2VzPWZ1bmN0aW9uKHQpe3RoaXMuX2lzQ29udHJvbENoYW5nZWQodCkmJihTKHRoaXMuZm9ybSx0aGlzKSx0aGlzLmNvbnRyb2wuZGlzYWJsZWQmJnRoaXMudmFsdWVBY2Nlc3Nvci5zZXREaXNhYmxlZFN0YXRlJiZ0aGlzLnZhbHVlQWNjZXNzb3Iuc2V0RGlzYWJsZWRTdGF0ZSghMCksdGhpcy5mb3JtLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDohMX0pKSxrKHQsdGhpcy52aWV3TW9kZWwpJiYodGhpcy5mb3JtLnNldFZhbHVlKHRoaXMubW9kZWwpLHRoaXMudmlld01vZGVsPXRoaXMubW9kZWwpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJwYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybltdfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcInZhbGlkYXRvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQSh0aGlzLl9yYXdWYWxpZGF0b3JzKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJhc3luY1ZhbGlkYXRvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTSh0aGlzLl9yYXdBc3luY1ZhbGlkYXRvcnMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcImNvbnRyb2xcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9ybX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxuLnByb3RvdHlwZS52aWV3VG9Nb2RlbFVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLnZpZXdNb2RlbD10LHRoaXMudXBkYXRlLmVtaXQodCl9LG4ucHJvdG90eXBlLl9pc0NvbnRyb2xDaGFuZ2VkPWZ1bmN0aW9uKHQpe3JldHVybiB0Lmhhc093blByb3BlcnR5KFwiZm9ybVwiKX0sbi5kZWNvcmF0b3JzPVt7dHlwZTplLkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJbZm9ybUNvbnRyb2xdXCIscHJvdmlkZXJzOltRdF0sZXhwb3J0QXM6XCJuZ0Zvcm1cIn1dfV0sbi5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpBcnJheSxkZWNvcmF0b3JzOlt7dHlwZTplLk9wdGlvbmFsfSx7dHlwZTplLlNlbGZ9LHt0eXBlOmUuSW5qZWN0LGFyZ3M6W0ddfV19LHt0eXBlOkFycmF5LGRlY29yYXRvcnM6W3t0eXBlOmUuT3B0aW9uYWx9LHt0eXBlOmUuU2VsZn0se3R5cGU6ZS5JbmplY3QsYXJnczpbWF19XX0se3R5cGU6QXJyYXksZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5TZWxmfSx7dHlwZTplLkluamVjdCxhcmdzOltRXX1dfV19LG4ucHJvcERlY29yYXRvcnM9e2Zvcm06W3t0eXBlOmUuSW5wdXQsYXJnczpbXCJmb3JtQ29udHJvbFwiXX1dLG1vZGVsOlt7dHlwZTplLklucHV0LGFyZ3M6W1wibmdNb2RlbFwiXX1dLHVwZGF0ZTpbe3R5cGU6ZS5PdXRwdXQsYXJnczpbXCJuZ01vZGVsQ2hhbmdlXCJdfV0saXNEaXNhYmxlZDpbe3R5cGU6ZS5JbnB1dCxhcmdzOltcImRpc2FibGVkXCJdfV19LG59KHJ0KSxLdD10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sWnQ9e3Byb3ZpZGU6SCx1c2VFeGlzdGluZzplLmZvcndhcmRSZWYoZnVuY3Rpb24oKXtyZXR1cm4gSnR9KX0sSnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlLG4pe3QuY2FsbCh0aGlzKSx0aGlzLl92YWxpZGF0b3JzPWUsdGhpcy5fYXN5bmNWYWxpZGF0b3JzPW4sdGhpcy5fc3VibWl0dGVkPSExLHRoaXMuZGlyZWN0aXZlcz1bXSx0aGlzLmZvcm09bnVsbCx0aGlzLm5nU3VibWl0PW5ldyBTdH1yZXR1cm4gS3Qobix0KSxuLnByb3RvdHlwZS5uZ09uQ2hhbmdlcz1mdW5jdGlvbih0KXt0aGlzLl9jaGVja0Zvcm1QcmVzZW50KCksdC5oYXNPd25Qcm9wZXJ0eShcImZvcm1cIikmJih0aGlzLl91cGRhdGVWYWxpZGF0b3JzKCksdGhpcy5fdXBkYXRlRG9tVmFsdWUoKSx0aGlzLl91cGRhdGVSZWdpc3RyYXRpb25zKCkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJzdWJtaXR0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1Ym1pdHRlZH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJmb3JtRGlyZWN0aXZlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcImNvbnRyb2xcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9ybX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJwYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybltdfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLG4ucHJvdG90eXBlLmFkZENvbnRyb2w9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5mb3JtLmdldCh0LnBhdGgpO3JldHVybiBTKGUsdCksZS51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6ITF9KSx0aGlzLmRpcmVjdGl2ZXMucHVzaCh0KSxlfSxuLnByb3RvdHlwZS5nZXRDb250cm9sPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZvcm0uZ2V0KHQucGF0aCl9LG4ucHJvdG90eXBlLnJlbW92ZUNvbnRyb2w9ZnVuY3Rpb24odCl7cS5yZW1vdmUodGhpcy5kaXJlY3RpdmVzLHQpfSxuLnByb3RvdHlwZS5hZGRGb3JtR3JvdXA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5mb3JtLmdldCh0LnBhdGgpO1AoZSx0KSxlLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDohMX0pfSxuLnByb3RvdHlwZS5yZW1vdmVGb3JtR3JvdXA9ZnVuY3Rpb24odCl7fSxuLnByb3RvdHlwZS5nZXRGb3JtR3JvdXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZm9ybS5nZXQodC5wYXRoKX0sbi5wcm90b3R5cGUuYWRkRm9ybUFycmF5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZm9ybS5nZXQodC5wYXRoKTtQKGUsdCksZS51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6ITF9KX0sbi5wcm90b3R5cGUucmVtb3ZlRm9ybUFycmF5PWZ1bmN0aW9uKHQpe30sbi5wcm90b3R5cGUuZ2V0Rm9ybUFycmF5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZvcm0uZ2V0KHQucGF0aCl9LG4ucHJvdG90eXBlLnVwZGF0ZU1vZGVsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5mb3JtLmdldCh0LnBhdGgpO24uc2V0VmFsdWUoZSl9LG4ucHJvdG90eXBlLm9uU3VibWl0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdWJtaXR0ZWQ9ITAsdGhpcy5uZ1N1Ym1pdC5lbWl0KHQpLCExfSxuLnByb3RvdHlwZS5vblJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5yZXNldEZvcm0oKX0sbi5wcm90b3R5cGUucmVzZXRGb3JtPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PXZvaWQgMCksdGhpcy5mb3JtLnJlc2V0KHQpLHRoaXMuX3N1Ym1pdHRlZD0hMX0sbi5wcm90b3R5cGUuX3VwZGF0ZURvbVZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmRpcmVjdGl2ZXMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj10LmZvcm0uZ2V0KGUucGF0aCk7ZS5fY29udHJvbCE9PW4mJih4KGUuX2NvbnRyb2wsZSksbiYmUyhuLGUpLGUuX2NvbnRyb2w9bil9KSx0aGlzLmZvcm0uX3VwZGF0ZVRyZWVWYWxpZGl0eSh7ZW1pdEV2ZW50OiExfSl9LG4ucHJvdG90eXBlLl91cGRhdGVSZWdpc3RyYXRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmZvcm0uX3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3VwZGF0ZURvbVZhbHVlKCl9KSx0aGlzLl9vbGRGb3JtJiZ0aGlzLl9vbGRGb3JtLl9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZShmdW5jdGlvbigpe30pLHRoaXMuX29sZEZvcm09dGhpcy5mb3JtfSxuLnByb3RvdHlwZS5fdXBkYXRlVmFsaWRhdG9ycz1mdW5jdGlvbigpe3ZhciB0PUEodGhpcy5fdmFsaWRhdG9ycyk7dGhpcy5mb3JtLnZhbGlkYXRvcj0kLmNvbXBvc2UoW3RoaXMuZm9ybS52YWxpZGF0b3IsdF0pO3ZhciBlPU0odGhpcy5fYXN5bmNWYWxpZGF0b3JzKTt0aGlzLmZvcm0uYXN5bmNWYWxpZGF0b3I9JC5jb21wb3NlQXN5bmMoW3RoaXMuZm9ybS5hc3luY1ZhbGlkYXRvcixlXSl9LG4ucHJvdG90eXBlLl9jaGVja0Zvcm1QcmVzZW50PWZ1bmN0aW9uKCl7dGhpcy5mb3JtfHxYdC5taXNzaW5nRm9ybUV4Y2VwdGlvbigpfSxuLmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltmb3JtR3JvdXBdXCIscHJvdmlkZXJzOltadF0saG9zdDp7XCIoc3VibWl0KVwiOlwib25TdWJtaXQoJGV2ZW50KVwiLFwiKHJlc2V0KVwiOlwib25SZXNldCgpXCJ9LGV4cG9ydEFzOlwibmdGb3JtXCJ9XX1dLG4uY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6QXJyYXksZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5TZWxmfSx7dHlwZTplLkluamVjdCxhcmdzOltHXX1dfSx7dHlwZTpBcnJheSxkZWNvcmF0b3JzOlt7dHlwZTplLk9wdGlvbmFsfSx7dHlwZTplLlNlbGZ9LHt0eXBlOmUuSW5qZWN0LGFyZ3M6W1hdfV19XX0sbi5wcm9wRGVjb3JhdG9ycz17Zm9ybTpbe3R5cGU6ZS5JbnB1dCxhcmdzOltcImZvcm1Hcm91cFwiXX1dLG5nU3VibWl0Olt7dHlwZTplLk91dHB1dH1dfSxufShIKSx0ZT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sZWU9e3Byb3ZpZGU6SCx1c2VFeGlzdGluZzplLmZvcndhcmRSZWYoZnVuY3Rpb24oKXtyZXR1cm4gbmV9KX0sbmU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlLG4scil7dC5jYWxsKHRoaXMpLHRoaXMuX3BhcmVudD1lLHRoaXMuX3ZhbGlkYXRvcnM9bix0aGlzLl9hc3luY1ZhbGlkYXRvcnM9cn1yZXR1cm4gdGUobix0KSxuLnByb3RvdHlwZS5fY2hlY2tQYXJlbnRUeXBlPWZ1bmN0aW9uKCl7TCh0aGlzLl9wYXJlbnQpJiZYdC5ncm91cFBhcmVudEV4Y2VwdGlvbigpfSxuLmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltmb3JtR3JvdXBOYW1lXVwiLHByb3ZpZGVyczpbZWVdfV19XSxuLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOkgsZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5Ib3N0fSx7dHlwZTplLlNraXBTZWxmfV19LHt0eXBlOkFycmF5LGRlY29yYXRvcnM6W3t0eXBlOmUuT3B0aW9uYWx9LHt0eXBlOmUuU2VsZn0se3R5cGU6ZS5JbmplY3QsYXJnczpbR119XX0se3R5cGU6QXJyYXksZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5TZWxmfSx7dHlwZTplLkluamVjdCxhcmdzOltYXX1dfV19LG4ucHJvcERlY29yYXRvcnM9e25hbWU6W3t0eXBlOmUuSW5wdXQsYXJnczpbXCJmb3JtR3JvdXBOYW1lXCJdfV19LG59KHZ0KSxyZT17cHJvdmlkZTpILHVzZUV4aXN0aW5nOmUuZm9yd2FyZFJlZihmdW5jdGlvbigpe3JldHVybiBpZX0pfSxpZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUsbixyKXt0LmNhbGwodGhpcyksdGhpcy5fcGFyZW50PWUsdGhpcy5fdmFsaWRhdG9ycz1uLHRoaXMuX2FzeW5jVmFsaWRhdG9ycz1yfXJldHVybiB0ZShuLHQpLG4ucHJvdG90eXBlLm5nT25Jbml0PWZ1bmN0aW9uKCl7dGhpcy5fY2hlY2tQYXJlbnRUeXBlKCksdGhpcy5mb3JtRGlyZWN0aXZlLmFkZEZvcm1BcnJheSh0aGlzKX0sbi5wcm90b3R5cGUubmdPbkRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmZvcm1EaXJlY3RpdmUmJnRoaXMuZm9ybURpcmVjdGl2ZS5yZW1vdmVGb3JtQXJyYXkodGhpcyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcImNvbnRyb2xcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9ybURpcmVjdGl2ZS5nZXRGb3JtQXJyYXkodGhpcyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwiZm9ybURpcmVjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyZW50P3RoaXMuX3BhcmVudC5mb3JtRGlyZWN0aXZlOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwicGF0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRSh0aGlzLm5hbWUsdGhpcy5fcGFyZW50KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJ2YWxpZGF0b3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEEodGhpcy5fdmFsaWRhdG9ycyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwiYXN5bmNWYWxpZGF0b3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE0odGhpcy5fYXN5bmNWYWxpZGF0b3JzKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxuLnByb3RvdHlwZS5fY2hlY2tQYXJlbnRUeXBlPWZ1bmN0aW9uKCl7TCh0aGlzLl9wYXJlbnQpJiZYdC5hcnJheVBhcmVudEV4Y2VwdGlvbigpfSxuLmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltmb3JtQXJyYXlOYW1lXVwiLHByb3ZpZGVyczpbcmVdfV19XSxuLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOkgsZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5Ib3N0fSx7dHlwZTplLlNraXBTZWxmfV19LHt0eXBlOkFycmF5LGRlY29yYXRvcnM6W3t0eXBlOmUuT3B0aW9uYWx9LHt0eXBlOmUuU2VsZn0se3R5cGU6ZS5JbmplY3QsYXJnczpbR119XX0se3R5cGU6QXJyYXksZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5TZWxmfSx7dHlwZTplLkluamVjdCxhcmdzOltYXX1dfV19LG4ucHJvcERlY29yYXRvcnM9e25hbWU6W3t0eXBlOmUuSW5wdXQsYXJnczpbXCJmb3JtQXJyYXlOYW1lXCJdfV19LG59KEgpLG9lPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxzZT17cHJvdmlkZTpydCx1c2VFeGlzdGluZzplLmZvcndhcmRSZWYoZnVuY3Rpb24oKXtyZXR1cm4gYWV9KX0sYWU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlLG4scixpKXt0LmNhbGwodGhpcyksdGhpcy5fYWRkZWQ9ITEsdGhpcy51cGRhdGU9bmV3IFN0LHRoaXMuX3BhcmVudD1lLHRoaXMuX3Jhd1ZhbGlkYXRvcnM9bnx8W10sdGhpcy5fcmF3QXN5bmNWYWxpZGF0b3JzPXJ8fFtdLHRoaXMudmFsdWVBY2Nlc3Nvcj1JKHRoaXMsaSl9cmV0dXJuIG9lKG4sdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwiaXNEaXNhYmxlZFwiLHtzZXQ6ZnVuY3Rpb24odCl7WHQuZGlzYWJsZWRBdHRyV2FybmluZygpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLG4ucHJvdG90eXBlLm5nT25DaGFuZ2VzPWZ1bmN0aW9uKHQpe3RoaXMuX2FkZGVkfHx0aGlzLl9zZXRVcENvbnRyb2woKSxrKHQsdGhpcy52aWV3TW9kZWwpJiYodGhpcy52aWV3TW9kZWw9dGhpcy5tb2RlbCx0aGlzLmZvcm1EaXJlY3RpdmUudXBkYXRlTW9kZWwodGhpcyx0aGlzLm1vZGVsKSl9LG4ucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5mb3JtRGlyZWN0aXZlJiZ0aGlzLmZvcm1EaXJlY3RpdmUucmVtb3ZlQ29udHJvbCh0aGlzKX0sbi5wcm90b3R5cGUudmlld1RvTW9kZWxVcGRhdGU9ZnVuY3Rpb24odCl7dGhpcy52aWV3TW9kZWw9dCx0aGlzLnVwZGF0ZS5lbWl0KHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJwYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFKHRoaXMubmFtZSx0aGlzLl9wYXJlbnQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcImZvcm1EaXJlY3RpdmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcmVudD90aGlzLl9wYXJlbnQuZm9ybURpcmVjdGl2ZTpudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcInZhbGlkYXRvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQSh0aGlzLl9yYXdWYWxpZGF0b3JzKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJhc3luY1ZhbGlkYXRvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTSh0aGlzLl9yYXdBc3luY1ZhbGlkYXRvcnMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcImNvbnRyb2xcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRyb2x9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksbi5wcm90b3R5cGUuX2NoZWNrUGFyZW50VHlwZT1mdW5jdGlvbigpeyEodGhpcy5fcGFyZW50IGluc3RhbmNlb2YgbmUpJiZ0aGlzLl9wYXJlbnQgaW5zdGFuY2VvZiB2dD9YdC5uZ01vZGVsR3JvdXBFeGNlcHRpb24oKTp0aGlzLl9wYXJlbnQgaW5zdGFuY2VvZiBuZXx8dGhpcy5fcGFyZW50IGluc3RhbmNlb2YgSnR8fHRoaXMuX3BhcmVudCBpbnN0YW5jZW9mIGllfHxYdC5jb250cm9sUGFyZW50RXhjZXB0aW9uKCl9LG4ucHJvdG90eXBlLl9zZXRVcENvbnRyb2w9ZnVuY3Rpb24oKXt0aGlzLl9jaGVja1BhcmVudFR5cGUoKSx0aGlzLl9jb250cm9sPXRoaXMuZm9ybURpcmVjdGl2ZS5hZGRDb250cm9sKHRoaXMpLHRoaXMuY29udHJvbC5kaXNhYmxlZCYmdGhpcy52YWx1ZUFjY2Vzc29yLnNldERpc2FibGVkU3RhdGUmJnRoaXMudmFsdWVBY2Nlc3Nvci5zZXREaXNhYmxlZFN0YXRlKCEwKSx0aGlzLl9hZGRlZD0hMH0sbi5kZWNvcmF0b3JzPVt7dHlwZTplLkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJbZm9ybUNvbnRyb2xOYW1lXVwiLHByb3ZpZGVyczpbc2VdfV19XSxuLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOkgsZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5Ib3N0fSx7dHlwZTplLlNraXBTZWxmfV19LHt0eXBlOkFycmF5LGRlY29yYXRvcnM6W3t0eXBlOmUuT3B0aW9uYWx9LHt0eXBlOmUuU2VsZn0se3R5cGU6ZS5JbmplY3QsYXJnczpbR119XX0se3R5cGU6QXJyYXksZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5TZWxmfSx7dHlwZTplLkluamVjdCxhcmdzOltYXX1dfSx7dHlwZTpBcnJheSxkZWNvcmF0b3JzOlt7dHlwZTplLk9wdGlvbmFsfSx7dHlwZTplLlNlbGZ9LHt0eXBlOmUuSW5qZWN0LGFyZ3M6W1FdfV19XX0sbi5wcm9wRGVjb3JhdG9ycz17bmFtZTpbe3R5cGU6ZS5JbnB1dCxhcmdzOltcImZvcm1Db250cm9sTmFtZVwiXX1dLG1vZGVsOlt7dHlwZTplLklucHV0LGFyZ3M6W1wibmdNb2RlbFwiXX1dLHVwZGF0ZTpbe3R5cGU6ZS5PdXRwdXQsYXJnczpbXCJuZ01vZGVsQ2hhbmdlXCJdfV0saXNEaXNhYmxlZDpbe3R5cGU6ZS5JbnB1dCxhcmdzOltcImRpc2FibGVkXCJdfV19LG59KHJ0KSx1ZT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sY2U9e3Byb3ZpZGU6Ryx1c2VFeGlzdGluZzplLmZvcndhcmRSZWYoZnVuY3Rpb24oKXtyZXR1cm4gcGV9KSxtdWx0aTohMH0sbGU9e3Byb3ZpZGU6Ryx1c2VFeGlzdGluZzplLmZvcndhcmRSZWYoZnVuY3Rpb24oKXtyZXR1cm4gaGV9KSxtdWx0aTohMH0scGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyZXF1aXJlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVxdWlyZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yZXF1aXJlZD1udWxsIT10JiZ0IT09ITEmJlwiXCIrdCE9XCJmYWxzZVwiLHRoaXMuX29uQ2hhbmdlJiZ0aGlzLl9vbkNoYW5nZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlcXVpcmVkPyQucmVxdWlyZWQodCk6bnVsbH0sdC5wcm90b3R5cGUucmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZT1mdW5jdGlvbih0KXt0aGlzLl9vbkNoYW5nZT10fSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIjpub3QoW3R5cGU9Y2hlY2tib3hdKVtyZXF1aXJlZF1bZm9ybUNvbnRyb2xOYW1lXSw6bm90KFt0eXBlPWNoZWNrYm94XSlbcmVxdWlyZWRdW2Zvcm1Db250cm9sXSw6bm90KFt0eXBlPWNoZWNrYm94XSlbcmVxdWlyZWRdW25nTW9kZWxdXCIscHJvdmlkZXJzOltjZV0saG9zdDp7XCJbYXR0ci5yZXF1aXJlZF1cIjoncmVxdWlyZWQgPyBcIlwiIDogbnVsbCd9fV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW119LHQucHJvcERlY29yYXRvcnM9e3JlcXVpcmVkOlt7dHlwZTplLklucHV0fV19LHR9KCksaGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB1ZShuLHQpLG4ucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlcXVpcmVkPyQucmVxdWlyZWRUcnVlKHQpOm51bGx9LG4uZGVjb3JhdG9ycz1be3R5cGU6ZS5EaXJlY3RpdmUsYXJnczpbe3NlbGVjdG9yOlwiaW5wdXRbdHlwZT1jaGVja2JveF1bcmVxdWlyZWRdW2Zvcm1Db250cm9sTmFtZV0saW5wdXRbdHlwZT1jaGVja2JveF1bcmVxdWlyZWRdW2Zvcm1Db250cm9sXSxpbnB1dFt0eXBlPWNoZWNrYm94XVtyZXF1aXJlZF1bbmdNb2RlbF1cIixwcm92aWRlcnM6W2xlXSxob3N0OntcIlthdHRyLnJlcXVpcmVkXVwiOidyZXF1aXJlZCA/IFwiXCIgOiBudWxsJ319XX1dLG4uY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sbn0ocGUpLGZlPXtwcm92aWRlOkcsdXNlRXhpc3Rpbmc6ZS5mb3J3YXJkUmVmKGZ1bmN0aW9uKCl7cmV0dXJuIGRlfSksbXVsdGk6ITB9LGRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUubmdPbkNoYW5nZXM9ZnVuY3Rpb24odCl7XCJtaW5sZW5ndGhcImluIHQmJih0aGlzLl9jcmVhdGVWYWxpZGF0b3IoKSx0aGlzLl9vbkNoYW5nZSYmdGhpcy5fb25DaGFuZ2UoKSl9LHQucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10aGlzLm1pbmxlbmd0aD9udWxsOnRoaXMuX3ZhbGlkYXRvcih0KX0sdC5wcm90b3R5cGUucmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZT1mdW5jdGlvbih0KXt0aGlzLl9vbkNoYW5nZT10fSx0LnByb3RvdHlwZS5fY3JlYXRlVmFsaWRhdG9yPWZ1bmN0aW9uKCl7dGhpcy5fdmFsaWRhdG9yPSQubWluTGVuZ3RoKHBhcnNlSW50KHRoaXMubWlubGVuZ3RoLDEwKSl9LHQuZGVjb3JhdG9ycz1be3R5cGU6ZS5EaXJlY3RpdmUsYXJnczpbe3NlbGVjdG9yOlwiW21pbmxlbmd0aF1bZm9ybUNvbnRyb2xOYW1lXSxbbWlubGVuZ3RoXVtmb3JtQ29udHJvbF0sW21pbmxlbmd0aF1bbmdNb2RlbF1cIixwcm92aWRlcnM6W2ZlXSxob3N0OntcIlthdHRyLm1pbmxlbmd0aF1cIjpcIm1pbmxlbmd0aCA/IG1pbmxlbmd0aCA6IG51bGxcIn19XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdC5wcm9wRGVjb3JhdG9ycz17bWlubGVuZ3RoOlt7dHlwZTplLklucHV0fV19LHR9KCkseWU9e3Byb3ZpZGU6Ryx1c2VFeGlzdGluZzplLmZvcndhcmRSZWYoZnVuY3Rpb24oKXtyZXR1cm4gbWV9KSxtdWx0aTohMH0sbWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5uZ09uQ2hhbmdlcz1mdW5jdGlvbih0KXtcIm1heGxlbmd0aFwiaW4gdCYmKHRoaXMuX2NyZWF0ZVZhbGlkYXRvcigpLHRoaXMuX29uQ2hhbmdlJiZ0aGlzLl9vbkNoYW5nZSgpKX0sdC5wcm90b3R5cGUudmFsaWRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXRoaXMubWF4bGVuZ3RoP3RoaXMuX3ZhbGlkYXRvcih0KTpudWxsfSx0LnByb3RvdHlwZS5yZWdpc3Rlck9uVmFsaWRhdG9yQ2hhbmdlPWZ1bmN0aW9uKHQpe3RoaXMuX29uQ2hhbmdlPXR9LHQucHJvdG90eXBlLl9jcmVhdGVWYWxpZGF0b3I9ZnVuY3Rpb24oKXt0aGlzLl92YWxpZGF0b3I9JC5tYXhMZW5ndGgocGFyc2VJbnQodGhpcy5tYXhsZW5ndGgsMTApKX0sdC5kZWNvcmF0b3JzPVt7dHlwZTplLkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJbbWF4bGVuZ3RoXVtmb3JtQ29udHJvbE5hbWVdLFttYXhsZW5ndGhdW2Zvcm1Db250cm9sXSxbbWF4bGVuZ3RoXVtuZ01vZGVsXVwiLHByb3ZpZGVyczpbeWVdLGhvc3Q6e1wiW2F0dHIubWF4bGVuZ3RoXVwiOlwibWF4bGVuZ3RoID8gbWF4bGVuZ3RoIDogbnVsbFwifX1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybltdfSx0LnByb3BEZWNvcmF0b3JzPXttYXhsZW5ndGg6W3t0eXBlOmUuSW5wdXR9XX0sdH0oKSx2ZT17cHJvdmlkZTpHLHVzZUV4aXN0aW5nOmUuZm9yd2FyZFJlZihmdW5jdGlvbigpe3JldHVybiBnZX0pLG11bHRpOiEwfSxnZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLm5nT25DaGFuZ2VzPWZ1bmN0aW9uKHQpe1wicGF0dGVyblwiaW4gdCYmKHRoaXMuX2NyZWF0ZVZhbGlkYXRvcigpLHRoaXMuX29uQ2hhbmdlJiZ0aGlzLl9vbkNoYW5nZSgpKX0sdC5wcm90b3R5cGUudmFsaWRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3ZhbGlkYXRvcih0KX0sdC5wcm90b3R5cGUucmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZT1mdW5jdGlvbih0KXt0aGlzLl9vbkNoYW5nZT10fSx0LnByb3RvdHlwZS5fY3JlYXRlVmFsaWRhdG9yPWZ1bmN0aW9uKCl7dGhpcy5fdmFsaWRhdG9yPSQucGF0dGVybih0aGlzLnBhdHRlcm4pfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltwYXR0ZXJuXVtmb3JtQ29udHJvbE5hbWVdLFtwYXR0ZXJuXVtmb3JtQ29udHJvbF0sW3BhdHRlcm5dW25nTW9kZWxdXCIscHJvdmlkZXJzOlt2ZV0saG9zdDp7XCJbYXR0ci5wYXR0ZXJuXVwiOlwicGF0dGVybiA/IHBhdHRlcm4gOiBudWxsXCJ9fV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW119LHQucHJvcERlY29yYXRvcnM9e3BhdHRlcm46W3t0eXBlOmUuSW5wdXR9XX0sdH0oKSxfZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmdyb3VwPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9bnVsbCk7dmFyIG49dGhpcy5fcmVkdWNlQ29udHJvbHModCkscj1zKGUpP2UudmFsaWRhdG9yOm51bGwsaT1zKGUpP2UuYXN5bmNWYWxpZGF0b3I6bnVsbDtyZXR1cm4gbmV3IFJ0KG4scixpKX0sdC5wcm90b3R5cGUuY29udHJvbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PW4mJihuPW51bGwpLG5ldyBrdCh0LGUsbil9LHQucHJvdG90eXBlLmFycmF5PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3ZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PW4mJihuPW51bGwpO3ZhciBpPXQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiByLl9jcmVhdGVDb250cm9sKHQpfSk7cmV0dXJuIG5ldyBJdChpLGUsbil9LHQucHJvdG90eXBlLl9yZWR1Y2VDb250cm9scz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24ocil7bltyXT1lLl9jcmVhdGVDb250cm9sKHRbcl0pfSksbn0sdC5wcm90b3R5cGUuX2NyZWF0ZUNvbnRyb2w9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIGt0fHx0IGluc3RhbmNlb2YgUnR8fHQgaW5zdGFuY2VvZiBJdClyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpKXt2YXIgZT10WzBdLG49dC5sZW5ndGg+MT90WzFdOm51bGwscj10Lmxlbmd0aD4yP3RbMl06bnVsbDtyZXR1cm4gdGhpcy5jb250cm9sKGUsbixyKX1yZXR1cm4gdGhpcy5jb250cm9sKHQpfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuSW5qZWN0YWJsZX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdH0oKSxiZT1uZXcgZS5WZXJzaW9uKFwiMi40LjhcIiksd2U9W3B0LGR0LEosZXQsdXQsSyxsdCxmdCxzdCx3dCxDdCxwZSxkZSxtZSxnZSxoZV0sQ2U9W0d0LEJ0LFZ0XSxFZT1bWXQsSnQsYWUsbmUsaWVdLFNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5kZWNvcmF0b3JzPVt7dHlwZTplLk5nTW9kdWxlLGFyZ3M6W3tkZWNsYXJhdGlvbnM6d2UsZXhwb3J0czp3ZX1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybltdfSx0fSgpLHhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5kZWNvcmF0b3JzPVt7dHlwZTplLk5nTW9kdWxlLGFyZ3M6W3tkZWNsYXJhdGlvbnM6Q2UscHJvdmlkZXJzOltvdF0sZXhwb3J0czpbU2UsQ2VdfV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW119LHR9KCksUGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LmRlY29yYXRvcnM9W3t0eXBlOmUuTmdNb2R1bGUsYXJnczpbe2RlY2xhcmF0aW9uczpbRWVdLHByb3ZpZGVyczpbX2Usb3RdLGV4cG9ydHM6W1NlLEVlXX1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybltdfSx0fSgpO3QuQWJzdHJhY3RDb250cm9sRGlyZWN0aXZlPUYsdC5BYnN0cmFjdEZvcm1Hcm91cERpcmVjdGl2ZT12dCx0LkNoZWNrYm94Q29udHJvbFZhbHVlQWNjZXNzb3I9Syx0LkNvbnRyb2xDb250YWluZXI9SCx0Lk5HX1ZBTFVFX0FDQ0VTU09SPVEsdC5EZWZhdWx0VmFsdWVBY2Nlc3Nvcj1KLHQuTmdDb250cm9sPXJ0LHQuTmdDb250cm9sU3RhdHVzPXd0LHQuTmdDb250cm9sU3RhdHVzR3JvdXA9Q3QsdC5OZ0Zvcm09VnQsdC5OZ01vZGVsPUd0LHQuTmdNb2RlbEdyb3VwPUJ0LHQuUmFkaW9Db250cm9sVmFsdWVBY2Nlc3Nvcj1zdCx0LkZvcm1Db250cm9sRGlyZWN0aXZlPVl0LHQuRm9ybUNvbnRyb2xOYW1lPWFlLHQuRm9ybUdyb3VwRGlyZWN0aXZlPUp0LHQuRm9ybUFycmF5TmFtZT1pZSx0LkZvcm1Hcm91cE5hbWU9bmUsdC5OZ1NlbGVjdE9wdGlvbj1wdCx0LlNlbGVjdENvbnRyb2xWYWx1ZUFjY2Vzc29yPWx0LHQuU2VsZWN0TXVsdGlwbGVDb250cm9sVmFsdWVBY2Nlc3Nvcj1mdCx0LkNoZWNrYm94UmVxdWlyZWRWYWxpZGF0b3I9aGUsdC5NYXhMZW5ndGhWYWxpZGF0b3I9bWUsdC5NaW5MZW5ndGhWYWxpZGF0b3I9ZGUsdC5QYXR0ZXJuVmFsaWRhdG9yPWdlLHQuUmVxdWlyZWRWYWxpZGF0b3I9cGUsdC5Gb3JtQnVpbGRlcj1fZSx0LkFic3RyYWN0Q29udHJvbD1NdCx0LkZvcm1BcnJheT1JdCx0LkZvcm1Db250cm9sPWt0LHQuRm9ybUdyb3VwPVJ0LHQuTkdfQVNZTkNfVkFMSURBVE9SUz1YLHQuTkdfVkFMSURBVE9SUz1HLHQuVmFsaWRhdG9ycz0kLHQuVkVSU0lPTj1iZSx0LkZvcm1zTW9kdWxlPXhlLHQuUmVhY3RpdmVGb3Jtc01vZHVsZT1QZX0pLHQucmVnaXN0ZXJEeW5hbWljKFwiMTlcIixbXCJjXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZixlJiZlLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSksaT1lJiZlLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sbz10KFwiY1wiKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuc3JjPVwiL2ltYWdlcy9wcmVsb2FkZXIuZ2lmXCIsdGhpcy53aWR0aD1cIjE2XCIsdGhpcy5hbHQ9XCIuLi5cIix0aGlzLmxvYWRpbmc9ITB9cmV0dXJuIHQucHJvdG90eXBlLm9uTG9hZD1mdW5jdGlvbigpe3RoaXMubG9hZGluZz0hMX0scihbby5JbnB1dCgpLGkoXCJkZXNpZ246dHlwZVwiLFN0cmluZyldLHQucHJvdG90eXBlLFwic3JjXCIsdm9pZCAwKSxyKFtvLklucHV0KCksaShcImRlc2lnbjp0eXBlXCIsU3RyaW5nKV0sdC5wcm90b3R5cGUsXCJ3aWR0aFwiLHZvaWQgMCkscihbby5JbnB1dCgpLGkoXCJkZXNpZ246dHlwZVwiLFN0cmluZyldLHQucHJvdG90eXBlLFwiYWx0XCIsdm9pZCAwKSx0PXIoW28uQ29tcG9uZW50KHtzZWxlY3RvcjpcImltYWdlXCIsdGVtcGxhdGVVcmw6XCIuL2FwcC9zaGFyZWQvaW1hZ2UvaW1hZ2UuaHRtbFwifSksaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSx0KX0oKTtlLkltYWdlTW9kdWxlPXN9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjFhXCIsW1wiMWJcIixcIjE3XCIsXCIxY1wiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT10W2wuJCRpdGVyYXRvcl07aWYoIWUmJlwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBuZXcgaCh0KTtpZighZSYmdm9pZCAwIT09dC5sZW5ndGgpcmV0dXJuIG5ldyBmKHQpO2lmKCFlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJvYmplY3QgaXMgbm90IGl0ZXJhYmxlXCIpO3JldHVybiB0W2wuJCRpdGVyYXRvcl0oKX1mdW5jdGlvbiBpKHQpe3ZhciBlPSt0Lmxlbmd0aDtyZXR1cm4gaXNOYU4oZSk/MDowIT09ZSYmbyhlKT8oZT1zKGUpKk1hdGguZmxvb3IoTWF0aC5hYnMoZSkpLGU8PTA/MDplPmQ/ZDplKTplfWZ1bmN0aW9uIG8odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJnUucm9vdC5pc0Zpbml0ZSh0KX1mdW5jdGlvbiBzKHQpe3ZhciBlPSt0O3JldHVybiAwPT09ZT9lOmlzTmFOKGUpP2U6ZTwwPy0xOjF9dmFyIGE9KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSx1PXQoXCIxYlwiKSxjPXQoXCIxN1wiKSxsPXQoXCIxY1wiKSxwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtpZih0LmNhbGwodGhpcyksdGhpcy5zY2hlZHVsZXI9bixudWxsPT1lKXRocm93IG5ldyBFcnJvcihcIml0ZXJhdG9yIGNhbm5vdCBiZSBudWxsLlwiKTt0aGlzLml0ZXJhdG9yPXIoZSl9cmV0dXJuIGEoZSx0KSxlLmNyZWF0ZT1mdW5jdGlvbih0LG4pe3JldHVybiBuZXcgZSh0LG4pfSxlLmRpc3BhdGNoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5kZXgsbj10Lmhhc0Vycm9yLHI9dC5pdGVyYXRvcixpPXQuc3Vic2NyaWJlcjtpZihuKXJldHVybiB2b2lkIGkuZXJyb3IodC5lcnJvcik7dmFyIG89ci5uZXh0KCk7cmV0dXJuIG8uZG9uZT92b2lkIGkuY29tcGxldGUoKTooaS5uZXh0KG8udmFsdWUpLHQuaW5kZXg9ZSsxLGkuY2xvc2VkP3ZvaWQoXCJmdW5jdGlvblwiPT10eXBlb2Ygci5yZXR1cm4mJnIucmV0dXJuKCkpOnZvaWQgdGhpcy5zY2hlZHVsZSh0KSl9LGUucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24odCl7dmFyIG49MCxyPXRoaXMsaT1yLml0ZXJhdG9yLG89ci5zY2hlZHVsZXI7aWYobylyZXR1cm4gby5zY2hlZHVsZShlLmRpc3BhdGNoLDAse2luZGV4Om4saXRlcmF0b3I6aSxzdWJzY3JpYmVyOnR9KTtmb3IoOzspe3ZhciBzPWkubmV4dCgpO2lmKHMuZG9uZSl7dC5jb21wbGV0ZSgpO2JyZWFrfWlmKHQubmV4dChzLnZhbHVlKSx0LmNsb3NlZCl7XCJmdW5jdGlvblwiPT10eXBlb2YgaS5yZXR1cm4mJmkucmV0dXJuKCk7YnJlYWt9fX0sZX0oYy5PYnNlcnZhYmxlKTtlLkl0ZXJhdG9yT2JzZXJ2YWJsZT1wO3ZhciBoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dC5sZW5ndGgpLHRoaXMuc3RyPXQsdGhpcy5pZHg9ZSx0aGlzLmxlbj1ufXJldHVybiB0LnByb3RvdHlwZVtsLiQkaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZHg8dGhpcy5sZW4/e2RvbmU6ITEsdmFsdWU6dGhpcy5zdHIuY2hhckF0KHRoaXMuaWR4KyspfTp7ZG9uZTohMCx2YWx1ZTp2b2lkIDB9fSx0fSgpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj1pKHQpKSxcbnRoaXMuYXJyPXQsdGhpcy5pZHg9ZSx0aGlzLmxlbj1ufXJldHVybiB0LnByb3RvdHlwZVtsLiQkaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZHg8dGhpcy5sZW4/e2RvbmU6ITEsdmFsdWU6dGhpcy5hcnJbdGhpcy5pZHgrK119Ontkb25lOiEwLHZhbHVlOnZvaWQgMH19LHR9KCksZD1NYXRoLnBvdygyLDUzKS0xfSksdC5yZWdpc3RlckR5bmFtaWMoXCIxZFwiLFtcIjE3XCIsXCIxZVwiLFwiMWZcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLGUmJmUuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSksaT10KFwiMTdcIiksbz10KFwiMWVcIikscz10KFwiMWZcIiksYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMpLHRoaXMuYXJyYXlMaWtlPWUsdGhpcy5zY2hlZHVsZXI9bixufHwxIT09ZS5sZW5ndGh8fCh0aGlzLl9pc1NjYWxhcj0hMCx0aGlzLnZhbHVlPWVbMF0pfXJldHVybiByKGUsdCksZS5jcmVhdGU9ZnVuY3Rpb24odCxuKXt2YXIgcj10Lmxlbmd0aDtyZXR1cm4gMD09PXI/bmV3IHMuRW1wdHlPYnNlcnZhYmxlOjE9PT1yP25ldyBvLlNjYWxhck9ic2VydmFibGUodFswXSxuKTpuZXcgZSh0LG4pfSxlLmRpc3BhdGNoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYXJyYXlMaWtlLG49dC5pbmRleCxyPXQubGVuZ3RoLGk9dC5zdWJzY3JpYmVyO2lmKCFpLmNsb3NlZCl7aWYobj49cilyZXR1cm4gdm9pZCBpLmNvbXBsZXRlKCk7aS5uZXh0KGVbbl0pLHQuaW5kZXg9bisxLHRoaXMuc2NoZWR1bGUodCl9fSxlLnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKHQpe3ZhciBuPTAscj10aGlzLGk9ci5hcnJheUxpa2Usbz1yLnNjaGVkdWxlcixzPWkubGVuZ3RoO2lmKG8pcmV0dXJuIG8uc2NoZWR1bGUoZS5kaXNwYXRjaCwwLHthcnJheUxpa2U6aSxpbmRleDpuLGxlbmd0aDpzLHN1YnNjcmliZXI6dH0pO2Zvcih2YXIgYT0wO2E8cyYmIXQuY2xvc2VkO2ErKyl0Lm5leHQoaVthXSk7dC5jb21wbGV0ZSgpfSxlfShpLk9ic2VydmFibGUpO2UuQXJyYXlMaWtlT2JzZXJ2YWJsZT1hfSksdC5yZWdpc3RlckR5bmFtaWMoXCIyMFwiLFtcIjE3XCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZix0KFwiMTdcIikpLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLmtpbmQ9dCx0aGlzLnZhbHVlPWUsdGhpcy5lcnJvcj1uLHRoaXMuaGFzVmFsdWU9XCJOXCI9PT10fXJldHVybiB0LnByb3RvdHlwZS5vYnNlcnZlPWZ1bmN0aW9uKHQpe3N3aXRjaCh0aGlzLmtpbmQpe2Nhc2VcIk5cIjpyZXR1cm4gdC5uZXh0JiZ0Lm5leHQodGhpcy52YWx1ZSk7Y2FzZVwiRVwiOnJldHVybiB0LmVycm9yJiZ0LmVycm9yKHRoaXMuZXJyb3IpO2Nhc2VcIkNcIjpyZXR1cm4gdC5jb21wbGV0ZSYmdC5jb21wbGV0ZSgpfX0sdC5wcm90b3R5cGUuZG89ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMua2luZDtzd2l0Y2gocil7Y2FzZVwiTlwiOnJldHVybiB0JiZ0KHRoaXMudmFsdWUpO2Nhc2VcIkVcIjpyZXR1cm4gZSYmZSh0aGlzLmVycm9yKTtjYXNlXCJDXCI6cmV0dXJuIG4mJm4oKX19LHQucHJvdG90eXBlLmFjY2VwdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQubmV4dD90aGlzLm9ic2VydmUodCk6dGhpcy5kbyh0LGUsbil9LHQucHJvdG90eXBlLnRvT2JzZXJ2YWJsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMua2luZDtzd2l0Y2godCl7Y2FzZVwiTlwiOnJldHVybiByLk9ic2VydmFibGUub2YodGhpcy52YWx1ZSk7Y2FzZVwiRVwiOnJldHVybiByLk9ic2VydmFibGUudGhyb3codGhpcy5lcnJvcik7Y2FzZVwiQ1wiOnJldHVybiByLk9ic2VydmFibGUuZW1wdHkoKX10aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIG5vdGlmaWNhdGlvbiBraW5kIHZhbHVlXCIpfSx0LmNyZWF0ZU5leHQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGU/bmV3IHQoXCJOXCIsZSk6dGhpcy51bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbn0sdC5jcmVhdGVFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoXCJFXCIsdm9pZCAwLGUpfSx0LmNyZWF0ZUNvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcGxldGVOb3RpZmljYXRpb259LHQuY29tcGxldGVOb3RpZmljYXRpb249bmV3IHQoXCJDXCIpLHQudW5kZWZpbmVkVmFsdWVOb3RpZmljYXRpb249bmV3IHQoXCJOXCIsdm9pZCAwKSx0fSgpO2UuTm90aWZpY2F0aW9uPWl9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjIxXCIsW1wiMjJcIixcIjIwXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXMubGlmdChuZXcgYSh0LGUpKX12YXIgaT0odGhpc3x8c2VsZixlJiZlLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pLG89dChcIjIyXCIpLHM9dChcIjIwXCIpO2Uub2JzZXJ2ZU9uPXI7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dm9pZCAwPT09ZSYmKGU9MCksdGhpcy5zY2hlZHVsZXI9dCx0aGlzLmRlbGF5PWV9cmV0dXJuIHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IHUodCx0aGlzLnNjaGVkdWxlcix0aGlzLmRlbGF5KSl9LHR9KCk7ZS5PYnNlcnZlT25PcGVyYXRvcj1hO3ZhciB1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3ZvaWQgMD09PXImJihyPTApLHQuY2FsbCh0aGlzLGUpLHRoaXMuc2NoZWR1bGVyPW4sdGhpcy5kZWxheT1yfXJldHVybiBpKGUsdCksZS5kaXNwYXRjaD1mdW5jdGlvbih0KXt2YXIgZT10Lm5vdGlmaWNhdGlvbixuPXQuZGVzdGluYXRpb247ZS5vYnNlcnZlKG4pfSxlLnByb3RvdHlwZS5zY2hlZHVsZU1lc3NhZ2U9ZnVuY3Rpb24odCl7dGhpcy5hZGQodGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoZS5kaXNwYXRjaCx0aGlzLmRlbGF5LG5ldyBjKHQsdGhpcy5kZXN0aW5hdGlvbikpKX0sZS5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24odCl7dGhpcy5zY2hlZHVsZU1lc3NhZ2Uocy5Ob3RpZmljYXRpb24uY3JlYXRlTmV4dCh0KSl9LGUucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbih0KXt0aGlzLnNjaGVkdWxlTWVzc2FnZShzLk5vdGlmaWNhdGlvbi5jcmVhdGVFcnJvcih0KSl9LGUucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuc2NoZWR1bGVNZXNzYWdlKHMuTm90aWZpY2F0aW9uLmNyZWF0ZUNvbXBsZXRlKCkpfSxlfShvLlN1YnNjcmliZXIpO2UuT2JzZXJ2ZU9uU3Vic2NyaWJlcj11O3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMubm90aWZpY2F0aW9uPXQsdGhpcy5kZXN0aW5hdGlvbj1lfXJldHVybiB0fSgpO2UuT2JzZXJ2ZU9uTWVzc2FnZT1jfSksdC5yZWdpc3RlckR5bmFtaWMoXCIyM1wiLFtcIjI0XCIsXCIyNVwiLFwiMjZcIixcIjFhXCIsXCIyN1wiLFwiMWRcIixcIjFjXCIsXCIxN1wiLFwiMjFcIixcIjI4XCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZixlJiZlLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pLGk9dChcIjI0XCIpLG89dChcIjI1XCIpLHM9dChcIjI2XCIpLGE9dChcIjFhXCIpLHU9dChcIjI3XCIpLGM9dChcIjFkXCIpLGw9dChcIjFjXCIpLHA9dChcIjE3XCIpLGg9dChcIjIxXCIpLGY9dChcIjI4XCIpLGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aH0seT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMsbnVsbCksdGhpcy5pc2g9ZSx0aGlzLnNjaGVkdWxlcj1ufXJldHVybiByKGUsdCksZS5jcmVhdGU9ZnVuY3Rpb24odCxuKXtpZihudWxsIT10KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2YuJCRvYnNlcnZhYmxlXSlyZXR1cm4gdCBpbnN0YW5jZW9mIHAuT2JzZXJ2YWJsZSYmIW4/dDpuZXcgZSh0LG4pO2lmKGkuaXNBcnJheSh0KSlyZXR1cm4gbmV3IHUuQXJyYXlPYnNlcnZhYmxlKHQsbik7aWYoby5pc1Byb21pc2UodCkpcmV0dXJuIG5ldyBzLlByb21pc2VPYnNlcnZhYmxlKHQsbik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdFtsLiQkaXRlcmF0b3JdfHxcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gbmV3IGEuSXRlcmF0b3JPYnNlcnZhYmxlKHQsbik7aWYoZCh0KSlyZXR1cm4gbmV3IGMuQXJyYXlMaWtlT2JzZXJ2YWJsZSh0LG4pfXRocm93IG5ldyBUeXBlRXJyb3IoKG51bGwhPT10JiZ0eXBlb2YgdHx8dCkrXCIgaXMgbm90IG9ic2VydmFibGVcIil9LGUucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pc2gsbj10aGlzLnNjaGVkdWxlcjtyZXR1cm4gbnVsbD09bj9lW2YuJCRvYnNlcnZhYmxlXSgpLnN1YnNjcmliZSh0KTplW2YuJCRvYnNlcnZhYmxlXSgpLnN1YnNjcmliZShuZXcgaC5PYnNlcnZlT25TdWJzY3JpYmVyKHQsbiwwKSl9LGV9KHAuT2JzZXJ2YWJsZSk7ZS5Gcm9tT2JzZXJ2YWJsZT15fSksdC5yZWdpc3RlckR5bmFtaWMoXCIyOVwiLFtcIjIzXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZix0KFwiMjNcIikpO2UuZnJvbT1yLkZyb21PYnNlcnZhYmxlLmNyZWF0ZX0pLHQucmVnaXN0ZXJEeW5hbWljKFwiMWVcIixbXCIxN1wiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSxpPXQoXCIxN1wiKSxvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyksdGhpcy52YWx1ZT1lLHRoaXMuc2NoZWR1bGVyPW4sdGhpcy5faXNTY2FsYXI9ITAsbiYmKHRoaXMuX2lzU2NhbGFyPSExKX1yZXR1cm4gcihlLHQpLGUuY3JlYXRlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBlKHQsbil9LGUuZGlzcGF0Y2g9ZnVuY3Rpb24odCl7dmFyIGU9dC5kb25lLG49dC52YWx1ZSxyPXQuc3Vic2NyaWJlcjtyZXR1cm4gZT92b2lkIHIuY29tcGxldGUoKTooci5uZXh0KG4pLHZvaWQoci5jbG9zZWR8fCh0LmRvbmU9ITAsdGhpcy5zY2hlZHVsZSh0KSkpKX0sZS5wcm90b3R5cGUuX3N1YnNjcmliZT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLnZhbHVlLHI9dGhpcy5zY2hlZHVsZXI7cmV0dXJuIHI/ci5zY2hlZHVsZShlLmRpc3BhdGNoLDAse2RvbmU6ITEsdmFsdWU6bixzdWJzY3JpYmVyOnR9KToodC5uZXh0KG4pLHZvaWQodC5jbG9zZWR8fHQuY29tcGxldGUoKSkpfSxlfShpLk9ic2VydmFibGUpO2UuU2NhbGFyT2JzZXJ2YWJsZT1vfSksdC5yZWdpc3RlckR5bmFtaWMoXCIxZlwiLFtcIjE3XCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZixlJiZlLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pLGk9dChcIjE3XCIpLG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyksdGhpcy5zY2hlZHVsZXI9ZX1yZXR1cm4gcihlLHQpLGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0sZS5kaXNwYXRjaD1mdW5jdGlvbih0KXt2YXIgZT10LnN1YnNjcmliZXI7ZS5jb21wbGV0ZSgpfSxlLnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuc2NoZWR1bGVyO3JldHVybiBuP24uc2NoZWR1bGUoZS5kaXNwYXRjaCwwLHtzdWJzY3JpYmVyOnR9KTp2b2lkIHQuY29tcGxldGUoKX0sZX0oaS5PYnNlcnZhYmxlKTtlLkVtcHR5T2JzZXJ2YWJsZT1vfSksdC5yZWdpc3RlckR5bmFtaWMoXCIyYVwiLFtdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnNjaGVkdWxlfXRoaXN8fHNlbGY7ZS5pc1NjaGVkdWxlcj1yfSksdC5yZWdpc3RlckR5bmFtaWMoXCIyN1wiLFtcIjE3XCIsXCIxZVwiLFwiMWZcIixcIjJhXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZixlJiZlLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pLGk9dChcIjE3XCIpLG89dChcIjFlXCIpLHM9dChcIjFmXCIpLGE9dChcIjJhXCIpLHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3QuY2FsbCh0aGlzKSx0aGlzLmFycmF5PWUsdGhpcy5zY2hlZHVsZXI9bixufHwxIT09ZS5sZW5ndGh8fCh0aGlzLl9pc1NjYWxhcj0hMCx0aGlzLnZhbHVlPWVbMF0pfXJldHVybiByKGUsdCksZS5jcmVhdGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IGUodCxuKX0sZS5vZj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMF09YXJndW1lbnRzW25dO3ZhciByPXRbdC5sZW5ndGgtMV07YS5pc1NjaGVkdWxlcihyKT90LnBvcCgpOnI9bnVsbDt2YXIgaT10Lmxlbmd0aDtyZXR1cm4gaT4xP25ldyBlKHQscik6MT09PWk/bmV3IG8uU2NhbGFyT2JzZXJ2YWJsZSh0WzBdLHIpOm5ldyBzLkVtcHR5T2JzZXJ2YWJsZShyKX0sZS5kaXNwYXRjaD1mdW5jdGlvbih0KXt2YXIgZT10LmFycmF5LG49dC5pbmRleCxyPXQuY291bnQsaT10LnN1YnNjcmliZXI7cmV0dXJuIG4+PXI/dm9pZCBpLmNvbXBsZXRlKCk6KGkubmV4dChlW25dKSx2b2lkKGkuY2xvc2VkfHwodC5pbmRleD1uKzEsdGhpcy5zY2hlZHVsZSh0KSkpKX0sZS5wcm90b3R5cGUuX3N1YnNjcmliZT1mdW5jdGlvbih0KXt2YXIgbj0wLHI9dGhpcy5hcnJheSxpPXIubGVuZ3RoLG89dGhpcy5zY2hlZHVsZXI7aWYobylyZXR1cm4gby5zY2hlZHVsZShlLmRpc3BhdGNoLDAse2FycmF5OnIsaW5kZXg6bixjb3VudDppLHN1YnNjcmliZXI6dH0pO2Zvcih2YXIgcz0wO3M8aSYmIXQuY2xvc2VkO3MrKyl0Lm5leHQocltzXSk7dC5jb21wbGV0ZSgpfSxlfShpLk9ic2VydmFibGUpO2UuQXJyYXlPYnNlcnZhYmxlPXV9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjJiXCIsW1wiMjdcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLHQoXCIyN1wiKSk7ZS5vZj1yLkFycmF5T2JzZXJ2YWJsZS5vZn0pLHQucmVnaXN0ZXJEeW5hbWljKFwiMmNcIixbXCIyZFwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3JldHVybiB0aGlzLmxpZnQobmV3IGkuTWVyZ2VNYXBPcGVyYXRvcih0LGUsMSkpfXZhciBpPSh0aGlzfHxzZWxmLHQoXCIyZFwiKSk7ZS5jb25jYXRNYXA9cn0pLHQucmVnaXN0ZXJEeW5hbWljKFwiMmVcIixbXCIyMlwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3JldHVybiB0aGlzLmxpZnQobmV3IHModCxlLHRoaXMpKX12YXIgaT0odGhpc3x8c2VsZixlJiZlLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pLG89dChcIjIyXCIpO2UuZXZlcnk9cjt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMucHJlZGljYXRlPXQsdGhpcy50aGlzQXJnPWUsdGhpcy5zb3VyY2U9bn1yZXR1cm4gdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbih0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgYSh0LHRoaXMucHJlZGljYXRlLHRoaXMudGhpc0FyZyx0aGlzLnNvdXJjZSkpfSx0fSgpLGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpKXt0LmNhbGwodGhpcyxlKSx0aGlzLnByZWRpY2F0ZT1uLHRoaXMudGhpc0FyZz1yLHRoaXMuc291cmNlPWksdGhpcy5pbmRleD0wLHRoaXMudGhpc0FyZz1yfHx0aGlzfXJldHVybiBpKGUsdCksZS5wcm90b3R5cGUubm90aWZ5Q29tcGxldGU9ZnVuY3Rpb24odCl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpLHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX0sZS5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24odCl7dmFyIGU9ITE7dHJ5e2U9dGhpcy5wcmVkaWNhdGUuY2FsbCh0aGlzLnRoaXNBcmcsdCx0aGlzLmluZGV4KyssdGhpcy5zb3VyY2UpfWNhdGNoKHQpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9ZXx8dGhpcy5ub3RpZnlDb21wbGV0ZSghMSl9LGUucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMubm90aWZ5Q29tcGxldGUoITApfSxlfShvLlN1YnNjcmliZXIpfSksdC5yZWdpc3RlckR5bmFtaWMoXCIyZlwiLFtcIjIyXCIsXCIzMFwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbil7cmV0dXJuIHRoaXMubGlmdChuZXcgYSh0LGUsbix0aGlzKSl9dmFyIGk9KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSxvPXQoXCIyMlwiKSxzPXQoXCIzMFwiKTtlLmZpcnN0PXI7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMucHJlZGljYXRlPXQsdGhpcy5yZXN1bHRTZWxlY3Rvcj1lLHRoaXMuZGVmYXVsdFZhbHVlPW4sdGhpcy5zb3VyY2U9cn1yZXR1cm4gdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbih0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgdSh0LHRoaXMucHJlZGljYXRlLHRoaXMucmVzdWx0U2VsZWN0b3IsdGhpcy5kZWZhdWx0VmFsdWUsdGhpcy5zb3VyY2UpKX0sdH0oKSx1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsaSxvKXt0LmNhbGwodGhpcyxlKSx0aGlzLnByZWRpY2F0ZT1uLHRoaXMucmVzdWx0U2VsZWN0b3I9cix0aGlzLmRlZmF1bHRWYWx1ZT1pLHRoaXMuc291cmNlPW8sdGhpcy5pbmRleD0wLHRoaXMuaGFzQ29tcGxldGVkPSExLHRoaXMuX2VtaXR0ZWQ9ITF9cmV0dXJuIGkoZSx0KSxlLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmluZGV4Kys7dGhpcy5wcmVkaWNhdGU/dGhpcy5fdHJ5UHJlZGljYXRlKHQsZSk6dGhpcy5fZW1pdCh0LGUpfSxlLnByb3RvdHlwZS5fdHJ5UHJlZGljYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG47dHJ5e249dGhpcy5wcmVkaWNhdGUodCxlLHRoaXMuc291cmNlKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfW4mJnRoaXMuX2VtaXQodCxlKX0sZS5wcm90b3R5cGUuX2VtaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZXN1bHRTZWxlY3Rvcj92b2lkIHRoaXMuX3RyeVJlc3VsdFNlbGVjdG9yKHQsZSk6dm9pZCB0aGlzLl9lbWl0RmluYWwodCl9LGUucHJvdG90eXBlLl90cnlSZXN1bHRTZWxlY3Rvcj1mdW5jdGlvbih0LGUpe3ZhciBuO3RyeXtuPXRoaXMucmVzdWx0U2VsZWN0b3IodCxlKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfXRoaXMuX2VtaXRGaW5hbChuKX0sZS5wcm90b3R5cGUuX2VtaXRGaW5hbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRlc3RpbmF0aW9uO3RoaXMuX2VtaXR0ZWR8fCh0aGlzLl9lbWl0dGVkPSEwLGUubmV4dCh0KSxlLmNvbXBsZXRlKCksdGhpcy5oYXNDb21wbGV0ZWQ9ITApfSxlLnByb3RvdHlwZS5fY29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRlc3RpbmF0aW9uO3RoaXMuaGFzQ29tcGxldGVkfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5kZWZhdWx0VmFsdWU/dGhpcy5oYXNDb21wbGV0ZWR8fHQuZXJyb3IobmV3IHMuRW1wdHlFcnJvcik6KHQubmV4dCh0aGlzLmRlZmF1bHRWYWx1ZSksdC5jb21wbGV0ZSgpKX0sZX0oby5TdWJzY3JpYmVyKX0pLHQucmVnaXN0ZXJEeW5hbWljKFwiMmRcIixbXCIzMVwiLFwiMzJcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLFwibnVtYmVyXCI9PXR5cGVvZiBlJiYobj1lLGU9bnVsbCksdGhpcy5saWZ0KG5ldyBhKHQsZSxuKSl9dmFyIGk9KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSxvPXQoXCIzMVwiKSxzPXQoXCIzMlwiKTtlLm1lcmdlTWFwPXI7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2b2lkIDA9PT1uJiYobj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLHRoaXMucHJvamVjdD10LHRoaXMucmVzdWx0U2VsZWN0b3I9ZSx0aGlzLmNvbmN1cnJlbnQ9bn1yZXR1cm4gdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbih0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgdSh0LHRoaXMucHJvamVjdCx0aGlzLnJlc3VsdFNlbGVjdG9yLHRoaXMuY29uY3VycmVudCkpfSx0fSgpO2UuTWVyZ2VNYXBPcGVyYXRvcj1hO3ZhciB1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsaSl7dm9pZCAwPT09aSYmKGk9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSx0LmNhbGwodGhpcyxlKSx0aGlzLnByb2plY3Q9bix0aGlzLnJlc3VsdFNlbGVjdG9yPXIsdGhpcy5jb25jdXJyZW50PWksdGhpcy5oYXNDb21wbGV0ZWQ9ITEsdGhpcy5idWZmZXI9W10sdGhpcy5hY3RpdmU9MCx0aGlzLmluZGV4PTB9cmV0dXJuIGkoZSx0KSxlLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbih0KXt0aGlzLmFjdGl2ZTx0aGlzLmNvbmN1cnJlbnQ/dGhpcy5fdHJ5TmV4dCh0KTp0aGlzLmJ1ZmZlci5wdXNoKHQpfSxlLnByb3RvdHlwZS5fdHJ5TmV4dD1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMuaW5kZXgrKzt0cnl7ZT10aGlzLnByb2plY3QodCxuKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfXRoaXMuYWN0aXZlKyssdGhpcy5faW5uZXJTdWIoZSx0LG4pfSxlLnByb3RvdHlwZS5faW5uZXJTdWI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuYWRkKG8uc3Vic2NyaWJlVG9SZXN1bHQodGhpcyx0LGUsbikpfSxlLnByb3RvdHlwZS5fY29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLmhhc0NvbXBsZXRlZD0hMCwwPT09dGhpcy5hY3RpdmUmJjA9PT10aGlzLmJ1ZmZlci5sZW5ndGgmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX0sZS5wcm90b3R5cGUubm90aWZ5TmV4dD1mdW5jdGlvbih0LGUsbixyLGkpe3RoaXMucmVzdWx0U2VsZWN0b3I/dGhpcy5fbm90aWZ5UmVzdWx0U2VsZWN0b3IodCxlLG4scik6dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfSxlLnByb3RvdHlwZS5fbm90aWZ5UmVzdWx0U2VsZWN0b3I9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk7dHJ5e2k9dGhpcy5yZXN1bHRTZWxlY3Rvcih0LGUsbixyKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfXRoaXMuZGVzdGluYXRpb24ubmV4dChpKX0sZS5wcm90b3R5cGUubm90aWZ5Q29tcGxldGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5idWZmZXI7dGhpcy5yZW1vdmUodCksdGhpcy5hY3RpdmUtLSxlLmxlbmd0aD4wP3RoaXMuX25leHQoZS5zaGlmdCgpKTowPT09dGhpcy5hY3RpdmUmJnRoaXMuaGFzQ29tcGxldGVkJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9LGV9KHMuT3V0ZXJTdWJzY3JpYmVyKTtlLk1lcmdlTWFwU3Vic2NyaWJlcj11fSksdC5yZWdpc3RlckR5bmFtaWMoXCIzM1wiLFtcIjIyXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7dmFyIG49ITE7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+PTImJihuPSEwKSx0aGlzLmxpZnQobmV3IHModCxlLG4pKX12YXIgaT0odGhpc3x8c2VsZixlJiZlLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pLG89dChcIjIyXCIpO2UucmVkdWNlPXI7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2b2lkIDA9PT1uJiYobj0hMSksdGhpcy5hY2N1bXVsYXRvcj10LHRoaXMuc2VlZD1lLHRoaXMuaGFzU2VlZD1ufXJldHVybiB0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBhKHQsdGhpcy5hY2N1bXVsYXRvcix0aGlzLnNlZWQsdGhpcy5oYXNTZWVkKSl9LHR9KCk7ZS5SZWR1Y2VPcGVyYXRvcj1zO3ZhciBhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsaSl7dC5jYWxsKHRoaXMsZSksdGhpcy5hY2N1bXVsYXRvcj1uLHRoaXMuaGFzU2VlZD1pLHRoaXMuaGFzVmFsdWU9ITEsdGhpcy5hY2M9cn1yZXR1cm4gaShlLHQpLGUucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKHQpe3RoaXMuaGFzVmFsdWV8fCh0aGlzLmhhc1ZhbHVlPXRoaXMuaGFzU2VlZCk/dGhpcy5fdHJ5UmVkdWNlKHQpOih0aGlzLmFjYz10LHRoaXMuaGFzVmFsdWU9ITApfSxlLnByb3RvdHlwZS5fdHJ5UmVkdWNlPWZ1bmN0aW9uKHQpe3ZhciBlO3RyeXtlPXRoaXMuYWNjdW11bGF0b3IodGhpcy5hY2MsdCl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX10aGlzLmFjYz1lfSxlLnByb3RvdHlwZS5fY29tcGxldGU9ZnVuY3Rpb24oKXsodGhpcy5oYXNWYWx1ZXx8dGhpcy5oYXNTZWVkKSYmdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHRoaXMuYWNjKSx0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9LGV9KG8uU3Vic2NyaWJlcik7ZS5SZWR1Y2VTdWJzY3JpYmVyPWF9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjM0XCIsW1wiMzVcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXtyZXR1cm4gdGhpcy5saWZ0KG5ldyBpLk1lcmdlQWxsT3BlcmF0b3IoMSkpfXZhciBpPSh0aGlzfHxzZWxmLHQoXCIzNVwiKSk7ZS5jb25jYXRBbGw9cn0pLHQucmVnaXN0ZXJEeW5hbWljKFwiMjZcIixbXCIxYlwiLFwiMTdcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9dC52YWx1ZSxuPXQuc3Vic2NyaWJlcjtuLmNsb3NlZHx8KG4ubmV4dChlKSxuLmNvbXBsZXRlKCkpfWZ1bmN0aW9uIGkodCl7dmFyIGU9dC5lcnIsbj10LnN1YnNjcmliZXI7bi5jbG9zZWR8fG4uZXJyb3IoZSl9dmFyIG89KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSxzPXQoXCIxYlwiKSxhPXQoXCIxN1wiKSx1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyksdGhpcy5wcm9taXNlPWUsdGhpcy5zY2hlZHVsZXI9bn1yZXR1cm4gbyhlLHQpLGUuY3JlYXRlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBlKHQsbil9LGUucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMucHJvbWlzZSxvPXRoaXMuc2NoZWR1bGVyO2lmKG51bGw9PW8pdGhpcy5faXNTY2FsYXI/dC5jbG9zZWR8fCh0Lm5leHQodGhpcy52YWx1ZSksdC5jb21wbGV0ZSgpKTpuLnRoZW4oZnVuY3Rpb24obil7ZS52YWx1ZT1uLGUuX2lzU2NhbGFyPSEwLHQuY2xvc2VkfHwodC5uZXh0KG4pLHQuY29tcGxldGUoKSl9LGZ1bmN0aW9uKGUpe3QuY2xvc2VkfHx0LmVycm9yKGUpfSkudGhlbihudWxsLGZ1bmN0aW9uKHQpe3Mucm9vdC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdH0pfSk7ZWxzZSBpZih0aGlzLl9pc1NjYWxhcil7aWYoIXQuY2xvc2VkKXJldHVybiBvLnNjaGVkdWxlKHIsMCx7dmFsdWU6dGhpcy52YWx1ZSxzdWJzY3JpYmVyOnR9KX1lbHNlIG4udGhlbihmdW5jdGlvbihuKXtlLnZhbHVlPW4sZS5faXNTY2FsYXI9ITAsdC5jbG9zZWR8fHQuYWRkKG8uc2NoZWR1bGUociwwLHt2YWx1ZTpuLHN1YnNjcmliZXI6dH0pKX0sZnVuY3Rpb24oZSl7dC5jbG9zZWR8fHQuYWRkKG8uc2NoZWR1bGUoaSwwLHtlcnI6ZSxzdWJzY3JpYmVyOnR9KSl9KS50aGVuKG51bGwsZnVuY3Rpb24odCl7cy5yb290LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyB0fSl9KX0sZX0oYS5PYnNlcnZhYmxlKTtlLlByb21pc2VPYnNlcnZhYmxlPXV9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjE4XCIsW1wiMjZcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLHQoXCIyNlwiKSk7ZS5mcm9tUHJvbWlzZT1yLlByb21pc2VPYnNlcnZhYmxlLmNyZWF0ZX0pLHQucmVnaXN0ZXJEeW5hbWljKFwiMzBcIixbXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSxpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyxcIm5vIGVsZW1lbnRzIGluIHNlcXVlbmNlXCIpO3RoaXMubmFtZT1lLm5hbWU9XCJFbXB0eUVycm9yXCIsdGhpcy5zdGFjaz1lLnN0YWNrLHRoaXMubWVzc2FnZT1lLm1lc3NhZ2V9cmV0dXJuIHIoZSx0KSxlfShFcnJvcik7ZS5FbXB0eUVycm9yPWl9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjM2XCIsW1wiMjJcIixcIjMwXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuKXtyZXR1cm4gdGhpcy5saWZ0KG5ldyBhKHQsZSxuLHRoaXMpKX12YXIgaT0odGhpc3x8c2VsZixlJiZlLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pLG89dChcIjIyXCIpLHM9dChcIjMwXCIpO2UubGFzdD1yO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLnByZWRpY2F0ZT10LHRoaXMucmVzdWx0U2VsZWN0b3I9ZSx0aGlzLmRlZmF1bHRWYWx1ZT1uLHRoaXMuc291cmNlPXJ9cmV0dXJuIHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IHUodCx0aGlzLnByZWRpY2F0ZSx0aGlzLnJlc3VsdFNlbGVjdG9yLHRoaXMuZGVmYXVsdFZhbHVlLHRoaXMuc291cmNlKSl9LHR9KCksdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGksbyl7dC5jYWxsKHRoaXMsZSksdGhpcy5wcmVkaWNhdGU9bix0aGlzLnJlc3VsdFNlbGVjdG9yPXIsdGhpcy5kZWZhdWx0VmFsdWU9aSx0aGlzLnNvdXJjZT1vLHRoaXMuaGFzVmFsdWU9ITEsdGhpcy5pbmRleD0wLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpJiYodGhpcy5sYXN0VmFsdWU9aSx0aGlzLmhhc1ZhbHVlPSEwKX1yZXR1cm4gaShlLHQpLGUucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaW5kZXgrKztpZih0aGlzLnByZWRpY2F0ZSl0aGlzLl90cnlQcmVkaWNhdGUodCxlKTtlbHNle2lmKHRoaXMucmVzdWx0U2VsZWN0b3IpcmV0dXJuIHZvaWQgdGhpcy5fdHJ5UmVzdWx0U2VsZWN0b3IodCxlKTt0aGlzLmxhc3RWYWx1ZT10LHRoaXMuaGFzVmFsdWU9ITB9fSxlLnByb3RvdHlwZS5fdHJ5UHJlZGljYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG47dHJ5e249dGhpcy5wcmVkaWNhdGUodCxlLHRoaXMuc291cmNlKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfWlmKG4pe2lmKHRoaXMucmVzdWx0U2VsZWN0b3IpcmV0dXJuIHZvaWQgdGhpcy5fdHJ5UmVzdWx0U2VsZWN0b3IodCxlKTt0aGlzLmxhc3RWYWx1ZT10LHRoaXMuaGFzVmFsdWU9ITB9fSxlLnByb3RvdHlwZS5fdHJ5UmVzdWx0U2VsZWN0b3I9ZnVuY3Rpb24odCxlKXt2YXIgbjt0cnl7bj10aGlzLnJlc3VsdFNlbGVjdG9yKHQsZSl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX10aGlzLmxhc3RWYWx1ZT1uLHRoaXMuaGFzVmFsdWU9ITB9LGUucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZGVzdGluYXRpb247dGhpcy5oYXNWYWx1ZT8odC5uZXh0KHRoaXMubGFzdFZhbHVlKSx0LmNvbXBsZXRlKCkpOnQuZXJyb3IobmV3IHMuRW1wdHlFcnJvcil9LGV9KG8uU3Vic2NyaWJlcil9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjM1XCIsW1wiMzJcIixcIjMxXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLHRoaXMubGlmdChuZXcgYSh0KSl9dmFyIGk9KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSxvPXQoXCIzMlwiKSxzPXQoXCIzMVwiKTtlLm1lcmdlQWxsPXI7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY29uY3VycmVudD10fXJldHVybiB0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyB1KHQsdGhpcy5jb25jdXJyZW50KSl9LHR9KCk7ZS5NZXJnZUFsbE9wZXJhdG9yPWE7dmFyIHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3QuY2FsbCh0aGlzLGUpLHRoaXMuY29uY3VycmVudD1uLHRoaXMuaGFzQ29tcGxldGVkPSExLHRoaXMuYnVmZmVyPVtdLHRoaXMuYWN0aXZlPTB9cmV0dXJuIGkoZSx0KSxlLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbih0KXt0aGlzLmFjdGl2ZTx0aGlzLmNvbmN1cnJlbnQ/KHRoaXMuYWN0aXZlKyssdGhpcy5hZGQocy5zdWJzY3JpYmVUb1Jlc3VsdCh0aGlzLHQpKSk6dGhpcy5idWZmZXIucHVzaCh0KX0sZS5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5oYXNDb21wbGV0ZWQ9ITAsMD09PXRoaXMuYWN0aXZlJiYwPT09dGhpcy5idWZmZXIubGVuZ3RoJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9LGUucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYnVmZmVyO3RoaXMucmVtb3ZlKHQpLHRoaXMuYWN0aXZlLS0sZS5sZW5ndGg+MD90aGlzLl9uZXh0KGUuc2hpZnQoKSk6MD09PXRoaXMuYWN0aXZlJiZ0aGlzLmhhc0NvbXBsZXRlZCYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfSxlfShvLk91dGVyU3Vic2NyaWJlcik7ZS5NZXJnZUFsbFN1YnNjcmliZXI9dX0pLHQucmVnaXN0ZXJEeW5hbWljKFwiMzdcIixbXCIyMlwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3JldHVybiB0aGlzLmxpZnQobmV3IHModCxlKSl9dmFyIGk9KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSxvPXQoXCIyMlwiKTtlLmZpbHRlcj1yO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMucHJlZGljYXRlPXQsdGhpcy50aGlzQXJnPWV9cmV0dXJuIHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IGEodCx0aGlzLnByZWRpY2F0ZSx0aGlzLnRoaXNBcmcpKX0sdH0oKSxhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzLGUpLHRoaXMucHJlZGljYXRlPW4sdGhpcy50aGlzQXJnPXIsdGhpcy5jb3VudD0wLHRoaXMucHJlZGljYXRlPW59cmV0dXJuIGkoZSx0KSxlLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbih0KXt2YXIgZTt0cnl7ZT10aGlzLnByZWRpY2F0ZS5jYWxsKHRoaXMudGhpc0FyZyx0LHRoaXMuY291bnQrKyl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX1lJiZ0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9LGV9KG8uU3Vic2NyaWJlcil9KSxmdW5jdGlvbihpLG8pe1wib2JqZWN0XCI9PXR5cGVvZiBuJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygcj9vKG4sZShcIkBhbmd1bGFyL2NvbW1vblwiKSxlKFwiQGFuZ3VsYXIvY29yZVwiKSxlKFwicnhqcy9CZWhhdmlvclN1YmplY3RcIiksZShcInJ4anMvU3ViamVjdFwiKSxlKFwicnhqcy9vYnNlcnZhYmxlL2Zyb21cIiksZShcInJ4anMvb2JzZXJ2YWJsZS9vZlwiKSxlKFwicnhqcy9vcGVyYXRvci9jb25jYXRNYXBcIiksZShcInJ4anMvb3BlcmF0b3IvZXZlcnlcIiksZShcInJ4anMvb3BlcmF0b3IvZmlyc3RcIiksZShcInJ4anMvb3BlcmF0b3IvbWFwXCIpLGUoXCJyeGpzL29wZXJhdG9yL21lcmdlTWFwXCIpLGUoXCJyeGpzL29wZXJhdG9yL3JlZHVjZVwiKSxlKFwicnhqcy9PYnNlcnZhYmxlXCIpLGUoXCJyeGpzL29wZXJhdG9yL2NhdGNoXCIpLGUoXCJyeGpzL29wZXJhdG9yL2NvbmNhdEFsbFwiKSxlKFwicnhqcy91dGlsL0VtcHR5RXJyb3JcIiksZShcInJ4anMvb2JzZXJ2YWJsZS9mcm9tUHJvbWlzZVwiKSxlKFwicnhqcy9vcGVyYXRvci9sYXN0XCIpLGUoXCJyeGpzL29wZXJhdG9yL21lcmdlQWxsXCIpLGUoXCJAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyXCIpLGUoXCJyeGpzL29wZXJhdG9yL2ZpbHRlclwiKSk6dC5yZWdpc3RlckR5bmFtaWMoXCIzOFwiLFtcIjM5XCIsXCJjXCIsXCIzYVwiLFwiMTZcIixcIjI5XCIsXCIyYlwiLFwiMmNcIixcIjJlXCIsXCIyZlwiLFwiM2JcIixcIjJkXCIsXCIzM1wiLFwiMTdcIixcIjNjXCIsXCIzNFwiLFwiMzBcIixcIjE4XCIsXCIzNlwiLFwiMzVcIixcImVcIixcIjM3XCJdLCExLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBvP28uY2FsbChlLGUsdChcIjM5XCIpLHQoXCJjXCIpLHQoXCIzYVwiKSx0KFwiMTZcIiksdChcIjI5XCIpLHQoXCIyYlwiKSx0KFwiMmNcIiksdChcIjJlXCIpLHQoXCIyZlwiKSx0KFwiM2JcIiksdChcIjJkXCIpLHQoXCIzM1wiKSx0KFwiMTdcIiksdChcIjNjXCIpLHQoXCIzNFwiKSx0KFwiMzBcIiksdChcIjE4XCIpLHQoXCIzNlwiKSx0KFwiMzVcIiksdChcImVcIiksdChcIjM3XCIpKTpvfSl9KHRoaXMsZnVuY3Rpb24odCxlLG4scixpLG8scyxhLHUsYyxsLHAsaCxmLGQseSxtLHYsZyxfLGIsdyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gQyh0LGUsbil7Zm9yKHZhciByPW4ucGF0aCxpPXIuc3BsaXQoXCIvXCIpLG89e30scz1bXSxhPTAsdT0wO3U8aS5sZW5ndGg7Kyt1KXtpZihhPj10Lmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgYz10W2FdLGw9aVt1XSxwPWwuc3RhcnRzV2l0aChcIjpcIik7aWYoIXAmJmwhPT1jLnBhdGgpcmV0dXJuIG51bGw7cCYmKG9bbC5zdWJzdHJpbmcoMSldPWMpLHMucHVzaChjKSxhKyt9cmV0dXJuXCJmdWxsXCI9PT1uLnBhdGhNYXRjaCYmKGUuaGFzQ2hpbGRyZW4oKXx8YTx0Lmxlbmd0aCk/bnVsbDp7Y29uc3VtZWQ6cyxwb3NQYXJhbXM6b319ZnVuY3Rpb24gRSh0LGUpe2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYoIVModFtuXSxlW25dKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBTKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCkscj1PYmplY3Qua2V5cyhlKTtpZihuLmxlbmd0aCE9ci5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpLG89MDtvPG4ubGVuZ3RoO28rKylpZihpPW5bb10sdFtpXSE9PWVbaV0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geCh0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7KytuKWZvcih2YXIgcj0wO3I8dFtuXS5sZW5ndGg7KytyKWUucHVzaCh0W25dW3JdKTtyZXR1cm4gZX1mdW5jdGlvbiBQKHQpe3JldHVybiB0Lmxlbmd0aD4wP3RbdC5sZW5ndGgtMV06bnVsbH1mdW5jdGlvbiBPKHQsZSl7dmFyIG49e307Zm9yKHZhciByIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmKG5bcl09dFtyXSk7Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKG5bcl09ZVtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gVCh0LGUpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJmUodFtuXSxuKX1mdW5jdGlvbiBBKHQsZSl7dmFyIG49W10scj17fTtpZihUKHQsZnVuY3Rpb24odCxpKXtpPT09TWUmJm4ucHVzaChsLm1hcC5jYWxsKGUoaSx0KSxmdW5jdGlvbih0KXtyZXR1cm4gcltpXT10LHR9KSl9KSxUKHQsZnVuY3Rpb24odCxpKXtpIT09TWUmJm4ucHVzaChsLm1hcC5jYWxsKGUoaSx0KSxmdW5jdGlvbih0KXtyZXR1cm4gcltpXT10LHR9KSl9KSxuLmxlbmd0aD4wKXt2YXIgaT15LmNvbmNhdEFsbC5jYWxsKHMub2YuYXBwbHkodm9pZCAwLG4pKSxvPWcubGFzdC5jYWxsKGkpO3JldHVybiBsLm1hcC5jYWxsKG8sZnVuY3Rpb24oKXtyZXR1cm4gcn0pfXJldHVybiBzLm9mKHIpfWZ1bmN0aW9uIE0odCl7dmFyIGU9Xy5tZXJnZUFsbC5jYWxsKHQpO3JldHVybiB1LmV2ZXJ5LmNhbGwoZSxmdW5jdGlvbih0KXtyZXR1cm4gdD09PSEwfSl9ZnVuY3Rpb24gayh0KXtyZXR1cm4gVGUodCk/dDpPZSh0KT92LmZyb21Qcm9taXNlKHQpOnMub2YodCl9ZnVuY3Rpb24gUigpe3JldHVybiBuZXcgRGUobmV3IGplKFtdLHt9KSx7fSxudWxsKX1mdW5jdGlvbiBJKHQsZSxuKXtyZXR1cm4gbj9OKHQucXVlcnlQYXJhbXMsZS5xdWVyeVBhcmFtcykmJkQodC5yb290LGUucm9vdCk6aih0LnF1ZXJ5UGFyYW1zLGUucXVlcnlQYXJhbXMpJiZWKHQucm9vdCxlLnJvb3QpfWZ1bmN0aW9uIE4odCxlKXtyZXR1cm4gUyh0LGUpfWZ1bmN0aW9uIEQodCxlKXtpZighVSh0LnNlZ21lbnRzLGUuc2VnbWVudHMpKXJldHVybiExO2lmKHQubnVtYmVyT2ZDaGlsZHJlbiE9PWUubnVtYmVyT2ZDaGlsZHJlbilyZXR1cm4hMTtmb3IodmFyIG4gaW4gZS5jaGlsZHJlbil7aWYoIXQuY2hpbGRyZW5bbl0pcmV0dXJuITE7aWYoIUQodC5jaGlsZHJlbltuXSxlLmNoaWxkcmVuW25dKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBqKHQsZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmxlbmd0aDw9T2JqZWN0LmtleXModCkubGVuZ3RoJiZPYmplY3Qua2V5cyhlKS5ldmVyeShmdW5jdGlvbihuKXtyZXR1cm4gZVtuXT09PXRbbl19KX1mdW5jdGlvbiBWKHQsZSl7cmV0dXJuIEwodCxlLGUuc2VnbWVudHMpfWZ1bmN0aW9uIEwodCxlLG4pe2lmKHQuc2VnbWVudHMubGVuZ3RoPm4ubGVuZ3RoKXt2YXIgcj10LnNlZ21lbnRzLnNsaWNlKDAsbi5sZW5ndGgpO3JldHVybiEhVShyLG4pJiYhZS5oYXNDaGlsZHJlbigpfWlmKHQuc2VnbWVudHMubGVuZ3RoPT09bi5sZW5ndGgpe2lmKCFVKHQuc2VnbWVudHMsbikpcmV0dXJuITE7Zm9yKHZhciBpIGluIGUuY2hpbGRyZW4pe2lmKCF0LmNoaWxkcmVuW2ldKXJldHVybiExO2lmKCFWKHQuY2hpbGRyZW5baV0sZS5jaGlsZHJlbltpXSkpcmV0dXJuITF9cmV0dXJuITB9dmFyIHI9bi5zbGljZSgwLHQuc2VnbWVudHMubGVuZ3RoKSxvPW4uc2xpY2UodC5zZWdtZW50cy5sZW5ndGgpO3JldHVybiEhVSh0LnNlZ21lbnRzLHIpJiYoISF0LmNoaWxkcmVuW01lXSYmTCh0LmNoaWxkcmVuW01lXSxlLG8pKX1mdW5jdGlvbiBGKHQsZSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHQubGVuZ3RoOysrbil7aWYodFtuXS5wYXRoIT09ZVtuXS5wYXRoKXJldHVybiExO2lmKCFTKHRbbl0ucGFyYW1ldGVycyxlW25dLnBhcmFtZXRlcnMpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIFUodCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKWlmKHRbbl0ucGF0aCE9PWVbbl0ucGF0aClyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBIKHQsZSl7dmFyIG49W107cmV0dXJuIFQodC5jaGlsZHJlbixmdW5jdGlvbih0LHIpe3I9PT1NZSYmKG49bi5jb25jYXQoZSh0LHIpKSl9KSxUKHQuY2hpbGRyZW4sZnVuY3Rpb24odCxyKXtyIT09TWUmJihuPW4uY29uY2F0KGUodCxyKSkpfSksbn1mdW5jdGlvbiBCKHQpe3JldHVybiB0LnNlZ21lbnRzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gRyh0KX0pLmpvaW4oXCIvXCIpfWZ1bmN0aW9uIHEodCxlKXtpZih0Lmhhc0NoaWxkcmVuKCkmJmUpe3ZhciBuPXQuY2hpbGRyZW5bTWVdP3EodC5jaGlsZHJlbltNZV0sITEpOlwiXCIscj1bXTtyZXR1cm4gVCh0LmNoaWxkcmVuLGZ1bmN0aW9uKHQsZSl7ZSE9PU1lJiZyLnB1c2goZStcIjpcIitxKHQsITEpKX0pLHIubGVuZ3RoPjA/bitcIihcIityLmpvaW4oXCIvL1wiKStcIilcIjpcIlwiK259aWYodC5oYXNDaGlsZHJlbigpJiYhZSl7dmFyIGk9SCh0LGZ1bmN0aW9uKGUsbil7cmV0dXJuIG49PT1NZT9bcSh0LmNoaWxkcmVuW01lXSwhMSldOltuK1wiOlwiK3EoZSwhMSldfSk7cmV0dXJuIEIodCkrXCIvKFwiK2kuam9pbihcIi8vXCIpK1wiKVwifXJldHVybiBCKHQpfWZ1bmN0aW9uIHoodCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KX1mdW5jdGlvbiBXKHQpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodCl9ZnVuY3Rpb24gRyh0KXtyZXR1cm5cIlwiK3oodC5wYXRoKStYKHQucGFyYW1ldGVycyl9ZnVuY3Rpb24gWCh0KXtyZXR1cm4gUSh0KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuXCI7XCIreih0LmZpcnN0KStcIj1cIit6KHQuc2Vjb25kKX0pLmpvaW4oXCJcIil9ZnVuY3Rpb24gJCh0KXt2YXIgZT1PYmplY3Qua2V5cyh0KS5tYXAoZnVuY3Rpb24oZSl7dmFyIG49dFtlXTtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9uLm1hcChmdW5jdGlvbih0KXtyZXR1cm4geihlKStcIj1cIit6KHQpfSkuam9pbihcIiZcIik6eihlKStcIj1cIit6KG4pfSk7cmV0dXJuIGUubGVuZ3RoP1wiP1wiK2Uuam9pbihcIiZcIik6XCJcIn1mdW5jdGlvbiBRKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJmUucHVzaChuZXcgVWUobix0W25dKSk7cmV0dXJuIGV9ZnVuY3Rpb24gWSh0KXtIZS5sYXN0SW5kZXg9MDt2YXIgZT10Lm1hdGNoKEhlKTtyZXR1cm4gZT9lWzBdOlwiXCJ9ZnVuY3Rpb24gSyh0KXtCZS5sYXN0SW5kZXg9MDt2YXIgZT10Lm1hdGNoKEhlKTtyZXR1cm4gZT9lWzBdOlwiXCJ9ZnVuY3Rpb24gWih0KXtxZS5sYXN0SW5kZXg9MDt2YXIgZT10Lm1hdGNoKHFlKTtyZXR1cm4gZT9lWzBdOlwiXCJ9ZnVuY3Rpb24gSih0KXtyZXR1cm4gbmV3IGYuT2JzZXJ2YWJsZShmdW5jdGlvbihlKXtyZXR1cm4gZS5lcnJvcihuZXcgV2UodCkpfSl9ZnVuY3Rpb24gdHQodCl7cmV0dXJuIG5ldyBmLk9ic2VydmFibGUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXJyb3IobmV3IEdlKHQpKX0pfWZ1bmN0aW9uIGV0KHQpe3JldHVybiBuZXcgZi5PYnNlcnZhYmxlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVycm9yKG5ldyBFcnJvcihcIk9ubHkgYWJzb2x1dGUgcmVkaXJlY3RzIGNhbiBoYXZlIG5hbWVkIG91dGxldHMuIHJlZGlyZWN0VG86ICdcIit0K1wiJ1wiKSl9KX1mdW5jdGlvbiBudCh0KXtyZXR1cm4gbmV3IGYuT2JzZXJ2YWJsZShmdW5jdGlvbihlKXtyZXR1cm4gZS5lcnJvcihuZXcga2UoXCJDYW5ub3QgbG9hZCBjaGlsZHJlbiBiZWNhdXNlIHRoZSBndWFyZCBvZiB0aGUgcm91dGUgXFxcInBhdGg6ICdcIit0LnBhdGgrXCInXFxcIiByZXR1cm5lZCBmYWxzZVwiKSl9KX1mdW5jdGlvbiBydCh0LGUsbixyLGkpe3JldHVybiBuZXcgWGUodCxlLG4scixpKS5hcHBseSgpfWZ1bmN0aW9uIGl0KHQsZSl7dmFyIG49ZS5jYW5Mb2FkO2lmKCFufHwwPT09bi5sZW5ndGgpcmV0dXJuIHMub2YoITApO3ZhciByPWwubWFwLmNhbGwoby5mcm9tKG4pLGZ1bmN0aW9uKG4pe3ZhciByPXQuZ2V0KG4pO3JldHVybiBrKHIuY2FuTG9hZD9yLmNhbkxvYWQoZSk6cihlKSl9KTtyZXR1cm4gTShyKX1mdW5jdGlvbiBvdCh0LGUsbil7dmFyIHI9e21hdGNoZWQ6ITEsY29uc3VtZWRTZWdtZW50czpbXSxsYXN0Q2hpbGQ6MCxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czp7fX07aWYoXCJcIj09PWUucGF0aClyZXR1cm5cImZ1bGxcIj09PWUucGF0aE1hdGNoJiYodC5oYXNDaGlsZHJlbigpfHxuLmxlbmd0aD4wKT97bWF0Y2hlZDohMSxjb25zdW1lZFNlZ21lbnRzOltdLGxhc3RDaGlsZDowLHBvc2l0aW9uYWxQYXJhbVNlZ21lbnRzOnt9fTp7bWF0Y2hlZDohMCxjb25zdW1lZFNlZ21lbnRzOltdLGxhc3RDaGlsZDowLHBvc2l0aW9uYWxQYXJhbVNlZ21lbnRzOnt9fTt2YXIgaT1lLm1hdGNoZXJ8fEMsbz1pKG4sdCxlKTtyZXR1cm4gbz97bWF0Y2hlZDohMCxjb25zdW1lZFNlZ21lbnRzOm8uY29uc3VtZWQsbGFzdENoaWxkOm8uY29uc3VtZWQubGVuZ3RoLHBvc2l0aW9uYWxQYXJhbVNlZ21lbnRzOm8ucG9zUGFyYW1zfTpyfWZ1bmN0aW9uIHN0KHQsZSxuLHIpe2lmKG4ubGVuZ3RoPjAmJmx0KHQsbixyKSl7dmFyIGk9bmV3IGplKGUsY3QocixuZXcgamUobix0LmNoaWxkcmVuKSkpO3JldHVybntzZWdtZW50R3JvdXA6YXQoaSksc2xpY2VkU2VnbWVudHM6W119fWlmKDA9PT1uLmxlbmd0aCYmcHQodCxuLHIpKXt2YXIgaT1uZXcgamUodC5zZWdtZW50cyx1dCh0LG4scix0LmNoaWxkcmVuKSk7cmV0dXJue3NlZ21lbnRHcm91cDphdChpKSxzbGljZWRTZWdtZW50czpufX1yZXR1cm57c2VnbWVudEdyb3VwOnQsc2xpY2VkU2VnbWVudHM6bn19ZnVuY3Rpb24gYXQodCl7aWYoMT09PXQubnVtYmVyT2ZDaGlsZHJlbiYmdC5jaGlsZHJlbltNZV0pe3ZhciBlPXQuY2hpbGRyZW5bTWVdO3JldHVybiBuZXcgamUodC5zZWdtZW50cy5jb25jYXQoZS5zZWdtZW50cyksZS5jaGlsZHJlbil9cmV0dXJuIHR9ZnVuY3Rpb24gdXQodCxlLG4scil7Zm9yKHZhciBpPXt9LG89MCxzPW47bzxzLmxlbmd0aDtvKyspe3ZhciBhPXNbb107aHQodCxlLGEpJiYhcltmdChhKV0mJihpW2Z0KGEpXT1uZXcgamUoW10se30pKX1yZXR1cm4gTyhyLGkpfWZ1bmN0aW9uIGN0KHQsZSl7dmFyIG49e307bltNZV09ZTtmb3IodmFyIHI9MCxpPXQ7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07XCJcIj09PW8ucGF0aCYmZnQobykhPT1NZSYmKG5bZnQobyldPW5ldyBqZShbXSx7fSkpfXJldHVybiBufWZ1bmN0aW9uIGx0KHQsZSxuKXtyZXR1cm4gbi5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIGh0KHQsZSxuKSYmZnQobikhPT1NZX0pLmxlbmd0aD4wfWZ1bmN0aW9uIHB0KHQsZSxuKXtyZXR1cm4gbi5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIGh0KHQsZSxuKX0pLmxlbmd0aD4wfWZ1bmN0aW9uIGh0KHQsZSxuKXtyZXR1cm4oISh0Lmhhc0NoaWxkcmVuKCl8fGUubGVuZ3RoPjApfHxcImZ1bGxcIiE9PW4ucGF0aE1hdGNoKSYmKFwiXCI9PT1uLnBhdGgmJnZvaWQgMCE9PW4ucmVkaXJlY3RUbyl9ZnVuY3Rpb24gZnQodCl7cmV0dXJuIHQub3V0bGV0P3Qub3V0bGV0Ok1lfWZ1bmN0aW9uIGR0KHQsZSl7dm9pZCAwPT09ZSYmKGU9XCJcIik7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0saT1tdChlLHIpO3l0KHIsaSl9fWZ1bmN0aW9uIHl0KHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiXFxuICAgICAgSW52YWxpZCBjb25maWd1cmF0aW9uIG9mIHJvdXRlICdcIitlK1wiJzogRW5jb3VudGVyZWQgdW5kZWZpbmVkIHJvdXRlLlxcbiAgICAgIFRoZSByZWFzb24gbWlnaHQgYmUgYW4gZXh0cmEgY29tbWEuXFxuICAgICAgIFxcbiAgICAgIEV4YW1wbGU6IFxcbiAgICAgIGNvbnN0IHJvdXRlczogUm91dGVzID0gW1xcbiAgICAgICAgeyBwYXRoOiAnJywgcmVkaXJlY3RUbzogJy9kYXNoYm9hcmQnLCBwYXRoTWF0Y2g6ICdmdWxsJyB9LFxcbiAgICAgICAgeyBwYXRoOiAnZGFzaGJvYXJkJywgIGNvbXBvbmVudDogRGFzaGJvYXJkQ29tcG9uZW50IH0sLCA8PCB0d28gY29tbWFzXFxuICAgICAgICB7IHBhdGg6ICdkZXRhaWwvOmlkJywgY29tcG9uZW50OiBIZXJvRGV0YWlsQ29tcG9uZW50IH1cXG4gICAgICBdO1xcbiAgICBcIik7aWYoQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbmZpZ3VyYXRpb24gb2Ygcm91dGUgJ1wiK2UrXCInOiBBcnJheSBjYW5ub3QgYmUgc3BlY2lmaWVkXCIpO2lmKCF0LmNvbXBvbmVudCYmdC5vdXRsZXQmJnQub3V0bGV0IT09TWUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb25maWd1cmF0aW9uIG9mIHJvdXRlICdcIitlK1wiJzogYSBjb21wb25lbnRsZXNzIHJvdXRlIGNhbm5vdCBoYXZlIGEgbmFtZWQgb3V0bGV0IHNldFwiKTtpZih0LnJlZGlyZWN0VG8mJnQuY2hpbGRyZW4pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb25maWd1cmF0aW9uIG9mIHJvdXRlICdcIitlK1wiJzogcmVkaXJlY3RUbyBhbmQgY2hpbGRyZW4gY2Fubm90IGJlIHVzZWQgdG9nZXRoZXJcIik7aWYodC5yZWRpcmVjdFRvJiZ0LmxvYWRDaGlsZHJlbil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbmZpZ3VyYXRpb24gb2Ygcm91dGUgJ1wiK2UrXCInOiByZWRpcmVjdFRvIGFuZCBsb2FkQ2hpbGRyZW4gY2Fubm90IGJlIHVzZWQgdG9nZXRoZXJcIik7aWYodC5jaGlsZHJlbiYmdC5sb2FkQ2hpbGRyZW4pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb25maWd1cmF0aW9uIG9mIHJvdXRlICdcIitlK1wiJzogY2hpbGRyZW4gYW5kIGxvYWRDaGlsZHJlbiBjYW5ub3QgYmUgdXNlZCB0b2dldGhlclwiKTtpZih0LnJlZGlyZWN0VG8mJnQuY29tcG9uZW50KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29uZmlndXJhdGlvbiBvZiByb3V0ZSAnXCIrZStcIic6IHJlZGlyZWN0VG8gYW5kIGNvbXBvbmVudCBjYW5ub3QgYmUgdXNlZCB0b2dldGhlclwiKTtpZih0LnBhdGgmJnQubWF0Y2hlcil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbmZpZ3VyYXRpb24gb2Ygcm91dGUgJ1wiK2UrXCInOiBwYXRoIGFuZCBtYXRjaGVyIGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyXCIpO2lmKHZvaWQgMD09PXQucmVkaXJlY3RUbyYmIXQuY29tcG9uZW50JiYhdC5jaGlsZHJlbiYmIXQubG9hZENoaWxkcmVuKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29uZmlndXJhdGlvbiBvZiByb3V0ZSAnXCIrZStcIicuIE9uZSBvZiB0aGUgZm9sbG93aW5nIG11c3QgYmUgcHJvdmlkZWQ6IGNvbXBvbmVudCwgcmVkaXJlY3RUbywgY2hpbGRyZW4gb3IgbG9hZENoaWxkcmVuXCIpO2lmKHZvaWQgMD09PXQucGF0aCYmdm9pZCAwPT09dC5tYXRjaGVyKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29uZmlndXJhdGlvbiBvZiByb3V0ZSAnXCIrZStcIic6IHJvdXRlcyBtdXN0IGhhdmUgZWl0aGVyIGEgcGF0aCBvciBhIG1hdGNoZXIgc3BlY2lmaWVkXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0LnBhdGgmJlwiL1wiPT09dC5wYXRoLmNoYXJBdCgwKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbmZpZ3VyYXRpb24gb2Ygcm91dGUgJ1wiK2UrXCInOiBwYXRoIGNhbm5vdCBzdGFydCB3aXRoIGEgc2xhc2hcIik7aWYoXCJcIj09PXQucGF0aCYmdm9pZCAwIT09dC5yZWRpcmVjdFRvJiZ2b2lkIDA9PT10LnBhdGhNYXRjaCl7dmFyIG49XCJUaGUgZGVmYXVsdCB2YWx1ZSBvZiAncGF0aE1hdGNoJyBpcyAncHJlZml4JywgYnV0IG9mdGVuIHRoZSBpbnRlbnQgaXMgdG8gdXNlICdmdWxsJy5cIjt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbmZpZ3VyYXRpb24gb2Ygcm91dGUgJ3twYXRoOiBcXFwiXCIrZSsnXCIsIHJlZGlyZWN0VG86IFwiJyt0LnJlZGlyZWN0VG8rXCJcXFwifSc6IHBsZWFzZSBwcm92aWRlICdwYXRoTWF0Y2gnLiBcIituKX1pZih2b2lkIDAhPT10LnBhdGhNYXRjaCYmXCJmdWxsXCIhPT10LnBhdGhNYXRjaCYmXCJwcmVmaXhcIiE9PXQucGF0aE1hdGNoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29uZmlndXJhdGlvbiBvZiByb3V0ZSAnXCIrZStcIic6IHBhdGhNYXRjaCBjYW4gb25seSBiZSBzZXQgdG8gJ3ByZWZpeCcgb3IgJ2Z1bGwnXCIpO3QuY2hpbGRyZW4mJmR0KHQuY2hpbGRyZW4sZSl9ZnVuY3Rpb24gbXQodCxlKXtyZXR1cm4gZT90fHxlLnBhdGg/dCYmIWUucGF0aD90K1wiL1wiOiF0JiZlLnBhdGg/ZS5wYXRoOnQrXCIvXCIrZS5wYXRoOlwiXCI6dH1mdW5jdGlvbiB2dCh0LGUpe2lmKHQ9PT1lLnZhbHVlKXJldHVybiBlO2Zvcih2YXIgbj0wLHI9ZS5jaGlsZHJlbjtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXSxvPXZ0KHQsaSk7aWYobylyZXR1cm4gb31yZXR1cm4gbnVsbH1mdW5jdGlvbiBndCh0LGUsbil7aWYobi5wdXNoKGUpLHQ9PT1lLnZhbHVlKXJldHVybiBuO2Zvcih2YXIgcj0wLGk9ZS5jaGlsZHJlbjtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXSxzPW4uc2xpY2UoMCksYT1ndCh0LG8scyk7aWYoYS5sZW5ndGg+MClyZXR1cm4gYX1yZXR1cm5bXX1mdW5jdGlvbiBfdCh0LGUpe3ZhciBuPWJ0KHQsZSksaT1uZXcgci5CZWhhdmlvclN1YmplY3QoW25ldyBWZShcIlwiLHt9KV0pLG89bmV3IHIuQmVoYXZpb3JTdWJqZWN0KHt9KSxzPW5ldyByLkJlaGF2aW9yU3ViamVjdCh7fSksYT1uZXcgci5CZWhhdmlvclN1YmplY3Qoe30pLHU9bmV3IHIuQmVoYXZpb3JTdWJqZWN0KFwiXCIpLGM9bmV3IFplKGksbyxhLHUscyxNZSxlLG4ucm9vdCk7cmV0dXJuIGMuc25hcHNob3Q9bi5yb290LG5ldyBLZShuZXcgUWUoYyxbXSksbil9ZnVuY3Rpb24gYnQodCxlKXt2YXIgbj17fSxyPXt9LGk9e30sbz1cIlwiLHM9bmV3IEplKFtdLG4saSxvLHIsTWUsZSxudWxsLHQucm9vdCwtMSx7fSk7cmV0dXJuIG5ldyB0bihcIlwiLG5ldyBRZShzLFtdKSl9ZnVuY3Rpb24gd3QodCl7Zm9yKHZhciBlPXQucGF0aEZyb21Sb290LG49ZS5sZW5ndGgtMTtuPj0xOyl7dmFyIHI9ZVtuXSxpPWVbbi0xXTtpZihyLnJvdXRlQ29uZmlnJiZcIlwiPT09ci5yb3V0ZUNvbmZpZy5wYXRoKW4tLTtlbHNle2lmKGkuY29tcG9uZW50KWJyZWFrO24tLX19cmV0dXJuIGUuc2xpY2UobikucmVkdWNlKGZ1bmN0aW9uKHQsZSl7dmFyIG49Tyh0LnBhcmFtcyxlLnBhcmFtcykscj1PKHQuZGF0YSxlLmRhdGEpLGk9Tyh0LnJlc29sdmUsZS5fcmVzb2x2ZWREYXRhKTtyZXR1cm57cGFyYW1zOm4sZGF0YTpyLHJlc29sdmU6aX19LHtwYXJhbXM6e30sZGF0YTp7fSxyZXNvbHZlOnt9fSl9ZnVuY3Rpb24gQ3QodCxlKXtlLnZhbHVlLl9yb3V0ZXJTdGF0ZT10LGUuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gQ3QodCxlKX0pfWZ1bmN0aW9uIEV0KHQpe3ZhciBlPXQuY2hpbGRyZW4ubGVuZ3RoPjA/XCIgeyBcIit0LmNoaWxkcmVuLm1hcChFdCkuam9pbihcIiwgXCIpK1wiIH0gXCI6XCJcIjtyZXR1cm5cIlwiK3QudmFsdWUrZX1mdW5jdGlvbiBTdCh0KXtpZih0LnNuYXBzaG90KXt2YXIgZT10LnNuYXBzaG90O3Quc25hcHNob3Q9dC5fZnV0dXJlU25hcHNob3QsUyhlLnF1ZXJ5UGFyYW1zLHQuX2Z1dHVyZVNuYXBzaG90LnF1ZXJ5UGFyYW1zKXx8dC5xdWVyeVBhcmFtcy5uZXh0KHQuX2Z1dHVyZVNuYXBzaG90LnF1ZXJ5UGFyYW1zKSxlLmZyYWdtZW50IT09dC5fZnV0dXJlU25hcHNob3QuZnJhZ21lbnQmJnQuZnJhZ21lbnQubmV4dCh0Ll9mdXR1cmVTbmFwc2hvdC5mcmFnbWVudCksUyhlLnBhcmFtcyx0Ll9mdXR1cmVTbmFwc2hvdC5wYXJhbXMpfHx0LnBhcmFtcy5uZXh0KHQuX2Z1dHVyZVNuYXBzaG90LnBhcmFtcyksRShlLnVybCx0Ll9mdXR1cmVTbmFwc2hvdC51cmwpfHx0LnVybC5uZXh0KHQuX2Z1dHVyZVNuYXBzaG90LnVybCkseHQoZSx0Ll9mdXR1cmVTbmFwc2hvdCl8fHQuZGF0YS5uZXh0KHQuX2Z1dHVyZVNuYXBzaG90LmRhdGEpfWVsc2UgdC5zbmFwc2hvdD10Ll9mdXR1cmVTbmFwc2hvdCx0LmRhdGEubmV4dCh0Ll9mdXR1cmVTbmFwc2hvdC5kYXRhKX1mdW5jdGlvbiB4dCh0LGUpe3JldHVybiBTKHQucGFyYW1zLGUucGFyYW1zKSYmRih0LnVybCxlLnVybCl9ZnVuY3Rpb24gUHQodCxlLG4pe3ZhciByPU90KHQsZS5fcm9vdCxuP24uX3Jvb3Q6dm9pZCAwKTtyZXR1cm4gbmV3IEtlKHIsZSl9ZnVuY3Rpb24gT3QodCxlLG4pe2lmKG4mJnQuc2hvdWxkUmV1c2VSb3V0ZShlLnZhbHVlLG4udmFsdWUuc25hcHNob3QpKXt2YXIgcj1uLnZhbHVlO3IuX2Z1dHVyZVNuYXBzaG90PWUudmFsdWU7dmFyIGk9QXQodCxlLG4pO3JldHVybiBuZXcgUWUocixpKX1pZih0LnJldHJpZXZlKGUudmFsdWUpKXt2YXIgbz10LnJldHJpZXZlKGUudmFsdWUpLnJvdXRlO3JldHVybiBUdChlLG8pLG99dmFyIHI9TXQoZS52YWx1ZSksaT1lLmNoaWxkcmVuLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gT3QodCxlKX0pO3JldHVybiBuZXcgUWUocixpKX1mdW5jdGlvbiBUdCh0LGUpe2lmKHQudmFsdWUucm91dGVDb25maWchPT1lLnZhbHVlLnJvdXRlQ29uZmlnKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZWF0dGFjaCBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90IGNyZWF0ZWQgZnJvbSBhIGRpZmZlcmVudCByb3V0ZVwiKTtpZih0LmNoaWxkcmVuLmxlbmd0aCE9PWUuY2hpbGRyZW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZWF0dGFjaCBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90IHdpdGggYSBkaWZmZXJlbnQgbnVtYmVyIG9mIGNoaWxkcmVuXCIpO2UudmFsdWUuX2Z1dHVyZVNuYXBzaG90PXQudmFsdWU7Zm9yKHZhciBuPTA7bjx0LmNoaWxkcmVuLmxlbmd0aDsrK24pVHQodC5jaGlsZHJlbltuXSxlLmNoaWxkcmVuW25dKX1mdW5jdGlvbiBBdCh0LGUsbil7cmV0dXJuIGUuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0wLGk9bi5jaGlsZHJlbjtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtpZih0LnNob3VsZFJldXNlUm91dGUoby52YWx1ZS5zbmFwc2hvdCxlLnZhbHVlKSlyZXR1cm4gT3QodCxlLG8pfXJldHVybiBPdCh0LGUpfSl9ZnVuY3Rpb24gTXQodCl7cmV0dXJuIG5ldyBaZShuZXcgci5CZWhhdmlvclN1YmplY3QodC51cmwpLG5ldyByLkJlaGF2aW9yU3ViamVjdCh0LnBhcmFtcyksbmV3IHIuQmVoYXZpb3JTdWJqZWN0KHQucXVlcnlQYXJhbXMpLG5ldyByLkJlaGF2aW9yU3ViamVjdCh0LmZyYWdtZW50KSxuZXcgci5CZWhhdmlvclN1YmplY3QodC5kYXRhKSx0Lm91dGxldCx0LmNvbXBvbmVudCx0KX1mdW5jdGlvbiBrdCh0LGUsbixyLGkpe2lmKDA9PT1uLmxlbmd0aClyZXR1cm4gSXQoZS5yb290LGUucm9vdCxlLHIsaSk7XG52YXIgbz1EdChuKTtpZihvLnRvUm9vdCgpKXJldHVybiBJdChlLnJvb3QsbmV3IGplKFtdLHt9KSxlLHIsaSk7dmFyIHM9anQobyxlLHQpLGE9cy5wcm9jZXNzQ2hpbGRyZW4/SHQocy5zZWdtZW50R3JvdXAscy5pbmRleCxvLmNvbW1hbmRzKTpVdChzLnNlZ21lbnRHcm91cCxzLmluZGV4LG8uY29tbWFuZHMpO3JldHVybiBJdChzLnNlZ21lbnRHcm91cCxhLGUscixpKX1mdW5jdGlvbiBSdCh0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9dCYmIXQub3V0bGV0cyYmIXQuc2VnbWVudFBhdGh9ZnVuY3Rpb24gSXQodCxlLG4scixpKXtyZXR1cm4gbi5yb290PT09dD9uZXcgRGUoZSxXdChyKSxpKTpuZXcgRGUoTnQobi5yb290LHQsZSksV3QociksaSl9ZnVuY3Rpb24gTnQodCxlLG4pe3ZhciByPXt9O3JldHVybiBUKHQuY2hpbGRyZW4sZnVuY3Rpb24odCxpKXt0PT09ZT9yW2ldPW46cltpXT1OdCh0LGUsbil9KSxuZXcgamUodC5zZWdtZW50cyxyKX1mdW5jdGlvbiBEdCh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdFswXSYmMT09PXQubGVuZ3RoJiZcIi9cIj09PXRbMF0pcmV0dXJuIG5ldyBlbighMCwwLHQpO3ZhciBlPTAsbj0hMSxyPXQucmVkdWNlKGZ1bmN0aW9uKHQscixpKXtpZihcIm9iamVjdFwiPT10eXBlb2YgciYmbnVsbCE9cil7aWYoci5vdXRsZXRzKXt2YXIgbz17fTtyZXR1cm4gVChyLm91dGxldHMsZnVuY3Rpb24odCxlKXtvW2VdPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Quc3BsaXQoXCIvXCIpOnR9KSx0LmNvbmNhdChbe291dGxldHM6b31dKX1pZihyLnNlZ21lbnRQYXRoKXJldHVybiB0LmNvbmNhdChbci5zZWdtZW50UGF0aF0pfXJldHVyblwic3RyaW5nXCIhPXR5cGVvZiByP3QuY29uY2F0KFtyXSk6MD09PWk/KHIuc3BsaXQoXCIvXCIpLmZvckVhY2goZnVuY3Rpb24ocixpKXswPT1pJiZcIi5cIj09PXJ8fCgwPT1pJiZcIlwiPT09cj9uPSEwOlwiLi5cIj09PXI/ZSsrOlwiXCIhPXImJnQucHVzaChyKSl9KSx0KTp0LmNvbmNhdChbcl0pfSxbXSk7cmV0dXJuIG5ldyBlbihuLGUscil9ZnVuY3Rpb24ganQodCxlLG4pe2lmKHQuaXNBYnNvbHV0ZSlyZXR1cm4gbmV3IG5uKGUucm9vdCwhMCwwKTtpZihuLnNuYXBzaG90Ll9sYXN0UGF0aEluZGV4PT09LTEpcmV0dXJuIG5ldyBubihuLnNuYXBzaG90Ll91cmxTZWdtZW50LCEwLDApO3ZhciByPVJ0KHQuY29tbWFuZHNbMF0pPzA6MSxpPW4uc25hcHNob3QuX2xhc3RQYXRoSW5kZXgrcjtyZXR1cm4gVnQobi5zbmFwc2hvdC5fdXJsU2VnbWVudCxpLHQubnVtYmVyT2ZEb3VibGVEb3RzKX1mdW5jdGlvbiBWdCh0LGUsbil7Zm9yKHZhciByPXQsaT1lLG89bjtvPmk7KXtpZihvLT1pLHI9ci5wYXJlbnQsIXIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBudW1iZXIgb2YgJy4uLydcIik7aT1yLnNlZ21lbnRzLmxlbmd0aH1yZXR1cm4gbmV3IG5uKHIsITEsaS1vKX1mdW5jdGlvbiBMdCh0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9dCYmdC5vdXRsZXRzP3Qub3V0bGV0c1tNZV06XCJcIit0fWZ1bmN0aW9uIEZ0KHQpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiB0WzBdPyhlPXt9LGVbTWVdPXQsZSk6dm9pZCAwPT09dFswXS5vdXRsZXRzPyhuPXt9LG5bTWVdPXQsbik6dFswXS5vdXRsZXRzO3ZhciBlLG59ZnVuY3Rpb24gVXQodCxlLG4pe2lmKHR8fCh0PW5ldyBqZShbXSx7fSkpLDA9PT10LnNlZ21lbnRzLmxlbmd0aCYmdC5oYXNDaGlsZHJlbigpKXJldHVybiBIdCh0LGUsbik7dmFyIHI9QnQodCxlLG4pLGk9bi5zbGljZShyLmNvbW1hbmRJbmRleCk7aWYoci5tYXRjaCYmci5wYXRoSW5kZXg8dC5zZWdtZW50cy5sZW5ndGgpe3ZhciBvPW5ldyBqZSh0LnNlZ21lbnRzLnNsaWNlKDAsci5wYXRoSW5kZXgpLHt9KTtyZXR1cm4gby5jaGlsZHJlbltNZV09bmV3IGplKHQuc2VnbWVudHMuc2xpY2Uoci5wYXRoSW5kZXgpLHQuY2hpbGRyZW4pLEh0KG8sMCxpKX1yZXR1cm4gci5tYXRjaCYmMD09PWkubGVuZ3RoP25ldyBqZSh0LnNlZ21lbnRzLHt9KTpyLm1hdGNoJiYhdC5oYXNDaGlsZHJlbigpP3F0KHQsZSxuKTpyLm1hdGNoP0h0KHQsMCxpKTpxdCh0LGUsbil9ZnVuY3Rpb24gSHQodCxlLG4pe2lmKDA9PT1uLmxlbmd0aClyZXR1cm4gbmV3IGplKHQuc2VnbWVudHMse30pO3ZhciByPUZ0KG4pLGk9e307cmV0dXJuIFQocixmdW5jdGlvbihuLHIpe251bGwhPT1uJiYoaVtyXT1VdCh0LmNoaWxkcmVuW3JdLGUsbikpfSksVCh0LmNoaWxkcmVuLGZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09cltlXSYmKGlbZV09dCl9KSxuZXcgamUodC5zZWdtZW50cyxpKX1mdW5jdGlvbiBCdCh0LGUsbil7Zm9yKHZhciByPTAsaT1lLG89e21hdGNoOiExLHBhdGhJbmRleDowLGNvbW1hbmRJbmRleDowfTtpPHQuc2VnbWVudHMubGVuZ3RoOyl7aWYocj49bi5sZW5ndGgpcmV0dXJuIG87dmFyIHM9dC5zZWdtZW50c1tpXSxhPUx0KG5bcl0pLHU9cjxuLmxlbmd0aC0xP25bcisxXTpudWxsO2lmKGk+MCYmdm9pZCAwPT09YSlicmVhaztpZihhJiZ1JiZcIm9iamVjdFwiPT10eXBlb2YgdSYmdm9pZCAwPT09dS5vdXRsZXRzKXtpZighR3QoYSx1LHMpKXJldHVybiBvO3IrPTJ9ZWxzZXtpZighR3QoYSx7fSxzKSlyZXR1cm4gbztyKyt9aSsrfXJldHVybnttYXRjaDohMCxwYXRoSW5kZXg6aSxjb21tYW5kSW5kZXg6cn19ZnVuY3Rpb24gcXQodCxlLG4pe2Zvcih2YXIgcj10LnNlZ21lbnRzLnNsaWNlKDAsZSksaT0wO2k8bi5sZW5ndGg7KXtpZihcIm9iamVjdFwiPT10eXBlb2YgbltpXSYmdm9pZCAwIT09bltpXS5vdXRsZXRzKXt2YXIgbz16dChuW2ldLm91dGxldHMpO3JldHVybiBuZXcgamUocixvKX1pZigwPT09aSYmUnQoblswXSkpe3ZhciBzPXQuc2VnbWVudHNbZV07ci5wdXNoKG5ldyBWZShzLnBhdGgsblswXSkpLGkrK31lbHNle3ZhciBhPUx0KG5baV0pLHU9aTxuLmxlbmd0aC0xP25baSsxXTpudWxsO2EmJnUmJlJ0KHUpPyhyLnB1c2gobmV3IFZlKGEsV3QodSkpKSxpKz0yKTooci5wdXNoKG5ldyBWZShhLHt9KSksaSsrKX19cmV0dXJuIG5ldyBqZShyLHt9KX1mdW5jdGlvbiB6dCh0KXt2YXIgZT17fTtyZXR1cm4gVCh0LGZ1bmN0aW9uKHQsbil7bnVsbCE9PXQmJihlW25dPXF0KG5ldyBqZShbXSx7fSksMCx0KSl9KSxlfWZ1bmN0aW9uIFd0KHQpe3ZhciBlPXt9O3JldHVybiBUKHQsZnVuY3Rpb24odCxuKXtyZXR1cm4gZVtuXT1cIlwiK3R9KSxlfWZ1bmN0aW9uIEd0KHQsZSxuKXtyZXR1cm4gdD09bi5wYXRoJiZTKGUsbi5wYXJhbWV0ZXJzKX1mdW5jdGlvbiBYdCh0LGUsbixyKXtyZXR1cm4gbmV3IG9uKHQsZSxuLHIpLnJlY29nbml6ZSgpfWZ1bmN0aW9uICR0KHQpe3Quc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LnZhbHVlLm91dGxldD09PU1lPy0xOmUudmFsdWUub3V0bGV0PT09TWU/MTp0LnZhbHVlLm91dGxldC5sb2NhbGVDb21wYXJlKGUudmFsdWUub3V0bGV0KX0pfWZ1bmN0aW9uIFF0KHQpe3JldHVybiB0LmNoaWxkcmVuP3QuY2hpbGRyZW46dC5sb2FkQ2hpbGRyZW4/dC5fbG9hZGVkQ29uZmlnLnJvdXRlczpbXX1mdW5jdGlvbiBZdCh0LGUsbil7aWYoXCJcIj09PWUucGF0aCl7aWYoXCJmdWxsXCI9PT1lLnBhdGhNYXRjaCYmKHQuaGFzQ2hpbGRyZW4oKXx8bi5sZW5ndGg+MCkpdGhyb3cgbmV3IHJuO3JldHVybntjb25zdW1lZFNlZ21lbnRzOltdLGxhc3RDaGlsZDowLHBhcmFtZXRlcnM6e319fXZhciByPWUubWF0Y2hlcnx8QyxpPXIobix0LGUpO2lmKCFpKXRocm93IG5ldyBybjt2YXIgbz17fTtUKGkucG9zUGFyYW1zLGZ1bmN0aW9uKHQsZSl7b1tlXT10LnBhdGh9KTt2YXIgcz1PKG8saS5jb25zdW1lZFtpLmNvbnN1bWVkLmxlbmd0aC0xXS5wYXJhbWV0ZXJzKTtyZXR1cm57Y29uc3VtZWRTZWdtZW50czppLmNvbnN1bWVkLGxhc3RDaGlsZDppLmNvbnN1bWVkLmxlbmd0aCxwYXJhbWV0ZXJzOnN9fWZ1bmN0aW9uIEt0KHQpe3ZhciBlPXt9O3QuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj1lW3QudmFsdWUub3V0bGV0XTtpZihuKXt2YXIgcj1uLnVybC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcoKX0pLmpvaW4oXCIvXCIpLGk9dC52YWx1ZS51cmwubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvU3RyaW5nKCl9KS5qb2luKFwiL1wiKTt0aHJvdyBuZXcgRXJyb3IoXCJUd28gc2VnbWVudHMgY2Fubm90IGhhdmUgdGhlIHNhbWUgb3V0bGV0IG5hbWU6ICdcIityK1wiJyBhbmQgJ1wiK2krXCInLlwiKX1lW3QudmFsdWUub3V0bGV0XT10LnZhbHVlfSl9ZnVuY3Rpb24gWnQodCl7Zm9yKHZhciBlPXQ7ZS5fc291cmNlU2VnbWVudDspZT1lLl9zb3VyY2VTZWdtZW50O3JldHVybiBlfWZ1bmN0aW9uIEp0KHQpe2Zvcih2YXIgZT10LG49ZS5fc2VnbWVudEluZGV4U2hpZnQ/ZS5fc2VnbWVudEluZGV4U2hpZnQ6MDtlLl9zb3VyY2VTZWdtZW50OyllPWUuX3NvdXJjZVNlZ21lbnQsbis9ZS5fc2VnbWVudEluZGV4U2hpZnQ/ZS5fc2VnbWVudEluZGV4U2hpZnQ6MDtyZXR1cm4gbi0xfWZ1bmN0aW9uIHRlKHQsZSxuLHIpe2lmKG4ubGVuZ3RoPjAmJnJlKHQsbixyKSl7dmFyIGk9bmV3IGplKGUsbmUodCxlLHIsbmV3IGplKG4sdC5jaGlsZHJlbikpKTtyZXR1cm4gaS5fc291cmNlU2VnbWVudD10LGkuX3NlZ21lbnRJbmRleFNoaWZ0PWUubGVuZ3RoLHtzZWdtZW50R3JvdXA6aSxzbGljZWRTZWdtZW50czpbXX19aWYoMD09PW4ubGVuZ3RoJiZpZSh0LG4scikpe3ZhciBpPW5ldyBqZSh0LnNlZ21lbnRzLGVlKHQsbixyLHQuY2hpbGRyZW4pKTtyZXR1cm4gaS5fc291cmNlU2VnbWVudD10LGkuX3NlZ21lbnRJbmRleFNoaWZ0PWUubGVuZ3RoLHtzZWdtZW50R3JvdXA6aSxzbGljZWRTZWdtZW50czpufX12YXIgaT1uZXcgamUodC5zZWdtZW50cyx0LmNoaWxkcmVuKTtyZXR1cm4gaS5fc291cmNlU2VnbWVudD10LGkuX3NlZ21lbnRJbmRleFNoaWZ0PWUubGVuZ3RoLHtzZWdtZW50R3JvdXA6aSxzbGljZWRTZWdtZW50czpufX1mdW5jdGlvbiBlZSh0LGUsbixyKXtmb3IodmFyIGk9e30sbz0wLHM9bjtvPHMubGVuZ3RoO28rKyl7dmFyIGE9c1tvXTtpZihvZSh0LGUsYSkmJiFyW3NlKGEpXSl7dmFyIHU9bmV3IGplKFtdLHt9KTt1Ll9zb3VyY2VTZWdtZW50PXQsdS5fc2VnbWVudEluZGV4U2hpZnQ9dC5zZWdtZW50cy5sZW5ndGgsaVtzZShhKV09dX19cmV0dXJuIE8ocixpKX1mdW5jdGlvbiBuZSh0LGUsbixyKXt2YXIgaT17fTtpW01lXT1yLHIuX3NvdXJjZVNlZ21lbnQ9dCxyLl9zZWdtZW50SW5kZXhTaGlmdD1lLmxlbmd0aDtmb3IodmFyIG89MCxzPW47bzxzLmxlbmd0aDtvKyspe3ZhciBhPXNbb107aWYoXCJcIj09PWEucGF0aCYmc2UoYSkhPT1NZSl7dmFyIHU9bmV3IGplKFtdLHt9KTt1Ll9zb3VyY2VTZWdtZW50PXQsdS5fc2VnbWVudEluZGV4U2hpZnQ9ZS5sZW5ndGgsaVtzZShhKV09dX19cmV0dXJuIGl9ZnVuY3Rpb24gcmUodCxlLG4pe3JldHVybiBuLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gb2UodCxlLG4pJiZzZShuKSE9PU1lfSkubGVuZ3RoPjB9ZnVuY3Rpb24gaWUodCxlLG4pe3JldHVybiBuLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gb2UodCxlLG4pfSkubGVuZ3RoPjB9ZnVuY3Rpb24gb2UodCxlLG4pe3JldHVybighKHQuaGFzQ2hpbGRyZW4oKXx8ZS5sZW5ndGg+MCl8fFwiZnVsbFwiIT09bi5wYXRoTWF0Y2gpJiYoXCJcIj09PW4ucGF0aCYmdm9pZCAwPT09bi5yZWRpcmVjdFRvKX1mdW5jdGlvbiBzZSh0KXtyZXR1cm4gdC5vdXRsZXQ/dC5vdXRsZXQ6TWV9ZnVuY3Rpb24gYWUodCl7cmV0dXJuIHQuZGF0YT90LmRhdGE6e319ZnVuY3Rpb24gdWUodCl7cmV0dXJuIHQucmVzb2x2ZT90LnJlc29sdmU6e319ZnVuY3Rpb24gY2UodCl7dGhyb3cgdH1mdW5jdGlvbiBsZSh0KXtyZXR1cm4gcy5vZihudWxsKX1mdW5jdGlvbiBwZSh0KXtTdCh0LnZhbHVlKSx0LmNoaWxkcmVuLmZvckVhY2gocGUpfWZ1bmN0aW9uIGhlKHQpe2Zvcih2YXIgZT10LnBhcmVudDtlOyl7dmFyIG49ZS5fcm91dGVDb25maWc7aWYobiYmbi5fbG9hZGVkQ29uZmlnKXJldHVybiBuLl9sb2FkZWRDb25maWc7aWYobiYmbi5jb21wb25lbnQpcmV0dXJuIG51bGw7ZT1lLnBhcmVudH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBmZSh0KXtpZighdClyZXR1cm4gbnVsbDtmb3IodmFyIGU9dC5wYXJlbnQ7ZTspe3ZhciBuPWUuX3JvdXRlQ29uZmlnO2lmKG4mJm4uX2xvYWRlZENvbmZpZylyZXR1cm4gbi5fbG9hZGVkQ29uZmlnO2U9ZS5wYXJlbnR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZGUodCl7cmV0dXJuIHQ/dC5jaGlsZHJlbi5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlLnZhbHVlLm91dGxldF09ZSx0fSx7fSk6e319ZnVuY3Rpb24geWUodCxlKXt2YXIgbj10Ll9vdXRsZXRzW2Uub3V0bGV0XTtpZighbil7dmFyIHI9ZS5jb21wb25lbnQubmFtZTt0aHJvdyBlLm91dGxldD09PU1lP25ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHByaW1hcnkgb3V0bGV0IHRvIGxvYWQgJ1wiK3IrXCInXCIpOm5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHRoZSBvdXRsZXQgXCIrZS5vdXRsZXQrXCIgdG8gbG9hZCAnXCIrcitcIidcIil9cmV0dXJuIG59ZnVuY3Rpb24gbWUodCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV07aWYobnVsbD09bil0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVxdWVzdGVkIHBhdGggY29udGFpbnMgXCIrbitcIiBzZWdtZW50IGF0IGluZGV4IFwiK2UpfX1mdW5jdGlvbiB2ZSh0KXtyZXR1cm5cIlwiPT09dHx8ISF0fWZ1bmN0aW9uIGdlKCl7cmV0dXJuIG5ldyBuLk5nUHJvYmVUb2tlbihcIlJvdXRlclwiLHluKX1mdW5jdGlvbiBfZSh0LG4scil7cmV0dXJuIHZvaWQgMD09PXImJihyPXt9KSxyLnVzZUhhc2g/bmV3IGUuSGFzaExvY2F0aW9uU3RyYXRlZ3kodCxuKTpuZXcgZS5QYXRoTG9jYXRpb25TdHJhdGVneSh0LG4pfWZ1bmN0aW9uIGJlKHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiUm91dGVyTW9kdWxlLmZvclJvb3QoKSBjYWxsZWQgdHdpY2UuIExhenkgbG9hZGVkIG1vZHVsZXMgc2hvdWxkIHVzZSBSb3V0ZXJNb2R1bGUuZm9yQ2hpbGQoKSBpbnN0ZWFkLlwiKTtyZXR1cm5cImd1YXJkZWRcIn1mdW5jdGlvbiB3ZSh0KXtyZXR1cm5be3Byb3ZpZGU6bi5BTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTLG11bHRpOiEwLHVzZVZhbHVlOnR9LHtwcm92aWRlOlJlLG11bHRpOiEwLHVzZVZhbHVlOnR9XX1mdW5jdGlvbiBDZSh0LGUsbixyLGksbyxzLGEsdSxjLGwpe3ZvaWQgMD09PXUmJih1PXt9KTt2YXIgcD1uZXcgeW4obnVsbCxlLG4scixpLG8scyx4KGEpKTtpZihjJiYocC51cmxIYW5kbGluZ1N0cmF0ZWd5PWMpLGwmJihwLnJvdXRlUmV1c2VTdHJhdGVneT1sKSx1LmVycm9ySGFuZGxlciYmKHAuZXJyb3JIYW5kbGVyPXUuZXJyb3JIYW5kbGVyKSx1LmVuYWJsZVRyYWNpbmcpe3ZhciBoPXhuKCk7cC5ldmVudHMuc3Vic2NyaWJlKGZ1bmN0aW9uKHQpe2gubG9nR3JvdXAoXCJSb3V0ZXIgRXZlbnQ6IFwiK3QuY29uc3RydWN0b3IubmFtZSksaC5sb2codC50b1N0cmluZygpKSxoLmxvZyh0KSxoLmxvZ0dyb3VwRW5kKCl9KX1yZXR1cm4gcH1mdW5jdGlvbiBFZSh0KXtyZXR1cm4gdC5yb3V0ZXJTdGF0ZS5yb290fWZ1bmN0aW9uIFNlKHQpe3JldHVybiB0LmFwcEluaXRpYWxpemVyLmJpbmQodCl9ZnVuY3Rpb24geGUodCl7cmV0dXJuIHQuYm9vdHN0cmFwTGlzdGVuZXIuYmluZCh0KX1mdW5jdGlvbiBQZSgpe3JldHVybltEbix7cHJvdmlkZTpuLkFQUF9JTklUSUFMSVpFUixtdWx0aTohMCx1c2VGYWN0b3J5OlNlLGRlcHM6W0RuXX0se3Byb3ZpZGU6am4sdXNlRmFjdG9yeTp4ZSxkZXBzOltEbl19LHtwcm92aWRlOm4uQVBQX0JPT1RTVFJBUF9MSVNURU5FUixtdWx0aTohMCx1c2VFeGlzdGluZzpqbn1dfXZhciBPZT1uLl9fY29yZV9wcml2YXRlX18uaXNQcm9taXNlLFRlPW4uX19jb3JlX3ByaXZhdGVfXy5pc09ic2VydmFibGUsQWU9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LE1lPVwicHJpbWFyeVwiLGtlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSksdGhpcy5tZXNzYWdlPWUsdGhpcy5zdGFjaz1uZXcgRXJyb3IoZSkuc3RhY2t9cmV0dXJuIEFlKGUsdCksZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXNzYWdlfSxlfShFcnJvciksUmU9bmV3IG4uT3BhcXVlVG9rZW4oXCJST1VURVNcIiksSWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMucm91dGVzPXQsdGhpcy5pbmplY3Rvcj1lLHRoaXMuZmFjdG9yeVJlc29sdmVyPW4sdGhpcy5pbmplY3RvckZhY3Rvcnk9cn1yZXR1cm4gdH0oKSxOZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmxvYWRlcj10LHRoaXMuY29tcGlsZXI9ZX1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LGUpe3JldHVybiBsLm1hcC5jYWxsKHRoaXMubG9hZE1vZHVsZUZhY3RvcnkoZSksZnVuY3Rpb24oZSl7dmFyIG49ZS5jcmVhdGUodCkscj1mdW5jdGlvbih0KXtyZXR1cm4gZS5jcmVhdGUodCkuaW5qZWN0b3J9O3JldHVybiBuZXcgSWUoeChuLmluamVjdG9yLmdldChSZSkpLG4uaW5qZWN0b3Isbi5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIscil9KX0sdC5wcm90b3R5cGUubG9hZE1vZHVsZUZhY3Rvcnk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdi5mcm9tUHJvbWlzZSh0aGlzLmxvYWRlci5sb2FkKHQpKTt2YXIgcj10aGlzLmNvbXBpbGVyIGluc3RhbmNlb2Ygbi5Db21waWxlcjtyZXR1cm4gcC5tZXJnZU1hcC5jYWxsKGsodCgpKSxmdW5jdGlvbih0KXtyZXR1cm4gcj9zLm9mKHQpOnYuZnJvbVByb21pc2UoZS5jb21waWxlci5jb21waWxlTW9kdWxlQXN5bmModCkpfSl9LHR9KCksRGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLnJvb3Q9dCx0aGlzLnF1ZXJ5UGFyYW1zPWUsdGhpcy5mcmFnbWVudD1ufXJldHVybiB0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybihuZXcgRmUpLnNlcmlhbGl6ZSh0aGlzKX0sdH0oKSxqZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbj10aGlzO3RoaXMuc2VnbWVudHM9dCx0aGlzLmNoaWxkcmVuPWUsdGhpcy5wYXJlbnQ9bnVsbCxUKGUsZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5wYXJlbnQ9bn0pfXJldHVybiB0LnByb3RvdHlwZS5oYXNDaGlsZHJlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm51bWJlck9mQ2hpbGRyZW4+MH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibnVtYmVyT2ZDaGlsZHJlblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5jaGlsZHJlbikubGVuZ3RofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEIodGhpcyl9LHR9KCksVmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5wYXRoPXQsdGhpcy5wYXJhbWV0ZXJzPWV9cmV0dXJuIHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEcodGhpcyl9LHR9KCksTGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbih0KXt9LHR9KCksRmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgemUodCk7cmV0dXJuIG5ldyBEZShlLnBhcnNlUm9vdFNlZ21lbnQoKSxlLnBhcnNlUXVlcnlQYXJhbXMoKSxlLnBhcnNlRnJhZ21lbnQoKSl9LHQucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT1cIi9cIitxKHQucm9vdCwhMCksbj0kKHQucXVlcnlQYXJhbXMpLHI9bnVsbCE9PXQuZnJhZ21lbnQmJnZvaWQgMCE9PXQuZnJhZ21lbnQ/XCIjXCIrZW5jb2RlVVJJKHQuZnJhZ21lbnQpOlwiXCI7cmV0dXJuXCJcIitlK24rcn0sdH0oKSxVZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmZpcnN0PXQsdGhpcy5zZWNvbmQ9ZX1yZXR1cm4gdH0oKSxIZT0vXlteXFwvKCk/Oz0mI10rLyxCZT0vXltePT8mI10rLyxxZT0vXltePyYjXSsvLHplPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnVybD10LHRoaXMucmVtYWluaW5nPXR9cmV0dXJuIHQucHJvdG90eXBlLnBlZWtTdGFydHNXaXRoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlbWFpbmluZy5zdGFydHNXaXRoKHQpfSx0LnByb3RvdHlwZS5jYXB0dXJlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLnJlbWFpbmluZy5zdGFydHNXaXRoKHQpKXRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgXCInK3QrJ1wiLicpO3RoaXMucmVtYWluaW5nPXRoaXMucmVtYWluaW5nLnN1YnN0cmluZyh0Lmxlbmd0aCl9LHQucHJvdG90eXBlLnBhcnNlUm9vdFNlZ21lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW1haW5pbmcuc3RhcnRzV2l0aChcIi9cIikmJnRoaXMuY2FwdHVyZShcIi9cIiksXCJcIj09PXRoaXMucmVtYWluaW5nfHx0aGlzLnJlbWFpbmluZy5zdGFydHNXaXRoKFwiP1wiKXx8dGhpcy5yZW1haW5pbmcuc3RhcnRzV2l0aChcIiNcIik/bmV3IGplKFtdLHt9KTpuZXcgamUoW10sdGhpcy5wYXJzZUNoaWxkcmVuKCkpfSx0LnByb3RvdHlwZS5wYXJzZUNoaWxkcmVuPWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5yZW1haW5pbmcubGVuZ3RoKXJldHVybnt9O3RoaXMucGVla1N0YXJ0c1dpdGgoXCIvXCIpJiZ0aGlzLmNhcHR1cmUoXCIvXCIpO3ZhciB0PVtdO2Zvcih0aGlzLnBlZWtTdGFydHNXaXRoKFwiKFwiKXx8dC5wdXNoKHRoaXMucGFyc2VTZWdtZW50cygpKTt0aGlzLnBlZWtTdGFydHNXaXRoKFwiL1wiKSYmIXRoaXMucGVla1N0YXJ0c1dpdGgoXCIvL1wiKSYmIXRoaXMucGVla1N0YXJ0c1dpdGgoXCIvKFwiKTspdGhpcy5jYXB0dXJlKFwiL1wiKSx0LnB1c2godGhpcy5wYXJzZVNlZ21lbnRzKCkpO3ZhciBlPXt9O3RoaXMucGVla1N0YXJ0c1dpdGgoXCIvKFwiKSYmKHRoaXMuY2FwdHVyZShcIi9cIiksZT10aGlzLnBhcnNlUGFyZW5zKCEwKSk7dmFyIG49e307cmV0dXJuIHRoaXMucGVla1N0YXJ0c1dpdGgoXCIoXCIpJiYobj10aGlzLnBhcnNlUGFyZW5zKCExKSksKHQubGVuZ3RoPjB8fE9iamVjdC5rZXlzKGUpLmxlbmd0aD4wKSYmKG5bTWVdPW5ldyBqZSh0LGUpKSxufSx0LnByb3RvdHlwZS5wYXJzZVNlZ21lbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9WSh0aGlzLnJlbWFpbmluZyk7aWYoXCJcIj09PXQmJnRoaXMucGVla1N0YXJ0c1dpdGgoXCI7XCIpKXRocm93IG5ldyBFcnJvcihcIkVtcHR5IHBhdGggdXJsIHNlZ21lbnQgY2Fubm90IGhhdmUgcGFyYW1ldGVyczogJ1wiK3RoaXMucmVtYWluaW5nK1wiJy5cIik7dGhpcy5jYXB0dXJlKHQpO3ZhciBlPXt9O3JldHVybiB0aGlzLnBlZWtTdGFydHNXaXRoKFwiO1wiKSYmKGU9dGhpcy5wYXJzZU1hdHJpeFBhcmFtcygpKSxuZXcgVmUoVyh0KSxlKX0sdC5wcm90b3R5cGUucGFyc2VRdWVyeVBhcmFtcz1mdW5jdGlvbigpe3ZhciB0PXt9O2lmKHRoaXMucGVla1N0YXJ0c1dpdGgoXCI/XCIpKWZvcih0aGlzLmNhcHR1cmUoXCI/XCIpLHRoaXMucGFyc2VRdWVyeVBhcmFtKHQpO3RoaXMucmVtYWluaW5nLmxlbmd0aD4wJiZ0aGlzLnBlZWtTdGFydHNXaXRoKFwiJlwiKTspdGhpcy5jYXB0dXJlKFwiJlwiKSx0aGlzLnBhcnNlUXVlcnlQYXJhbSh0KTtyZXR1cm4gdH0sdC5wcm90b3R5cGUucGFyc2VGcmFnbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBlZWtTdGFydHNXaXRoKFwiI1wiKT9kZWNvZGVVUkkodGhpcy5yZW1haW5pbmcuc3Vic3RyaW5nKDEpKTpudWxsfSx0LnByb3RvdHlwZS5wYXJzZU1hdHJpeFBhcmFtcz1mdW5jdGlvbigpe2Zvcih2YXIgdD17fTt0aGlzLnJlbWFpbmluZy5sZW5ndGg+MCYmdGhpcy5wZWVrU3RhcnRzV2l0aChcIjtcIik7KXRoaXMuY2FwdHVyZShcIjtcIiksdGhpcy5wYXJzZVBhcmFtKHQpO3JldHVybiB0fSx0LnByb3RvdHlwZS5wYXJzZVBhcmFtPWZ1bmN0aW9uKHQpe3ZhciBlPVkodGhpcy5yZW1haW5pbmcpO2lmKGUpe3RoaXMuY2FwdHVyZShlKTt2YXIgbj1cIlwiO2lmKHRoaXMucGVla1N0YXJ0c1dpdGgoXCI9XCIpKXt0aGlzLmNhcHR1cmUoXCI9XCIpO3ZhciByPVkodGhpcy5yZW1haW5pbmcpO3ImJihuPXIsdGhpcy5jYXB0dXJlKG4pKX10W1coZSldPVcobil9fSx0LnByb3RvdHlwZS5wYXJzZVF1ZXJ5UGFyYW09ZnVuY3Rpb24odCl7dmFyIGU9Syh0aGlzLnJlbWFpbmluZyk7aWYoZSl7dGhpcy5jYXB0dXJlKGUpO3ZhciBuPVwiXCI7aWYodGhpcy5wZWVrU3RhcnRzV2l0aChcIj1cIikpe3RoaXMuY2FwdHVyZShcIj1cIik7dmFyIHI9Wih0aGlzLnJlbWFpbmluZyk7ciYmKG49cix0aGlzLmNhcHR1cmUobikpfXZhciBpPVcoZSksbz1XKG4pO2lmKHQuaGFzT3duUHJvcGVydHkoaSkpe3ZhciBzPXRbaV07QXJyYXkuaXNBcnJheShzKXx8KHM9W3NdLHRbaV09cykscy5wdXNoKG8pfWVsc2UgdFtpXT1vfX0sdC5wcm90b3R5cGUucGFyc2VQYXJlbnM9ZnVuY3Rpb24odCl7dmFyIGU9e307Zm9yKHRoaXMuY2FwdHVyZShcIihcIik7IXRoaXMucGVla1N0YXJ0c1dpdGgoXCIpXCIpJiZ0aGlzLnJlbWFpbmluZy5sZW5ndGg+MDspe3ZhciBuPVkodGhpcy5yZW1haW5pbmcpLHI9dGhpcy5yZW1haW5pbmdbbi5sZW5ndGhdO2lmKFwiL1wiIT09ciYmXCIpXCIhPT1yJiZcIjtcIiE9PXIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHVybCAnXCIrdGhpcy51cmwrXCInXCIpO3ZhciBpPXZvaWQgMDtuLmluZGV4T2YoXCI6XCIpPi0xPyhpPW4uc3Vic3RyKDAsbi5pbmRleE9mKFwiOlwiKSksdGhpcy5jYXB0dXJlKGkpLHRoaXMuY2FwdHVyZShcIjpcIikpOnQmJihpPU1lKTt2YXIgbz10aGlzLnBhcnNlQ2hpbGRyZW4oKTtlW2ldPTE9PT1PYmplY3Qua2V5cyhvKS5sZW5ndGg/b1tNZV06bmV3IGplKFtdLG8pLHRoaXMucGVla1N0YXJ0c1dpdGgoXCIvL1wiKSYmdGhpcy5jYXB0dXJlKFwiLy9cIil9cmV0dXJuIHRoaXMuY2FwdHVyZShcIilcIiksZX0sdH0oKSxXZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dm9pZCAwPT09dCYmKHQ9bnVsbCksdGhpcy5zZWdtZW50R3JvdXA9dH1yZXR1cm4gdH0oKSxHZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy51cmxUcmVlPXR9cmV0dXJuIHR9KCksWGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSl7dGhpcy5pbmplY3Rvcj10LHRoaXMuY29uZmlnTG9hZGVyPWUsdGhpcy51cmxTZXJpYWxpemVyPW4sdGhpcy51cmxUcmVlPXIsdGhpcy5jb25maWc9aSx0aGlzLmFsbG93UmVkaXJlY3RzPSEwfXJldHVybiB0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmV4cGFuZFNlZ21lbnRHcm91cCh0aGlzLmluamVjdG9yLHRoaXMuY29uZmlnLHRoaXMudXJsVHJlZS5yb290LE1lKSxuPWwubWFwLmNhbGwoZSxmdW5jdGlvbihlKXtyZXR1cm4gdC5jcmVhdGVVcmxUcmVlKGUsdC51cmxUcmVlLnF1ZXJ5UGFyYW1zLHQudXJsVHJlZS5mcmFnbWVudCl9KTtyZXR1cm4gZC5fY2F0Y2guY2FsbChuLGZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBHZSlyZXR1cm4gdC5hbGxvd1JlZGlyZWN0cz0hMSx0Lm1hdGNoKGUudXJsVHJlZSk7dGhyb3cgZSBpbnN0YW5jZW9mIFdlP3Qubm9NYXRjaEVycm9yKGUpOmV9KX0sdC5wcm90b3R5cGUubWF0Y2g9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuZXhwYW5kU2VnbWVudEdyb3VwKHRoaXMuaW5qZWN0b3IsdGhpcy5jb25maWcsdC5yb290LE1lKSxyPWwubWFwLmNhbGwobixmdW5jdGlvbihuKXtyZXR1cm4gZS5jcmVhdGVVcmxUcmVlKG4sdC5xdWVyeVBhcmFtcyx0LmZyYWdtZW50KX0pO3JldHVybiBkLl9jYXRjaC5jYWxsKHIsZnVuY3Rpb24odCl7dGhyb3cgdCBpbnN0YW5jZW9mIFdlP2Uubm9NYXRjaEVycm9yKHQpOnR9KX0sdC5wcm90b3R5cGUubm9NYXRjaEVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRXJyb3IoXCJDYW5ub3QgbWF0Y2ggYW55IHJvdXRlcy4gVVJMIFNlZ21lbnQ6ICdcIit0LnNlZ21lbnRHcm91cCtcIidcIil9LHQucHJvdG90eXBlLmNyZWF0ZVVybFRyZWU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuc2VnbWVudHMubGVuZ3RoPjA/bmV3IGplKFtdLChpPXt9LGlbTWVdPXQsaSkpOnQ7cmV0dXJuIG5ldyBEZShyLGUsbik7dmFyIGl9LHQucHJvdG90eXBlLmV4cGFuZFNlZ21lbnRHcm91cD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gMD09PW4uc2VnbWVudHMubGVuZ3RoJiZuLmhhc0NoaWxkcmVuKCk/bC5tYXAuY2FsbCh0aGlzLmV4cGFuZENoaWxkcmVuKHQsZSxuKSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGplKFtdLHQpfSk6dGhpcy5leHBhbmRTZWdtZW50KHQsbixlLG4uc2VnbWVudHMsciwhMCl9LHQucHJvdG90eXBlLmV4cGFuZENoaWxkcmVuPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3JldHVybiBBKG4uY2hpbGRyZW4sZnVuY3Rpb24obixpKXtyZXR1cm4gci5leHBhbmRTZWdtZW50R3JvdXAodCxlLGksbil9KX0sdC5wcm90b3R5cGUuZXhwYW5kU2VnbWVudD1mdW5jdGlvbih0LGUsbixyLGksbyl7dmFyIGE9dGhpcyx1PXMub2YuYXBwbHkodm9pZCAwLG4pLHA9bC5tYXAuY2FsbCh1LGZ1bmN0aW9uKHUpe3ZhciBjPWEuZXhwYW5kU2VnbWVudEFnYWluc3RSb3V0ZSh0LGUsbix1LHIsaSxvKTtyZXR1cm4gZC5fY2F0Y2guY2FsbChjLGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBXZSlyZXR1cm4gcy5vZihudWxsKTt0aHJvdyB0fSl9KSxoPXkuY29uY2F0QWxsLmNhbGwocCksZj1jLmZpcnN0LmNhbGwoaCxmdW5jdGlvbih0KXtyZXR1cm4hIXR9KTtyZXR1cm4gZC5fY2F0Y2guY2FsbChmLGZ1bmN0aW9uKHQsbil7aWYodCBpbnN0YW5jZW9mIG0uRW1wdHlFcnJvcil7aWYoYS5ub0xlZnRvdmVyc0luVXJsKGUscixpKSlyZXR1cm4gcy5vZihuZXcgamUoW10se30pKTt0aHJvdyBuZXcgV2UoZSl9dGhyb3cgdH0pfSx0LnByb3RvdHlwZS5ub0xlZnRvdmVyc0luVXJsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gMD09PWUubGVuZ3RoJiYhdC5jaGlsZHJlbltuXX0sdC5wcm90b3R5cGUuZXhwYW5kU2VnbWVudEFnYWluc3RSb3V0ZT1mdW5jdGlvbih0LGUsbixyLGksbyxzKXtyZXR1cm4gZnQocikhPT1vP0ooZSk6dm9pZCAwPT09ci5yZWRpcmVjdFRvfHxzJiZ0aGlzLmFsbG93UmVkaXJlY3RzP3ZvaWQgMD09PXIucmVkaXJlY3RUbz90aGlzLm1hdGNoU2VnbWVudEFnYWluc3RSb3V0ZSh0LGUscixpKTp0aGlzLmV4cGFuZFNlZ21lbnRBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KHQsZSxuLHIsaSxvKTpKKGUpfSx0LnByb3RvdHlwZS5leHBhbmRTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdD1mdW5jdGlvbih0LGUsbixyLGksbyl7cmV0dXJuXCIqKlwiPT09ci5wYXRoP3RoaXMuZXhwYW5kV2lsZENhcmRXaXRoUGFyYW1zQWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LG4scixvKTp0aGlzLmV4cGFuZFJlZ3VsYXJTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LGUsbixyLGksbyl9LHQucHJvdG90eXBlLmV4cGFuZFdpbGRDYXJkV2l0aFBhcmFtc0FnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3Q9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcyxvPXRoaXMuYXBwbHlSZWRpcmVjdENvbW1hbmRzKFtdLG4ucmVkaXJlY3RUbyx7fSk7cmV0dXJuIG4ucmVkaXJlY3RUby5zdGFydHNXaXRoKFwiL1wiKT90dChvKTpwLm1lcmdlTWFwLmNhbGwodGhpcy5saW5lcmFsaXplU2VnbWVudHMobixvKSxmdW5jdGlvbihuKXt2YXIgbz1uZXcgamUobix7fSk7cmV0dXJuIGkuZXhwYW5kU2VnbWVudCh0LG8sZSxuLHIsITEpfSl9LHQucHJvdG90eXBlLmV4cGFuZFJlZ3VsYXJTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdD1mdW5jdGlvbih0LGUsbixyLGksbyl7dmFyIHM9dGhpcyxhPW90KGUscixpKSx1PWEubWF0Y2hlZCxjPWEuY29uc3VtZWRTZWdtZW50cyxsPWEubGFzdENoaWxkLGg9YS5wb3NpdGlvbmFsUGFyYW1TZWdtZW50cztpZighdSlyZXR1cm4gSihlKTt2YXIgZj10aGlzLmFwcGx5UmVkaXJlY3RDb21tYW5kcyhjLHIucmVkaXJlY3RUbyxoKTtyZXR1cm4gci5yZWRpcmVjdFRvLnN0YXJ0c1dpdGgoXCIvXCIpP3R0KGYpOnAubWVyZ2VNYXAuY2FsbCh0aGlzLmxpbmVyYWxpemVTZWdtZW50cyhyLGYpLGZ1bmN0aW9uKHIpe3JldHVybiBzLmV4cGFuZFNlZ21lbnQodCxlLG4sci5jb25jYXQoaS5zbGljZShsKSksbywhMSl9KX0sdC5wcm90b3R5cGUubWF0Y2hTZWdtZW50QWdhaW5zdFJvdXRlPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXM7aWYoXCIqKlwiPT09bi5wYXRoKXJldHVybiBuLmxvYWRDaGlsZHJlbj9sLm1hcC5jYWxsKHRoaXMuY29uZmlnTG9hZGVyLmxvYWQodCxuLmxvYWRDaGlsZHJlbiksZnVuY3Rpb24odCl7cmV0dXJuIG4uX2xvYWRlZENvbmZpZz10LG5ldyBqZShyLHt9KX0pOnMub2YobmV3IGplKHIse30pKTt2YXIgbz1vdChlLG4sciksYT1vLm1hdGNoZWQsdT1vLmNvbnN1bWVkU2VnbWVudHMsYz1vLmxhc3RDaGlsZDtpZighYSlyZXR1cm4gSihlKTt2YXIgaD1yLnNsaWNlKGMpLGY9dGhpcy5nZXRDaGlsZENvbmZpZyh0LG4pO3JldHVybiBwLm1lcmdlTWFwLmNhbGwoZixmdW5jdGlvbih0KXt2YXIgbj10LmluamVjdG9yLHI9dC5yb3V0ZXMsbz1zdChlLHUsaCxyKSxhPW8uc2VnbWVudEdyb3VwLGM9by5zbGljZWRTZWdtZW50cztpZigwPT09Yy5sZW5ndGgmJmEuaGFzQ2hpbGRyZW4oKSl7dmFyIHA9aS5leHBhbmRDaGlsZHJlbihuLHIsYSk7cmV0dXJuIGwubWFwLmNhbGwocCxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGplKHUsdCl9KX1pZigwPT09ci5sZW5ndGgmJjA9PT1jLmxlbmd0aClyZXR1cm4gcy5vZihuZXcgamUodSx7fSkpO3ZhciBwPWkuZXhwYW5kU2VnbWVudChuLGEscixjLE1lLCEwKTtyZXR1cm4gbC5tYXAuY2FsbChwLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgamUodS5jb25jYXQodC5zZWdtZW50cyksdC5jaGlsZHJlbil9KX0pfSx0LnByb3RvdHlwZS5nZXRDaGlsZENvbmZpZz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIGUuY2hpbGRyZW4/cy5vZihuZXcgSWUoZS5jaGlsZHJlbix0LG51bGwsbnVsbCkpOmUubG9hZENoaWxkcmVuP3AubWVyZ2VNYXAuY2FsbChpdCh0LGUpLGZ1bmN0aW9uKHIpe3JldHVybiByP2UuX2xvYWRlZENvbmZpZz9zLm9mKGUuX2xvYWRlZENvbmZpZyk6bC5tYXAuY2FsbChuLmNvbmZpZ0xvYWRlci5sb2FkKHQsZS5sb2FkQ2hpbGRyZW4pLGZ1bmN0aW9uKHQpe3JldHVybiBlLl9sb2FkZWRDb25maWc9dCx0fSk6bnQoZSl9KTpzLm9mKG5ldyBJZShbXSx0LG51bGwsbnVsbCkpfSx0LnByb3RvdHlwZS5saW5lcmFsaXplU2VnbWVudHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10scj1lLnJvb3Q7Oyl7aWYobj1uLmNvbmNhdChyLnNlZ21lbnRzKSwwPT09ci5udW1iZXJPZkNoaWxkcmVuKXJldHVybiBzLm9mKG4pO2lmKHIubnVtYmVyT2ZDaGlsZHJlbj4xfHwhci5jaGlsZHJlbltNZV0pcmV0dXJuIGV0KHQucmVkaXJlY3RUbyk7cj1yLmNoaWxkcmVuW01lXX19LHQucHJvdG90eXBlLmFwcGx5UmVkaXJlY3RDb21tYW5kcz1mdW5jdGlvbih0LGUsbil7dGhpcy51cmxTZXJpYWxpemVyLnBhcnNlKGUpO3JldHVybiB0aGlzLmFwcGx5UmVkaXJlY3RDcmVhdHJlVXJsVHJlZShlLHRoaXMudXJsU2VyaWFsaXplci5wYXJzZShlKSx0LG4pfSx0LnByb3RvdHlwZS5hcHBseVJlZGlyZWN0Q3JlYXRyZVVybFRyZWU9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcy5jcmVhdGVTZWdtZW50R3JvdXAodCxlLnJvb3QsbixyKTtyZXR1cm4gbmV3IERlKGksdGhpcy5jcmVhdGVRdWVyeVBhcmFtcyhlLnF1ZXJ5UGFyYW1zLHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcyksZS5mcmFnbWVudCl9LHQucHJvdG90eXBlLmNyZWF0ZVF1ZXJ5UGFyYW1zPWZ1bmN0aW9uKHQsZSl7dmFyIG49e307cmV0dXJuIFQodCxmdW5jdGlvbih0LHIpe3Quc3RhcnRzV2l0aChcIjpcIik/bltyXT1lW3Quc3Vic3RyaW5nKDEpXTpuW3JdPXR9KSxufSx0LnByb3RvdHlwZS5jcmVhdGVTZWdtZW50R3JvdXA9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcyxvPXRoaXMuY3JlYXRlU2VnbWVudHModCxlLnNlZ21lbnRzLG4scikscz17fTtyZXR1cm4gVChlLmNoaWxkcmVuLGZ1bmN0aW9uKGUsbyl7c1tvXT1pLmNyZWF0ZVNlZ21lbnRHcm91cCh0LGUsbixyKX0pLG5ldyBqZShvLHMpfSx0LnByb3RvdHlwZS5jcmVhdGVTZWdtZW50cz1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzO3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXRoLnN0YXJ0c1dpdGgoXCI6XCIpP2kuZmluZFBvc1BhcmFtKHQsZSxyKTppLmZpbmRPclJldHVybihlLG4pfSl9LHQucHJvdG90eXBlLmZpbmRQb3NQYXJhbT1mdW5jdGlvbih0LGUsbil7dmFyIHI9bltlLnBhdGguc3Vic3RyaW5nKDEpXTtpZighcil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVkaXJlY3QgdG8gJ1wiK3QrXCInLiBDYW5ub3QgZmluZCAnXCIrZS5wYXRoK1wiJy5cIik7cmV0dXJuIHJ9LHQucHJvdG90eXBlLmZpbmRPclJldHVybj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9MCxpPWU7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07aWYoby5wYXRoPT09dC5wYXRoKXJldHVybiBlLnNwbGljZShuKSxvO24rK31yZXR1cm4gdH0sdH0oKSwkZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcm9vdD10fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyb290XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290LnZhbHVlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnBhcmVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnBhdGhGcm9tUm9vdCh0KTtyZXR1cm4gZS5sZW5ndGg+MT9lW2UubGVuZ3RoLTJdOm51bGx9LHQucHJvdG90eXBlLmNoaWxkcmVuPWZ1bmN0aW9uKHQpe3ZhciBlPXZ0KHQsdGhpcy5fcm9vdCk7cmV0dXJuIGU/ZS5jaGlsZHJlbi5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWV9KTpbXX0sdC5wcm90b3R5cGUuZmlyc3RDaGlsZD1mdW5jdGlvbih0KXt2YXIgZT12dCh0LHRoaXMuX3Jvb3QpO3JldHVybiBlJiZlLmNoaWxkcmVuLmxlbmd0aD4wP2UuY2hpbGRyZW5bMF0udmFsdWU6bnVsbH0sdC5wcm90b3R5cGUuc2libGluZ3M9ZnVuY3Rpb24odCl7dmFyIGU9Z3QodCx0aGlzLl9yb290LFtdKTtpZihlLmxlbmd0aDwyKXJldHVybltdO3ZhciBuPWVbZS5sZW5ndGgtMl0uY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSk7cmV0dXJuIG4uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pfSx0LnByb3RvdHlwZS5wYXRoRnJvbVJvb3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGd0KHQsdGhpcy5fcm9vdCxbXSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSl9LHR9KCksUWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy52YWx1ZT10LHRoaXMuY2hpbGRyZW49ZX1yZXR1cm4gdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlRyZWVOb2RlKFwiK3RoaXMudmFsdWUrXCIpXCJ9LHR9KCksWWU9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LEtlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxlKSx0aGlzLnNuYXBzaG90PW4sQ3QodGhpcyxlKX1yZXR1cm4gWWUoZSx0KSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNuYXBzaG90LnRvU3RyaW5nKCl9LGV9KCRlKSxaZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8scyxhKXt0aGlzLnVybD10LHRoaXMucGFyYW1zPWUsdGhpcy5xdWVyeVBhcmFtcz1uLHRoaXMuZnJhZ21lbnQ9cix0aGlzLmRhdGE9aSx0aGlzLm91dGxldD1vLHRoaXMuY29tcG9uZW50PXMsdGhpcy5fZnV0dXJlU25hcHNob3Q9YX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicm91dGVDb25maWdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1dHVyZVNuYXBzaG90LnJvdXRlQ29uZmlnfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJvb3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnJvb3R9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGFyZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXJlbnQodGhpcyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZmlyc3RDaGlsZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuZmlyc3RDaGlsZCh0aGlzKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjaGlsZHJlblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuY2hpbGRyZW4odGhpcyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGF0aEZyb21Sb290XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXRoRnJvbVJvb3QodGhpcyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbmFwc2hvdD90aGlzLnNuYXBzaG90LnRvU3RyaW5nKCk6XCJGdXR1cmUoXCIrdGhpcy5fZnV0dXJlU25hcHNob3QrXCIpXCJ9LHR9KCksSmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvLHMsYSx1LGMsbCl7dGhpcy51cmw9dCx0aGlzLnBhcmFtcz1lLHRoaXMucXVlcnlQYXJhbXM9bix0aGlzLmZyYWdtZW50PXIsdGhpcy5kYXRhPWksdGhpcy5vdXRsZXQ9byx0aGlzLmNvbXBvbmVudD1zLHRoaXMuX3JvdXRlQ29uZmlnPWEsdGhpcy5fdXJsU2VnbWVudD11LHRoaXMuX2xhc3RQYXRoSW5kZXg9Yyx0aGlzLl9yZXNvbHZlPWx9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJvdXRlQ29uZmlnXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb3V0ZUNvbmZpZ30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyb290XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5yb290fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBhcmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUucGFyZW50KHRoaXMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImZpcnN0Q2hpbGRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLmZpcnN0Q2hpbGQodGhpcyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY2hpbGRyZW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLmNoaWxkcmVuKHRoaXMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBhdGhGcm9tUm9vdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUucGF0aEZyb21Sb290KHRoaXMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51cmwubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvU3RyaW5nKCl9KS5qb2luKFwiL1wiKSxlPXRoaXMuX3JvdXRlQ29uZmlnP3RoaXMuX3JvdXRlQ29uZmlnLnBhdGg6XCJcIjtyZXR1cm5cIlJvdXRlKHVybDonXCIrdCtcIicsIHBhdGg6J1wiK2UrXCInKVwifSx0fSgpLHRuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxuKSx0aGlzLnVybD1lLEN0KHRoaXMsbil9cmV0dXJuIFllKGUsdCksZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gRXQodGhpcy5fcm9vdCl9LGV9KCRlKSxlbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe2lmKHRoaXMuaXNBYnNvbHV0ZT10LHRoaXMubnVtYmVyT2ZEb3VibGVEb3RzPWUsdGhpcy5jb21tYW5kcz1uLHQmJm4ubGVuZ3RoPjAmJlJ0KG5bMF0pKXRocm93IG5ldyBFcnJvcihcIlJvb3Qgc2VnbWVudCBjYW5ub3QgaGF2ZSBtYXRyaXggcGFyYW1ldGVyc1wiKTt2YXIgcj1uLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPXQmJnQub3V0bGV0c30pO2lmKHImJnIhPT1QKG4pKXRocm93IG5ldyBFcnJvcihcIntvdXRsZXRzOnt9fSBoYXMgdG8gYmUgdGhlIGxhc3QgY29tbWFuZFwiKX1yZXR1cm4gdC5wcm90b3R5cGUudG9Sb290PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNBYnNvbHV0ZSYmMT09PXRoaXMuY29tbWFuZHMubGVuZ3RoJiZcIi9cIj09dGhpcy5jb21tYW5kc1swXX0sdH0oKSxubj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuc2VnbWVudEdyb3VwPXQsdGhpcy5wcm9jZXNzQ2hpbGRyZW49ZSx0aGlzLmluZGV4PW59cmV0dXJuIHR9KCkscm49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpLG9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLnJvb3RDb21wb25lbnRUeXBlPXQsdGhpcy5jb25maWc9ZSx0aGlzLnVybFRyZWU9bix0aGlzLnVybD1yfXJldHVybiB0LnByb3RvdHlwZS5yZWNvZ25pemU9ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9dGUodGhpcy51cmxUcmVlLnJvb3QsW10sW10sdGhpcy5jb25maWcpLnNlZ21lbnRHcm91cCxlPXRoaXMucHJvY2Vzc1NlZ21lbnRHcm91cCh0aGlzLmNvbmZpZyx0LE1lKSxuPW5ldyBKZShbXSxPYmplY3QuZnJlZXplKHt9KSxPYmplY3QuZnJlZXplKHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcyksdGhpcy51cmxUcmVlLmZyYWdtZW50LHt9LE1lLHRoaXMucm9vdENvbXBvbmVudFR5cGUsbnVsbCx0aGlzLnVybFRyZWUucm9vdCwtMSx7fSkscj1uZXcgUWUobixlKSxpPW5ldyB0bih0aGlzLnVybCxyKTtyZXR1cm4gdGhpcy5pbmhlcml0ZVBhcmFtc0FuZERhdGEoaS5fcm9vdCkscy5vZihpKX1jYXRjaCh0KXtyZXR1cm4gbmV3IGYuT2JzZXJ2YWJsZShmdW5jdGlvbihlKXtyZXR1cm4gZS5lcnJvcih0KX0pfX0sdC5wcm90b3R5cGUuaW5oZXJpdGVQYXJhbXNBbmREYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnZhbHVlLHI9d3Qobik7bi5wYXJhbXM9T2JqZWN0LmZyZWV6ZShyLnBhcmFtcyksbi5kYXRhPU9iamVjdC5mcmVlemUoci5kYXRhKSx0LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuaW5oZXJpdGVQYXJhbXNBbmREYXRhKHQpfSl9LHQucHJvdG90eXBlLnByb2Nlc3NTZWdtZW50R3JvdXA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiAwPT09ZS5zZWdtZW50cy5sZW5ndGgmJmUuaGFzQ2hpbGRyZW4oKT90aGlzLnByb2Nlc3NDaGlsZHJlbih0LGUpOnRoaXMucHJvY2Vzc1NlZ21lbnQodCxlLGUuc2VnbWVudHMsbil9LHQucHJvdG90eXBlLnByb2Nlc3NDaGlsZHJlbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1IKGUsZnVuY3Rpb24oZSxyKXtyZXR1cm4gbi5wcm9jZXNzU2VnbWVudEdyb3VwKHQsZSxyKX0pO3JldHVybiBLdChyKSwkdChyKSxyfSx0LnByb3RvdHlwZS5wcm9jZXNzU2VnbWVudD1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIGk9MCxvPXQ7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV07dHJ5e3JldHVybiB0aGlzLnByb2Nlc3NTZWdtZW50QWdhaW5zdFJvdXRlKHMsZSxuLHIpfWNhdGNoKHQpe2lmKCEodCBpbnN0YW5jZW9mIHJuKSl0aHJvdyB0fX1pZih0aGlzLm5vTGVmdG92ZXJzSW5VcmwoZSxuLHIpKXJldHVybltdO3Rocm93IG5ldyBybn0sdC5wcm90b3R5cGUubm9MZWZ0b3ZlcnNJblVybD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIDA9PT1lLmxlbmd0aCYmIXQuY2hpbGRyZW5bbl19LHQucHJvdG90eXBlLnByb2Nlc3NTZWdtZW50QWdhaW5zdFJvdXRlPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQucmVkaXJlY3RUbyl0aHJvdyBuZXcgcm47aWYoKHQub3V0bGV0P3Qub3V0bGV0Ok1lKSE9PXIpdGhyb3cgbmV3IHJuO2lmKFwiKipcIj09PXQucGF0aCl7dmFyIGk9bi5sZW5ndGg+MD9QKG4pLnBhcmFtZXRlcnM6e30sbz1uZXcgSmUobixpLE9iamVjdC5mcmVlemUodGhpcy51cmxUcmVlLnF1ZXJ5UGFyYW1zKSx0aGlzLnVybFRyZWUuZnJhZ21lbnQsYWUodCkscix0LmNvbXBvbmVudCx0LFp0KGUpLEp0KGUpK24ubGVuZ3RoLHVlKHQpKTtyZXR1cm5bbmV3IFFlKG8sW10pXX12YXIgcz1ZdChlLHQsbiksYT1zLmNvbnN1bWVkU2VnbWVudHMsdT1zLnBhcmFtZXRlcnMsYz1zLmxhc3RDaGlsZCxsPW4uc2xpY2UoYykscD1RdCh0KSxoPXRlKGUsYSxsLHApLGY9aC5zZWdtZW50R3JvdXAsZD1oLnNsaWNlZFNlZ21lbnRzLHk9bmV3IEplKGEsdSxPYmplY3QuZnJlZXplKHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcyksdGhpcy51cmxUcmVlLmZyYWdtZW50LGFlKHQpLHIsdC5jb21wb25lbnQsdCxadChlKSxKdChlKSthLmxlbmd0aCx1ZSh0KSk7aWYoMD09PWQubGVuZ3RoJiZmLmhhc0NoaWxkcmVuKCkpe3ZhciBtPXRoaXMucHJvY2Vzc0NoaWxkcmVuKHAsZik7cmV0dXJuW25ldyBRZSh5LG0pXX1pZigwPT09cC5sZW5ndGgmJjA9PT1kLmxlbmd0aClyZXR1cm5bbmV3IFFlKHksW10pXTt2YXIgbT10aGlzLnByb2Nlc3NTZWdtZW50KHAsZixkLE1lKTtyZXR1cm5bbmV3IFFlKHksbSldfSx0fSgpLHNuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX291dGxldHM9e319cmV0dXJuIHQucHJvdG90eXBlLnJlZ2lzdGVyT3V0bGV0PWZ1bmN0aW9uKHQsZSl7dGhpcy5fb3V0bGV0c1t0XT1lfSx0LnByb3RvdHlwZS5yZW1vdmVPdXRsZXQ9ZnVuY3Rpb24odCl7dGhpcy5fb3V0bGV0c1t0XT12b2lkIDB9LHR9KCksYW49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5zaG91bGRQcm9jZXNzVXJsPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuZXh0cmFjdD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQsZSl7fSx0fSgpLHVuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuc2hvdWxkUHJvY2Vzc1VybD1mdW5jdGlvbih0KXtyZXR1cm4hMH0sdC5wcm90b3R5cGUuZXh0cmFjdD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdC5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sdH0oKSxjbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmlkPXQsdGhpcy51cmw9ZX1yZXR1cm4gdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk5hdmlnYXRpb25TdGFydChpZDogXCIrdGhpcy5pZCtcIiwgdXJsOiAnXCIrdGhpcy51cmwrXCInKVwifSx0fSgpLGxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5pZD10LHRoaXMudXJsPWUsdGhpcy51cmxBZnRlclJlZGlyZWN0cz1ufXJldHVybiB0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiTmF2aWdhdGlvbkVuZChpZDogXCIrdGhpcy5pZCtcIiwgdXJsOiAnXCIrdGhpcy51cmwrXCInLCB1cmxBZnRlclJlZGlyZWN0czogJ1wiK3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHMrXCInKVwifSx0fSgpLHBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5pZD10LHRoaXMudXJsPWUsdGhpcy5yZWFzb249bn1yZXR1cm4gdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk5hdmlnYXRpb25DYW5jZWwoaWQ6IFwiK3RoaXMuaWQrXCIsIHVybDogJ1wiK3RoaXMudXJsK1wiJylcIn0sdH0oKSxobj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuaWQ9dCx0aGlzLnVybD1lLHRoaXMuZXJyb3I9bn1yZXR1cm4gdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk5hdmlnYXRpb25FcnJvcihpZDogXCIrdGhpcy5pZCtcIiwgdXJsOiAnXCIrdGhpcy51cmwrXCInLCBlcnJvcjogXCIrdGhpcy5lcnJvcitcIilcIn0sdH0oKSxmbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5pZD10LHRoaXMudXJsPWUsdGhpcy51cmxBZnRlclJlZGlyZWN0cz1uLHRoaXMuc3RhdGU9cn1yZXR1cm4gdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlJvdXRlc1JlY29nbml6ZWQoaWQ6IFwiK3RoaXMuaWQrXCIsIHVybDogJ1wiK3RoaXMudXJsK1wiJywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICdcIit0aGlzLnVybEFmdGVyUmVkaXJlY3RzK1wiJywgc3RhdGU6IFwiK3RoaXMuc3RhdGUrXCIpXCJ9LHR9KCksZG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5zaG91bGREZXRhY2g9ZnVuY3Rpb24odCl7cmV0dXJuITF9LHQucHJvdG90eXBlLnN0b3JlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5zaG91bGRBdHRhY2g9ZnVuY3Rpb24odCl7cmV0dXJuITF9LHQucHJvdG90eXBlLnJldHJpZXZlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS5zaG91bGRSZXVzZVJvdXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucm91dGVDb25maWc9PT1lLnJvdXRlQ29uZmlnfSx0fSgpLHluPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixvLHMsYSx1LGMpe3RoaXMucm9vdENvbXBvbmVudFR5cGU9dCx0aGlzLnVybFNlcmlhbGl6ZXI9ZSx0aGlzLm91dGxldE1hcD1uLHRoaXMubG9jYXRpb249byx0aGlzLmluamVjdG9yPXMsdGhpcy5jb25maWc9Yyx0aGlzLm5hdmlnYXRpb25zPW5ldyByLkJlaGF2aW9yU3ViamVjdChudWxsKSx0aGlzLnJvdXRlckV2ZW50cz1uZXcgaS5TdWJqZWN0LHRoaXMubmF2aWdhdGlvbklkPTAsdGhpcy5lcnJvckhhbmRsZXI9Y2UsdGhpcy5uYXZpZ2F0ZWQ9ITEsdGhpcy5ob29rcz17YmVmb3JlUHJlYWN0aXZhdGlvbjpsZSxhZnRlclByZWFjdGl2YXRpb246bGV9LHRoaXMudXJsSGFuZGxpbmdTdHJhdGVneT1uZXcgdW4sdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3k9bmV3IGRuLHRoaXMucmVzZXRDb25maWcoYyksdGhpcy5jdXJyZW50VXJsVHJlZT1SKCksdGhpcy5yYXdVcmxUcmVlPXRoaXMuY3VycmVudFVybFRyZWUsdGhpcy5jb25maWdMb2FkZXI9bmV3IE5lKGEsdSksdGhpcy5jdXJyZW50Um91dGVyU3RhdGU9X3QodGhpcy5jdXJyZW50VXJsVHJlZSx0aGlzLnJvb3RDb21wb25lbnRUeXBlKSx0aGlzLnByb2Nlc3NOYXZpZ2F0aW9ucygpfXJldHVybiB0LnByb3RvdHlwZS5yZXNldFJvb3RDb21wb25lbnRUeXBlPWZ1bmN0aW9uKHQpe3RoaXMucm9vdENvbXBvbmVudFR5cGU9dCx0aGlzLmN1cnJlbnRSb3V0ZXJTdGF0ZS5yb290LmNvbXBvbmVudD10aGlzLnJvb3RDb21wb25lbnRUeXBlfSx0LnByb3RvdHlwZS5pbml0aWFsTmF2aWdhdGlvbj1mdW5jdGlvbigpe3RoaXMuc2V0VXBMb2NhdGlvbkNoYW5nZUxpc3RlbmVyKCksMD09PXRoaXMubmF2aWdhdGlvbklkJiZ0aGlzLm5hdmlnYXRlQnlVcmwodGhpcy5sb2NhdGlvbi5wYXRoKCEwKSx7cmVwbGFjZVVybDohMH0pfSx0LnByb3RvdHlwZS5zZXRVcExvY2F0aW9uQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMubG9jYXRpb25TdWJzY3JpcHRpb258fCh0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9uPXRoaXMubG9jYXRpb24uc3Vic2NyaWJlKFpvbmUuY3VycmVudC53cmFwKGZ1bmN0aW9uKGUpe3ZhciBuPXQudXJsU2VyaWFsaXplci5wYXJzZShlLnVybCkscj1cInBvcHN0YXRlXCI9PT1lLnR5cGU/XCJwb3BzdGF0ZVwiOlwiaGFzaGNoYW5nZVwiO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnNjaGVkdWxlTmF2aWdhdGlvbihuLHIse3JlcGxhY2VVcmw6ITB9KX0sMCl9KSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyb3V0ZXJTdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50Um91dGVyU3RhdGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidXJsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlcmlhbGl6ZVVybCh0aGlzLmN1cnJlbnRVcmxUcmVlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJldmVudHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm91dGVyRXZlbnRzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnJlc2V0Q29uZmlnPWZ1bmN0aW9uKHQpe2R0KHQpLHRoaXMuY29uZmlnPXR9LHQucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kaXNwb3NlKCl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9uJiYodGhpcy5sb2NhdGlvblN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMubG9jYXRpb25TdWJzY3JpcHRpb249bnVsbCl9LHQucHJvdG90eXBlLmNyZWF0ZVVybFRyZWU9ZnVuY3Rpb24odCxlKXt2YXIgbj12b2lkIDA9PT1lP3t9OmUscj1uLnJlbGF0aXZlVG8saT1uLnF1ZXJ5UGFyYW1zLG89bi5mcmFnbWVudCxzPW4ucHJlc2VydmVRdWVyeVBhcmFtcyxhPW4ucHJlc2VydmVGcmFnbWVudCx1PXJ8fHRoaXMucm91dGVyU3RhdGUucm9vdCxjPXM/dGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtczppLGw9YT90aGlzLmN1cnJlbnRVcmxUcmVlLmZyYWdtZW50Om87cmV0dXJuIGt0KHUsdGhpcy5jdXJyZW50VXJsVHJlZSx0LGMsbCl9LHQucHJvdG90eXBlLm5hdmlnYXRlQnlVcmw9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT17c2tpcExvY2F0aW9uQ2hhbmdlOiExfSksdCBpbnN0YW5jZW9mIERlKXJldHVybiB0aGlzLnNjaGVkdWxlTmF2aWdhdGlvbih0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kubWVyZ2UodCx0aGlzLnJhd1VybFRyZWUpLFwiaW1wZXJhdGl2ZVwiLGUpO3ZhciBuPXRoaXMudXJsU2VyaWFsaXplci5wYXJzZSh0KTtyZXR1cm4gdGhpcy5zY2hlZHVsZU5hdmlnYXRpb24odGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5Lm1lcmdlKG4sdGhpcy5yYXdVcmxUcmVlKSxcImltcGVyYXRpdmVcIixlKX0sdC5wcm90b3R5cGUubmF2aWdhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e3NraXBMb2NhdGlvbkNoYW5nZTohMX0pLG1lKHQpLFwib2JqZWN0XCI9PXR5cGVvZiBlLnF1ZXJ5UGFyYW1zJiZudWxsIT09ZS5xdWVyeVBhcmFtcyYmKGUucXVlcnlQYXJhbXM9dGhpcy5yZW1vdmVFbXB0eVByb3BzKGUucXVlcnlQYXJhbXMpKSx0aGlzLm5hdmlnYXRlQnlVcmwodGhpcy5jcmVhdGVVcmxUcmVlKHQsZSksZSl9LHQucHJvdG90eXBlLnNlcmlhbGl6ZVVybD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0KX0sdC5wcm90b3R5cGUucGFyc2VVcmw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXJsU2VyaWFsaXplci5wYXJzZSh0KX0sdC5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCxlKXtpZih0IGluc3RhbmNlb2YgRGUpcmV0dXJuIEkodGhpcy5jdXJyZW50VXJsVHJlZSx0LGUpO3ZhciBuPXRoaXMudXJsU2VyaWFsaXplci5wYXJzZSh0KTtyZXR1cm4gSSh0aGlzLmN1cnJlbnRVcmxUcmVlLG4sZSl9LHQucHJvdG90eXBlLnJlbW92ZUVtcHR5UHJvcHM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLnJlZHVjZShmdW5jdGlvbihlLG4pe3ZhciByPXRbbl07cmV0dXJuIG51bGwhPT1yJiZ2b2lkIDAhPT1yJiYoZVtuXT1yKSxlfSx7fSl9LHQucHJvdG90eXBlLnByb2Nlc3NOYXZpZ2F0aW9ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7YS5jb25jYXRNYXAuY2FsbCh0aGlzLm5hdmlnYXRpb25zLGZ1bmN0aW9uKGUpe3JldHVybiBlPyh0LmV4ZWN1dGVTY2hlZHVsZWROYXZpZ2F0aW9uKGUpLGUucHJvbWlzZS5jYXRjaChmdW5jdGlvbigpe30pKTpzLm9mKG51bGwpfSkuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7fSl9LHQucHJvdG90eXBlLnNjaGVkdWxlTmF2aWdhdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5uYXZpZ2F0aW9ucy52YWx1ZTtpZihyJiZcImltcGVyYXRpdmVcIiE9PWUmJlwiaW1wZXJhdGl2ZVwiPT09ci5zb3VyY2UmJnIucmF3VXJsLnRvU3RyaW5nKCk9PT10LnRvU3RyaW5nKCkpcmV0dXJuIG51bGw7aWYociYmXCJoYXNoY2hhbmdlXCI9PWUmJlwicG9wc3RhdGVcIj09PXIuc291cmNlJiZyLnJhd1VybC50b1N0cmluZygpPT09dC50b1N0cmluZygpKXJldHVybiBudWxsO3ZhciBpPW51bGwsbz1udWxsLHM9bmV3IFByb21pc2UoZnVuY3Rpb24odCxlKXtpPXQsbz1lfSksYT0rK3RoaXMubmF2aWdhdGlvbklkO3JldHVybiB0aGlzLm5hdmlnYXRpb25zLm5leHQoe2lkOmEsc291cmNlOmUscmF3VXJsOnQsZXh0cmFzOm4scmVzb2x2ZTppLHJlamVjdDpvLHByb21pc2U6c30pLHMuY2F0Y2goZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVqZWN0KHQpfSl9LHQucHJvdG90eXBlLmV4ZWN1dGVTY2hlZHVsZWROYXZpZ2F0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmlkLHI9dC5yYXdVcmwsaT10LmV4dHJhcyxvPXQucmVzb2x2ZSxzPXQucmVqZWN0LGE9dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LmV4dHJhY3QociksdT0hdGhpcy5uYXZpZ2F0ZWR8fGEudG9TdHJpbmcoKSE9PXRoaXMuY3VycmVudFVybFRyZWUudG9TdHJpbmcoKTt1JiZ0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuc2hvdWxkUHJvY2Vzc1VybChyKT8odGhpcy5yb3V0ZXJFdmVudHMubmV4dChuZXcgY24obix0aGlzLnNlcmlhbGl6ZVVybChhKSkpLFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUucnVuTmF2aWdhdGUoYSxyLGkuc2tpcExvY2F0aW9uQ2hhbmdlLGkucmVwbGFjZVVybCxuLG51bGwpfSkudGhlbihvLHMpKTp1JiZ0aGlzLnJhd1VybFRyZWUmJnRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5zaG91bGRQcm9jZXNzVXJsKHRoaXMucmF3VXJsVHJlZSk/KHRoaXMucm91dGVyRXZlbnRzLm5leHQobmV3IGNuKG4sdGhpcy5zZXJpYWxpemVVcmwoYSkpKSxQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLnJ1bk5hdmlnYXRlKGEsciwhMSwhMSxuLF90KGEsZS5yb290Q29tcG9uZW50VHlwZSkuc25hcHNob3QpfSkudGhlbihvLHMpKToodGhpcy5yYXdVcmxUcmVlPXIsbyhudWxsKSl9LHQucHJvdG90eXBlLnJ1bk5hdmlnYXRlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt2YXIgYT10aGlzO3JldHVybiBpIT09dGhpcy5uYXZpZ2F0aW9uSWQ/KHRoaXMubG9jYXRpb24uZ28odGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0aGlzLmN1cnJlbnRVcmxUcmVlKSksdGhpcy5yb3V0ZXJFdmVudHMubmV4dChuZXcgcG4oaSx0aGlzLnNlcmlhbGl6ZVVybCh0KSxcIk5hdmlnYXRpb24gSUQgXCIraStcIiBpcyBub3QgZXF1YWwgdG8gdGhlIGN1cnJlbnQgbmF2aWdhdGlvbiBpZCBcIit0aGlzLm5hdmlnYXRpb25JZCkpLFByb21pc2UucmVzb2x2ZSghMSkpOm5ldyBQcm9taXNlKGZ1bmN0aW9uKHUsYyl7dmFyIGg7aWYobyloPXMub2Yoe2FwcGxpZWRVcmw6dCxzbmFwc2hvdDpvfSk7ZWxzZXt2YXIgZj1ydChhLmluamVjdG9yLGEuY29uZmlnTG9hZGVyLGEudXJsU2VyaWFsaXplcix0LGEuY29uZmlnKTtoPXAubWVyZ2VNYXAuY2FsbChmLGZ1bmN0aW9uKGUpe3JldHVybiBsLm1hcC5jYWxsKFh0KGEucm9vdENvbXBvbmVudFR5cGUsYS5jb25maWcsZSxhLnNlcmlhbGl6ZVVybChlKSksZnVuY3Rpb24obil7XG5yZXR1cm4gYS5yb3V0ZXJFdmVudHMubmV4dChuZXcgZm4oaSxhLnNlcmlhbGl6ZVVybCh0KSxhLnNlcmlhbGl6ZVVybChlKSxuKSkse2FwcGxpZWRVcmw6ZSxzbmFwc2hvdDpufX0pfSl9dmFyIGQseSxtPXAubWVyZ2VNYXAuY2FsbChoLGZ1bmN0aW9uKHQpe3JldHVybiBsLm1hcC5jYWxsKGEuaG9va3MuYmVmb3JlUHJlYWN0aXZhdGlvbih0LnNuYXBzaG90KSxmdW5jdGlvbigpe3JldHVybiB0fSl9KSx2PWwubWFwLmNhbGwobSxmdW5jdGlvbih0KXt2YXIgZT10LmFwcGxpZWRVcmwsbj10LnNuYXBzaG90O3JldHVybiBkPW5ldyBnbihuLGEuY3VycmVudFJvdXRlclN0YXRlLnNuYXBzaG90LGEuaW5qZWN0b3IpLGQudHJhdmVyc2UoYS5vdXRsZXRNYXApLHthcHBsaWVkVXJsOmUsc25hcHNob3Q6bn19KSxnPXAubWVyZ2VNYXAuY2FsbCh2LGZ1bmN0aW9uKHQpe3ZhciBlPXQuYXBwbGllZFVybCxuPXQuc25hcHNob3Q7cmV0dXJuIGEubmF2aWdhdGlvbklkIT09aT9zLm9mKCExKTpsLm1hcC5jYWxsKGQuY2hlY2tHdWFyZHMoKSxmdW5jdGlvbih0KXtyZXR1cm57YXBwbGllZFVybDplLHNuYXBzaG90Om4sc2hvdWxkQWN0aXZhdGU6dH19KX0pLF89cC5tZXJnZU1hcC5jYWxsKGcsZnVuY3Rpb24odCl7cmV0dXJuIGEubmF2aWdhdGlvbklkIT09aT9zLm9mKCExKTp0LnNob3VsZEFjdGl2YXRlP2wubWFwLmNhbGwoZC5yZXNvbHZlRGF0YSgpLGZ1bmN0aW9uKCl7cmV0dXJuIHR9KTpzLm9mKHQpfSksYj1wLm1lcmdlTWFwLmNhbGwoXyxmdW5jdGlvbih0KXtyZXR1cm4gbC5tYXAuY2FsbChhLmhvb2tzLmFmdGVyUHJlYWN0aXZhdGlvbih0LnNuYXBzaG90KSxmdW5jdGlvbigpe3JldHVybiB0fSl9KSx3PWwubWFwLmNhbGwoYixmdW5jdGlvbih0KXt2YXIgZT10LmFwcGxpZWRVcmwsbj10LnNuYXBzaG90LHI9dC5zaG91bGRBY3RpdmF0ZTtpZihyKXt2YXIgaT1QdChhLnJvdXRlUmV1c2VTdHJhdGVneSxuLGEuY3VycmVudFJvdXRlclN0YXRlKTtyZXR1cm57YXBwbGllZFVybDplLHN0YXRlOmksc2hvdWxkQWN0aXZhdGU6cn19cmV0dXJue2FwcGxpZWRVcmw6ZSxzdGF0ZTpudWxsLHNob3VsZEFjdGl2YXRlOnJ9fSksQz1hLmN1cnJlbnRSb3V0ZXJTdGF0ZSxFPWEuY3VycmVudFVybFRyZWU7dy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPXQuYXBwbGllZFVybCxzPXQuc3RhdGUsdT10LnNob3VsZEFjdGl2YXRlO2lmKCF1fHxpIT09YS5uYXZpZ2F0aW9uSWQpcmV0dXJuIHZvaWQoeT0hMSk7aWYoYS5jdXJyZW50VXJsVHJlZT1vLGEucmF3VXJsVHJlZT1hLnVybEhhbmRsaW5nU3RyYXRlZ3kubWVyZ2UoYS5jdXJyZW50VXJsVHJlZSxlKSxhLmN1cnJlbnRSb3V0ZXJTdGF0ZT1zLCFuKXt2YXIgYz1hLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKGEucmF3VXJsVHJlZSk7YS5sb2NhdGlvbi5pc0N1cnJlbnRQYXRoRXF1YWxUbyhjKXx8cj9hLmxvY2F0aW9uLnJlcGxhY2VTdGF0ZShjKTphLmxvY2F0aW9uLmdvKGMpfW5ldyBfbihhLnJvdXRlUmV1c2VTdHJhdGVneSxzLEMpLmFjdGl2YXRlKGEub3V0bGV0TWFwKSx5PSEwfSkudGhlbihmdW5jdGlvbigpe3k/KGEubmF2aWdhdGVkPSEwLGEucm91dGVyRXZlbnRzLm5leHQobmV3IGxuKGksYS5zZXJpYWxpemVVcmwodCksYS5zZXJpYWxpemVVcmwoYS5jdXJyZW50VXJsVHJlZSkpKSx1KCEwKSk6KGEucmVzZXRVcmxUb0N1cnJlbnRVcmxUcmVlKCksYS5yb3V0ZXJFdmVudHMubmV4dChuZXcgcG4oaSxhLnNlcmlhbGl6ZVVybCh0KSxcIlwiKSksdSghMSkpfSxmdW5jdGlvbihuKXtpZihuIGluc3RhbmNlb2Yga2UpYS5yZXNldFVybFRvQ3VycmVudFVybFRyZWUoKSxhLm5hdmlnYXRlZD0hMCxhLnJvdXRlckV2ZW50cy5uZXh0KG5ldyBwbihpLGEuc2VyaWFsaXplVXJsKHQpLG4ubWVzc2FnZSkpLHUoITEpO2Vsc2V7YS5yb3V0ZXJFdmVudHMubmV4dChuZXcgaG4oaSxhLnNlcmlhbGl6ZVVybCh0KSxuKSk7dHJ5e3UoYS5lcnJvckhhbmRsZXIobikpfWNhdGNoKHQpe2ModCl9fWEuY3VycmVudFJvdXRlclN0YXRlPUMsYS5jdXJyZW50VXJsVHJlZT1FLGEucmF3VXJsVHJlZT1hLnVybEhhbmRsaW5nU3RyYXRlZ3kubWVyZ2UoYS5jdXJyZW50VXJsVHJlZSxlKSxhLmxvY2F0aW9uLnJlcGxhY2VTdGF0ZShhLnNlcmlhbGl6ZVVybChhLnJhd1VybFRyZWUpKX0pfSl9LHQucHJvdG90eXBlLnJlc2V0VXJsVG9DdXJyZW50VXJsVHJlZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudXJsU2VyaWFsaXplci5zZXJpYWxpemUodGhpcy5yYXdVcmxUcmVlKTt0aGlzLmxvY2F0aW9uLnJlcGxhY2VTdGF0ZSh0KX0sdH0oKSxtbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5wYXRoPXR9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJvdXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0fSgpLHZuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuY29tcG9uZW50PXQsdGhpcy5yb3V0ZT1lfXJldHVybiB0fSgpLGduPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5mdXR1cmU9dCx0aGlzLmN1cnI9ZSx0aGlzLmluamVjdG9yPW4sdGhpcy5jaGVja3M9W119cmV0dXJuIHQucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZnV0dXJlLl9yb290LG49dGhpcy5jdXJyP3RoaXMuY3Vyci5fcm9vdDpudWxsO3RoaXMudHJhdmVyc2VDaGlsZFJvdXRlcyhlLG4sdCxbZS52YWx1ZV0pfSx0LnByb3RvdHlwZS5jaGVja0d1YXJkcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09PXRoaXMuY2hlY2tzLmxlbmd0aClyZXR1cm4gcy5vZighMCk7dmFyIGU9by5mcm9tKHRoaXMuY2hlY2tzKSxuPXAubWVyZ2VNYXAuY2FsbChlLGZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBtbilyZXR1cm4gTShvLmZyb20oW3QucnVuQ2FuQWN0aXZhdGVDaGlsZChlLnBhdGgpLHQucnVuQ2FuQWN0aXZhdGUoZS5yb3V0ZSldKSk7aWYoZSBpbnN0YW5jZW9mIHZuKXt2YXIgbj1lO3JldHVybiB0LnJ1bkNhbkRlYWN0aXZhdGUobi5jb21wb25lbnQsbi5yb3V0ZSl9dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGJlIHJlYWNoZWRcIil9KTtyZXR1cm4gdS5ldmVyeS5jYWxsKG4sZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0hMH0pfSx0LnByb3RvdHlwZS5yZXNvbHZlRGF0YT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09PXRoaXMuY2hlY2tzLmxlbmd0aClyZXR1cm4gcy5vZihudWxsKTt2YXIgZT1vLmZyb20odGhpcy5jaGVja3MpLG49YS5jb25jYXRNYXAuY2FsbChlLGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgbW4/dC5ydW5SZXNvbHZlKGUucm91dGUpOnMub2YobnVsbCl9KTtyZXR1cm4gaC5yZWR1Y2UuY2FsbChuLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR9KX0sdC5wcm90b3R5cGUudHJhdmVyc2VDaGlsZFJvdXRlcz1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLG89ZGUoZSk7dC5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe2kudHJhdmVyc2VSb3V0ZXModCxvW3QudmFsdWUub3V0bGV0XSxuLHIuY29uY2F0KFt0LnZhbHVlXSkpLGRlbGV0ZSBvW3QudmFsdWUub3V0bGV0XX0pLFQobyxmdW5jdGlvbih0LGUpe3JldHVybiBpLmRlYWN0aXZlUm91dGVBbmRJdHNDaGlsZHJlbih0LG4uX291dGxldHNbZV0pfSl9LHQucHJvdG90eXBlLnRyYXZlcnNlUm91dGVzPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXQudmFsdWUsbz1lP2UudmFsdWU6bnVsbCxzPW4/bi5fb3V0bGV0c1t0LnZhbHVlLm91dGxldF06bnVsbDtvJiZpLl9yb3V0ZUNvbmZpZz09PW8uX3JvdXRlQ29uZmlnPyh4dChpLG8pPyhpLmRhdGE9by5kYXRhLGkuX3Jlc29sdmVkRGF0YT1vLl9yZXNvbHZlZERhdGEpOnRoaXMuY2hlY2tzLnB1c2gobmV3IHZuKHMuY29tcG9uZW50LG8pLG5ldyBtbihyKSksaS5jb21wb25lbnQ/dGhpcy50cmF2ZXJzZUNoaWxkUm91dGVzKHQsZSxzP3Mub3V0bGV0TWFwOm51bGwscik6dGhpcy50cmF2ZXJzZUNoaWxkUm91dGVzKHQsZSxuLHIpKToobyYmdGhpcy5kZWFjdGl2ZVJvdXRlQW5kSXRzQ2hpbGRyZW4oZSxzKSx0aGlzLmNoZWNrcy5wdXNoKG5ldyBtbihyKSksaS5jb21wb25lbnQ/dGhpcy50cmF2ZXJzZUNoaWxkUm91dGVzKHQsbnVsbCxzP3Mub3V0bGV0TWFwOm51bGwscik6dGhpcy50cmF2ZXJzZUNoaWxkUm91dGVzKHQsbnVsbCxuLHIpKX0sdC5wcm90b3R5cGUuZGVhY3RpdmVSb3V0ZUFuZEl0c0NoaWxkcmVuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPWRlKHQpLGk9dC52YWx1ZTtUKHIsZnVuY3Rpb24odCxyKXtpLmNvbXBvbmVudD9lP24uZGVhY3RpdmVSb3V0ZUFuZEl0c0NoaWxkcmVuKHQsZS5vdXRsZXRNYXAuX291dGxldHNbcl0pOm4uZGVhY3RpdmVSb3V0ZUFuZEl0c0NoaWxkcmVuKHQsbnVsbCk6bi5kZWFjdGl2ZVJvdXRlQW5kSXRzQ2hpbGRyZW4odCxlKX0pLGkuY29tcG9uZW50JiZlJiZlLmlzQWN0aXZhdGVkP3RoaXMuY2hlY2tzLnB1c2gobmV3IHZuKGUuY29tcG9uZW50LGkpKTp0aGlzLmNoZWNrcy5wdXNoKG5ldyB2bihudWxsLGkpKX0sdC5wcm90b3R5cGUucnVuQ2FuQWN0aXZhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQuX3JvdXRlQ29uZmlnP3QuX3JvdXRlQ29uZmlnLmNhbkFjdGl2YXRlOm51bGw7aWYoIW58fDA9PT1uLmxlbmd0aClyZXR1cm4gcy5vZighMCk7dmFyIHI9bC5tYXAuY2FsbChvLmZyb20obiksZnVuY3Rpb24obil7dmFyIHIsaT1lLmdldFRva2VuKG4sdCk7cmV0dXJuIHI9ayhpLmNhbkFjdGl2YXRlP2kuY2FuQWN0aXZhdGUodCxlLmZ1dHVyZSk6aSh0LGUuZnV0dXJlKSksYy5maXJzdC5jYWxsKHIpfSk7cmV0dXJuIE0ocil9LHQucHJvdG90eXBlLnJ1bkNhbkFjdGl2YXRlQ2hpbGQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRbdC5sZW5ndGgtMV0scj10LnNsaWNlKDAsdC5sZW5ndGgtMSkucmV2ZXJzZSgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZS5leHRyYWN0Q2FuQWN0aXZhdGVDaGlsZCh0KX0pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXR9KTtyZXR1cm4gTShsLm1hcC5jYWxsKG8uZnJvbShyKSxmdW5jdGlvbih0KXt2YXIgcj1sLm1hcC5jYWxsKG8uZnJvbSh0Lmd1YXJkcyksZnVuY3Rpb24ocil7dmFyIGksbz1lLmdldFRva2VuKHIsdC5ub2RlKTtyZXR1cm4gaT1rKG8uY2FuQWN0aXZhdGVDaGlsZD9vLmNhbkFjdGl2YXRlQ2hpbGQobixlLmZ1dHVyZSk6byhuLGUuZnV0dXJlKSksYy5maXJzdC5jYWxsKGkpfSk7cmV0dXJuIE0ocil9KSl9LHQucHJvdG90eXBlLmV4dHJhY3RDYW5BY3RpdmF0ZUNoaWxkPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX3JvdXRlQ29uZmlnP3QuX3JvdXRlQ29uZmlnLmNhbkFjdGl2YXRlQ2hpbGQ6bnVsbDtyZXR1cm4gZSYmMCE9PWUubGVuZ3RoP3tub2RlOnQsZ3VhcmRzOmV9Om51bGx9LHQucHJvdG90eXBlLnJ1bkNhbkRlYWN0aXZhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9ZSYmZS5fcm91dGVDb25maWc/ZS5fcm91dGVDb25maWcuY2FuRGVhY3RpdmF0ZTpudWxsO2lmKCFyfHwwPT09ci5sZW5ndGgpcmV0dXJuIHMub2YoITApO3ZhciBpPXAubWVyZ2VNYXAuY2FsbChvLmZyb20ociksZnVuY3Rpb24ocil7dmFyIGksbz1uLmdldFRva2VuKHIsZSk7cmV0dXJuIGk9ayhvLmNhbkRlYWN0aXZhdGU/by5jYW5EZWFjdGl2YXRlKHQsZSxuLmN1cnIpOm8odCxlLG4uY3VycikpLGMuZmlyc3QuY2FsbChpKX0pO3JldHVybiB1LmV2ZXJ5LmNhbGwoaSxmdW5jdGlvbih0KXtyZXR1cm4gdD09PSEwfSl9LHQucHJvdG90eXBlLnJ1blJlc29sdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5fcmVzb2x2ZTtyZXR1cm4gbC5tYXAuY2FsbCh0aGlzLnJlc29sdmVOb2RlKGUsdCksZnVuY3Rpb24oZSl7cmV0dXJuIHQuX3Jlc29sdmVkRGF0YT1lLHQuZGF0YT1PKHQuZGF0YSx3dCh0KS5yZXNvbHZlKSxudWxsfSl9LHQucHJvdG90eXBlLnJlc29sdmVOb2RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gQSh0LGZ1bmN0aW9uKHQscil7dmFyIGk9bi5nZXRUb2tlbihyLGUpO3JldHVybiBrKGkucmVzb2x2ZT9pLnJlc29sdmUoZSxuLmZ1dHVyZSk6aShlLG4uZnV0dXJlKSl9KX0sdC5wcm90b3R5cGUuZ2V0VG9rZW49ZnVuY3Rpb24odCxlKXt2YXIgbj1mZShlKSxyPW4/bi5pbmplY3Rvcjp0aGlzLmluamVjdG9yO3JldHVybiByLmdldCh0KX0sdH0oKSxfbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMucm91dGVSZXVzZVN0cmF0ZWd5PXQsdGhpcy5mdXR1cmVTdGF0ZT1lLHRoaXMuY3VyclN0YXRlPW59cmV0dXJuIHQucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZnV0dXJlU3RhdGUuX3Jvb3Qsbj10aGlzLmN1cnJTdGF0ZT90aGlzLmN1cnJTdGF0ZS5fcm9vdDpudWxsO3RoaXMuZGVhY3RpdmF0ZUNoaWxkUm91dGVzKGUsbix0KSxTdCh0aGlzLmZ1dHVyZVN0YXRlLnJvb3QpLHRoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyhlLG4sdCl9LHQucHJvdG90eXBlLmRlYWN0aXZhdGVDaGlsZFJvdXRlcz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxpPWRlKGUpO3QuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbih0KXtyLmRlYWN0aXZhdGVSb3V0ZXModCxpW3QudmFsdWUub3V0bGV0XSxuKSxkZWxldGUgaVt0LnZhbHVlLm91dGxldF19KSxUKGksZnVuY3Rpb24odCxlKXtyZXR1cm4gci5kZWFjdGl2ZVJvdXRlQW5kSXRzQ2hpbGRyZW4odCxuKX0pfSx0LnByb3RvdHlwZS5hY3RpdmF0ZUNoaWxkUm91dGVzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLGk9ZGUoZSk7dC5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IuYWN0aXZhdGVSb3V0ZXModCxpW3QudmFsdWUub3V0bGV0XSxuKX0pfSx0LnByb3RvdHlwZS5kZWFjdGl2YXRlUm91dGVzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LnZhbHVlLGk9ZT9lLnZhbHVlOm51bGw7aWYocj09PWkpaWYoci5jb21wb25lbnQpe3ZhciBvPXllKG4scik7dGhpcy5kZWFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLG8ub3V0bGV0TWFwKX1lbHNlIHRoaXMuZGVhY3RpdmF0ZUNoaWxkUm91dGVzKHQsZSxuKTtlbHNlIGkmJnRoaXMuZGVhY3RpdmVSb3V0ZUFuZEl0c0NoaWxkcmVuKGUsbil9LHQucHJvdG90eXBlLmFjdGl2YXRlUm91dGVzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LnZhbHVlLGk9ZT9lLnZhbHVlOm51bGw7aWYocj09PWkpaWYoU3Qociksci5jb21wb25lbnQpe3ZhciBvPXllKG4scik7dGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKHQsZSxvLm91dGxldE1hcCl9ZWxzZSB0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLG4pO2Vsc2UgaWYoci5jb21wb25lbnQpe1N0KHIpO3ZhciBvPXllKG4sdC52YWx1ZSk7aWYodGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuc2hvdWxkQXR0YWNoKHIuc25hcHNob3QpKXt2YXIgcz10aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5yZXRyaWV2ZShyLnNuYXBzaG90KTt0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zdG9yZShyLnNuYXBzaG90LG51bGwpLG8uYXR0YWNoKHMuY29tcG9uZW50UmVmLHMucm91dGUudmFsdWUpLHBlKHMucm91dGUpfWVsc2V7dmFyIGE9bmV3IHNuO3RoaXMucGxhY2VDb21wb25lbnRJbnRvT3V0bGV0KGEscixvKSx0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXModCxudWxsLGEpfX1lbHNlIFN0KHIpLHRoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyh0LG51bGwsbil9LHQucHJvdG90eXBlLnBsYWNlQ29tcG9uZW50SW50b091dGxldD1mdW5jdGlvbih0LGUscil7dmFyIGk9W3twcm92aWRlOlplLHVzZVZhbHVlOmV9LHtwcm92aWRlOnNuLHVzZVZhbHVlOnR9XSxvPWhlKGUuc25hcHNob3QpLHM9bnVsbCxhPW51bGw7bz8oYT1vLmluamVjdG9yRmFjdG9yeShyLmxvY2F0aW9uSW5qZWN0b3IpLHM9by5mYWN0b3J5UmVzb2x2ZXIsaS5wdXNoKHtwcm92aWRlOm4uQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLHVzZVZhbHVlOnN9KSk6KGE9ci5sb2NhdGlvbkluamVjdG9yLHM9ci5sb2NhdGlvbkZhY3RvcnlSZXNvbHZlciksci5hY3RpdmF0ZShlLHMsYSxuLlJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKGkpLHQpfSx0LnByb3RvdHlwZS5kZWFjdGl2ZVJvdXRlQW5kSXRzQ2hpbGRyZW49ZnVuY3Rpb24odCxlKXt0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zaG91bGREZXRhY2godC52YWx1ZS5zbmFwc2hvdCk/dGhpcy5kZXRhY2hBbmRTdG9yZVJvdXRlU3VidHJlZSh0LGUpOnRoaXMuZGVhY3RpdmVSb3V0ZUFuZE91dGxldCh0LGUpfSx0LnByb3RvdHlwZS5kZXRhY2hBbmRTdG9yZVJvdXRlU3VidHJlZT1mdW5jdGlvbih0LGUpe3ZhciBuPXllKGUsdC52YWx1ZSkscj1uLmRldGFjaCgpO3RoaXMucm91dGVSZXVzZVN0cmF0ZWd5LnN0b3JlKHQudmFsdWUuc25hcHNob3Qse2NvbXBvbmVudFJlZjpyLHJvdXRlOnR9KX0sdC5wcm90b3R5cGUuZGVhY3RpdmVSb3V0ZUFuZE91dGxldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1kZSh0KSxpPW51bGw7dHJ5e2k9eWUoZSx0LnZhbHVlKX1jYXRjaCh0KXtyZXR1cm59dmFyIG89aS5vdXRsZXRNYXA7VChyLGZ1bmN0aW9uKHIsaSl7dC52YWx1ZS5jb21wb25lbnQ/bi5kZWFjdGl2ZVJvdXRlQW5kSXRzQ2hpbGRyZW4ocixvKTpuLmRlYWN0aXZlUm91dGVBbmRJdHNDaGlsZHJlbihyLGUpfSksaSYmaS5pc0FjdGl2YXRlZCYmaS5kZWFjdGl2YXRlKCl9LHR9KCksYm49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5yb3V0ZXI9dCx0aGlzLnJvdXRlPWUsdGhpcy5jb21tYW5kcz1bXX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicm91dGVyTGlua1wiLHtzZXQ6ZnVuY3Rpb24odCl7bnVsbCE9dD90aGlzLmNvbW1hbmRzPUFycmF5LmlzQXJyYXkodCk/dDpbdF06dGhpcy5jb21tYW5kcz1bXX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5vbkNsaWNrPWZ1bmN0aW9uKCl7dmFyIHQ9e3NraXBMb2NhdGlvbkNoYW5nZTp2ZSh0aGlzLnNraXBMb2NhdGlvbkNoYW5nZSkscmVwbGFjZVVybDp2ZSh0aGlzLnJlcGxhY2VVcmwpfTtyZXR1cm4gdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybCh0aGlzLnVybFRyZWUsdCksITB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInVybFRyZWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm91dGVyLmNyZWF0ZVVybFRyZWUodGhpcy5jb21tYW5kcyx7cmVsYXRpdmVUbzp0aGlzLnJvdXRlLHF1ZXJ5UGFyYW1zOnRoaXMucXVlcnlQYXJhbXMsZnJhZ21lbnQ6dGhpcy5mcmFnbWVudCxwcmVzZXJ2ZVF1ZXJ5UGFyYW1zOnZlKHRoaXMucHJlc2VydmVRdWVyeVBhcmFtcykscHJlc2VydmVGcmFnbWVudDp2ZSh0aGlzLnByZXNlcnZlRnJhZ21lbnQpfSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5kZWNvcmF0b3JzPVt7dHlwZTpuLkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCI6bm90KGEpW3JvdXRlckxpbmtdXCJ9XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6eW59LHt0eXBlOlplfV19LHQucHJvcERlY29yYXRvcnM9e3F1ZXJ5UGFyYW1zOlt7dHlwZTpuLklucHV0fV0sZnJhZ21lbnQ6W3t0eXBlOm4uSW5wdXR9XSxwcmVzZXJ2ZVF1ZXJ5UGFyYW1zOlt7dHlwZTpuLklucHV0fV0scHJlc2VydmVGcmFnbWVudDpbe3R5cGU6bi5JbnB1dH1dLHNraXBMb2NhdGlvbkNoYW5nZTpbe3R5cGU6bi5JbnB1dH1dLHJlcGxhY2VVcmw6W3t0eXBlOm4uSW5wdXR9XSxyb3V0ZXJMaW5rOlt7dHlwZTpuLklucHV0fV0sb25DbGljazpbe3R5cGU6bi5Ib3N0TGlzdGVuZXIsYXJnczpbXCJjbGlja1wiXX1dfSx0fSgpLHduPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dmFyIHI9dGhpczt0aGlzLnJvdXRlcj10LHRoaXMucm91dGU9ZSx0aGlzLmxvY2F0aW9uU3RyYXRlZ3k9bix0aGlzLmNvbW1hbmRzPVtdLHRoaXMuc3Vic2NyaXB0aW9uPXQuZXZlbnRzLnN1YnNjcmliZShmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgbG4mJnIudXBkYXRlVGFyZ2V0VXJsQW5kSHJlZigpfSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJvdXRlckxpbmtcIix7c2V0OmZ1bmN0aW9uKHQpe251bGwhPXQ/dGhpcy5jb21tYW5kcz1BcnJheS5pc0FycmF5KHQpP3Q6W3RdOnRoaXMuY29tbWFuZHM9W119LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubmdPbkNoYW5nZXM9ZnVuY3Rpb24odCl7dGhpcy51cGRhdGVUYXJnZXRVcmxBbmRIcmVmKCl9LHQucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX0sdC5wcm90b3R5cGUub25DbGljaz1mdW5jdGlvbih0LGUsbil7aWYoMCE9PXR8fGV8fG4pcmV0dXJuITA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMudGFyZ2V0JiZcIl9zZWxmXCIhPXRoaXMudGFyZ2V0KXJldHVybiEwO3ZhciByPXtza2lwTG9jYXRpb25DaGFuZ2U6dmUodGhpcy5za2lwTG9jYXRpb25DaGFuZ2UpLHJlcGxhY2VVcmw6dmUodGhpcy5yZXBsYWNlVXJsKX07cmV0dXJuIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwodGhpcy51cmxUcmVlLHIpLCExfSx0LnByb3RvdHlwZS51cGRhdGVUYXJnZXRVcmxBbmRIcmVmPWZ1bmN0aW9uKCl7dGhpcy5ocmVmPXRoaXMubG9jYXRpb25TdHJhdGVneS5wcmVwYXJlRXh0ZXJuYWxVcmwodGhpcy5yb3V0ZXIuc2VyaWFsaXplVXJsKHRoaXMudXJsVHJlZSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ1cmxUcmVlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJvdXRlci5jcmVhdGVVcmxUcmVlKHRoaXMuY29tbWFuZHMse3JlbGF0aXZlVG86dGhpcy5yb3V0ZSxxdWVyeVBhcmFtczp0aGlzLnF1ZXJ5UGFyYW1zLGZyYWdtZW50OnRoaXMuZnJhZ21lbnQscHJlc2VydmVRdWVyeVBhcmFtczp2ZSh0aGlzLnByZXNlcnZlUXVlcnlQYXJhbXMpLHByZXNlcnZlRnJhZ21lbnQ6dmUodGhpcy5wcmVzZXJ2ZUZyYWdtZW50KX0pfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQuZGVjb3JhdG9ycz1be3R5cGU6bi5EaXJlY3RpdmUsYXJnczpbe3NlbGVjdG9yOlwiYVtyb3V0ZXJMaW5rXVwifV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnlufSx7dHlwZTpaZX0se3R5cGU6ZS5Mb2NhdGlvblN0cmF0ZWd5fV19LHQucHJvcERlY29yYXRvcnM9e3RhcmdldDpbe3R5cGU6bi5Ib3N0QmluZGluZyxhcmdzOltcImF0dHIudGFyZ2V0XCJdfSx7dHlwZTpuLklucHV0fV0scXVlcnlQYXJhbXM6W3t0eXBlOm4uSW5wdXR9XSxmcmFnbWVudDpbe3R5cGU6bi5JbnB1dH1dLHByZXNlcnZlUXVlcnlQYXJhbXM6W3t0eXBlOm4uSW5wdXR9XSxwcmVzZXJ2ZUZyYWdtZW50Olt7dHlwZTpuLklucHV0fV0sc2tpcExvY2F0aW9uQ2hhbmdlOlt7dHlwZTpuLklucHV0fV0scmVwbGFjZVVybDpbe3R5cGU6bi5JbnB1dH1dLGhyZWY6W3t0eXBlOm4uSG9zdEJpbmRpbmd9XSxyb3V0ZXJMaW5rOlt7dHlwZTpuLklucHV0fV0sb25DbGljazpbe3R5cGU6bi5Ib3N0TGlzdGVuZXIsYXJnczpbXCJjbGlja1wiLFtcIiRldmVudC5idXR0b25cIixcIiRldmVudC5jdHJsS2V5XCIsXCIkZXZlbnQubWV0YUtleVwiXV19XX0sdH0oKSxDbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dmFyIGk9dGhpczt0aGlzLnJvdXRlcj10LHRoaXMuZWxlbWVudD1lLHRoaXMucmVuZGVyZXI9bix0aGlzLmNkcj1yLHRoaXMuY2xhc3Nlcz1bXSx0aGlzLmFjdGl2ZT0hMSx0aGlzLnJvdXRlckxpbmtBY3RpdmVPcHRpb25zPXtleGFjdDohMX0sdGhpcy5zdWJzY3JpcHRpb249dC5ldmVudHMuc3Vic2NyaWJlKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBsbiYmaS51cGRhdGUoKX0pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc0FjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubmdBZnRlckNvbnRlbnRJbml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmxpbmtzLmNoYW5nZXMuc3Vic2NyaWJlKGZ1bmN0aW9uKGUpe3JldHVybiB0LnVwZGF0ZSgpfSksdGhpcy5saW5rc1dpdGhIcmVmcy5jaGFuZ2VzLnN1YnNjcmliZShmdW5jdGlvbihlKXtyZXR1cm4gdC51cGRhdGUoKX0pLHRoaXMudXBkYXRlKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJvdXRlckxpbmtBY3RpdmVcIix7c2V0OmZ1bmN0aW9uKHQpe3ZhciBlPUFycmF5LmlzQXJyYXkodCk/dDp0LnNwbGl0KFwiIFwiKTt0aGlzLmNsYXNzZXM9ZS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuISF0fSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubmdPbkNoYW5nZXM9ZnVuY3Rpb24odCl7dGhpcy51cGRhdGUoKX0sdC5wcm90b3R5cGUubmdPbkRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMubGlua3MmJnRoaXMubGlua3NXaXRoSHJlZnMmJnRoaXMucm91dGVyLm5hdmlnYXRlZCl7dmFyIGU9dGhpcy5oYXNBY3RpdmVMaW5rcygpO3RoaXMuYWN0aXZlIT09ZSYmKHRoaXMuYWN0aXZlPWUsdGhpcy5jbGFzc2VzLmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIHQucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKHQuZWxlbWVudC5uYXRpdmVFbGVtZW50LG4sZSl9KSx0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCkpfX0sdC5wcm90b3R5cGUuaXNMaW5rQWN0aXZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0LmlzQWN0aXZlKG4udXJsVHJlZSxlLnJvdXRlckxpbmtBY3RpdmVPcHRpb25zLmV4YWN0KX19LHQucHJvdG90eXBlLmhhc0FjdGl2ZUxpbmtzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlua3Muc29tZSh0aGlzLmlzTGlua0FjdGl2ZSh0aGlzLnJvdXRlcikpfHx0aGlzLmxpbmtzV2l0aEhyZWZzLnNvbWUodGhpcy5pc0xpbmtBY3RpdmUodGhpcy5yb3V0ZXIpKX0sdC5kZWNvcmF0b3JzPVt7dHlwZTpuLkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJbcm91dGVyTGlua0FjdGl2ZV1cIixleHBvcnRBczpcInJvdXRlckxpbmtBY3RpdmVcIn1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTp5bn0se3R5cGU6bi5FbGVtZW50UmVmfSx7dHlwZTpuLlJlbmRlcmVyfSx7dHlwZTpuLkNoYW5nZURldGVjdG9yUmVmfV19LHQucHJvcERlY29yYXRvcnM9e2xpbmtzOlt7dHlwZTpuLkNvbnRlbnRDaGlsZHJlbixhcmdzOltibix7ZGVzY2VuZGFudHM6ITB9XX1dLGxpbmtzV2l0aEhyZWZzOlt7dHlwZTpuLkNvbnRlbnRDaGlsZHJlbixhcmdzOlt3bix7ZGVzY2VuZGFudHM6ITB9XX1dLHJvdXRlckxpbmtBY3RpdmVPcHRpb25zOlt7dHlwZTpuLklucHV0fV0scm91dGVyTGlua0FjdGl2ZTpbe3R5cGU6bi5JbnB1dH1dfSx0fSgpLEVuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUscixpKXt0aGlzLnBhcmVudE91dGxldE1hcD10LHRoaXMubG9jYXRpb249ZSx0aGlzLnJlc29sdmVyPXIsdGhpcy5uYW1lPWksdGhpcy5hY3RpdmF0ZUV2ZW50cz1uZXcgbi5FdmVudEVtaXR0ZXIsdGhpcy5kZWFjdGl2YXRlRXZlbnRzPW5ldyBuLkV2ZW50RW1pdHRlcix0LnJlZ2lzdGVyT3V0bGV0KGk/aTpNZSx0aGlzKX1yZXR1cm4gdC5wcm90b3R5cGUubmdPbkRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnBhcmVudE91dGxldE1hcC5yZW1vdmVPdXRsZXQodGhpcy5uYW1lP3RoaXMubmFtZTpNZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImxvY2F0aW9uSW5qZWN0b3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYXRpb24uaW5qZWN0b3J9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibG9jYXRpb25GYWN0b3J5UmVzb2x2ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzb2x2ZXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaXNBY3RpdmF0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmFjdGl2YXRlZH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb21wb25lbnRcIix7Z2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuYWN0aXZhdGVkKXRocm93IG5ldyBFcnJvcihcIk91dGxldCBpcyBub3QgYWN0aXZhdGVkXCIpO3JldHVybiB0aGlzLmFjdGl2YXRlZC5pbnN0YW5jZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJhY3RpdmF0ZWRSb3V0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5hY3RpdmF0ZWQpdGhyb3cgbmV3IEVycm9yKFwiT3V0bGV0IGlzIG5vdCBhY3RpdmF0ZWRcIik7cmV0dXJuIHRoaXMuX2FjdGl2YXRlZFJvdXRlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe2lmKCF0aGlzLmFjdGl2YXRlZCl0aHJvdyBuZXcgRXJyb3IoXCJPdXRsZXQgaXMgbm90IGFjdGl2YXRlZFwiKTt0aGlzLmxvY2F0aW9uLmRldGFjaCgpO3ZhciB0PXRoaXMuYWN0aXZhdGVkO3JldHVybiB0aGlzLmFjdGl2YXRlZD1udWxsLHRoaXMuX2FjdGl2YXRlZFJvdXRlPW51bGwsdH0sdC5wcm90b3R5cGUuYXR0YWNoPWZ1bmN0aW9uKHQsZSl7dGhpcy5hY3RpdmF0ZWQ9dCx0aGlzLl9hY3RpdmF0ZWRSb3V0ZT1lLHRoaXMubG9jYXRpb24uaW5zZXJ0KHQuaG9zdFZpZXcpfSx0LnByb3RvdHlwZS5kZWFjdGl2YXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5hY3RpdmF0ZWQpe3ZhciB0PXRoaXMuY29tcG9uZW50O3RoaXMuYWN0aXZhdGVkLmRlc3Ryb3koKSx0aGlzLmFjdGl2YXRlZD1udWxsLHRoaXMuX2FjdGl2YXRlZFJvdXRlPW51bGwsdGhpcy5kZWFjdGl2YXRlRXZlbnRzLmVtaXQodCl9fSx0LnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbih0LGUscixpLG8pe2lmKHRoaXMuaXNBY3RpdmF0ZWQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGFjdGl2YXRlIGFuIGFscmVhZHkgYWN0aXZhdGVkIG91dGxldFwiKTt0aGlzLm91dGxldE1hcD1vLHRoaXMuX2FjdGl2YXRlZFJvdXRlPXQ7dmFyIHM9dC5fZnV0dXJlU25hcHNob3QsYT1zLl9yb3V0ZUNvbmZpZy5jb21wb25lbnQsdT1lLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KGEpLGM9bi5SZWZsZWN0aXZlSW5qZWN0b3IuZnJvbVJlc29sdmVkUHJvdmlkZXJzKGkscik7dGhpcy5hY3RpdmF0ZWQ9dGhpcy5sb2NhdGlvbi5jcmVhdGVDb21wb25lbnQodSx0aGlzLmxvY2F0aW9uLmxlbmd0aCxjLFtdKSx0aGlzLmFjdGl2YXRlZC5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCksdGhpcy5hY3RpdmF0ZUV2ZW50cy5lbWl0KHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlKX0sdC5kZWNvcmF0b3JzPVt7dHlwZTpuLkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJyb3V0ZXItb3V0bGV0XCJ9XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6c259LHt0eXBlOm4uVmlld0NvbnRhaW5lclJlZn0se3R5cGU6bi5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXJ9LHt0eXBlOnZvaWQgMCxkZWNvcmF0b3JzOlt7dHlwZTpuLkF0dHJpYnV0ZSxhcmdzOltcIm5hbWVcIl19XX1dfSx0LnByb3BEZWNvcmF0b3JzPXthY3RpdmF0ZUV2ZW50czpbe3R5cGU6bi5PdXRwdXQsYXJnczpbXCJhY3RpdmF0ZVwiXX1dLGRlYWN0aXZhdGVFdmVudHM6W3t0eXBlOm4uT3V0cHV0LGFyZ3M6W1wiZGVhY3RpdmF0ZVwiXX1dfSx0fSgpLFNuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuc2hvdWxkRGV0YWNoPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuc3RvcmU9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnNob3VsZEF0dGFjaD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnJldHJpZXZlPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuc2hvdWxkUmV1c2VSb3V0ZT1mdW5jdGlvbih0LGUpe30sdH0oKSx4bj1iLl9fcGxhdGZvcm1fYnJvd3Nlcl9wcml2YXRlX18uZ2V0RE9NLFBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUucHJlbG9hZD1mdW5jdGlvbih0LGUpe30sdH0oKSxPbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnByZWxvYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZC5fY2F0Y2guY2FsbChlKCksZnVuY3Rpb24oKXtyZXR1cm4gcy5vZihudWxsKX0pfSx0fSgpLFRuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUucHJlbG9hZD1mdW5jdGlvbih0LGUpe3JldHVybiBzLm9mKG51bGwpfSx0fSgpLEFuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGkpe3RoaXMucm91dGVyPXQsdGhpcy5pbmplY3Rvcj1yLHRoaXMucHJlbG9hZGluZ1N0cmF0ZWd5PWksdGhpcy5sb2FkZXI9bmV3IE5lKGUsbil9cmV0dXJuIHQucHJvdG90eXBlLnNldFVwUHJlbG9hZGluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT13LmZpbHRlci5jYWxsKHRoaXMucm91dGVyLmV2ZW50cyxmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGxufSk7dGhpcy5zdWJzY3JpcHRpb249YS5jb25jYXRNYXAuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHQucHJlbG9hZCgpfSkuc3Vic2NyaWJlKGZ1bmN0aW9uKHQpe30pfSx0LnByb3RvdHlwZS5wcmVsb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvY2Vzc1JvdXRlcyh0aGlzLmluamVjdG9yLHRoaXMucm91dGVyLmNvbmZpZyl9LHQucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX0sdC5wcm90b3R5cGUucHJvY2Vzc1JvdXRlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxyPTAsaT1lO3I8aS5sZW5ndGg7cisrKXt2YXIgcz1pW3JdO2lmKHMubG9hZENoaWxkcmVuJiYhcy5jYW5Mb2FkJiZzLl9sb2FkZWRDb25maWcpe3ZhciBhPXMuX2xvYWRlZENvbmZpZztuLnB1c2godGhpcy5wcm9jZXNzUm91dGVzKGEuaW5qZWN0b3IsYS5yb3V0ZXMpKX1lbHNlIHMubG9hZENoaWxkcmVuJiYhcy5jYW5Mb2FkP24ucHVzaCh0aGlzLnByZWxvYWRDb25maWcodCxzKSk6cy5jaGlsZHJlbiYmbi5wdXNoKHRoaXMucHJvY2Vzc1JvdXRlcyh0LHMuY2hpbGRyZW4pKX1yZXR1cm4gXy5tZXJnZUFsbC5jYWxsKG8uZnJvbShuKSl9LHQucHJvdG90eXBlLnByZWxvYWRDb25maWc9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLnByZWxvYWRpbmdTdHJhdGVneS5wcmVsb2FkKGUsZnVuY3Rpb24oKXt2YXIgcj1uLmxvYWRlci5sb2FkKHQsZS5sb2FkQ2hpbGRyZW4pO3JldHVybiBwLm1lcmdlTWFwLmNhbGwocixmdW5jdGlvbih0KXt2YXIgcj1lO3JldHVybiByLl9sb2FkZWRDb25maWc9dCxuLnByb2Nlc3NSb3V0ZXModC5pbmplY3Rvcix0LnJvdXRlcyl9KX0pfSx0LmRlY29yYXRvcnM9W3t0eXBlOm4uSW5qZWN0YWJsZX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6eW59LHt0eXBlOm4uTmdNb2R1bGVGYWN0b3J5TG9hZGVyfSx7dHlwZTpuLkNvbXBpbGVyfSx7dHlwZTpuLkluamVjdG9yfSx7dHlwZTpQbn1dfSx0fSgpLE1uPVtFbixibix3bixDbl0sa249bmV3IG4uT3BhcXVlVG9rZW4oXCJST1VURVJfQ09ORklHVVJBVElPTlwiKSxSbj1uZXcgbi5PcGFxdWVUb2tlbihcIlJPVVRFUl9GT1JST09UX0dVQVJEXCIpLEluPVtlLkxvY2F0aW9uLHtwcm92aWRlOkxlLHVzZUNsYXNzOkZlfSx7cHJvdmlkZTp5bix1c2VGYWN0b3J5OkNlLGRlcHM6W24uQXBwbGljYXRpb25SZWYsTGUsc24sZS5Mb2NhdGlvbixuLkluamVjdG9yLG4uTmdNb2R1bGVGYWN0b3J5TG9hZGVyLG4uQ29tcGlsZXIsUmUsa24sW2FuLG5ldyBuLk9wdGlvbmFsXSxbU24sbmV3IG4uT3B0aW9uYWxdXX0sc24se3Byb3ZpZGU6WmUsdXNlRmFjdG9yeTpFZSxkZXBzOlt5bl19LHtwcm92aWRlOm4uTmdNb2R1bGVGYWN0b3J5TG9hZGVyLHVzZUNsYXNzOm4uU3lzdGVtSnNOZ01vZHVsZUxvYWRlcn0sQW4sVG4sT24se3Byb3ZpZGU6a24sdXNlVmFsdWU6e2VuYWJsZVRyYWNpbmc6ITF9fV0sTm49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe31yZXR1cm4gdC5mb3JSb290PWZ1bmN0aW9uKHIsaSl7cmV0dXJue25nTW9kdWxlOnQscHJvdmlkZXJzOltJbix3ZShyKSx7cHJvdmlkZTpSbix1c2VGYWN0b3J5OmJlLGRlcHM6W1t5bixuZXcgbi5PcHRpb25hbCxuZXcgbi5Ta2lwU2VsZl1dfSx7cHJvdmlkZTprbix1c2VWYWx1ZTppP2k6e319LHtwcm92aWRlOmUuTG9jYXRpb25TdHJhdGVneSx1c2VGYWN0b3J5Ol9lLGRlcHM6W2UuUGxhdGZvcm1Mb2NhdGlvbixbbmV3IG4uSW5qZWN0KGUuQVBQX0JBU0VfSFJFRiksbmV3IG4uT3B0aW9uYWxdLGtuXX0se3Byb3ZpZGU6UG4sdXNlRXhpc3Rpbmc6aSYmaS5wcmVsb2FkaW5nU3RyYXRlZ3k/aS5wcmVsb2FkaW5nU3RyYXRlZ3k6VG59LHtwcm92aWRlOm4uTmdQcm9iZVRva2VuLG11bHRpOiEwLHVzZUZhY3Rvcnk6Z2V9LFBlKCldfX0sdC5mb3JDaGlsZD1mdW5jdGlvbihlKXtyZXR1cm57bmdNb2R1bGU6dCxwcm92aWRlcnM6W3dlKGUpXX19LHQuZGVjb3JhdG9ycz1be3R5cGU6bi5OZ01vZHVsZSxhcmdzOlt7ZGVjbGFyYXRpb25zOk1uLGV4cG9ydHM6TW59XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6dm9pZCAwLGRlY29yYXRvcnM6W3t0eXBlOm4uT3B0aW9uYWx9LHt0eXBlOm4uSW5qZWN0LGFyZ3M6W1JuXX1dfV19LHR9KCksRG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuaW5qZWN0b3I9dCx0aGlzLnJlc3VsdE9mUHJlYWN0aXZhdGlvbkRvbmU9bmV3IGkuU3ViamVjdH1yZXR1cm4gdC5wcm90b3R5cGUuYXBwSW5pdGlhbGl6ZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49dGhpcy5pbmplY3Rvci5nZXQoZS5MT0NBVElPTl9JTklUSUFMSVpFRCxQcm9taXNlLnJlc29sdmUobnVsbCkpO3JldHVybiBuLnRoZW4oZnVuY3Rpb24oKXt2YXIgZT1udWxsLG49bmV3IFByb21pc2UoZnVuY3Rpb24odCl7cmV0dXJuIGU9dH0pLHI9dC5pbmplY3Rvci5nZXQoeW4pLGk9dC5pbmplY3Rvci5nZXQoa24pO3JldHVybiBpLmluaXRpYWxOYXZpZ2F0aW9uPT09ITE/ci5zZXRVcExvY2F0aW9uQ2hhbmdlTGlzdGVuZXIoKTooci5ob29rcy5hZnRlclByZWFjdGl2YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdC5pbml0TmF2aWdhdGlvbj9zLm9mKG51bGwpOih0LmluaXROYXZpZ2F0aW9uPSEwLGUoITApLHQucmVzdWx0T2ZQcmVhY3RpdmF0aW9uRG9uZSl9LHIuaW5pdGlhbE5hdmlnYXRpb24oKSksbn0pfSx0LnByb3RvdHlwZS5ib290c3RyYXBMaXN0ZW5lcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmluamVjdG9yLmdldChuLkFwcGxpY2F0aW9uUmVmKTtpZih0PT09ZS5jb21wb25lbnRzWzBdKXt2YXIgcj10aGlzLmluamVjdG9yLmdldChBbik7ci5zZXRVcFByZWxvYWRpbmcoKTt2YXIgaT10aGlzLmluamVjdG9yLmdldCh5bik7aS5yZXNldFJvb3RDb21wb25lbnRUeXBlKGUuY29tcG9uZW50VHlwZXNbMF0pLHRoaXMucmVzdWx0T2ZQcmVhY3RpdmF0aW9uRG9uZS5uZXh0KG51bGwpLHRoaXMucmVzdWx0T2ZQcmVhY3RpdmF0aW9uRG9uZS5jb21wbGV0ZSgpfX0sdC5kZWNvcmF0b3JzPVt7dHlwZTpuLkluamVjdGFibGV9XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOm4uSW5qZWN0b3J9XX0sdH0oKSxqbj1uZXcgbi5PcGFxdWVUb2tlbihcIlJvdXRlciBJbml0aWFsaXplclwiKSxWbj1uZXcgbi5WZXJzaW9uKFwiMy40LjhcIiksTG49e1JPVVRFUl9QUk9WSURFUlM6SW4sUk9VVEVTOlJlLGZsYXR0ZW46eH07dC5Sb3V0ZXJMaW5rPWJuLHQuUm91dGVyTGlua1dpdGhIcmVmPXduLHQuUm91dGVyTGlua0FjdGl2ZT1Dbix0LlJvdXRlck91dGxldD1Fbix0LlJvdXRlUmV1c2VTdHJhdGVneT1Tbix0Lk5hdmlnYXRpb25DYW5jZWw9cG4sdC5OYXZpZ2F0aW9uRW5kPWxuLHQuTmF2aWdhdGlvbkVycm9yPWhuLHQuTmF2aWdhdGlvblN0YXJ0PWNuLHQuUm91dGVyPXluLHQuUm91dGVzUmVjb2duaXplZD1mbix0LlJPVVRFUl9DT05GSUdVUkFUSU9OPWtuLHQuUk9VVEVSX0lOSVRJQUxJWkVSPWpuLHQuUm91dGVyTW9kdWxlPU5uLHQucHJvdmlkZVJvdXRlcz13ZSx0LlJvdXRlck91dGxldE1hcD1zbix0Lk5vUHJlbG9hZGluZz1Ubix0LlByZWxvYWRBbGxNb2R1bGVzPU9uLHQuUHJlbG9hZGluZ1N0cmF0ZWd5PVBuLHQuUm91dGVyUHJlbG9hZGVyPUFuLHQuQWN0aXZhdGVkUm91dGU9WmUsdC5BY3RpdmF0ZWRSb3V0ZVNuYXBzaG90PUplLHQuUm91dGVyU3RhdGU9S2UsdC5Sb3V0ZXJTdGF0ZVNuYXBzaG90PXRuLHQuUFJJTUFSWV9PVVRMRVQ9TWUsdC5VcmxIYW5kbGluZ1N0cmF0ZWd5PWFuLHQuRGVmYXVsdFVybFNlcmlhbGl6ZXI9RmUsdC5VcmxTZWdtZW50PVZlLHQuVXJsU2VnbWVudEdyb3VwPWplLHQuVXJsU2VyaWFsaXplcj1MZSx0LlVybFRyZWU9RGUsdC5WRVJTSU9OPVZuLHQuX19yb3V0ZXJfcHJpdmF0ZV9fPUxufSksdC5yZWdpc3RlckR5bmFtaWMoXCIzZFwiLFtcImNcIixcIjNlXCIsXCIzZlwiLFwiMzhcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLGUmJmUuX19kZWNvcmF0ZXx8ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6cjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4scik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkoaT10W2FdKSYmKHM9KG88Mz9pKHMpOm8+Mz9pKGUsbixzKTppKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9KSxpPWUmJmUuX19tZXRhZGF0YXx8ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGUpfSxvPXQoXCJjXCIpLHM9dChcIjNlXCIpLGE9dChcIjNmXCIpLHU9dChcIjM4XCIpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fcGFyZW50Um91dGVyPXQsdGhpcy5fYXV0aHNlcnZpY2U9ZSx0aGlzLk9UUD0hMSx0aGlzLm1vZGVsPVtdLHRoaXMudXBkYXRlbW9kZWw9W10sdGhpcy5sYXN0PSExLHRoaXMub25lYnRuVGV4dD1cIk5leHRcIix0aGlzLmlzbG9hZGluZz0hMX1yZXR1cm4gdC5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnVzZXJSZWdpc3Rlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMub25lYnRuVGV4dD1cIkxvYWRpbmcuLi5cIix0aGlzLmlzbG9hZGluZz0hMCx0aGlzLl9hdXRoc2VydmljZS5SZWdpc3Rlcih0KS5zdWJzY3JpYmUoZnVuY3Rpb24obil7MD09bi5zdGF0dXM/KGUuaXNsb2FkaW5nPSExLGUub25lYnRuVGV4dD1cIk5leHRcIixlLnVwZGF0ZW1vZGVsPXQsZS5PVFA9ITAsYS50b2FzdChcIk9UUCBzZW50IHRvIFwiK3QucGhvbmUrXCIgLlwiLDNlMykpOjA9PW4uc3RhdHVzPyhlLm9uZWJ0blRleHQ9XCJOZXh0XCIsYS50b2FzdChcIlBsZWFzZSBjaGVjayBhbGwgZmllbGRzXCIsM2UzKSk6KGUub25lYnRuVGV4dD1cIk5leHRcIixhLnRvYXN0KG4uZXJyb3JzWzBdLmRlc2NyaXB0aW9uKSxlLmlzbG9hZGluZz0hMSl9LGZ1bmN0aW9uKHQpe1wiNDAxXCI9PT10PyhlLmhhbmRsZUVycm9yKHQpLGUub25lYnRuVGV4dD1cIk5leHRcIik6YS50b2FzdCh0LmVycm9yc1swXS5kZXNjcmlwdGlvbiksZS5pc2xvYWRpbmc9ITEsZS5vbmVidG5UZXh0PVwiTmV4dFwifSl9LHQucHJvdG90eXBlLnB1dFVzZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmlzbG9hZGluZz0hMCx0aGlzLl9hdXRoc2VydmljZS5wdXRVc2VyKHQpLnN1YnNjcmliZShmdW5jdGlvbih0KXswPT10LnN0YXR1cz8oYS50b2FzdChcIlN1Y2Nlc3VsbHkgUmVnaXN0ZXJkLi4uXCIsM2UzKSxlLmxhc3Q9ITAsZS5pc2xvYWRpbmc9ITEpOihhLnRvYXN0KHQubWVzc2FnZSwzZTMpLGUuaXNsb2FkaW5nPSExKX0sZnVuY3Rpb24odCl7YS50b2FzdCh0LDNlMyksZS5pc2xvYWRpbmc9ITF9KX0sdC5wcm90b3R5cGUuc2VuZE9UUD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0JiZ2b2lkIDAhPT10LnBob25lPyh0aGlzLmlzbG9hZGluZz0hMCx2b2lkIHRoaXMuX2F1dGhzZXJ2aWNlLnNlbmRvdHAodCkuc3Vic2NyaWJlKGZ1bmN0aW9uKHQpezA9PXQuc3RhdHVzPyhhLnRvYXN0KFwiT1RQIFNlbnQgQ2hlY2sgeW91ciBJbmJveFwiLDMwMCksZS5pc2xvYWRpbmc9ITEpOihhLnRvYXN0KHQubWVzc2FnZSwzMDApLGUuaXNsb2FkaW5nPSExKX0sZnVuY3Rpb24odCl7YS50b2FzdCh0LDMwMCksZS5pc2xvYWRpbmc9ITF9KSk6KGEudG9hc3QoXCJFbnRlciB5b3VyIG51bWJlclwiLDMwMCksITEpfSx0LnByb3RvdHlwZS5pc09UUD1mdW5jdGlvbigpe3RoaXMuT1RQPSExfSx0LnByb3RvdHlwZS5oYW5kbGVFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO1wiNDAxXCI9PXQ/dGhpcy5fYXV0aHNlcnZpY2UucmVmcmVzaExvZ2luKCkuc3Vic2NyaWJlKGZ1bmN0aW9uKHQpe2xvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYXV0aF9rZXlcIix0LmFjY2Vzc190b2tlbiksbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJyZWZyZXNoX2tleVwiLHQucmVmcmVzaF90b2tlbiksZS5pc2xvYWRpbmc9ITEsZS5fcGFyZW50Um91dGVyLm5hdmlnYXRlKFtcIi9cIl0pfSxmdW5jdGlvbih0KXthLnRvYXN0KHQuZXJyb3IpLGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiYXV0aF9rZXlcIiksbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJyZWZyZXNoX2tleVwiKSxlLl9wYXJlbnRSb3V0ZXIubmF2aWdhdGUoW1wiL1wiXSksZS5pc2xvYWRpbmc9ITF9KTooYS50b2FzdCh0LmVycm9yKSx0aGlzLmlzbG9hZGluZz0hMSl9LHQ9cihbby5Db21wb25lbnQoe3NlbGVjdG9yOlwicmVnaXN0cmF0aW9uXCIsdGVtcGxhdGVVcmw6XCIuL2FwcC9hY2NvdW50L3JlZ2lzdHJhdGlvbi9yZWdpc3RyYXRpb24uaHRtbFwiLGFuaW1hdGlvbnM6W28udHJpZ2dlcihcImNhcmRhdXRoXCIsW28uc3RhdGUoXCIqXCIsby5zdHlsZSh7XCItbXMtdHJhbnNmb3JtXCI6XCJ0cmFuc2xhdGUzRCgwcHgsIDBweCwgMHB4KVwiLFwiLXdlYmtpdC10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNEKDBweCwgMHB4LCAwcHgpXCIsXCItbW96LXRyYW5zZm9ybVwiOlwidHJhbnNsYXRlM0QoMHB4LCAwcHgsIDBweClcIixcIi1vLXRyYW5zZm9ybVwiOlwidHJhbnNsYXRlM0QoMHB4LCAwcHgsIDBweClcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzRCgwcHgsIDBweCwgMHB4KVwiLG9wYWNpdHk6MX0pKSxvLnRyYW5zaXRpb24oXCJ2b2lkID0+ICpcIixbby5zdHlsZSh7b3BhY2l0eTowLFwiLW1zLXRyYW5zZm9ybVwiOlwidHJhbnNsYXRlM0QoMHB4LCAxNTBweCwgMHB4KVwiLFwiLXdlYmtpdC10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNEKDBweCwgMTUwcHgsIDBweClcIixcIi1tb3otdHJhbnNmb3JtXCI6XCJ0cmFuc2xhdGUzRCgwcHgsIDE1MHB4LCAwcHgpXCIsXCItby10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNEKDBweCwgMTUwcHgsIDBweClcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzRCgwcHgsIDE1MHB4LCAwcHgpXCJ9KSxvLmFuaW1hdGUoXCIwLjNzIDBzIGVhc2Utb3V0XCIpXSldKV19KSxpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbdS5Sb3V0ZXIscy5hdXRoc2VydmljZV0pXSx0KX0oKTtlLnJlZ2lzdHJhdGlvbj1jfSksdC5yZWdpc3RlckR5bmFtaWMoXCI0MFwiLFtcImNcIixcIjM5XCIsXCIzOFwiLFwiMTFcIixcIjEyXCIsXCIxM1wiLFwiMTRcIixcIjQxXCIsXCJlXCIsXCIxOVwiLFwiM2RcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLGUmJmUuX19kZWNvcmF0ZXx8ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6cjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4scik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkoaT10W2FdKSYmKHM9KG88Mz9pKHMpOm8+Mz9pKGUsbixzKTppKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9KSxpPWUmJmUuX19tZXRhZGF0YXx8ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGUpfSxvPXQoXCJjXCIpLHM9dChcIjM5XCIpLGE9dChcIjM4XCIpLHU9dChcIjExXCIpLGM9dChcIjEyXCIpLGw9dChcIjEzXCIpLHA9dChcIjE0XCIpLGg9dChcIjQxXCIpLGY9dChcImVcIiksZD10KFwiMTlcIikseT10KFwiM2RcIiksbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQ9cihbby5OZ01vZHVsZSh7aW1wb3J0czpbZi5Ccm93c2VyTW9kdWxlLHAuRm9ybXNNb2R1bGUsaC5IdHRwTW9kdWxlLGEuUm91dGVyTW9kdWxlLHMuQ29tbW9uTW9kdWxlXSxkZWNsYXJhdGlvbnM6W3UuaGVhZGVyLGMuZm9vdGVyLGwubG9hZGVyLGQuSW1hZ2VNb2R1bGVdLGV4cG9ydHM6W3UuaGVhZGVyLGMuZm9vdGVyLGwubG9hZGVyXX0pLGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sdCl9KCk7ZS5TaGFyZWRNb2R1bGU9bSxlLk1PRFVMRV9ST1VURVM9W3twYXRoOlwiXCIscGF0aE1hdGNoOlwiZnVsbFwiLGNvbXBvbmVudDp5LnJlZ2lzdHJhdGlvbn1dLGUucm91dGluZz1hLlJvdXRlck1vZHVsZS5mb3JSb290KGUuTU9EVUxFX1JPVVRFUyl9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjQyXCIsW1wiY1wiLFwiMzlcIixcIjM4XCIsXCIzZFwiLFwiMTRcIixcIjQxXCIsXCJlXCIsXCI0MFwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsZSYmZS5fX2RlY29yYXRlfHxmdW5jdGlvbih0LGUsbixyKXt2YXIgaSxvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/ZTpudWxsPT09cj9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTpyO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsbixyKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShpPXRbYV0pJiYocz0obzwzP2kocyk6bz4zP2koZSxuLHMpOmkoZSxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4scyksc30pLGk9ZSYmZS5fX21ldGFkYXRhfHxmdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKHQsZSl9LG89dChcImNcIikscz10KFwiMzlcIiksYT10KFwiMzhcIiksdT10KFwiM2RcIiksYz10KFwiMTRcIiksbD10KFwiNDFcIikscD10KFwiZVwiKSxoPXQoXCI0MFwiKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdD1yKFtvLk5nTW9kdWxlKHtpbXBvcnRzOltwLkJyb3dzZXJNb2R1bGUsYy5Gb3Jtc01vZHVsZSxsLkh0dHBNb2R1bGUsaC5TaGFyZWRNb2R1bGUsYS5Sb3V0ZXJNb2R1bGUscy5Db21tb25Nb2R1bGVdLGRlY2xhcmF0aW9uczpbdS5yZWdpc3RyYXRpb25dLGV4cG9ydHM6W3UucmVnaXN0cmF0aW9uXX0pLGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sdCl9KCk7ZS5BY2NvdW50TW9kdWxlPWZ9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjQzXCIsW10sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4pe3ZvaWQgMD09PWUmJihlPXZvaWQgMCksdm9pZCAwPT09biYmKG49e2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pO3ZhciByPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7cmV0dXJuIHIuaW5pdEN1c3RvbUV2ZW50KHQsbi5idWJibGVzLG4uY2FuY2VsYWJsZSxlKSxyfXRoaXN8fHNlbGY7ZS5DdXN0b21FdmVudD1yLFwiRXZlbnRcImluIHdpbmRvdyYmKHIucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpfSksdC5yZWdpc3RlckR5bmFtaWMoXCI0NFwiLFtcImNcIixcIjQzXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZixlJiZlLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSksaT1lJiZlLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sbz10KFwiY1wiKSxzPXQoXCI0M1wiKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9lbD10LHRoaXMuX3BhcmFtcz1udWxsLHRoaXMuX2Z1bmN0aW9uTmFtZT1udWxsLHRoaXMucHJldmlvdXNWYWx1ZT1udWxsLHRoaXMuX3dhaXRGdW5jdGlvbj17fSx0aGlzLmNoYW5nZUxpc3RlbmVyU2hvdWxkQmVBZGRlZD0hMCx0aGlzLmluaXQ9bmV3IG8uRXZlbnRFbWl0dGVyLHRoaXMuaW5pdGlhbGl6ZWQ9ITF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm1hdGVyaWFsaXplUGFyYW1zXCIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9wYXJhbXM9dCx0aGlzLnBlcmZvcm1FbGVtZW50VXBkYXRlcygpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm1hdGVyaWFsaXplQWN0aW9uc1wiLHtzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0LnN1YnNjcmliZShmdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdD9lLnBlcmZvcm1Mb2NhbEVsZW1lbnRVcGRhdGVzKHQpOmUucGVyZm9ybUxvY2FsRWxlbWVudFVwZGF0ZXModC5hY3Rpb24sdC5wYXJhbXMpfSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibWF0ZXJpYWxpemVcIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Z1bmN0aW9uTmFtZT10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm1hdGVyaWFsaXplU2VsZWN0T3B0aW9uc1wiLHtzZXQ6ZnVuY3Rpb24odCl7fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdD1mdW5jdGlvbigpe3RoaXMucGVyZm9ybUVsZW1lbnRVcGRhdGVzKCl9LHQucHJvdG90eXBlLm5nT25DaGFuZ2VzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5pc1NlbGVjdCgpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUucGVyZm9ybUxvY2FsRWxlbWVudFVwZGF0ZXMoKX0sMTApfSx0LnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMucGVyZm9ybUVsZW1lbnRSZW1vdGlvbigpfSx0LnByb3RvdHlwZS5uZ0RvQ2hlY2s9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9lbC5uYXRpdmVFbGVtZW50LGU9JCh0KTtyZXR1cm4gdGhpcy5pc1NlbGVjdCgpJiYhZS5hdHRyKFwibXVsdGlwbGVcIikmJnQudmFsdWUhPXRoaXMucHJldmlvdXNWYWx1ZT8odGhpcy5wcmV2aW91c1ZhbHVlPXQudmFsdWUsdGhpcy5wZXJmb3JtTG9jYWxFbGVtZW50VXBkYXRlcygpKTp0aGlzLmlzVGV4dGFyZWEoKSYmdC52YWx1ZSE9dGhpcy5wcmV2aW91c1ZhbHVlJiYodGhpcy5wcmV2aW91c1ZhbHVlPXQudmFsdWUsdGhpcy5wZXJmb3JtRWxlbWVudFVwZGF0ZXMoKSksITF9LHQucHJvdG90eXBlLnBlcmZvcm1FbGVtZW50UmVtb3Rpb249ZnVuY3Rpb24oKXtpZih0aGlzLmlzVG9vbHRpcCgpKXt2YXIgdD10aGlzLl9lbC5uYXRpdmVFbGVtZW50LGU9JCh0KSxuPWUuYXR0cihcImRhdGEtdG9vbHRpcC1pZFwiKTtuJiYkKFwiI1wiK24pLnJlbW92ZSgpfX0sdC5wcm90b3R5cGUucGVyZm9ybUVsZW1lbnRVcGRhdGVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZihNYXRlcmlhbGl6ZSYmTWF0ZXJpYWxpemUudXBkYXRlVGV4dEZpZWxkcyYmTWF0ZXJpYWxpemUudXBkYXRlVGV4dEZpZWxkcygpLHRoaXMuaXNTZWxlY3QoKSYmdGhpcy5jaGFuZ2VMaXN0ZW5lclNob3VsZEJlQWRkZWQpe3ZhciBlPXRoaXMuX2VsLm5hdGl2ZUVsZW1lbnQsbj0kKGUpO24ub24oXCJjaGFuZ2VcIixmdW5jdGlvbih0KXtpZighdC5vcmlnaW5hbEV2ZW50fHwhdC5vcmlnaW5hbEV2ZW50LmludGVybmFsVG9NYXRlcmlhbGl6ZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtuLmluaXRDdXN0b21FdmVudChcImNoYW5nZVwiLCExLCExLHZvaWQgMCksbi5pbnRlcm5hbFRvTWF0ZXJpYWxpemU9ITAsZS5kaXNwYXRjaEV2ZW50KG4pfX0pLHRoaXMuY2hhbmdlTGlzdGVuZXJTaG91bGRCZUFkZGVkPSExfWlmKHRoaXMuaXNBdXRvY29tcGxldGUoKSl7dmFyIHI9dGhpcy5fZWwubmF0aXZlRWxlbWVudCxuPSQocik7bi5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKHQpe3JldHVybiByLmRpc3BhdGNoRXZlbnQocy5DdXN0b21FdmVudChcImlucHV0XCIpKX0pfWlmKHRoaXMuaXNEYXRlUGlja2VyKCkpe3ZhciBpPXRoaXMuX2VsLm5hdGl2ZUVsZW1lbnQsbz0kKGkpO3RoaXMuZW5hYmxlRFBCdXR0b25zO28ub24oXCJjaGFuZ2VcIixmdW5jdGlvbih0KXtyZXR1cm4gaS5kaXNwYXRjaEV2ZW50KHMuQ3VzdG9tRXZlbnQoXCJpbnB1dFwiKSl9KTt2YXIgYT1vW3RoaXMuX2Z1bmN0aW9uTmFtZV0uYXBwbHkobyx0aGlzLl9wYXJhbXMpLHU9YS5waWNrYWRhdGUoXCJwaWNrZXJcIik7by5tb3VzZWRvd24oZnVuY3Rpb24oKXtyZXR1cm4gdS5zZXQuYXBwbHkodSxbXCJzZWxlY3RcIixvLnZhbCgpXS5jb25jYXQodC5fcGFyYW1zKSl9KX1pZih0aGlzLmlzVGltZVBpY2tlcigpKXt2YXIgYz10aGlzLl9lbC5uYXRpdmVFbGVtZW50LG49JChjKTtuLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24odCl7cmV0dXJuIGMuZGlzcGF0Y2hFdmVudChzLkN1c3RvbUV2ZW50KFwiaW5wdXRcIikpfSl9aWYodGhpcy5pc0NoaXBzKCkpe3ZhciBsPXRoaXMuX2VsLm5hdGl2ZUVsZW1lbnQsbj0kKGwpO24ub24oXCJjaGlwLmFkZFwiLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGwuZGlzcGF0Y2hFdmVudChzLkN1c3RvbUV2ZW50KFwiY2hpcC5hZGRcIixlKSl9KSxuLm9uKFwiY2hpcC5kZWxldGVcIixmdW5jdGlvbih0LGUpe3JldHVybiBsLmRpc3BhdGNoRXZlbnQocy5DdXN0b21FdmVudChcImNoaXAuZGVsZXRlXCIsZSkpfSksbi5vbihcImNoaXAuc2VsZWN0XCIsZnVuY3Rpb24odCxlKXtyZXR1cm4gbC5kaXNwYXRjaEV2ZW50KHMuQ3VzdG9tRXZlbnQoXCJjaGlwLnNlbGVjdFwiLGUpKX0pfXRoaXMuaXNUZXh0YXJlYSgpJiZ0aGlzLl9lbC5uYXRpdmVFbGVtZW50LmRpc3BhdGNoRXZlbnQocy5DdXN0b21FdmVudChcImF1dG9yZXNpemVcIix7YnViYmxlczohMCxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9KSksdGhpcy5wZXJmb3JtTG9jYWxFbGVtZW50VXBkYXRlcygpfSx0LnByb3RvdHlwZS5wZXJmb3JtTG9jYWxFbGVtZW50VXBkYXRlcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dm9pZCAwPT09dCYmKHQ9dGhpcy5fZnVuY3Rpb25OYW1lKSx2b2lkIDA9PT1lJiYoZT10aGlzLl9wYXJhbXMpLHRoaXMuX3dhaXRGdW5jdGlvblt0XXx8KHRoaXMuX3dhaXRGdW5jdGlvblt0XT0hMCwkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe2lmKG4uX3dhaXRGdW5jdGlvblt0XT0hMSx0KXt2YXIgcj0kKG4uX2VsLm5hdGl2ZUVsZW1lbnQpO2lmKHJbdF0paWYoZSl7aWYoIShlIGluc3RhbmNlb2YgQXJyYXkpKXRocm93IG5ldyBFcnJvcihcIlBhcmFtcyBoYXMgdG8gYmUgYW4gYXJyYXkuXCIpO3JbdF0uYXBwbHkocixlKX1lbHNlIHJbdF0oKTtlbHNle2lmKCFNYXRlcmlhbGl6ZVt0XSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIG1hdGVyaWFsaXplIGZ1bmN0aW9uICcnXCIrdCtcIicgb24gZWxlbWVudCBvciB0aGUgZ2xvYmFsIE1hdGVyaWFsaXplIG9iamVjdC5cIik7aWYoZSl7aWYoIShlIGluc3RhbmNlb2YgQXJyYXkpKXRocm93IG5ldyBFcnJvcihcIlBhcmFtcyBoYXMgdG8gYmUgYW4gYXJyYXkuXCIpO01hdGVyaWFsaXplW3RdLmFwcGx5KE1hdGVyaWFsaXplLGUpfWVsc2UgTWF0ZXJpYWxpemVbdF0oKX1uLmluaXRpYWxpemVkfHwobi5pbml0aWFsaXplZD0hMCxuLmluaXQuZW1pdCgpKX19KSl9LHQucHJvdG90eXBlLmlzVG9vbHRpcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdW5jdGlvbk5hbWUmJlwidG9vbHRpcFwiPT09dGhpcy5fZnVuY3Rpb25OYW1lfSx0LnByb3RvdHlwZS5pc1NlbGVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdW5jdGlvbk5hbWUmJlwibWF0ZXJpYWxfc2VsZWN0XCI9PT10aGlzLl9mdW5jdGlvbk5hbWV9LHQucHJvdG90eXBlLmlzRGF0ZVBpY2tlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdW5jdGlvbk5hbWUmJlwicGlja2FkYXRlXCI9PT10aGlzLl9mdW5jdGlvbk5hbWV9LHQucHJvdG90eXBlLmlzVGltZVBpY2tlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdW5jdGlvbk5hbWUmJlwicGlja2F0aW1lXCI9PT10aGlzLl9mdW5jdGlvbk5hbWV9LHQucHJvdG90eXBlLmlzQ2hpcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnVuY3Rpb25OYW1lJiZcIm1hdGVyaWFsX2NoaXBcIj09PXRoaXMuX2Z1bmN0aW9uTmFtZX0sdC5wcm90b3R5cGUuaXNBdXRvY29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnVuY3Rpb25OYW1lJiZcImF1dG9jb21wbGV0ZVwiPT09dGhpcy5fZnVuY3Rpb25OYW1lfSx0LnByb3RvdHlwZS5pc1RleHRhcmVhPWZ1bmN0aW9uKCl7cmV0dXJuXCJURVhUQVJFQVwiPT10aGlzLl9lbC5uYXRpdmVFbGVtZW50Lm5vZGVOYW1lfSx0LnByb3RvdHlwZS5lbmFibGVEUEJ1dHRvbnM9ZnVuY3Rpb24oKXskKFwiLnBpY2tlcl9fY2xlYXJcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpLCQoXCIucGlja2VyX190b2RheVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIiksJChcIi5waWNrZXJfX2Nsb3NlXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKSwkKFwiLnBpY2tlcl9fc2VsZWN0LS15ZWFyXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKSwkKFwiLnBpY2tlcl9fc2VsZWN0LS1tb250aFwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIil9LHR9KCk7cihbby5PdXRwdXQoKSxpKFwiZGVzaWduOnR5cGVcIixPYmplY3QpXSxhLnByb3RvdHlwZSxcImluaXRcIix2b2lkIDApLHIoW28uSW5wdXQoKSxpKFwiZGVzaWduOnR5cGVcIixPYmplY3QpLGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sYS5wcm90b3R5cGUsXCJtYXRlcmlhbGl6ZVBhcmFtc1wiLG51bGwpLHIoW28uSW5wdXQoKSxpKFwiZGVzaWduOnR5cGVcIixvLkV2ZW50RW1pdHRlciksaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW28uRXZlbnRFbWl0dGVyXSldLGEucHJvdG90eXBlLFwibWF0ZXJpYWxpemVBY3Rpb25zXCIsbnVsbCkscihbby5JbnB1dCgpLGkoXCJkZXNpZ246dHlwZVwiLFN0cmluZyksaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pXSxhLnByb3RvdHlwZSxcIm1hdGVyaWFsaXplXCIsbnVsbCkscihbby5JbnB1dCgpLGkoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pXSxhLnByb3RvdHlwZSxcIm1hdGVyaWFsaXplU2VsZWN0T3B0aW9uc1wiLG51bGwpLFxuYT1yKFtvLkRpcmVjdGl2ZSh7c2VsZWN0b3I6XCJbbWF0ZXJpYWxpemVdXCJ9KSxpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbby5FbGVtZW50UmVmXSldLGEpLGUuTWF0ZXJpYWxpemVEaXJlY3RpdmU9YX0pLHQucmVnaXN0ZXJEeW5hbWljKFwiNDVcIixbXCJjXCIsXCIzOVwiLFwiNDRcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLGUmJmUuX19kZWNvcmF0ZXx8ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP2U6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6cjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4scik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkoaT10W2FdKSYmKHM9KG88Mz9pKHMpOm8+Mz9pKGUsbixzKTppKGUsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHMpLHN9KSxpPXQoXCJjXCIpLG89dChcIjM5XCIpLHM9dChcIjQ0XCIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO2E9cihbaS5OZ01vZHVsZSh7ZGVjbGFyYXRpb25zOltzLk1hdGVyaWFsaXplRGlyZWN0aXZlXSxpbXBvcnRzOltvLkNvbW1vbk1vZHVsZV0sZXhwb3J0czpbcy5NYXRlcmlhbGl6ZURpcmVjdGl2ZV19KV0sYSksZS5NYXRlcmlhbGl6ZU1vZHVsZT1hfSksdC5yZWdpc3RlckR5bmFtaWMoXCIzZlwiLFtcIjQ0XCIsXCI0NVwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtNYXRlcmlhbGl6ZS50b2FzdC5hcHBseShNYXRlcmlhbGl6ZSx0KX12YXIgaT0odGhpc3x8c2VsZix0KFwiNDRcIikpO2UuTWF0ZXJpYWxpemVEaXJlY3RpdmU9aS5NYXRlcmlhbGl6ZURpcmVjdGl2ZTt2YXIgbz10KFwiNDVcIik7aWYoZS5NYXRlcmlhbGl6ZU1vZHVsZT1vLk1hdGVyaWFsaXplTW9kdWxlLCEoXCJNYXRlcmlhbGl6ZVwiaW4gd2luZG93KSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIE1hdGVyaWFsaXplIG9iamVjdCBvbiB3aW5kb3cuIEl0IGlzIGNyZWF0ZWQgYnkgdGhlIG1hdGVyaWFsaXplLWNzcyBsaWJyYXJ5LiBQbGVhc2UgaW1wb3J0IG1hdGVyaWFsaXplLWNzcyBiZWZvcmUgaW1wb3J0aW5nIGFuZ3VsYXIyLW1hdGVyaWFsaXplLlwiKTtpZighKFwiV2F2ZXNcImluIHdpbmRvdykpdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBXYXZlcyBvYmplY3Qgb24gd2luZG93LiBJdCBpcyBzdXBwb3NlZCB0byBiZSBjcmVhdGVkIGJ5IHRoZSBtYXRlcmlhbGl6ZS1jc3MgbGlicmFyeS4gUGxlYXNlIGltcG9ydCBtYXRlcmlhbGl6ZS1jc3MgYmVmb3JlIGltcG9ydGluZyBhbmd1bGFyMi1tYXRlcmlhbGl6ZS5cIik7V2F2ZXMuZGlzcGxheUVmZmVjdCgpLGUudG9hc3Q9cn0pLGZ1bmN0aW9uKGksbyl7XCJvYmplY3RcIj09dHlwZW9mIG4mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiByP28obixlKFwiQGFuZ3VsYXIvY29yZVwiKSk6dC5yZWdpc3RlckR5bmFtaWMoXCIzOVwiLFtcImNcIl0sITEsZnVuY3Rpb24odCxlLG4pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG8/by5jYWxsKGUsZSx0KFwiY1wiKSk6b30pfSh0aGlzLGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdC5uYW1lfHx0eXBlb2YgdH1mdW5jdGlvbiByKHQpe3JldHVybiBudWxsIT10fWZ1bmN0aW9uIGkodCl7cmV0dXJuIG51bGw9PXR9ZnVuY3Rpb24gbyh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdDtpZihudWxsPT10KXJldHVyblwiXCIrdDtpZih0Lm92ZXJyaWRkZW5OYW1lKXJldHVyblwiXCIrdC5vdmVycmlkZGVuTmFtZTtpZih0Lm5hbWUpcmV0dXJuXCJcIit0Lm5hbWU7dmFyIGU9dC50b1N0cmluZygpLG49ZS5pbmRleE9mKFwiXFxuXCIpO3JldHVybiBuPT09LTE/ZTplLnN1YnN0cmluZygwLG4pfWZ1bmN0aW9uIHModCl7cmV0dXJuIG51bGwhPT10JiYoXCJmdW5jdGlvblwiPT10eXBlb2YgdHx8XCJvYmplY3RcIj09dHlwZW9mIHQpfWZ1bmN0aW9uIGEoKXtpZighVilpZihNLlN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yKVY9U3ltYm9sLml0ZXJhdG9yO2Vsc2UgZm9yKHZhciB0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE1hcC5wcm90b3R5cGUpLGU9MDtlPHQubGVuZ3RoOysrZSl7dmFyIG49dFtlXTtcImVudHJpZXNcIiE9PW4mJlwic2l6ZVwiIT09biYmTWFwLnByb3RvdHlwZVtuXT09PU1hcC5wcm90b3R5cGUuZW50cmllcyYmKFY9bil9cmV0dXJuIFZ9ZnVuY3Rpb24gdSh0LGUpe3JldHVybiB0JiZlLnN0YXJ0c1dpdGgodCk/ZS5zdWJzdHJpbmcodC5sZW5ndGgpOmV9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gdC5yZXBsYWNlKC9cXC9pbmRleC5odG1sJC8sXCJcIil9ZnVuY3Rpb24gbCh0LGUsbil7dmFyIHI9XCI9XCIrdDtpZihlLmluZGV4T2Yocik+LTEpcmV0dXJuIHI7aWYocj1uLmdldFBsdXJhbENhdGVnb3J5KHQpLGUuaW5kZXhPZihyKT4tMSlyZXR1cm4gcjtpZihlLmluZGV4T2YoXCJvdGhlclwiKT4tMSlyZXR1cm5cIm90aGVyXCI7dGhyb3cgbmV3IEVycm9yKCdObyBwbHVyYWwgbWVzc2FnZSBmb3VuZCBmb3IgdmFsdWUgXCInK3QrJ1wiJyl9ZnVuY3Rpb24gcCh0LGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1wYXJzZUludChlLDEwKSk7dmFyIG49ZSxyPW4udG9TdHJpbmcoKS5yZXBsYWNlKC9eW14uXSpcXC4/LyxcIlwiKSxpPU1hdGguZmxvb3IoTWF0aC5hYnMobikpLG89ci5sZW5ndGgscz1wYXJzZUludChyLDEwKSxhPXBhcnNlSW50KG4udG9TdHJpbmcoKS5yZXBsYWNlKC9eW14uXSpcXC4/fDArJC9nLFwiXCIpLDEwKXx8MCx1PXQuc3BsaXQoXCItXCIpWzBdLnRvTG93ZXJDYXNlKCk7c3dpdGNoKHUpe2Nhc2VcImFmXCI6Y2FzZVwiYXNhXCI6Y2FzZVwiYXpcIjpjYXNlXCJiZW1cIjpjYXNlXCJiZXpcIjpjYXNlXCJiZ1wiOmNhc2VcImJyeFwiOmNhc2VcImNlXCI6Y2FzZVwiY2dnXCI6Y2FzZVwiY2hyXCI6Y2FzZVwiY2tiXCI6Y2FzZVwiZWVcIjpjYXNlXCJlbFwiOmNhc2VcImVvXCI6Y2FzZVwiZXNcIjpjYXNlXCJldVwiOmNhc2VcImZvXCI6Y2FzZVwiZnVyXCI6Y2FzZVwiZ3N3XCI6Y2FzZVwiaGFcIjpjYXNlXCJoYXdcIjpjYXNlXCJodVwiOmNhc2VcImpnb1wiOmNhc2VcImptY1wiOmNhc2VcImthXCI6Y2FzZVwia2tcIjpjYXNlXCJra2pcIjpjYXNlXCJrbFwiOmNhc2VcImtzXCI6Y2FzZVwia3NiXCI6Y2FzZVwia3lcIjpjYXNlXCJsYlwiOmNhc2VcImxnXCI6Y2FzZVwibWFzXCI6Y2FzZVwibWdvXCI6Y2FzZVwibWxcIjpjYXNlXCJtblwiOmNhc2VcIm5iXCI6Y2FzZVwibmRcIjpjYXNlXCJuZVwiOmNhc2VcIm5uXCI6Y2FzZVwibm5oXCI6Y2FzZVwibnluXCI6Y2FzZVwib21cIjpjYXNlXCJvclwiOmNhc2VcIm9zXCI6Y2FzZVwicHNcIjpjYXNlXCJybVwiOmNhc2VcInJvZlwiOmNhc2VcInJ3a1wiOmNhc2VcInNhcVwiOmNhc2VcInNlaFwiOmNhc2VcInNuXCI6Y2FzZVwic29cIjpjYXNlXCJzcVwiOmNhc2VcInRhXCI6Y2FzZVwidGVcIjpjYXNlXCJ0ZW9cIjpjYXNlXCJ0a1wiOmNhc2VcInRyXCI6Y2FzZVwidWdcIjpjYXNlXCJ1elwiOmNhc2VcInZvXCI6Y2FzZVwidnVuXCI6Y2FzZVwid2FlXCI6Y2FzZVwieG9nXCI6cmV0dXJuIDE9PT1uP0cuT25lOkcuT3RoZXI7Y2FzZVwiYWdxXCI6Y2FzZVwiYmFzXCI6Y2FzZVwiY3VcIjpjYXNlXCJkYXZcIjpjYXNlXCJkamVcIjpjYXNlXCJkdWFcIjpjYXNlXCJkeW9cIjpjYXNlXCJlYnVcIjpjYXNlXCJld29cIjpjYXNlXCJndXpcIjpjYXNlXCJrYW1cIjpjYXNlXCJraHFcIjpjYXNlXCJraVwiOmNhc2VcImtsblwiOmNhc2VcImtva1wiOmNhc2VcImtzZlwiOmNhc2VcImxyY1wiOmNhc2VcImx1XCI6Y2FzZVwibHVvXCI6Y2FzZVwibHV5XCI6Y2FzZVwibWVyXCI6Y2FzZVwibWZlXCI6Y2FzZVwibWdoXCI6Y2FzZVwibXVhXCI6Y2FzZVwibXpuXCI6Y2FzZVwibm1nXCI6Y2FzZVwibnVzXCI6Y2FzZVwicXVcIjpjYXNlXCJyblwiOmNhc2VcInJ3XCI6Y2FzZVwic2JwXCI6Y2FzZVwidHdxXCI6Y2FzZVwidmFpXCI6Y2FzZVwieWF2XCI6Y2FzZVwieXVlXCI6Y2FzZVwiemdoXCI6Y2FzZVwiYWtcIjpjYXNlXCJsblwiOmNhc2VcIm1nXCI6Y2FzZVwicGFcIjpjYXNlXCJ0aVwiOnJldHVybiBuPT09TWF0aC5mbG9vcihuKSYmbj49MCYmbjw9MT9HLk9uZTpHLk90aGVyO2Nhc2VcImFtXCI6Y2FzZVwiYXNcIjpjYXNlXCJiblwiOmNhc2VcImZhXCI6Y2FzZVwiZ3VcIjpjYXNlXCJoaVwiOmNhc2VcImtuXCI6Y2FzZVwibXJcIjpjYXNlXCJ6dVwiOnJldHVybiAwPT09aXx8MT09PW4/Ry5PbmU6Ry5PdGhlcjtjYXNlXCJhclwiOnJldHVybiAwPT09bj9HLlplcm86MT09PW4/Ry5PbmU6Mj09PW4/Ry5Ud286biUxMDA9PT1NYXRoLmZsb29yKG4lMTAwKSYmbiUxMDA+PTMmJm4lMTAwPD0xMD9HLkZldzpuJTEwMD09PU1hdGguZmxvb3IobiUxMDApJiZuJTEwMD49MTEmJm4lMTAwPD05OT9HLk1hbnk6Ry5PdGhlcjtjYXNlXCJhc3RcIjpjYXNlXCJjYVwiOmNhc2VcImRlXCI6Y2FzZVwiZW5cIjpjYXNlXCJldFwiOmNhc2VcImZpXCI6Y2FzZVwiZnlcIjpjYXNlXCJnbFwiOmNhc2VcIml0XCI6Y2FzZVwibmxcIjpjYXNlXCJzdlwiOmNhc2VcInN3XCI6Y2FzZVwidXJcIjpjYXNlXCJ5aVwiOnJldHVybiAxPT09aSYmMD09PW8/Ry5PbmU6Ry5PdGhlcjtjYXNlXCJiZVwiOnJldHVybiBuJTEwPT09MSYmbiUxMDAhPT0xMT9HLk9uZTpuJTEwPT09TWF0aC5mbG9vcihuJTEwKSYmbiUxMD49MiYmbiUxMDw9NCYmIShuJTEwMD49MTImJm4lMTAwPD0xNCk/Ry5GZXc6biUxMD09PTB8fG4lMTA9PT1NYXRoLmZsb29yKG4lMTApJiZuJTEwPj01JiZuJTEwPD05fHxuJTEwMD09PU1hdGguZmxvb3IobiUxMDApJiZuJTEwMD49MTEmJm4lMTAwPD0xND9HLk1hbnk6Ry5PdGhlcjtjYXNlXCJiclwiOnJldHVybiBuJTEwPT09MSYmbiUxMDAhPT0xMSYmbiUxMDAhPT03MSYmbiUxMDAhPT05MT9HLk9uZTpuJTEwPT09MiYmbiUxMDAhPT0xMiYmbiUxMDAhPT03MiYmbiUxMDAhPT05Mj9HLlR3bzpuJTEwPT09TWF0aC5mbG9vcihuJTEwKSYmKG4lMTA+PTMmJm4lMTA8PTR8fG4lMTA9PT05KSYmIShuJTEwMD49MTAmJm4lMTAwPD0xOXx8biUxMDA+PTcwJiZuJTEwMDw9Nzl8fG4lMTAwPj05MCYmbiUxMDA8PTk5KT9HLkZldzowIT09biYmbiUxZTY9PT0wP0cuTWFueTpHLk90aGVyO2Nhc2VcImJzXCI6Y2FzZVwiaHJcIjpjYXNlXCJzclwiOnJldHVybiAwPT09byYmaSUxMD09PTEmJmklMTAwIT09MTF8fHMlMTA9PT0xJiZzJTEwMCE9PTExP0cuT25lOjA9PT1vJiZpJTEwPT09TWF0aC5mbG9vcihpJTEwKSYmaSUxMD49MiYmaSUxMDw9NCYmIShpJTEwMD49MTImJmklMTAwPD0xNCl8fHMlMTA9PT1NYXRoLmZsb29yKHMlMTApJiZzJTEwPj0yJiZzJTEwPD00JiYhKHMlMTAwPj0xMiYmcyUxMDA8PTE0KT9HLkZldzpHLk90aGVyO2Nhc2VcImNzXCI6Y2FzZVwic2tcIjpyZXR1cm4gMT09PWkmJjA9PT1vP0cuT25lOmk9PT1NYXRoLmZsb29yKGkpJiZpPj0yJiZpPD00JiYwPT09bz9HLkZldzowIT09bz9HLk1hbnk6Ry5PdGhlcjtjYXNlXCJjeVwiOnJldHVybiAwPT09bj9HLlplcm86MT09PW4/Ry5PbmU6Mj09PW4/Ry5Ud286Mz09PW4/Ry5GZXc6Nj09PW4/Ry5NYW55OkcuT3RoZXI7Y2FzZVwiZGFcIjpyZXR1cm4gMT09PW58fDAhPT1hJiYoMD09PWl8fDE9PT1pKT9HLk9uZTpHLk90aGVyO2Nhc2VcImRzYlwiOmNhc2VcImhzYlwiOnJldHVybiAwPT09byYmaSUxMDA9PT0xfHxzJTEwMD09PTE/Ry5PbmU6MD09PW8mJmklMTAwPT09Mnx8cyUxMDA9PT0yP0cuVHdvOjA9PT1vJiZpJTEwMD09PU1hdGguZmxvb3IoaSUxMDApJiZpJTEwMD49MyYmaSUxMDA8PTR8fHMlMTAwPT09TWF0aC5mbG9vcihzJTEwMCkmJnMlMTAwPj0zJiZzJTEwMDw9ND9HLkZldzpHLk90aGVyO2Nhc2VcImZmXCI6Y2FzZVwiZnJcIjpjYXNlXCJoeVwiOmNhc2VcImthYlwiOnJldHVybiAwPT09aXx8MT09PWk/Ry5PbmU6Ry5PdGhlcjtjYXNlXCJmaWxcIjpyZXR1cm4gMD09PW8mJigxPT09aXx8Mj09PWl8fDM9PT1pKXx8MD09PW8mJmklMTAhPT00JiZpJTEwIT09NiYmaSUxMCE9PTl8fDAhPT1vJiZzJTEwIT09NCYmcyUxMCE9PTYmJnMlMTAhPT05P0cuT25lOkcuT3RoZXI7Y2FzZVwiZ2FcIjpyZXR1cm4gMT09PW4/Ry5PbmU6Mj09PW4/Ry5Ud286bj09PU1hdGguZmxvb3IobikmJm4+PTMmJm48PTY/Ry5GZXc6bj09PU1hdGguZmxvb3IobikmJm4+PTcmJm48PTEwP0cuTWFueTpHLk90aGVyO2Nhc2VcImdkXCI6cmV0dXJuIDE9PT1ufHwxMT09PW4/Ry5PbmU6Mj09PW58fDEyPT09bj9HLlR3bzpuPT09TWF0aC5mbG9vcihuKSYmKG4+PTMmJm48PTEwfHxuPj0xMyYmbjw9MTkpP0cuRmV3OkcuT3RoZXI7Y2FzZVwiZ3ZcIjpyZXR1cm4gMD09PW8mJmklMTA9PT0xP0cuT25lOjA9PT1vJiZpJTEwPT09Mj9HLlR3bzowIT09b3x8aSUxMDAhPT0wJiZpJTEwMCE9PTIwJiZpJTEwMCE9PTQwJiZpJTEwMCE9PTYwJiZpJTEwMCE9PTgwPzAhPT1vP0cuTWFueTpHLk90aGVyOkcuRmV3O2Nhc2VcImhlXCI6cmV0dXJuIDE9PT1pJiYwPT09bz9HLk9uZToyPT09aSYmMD09PW8/Ry5Ud286MCE9PW98fG4+PTAmJm48PTEwfHxuJTEwIT09MD9HLk90aGVyOkcuTWFueTtjYXNlXCJpc1wiOnJldHVybiAwPT09YSYmaSUxMD09PTEmJmklMTAwIT09MTF8fDAhPT1hP0cuT25lOkcuT3RoZXI7Y2FzZVwia3NoXCI6cmV0dXJuIDA9PT1uP0cuWmVybzoxPT09bj9HLk9uZTpHLk90aGVyO2Nhc2VcImt3XCI6Y2FzZVwibmFxXCI6Y2FzZVwic2VcIjpjYXNlXCJzbW5cIjpyZXR1cm4gMT09PW4/Ry5PbmU6Mj09PW4/Ry5Ud286Ry5PdGhlcjtjYXNlXCJsYWdcIjpyZXR1cm4gMD09PW4/Ry5aZXJvOjAhPT1pJiYxIT09aXx8MD09PW4/Ry5PdGhlcjpHLk9uZTtjYXNlXCJsdFwiOnJldHVybiBuJTEwIT09MXx8biUxMDA+PTExJiZuJTEwMDw9MTk/biUxMD09PU1hdGguZmxvb3IobiUxMCkmJm4lMTA+PTImJm4lMTA8PTkmJiEobiUxMDA+PTExJiZuJTEwMDw9MTkpP0cuRmV3OjAhPT1zP0cuTWFueTpHLk90aGVyOkcuT25lO2Nhc2VcImx2XCI6Y2FzZVwicHJnXCI6cmV0dXJuIG4lMTA9PT0wfHxuJTEwMD09PU1hdGguZmxvb3IobiUxMDApJiZuJTEwMD49MTEmJm4lMTAwPD0xOXx8Mj09PW8mJnMlMTAwPT09TWF0aC5mbG9vcihzJTEwMCkmJnMlMTAwPj0xMSYmcyUxMDA8PTE5P0cuWmVybzpuJTEwPT09MSYmbiUxMDAhPT0xMXx8Mj09PW8mJnMlMTA9PT0xJiZzJTEwMCE9PTExfHwyIT09byYmcyUxMD09PTE/Ry5PbmU6Ry5PdGhlcjtjYXNlXCJta1wiOnJldHVybiAwPT09byYmaSUxMD09PTF8fHMlMTA9PT0xP0cuT25lOkcuT3RoZXI7Y2FzZVwibXRcIjpyZXR1cm4gMT09PW4/Ry5PbmU6MD09PW58fG4lMTAwPT09TWF0aC5mbG9vcihuJTEwMCkmJm4lMTAwPj0yJiZuJTEwMDw9MTA/Ry5GZXc6biUxMDA9PT1NYXRoLmZsb29yKG4lMTAwKSYmbiUxMDA+PTExJiZuJTEwMDw9MTk/Ry5NYW55OkcuT3RoZXI7Y2FzZVwicGxcIjpyZXR1cm4gMT09PWkmJjA9PT1vP0cuT25lOjA9PT1vJiZpJTEwPT09TWF0aC5mbG9vcihpJTEwKSYmaSUxMD49MiYmaSUxMDw9NCYmIShpJTEwMD49MTImJmklMTAwPD0xNCk/Ry5GZXc6MD09PW8mJjEhPT1pJiZpJTEwPT09TWF0aC5mbG9vcihpJTEwKSYmaSUxMD49MCYmaSUxMDw9MXx8MD09PW8mJmklMTA9PT1NYXRoLmZsb29yKGklMTApJiZpJTEwPj01JiZpJTEwPD05fHwwPT09byYmaSUxMDA9PT1NYXRoLmZsb29yKGklMTAwKSYmaSUxMDA+PTEyJiZpJTEwMDw9MTQ/Ry5NYW55OkcuT3RoZXI7Y2FzZVwicHRcIjpyZXR1cm4gbj09PU1hdGguZmxvb3IobikmJm4+PTAmJm48PTImJjIhPT1uP0cuT25lOkcuT3RoZXI7Y2FzZVwicm9cIjpyZXR1cm4gMT09PWkmJjA9PT1vP0cuT25lOjAhPT1vfHwwPT09bnx8MSE9PW4mJm4lMTAwPT09TWF0aC5mbG9vcihuJTEwMCkmJm4lMTAwPj0xJiZuJTEwMDw9MTk/Ry5GZXc6Ry5PdGhlcjtjYXNlXCJydVwiOmNhc2VcInVrXCI6cmV0dXJuIDA9PT1vJiZpJTEwPT09MSYmaSUxMDAhPT0xMT9HLk9uZTowPT09byYmaSUxMD09PU1hdGguZmxvb3IoaSUxMCkmJmklMTA+PTImJmklMTA8PTQmJiEoaSUxMDA+PTEyJiZpJTEwMDw9MTQpP0cuRmV3OjA9PT1vJiZpJTEwPT09MHx8MD09PW8mJmklMTA9PT1NYXRoLmZsb29yKGklMTApJiZpJTEwPj01JiZpJTEwPD05fHwwPT09byYmaSUxMDA9PT1NYXRoLmZsb29yKGklMTAwKSYmaSUxMDA+PTExJiZpJTEwMDw9MTQ/Ry5NYW55OkcuT3RoZXI7Y2FzZVwic2hpXCI6cmV0dXJuIDA9PT1pfHwxPT09bj9HLk9uZTpuPT09TWF0aC5mbG9vcihuKSYmbj49MiYmbjw9MTA/Ry5GZXc6Ry5PdGhlcjtjYXNlXCJzaVwiOnJldHVybiAwPT09bnx8MT09PW58fDA9PT1pJiYxPT09cz9HLk9uZTpHLk90aGVyO2Nhc2VcInNsXCI6cmV0dXJuIDA9PT1vJiZpJTEwMD09PTE/Ry5PbmU6MD09PW8mJmklMTAwPT09Mj9HLlR3bzowPT09byYmaSUxMDA9PT1NYXRoLmZsb29yKGklMTAwKSYmaSUxMDA+PTMmJmklMTAwPD00fHwwIT09bz9HLkZldzpHLk90aGVyO2Nhc2VcInR6bVwiOnJldHVybiBuPT09TWF0aC5mbG9vcihuKSYmbj49MCYmbjw9MXx8bj09PU1hdGguZmxvb3IobikmJm4+PTExJiZuPD05OT9HLk9uZTpHLk90aGVyO2RlZmF1bHQ6cmV0dXJuIEcuT3RoZXJ9fWZ1bmN0aW9uIGgodCl7cmV0dXJuISFzKHQpJiYoQXJyYXkuaXNBcnJheSh0KXx8ISh0IGluc3RhbmNlb2YgTWFwKSYmYSgpaW4gdCl9ZnVuY3Rpb24gZih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj10KGUsbik7cmV0dXJuIDE9PXIubGVuZ3RoP1wiMFwiK3I6cn19ZnVuY3Rpb24gZCh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gdChlLG4pLnNwbGl0KFwiIFwiKVsxXX19ZnVuY3Rpb24geSh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gdChlLG4pLnNwbGl0KFwiIFwiKVswXX19ZnVuY3Rpb24gbSh0LGUsbil7cmV0dXJuIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGUsbikuZm9ybWF0KHQpLnJlcGxhY2UoL1tcXHUyMDBlXFx1MjAwZl0vZyxcIlwiKX1mdW5jdGlvbiB2KHQpe3ZhciBlPXtob3VyOlwiMi1kaWdpdFwiLGhvdXIxMjohMSx0aW1lWm9uZU5hbWU6dH07cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIHI9bSh0LG4sZSk7cmV0dXJuIHI/ci5zdWJzdHJpbmcoMyk6XCJcIn19ZnVuY3Rpb24gZyh0LGUpe3JldHVybiB0LmhvdXIxMj1lLHR9ZnVuY3Rpb24gXyh0LGUpe3ZhciBuPXt9O3JldHVybiBuW3RdPTI9PT1lP1wiMi1kaWdpdFwiOlwibnVtZXJpY1wiLG59ZnVuY3Rpb24gYih0LGUpe3ZhciBuPXt9O3JldHVybiBlPDQ/blt0XT1lPjE/XCJzaG9ydFwiOlwibmFycm93XCI6blt0XT1cImxvbmdcIixufWZ1bmN0aW9uIHcodCl7cmV0dXJuKGU9T2JqZWN0KS5hc3NpZ24uYXBwbHkoZSxbe31dLmNvbmNhdCh0KSk7dmFyIGV9ZnVuY3Rpb24gQyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gbShlLG4sdCl9fWZ1bmN0aW9uIEUodCxlLG4pe3ZhciByPXd0W3RdO2lmKHIpcmV0dXJuIHIoZSxuKTt2YXIgaT10LG89RXQuZ2V0KGkpO2lmKCFvKXtvPVtdO3ZhciBzPXZvaWQgMDtmb3IoYnQuZXhlYyh0KTt0OylzPWJ0LmV4ZWModCkscz8obz1vLmNvbmNhdChzLnNsaWNlKDEpKSx0PW8ucG9wKCkpOihvLnB1c2godCksdD1udWxsKTtFdC5zZXQoaSxvKX1yZXR1cm4gby5yZWR1Y2UoZnVuY3Rpb24odCxyKXt2YXIgaT1DdFtyXTtyZXR1cm4gdCsoaT9pKGUsbik6UyhyKSl9LFwiXCIpfWZ1bmN0aW9uIFModCl7cmV0dXJuXCInJ1wiPT09dD9cIidcIjp0LnJlcGxhY2UoLyheJ3wnJCkvZyxcIlwiKS5yZXBsYWNlKC8nJy9nLFwiJ1wiKX1mdW5jdGlvbiB4KHQpe3JldHVybiBudWxsPT10fHxcIlwiPT09dH1mdW5jdGlvbiBQKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRGF0ZSYmIWlzTmFOKHQudmFsdWVPZigpKX1mdW5jdGlvbiBPKHQpe3ZhciBlPW5ldyBEYXRlKDApLG49MCxyPTAsaT10WzhdP2Uuc2V0VVRDRnVsbFllYXI6ZS5zZXRGdWxsWWVhcixvPXRbOF0/ZS5zZXRVVENIb3VyczplLnNldEhvdXJzO3RbOV0mJihuPVQodFs5XSt0WzEwXSkscj1UKHRbOV0rdFsxMV0pKSxpLmNhbGwoZSxUKHRbMV0pLFQodFsyXSktMSxUKHRbM10pKTt2YXIgcz1UKHRbNF18fFwiMFwiKS1uLGE9VCh0WzVdfHxcIjBcIiktcix1PVQodFs2XXx8XCIwXCIpLGM9TWF0aC5yb3VuZCgxZTMqcGFyc2VGbG9hdChcIjAuXCIrKHRbN118fDApKSk7cmV0dXJuIG8uY2FsbChlLHMsYSx1LGMpLGV9ZnVuY3Rpb24gVCh0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9ZnVuY3Rpb24gQSh0LGUsbixyLGksbyxzKXtpZih2b2lkIDA9PT1vJiYobz1udWxsKSx2b2lkIDA9PT1zJiYocz0hMSksbnVsbD09bilyZXR1cm4gbnVsbDtpZihuPVwic3RyaW5nXCI9PXR5cGVvZiBuJiZqLmlzTnVtZXJpYyhuKT8rbjpuLFwibnVtYmVyXCIhPXR5cGVvZiBuKXRocm93IG5ldyBodCh0LG4pO3ZhciBhLHUsYztpZihyIT09Z3QuQ3VycmVuY3kmJihhPTEsdT0wLGM9MyksaSl7dmFyIGw9aS5tYXRjaChSdCk7aWYobnVsbD09PWwpdGhyb3cgbmV3IEVycm9yKGkrXCIgaXMgbm90IGEgdmFsaWQgZGlnaXQgaW5mbyBmb3IgbnVtYmVyIHBpcGVzXCIpO251bGwhPWxbMV0mJihhPWoucGFyc2VJbnRBdXRvUmFkaXgobFsxXSkpLG51bGwhPWxbM10mJih1PWoucGFyc2VJbnRBdXRvUmFkaXgobFszXSkpLG51bGwhPWxbNV0mJihjPWoucGFyc2VJbnRBdXRvUmFkaXgobFs1XSkpfXJldHVybiBfdC5mb3JtYXQobixlLHIse21pbmltdW1JbnRlZ2VyRGlnaXRzOmEsbWluaW11bUZyYWN0aW9uRGlnaXRzOnUsbWF4aW11bUZyYWN0aW9uRGlnaXRzOmMsY3VycmVuY3k6byxjdXJyZW5jeUFzU3ltYm9sOnN9KX12YXIgTSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0QmFzZUhyZWZGcm9tRE9NPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5vblBvcFN0YXRlPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUub25IYXNoQ2hhbmdlPWZ1bmN0aW9uKHQpe30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGF0aG5hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwic2VhcmNoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImhhc2hcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucmVwbGFjZVN0YXRlPWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLnB1c2hTdGF0ZT1mdW5jdGlvbih0LGUsbil7fSx0LnByb3RvdHlwZS5mb3J3YXJkPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5iYWNrPWZ1bmN0aW9uKCl7fSx0fSgpLFI9bmV3IGUuT3BhcXVlVG9rZW4oXCJMb2NhdGlvbiBJbml0aWFsaXplZFwiKSxJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUucGF0aD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnByZXBhcmVFeHRlcm5hbFVybD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnB1c2hTdGF0ZT1mdW5jdGlvbih0LGUsbixyKXt9LHQucHJvdG90eXBlLnJlcGxhY2VTdGF0ZT1mdW5jdGlvbih0LGUsbixyKXt9LHQucHJvdG90eXBlLmZvcndhcmQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmJhY2s9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLm9uUG9wU3RhdGU9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5nZXRCYXNlSHJlZj1mdW5jdGlvbigpe30sdH0oKSxOPW5ldyBlLk9wYXF1ZVRva2VuKFwiYXBwQmFzZUhyZWZcIik7TT1cInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P1widW5kZWZpbmVkXCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlP3NlbGY6Z2xvYmFsOndpbmRvdzt2YXIgRD1NO0QuYXNzZXJ0PWZ1bmN0aW9uKHQpe307dmFyIGo9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnBhcnNlSW50QXV0b1JhZGl4PWZ1bmN0aW9uKHQpe3ZhciBlPXBhcnNlSW50KHQpO2lmKGlzTmFOKGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW50ZWdlciBsaXRlcmFsIHdoZW4gcGFyc2luZyBcIit0KTtyZXR1cm4gZX0sdC5pc051bWVyaWM9ZnVuY3Rpb24odCl7cmV0dXJuIWlzTmFOKHQtcGFyc2VGbG9hdCh0KSl9LHR9KCksVj1udWxsLEw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KG4pe3ZhciByPXRoaXM7dGhpcy5fc3ViamVjdD1uZXcgZS5FdmVudEVtaXR0ZXIsdGhpcy5fcGxhdGZvcm1TdHJhdGVneT1uO3ZhciBpPXRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kuZ2V0QmFzZUhyZWYoKTt0aGlzLl9iYXNlSHJlZj10LnN0cmlwVHJhaWxpbmdTbGFzaChjKGkpKSx0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5Lm9uUG9wU3RhdGUoZnVuY3Rpb24odCl7ci5fc3ViamVjdC5lbWl0KHt1cmw6ci5wYXRoKCEwKSxwb3A6ITAsdHlwZTp0LnR5cGV9KX0pfXJldHVybiB0LnByb3RvdHlwZS5wYXRoPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMSksdGhpcy5ub3JtYWxpemUodGhpcy5fcGxhdGZvcm1TdHJhdGVneS5wYXRoKHQpKX0sdC5wcm90b3R5cGUuaXNDdXJyZW50UGF0aEVxdWFsVG89ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49XCJcIiksdGhpcy5wYXRoKCk9PXRoaXMubm9ybWFsaXplKGUrdC5ub3JtYWxpemVRdWVyeVBhcmFtcyhuKSl9LHQucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5zdHJpcFRyYWlsaW5nU2xhc2godSh0aGlzLl9iYXNlSHJlZixjKGUpKSl9LHQucHJvdG90eXBlLnByZXBhcmVFeHRlcm5hbFVybD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmXCIvXCIhPT10WzBdJiYodD1cIi9cIit0KSx0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LnByZXBhcmVFeHRlcm5hbFVybCh0KX0sdC5wcm90b3R5cGUuZ289ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1cIlwiKSx0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LnB1c2hTdGF0ZShudWxsLFwiXCIsdCxlKX0sdC5wcm90b3R5cGUucmVwbGFjZVN0YXRlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9XCJcIiksdGhpcy5fcGxhdGZvcm1TdHJhdGVneS5yZXBsYWNlU3RhdGUobnVsbCxcIlwiLHQsZSl9LHQucHJvdG90eXBlLmZvcndhcmQ9ZnVuY3Rpb24oKXt0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LmZvcndhcmQoKX0sdC5wcm90b3R5cGUuYmFjaz1mdW5jdGlvbigpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kuYmFjaygpfSx0LnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1uJiYobj1udWxsKSx0aGlzLl9zdWJqZWN0LnN1YnNjcmliZSh7bmV4dDp0LGVycm9yOmUsY29tcGxldGU6bn0pfSx0Lm5vcm1hbGl6ZVF1ZXJ5UGFyYW1zPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZcIj9cIiE9PXRbMF0/XCI/XCIrdDp0fSx0LmpvaW5XaXRoU2xhc2g9ZnVuY3Rpb24odCxlKXtpZigwPT10Lmxlbmd0aClyZXR1cm4gZTtpZigwPT1lLmxlbmd0aClyZXR1cm4gdDt2YXIgbj0wO3JldHVybiB0LmVuZHNXaXRoKFwiL1wiKSYmbisrLGUuc3RhcnRzV2l0aChcIi9cIikmJm4rKywyPT1uP3QrZS5zdWJzdHJpbmcoMSk6MT09bj90K2U6dCtcIi9cIitlfSx0LnN0cmlwVHJhaWxpbmdTbGFzaD1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9cXC8kLyxcIlwiKX0sdC5kZWNvcmF0b3JzPVt7dHlwZTplLkluamVjdGFibGV9XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOkl9XX0sdH0oKSxGPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxVPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSxuKXt0LmNhbGwodGhpcyksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbj1lLHRoaXMuX2Jhc2VIcmVmPVwiXCIscihuKSYmKHRoaXMuX2Jhc2VIcmVmPW4pfXJldHVybiBGKG4sdCksbi5wcm90b3R5cGUub25Qb3BTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uUG9wU3RhdGUodCksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5vbkhhc2hDaGFuZ2UodCl9LG4ucHJvdG90eXBlLmdldEJhc2VIcmVmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Jhc2VIcmVmfSxuLnByb3RvdHlwZS5wYXRoPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSExKTt2YXIgZT10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmhhc2g7cmV0dXJuIHIoZSl8fChlPVwiI1wiKSxlLmxlbmd0aD4wP2Uuc3Vic3RyaW5nKDEpOmV9LG4ucHJvdG90eXBlLnByZXBhcmVFeHRlcm5hbFVybD1mdW5jdGlvbih0KXt2YXIgZT1MLmpvaW5XaXRoU2xhc2godGhpcy5fYmFzZUhyZWYsdCk7cmV0dXJuIGUubGVuZ3RoPjA/XCIjXCIrZTplfSxuLnByb3RvdHlwZS5wdXNoU3RhdGU9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwobitMLm5vcm1hbGl6ZVF1ZXJ5UGFyYW1zKHIpKTswPT1pLmxlbmd0aCYmKGk9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5wYXRobmFtZSksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5wdXNoU3RhdGUodCxlLGkpfSxuLnByb3RvdHlwZS5yZXBsYWNlU3RhdGU9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwobitMLm5vcm1hbGl6ZVF1ZXJ5UGFyYW1zKHIpKTswPT1pLmxlbmd0aCYmKGk9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5wYXRobmFtZSksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5yZXBsYWNlU3RhdGUodCxlLGkpfSxuLnByb3RvdHlwZS5mb3J3YXJkPWZ1bmN0aW9uKCl7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5mb3J3YXJkKCl9LG4ucHJvdG90eXBlLmJhY2s9ZnVuY3Rpb24oKXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmJhY2soKX0sbi5kZWNvcmF0b3JzPVt7dHlwZTplLkluamVjdGFibGV9XSxuLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOmt9LHt0eXBlOnZvaWQgMCxkZWNvcmF0b3JzOlt7dHlwZTplLk9wdGlvbmFsfSx7dHlwZTplLkluamVjdCxhcmdzOltOXX1dfV19LG59KEkpLEg9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LEI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlLG4pe2lmKHQuY2FsbCh0aGlzKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPWUsaShuKSYmKG49dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5nZXRCYXNlSHJlZkZyb21ET00oKSksaShuKSl0aHJvdyBuZXcgRXJyb3IoXCJObyBiYXNlIGhyZWYgc2V0LiBQbGVhc2UgcHJvdmlkZSBhIHZhbHVlIGZvciB0aGUgQVBQX0JBU0VfSFJFRiB0b2tlbiBvciBhZGQgYSBiYXNlIGVsZW1lbnQgdG8gdGhlIGRvY3VtZW50LlwiKTt0aGlzLl9iYXNlSHJlZj1ufXJldHVybiBIKG4sdCksbi5wcm90b3R5cGUub25Qb3BTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uUG9wU3RhdGUodCksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5vbkhhc2hDaGFuZ2UodCl9LG4ucHJvdG90eXBlLmdldEJhc2VIcmVmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Jhc2VIcmVmfSxuLnByb3RvdHlwZS5wcmVwYXJlRXh0ZXJuYWxVcmw9ZnVuY3Rpb24odCl7cmV0dXJuIEwuam9pbldpdGhTbGFzaCh0aGlzLl9iYXNlSHJlZix0KX0sbi5wcm90b3R5cGUucGF0aD1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0hMSk7dmFyIGU9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5wYXRobmFtZStMLm5vcm1hbGl6ZVF1ZXJ5UGFyYW1zKHRoaXMuX3BsYXRmb3JtTG9jYXRpb24uc2VhcmNoKSxuPXRoaXMuX3BsYXRmb3JtTG9jYXRpb24uaGFzaDtyZXR1cm4gbiYmdD9cIlwiK2UrbjplfSxuLnByb3RvdHlwZS5wdXNoU3RhdGU9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwobitMLm5vcm1hbGl6ZVF1ZXJ5UGFyYW1zKHIpKTt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnB1c2hTdGF0ZSh0LGUsaSl9LG4ucHJvdG90eXBlLnJlcGxhY2VTdGF0ZT1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLnByZXBhcmVFeHRlcm5hbFVybChuK0wubm9ybWFsaXplUXVlcnlQYXJhbXMocikpO3RoaXMuX3BsYXRmb3JtTG9jYXRpb24ucmVwbGFjZVN0YXRlKHQsZSxpKX0sbi5wcm90b3R5cGUuZm9yd2FyZD1mdW5jdGlvbigpe3RoaXMuX3BsYXRmb3JtTG9jYXRpb24uZm9yd2FyZCgpfSxuLnByb3RvdHlwZS5iYWNrPWZ1bmN0aW9uKCl7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5iYWNrKCl9LG4uZGVjb3JhdG9ycz1be3R5cGU6ZS5JbmplY3RhYmxlfV0sbi5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTprfSx7dHlwZTp2b2lkIDAsZGVjb3JhdG9yczpbe3R5cGU6ZS5PcHRpb25hbH0se3R5cGU6ZS5JbmplY3QsYXJnczpbTl19XX1dfSxufShJKSxxPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSx6PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0UGx1cmFsQ2F0ZWdvcnk9ZnVuY3Rpb24odCl7fSx0fSgpLFc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlKXt0LmNhbGwodGhpcyksdGhpcy5fbG9jYWxlPWV9cmV0dXJuIHEobix0KSxuLnByb3RvdHlwZS5nZXRQbHVyYWxDYXRlZ29yeT1mdW5jdGlvbih0KXt2YXIgZT1wKHRoaXMuX2xvY2FsZSx0KTtzd2l0Y2goZSl7Y2FzZSBHLlplcm86cmV0dXJuXCJ6ZXJvXCI7Y2FzZSBHLk9uZTpyZXR1cm5cIm9uZVwiO2Nhc2UgRy5Ud286cmV0dXJuXCJ0d29cIjtjYXNlIEcuRmV3OnJldHVyblwiZmV3XCI7Y2FzZSBHLk1hbnk6cmV0dXJuXCJtYW55XCI7ZGVmYXVsdDpyZXR1cm5cIm90aGVyXCJ9fSxuLmRlY29yYXRvcnM9W3t0eXBlOmUuSW5qZWN0YWJsZX1dLG4uY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6dm9pZCAwLGRlY29yYXRvcnM6W3t0eXBlOmUuSW5qZWN0LGFyZ3M6W2UuTE9DQUxFX0lEXX1dfV19LG59KHopLEc9e307Ry5aZXJvPTAsRy5PbmU9MSxHLlR3bz0yLEcuRmV3PTMsRy5NYW55PTQsRy5PdGhlcj01LEdbRy5aZXJvXT1cIlplcm9cIixHW0cuT25lXT1cIk9uZVwiLEdbRy5Ud29dPVwiVHdvXCIsR1tHLkZld109XCJGZXdcIixHW0cuTWFueV09XCJNYW55XCIsR1tHLk90aGVyXT1cIk90aGVyXCI7dmFyIFg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMuX2l0ZXJhYmxlRGlmZmVycz10LHRoaXMuX2tleVZhbHVlRGlmZmVycz1lLHRoaXMuX25nRWw9bix0aGlzLl9yZW5kZXJlcj1yLHRoaXMuX2luaXRpYWxDbGFzc2VzPVtdfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJrbGFzc1wiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYXBwbHlJbml0aWFsQ2xhc3NlcyghMCksdGhpcy5faW5pdGlhbENsYXNzZXM9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dC5zcGxpdCgvXFxzKy8pOltdLHRoaXMuX2FwcGx5SW5pdGlhbENsYXNzZXMoITEpLHRoaXMuX2FwcGx5Q2xhc3Nlcyh0aGlzLl9yYXdDbGFzcywhMSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmdDbGFzc1wiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY2xlYW51cENsYXNzZXModGhpcy5fcmF3Q2xhc3MpLHRoaXMuX2l0ZXJhYmxlRGlmZmVyPW51bGwsdGhpcy5fa2V5VmFsdWVEaWZmZXI9bnVsbCx0aGlzLl9yYXdDbGFzcz1cInN0cmluZ1wiPT10eXBlb2YgdD90LnNwbGl0KC9cXHMrLyk6dCx0aGlzLl9yYXdDbGFzcyYmKGgodGhpcy5fcmF3Q2xhc3MpP3RoaXMuX2l0ZXJhYmxlRGlmZmVyPXRoaXMuX2l0ZXJhYmxlRGlmZmVycy5maW5kKHRoaXMuX3Jhd0NsYXNzKS5jcmVhdGUobnVsbCk6dGhpcy5fa2V5VmFsdWVEaWZmZXI9dGhpcy5fa2V5VmFsdWVEaWZmZXJzLmZpbmQodGhpcy5fcmF3Q2xhc3MpLmNyZWF0ZShudWxsKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubmdEb0NoZWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5faXRlcmFibGVEaWZmZXIpe3ZhciB0PXRoaXMuX2l0ZXJhYmxlRGlmZmVyLmRpZmYodGhpcy5fcmF3Q2xhc3MpO3QmJnRoaXMuX2FwcGx5SXRlcmFibGVDaGFuZ2VzKHQpfWVsc2UgaWYodGhpcy5fa2V5VmFsdWVEaWZmZXIpe3ZhciB0PXRoaXMuX2tleVZhbHVlRGlmZmVyLmRpZmYodGhpcy5fcmF3Q2xhc3MpO3QmJnRoaXMuX2FwcGx5S2V5VmFsdWVDaGFuZ2VzKHQpfX0sdC5wcm90b3R5cGUuX2NsZWFudXBDbGFzc2VzPWZ1bmN0aW9uKHQpe3RoaXMuX2FwcGx5Q2xhc3Nlcyh0LCEwKSx0aGlzLl9hcHBseUluaXRpYWxDbGFzc2VzKCExKX0sdC5wcm90b3R5cGUuX2FwcGx5S2V5VmFsdWVDaGFuZ2VzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5mb3JFYWNoQWRkZWRJdGVtKGZ1bmN0aW9uKHQpe3JldHVybiBlLl90b2dnbGVDbGFzcyh0LmtleSx0LmN1cnJlbnRWYWx1ZSl9KSx0LmZvckVhY2hDaGFuZ2VkSXRlbShmdW5jdGlvbih0KXtyZXR1cm4gZS5fdG9nZ2xlQ2xhc3ModC5rZXksdC5jdXJyZW50VmFsdWUpfSksdC5mb3JFYWNoUmVtb3ZlZEl0ZW0oZnVuY3Rpb24odCl7dC5wcmV2aW91c1ZhbHVlJiZlLl90b2dnbGVDbGFzcyh0LmtleSwhMSl9KX0sdC5wcm90b3R5cGUuX2FwcGx5SXRlcmFibGVDaGFuZ2VzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5mb3JFYWNoQWRkZWRJdGVtKGZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0Lml0ZW0pdGhyb3cgbmV3IEVycm9yKFwiTmdDbGFzcyBjYW4gb25seSB0b2dnbGUgQ1NTIGNsYXNzZXMgZXhwcmVzc2VkIGFzIHN0cmluZ3MsIGdvdCBcIitvKHQuaXRlbSkpO2UuX3RvZ2dsZUNsYXNzKHQuaXRlbSwhMCl9KSx0LmZvckVhY2hSZW1vdmVkSXRlbShmdW5jdGlvbih0KXtyZXR1cm4gZS5fdG9nZ2xlQ2xhc3ModC5pdGVtLCExKX0pfSx0LnByb3RvdHlwZS5fYXBwbHlJbml0aWFsQ2xhc3Nlcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2luaXRpYWxDbGFzc2VzLmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIGUuX3RvZ2dsZUNsYXNzKG4sIXQpfSl9LHQucHJvdG90eXBlLl9hcHBseUNsYXNzZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3QmJihBcnJheS5pc0FycmF5KHQpfHx0IGluc3RhbmNlb2YgU2V0P3QuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5fdG9nZ2xlQ2xhc3ModCwhZSl9KTpPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKHIpe251bGwhPXRbcl0mJm4uX3RvZ2dsZUNsYXNzKHIsIWUpfSkpfSx0LnByb3RvdHlwZS5fdG9nZ2xlQ2xhc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3Q9dC50cmltKCksdCYmdC5zcGxpdCgvXFxzKy9nKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe24uX3JlbmRlcmVyLnNldEVsZW1lbnRDbGFzcyhuLl9uZ0VsLm5hdGl2ZUVsZW1lbnQsdCxlKX0pfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltuZ0NsYXNzXVwifV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOmUuSXRlcmFibGVEaWZmZXJzfSx7dHlwZTplLktleVZhbHVlRGlmZmVyc30se3R5cGU6ZS5FbGVtZW50UmVmfSx7dHlwZTplLlJlbmRlcmVyfV19LHQucHJvcERlY29yYXRvcnM9e2tsYXNzOlt7dHlwZTplLklucHV0LGFyZ3M6W1wiY2xhc3NcIl19XSxuZ0NsYXNzOlt7dHlwZTplLklucHV0fV19LHR9KCksJD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuJGltcGxpY2l0PXQsdGhpcy5pbmRleD1lLHRoaXMuY291bnQ9bn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZmlyc3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmluZGV4fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImxhc3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXg9PT10aGlzLmNvdW50LTF9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZXZlblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRleCUyPT09MH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvZGRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZXZlbn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0fSgpLFE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMuX3ZpZXdDb250YWluZXI9dCx0aGlzLl90ZW1wbGF0ZT1lLHRoaXMuX2RpZmZlcnM9bix0aGlzLl9jZHI9cix0aGlzLl9kaWZmZXI9bnVsbH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmdGb3JUcmFja0J5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFja0J5Rm59LHNldDpmdW5jdGlvbih0KXtlLmlzRGV2TW9kZSgpJiZudWxsIT10JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihcInRyYWNrQnkgbXVzdCBiZSBhIGZ1bmN0aW9uLCBidXQgcmVjZWl2ZWQgXCIrSlNPTi5zdHJpbmdpZnkodCkrXCIuIFNlZSBodHRwczovL2FuZ3VsYXIuaW8vZG9jcy90cy9sYXRlc3QvYXBpL2NvbW1vbi9pbmRleC9OZ0Zvci1kaXJlY3RpdmUuaHRtbCMhI2NoYW5nZS1wcm9wYWdhdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIiksdGhpcy5fdHJhY2tCeUZuPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmdGb3JUZW1wbGF0ZVwiLHtzZXQ6ZnVuY3Rpb24odCl7dCYmKHRoaXMuX3RlbXBsYXRlPXQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLm5nT25DaGFuZ2VzPWZ1bmN0aW9uKHQpe2lmKFwibmdGb3JPZlwiaW4gdCl7dmFyIGU9dC5uZ0Zvck9mLmN1cnJlbnRWYWx1ZTtpZighdGhpcy5fZGlmZmVyJiZlKXRyeXt0aGlzLl9kaWZmZXI9dGhpcy5fZGlmZmVycy5maW5kKGUpLmNyZWF0ZSh0aGlzLl9jZHIsdGhpcy5uZ0ZvclRyYWNrQnkpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICdcIitlK1wiJyBvZiB0eXBlICdcIituKGUpK1wiJy4gTmdGb3Igb25seSBzdXBwb3J0cyBiaW5kaW5nIHRvIEl0ZXJhYmxlcyBzdWNoIGFzIEFycmF5cy5cIil9fX0sdC5wcm90b3R5cGUubmdEb0NoZWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGlmZmVyKXt2YXIgdD10aGlzLl9kaWZmZXIuZGlmZih0aGlzLm5nRm9yT2YpO3QmJnRoaXMuX2FwcGx5Q2hhbmdlcyh0KX19LHQucHJvdG90eXBlLl9hcHBseUNoYW5nZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPVtdO3QuZm9yRWFjaE9wZXJhdGlvbihmdW5jdGlvbih0LHIsaSl7aWYobnVsbD09dC5wcmV2aW91c0luZGV4KXt2YXIgbz1lLl92aWV3Q29udGFpbmVyLmNyZWF0ZUVtYmVkZGVkVmlldyhlLl90ZW1wbGF0ZSxuZXcgJChudWxsLG51bGwsbnVsbCksaSkscz1uZXcgWSh0LG8pO24ucHVzaChzKX1lbHNlIGlmKG51bGw9PWkpZS5fdmlld0NvbnRhaW5lci5yZW1vdmUocik7ZWxzZXt2YXIgbz1lLl92aWV3Q29udGFpbmVyLmdldChyKTtlLl92aWV3Q29udGFpbmVyLm1vdmUobyxpKTt2YXIgcz1uZXcgWSh0LG8pO24ucHVzaChzKX19KTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl0aGlzLl9wZXJWaWV3Q2hhbmdlKG5bcl0udmlldyxuW3JdLnJlY29yZCk7Zm9yKHZhciByPTAsaT10aGlzLl92aWV3Q29udGFpbmVyLmxlbmd0aDtyPGk7cisrKXt2YXIgbz10aGlzLl92aWV3Q29udGFpbmVyLmdldChyKTtvLmNvbnRleHQuaW5kZXg9cixvLmNvbnRleHQuY291bnQ9aX10LmZvckVhY2hJZGVudGl0eUNoYW5nZShmdW5jdGlvbih0KXt2YXIgbj1lLl92aWV3Q29udGFpbmVyLmdldCh0LmN1cnJlbnRJbmRleCk7bi5jb250ZXh0LiRpbXBsaWNpdD10Lml0ZW19KX0sdC5wcm90b3R5cGUuX3BlclZpZXdDaGFuZ2U9ZnVuY3Rpb24odCxlKXt0LmNvbnRleHQuJGltcGxpY2l0PWUuaXRlbX0sdC5kZWNvcmF0b3JzPVt7dHlwZTplLkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJbbmdGb3JdW25nRm9yT2ZdXCJ9XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6ZS5WaWV3Q29udGFpbmVyUmVmfSx7dHlwZTplLlRlbXBsYXRlUmVmfSx7dHlwZTplLkl0ZXJhYmxlRGlmZmVyc30se3R5cGU6ZS5DaGFuZ2VEZXRlY3RvclJlZn1dfSx0LnByb3BEZWNvcmF0b3JzPXtuZ0Zvck9mOlt7dHlwZTplLklucHV0fV0sbmdGb3JUcmFja0J5Olt7dHlwZTplLklucHV0fV0sbmdGb3JUZW1wbGF0ZTpbe3R5cGU6ZS5JbnB1dH1dfSx0fSgpLFk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5yZWNvcmQ9dCx0aGlzLnZpZXc9ZX1yZXR1cm4gdH0oKSxLPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX3ZpZXdDb250YWluZXI9dCx0aGlzLl90ZW1wbGF0ZT1lLHRoaXMuX2hhc1ZpZXc9ITF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5nSWZcIix7c2V0OmZ1bmN0aW9uKHQpe3QmJiF0aGlzLl9oYXNWaWV3Pyh0aGlzLl9oYXNWaWV3PSEwLHRoaXMuX3ZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuX3RlbXBsYXRlKSk6IXQmJnRoaXMuX2hhc1ZpZXcmJih0aGlzLl9oYXNWaWV3PSExLHRoaXMuX3ZpZXdDb250YWluZXIuY2xlYXIoKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5kZWNvcmF0b3JzPVt7dHlwZTplLkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJbbmdJZl1cIn1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTplLlZpZXdDb250YWluZXJSZWZ9LHt0eXBlOmUuVGVtcGxhdGVSZWZ9XX0sdC5wcm9wRGVjb3JhdG9ycz17bmdJZjpbe3R5cGU6ZS5JbnB1dH1dfSx0fSgpLFo9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fdmlld0NvbnRhaW5lclJlZj10LHRoaXMuX3RlbXBsYXRlUmVmPWUsdGhpcy5fY3JlYXRlZD0hMX1yZXR1cm4gdC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7dGhpcy5fY3JlYXRlZD0hMCx0aGlzLl92aWV3Q29udGFpbmVyUmVmLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLl90ZW1wbGF0ZVJlZil9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9jcmVhdGVkPSExLHRoaXMuX3ZpZXdDb250YWluZXJSZWYuY2xlYXIoKX0sdC5wcm90b3R5cGUuZW5mb3JjZVN0YXRlPWZ1bmN0aW9uKHQpe3QmJiF0aGlzLl9jcmVhdGVkP3RoaXMuY3JlYXRlKCk6IXQmJnRoaXMuX2NyZWF0ZWQmJnRoaXMuZGVzdHJveSgpfSx0fSgpLEo9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fZGVmYXVsdFVzZWQ9ITEsdGhpcy5fY2FzZUNvdW50PTAsdGhpcy5fbGFzdENhc2VDaGVja0luZGV4PTAsdGhpcy5fbGFzdENhc2VzTWF0Y2hlZD0hMX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmdTd2l0Y2hcIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX25nU3dpdGNoPXQsMD09PXRoaXMuX2Nhc2VDb3VudCYmdGhpcy5fdXBkYXRlRGVmYXVsdENhc2VzKCEwKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5fYWRkQ2FzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXNlQ291bnQrK30sdC5wcm90b3R5cGUuX2FkZERlZmF1bHQ9ZnVuY3Rpb24odCl7dGhpcy5fZGVmYXVsdFZpZXdzfHwodGhpcy5fZGVmYXVsdFZpZXdzPVtdKSx0aGlzLl9kZWZhdWx0Vmlld3MucHVzaCh0KX0sdC5wcm90b3R5cGUuX21hdGNoQ2FzZT1mdW5jdGlvbih0KXt2YXIgZT10PT10aGlzLl9uZ1N3aXRjaDtyZXR1cm4gdGhpcy5fbGFzdENhc2VzTWF0Y2hlZD10aGlzLl9sYXN0Q2FzZXNNYXRjaGVkfHxlLHRoaXMuX2xhc3RDYXNlQ2hlY2tJbmRleCsrLHRoaXMuX2xhc3RDYXNlQ2hlY2tJbmRleD09PXRoaXMuX2Nhc2VDb3VudCYmKHRoaXMuX3VwZGF0ZURlZmF1bHRDYXNlcyghdGhpcy5fbGFzdENhc2VzTWF0Y2hlZCksdGhpcy5fbGFzdENhc2VDaGVja0luZGV4PTAsdGhpcy5fbGFzdENhc2VzTWF0Y2hlZD0hMSksZX0sdC5wcm90b3R5cGUuX3VwZGF0ZURlZmF1bHRDYXNlcz1mdW5jdGlvbih0KXtpZih0aGlzLl9kZWZhdWx0Vmlld3MmJnQhPT10aGlzLl9kZWZhdWx0VXNlZCl7dGhpcy5fZGVmYXVsdFVzZWQ9dDtmb3IodmFyIGU9MDtlPHRoaXMuX2RlZmF1bHRWaWV3cy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLl9kZWZhdWx0Vmlld3NbZV07bi5lbmZvcmNlU3RhdGUodCl9fX0sdC5kZWNvcmF0b3JzPVt7dHlwZTplLkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJbbmdTd2l0Y2hdXCJ9XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdC5wcm9wRGVjb3JhdG9ycz17bmdTd2l0Y2g6W3t0eXBlOmUuSW5wdXR9XX0sdH0oKSx0dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMubmdTd2l0Y2g9bixuLl9hZGRDYXNlKCksdGhpcy5fdmlldz1uZXcgWih0LGUpfXJldHVybiB0LnByb3RvdHlwZS5uZ0RvQ2hlY2s9ZnVuY3Rpb24oKXt0aGlzLl92aWV3LmVuZm9yY2VTdGF0ZSh0aGlzLm5nU3dpdGNoLl9tYXRjaENhc2UodGhpcy5uZ1N3aXRjaENhc2UpKX0sdC5kZWNvcmF0b3JzPVt7dHlwZTplLkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJbbmdTd2l0Y2hDYXNlXVwifV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOmUuVmlld0NvbnRhaW5lclJlZn0se3R5cGU6ZS5UZW1wbGF0ZVJlZn0se3R5cGU6SixkZWNvcmF0b3JzOlt7dHlwZTplLkhvc3R9XX1dfSx0LnByb3BEZWNvcmF0b3JzPXtuZ1N3aXRjaENhc2U6W3t0eXBlOmUuSW5wdXR9XX0sdH0oKSxldD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe24uX2FkZERlZmF1bHQobmV3IFoodCxlKSl9cmV0dXJuIHQuZGVjb3JhdG9ycz1be3R5cGU6ZS5EaXJlY3RpdmUsYXJnczpbe3NlbGVjdG9yOlwiW25nU3dpdGNoRGVmYXVsdF1cIn1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTplLlZpZXdDb250YWluZXJSZWZ9LHt0eXBlOmUuVGVtcGxhdGVSZWZ9LHt0eXBlOkosZGVjb3JhdG9yczpbe3R5cGU6ZS5Ib3N0fV19XX0sdH0oKSxudD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fbG9jYWxpemF0aW9uPXQsdGhpcy5fY2FzZVZpZXdzPXt9fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJuZ1BsdXJhbFwiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc3dpdGNoVmFsdWU9dCx0aGlzLl91cGRhdGVWaWV3KCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuYWRkQ2FzZT1mdW5jdGlvbih0LGUpe3RoaXMuX2Nhc2VWaWV3c1t0XT1lfSx0LnByb3RvdHlwZS5fdXBkYXRlVmlldz1mdW5jdGlvbigpe3RoaXMuX2NsZWFyVmlld3MoKTt2YXIgdD1PYmplY3Qua2V5cyh0aGlzLl9jYXNlVmlld3MpLGU9bCh0aGlzLl9zd2l0Y2hWYWx1ZSx0LHRoaXMuX2xvY2FsaXphdGlvbik7dGhpcy5fYWN0aXZhdGVWaWV3KHRoaXMuX2Nhc2VWaWV3c1tlXSl9LHQucHJvdG90eXBlLl9jbGVhclZpZXdzPWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlVmlldyYmdGhpcy5fYWN0aXZlVmlldy5kZXN0cm95KCl9LHQucHJvdG90eXBlLl9hY3RpdmF0ZVZpZXc9ZnVuY3Rpb24odCl7dCYmKHRoaXMuX2FjdGl2ZVZpZXc9dCx0aGlzLl9hY3RpdmVWaWV3LmNyZWF0ZSgpKX0sdC5kZWNvcmF0b3JzPVt7dHlwZTplLkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJbbmdQbHVyYWxdXCJ9XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6en1dfSx0LnByb3BEZWNvcmF0b3JzPXtuZ1BsdXJhbDpbe3R5cGU6ZS5JbnB1dH1dfSx0fSgpLHJ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLnZhbHVlPXQ7dmFyIGk9IWlzTmFOKE51bWJlcih0KSk7ci5hZGRDYXNlKGk/XCI9XCIrdDp0LG5ldyBaKG4sZSkpfXJldHVybiB0LmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltuZ1BsdXJhbENhc2VdXCJ9XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6dm9pZCAwLGRlY29yYXRvcnM6W3t0eXBlOmUuQXR0cmlidXRlLGFyZ3M6W1wibmdQbHVyYWxDYXNlXCJdfV19LHt0eXBlOmUuVGVtcGxhdGVSZWZ9LHt0eXBlOmUuVmlld0NvbnRhaW5lclJlZn0se3R5cGU6bnQsZGVjb3JhdG9yczpbe3R5cGU6ZS5Ib3N0fV19XX0sdH0oKSxpdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuX2RpZmZlcnM9dCx0aGlzLl9uZ0VsPWUsdGhpcy5fcmVuZGVyZXI9bn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmdTdHlsZVwiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbmdTdHlsZT10LCF0aGlzLl9kaWZmZXImJnQmJih0aGlzLl9kaWZmZXI9dGhpcy5fZGlmZmVycy5maW5kKHQpLmNyZWF0ZShudWxsKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubmdEb0NoZWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGlmZmVyKXt2YXIgdD10aGlzLl9kaWZmZXIuZGlmZih0aGlzLl9uZ1N0eWxlKTt0JiZ0aGlzLl9hcHBseUNoYW5nZXModCl9fSx0LnByb3RvdHlwZS5fYXBwbHlDaGFuZ2VzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5mb3JFYWNoUmVtb3ZlZEl0ZW0oZnVuY3Rpb24odCl7cmV0dXJuIGUuX3NldFN0eWxlKHQua2V5LG51bGwpfSksdC5mb3JFYWNoQWRkZWRJdGVtKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9zZXRTdHlsZSh0LmtleSx0LmN1cnJlbnRWYWx1ZSl9KSx0LmZvckVhY2hDaGFuZ2VkSXRlbShmdW5jdGlvbih0KXtyZXR1cm4gZS5fc2V0U3R5bGUodC5rZXksdC5jdXJyZW50VmFsdWUpfSl9LHQucHJvdG90eXBlLl9zZXRTdHlsZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3BsaXQoXCIuXCIpLHI9blswXSxpPW5bMV07ZT1lJiZpP1wiXCIrZStpOmUsdGhpcy5fcmVuZGVyZXIuc2V0RWxlbWVudFN0eWxlKHRoaXMuX25nRWwubmF0aXZlRWxlbWVudCxyLGUpfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltuZ1N0eWxlXVwifV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOmUuS2V5VmFsdWVEaWZmZXJzfSx7dHlwZTplLkVsZW1lbnRSZWZ9LHt0eXBlOmUuUmVuZGVyZXJ9XX0sdC5wcm9wRGVjb3JhdG9ycz17bmdTdHlsZTpbe3R5cGU6ZS5JbnB1dH1dfSx0fSgpLG90PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl92aWV3Q29udGFpbmVyUmVmPXR9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5nT3V0bGV0Q29udGV4dFwiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY29udGV4dD10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5nVGVtcGxhdGVPdXRsZXRcIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RlbXBsYXRlUmVmPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubmdPbkNoYW5nZXM9ZnVuY3Rpb24odCl7dGhpcy5fdmlld1JlZiYmdGhpcy5fdmlld0NvbnRhaW5lclJlZi5yZW1vdmUodGhpcy5fdmlld0NvbnRhaW5lclJlZi5pbmRleE9mKHRoaXMuX3ZpZXdSZWYpKSx0aGlzLl90ZW1wbGF0ZVJlZiYmKHRoaXMuX3ZpZXdSZWY9dGhpcy5fdmlld0NvbnRhaW5lclJlZi5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fdGVtcGxhdGVSZWYsdGhpcy5fY29udGV4dCkpfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltuZ1RlbXBsYXRlT3V0bGV0XVwifV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOmUuVmlld0NvbnRhaW5lclJlZn1dfSx0LnByb3BEZWNvcmF0b3JzPXtuZ091dGxldENvbnRleHQ6W3t0eXBlOmUuSW5wdXR9XSxuZ1RlbXBsYXRlT3V0bGV0Olt7dHlwZTplLklucHV0fV19LHR9KCksc3Q9W1gsUSxLLG90LGl0LEosdHQsZXQsbnQscnRdLGF0PWUuX19jb3JlX3ByaXZhdGVfXy5pc1Byb21pc2UsdXQ9ZS5fX2NvcmVfcHJpdmF0ZV9fLmlzT2JzZXJ2YWJsZSxjdD10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sbHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlKTt2YXIgbj1uZXcgRXJyb3IoZSk7dGhpcy5fbmF0aXZlRXJyb3I9bn1yZXR1cm4gY3QoZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtZXNzYWdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYXRpdmVFcnJvci5tZXNzYWdlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbmF0aXZlRXJyb3IubWVzc2FnZT10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm5hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25hdGl2ZUVycm9yLm5hbWV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3RhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25hdGl2ZUVycm9yLnN0YWNrfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbmF0aXZlRXJyb3Iuc3RhY2s9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYXRpdmVFcnJvci50b1N0cmluZygpfSxlfShFcnJvcikscHQ9KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxlK1wiIGNhdXNlZCBieTogXCIrKG4gaW5zdGFuY2VvZiBFcnJvcj9uLm1lc3NhZ2U6bikpLHRoaXMub3JpZ2luYWxFcnJvcj1ufXJldHVybiBjdChlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInN0YWNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybih0aGlzLm9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBFcnJvcj90aGlzLm9yaWdpbmFsRXJyb3I6dGhpcy5fbmF0aXZlRXJyb3IpLnN0YWNrfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGV9KGx0KSx0aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pLGh0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxcIkludmFsaWQgYXJndW1lbnQgJ1wiK24rXCInIGZvciBwaXBlICdcIitvKGUpK1wiJ1wiKX1yZXR1cm4gcHQoZSx0KSxlfShsdCksZnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGVTdWJzY3JpcHRpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zdWJzY3JpYmUoe25leHQ6ZSxlcnJvcjpmdW5jdGlvbih0KXt0aHJvdyB0fX0pfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQpe3QudW5zdWJzY3JpYmUoKX0sdC5wcm90b3R5cGUub25EZXN0cm95PWZ1bmN0aW9uKHQpe3QudW5zdWJzY3JpYmUoKX0sdH0oKSxkdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZVN1YnNjcmlwdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0LnRoZW4oZSxmdW5jdGlvbih0KXt0aHJvdyB0fSl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5vbkRlc3Ryb3k9ZnVuY3Rpb24odCl7fSx0fSgpLHl0PW5ldyBkdCxtdD1uZXcgZnQsdnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlZj10LHRoaXMuX2xhdGVzdFZhbHVlPW51bGwsdGhpcy5fbGF0ZXN0UmV0dXJuZWRWYWx1ZT1udWxsLHRoaXMuX3N1YnNjcmlwdGlvbj1udWxsLHRoaXMuX29iaj1udWxsLHRoaXMuX3N0cmF0ZWd5PW51bGx9cmV0dXJuIHQucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fc3Vic2NyaXB0aW9uJiZ0aGlzLl9kaXNwb3NlKCl9LHQucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb2JqP3QhPT10aGlzLl9vYmo/KHRoaXMuX2Rpc3Bvc2UoKSx0aGlzLnRyYW5zZm9ybSh0KSk6dGhpcy5fbGF0ZXN0VmFsdWU9PT10aGlzLl9sYXRlc3RSZXR1cm5lZFZhbHVlP3RoaXMuX2xhdGVzdFJldHVybmVkVmFsdWU6KHRoaXMuX2xhdGVzdFJldHVybmVkVmFsdWU9dGhpcy5fbGF0ZXN0VmFsdWUsZS5XcmFwcGVkVmFsdWUud3JhcCh0aGlzLl9sYXRlc3RWYWx1ZSkpOih0JiZ0aGlzLl9zdWJzY3JpYmUodCksdGhpcy5fbGF0ZXN0UmV0dXJuZWRWYWx1ZT10aGlzLl9sYXRlc3RWYWx1ZSx0aGlzLl9sYXRlc3RWYWx1ZSl9LHQucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLl9vYmo9dCx0aGlzLl9zdHJhdGVneT10aGlzLl9zZWxlY3RTdHJhdGVneSh0KSx0aGlzLl9zdWJzY3JpcHRpb249dGhpcy5fc3RyYXRlZ3kuY3JlYXRlU3Vic2NyaXB0aW9uKHQsZnVuY3Rpb24obil7cmV0dXJuIGUuX3VwZGF0ZUxhdGVzdFZhbHVlKHQsbil9KX0sdC5wcm90b3R5cGUuX3NlbGVjdFN0cmF0ZWd5PWZ1bmN0aW9uKGUpe2lmKGF0KGUpKXJldHVybiB5dDtpZih1dChlKSlyZXR1cm4gbXQ7dGhyb3cgbmV3IGh0KHQsZSl9LHQucHJvdG90eXBlLl9kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fc3RyYXRlZ3kuZGlzcG9zZSh0aGlzLl9zdWJzY3JpcHRpb24pLHRoaXMuX2xhdGVzdFZhbHVlPW51bGwsdGhpcy5fbGF0ZXN0UmV0dXJuZWRWYWx1ZT1udWxsLHRoaXMuX3N1YnNjcmlwdGlvbj1udWxsLHRoaXMuX29iaj1udWxsfSx0LnByb3RvdHlwZS5fdXBkYXRlTGF0ZXN0VmFsdWU9ZnVuY3Rpb24odCxlKXt0PT09dGhpcy5fb2JqJiYodGhpcy5fbGF0ZXN0VmFsdWU9ZSx0aGlzLl9yZWYubWFya0ZvckNoZWNrKCkpfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuUGlwZSxhcmdzOlt7bmFtZTpcImFzeW5jXCIscHVyZTohMX1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTplLkNoYW5nZURldGVjdG9yUmVmfV19LHR9KCksZ3Q9e307Z3QuRGVjaW1hbD0wLGd0LlBlcmNlbnQ9MSxndC5DdXJyZW5jeT0yLGd0W2d0LkRlY2ltYWxdPVwiRGVjaW1hbFwiLGd0W2d0LlBlcmNlbnRdPVwiUGVyY2VudFwiLGd0W2d0LkN1cnJlbmN5XT1cIkN1cnJlbmN5XCI7dmFyIF90PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5mb3JtYXQ9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dm9pZCAwPT09cj97fTpyLG89aS5taW5pbXVtSW50ZWdlckRpZ2l0cyxzPWkubWluaW11bUZyYWN0aW9uRGlnaXRzLGE9aS5tYXhpbXVtRnJhY3Rpb25EaWdpdHMsdT1pLmN1cnJlbmN5LGM9aS5jdXJyZW5jeUFzU3ltYm9sLGw9dm9pZCAwIT09YyYmYyxwPXttaW5pbXVtSW50ZWdlckRpZ2l0czpvLG1pbmltdW1GcmFjdGlvbkRpZ2l0czpzLG1heGltdW1GcmFjdGlvbkRpZ2l0czphLHN0eWxlOmd0W25dLnRvTG93ZXJDYXNlKCl9O3JldHVybiBuPT1ndC5DdXJyZW5jeSYmKHAuY3VycmVuY3k9dSxwLmN1cnJlbmN5RGlzcGxheT1sP1wic3ltYm9sXCI6XCJjb2RlXCIpLG5ldyBJbnRsLk51bWJlckZvcm1hdChlLHApLmZvcm1hdCh0KTtcbn0sdH0oKSxidD0vKCg/OlteeU1MZEhobXNhelpFd0dqSiddKyl8KD86Jyg/OlteJ118JycpKicpfCg/OkUrfHkrfE0rfEwrfGQrfEgrfGgrfEorfGorfG0rfHMrfGF8enxafEcrfHcrKSkoLiopLyx3dD17eU1NTWRqbXM6Qyh3KFtfKFwieWVhclwiLDEpLGIoXCJtb250aFwiLDMpLF8oXCJkYXlcIiwxKSxfKFwiaG91clwiLDEpLF8oXCJtaW51dGVcIiwxKSxfKFwic2Vjb25kXCIsMSldKSkseU1kam06Qyh3KFtfKFwieWVhclwiLDEpLF8oXCJtb250aFwiLDEpLF8oXCJkYXlcIiwxKSxfKFwiaG91clwiLDEpLF8oXCJtaW51dGVcIiwxKV0pKSx5TU1NTUVFRUVkOkModyhbXyhcInllYXJcIiwxKSxiKFwibW9udGhcIiw0KSxiKFwid2Vla2RheVwiLDQpLF8oXCJkYXlcIiwxKV0pKSx5TU1NTWQ6Qyh3KFtfKFwieWVhclwiLDEpLGIoXCJtb250aFwiLDQpLF8oXCJkYXlcIiwxKV0pKSx5TU1NZDpDKHcoW18oXCJ5ZWFyXCIsMSksYihcIm1vbnRoXCIsMyksXyhcImRheVwiLDEpXSkpLHlNZDpDKHcoW18oXCJ5ZWFyXCIsMSksXyhcIm1vbnRoXCIsMSksXyhcImRheVwiLDEpXSkpLGptczpDKHcoW18oXCJob3VyXCIsMSksXyhcInNlY29uZFwiLDEpLF8oXCJtaW51dGVcIiwxKV0pKSxqbTpDKHcoW18oXCJob3VyXCIsMSksXyhcIm1pbnV0ZVwiLDEpXSkpfSxDdD17eXl5eTpDKF8oXCJ5ZWFyXCIsNCkpLHl5OkMoXyhcInllYXJcIiwyKSkseTpDKF8oXCJ5ZWFyXCIsMSkpLE1NTU06QyhiKFwibW9udGhcIiw0KSksTU1NOkMoYihcIm1vbnRoXCIsMykpLE1NOkMoXyhcIm1vbnRoXCIsMikpLE06QyhfKFwibW9udGhcIiwxKSksTExMTDpDKGIoXCJtb250aFwiLDQpKSxMOkMoYihcIm1vbnRoXCIsMSkpLGRkOkMoXyhcImRheVwiLDIpKSxkOkMoXyhcImRheVwiLDEpKSxISDpmKHkoQyhnKF8oXCJob3VyXCIsMiksITEpKSkpLEg6eShDKGcoXyhcImhvdXJcIiwxKSwhMSkpKSxoaDpmKHkoQyhnKF8oXCJob3VyXCIsMiksITApKSkpLGg6eShDKGcoXyhcImhvdXJcIiwxKSwhMCkpKSxqajpDKF8oXCJob3VyXCIsMikpLGo6QyhfKFwiaG91clwiLDEpKSxtbTpmKEMoXyhcIm1pbnV0ZVwiLDIpKSksbTpDKF8oXCJtaW51dGVcIiwxKSksc3M6ZihDKF8oXCJzZWNvbmRcIiwyKSkpLHM6QyhfKFwic2Vjb25kXCIsMSkpLHNzczpDKF8oXCJzZWNvbmRcIiwzKSksRUVFRTpDKGIoXCJ3ZWVrZGF5XCIsNCkpLEVFRTpDKGIoXCJ3ZWVrZGF5XCIsMykpLEVFOkMoYihcIndlZWtkYXlcIiwyKSksRTpDKGIoXCJ3ZWVrZGF5XCIsMSkpLGE6ZChDKGcoXyhcImhvdXJcIiwxKSwhMCkpKSxaOnYoXCJzaG9ydFwiKSx6OnYoXCJsb25nXCIpLHd3OkMoe30pLHc6Qyh7fSksRzpDKGIoXCJlcmFcIiwxKSksR0c6QyhiKFwiZXJhXCIsMikpLEdHRzpDKGIoXCJlcmFcIiwzKSksR0dHRzpDKGIoXCJlcmFcIiw0KSl9LEV0PW5ldyBNYXAsU3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LmZvcm1hdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIEUobix0LGUpfSx0fSgpLHh0PS9eKFxcZHs0fSktPyhcXGRcXGQpLT8oXFxkXFxkKSg/OlQoXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86XFwuKFxcZCspKT8pPyk/KFp8KFsrLV0pKFxcZFxcZCk6PyhcXGRcXGQpKT8pPyQvLFB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9sb2NhbGU9dH1yZXR1cm4gdC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUsbil7dm9pZCAwPT09biYmKG49XCJtZWRpdW1EYXRlXCIpO3ZhciByO2lmKHgoZSl8fGUhPT1lKXJldHVybiBudWxsO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1lLnRyaW0oKSksUChlKSlyPWU7ZWxzZSBpZihqLmlzTnVtZXJpYyhlKSlyPW5ldyBEYXRlKHBhcnNlRmxvYXQoZSkpO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJi9eKFxcZHs0fS1cXGR7MSwyfS1cXGR7MSwyfSkkLy50ZXN0KGUpKXt2YXIgaT1lLnNwbGl0KFwiLVwiKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfSksbz1pWzBdLHM9aVsxXSxhPWlbMl07cj1uZXcgRGF0ZShvLHMtMSxhKX1lbHNlIHI9bmV3IERhdGUoZSk7aWYoIVAocikpe3ZhciB1PXZvaWQgMDtpZihcInN0cmluZ1wiIT10eXBlb2YgZXx8ISh1PWUubWF0Y2goeHQpKSl0aHJvdyBuZXcgaHQodCxlKTtyPU8odSl9cmV0dXJuIFN0LmZvcm1hdChyLHRoaXMuX2xvY2FsZSx0Ll9BTElBU0VTW25dfHxuKX0sdC5fQUxJQVNFUz17bWVkaXVtOlwieU1NTWRqbXNcIixzaG9ydDpcInlNZGptXCIsZnVsbERhdGU6XCJ5TU1NTUVFRUVkXCIsbG9uZ0RhdGU6XCJ5TU1NTWRcIixtZWRpdW1EYXRlOlwieU1NTWRcIixzaG9ydERhdGU6XCJ5TWRcIixtZWRpdW1UaW1lOlwiam1zXCIsc2hvcnRUaW1lOlwiam1cIn0sdC5kZWNvcmF0b3JzPVt7dHlwZTplLlBpcGUsYXJnczpbe25hbWU6XCJkYXRlXCIscHVyZTohMH1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTp2b2lkIDAsZGVjb3JhdG9yczpbe3R5cGU6ZS5JbmplY3QsYXJnczpbZS5MT0NBTEVfSURdfV19XX0sdH0oKSxPdD0vIy9nLFR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9sb2NhbGl6YXRpb249dH1yZXR1cm4gdC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUsbil7aWYobnVsbD09ZSlyZXR1cm5cIlwiO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBufHxudWxsPT09bil0aHJvdyBuZXcgaHQodCxuKTt2YXIgcj1sKGUsT2JqZWN0LmtleXMobiksdGhpcy5fbG9jYWxpemF0aW9uKTtyZXR1cm4gbltyXS5yZXBsYWNlKE90LGUudG9TdHJpbmcoKSl9LHQuZGVjb3JhdG9ycz1be3R5cGU6ZS5QaXBlLGFyZ3M6W3tuYW1lOlwiaTE4blBsdXJhbFwiLHB1cmU6ITB9XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6en1dfSx0fSgpLEF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUsbil7aWYobnVsbD09ZSlyZXR1cm5cIlwiO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBufHxcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgaHQodCxuKTtyZXR1cm4gbi5oYXNPd25Qcm9wZXJ0eShlKT9uW2VdOm4uaGFzT3duUHJvcGVydHkoXCJvdGhlclwiKT9uLm90aGVyOlwiXCJ9LHQuZGVjb3JhdG9ycz1be3R5cGU6ZS5QaXBlLGFyZ3M6W3tuYW1lOlwiaTE4blNlbGVjdFwiLHB1cmU6ITB9XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdH0oKSxNdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbih0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCxudWxsLDIpfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuUGlwZSxhcmdzOlt7bmFtZTpcImpzb25cIixwdXJlOiExfV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW119LHR9KCksa3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24oZSl7aWYoaShlKSlyZXR1cm4gZTtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgaHQodCxlKTtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuUGlwZSxhcmdzOlt7bmFtZTpcImxvd2VyY2FzZVwifV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW119LHR9KCksUnQ9L14oXFxkKyk/XFwuKChcXGQrKSgtKFxcZCspKT8pPyQvLEl0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9sb2NhbGU9dH1yZXR1cm4gdC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPW51bGwpLEEodCx0aGlzLl9sb2NhbGUsZSxndC5EZWNpbWFsLG4pfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuUGlwZSxhcmdzOlt7bmFtZTpcIm51bWJlclwifV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnZvaWQgMCxkZWNvcmF0b3JzOlt7dHlwZTplLkluamVjdCxhcmdzOltlLkxPQ0FMRV9JRF19XX1dfSx0fSgpLE50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9sb2NhbGU9dH1yZXR1cm4gdC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPW51bGwpLEEodCx0aGlzLl9sb2NhbGUsZSxndC5QZXJjZW50LG4pfSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuUGlwZSxhcmdzOlt7bmFtZTpcInBlcmNlbnRcIn1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTp2b2lkIDAsZGVjb3JhdG9yczpbe3R5cGU6ZS5JbmplY3QsYXJnczpbZS5MT0NBTEVfSURdfV19XX0sdH0oKSxEdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fbG9jYWxlPXR9cmV0dXJuIHQucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlLG4scixpKXtyZXR1cm4gdm9pZCAwPT09biYmKG49XCJVU0RcIiksdm9pZCAwPT09ciYmKHI9ITEpLHZvaWQgMD09PWkmJihpPW51bGwpLEEodCx0aGlzLl9sb2NhbGUsZSxndC5DdXJyZW5jeSxpLG4scil9LHQuZGVjb3JhdG9ycz1be3R5cGU6ZS5QaXBlLGFyZ3M6W3tuYW1lOlwiY3VycmVuY3lcIn1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTp2b2lkIDAsZGVjb3JhdG9yczpbe3R5cGU6ZS5JbmplY3QsYXJnczpbZS5MT0NBTEVfSURdfV19XX0sdH0oKSxqdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlLG4scil7aWYobnVsbD09ZSlyZXR1cm4gZTtpZighdGhpcy5zdXBwb3J0cyhlKSl0aHJvdyBuZXcgaHQodCxlKTtyZXR1cm4gZS5zbGljZShuLHIpfSx0LnByb3RvdHlwZS5zdXBwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdHx8QXJyYXkuaXNBcnJheSh0KX0sdC5kZWNvcmF0b3JzPVt7dHlwZTplLlBpcGUsYXJnczpbe25hbWU6XCJzbGljZVwiLHB1cmU6ITF9XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdH0oKSxWdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlKXtpZihpKGUpKXJldHVybiBlO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBodCh0LGUpO3JldHVybiBlLnRvVXBwZXJDYXNlKCl9LHQuZGVjb3JhdG9ycz1be3R5cGU6ZS5QaXBlLGFyZ3M6W3tuYW1lOlwidXBwZXJjYXNlXCJ9XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdH0oKSxMdD1bdnQsVnQsa3QsTXQsanQsSXQsTnQsRHQsUHQsVHQsQXRdLEZ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5kZWNvcmF0b3JzPVt7dHlwZTplLk5nTW9kdWxlLGFyZ3M6W3tkZWNsYXJhdGlvbnM6W3N0LEx0XSxleHBvcnRzOltzdCxMdF0scHJvdmlkZXJzOlt7cHJvdmlkZTp6LHVzZUNsYXNzOld9XX1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybltdfSx0fSgpLFV0PW5ldyBlLlZlcnNpb24oXCIyLjQuOFwiKTt0Lk5nTG9jYWxpemF0aW9uPXosdC5Db21tb25Nb2R1bGU9RnQsdC5OZ0NsYXNzPVgsdC5OZ0Zvcj1RLHQuTmdJZj1LLHQuTmdQbHVyYWw9bnQsdC5OZ1BsdXJhbENhc2U9cnQsdC5OZ1N0eWxlPWl0LHQuTmdTd2l0Y2g9Six0Lk5nU3dpdGNoQ2FzZT10dCx0Lk5nU3dpdGNoRGVmYXVsdD1ldCx0Lk5nVGVtcGxhdGVPdXRsZXQ9b3QsdC5Bc3luY1BpcGU9dnQsdC5EYXRlUGlwZT1QdCx0LkkxOG5QbHVyYWxQaXBlPVR0LHQuSTE4blNlbGVjdFBpcGU9QXQsdC5Kc29uUGlwZT1NdCx0Lkxvd2VyQ2FzZVBpcGU9a3QsdC5DdXJyZW5jeVBpcGU9RHQsdC5EZWNpbWFsUGlwZT1JdCx0LlBlcmNlbnRQaXBlPU50LHQuU2xpY2VQaXBlPWp0LHQuVXBwZXJDYXNlUGlwZT1WdCx0LlZFUlNJT049VXQsdC5WZXJzaW9uPWUuVmVyc2lvbix0LlBsYXRmb3JtTG9jYXRpb249ayx0LkxPQ0FUSU9OX0lOSVRJQUxJWkVEPVIsdC5Mb2NhdGlvblN0cmF0ZWd5PUksdC5BUFBfQkFTRV9IUkVGPU4sdC5IYXNoTG9jYXRpb25TdHJhdGVneT1VLHQuUGF0aExvY2F0aW9uU3RyYXRlZ3k9Qix0LkxvY2F0aW9uPUx9KSxmdW5jdGlvbihpLG8pe1wib2JqZWN0XCI9PXR5cGVvZiBuJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygcj9vKG4sZShcIkBhbmd1bGFyL2NvbW1vblwiKSxlKFwiQGFuZ3VsYXIvY29yZVwiKSk6dC5yZWdpc3RlckR5bmFtaWMoXCJlXCIsW1wiMzlcIixcImNcIl0sITEsZnVuY3Rpb24odCxlLG4pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG8/by5jYWxsKGUsZSx0KFwiMzlcIiksdChcImNcIikpOm99KX0odGhpcyxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gbnVsbCE9dH1mdW5jdGlvbiBpKHQpe3JldHVybiBudWxsPT10fWZ1bmN0aW9uIG8odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYobnVsbD09dClyZXR1cm5cIlwiK3Q7aWYodC5vdmVycmlkZGVuTmFtZSlyZXR1cm5cIlwiK3Qub3ZlcnJpZGRlbk5hbWU7aWYodC5uYW1lKXJldHVyblwiXCIrdC5uYW1lO3ZhciBlPXQudG9TdHJpbmcoKSxuPWUuaW5kZXhPZihcIlxcblwiKTtyZXR1cm4gbj09PS0xP2U6ZS5zdWJzdHJpbmcoMCxuKX1mdW5jdGlvbiBzKHQsZSxuKXtmb3IodmFyIHI9ZS5zcGxpdChcIi5cIiksaT10O3IubGVuZ3RoPjE7KXt2YXIgbz1yLnNoaWZ0KCk7aT1pLmhhc093blByb3BlcnR5KG8pJiZudWxsIT1pW29dP2lbb106aVtvXT17fX12b2lkIDAhPT1pJiZudWxsIT09aXx8KGk9e30pLGlbci5zaGlmdCgpXT1ufWZ1bmN0aW9uIGEoKXtyZXR1cm4gWn1mdW5jdGlvbiB1KHQpe1p8fChaPXQpfWZ1bmN0aW9uIGModCxlKXtyZXR1cm4gYSgpLmdldENvbXB1dGVkU3R5bGUodClbZV19ZnVuY3Rpb24gbCh0KXt2YXIgZT17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihuKXtcIm9mZnNldFwiIT1uJiYoZVtuXT10W25dKX0pLGV9ZnVuY3Rpb24gcCh0LGUpe3ZhciBuPXt9O3JldHVybiB0LnN0eWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oZSl7bltlXT10W2VdfSl9KSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Ioblt0XSl8fChuW3RdPWVbdF0pfSksbn1mdW5jdGlvbiBoKHQpe3JldHVybiB0IGluc3RhbmNlb2YgdHR9ZnVuY3Rpb24gZigpe3JldHVybiBsdHx8KGx0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJiYXNlXCIpKT9sdC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpOm51bGx9ZnVuY3Rpb24gZCh0KXtyZXR1cm4gS3x8KEs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIikpLEsuc2V0QXR0cmlidXRlKFwiaHJlZlwiLHQpLFwiL1wiPT09Sy5wYXRobmFtZS5jaGFyQXQoMCk/Sy5wYXRobmFtZTpcIi9cIitLLnBhdGhuYW1lfWZ1bmN0aW9uIHkodCxlKXtlPWVuY29kZVVSSUNvbXBvbmVudChlKTtmb3IodmFyIG49MCxyPXQuc3BsaXQoXCI7XCIpO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dLG89aS5pbmRleE9mKFwiPVwiKSxzPW89PS0xP1tpLFwiXCJdOltpLnNsaWNlKDAsbyksaS5zbGljZShvKzEpXSxhPXNbMF0sdT1zWzFdO2lmKGEudHJpbSgpPT09ZSlyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHUpfXJldHVybiBudWxsfWZ1bmN0aW9uIG0oKXtyZXR1cm4hIXdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZX1mdW5jdGlvbiB2KHQsZSl7dmFyIG49dC5wYXJlbnROb2RlO2lmKGUubGVuZ3RoPjAmJm4pe3ZhciByPXQubmV4dFNpYmxpbmc7aWYocilmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyluLmluc2VydEJlZm9yZShlW2ldLHIpO2Vsc2UgZm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspbi5hcHBlbmRDaGlsZChlW2ldKX19ZnVuY3Rpb24gZyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQuYXBwZW5kQ2hpbGQoZVtuXSl9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49dChlKTtuPT09ITEmJihlLnByZXZlbnREZWZhdWx0KCksZS5yZXR1cm5WYWx1ZT0hMSl9fWZ1bmN0aW9uIGIodCl7cmV0dXJuIE50LnJlcGxhY2Uoa3QsdCl9ZnVuY3Rpb24gdyh0KXtyZXR1cm4gSXQucmVwbGFjZShrdCx0KX1mdW5jdGlvbiBDKHQsZSxuKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZVtyXTtBcnJheS5pc0FycmF5KGkpP0ModCxpLG4pOihpPWkucmVwbGFjZShrdCx0KSxuLnB1c2goaSkpfXJldHVybiBufWZ1bmN0aW9uIEUodCl7cmV0dXJuXCI6XCI9PT10WzBdfWZ1bmN0aW9uIFModCl7dmFyIGU9dC5tYXRjaChEdCk7cmV0dXJuW2VbMV0sZVsyXV19ZnVuY3Rpb24geCh0KXtyZXR1cm4gbi5nZXREZWJ1Z05vZGUodCl9ZnVuY3Rpb24gUCh0LGUscil7cmV0dXJuIG4uaXNEZXZNb2RlKCk/Tyh0LChlfHxbXSkuY29uY2F0KHJ8fFtdKSk6dH1mdW5jdGlvbiBPKHQsZSl7cmV0dXJuIGEoKS5zZXRHbG9iYWxWYXIoVnQseCksYSgpLnNldEdsb2JhbFZhcihMdCx5dC5tZXJnZShqdCxUKGV8fFtdKSkpLG5ldyBHKHQpfWZ1bmN0aW9uIFQodCl7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZS5uYW1lXT1lLnRva2VuLHR9LHt9KX1mdW5jdGlvbiBBKHQpe3JldHVybiB0PVN0cmluZyh0KSx0Lm1hdGNoKFp0KXx8dC5tYXRjaChKdCk/dDoobi5pc0Rldk1vZGUoKSYmYSgpLmxvZyhcIldBUk5JTkc6IHNhbml0aXppbmcgdW5zYWZlIFVSTCB2YWx1ZSBcIit0K1wiIChzZWUgaHR0cDovL2cuY28vbmcvc2VjdXJpdHkjeHNzKVwiKSxcInVuc2FmZTpcIit0KX1mdW5jdGlvbiBNKHQpe3JldHVybiB0PVN0cmluZyh0KSx0LnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIEEodC50cmltKCkpfSkuam9pbihcIiwgXCIpfWZ1bmN0aW9uIGsoKXtpZih0ZSlyZXR1cm4gdGU7ZWU9YSgpO3ZhciB0PWVlLmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtpZihcImNvbnRlbnRcImluIHQpcmV0dXJuIHQ7dmFyIGU9ZWUuY3JlYXRlSHRtbERvY3VtZW50KCk7aWYodGU9ZWUucXVlcnlTZWxlY3RvcihlLFwiYm9keVwiKSxudWxsPT10ZSl7dmFyIG49ZWUuY3JlYXRlRWxlbWVudChcImh0bWxcIixlKTt0ZT1lZS5jcmVhdGVFbGVtZW50KFwiYm9keVwiLGUpLGVlLmFwcGVuZENoaWxkKG4sdGUpLGVlLmFwcGVuZENoaWxkKGUsbil9cmV0dXJuIHRlfWZ1bmN0aW9uIFIodCl7Zm9yKHZhciBlPXt9LG49MCxyPXQuc3BsaXQoXCIsXCIpO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dO2VbaV09ITB9cmV0dXJuIGV9ZnVuY3Rpb24gSSgpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2UtMF09YXJndW1lbnRzW2VdO2Zvcih2YXIgbj17fSxyPTAsaT10O3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2Zvcih2YXIgcyBpbiBvKW8uaGFzT3duUHJvcGVydHkocykmJihuW3NdPSEwKX1yZXR1cm4gbn1mdW5jdGlvbiBOKHQpe3JldHVybiB0LnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoZGUsZnVuY3Rpb24odCl7dmFyIGU9dC5jaGFyQ29kZUF0KDApLG49dC5jaGFyQ29kZUF0KDEpO3JldHVyblwiJiNcIisoMTAyNCooZS01NTI5NikrKG4tNTYzMjApKzY1NTM2KStcIjtcIn0pLnJlcGxhY2UoeWUsZnVuY3Rpb24odCl7cmV0dXJuXCImI1wiK3QuY2hhckNvZGVBdCgwKStcIjtcIn0pLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKX1mdW5jdGlvbiBEKHQpe2VlLmF0dHJpYnV0ZU1hcCh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7XCJ4bWxuczpuczFcIiE9PW4mJjAhPT1uLmluZGV4T2YoXCJuczE6XCIpfHxlZS5yZW1vdmVBdHRyaWJ1dGUodCxuKX0pO2Zvcih2YXIgZT0wLG49ZWUuY2hpbGROb2Rlc0FzTGlzdCh0KTtlPG4ubGVuZ3RoO2UrKyl7dmFyIHI9bltlXTtlZS5pc0VsZW1lbnROb2RlKHIpJiZEKHIpfX1mdW5jdGlvbiBqKHQpe3RyeXt2YXIgZT1rKCkscj10P1N0cmluZyh0KTpcIlwiLGk9NSxvPXI7ZG97aWYoMD09PWkpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHNhbml0aXplIGh0bWwgYmVjYXVzZSB0aGUgaW5wdXQgaXMgdW5zdGFibGVcIik7aS0tLHI9byxlZS5zZXRJbm5lckhUTUwoZSxyKSxlZS5kZWZhdWx0RG9jKCkuZG9jdW1lbnRNb2RlJiZEKGUpLG89ZWUuZ2V0SW5uZXJIVE1MKGUpfXdoaWxlKHIhPT1vKTtmb3IodmFyIHM9bmV3IGZlLGE9cy5zYW5pdGl6ZUNoaWxkcmVuKGVlLmdldFRlbXBsYXRlQ29udGVudChlKXx8ZSksdT1lZS5nZXRUZW1wbGF0ZUNvbnRlbnQoZSl8fGUsYz0wLGw9ZWUuY2hpbGROb2Rlc0FzTGlzdCh1KTtjPGwubGVuZ3RoO2MrKyl7dmFyIHA9bFtjXTtlZS5yZW1vdmVDaGlsZCh1LHApfXJldHVybiBuLmlzRGV2TW9kZSgpJiZzLnNhbml0aXplZFNvbWV0aGluZyYmZWUubG9nKFwiV0FSTklORzogc2FuaXRpemluZyBIVE1MIHN0cmlwcGVkIHNvbWUgY29udGVudCAoc2VlIGh0dHA6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcykuXCIpLGF9Y2F0Y2godCl7dGhyb3cgdGU9bnVsbCx0fX1mdW5jdGlvbiBWKHQpe2Zvcih2YXIgZT0hMCxuPSEwLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dC5jaGFyQXQocik7XCInXCI9PT1pJiZuP2U9IWU6J1wiJz09PWkmJmUmJihuPSFuKX1yZXR1cm4gZSYmbn1mdW5jdGlvbiBMKHQpe2lmKHQ9U3RyaW5nKHQpLnRyaW0oKSwhdClyZXR1cm5cIlwiO3ZhciBlPXQubWF0Y2goRWUpO3JldHVybiBlJiZBKGVbMV0pPT09ZVsxXXx8dC5tYXRjaChDZSkmJlYodCk/dDoobi5pc0Rldk1vZGUoKSYmYSgpLmxvZyhcIldBUk5JTkc6IHNhbml0aXppbmcgdW5zYWZlIHN0eWxlIHZhbHVlIFwiK3QrXCIgKHNlZSBodHRwOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpLlwiKSxcInVuc2FmZVwiKX1mdW5jdGlvbiBGKCl7Y3QubWFrZUN1cnJlbnQoKSxmdC5pbml0KCl9ZnVuY3Rpb24gVSgpe3JldHVybiBuZXcgbi5FcnJvckhhbmRsZXJ9ZnVuY3Rpb24gSCgpe3JldHVybiBhKCkuZGVmYXVsdERvYygpfWZ1bmN0aW9uIEIoKXtyZXR1cm4gYSgpLnN1cHBvcnRzV2ViQW5pbWF0aW9uKCk/bmV3IGV0OlEuTk9PUH1mdW5jdGlvbiBxKHQpe3JldHVybiBPYmplY3QuYXNzaWduKEhlLm5nLG5ldyBGZSh0KSksdH1mdW5jdGlvbiB6KCl7SGUubmcmJmRlbGV0ZSBIZS5uZy5wcm9maWxlcn12YXIgVyxHPW4uX19jb3JlX3ByaXZhdGVfXy5EZWJ1Z0RvbVJvb3RSZW5kZXJlcixYPW4uX19jb3JlX3ByaXZhdGVfXy5Ob09wQW5pbWF0aW9uUGxheWVyLCQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLHMpe3JldHVybiB2b2lkIDA9PT1zJiYocz1bXSksbmV3IFh9LHR9KCksUT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmFuaW1hdGU9ZnVuY3Rpb24odCxlLG4scixpLG8scyl7fSx0Lk5PT1A9bmV3ICQsdH0oKTtXPVwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGU/c2VsZjpnbG9iYWw6d2luZG93O3ZhciBZPVc7WS5hc3NlcnQ9ZnVuY3Rpb24odCl7fTt2YXIgSyxaPW51bGwsSj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnJlc291cmNlTG9hZGVyVHlwZT1udWxsfXJldHVybiB0LnByb3RvdHlwZS5oYXNQcm9wZXJ0eT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuc2V0UHJvcGVydHk9ZnVuY3Rpb24odCxlLG4pe30sdC5wcm90b3R5cGUuZ2V0UHJvcGVydHk9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmludm9rZT1mdW5jdGlvbih0LGUsbil7fSx0LnByb3RvdHlwZS5sb2dFcnJvcj1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmxvZz1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmxvZ0dyb3VwPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUubG9nR3JvdXBFbmQ9ZnVuY3Rpb24oKXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImF0dHJUb1Byb3BNYXBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F0dHJUb1Byb3BNYXB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9hdHRyVG9Qcm9wTWFwPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3I9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGw9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLm9uQW5kQ2FuY2VsPWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmNyZWF0ZU1vdXNlRXZlbnQ9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5jcmVhdGVFdmVudD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuaXNQcmV2ZW50ZWQ9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5nZXRJbm5lckhUTUw9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5nZXRUZW1wbGF0ZUNvbnRlbnQ9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5nZXRPdXRlckhUTUw9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5ub2RlTmFtZT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLm5vZGVWYWx1ZT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnR5cGU9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5jb250ZW50PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuZmlyc3RDaGlsZD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLm5leHRTaWJsaW5nPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUucGFyZW50RWxlbWVudD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmNoaWxkTm9kZXM9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5jaGlsZE5vZGVzQXNMaXN0PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuY2xlYXJOb2Rlcz1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmFwcGVuZENoaWxkPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5yZW1vdmVDaGlsZD1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUucmVwbGFjZUNoaWxkPWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmluc2VydEJlZm9yZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuaW5zZXJ0QWxsQmVmb3JlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5pbnNlcnRBZnRlcj1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuc2V0SW5uZXJIVE1MPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuc2V0VGV4dD1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuZ2V0Q2hlY2tlZD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnNldENoZWNrZWQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmNyZWF0ZUNvbW1lbnQ9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5jcmVhdGVUZW1wbGF0ZT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnROUz1mdW5jdGlvbih0LGUsbil7fSx0LnByb3RvdHlwZS5jcmVhdGVUZXh0Tm9kZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuY3JlYXRlU2NyaXB0VGFnPWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLmNyZWF0ZVN0eWxlRWxlbWVudD1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmdldFNoYWRvd1Jvb3Q9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5nZXRIb3N0PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWU9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmNsYXNzTGlzdD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmFkZENsYXNzPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5yZW1vdmVDbGFzcz1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuaGFzQ2xhc3M9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLnJlbW92ZVN0eWxlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5nZXRTdHlsZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuaGFzU3R5bGU9ZnVuY3Rpb24odCxlLG4pe30sdC5wcm90b3R5cGUudGFnTmFtZT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmF0dHJpYnV0ZU1hcD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmhhc0F0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuaGFzQXR0cmlidXRlTlM9ZnVuY3Rpb24odCxlLG4pe30sdC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVOUz1mdW5jdGlvbih0LGUsbil7fSx0LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlLG4pe30sdC5wcm90b3R5cGUuc2V0QXR0cmlidXRlTlM9ZnVuY3Rpb24odCxlLG4scil7fSx0LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZU5TPWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLnRlbXBsYXRlQXdhcmVSb290PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuY3JlYXRlSHRtbERvY3VtZW50PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5kZWZhdWx0RG9jPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5nZXRCb3VuZGluZ0NsaWVudFJlY3Q9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5nZXRUaXRsZT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuc2V0VGl0bGU9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5lbGVtZW50TWF0Y2hlcz1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuaXNUZW1wbGF0ZUVsZW1lbnQ9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5pc1RleHROb2RlPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuaXNDb21tZW50Tm9kZT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmlzRWxlbWVudE5vZGU9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5oYXNTaGFkb3dSb290PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuaXNTaGFkb3dSb290PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuaW1wb3J0SW50b0RvYz1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmFkb3B0Tm9kZT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmdldEhyZWY9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5nZXRFdmVudEtleT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnJlc29sdmVBbmRTZXRIcmVmPWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLnN1cHBvcnRzRE9NRXZlbnRzPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5zdXBwb3J0c05hdGl2ZVNoYWRvd0RPTT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZ2V0R2xvYmFsRXZlbnRUYXJnZXQ9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5nZXRIaXN0b3J5PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5nZXRMb2NhdGlvbj1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZ2V0QmFzZUhyZWY9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnJlc2V0QmFzZUVsZW1lbnQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmdldFVzZXJBZ2VudD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0LGUsbil7fSx0LnByb3RvdHlwZS5nZXRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuc2V0R2xvYmFsVmFyPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5zdXBwb3J0c1dlYkFuaW1hdGlvbj1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucGVyZm9ybWFuY2VOb3c9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmdldEFuaW1hdGlvblByZWZpeD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZ2V0VHJhbnNpdGlvbkVuZD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuc3VwcG9ydHNBbmltYXRpb249ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnN1cHBvcnRzQ29va2llcz1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZ2V0Q29va2llPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuc2V0Q29va2llPWZ1bmN0aW9uKHQsZSl7fSx0fSgpLHR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt2YXIgaT10aGlzO3ZvaWQgMD09PXImJihyPVtdKSx0aGlzLmVsZW1lbnQ9dCx0aGlzLmtleWZyYW1lcz1lLHRoaXMub3B0aW9ucz1uLHRoaXMuX29uRG9uZUZucz1bXSx0aGlzLl9vblN0YXJ0Rm5zPVtdLHRoaXMuX2luaXRpYWxpemVkPSExLHRoaXMuX2ZpbmlzaGVkPSExLHRoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fZGVzdHJveWVkPSExLHRoaXMucGFyZW50UGxheWVyPW51bGwsdGhpcy5fZHVyYXRpb249bi5kdXJhdGlvbix0aGlzLnByZXZpb3VzU3R5bGVzPXt9LHIuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT10Ll9jYXB0dXJlU3R5bGVzKCk7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gaS5wcmV2aW91c1N0eWxlc1t0XT1lW3RdfSl9KX1yZXR1cm4gdC5wcm90b3R5cGUuX29uRmluaXNoPWZ1bmN0aW9uKCl7dGhpcy5fZmluaXNoZWR8fCh0aGlzLl9maW5pc2hlZD0hMCx0aGlzLl9vbkRvbmVGbnMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdCgpfSksdGhpcy5fb25Eb25lRm5zPVtdKX0sdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoIXRoaXMuX2luaXRpYWxpemVkKXt0aGlzLl9pbml0aWFsaXplZD0hMDt2YXIgZT10aGlzLmtleWZyYW1lcy5tYXAoZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24oaSxvKXt2YXIgcz1lW2ldO3M9PW4uQVVUT19TVFlMRSYmKHM9Yyh0LmVsZW1lbnQsaSkpLHZvaWQgMCE9cyYmKHJbaV09cyl9KSxyfSksaT1PYmplY3Qua2V5cyh0aGlzLnByZXZpb3VzU3R5bGVzKTtpZihpLmxlbmd0aCl7dmFyIG89ZVswXSxzPVtdO2lmKGkuZm9yRWFjaChmdW5jdGlvbihlKXtyKG9bZV0pfHxzLnB1c2goZSksb1tlXT10LnByZXZpb3VzU3R5bGVzW2VdfSkscy5sZW5ndGgpZm9yKHZhciBhPWZ1bmN0aW9uKG4pe3ZhciByPWVbbl07cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JbZV09Yyh0LmVsZW1lbnQsZSl9KX0sdT0xO3U8ZS5sZW5ndGg7dSsrKWEodSl9dGhpcy5fcGxheWVyPXRoaXMuX3RyaWdnZXJXZWJBbmltYXRpb24odGhpcy5lbGVtZW50LGUsdGhpcy5vcHRpb25zKSx0aGlzLl9maW5hbEtleWZyYW1lPWwoZVtlLmxlbmd0aC0xXSksdGhpcy5fcmVzZXREb21QbGF5ZXJTdGF0ZSgpLHRoaXMuX3BsYXllci5hZGRFdmVudExpc3RlbmVyKFwiZmluaXNoXCIsZnVuY3Rpb24oKXtyZXR1cm4gdC5fb25GaW5pc2goKX0pfX0sdC5wcm90b3R5cGUuX3RyaWdnZXJXZWJBbmltYXRpb249ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmFuaW1hdGUoZSxuKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZG9tUGxheWVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wbGF5ZXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUub25TdGFydD1mdW5jdGlvbih0KXt0aGlzLl9vblN0YXJ0Rm5zLnB1c2godCl9LHQucHJvdG90eXBlLm9uRG9uZT1mdW5jdGlvbih0KXt0aGlzLl9vbkRvbmVGbnMucHVzaCh0KX0sdC5wcm90b3R5cGUucGxheT1mdW5jdGlvbigpe3RoaXMuaW5pdCgpLHRoaXMuaGFzU3RhcnRlZCgpfHwodGhpcy5fb25TdGFydEZucy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0KCl9KSx0aGlzLl9vblN0YXJ0Rm5zPVtdLHRoaXMuX3N0YXJ0ZWQ9ITApLHRoaXMuX3BsYXllci5wbGF5KCl9LHQucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5pbml0KCksdGhpcy5fcGxheWVyLnBhdXNlKCl9LHQucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe3RoaXMuaW5pdCgpLHRoaXMuX29uRmluaXNoKCksdGhpcy5fcGxheWVyLmZpbmlzaCgpfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3Jlc2V0RG9tUGxheWVyU3RhdGUoKSx0aGlzLl9kZXN0cm95ZWQ9ITEsdGhpcy5fZmluaXNoZWQ9ITEsdGhpcy5fc3RhcnRlZD0hMX0sdC5wcm90b3R5cGUuX3Jlc2V0RG9tUGxheWVyU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5ZXImJnRoaXMuX3BsYXllci5jYW5jZWwoKX0sdC5wcm90b3R5cGUucmVzdGFydD1mdW5jdGlvbigpe3RoaXMucmVzZXQoKSx0aGlzLnBsYXkoKX0sdC5wcm90b3R5cGUuaGFzU3RhcnRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydGVkfSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveWVkfHwodGhpcy5fcmVzZXREb21QbGF5ZXJTdGF0ZSgpLHRoaXMuX29uRmluaXNoKCksdGhpcy5fZGVzdHJveWVkPSEwKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidG90YWxUaW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kdXJhdGlvbn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9wbGF5ZXIuY3VycmVudFRpbWU9dCp0aGlzLnRvdGFsVGltZX0sdC5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGxheWVyLmN1cnJlbnRUaW1lL3RoaXMudG90YWxUaW1lfSx0LnByb3RvdHlwZS5fY2FwdHVyZVN0eWxlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT17fTtyZXR1cm4gdGhpcy5oYXNTdGFydGVkKCkmJk9iamVjdC5rZXlzKHRoaXMuX2ZpbmFsS2V5ZnJhbWUpLmZvckVhY2goZnVuY3Rpb24obil7XCJvZmZzZXRcIiE9biYmKGVbbl09dC5fZmluaXNoZWQ/dC5fZmluYWxLZXlmcmFtZVtuXTpjKHQuZWxlbWVudCxuKSl9KSxlfSx0fSgpLGV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuYW5pbWF0ZT1mdW5jdGlvbih0LGUsbixpLG8scyxhKXt2b2lkIDA9PT1hJiYoYT1bXSk7dmFyIHU9W10sYz17fTtpZihyKGUpJiYoYz1wKGUse30pKSxuLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9cCh0LnN0eWxlcyxjKTtlLm9mZnNldD1NYXRoLm1heCgwLE1hdGgubWluKDEsdC5vZmZzZXQpKSx1LnB1c2goZSl9KSwwPT11Lmxlbmd0aCl1PVtjLGNdO2Vsc2UgaWYoMT09dS5sZW5ndGgpe3ZhciBsPWMsZj11WzBdO2Yub2Zmc2V0PW51bGwsdT1bbCxmXX12YXIgZD17ZHVyYXRpb246aSxkZWxheTpvLGZpbGw6XCJib3RoXCJ9O3JldHVybiBzJiYoZC5lYXNpbmc9cyksYT1hLmZpbHRlcihoKSxuZXcgdHQodCx1LGQsYSl9LHR9KCksbnQ9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LHJ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10aGlzO3QuY2FsbCh0aGlzKSx0aGlzLl9hbmltYXRpb25QcmVmaXg9bnVsbCx0aGlzLl90cmFuc2l0aW9uRW5kPW51bGw7dHJ5e3ZhciBuPXRoaXMuY3JlYXRlRWxlbWVudChcImRpdlwiLHRoaXMuZGVmYXVsdERvYygpKTtpZihyKHRoaXMuZ2V0U3R5bGUobixcImFuaW1hdGlvbk5hbWVcIikpKXRoaXMuX2FuaW1hdGlvblByZWZpeD1cIlwiO2Vsc2UgZm9yKHZhciBpPVtcIldlYmtpdFwiLFwiTW96XCIsXCJPXCIsXCJtc1wiXSxvPTA7bzxpLmxlbmd0aDtvKyspaWYocih0aGlzLmdldFN0eWxlKG4saVtvXStcIkFuaW1hdGlvbk5hbWVcIikpKXt0aGlzLl9hbmltYXRpb25QcmVmaXg9XCItXCIraVtvXS50b0xvd2VyQ2FzZSgpK1wiLVwiO2JyZWFrfXZhciBzPXtXZWJraXRUcmFuc2l0aW9uOlwid2Via2l0VHJhbnNpdGlvbkVuZFwiLE1velRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsT1RyYW5zaXRpb246XCJvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZFwiLHRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCJ9O09iamVjdC5rZXlzKHMpLmZvckVhY2goZnVuY3Rpb24odCl7cihlLmdldFN0eWxlKG4sdCkpJiYoZS5fdHJhbnNpdGlvbkVuZD1zW3RdKX0pfWNhdGNoKHQpe3RoaXMuX2FuaW1hdGlvblByZWZpeD1udWxsLHRoaXMuX3RyYW5zaXRpb25FbmQ9bnVsbH19cmV0dXJuIG50KGUsdCksZS5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXREaXN0cmlidXRlZE5vZGVzKCl9LGUucHJvdG90eXBlLnJlc29sdmVBbmRTZXRIcmVmPWZ1bmN0aW9uKHQsZSxuKXt0LmhyZWY9bnVsbD09bj9lOmUrXCIvLi4vXCIrbn0sZS5wcm90b3R5cGUuc3VwcG9ydHNET01FdmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZS5wcm90b3R5cGUuc3VwcG9ydHNOYXRpdmVTaGFkb3dET009ZnVuY3Rpb24oKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmRlZmF1bHREb2MoKS5ib2R5LmNyZWF0ZVNoYWRvd1Jvb3R9LGUucHJvdG90eXBlLmdldEFuaW1hdGlvblByZWZpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmltYXRpb25QcmVmaXg/dGhpcy5fYW5pbWF0aW9uUHJlZml4OlwiXCJ9LGUucHJvdG90eXBlLmdldFRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbkVuZD90aGlzLl90cmFuc2l0aW9uRW5kOlwiXCJ9LGUucHJvdG90eXBlLnN1cHBvcnRzQW5pbWF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcy5fYW5pbWF0aW9uUHJlZml4KSYmcih0aGlzLl90cmFuc2l0aW9uRW5kKX0sZX0oSiksaXQ9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LG90PXtjbGFzczpcImNsYXNzTmFtZVwiLGlubmVySHRtbDpcImlubmVySFRNTFwiLHJlYWRvbmx5OlwicmVhZE9ubHlcIix0YWJpbmRleDpcInRhYkluZGV4XCJ9LHN0PTMsYXQ9e1wiXFxiXCI6XCJCYWNrc3BhY2VcIixcIlxcdFwiOlwiVGFiXCIsXCJ/XCI6XCJEZWxldGVcIixcIlx1MDAxYlwiOlwiRXNjYXBlXCIsRGVsOlwiRGVsZXRlXCIsRXNjOlwiRXNjYXBlXCIsTGVmdDpcIkFycm93TGVmdFwiLFJpZ2h0OlwiQXJyb3dSaWdodFwiLFVwOlwiQXJyb3dVcFwiLERvd246XCJBcnJvd0Rvd25cIixNZW51OlwiQ29udGV4dE1lbnVcIixTY3JvbGw6XCJTY3JvbGxMb2NrXCIsV2luOlwiT1NcIn0sdXQ9e0E6XCIxXCIsQjpcIjJcIixDOlwiM1wiLEQ6XCI0XCIsRTpcIjVcIixGOlwiNlwiLEc6XCI3XCIsSDpcIjhcIixJOlwiOVwiLEo6XCIqXCIsSzpcIitcIixNOlwiLVwiLE46XCIuXCIsTzpcIi9cIixcImBcIjpcIjBcIixcIsKQXCI6XCJOdW1Mb2NrXCJ9LGN0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gaXQoZSx0KSxlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwYXJzZSBub3QgaW1wbGVtZW50ZWRcIil9LGUubWFrZUN1cnJlbnQ9ZnVuY3Rpb24oKXt1KG5ldyBlKX0sZS5wcm90b3R5cGUuaGFzUHJvcGVydHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZSBpbiB0fSxlLnByb3RvdHlwZS5zZXRQcm9wZXJ0eT1mdW5jdGlvbih0LGUsbil7dFtlXT1ufSxlLnByb3RvdHlwZS5nZXRQcm9wZXJ0eT1mdW5jdGlvbih0LGUpe3JldHVybiB0W2VdfSxlLnByb3RvdHlwZS5pbnZva2U9ZnVuY3Rpb24odCxlLG4peyhyPXQpW2VdLmFwcGx5KHIsbik7dmFyIHJ9LGUucHJvdG90eXBlLmxvZ0Vycm9yPWZ1bmN0aW9uKHQpe3dpbmRvdy5jb25zb2xlJiYoY29uc29sZS5lcnJvcj9jb25zb2xlLmVycm9yKHQpOmNvbnNvbGUubG9nKHQpKX0sZS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQpe3dpbmRvdy5jb25zb2xlJiZ3aW5kb3cuY29uc29sZS5sb2cmJndpbmRvdy5jb25zb2xlLmxvZyh0KX0sZS5wcm90b3R5cGUubG9nR3JvdXA9ZnVuY3Rpb24odCl7d2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmdyb3VwJiZ3aW5kb3cuY29uc29sZS5ncm91cCh0KX0sZS5wcm90b3R5cGUubG9nR3JvdXBFbmQ9ZnVuY3Rpb24oKXt3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUuZ3JvdXBFbmQmJndpbmRvdy5jb25zb2xlLmdyb3VwRW5kKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImF0dHJUb1Byb3BNYXBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG90fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKHQpe3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpfSxlLnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucXVlcnlTZWxlY3RvcihlKX0sZS5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnF1ZXJ5U2VsZWN0b3JBbGwoZSl9LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxuKXt0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLCExKX0sZS5wcm90b3R5cGUub25BbmRDYW5jZWw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLCExKSxmdW5jdGlvbigpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITEpfX0sZS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbih0LGUpe3QuZGlzcGF0Y2hFdmVudChlKX0sZS5wcm90b3R5cGUuY3JlYXRlTW91c2VFdmVudD1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRcIik7cmV0dXJuIGUuaW5pdEV2ZW50KHQsITAsITApLGV9LGUucHJvdG90eXBlLmNyZWF0ZUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7cmV0dXJuIGUuaW5pdEV2ZW50KHQsITAsITApLGV9LGUucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnJldHVyblZhbHVlPSExfSxlLnByb3RvdHlwZS5pc1ByZXZlbnRlZD1mdW5jdGlvbih0KXtyZXR1cm4gdC5kZWZhdWx0UHJldmVudGVkfHxyKHQucmV0dXJuVmFsdWUpJiYhdC5yZXR1cm5WYWx1ZX0sZS5wcm90b3R5cGUuZ2V0SW5uZXJIVE1MPWZ1bmN0aW9uKHQpe3JldHVybiB0LmlubmVySFRNTH0sZS5wcm90b3R5cGUuZ2V0VGVtcGxhdGVDb250ZW50PWZ1bmN0aW9uKHQpe3JldHVyblwiY29udGVudFwiaW4gdCYmdCBpbnN0YW5jZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQ/dC5jb250ZW50Om51bGx9LGUucHJvdG90eXBlLmdldE91dGVySFRNTD1mdW5jdGlvbih0KXtyZXR1cm4gdC5vdXRlckhUTUx9LGUucHJvdG90eXBlLm5vZGVOYW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm5vZGVOYW1lfSxlLnByb3RvdHlwZS5ub2RlVmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHQubm9kZVZhbHVlfSxlLnByb3RvdHlwZS50eXBlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGV9LGUucHJvdG90eXBlLmNvbnRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzUHJvcGVydHkodCxcImNvbnRlbnRcIik/dC5jb250ZW50OnR9LGUucHJvdG90eXBlLmZpcnN0Q2hpbGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZmlyc3RDaGlsZH0sZS5wcm90b3R5cGUubmV4dFNpYmxpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHQubmV4dFNpYmxpbmd9LGUucHJvdG90eXBlLnBhcmVudEVsZW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyZW50Tm9kZX0sZS5wcm90b3R5cGUuY2hpbGROb2Rlcz1mdW5jdGlvbih0KXtyZXR1cm4gdC5jaGlsZE5vZGVzfSxlLnByb3RvdHlwZS5jaGlsZE5vZGVzQXNMaXN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LmNoaWxkTm9kZXMsbj1uZXcgQXJyYXkoZS5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoO3IrKyluW3JdPWVbcl07cmV0dXJuIG59LGUucHJvdG90eXBlLmNsZWFyTm9kZXM9ZnVuY3Rpb24odCl7Zm9yKDt0LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKX0sZS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQ9ZnVuY3Rpb24odCxlKXt0LmFwcGVuZENoaWxkKGUpfSxlLnByb3RvdHlwZS5yZW1vdmVDaGlsZD1mdW5jdGlvbih0LGUpe3QucmVtb3ZlQ2hpbGQoZSl9LGUucHJvdG90eXBlLnJlcGxhY2VDaGlsZD1mdW5jdGlvbih0LGUsbil7dC5yZXBsYWNlQ2hpbGQoZSxuKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0fSxlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmU9ZnVuY3Rpb24odCxlKXt0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdCl9LGUucHJvdG90eXBlLmluc2VydEFsbEJlZm9yZT1mdW5jdGlvbih0LGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHQpfSl9LGUucHJvdG90eXBlLmluc2VydEFmdGVyPWZ1bmN0aW9uKHQsZSl7dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHQubmV4dFNpYmxpbmcpfSxlLnByb3RvdHlwZS5zZXRJbm5lckhUTUw9ZnVuY3Rpb24odCxlKXt0LmlubmVySFRNTD1lfSxlLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnRleHRDb250ZW50fSxlLnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKHQsZSl7dC50ZXh0Q29udGVudD1lfSxlLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZX0sZS5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24odCxlKXt0LnZhbHVlPWV9LGUucHJvdG90eXBlLmdldENoZWNrZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hlY2tlZH0sZS5wcm90b3R5cGUuc2V0Q2hlY2tlZD1mdW5jdGlvbih0LGUpe3QuY2hlY2tlZD1lfSxlLnByb3RvdHlwZS5jcmVhdGVDb21tZW50PWZ1bmN0aW9uKHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KHQpfSxlLnByb3RvdHlwZS5jcmVhdGVUZW1wbGF0ZT1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7cmV0dXJuIGUuaW5uZXJIVE1MPXQsZX0sZS5wcm90b3R5cGUuY3JlYXRlRWxlbWVudD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1kb2N1bWVudCksZS5jcmVhdGVFbGVtZW50KHQpfSxlLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50TlM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj1kb2N1bWVudCksbi5jcmVhdGVFbGVtZW50TlModCxlKX0sZS5wcm90b3R5cGUuY3JlYXRlVGV4dE5vZGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ZG9jdW1lbnQpLGUuY3JlYXRlVGV4dE5vZGUodCl9LGUucHJvdG90eXBlLmNyZWF0ZVNjcmlwdFRhZz1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49ZG9jdW1lbnQpO3ZhciByPW4uY3JlYXRlRWxlbWVudChcIlNDUklQVFwiKTtyZXR1cm4gci5zZXRBdHRyaWJ1dGUodCxlKSxyfSxlLnByb3RvdHlwZS5jcmVhdGVTdHlsZUVsZW1lbnQ9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1kb2N1bWVudCk7dmFyIG49ZS5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQobix0aGlzLmNyZWF0ZVRleHROb2RlKHQpKSxufSxlLnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKHQpe3JldHVybiB0LmNyZWF0ZVNoYWRvd1Jvb3QoKX0sZS5wcm90b3R5cGUuZ2V0U2hhZG93Um9vdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5zaGFkb3dSb290fSxlLnByb3RvdHlwZS5nZXRIb3N0PWZ1bmN0aW9uKHQpe3JldHVybiB0Lmhvc3R9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNsb25lTm9kZSghMCl9LGUucHJvdG90eXBlLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpfSxlLnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZT1mdW5jdGlvbih0LGUpe3JldHVybiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpfSxlLnByb3RvdHlwZS5jbGFzc0xpc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQuY2xhc3NMaXN0LDApfSxlLnByb3RvdHlwZS5hZGRDbGFzcz1mdW5jdGlvbih0LGUpe3QuY2xhc3NMaXN0LmFkZChlKX0sZS5wcm90b3R5cGUucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24odCxlKXt0LmNsYXNzTGlzdC5yZW1vdmUoZSl9LGUucHJvdG90eXBlLmhhc0NsYXNzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY2xhc3NMaXN0LmNvbnRhaW5zKGUpfSxlLnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbih0LGUsbil7dC5zdHlsZVtlXT1ufSxlLnByb3RvdHlwZS5yZW1vdmVTdHlsZT1mdW5jdGlvbih0LGUpe3Quc3R5bGVbZV09XCJcIn0sZS5wcm90b3R5cGUuZ2V0U3R5bGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zdHlsZVtlXX0sZS5wcm90b3R5cGUuaGFzU3R5bGU9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciByPXRoaXMuZ2V0U3R5bGUodCxlKXx8XCJcIjtyZXR1cm4gbj9yPT1uOnIubGVuZ3RoPjB9LGUucHJvdG90eXBlLnRhZ05hbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHQudGFnTmFtZX0sZS5wcm90b3R5cGUuYXR0cmlidXRlTWFwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgTWFwLG49dC5hdHRyaWJ1dGVzLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXTtlLnNldChpLm5hbWUsaS52YWx1ZSl9cmV0dXJuIGV9LGUucHJvdG90eXBlLmhhc0F0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0Lmhhc0F0dHJpYnV0ZShlKX0sZS5wcm90b3R5cGUuaGFzQXR0cmlidXRlTlM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0Lmhhc0F0dHJpYnV0ZU5TKGUsbil9LGUucHJvdG90eXBlLmdldEF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0LmdldEF0dHJpYnV0ZShlKX0sZS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTlM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmdldEF0dHJpYnV0ZU5TKGUsbil9LGUucHJvdG90eXBlLnNldEF0dHJpYnV0ZT1mdW5jdGlvbih0LGUsbil7dC5zZXRBdHRyaWJ1dGUoZSxuKX0sZS5wcm90b3R5cGUuc2V0QXR0cmlidXRlTlM9ZnVuY3Rpb24odCxlLG4scil7dC5zZXRBdHRyaWJ1dGVOUyhlLG4scil9LGUucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3QucmVtb3ZlQXR0cmlidXRlKGUpfSxlLnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGVOUz1mdW5jdGlvbih0LGUsbil7dC5yZW1vdmVBdHRyaWJ1dGVOUyhlLG4pfSxlLnByb3RvdHlwZS50ZW1wbGF0ZUF3YXJlUm9vdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc1RlbXBsYXRlRWxlbWVudCh0KT90aGlzLmNvbnRlbnQodCk6dH0sZS5wcm90b3R5cGUuY3JlYXRlSHRtbERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcImZha2VUaXRsZVwiKX0sZS5wcm90b3R5cGUuZGVmYXVsdERvYz1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudH0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1jYXRjaCh0KXtyZXR1cm57dG9wOjAsYm90dG9tOjAsbGVmdDowLHJpZ2h0OjAsd2lkdGg6MCxoZWlnaHQ6MH19fSxlLnByb3RvdHlwZS5nZXRUaXRsZT1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC50aXRsZX0sZS5wcm90b3R5cGUuc2V0VGl0bGU9ZnVuY3Rpb24odCl7ZG9jdW1lbnQudGl0bGU9dHx8XCJcIn0sZS5wcm90b3R5cGUuZWxlbWVudE1hdGNoZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiYodC5tYXRjaGVzJiZ0Lm1hdGNoZXMoZSl8fHQubXNNYXRjaGVzU2VsZWN0b3ImJnQubXNNYXRjaGVzU2VsZWN0b3IoZSl8fHQud2Via2l0TWF0Y2hlc1NlbGVjdG9yJiZ0LndlYmtpdE1hdGNoZXNTZWxlY3RvcihlKSl9LGUucHJvdG90eXBlLmlzVGVtcGxhdGVFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJlwiVEVNUExBVEVcIj09dC5ub2RlTmFtZX0sZS5wcm90b3R5cGUuaXNUZXh0Tm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFfSxlLnByb3RvdHlwZS5pc0NvbW1lbnROb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm5vZGVUeXBlPT09Tm9kZS5DT01NRU5UX05PREV9LGUucHJvdG90eXBlLmlzRWxlbWVudE5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX0sZS5wcm90b3R5cGUuaGFzU2hhZG93Um9vdD1mdW5jdGlvbih0KXtyZXR1cm4gcih0LnNoYWRvd1Jvb3QpJiZ0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnR9LGUucHJvdG90eXBlLmlzU2hhZG93Um9vdD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnR9LGUucHJvdG90eXBlLmltcG9ydEludG9Eb2M9ZnVuY3Rpb24odCl7cmV0dXJuIGRvY3VtZW50LmltcG9ydE5vZGUodGhpcy50ZW1wbGF0ZUF3YXJlUm9vdCh0KSwhMCl9LGUucHJvdG90eXBlLmFkb3B0Tm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gZG9jdW1lbnQuYWRvcHROb2RlKHQpfSxlLnByb3RvdHlwZS5nZXRIcmVmPWZ1bmN0aW9uKHQpe3JldHVybiB0LmhyZWZ9LGUucHJvdG90eXBlLmdldEV2ZW50S2V5PWZ1bmN0aW9uKHQpe3ZhciBlPXQua2V5O2lmKGkoZSkpe2lmKGU9dC5rZXlJZGVudGlmaWVyLGkoZSkpcmV0dXJuXCJVbmlkZW50aWZpZWRcIjtlLnN0YXJ0c1dpdGgoXCJVK1wiKSYmKGU9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChlLnN1YnN0cmluZygyKSwxNikpLHQubG9jYXRpb249PT1zdCYmdXQuaGFzT3duUHJvcGVydHkoZSkmJihlPXV0W2VdKSl9cmV0dXJuIGF0W2VdfHxlfSxlLnByb3RvdHlwZS5nZXRHbG9iYWxFdmVudFRhcmdldD1mdW5jdGlvbih0KXtyZXR1cm5cIndpbmRvd1wiPT09dD93aW5kb3c6XCJkb2N1bWVudFwiPT09dD9kb2N1bWVudDpcImJvZHlcIj09PXQ/ZG9jdW1lbnQuYm9keTp2b2lkIDB9LGUucHJvdG90eXBlLmdldEhpc3Rvcnk9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93Lmhpc3Rvcnl9LGUucHJvdG90eXBlLmdldExvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5sb2NhdGlvbn0sZS5wcm90b3R5cGUuZ2V0QmFzZUhyZWY9ZnVuY3Rpb24oKXt2YXIgdD1mKCk7cmV0dXJuIGkodCk/bnVsbDpkKHQpfSxlLnByb3RvdHlwZS5yZXNldEJhc2VFbGVtZW50PWZ1bmN0aW9uKCl7bHQ9bnVsbH0sZS5wcm90b3R5cGUuZ2V0VXNlckFnZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50fSxlLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnNldEF0dHJpYnV0ZSh0LFwiZGF0YS1cIitlLG4pfSxlLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKHQsXCJkYXRhLVwiK2UpfSxlLnByb3RvdHlwZS5nZXRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiBnZXRDb21wdXRlZFN0eWxlKHQpfSxlLnByb3RvdHlwZS5zZXRHbG9iYWxWYXI9ZnVuY3Rpb24odCxlKXtzKFksdCxlKX0sZS5wcm90b3R5cGUuc3VwcG9ydHNXZWJBbmltYXRpb249ZnVuY3Rpb24oKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBFbGVtZW50LnByb3RvdHlwZS5hbmltYXRlfSxlLnByb3RvdHlwZS5wZXJmb3JtYW5jZU5vdz1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3c/d2luZG93LnBlcmZvcm1hbmNlLm5vdygpOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxlLnByb3RvdHlwZS5zdXBwb3J0c0Nvb2tpZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZS5wcm90b3R5cGUuZ2V0Q29va2llPWZ1bmN0aW9uKHQpe3JldHVybiB5KGRvY3VtZW50LmNvb2tpZSx0KX0sZS5wcm90b3R5cGUuc2V0Q29va2llPWZ1bmN0aW9uKHQsZSl7ZG9jdW1lbnQuY29va2llPWVuY29kZVVSSUNvbXBvbmVudCh0KStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZSl9LGV9KHJ0KSxsdD1udWxsLHB0PXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxodD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5jYWxsKHRoaXMpLHRoaXMuX2luaXQoKX1yZXR1cm4gcHQoZSx0KSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3RoaXMuX2xvY2F0aW9uPWEoKS5nZXRMb2NhdGlvbigpLHRoaXMuX2hpc3Rvcnk9YSgpLmdldEhpc3RvcnkoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibG9jYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2F0aW9ufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEJhc2VIcmVmRnJvbURPTT1mdW5jdGlvbigpe3JldHVybiBhKCkuZ2V0QmFzZUhyZWYoKX0sZS5wcm90b3R5cGUub25Qb3BTdGF0ZT1mdW5jdGlvbih0KXthKCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQoXCJ3aW5kb3dcIikuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsdCwhMSl9LGUucHJvdG90eXBlLm9uSGFzaENoYW5nZT1mdW5jdGlvbih0KXthKCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQoXCJ3aW5kb3dcIikuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIix0LCExKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGF0aG5hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2F0aW9uLnBhdGhuYW1lfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9jYXRpb24ucGF0aG5hbWU9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzZWFyY2hcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2F0aW9uLnNlYXJjaH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJoYXNoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhdGlvbi5oYXNofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnB1c2hTdGF0ZT1mdW5jdGlvbih0LGUsbil7bSgpP3RoaXMuX2hpc3RvcnkucHVzaFN0YXRlKHQsZSxuKTp0aGlzLl9sb2NhdGlvbi5oYXNoPW59LGUucHJvdG90eXBlLnJlcGxhY2VTdGF0ZT1mdW5jdGlvbih0LGUsbil7bSgpP3RoaXMuX2hpc3RvcnkucmVwbGFjZVN0YXRlKHQsZSxuKTp0aGlzLl9sb2NhdGlvbi5oYXNoPW59LGUucHJvdG90eXBlLmZvcndhcmQ9ZnVuY3Rpb24oKXt0aGlzLl9oaXN0b3J5LmZvcndhcmQoKX0sZS5wcm90b3R5cGUuYmFjaz1mdW5jdGlvbigpe3RoaXMuX2hpc3RvcnkuYmFjaygpfSxlLmRlY29yYXRvcnM9W3t0eXBlOm4uSW5qZWN0YWJsZX1dLGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZX0oZS5QbGF0Zm9ybUxvY2F0aW9uKSxmdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuaW5pdD1mdW5jdGlvbigpe24uc2V0VGVzdGFiaWxpdHlHZXR0ZXIobmV3IHQpfSx0LnByb3RvdHlwZS5hZGRUb1dpbmRvdz1mdW5jdGlvbih0KXtZLmdldEFuZ3VsYXJUZXN0YWJpbGl0eT1mdW5jdGlvbihlLG4pe3ZvaWQgMD09PW4mJihuPSEwKTt2YXIgcj10LmZpbmRUZXN0YWJpbGl0eUluVHJlZShlLG4pO2lmKG51bGw9PXIpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGZpbmQgdGVzdGFiaWxpdHkgZm9yIGVsZW1lbnQuXCIpO3JldHVybiByfSxZLmdldEFsbEFuZ3VsYXJUZXN0YWJpbGl0aWVzPWZ1bmN0aW9uKCl7XG5yZXR1cm4gdC5nZXRBbGxUZXN0YWJpbGl0aWVzKCl9LFkuZ2V0QWxsQW5ndWxhclJvb3RFbGVtZW50cz1mdW5jdGlvbigpe3JldHVybiB0LmdldEFsbFJvb3RFbGVtZW50cygpfTt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT1ZLmdldEFsbEFuZ3VsYXJUZXN0YWJpbGl0aWVzKCksbj1lLmxlbmd0aCxyPSExLGk9ZnVuY3Rpb24oZSl7cj1yfHxlLG4tLSwwPT1uJiZ0KHIpfTtlLmZvckVhY2goZnVuY3Rpb24odCl7dC53aGVuU3RhYmxlKGkpfSl9O1kuZnJhbWV3b3JrU3RhYmlsaXplcnN8fChZLmZyYW1ld29ya1N0YWJpbGl6ZXJzPVtdKSxZLmZyYW1ld29ya1N0YWJpbGl6ZXJzLnB1c2goZSl9LHQucHJvdG90eXBlLmZpbmRUZXN0YWJpbGl0eUluVHJlZT1mdW5jdGlvbih0LGUsbil7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDt2YXIgaT10LmdldFRlc3RhYmlsaXR5KGUpO3JldHVybiByKGkpP2k6bj9hKCkuaXNTaGFkb3dSb290KGUpP3RoaXMuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsYSgpLmdldEhvc3QoZSksITApOnRoaXMuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsYSgpLnBhcmVudEVsZW1lbnQoZSksITApOm51bGx9LHR9KCksZHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRUaXRsZT1mdW5jdGlvbigpe3JldHVybiBhKCkuZ2V0VGl0bGUoKX0sdC5wcm90b3R5cGUuc2V0VGl0bGU9ZnVuY3Rpb24odCl7YSgpLnNldFRpdGxlKHQpfSx0fSgpLHl0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5tZXJnZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj17fSxyPTAsaT1PYmplY3Qua2V5cyh0KTtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtuW29dPXRbb119Zm9yKHZhciBzPTAsYT1PYmplY3Qua2V5cyhlKTtzPGEubGVuZ3RoO3MrKyl7dmFyIG89YVtzXTtuW29dPWVbb119cmV0dXJuIG59LHQuZXF1YWxzPWZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCkscj1PYmplY3Qua2V5cyhlKTtpZihuLmxlbmd0aCE9ci5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBvPW5baV07aWYodFtvXSE9PWVbb10pcmV0dXJuITF9cmV0dXJuITB9LHR9KCksbXQ9bmV3IG4uT3BhcXVlVG9rZW4oXCJEb2N1bWVudFRva2VuXCIpLHZ0PW5ldyBuLk9wYXF1ZVRva2VuKFwiRXZlbnRNYW5hZ2VyUGx1Z2luc1wiKSxndD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbj10aGlzO3RoaXMuX3pvbmU9ZSx0aGlzLl9ldmVudE5hbWVUb1BsdWdpbj1uZXcgTWFwLHQuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYW5hZ2VyPW59KSx0aGlzLl9wbHVnaW5zPXQuc2xpY2UoKS5yZXZlcnNlKCl9cmV0dXJuIHQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2ZpbmRQbHVnaW5Gb3IoZSk7cmV0dXJuIHIuYWRkRXZlbnRMaXN0ZW5lcih0LGUsbil9LHQucHJvdG90eXBlLmFkZEdsb2JhbEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2ZpbmRQbHVnaW5Gb3IoZSk7cmV0dXJuIHIuYWRkR2xvYmFsRXZlbnRMaXN0ZW5lcih0LGUsbil9LHQucHJvdG90eXBlLmdldFpvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fem9uZX0sdC5wcm90b3R5cGUuX2ZpbmRQbHVnaW5Gb3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXZlbnROYW1lVG9QbHVnaW4uZ2V0KHQpO2lmKGUpcmV0dXJuIGU7Zm9yKHZhciBuPXRoaXMuX3BsdWdpbnMscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgaT1uW3JdO2lmKGkuc3VwcG9ydHModCkpcmV0dXJuIHRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luLnNldCh0LGkpLGl9dGhyb3cgbmV3IEVycm9yKFwiTm8gZXZlbnQgbWFuYWdlciBwbHVnaW4gZm91bmQgZm9yIGV2ZW50IFwiK3QpfSx0LmRlY29yYXRvcnM9W3t0eXBlOm4uSW5qZWN0YWJsZX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6QXJyYXksZGVjb3JhdG9yczpbe3R5cGU6bi5JbmplY3QsYXJnczpbdnRdfV19LHt0eXBlOm4uTmdab25lfV19LHR9KCksX3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5zdXBwb3J0cz1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4pe30sdC5wcm90b3R5cGUuYWRkR2xvYmFsRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9YSgpLmdldEdsb2JhbEV2ZW50VGFyZ2V0KHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGV2ZW50IHRhcmdldCBcIityK1wiIGZvciBldmVudCBcIitlKTtyZXR1cm4gdGhpcy5hZGRFdmVudExpc3RlbmVyKHIsZSxuKX0sdH0oKSxidD10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sd3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fc3R5bGVzU2V0PW5ldyBTZXR9cmV0dXJuIHQucHJvdG90eXBlLmFkZFN0eWxlcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49bmV3IFNldDt0LmZvckVhY2goZnVuY3Rpb24odCl7ZS5fc3R5bGVzU2V0Lmhhcyh0KXx8KGUuX3N0eWxlc1NldC5hZGQodCksbi5hZGQodCkpfSksdGhpcy5vblN0eWxlc0FkZGVkKG4pfSx0LnByb3RvdHlwZS5vblN0eWxlc0FkZGVkPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuZ2V0QWxsU3R5bGVzPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fc3R5bGVzU2V0KX0sdC5kZWNvcmF0b3JzPVt7dHlwZTpuLkluamVjdGFibGV9XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW119LHR9KCksQ3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyksdGhpcy5fZG9jPWUsdGhpcy5faG9zdE5vZGVzPW5ldyBTZXQsdGhpcy5fc3R5bGVOb2Rlcz1uZXcgU2V0LHRoaXMuX2hvc3ROb2Rlcy5hZGQoZS5oZWFkKX1yZXR1cm4gYnQoZSx0KSxlLnByb3RvdHlwZS5fYWRkU3R5bGVzVG9Ib3N0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9bi5fZG9jLmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtyLnRleHRDb250ZW50PXQsbi5fc3R5bGVOb2Rlcy5hZGQoZS5hcHBlbmRDaGlsZChyKSl9KX0sZS5wcm90b3R5cGUuYWRkSG9zdD1mdW5jdGlvbih0KXt0aGlzLl9hZGRTdHlsZXNUb0hvc3QodGhpcy5fc3R5bGVzU2V0LHQpLHRoaXMuX2hvc3ROb2Rlcy5hZGQodCl9LGUucHJvdG90eXBlLnJlbW92ZUhvc3Q9ZnVuY3Rpb24odCl7dGhpcy5faG9zdE5vZGVzLmRlbGV0ZSh0KX0sZS5wcm90b3R5cGUub25TdHlsZXNBZGRlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2hvc3ROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBlLl9hZGRTdHlsZXNUb0hvc3QodCxuKX0pfSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX3N0eWxlTm9kZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gYSgpLnJlbW92ZSh0KX0pfSxlLmRlY29yYXRvcnM9W3t0eXBlOm4uSW5qZWN0YWJsZX1dLGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6dm9pZCAwLGRlY29yYXRvcnM6W3t0eXBlOm4uSW5qZWN0LGFyZ3M6W210XX1dfV19LGV9KHd0KSxFdD10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sU3Q9e3hsaW5rOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLHN2ZzpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIseGh0bWw6XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCJ9LHh0PVwidGVtcGxhdGUgYmluZGluZ3M9e31cIixQdD0vXnRlbXBsYXRlIGJpbmRpbmdzPSguKikkLyxPdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt0aGlzLmRvY3VtZW50PXQsdGhpcy5ldmVudE1hbmFnZXI9ZSx0aGlzLnNoYXJlZFN0eWxlc0hvc3Q9bix0aGlzLmFuaW1hdGlvbkRyaXZlcj1yLHRoaXMuYXBwSWQ9aSx0aGlzLnJlZ2lzdGVyZWRDb21wb25lbnRzPW5ldyBNYXB9cmV0dXJuIHQucHJvdG90eXBlLnJlbmRlckNvbXBvbmVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlZ2lzdGVyZWRDb21wb25lbnRzLmdldCh0LmlkKTtyZXR1cm4gZXx8KGU9bmV3IE10KHRoaXMsdCx0aGlzLmFuaW1hdGlvbkRyaXZlcix0aGlzLmFwcElkK1wiLVwiK3QuaWQpLHRoaXMucmVnaXN0ZXJlZENvbXBvbmVudHMuc2V0KHQuaWQsZSkpLGV9LHR9KCksVHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpLG8pe3QuY2FsbCh0aGlzLGUsbixyLGksbyl9cmV0dXJuIEV0KGUsdCksZS5kZWNvcmF0b3JzPVt7dHlwZTpuLkluamVjdGFibGV9XSxlLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnZvaWQgMCxkZWNvcmF0b3JzOlt7dHlwZTpuLkluamVjdCxhcmdzOlttdF19XX0se3R5cGU6Z3R9LHt0eXBlOkN0fSx7dHlwZTpRfSx7dHlwZTp2b2lkIDAsZGVjb3JhdG9yczpbe3R5cGU6bi5JbmplY3QsYXJnczpbbi5BUFBfSURdfV19XX0sZX0oT3QpLEF0PXtyZW1vdmU6ZnVuY3Rpb24odCl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9LGFwcGVuZENoaWxkOmZ1bmN0aW9uKHQsZSl7ZS5hcHBlbmRDaGlsZCh0KX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKHQsZSl7ZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LGUpfSxuZXh0U2libGluZzpmdW5jdGlvbih0KXtyZXR1cm4gdC5uZXh0U2libGluZ30scGFyZW50RWxlbWVudDpmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJlbnROb2RlfX0sTXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxyLGkpe3RoaXMuX3Jvb3RSZW5kZXJlcj10LHRoaXMuY29tcG9uZW50UHJvdG89ZSx0aGlzLl9hbmltYXRpb25Ecml2ZXI9cix0aGlzLmRpcmVjdFJlbmRlcmVyPUF0LHRoaXMuX3N0eWxlcz1DKGksZS5zdHlsZXMsW10pLGUuZW5jYXBzdWxhdGlvbiE9PW4uVmlld0VuY2Fwc3VsYXRpb24uTmF0aXZlJiZ0aGlzLl9yb290UmVuZGVyZXIuc2hhcmVkU3R5bGVzSG9zdC5hZGRTdHlsZXModGhpcy5fc3R5bGVzKSx0aGlzLmNvbXBvbmVudFByb3RvLmVuY2Fwc3VsYXRpb249PT1uLlZpZXdFbmNhcHN1bGF0aW9uLkVtdWxhdGVkPyh0aGlzLl9jb250ZW50QXR0cj1iKGkpLHRoaXMuX2hvc3RBdHRyPXcoaSkpOih0aGlzLl9jb250ZW50QXR0cj1udWxsLHRoaXMuX2hvc3RBdHRyPW51bGwpfXJldHVybiB0LnByb3RvdHlwZS5zZWxlY3RSb290RWxlbWVudD1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZihuPXRoaXMuX3Jvb3RSZW5kZXJlci5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpLCFuKXRocm93IG5ldyBFcnJvcignVGhlIHNlbGVjdG9yIFwiJyt0KydcIiBkaWQgbm90IG1hdGNoIGFueSBlbGVtZW50cycpfWVsc2Ugbj10O2Zvcig7bi5maXJzdENoaWxkOyluLnJlbW92ZUNoaWxkKG4uZmlyc3RDaGlsZCk7cmV0dXJuIG59LHQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByO2lmKEUoZSkpe3ZhciBpPVMoZSk7cj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU3RbaVswXV0saVsxXSl9ZWxzZSByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSk7cmV0dXJuIHRoaXMuX2NvbnRlbnRBdHRyJiZyLnNldEF0dHJpYnV0ZSh0aGlzLl9jb250ZW50QXR0cixcIlwiKSx0JiZ0LmFwcGVuZENoaWxkKHIpLHJ9LHQucHJvdG90eXBlLmNyZWF0ZVZpZXdSb290PWZ1bmN0aW9uKHQpe3ZhciBlO2lmKHRoaXMuY29tcG9uZW50UHJvdG8uZW5jYXBzdWxhdGlvbj09PW4uVmlld0VuY2Fwc3VsYXRpb24uTmF0aXZlKXtlPXQuY3JlYXRlU2hhZG93Um9vdCgpO2Zvcih2YXIgcj0wO3I8dGhpcy5fc3R5bGVzLmxlbmd0aDtyKyspe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtpLnRleHRDb250ZW50PXRoaXMuX3N0eWxlc1tyXSxlLmFwcGVuZENoaWxkKGkpfX1lbHNlIHRoaXMuX2hvc3RBdHRyJiZ0LnNldEF0dHJpYnV0ZSh0aGlzLl9ob3N0QXR0cixcIlwiKSxlPXQ7cmV0dXJuIGV9LHQucHJvdG90eXBlLmNyZWF0ZVRlbXBsYXRlQW5jaG9yPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlQ29tbWVudCh4dCk7cmV0dXJuIHQmJnQuYXBwZW5kQ2hpbGQobiksbn0sdC5wcm90b3R5cGUuY3JlYXRlVGV4dD1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSk7cmV0dXJuIHQmJnQuYXBwZW5kQ2hpbGQocikscn0sdC5wcm90b3R5cGUucHJvamVjdE5vZGVzPWZ1bmN0aW9uKHQsZSl7dCYmZyh0LGUpfSx0LnByb3RvdHlwZS5hdHRhY2hWaWV3QWZ0ZXI9ZnVuY3Rpb24odCxlKXt2KHQsZSl9LHQucHJvdG90eXBlLmRldGFjaFZpZXc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV07bi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobil9fSx0LnByb3RvdHlwZS5kZXN0cm95Vmlldz1mdW5jdGlvbih0LGUpe3RoaXMuY29tcG9uZW50UHJvdG8uZW5jYXBzdWxhdGlvbj09PW4uVmlld0VuY2Fwc3VsYXRpb24uTmF0aXZlJiZ0JiZ0aGlzLl9yb290UmVuZGVyZXIuc2hhcmVkU3R5bGVzSG9zdC5yZW1vdmVIb3N0KHQuc2hhZG93Um9vdCl9LHQucHJvdG90eXBlLmxpc3Rlbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuX3Jvb3RSZW5kZXJlci5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0LGUsXyhuKSl9LHQucHJvdG90eXBlLmxpc3Rlbkdsb2JhbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuX3Jvb3RSZW5kZXJlci5ldmVudE1hbmFnZXIuYWRkR2xvYmFsRXZlbnRMaXN0ZW5lcih0LGUsXyhuKSl9LHQucHJvdG90eXBlLnNldEVsZW1lbnRQcm9wZXJ0eT1mdW5jdGlvbih0LGUsbil7dFtlXT1ufSx0LnByb3RvdHlwZS5zZXRFbGVtZW50QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxvPWU7aWYoRShlKSl7dmFyIHM9UyhlKTtvPXNbMV0sZT1zWzBdK1wiOlwiK3NbMV0saT1TdFtzWzBdXX1yKG4pP2k/dC5zZXRBdHRyaWJ1dGVOUyhpLGUsbik6dC5zZXRBdHRyaWJ1dGUoZSxuKTpyKGkpP3QucmVtb3ZlQXR0cmlidXRlTlMoaSxvKTp0LnJlbW92ZUF0dHJpYnV0ZShlKX0sdC5wcm90b3R5cGUuc2V0QmluZGluZ0RlYnVnSW5mbz1mdW5jdGlvbih0LGUsbil7aWYodC5ub2RlVHlwZT09PU5vZGUuQ09NTUVOVF9OT0RFKXt2YXIgcj10Lm5vZGVWYWx1ZS5yZXBsYWNlKC9cXG4vZyxcIlwiKS5tYXRjaChQdCksaT1KU09OLnBhcnNlKHJbMV0pO2lbZV09bix0Lm5vZGVWYWx1ZT14dC5yZXBsYWNlKFwie31cIixKU09OLnN0cmluZ2lmeShpLG51bGwsMikpfWVsc2UgdGhpcy5zZXRFbGVtZW50QXR0cmlidXRlKHQsZSxuKX0sdC5wcm90b3R5cGUuc2V0RWxlbWVudENsYXNzPWZ1bmN0aW9uKHQsZSxuKXtuP3QuY2xhc3NMaXN0LmFkZChlKTp0LmNsYXNzTGlzdC5yZW1vdmUoZSl9LHQucHJvdG90eXBlLnNldEVsZW1lbnRTdHlsZT1mdW5jdGlvbih0LGUsbil7cihuKT90LnN0eWxlW2VdPW8obik6dC5zdHlsZVtlXT1cIlwifSx0LnByb3RvdHlwZS5pbnZva2VFbGVtZW50TWV0aG9kPWZ1bmN0aW9uKHQsZSxuKXt0W2VdLmFwcGx5KHQsbil9LHQucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24odCxlKXt0Lm5vZGVWYWx1ZT1lfSx0LnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLHMpe3JldHVybiB2b2lkIDA9PT1zJiYocz1bXSksdGhpcy5fcm9vdFJlbmRlcmVyLmRvY3VtZW50LmJvZHkuY29udGFpbnModCk/dGhpcy5fYW5pbWF0aW9uRHJpdmVyLmFuaW1hdGUodCxlLG4scixpLG8scyk6bmV3IFh9LHR9KCksa3Q9LyVDT01QJS9nLFJ0PVwiJUNPTVAlXCIsSXQ9XCJfbmdob3N0LVwiK1J0LE50PVwiX25nY29udGVudC1cIitSdCxEdD0vXjooW146XSspOiguKykkLyxqdD17QXBwbGljYXRpb25SZWY6bi5BcHBsaWNhdGlvblJlZixOZ1pvbmU6bi5OZ1pvbmV9LFZ0PVwibmcucHJvYmVcIixMdD1cIm5nLmNvcmVUb2tlbnNcIixGdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLm5hbWU9dCx0aGlzLnRva2VuPWV9cmV0dXJuIHR9KCksVXQ9W3twcm92aWRlOm4uUm9vdFJlbmRlcmVyLHVzZUZhY3Rvcnk6UCxkZXBzOltPdCxbRnQsbmV3IG4uT3B0aW9uYWxdLFtuLk5nUHJvYmVUb2tlbixuZXcgbi5PcHRpb25hbF1dfV0sSHQ9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LEJ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gSHQoZSx0KSxlLnByb3RvdHlwZS5zdXBwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4hMH0sZS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcihlLG4sITEpLGZ1bmN0aW9uKCl7cmV0dXJuIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITEpfX0sZS5kZWNvcmF0b3JzPVt7dHlwZTpuLkluamVjdGFibGV9XSxlLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW119LGV9KF90KSxxdD10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0senQ9e3BhbjohMCxwYW5zdGFydDohMCxwYW5tb3ZlOiEwLHBhbmVuZDohMCxwYW5jYW5jZWw6ITAscGFubGVmdDohMCxwYW5yaWdodDohMCxwYW51cDohMCxwYW5kb3duOiEwLHBpbmNoOiEwLHBpbmNoc3RhcnQ6ITAscGluY2htb3ZlOiEwLHBpbmNoZW5kOiEwLHBpbmNoY2FuY2VsOiEwLHBpbmNoaW46ITAscGluY2hvdXQ6ITAscHJlc3M6ITAscHJlc3N1cDohMCxyb3RhdGU6ITAscm90YXRlc3RhcnQ6ITAscm90YXRlbW92ZTohMCxyb3RhdGVlbmQ6ITAscm90YXRlY2FuY2VsOiEwLHN3aXBlOiEwLHN3aXBlbGVmdDohMCxzd2lwZXJpZ2h0OiEwLHN3aXBldXA6ITAsc3dpcGVkb3duOiEwLHRhcDohMH0sV3Q9bmV3IG4uT3BhcXVlVG9rZW4oXCJIYW1tZXJHZXN0dXJlQ29uZmlnXCIpLEd0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZXZlbnRzPVtdLHRoaXMub3ZlcnJpZGVzPXt9fXJldHVybiB0LnByb3RvdHlwZS5idWlsZEhhbW1lcj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgSGFtbWVyKHQpO2UuZ2V0KFwicGluY2hcIikuc2V0KHtlbmFibGU6ITB9KSxlLmdldChcInJvdGF0ZVwiKS5zZXQoe2VuYWJsZTohMH0pO2Zvcih2YXIgbiBpbiB0aGlzLm92ZXJyaWRlcyllLmdldChuKS5zZXQodGhpcy5vdmVycmlkZXNbbl0pO3JldHVybiBlfSx0LmRlY29yYXRvcnM9W3t0eXBlOm4uSW5qZWN0YWJsZX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdH0oKSxYdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzKSx0aGlzLl9jb25maWc9ZX1yZXR1cm4gcXQoZSx0KSxlLnByb3RvdHlwZS5zdXBwb3J0cz1mdW5jdGlvbih0KXtpZighenQuaGFzT3duUHJvcGVydHkodC50b0xvd2VyQ2FzZSgpKSYmIXRoaXMuaXNDdXN0b21FdmVudCh0KSlyZXR1cm4hMTtpZighd2luZG93LkhhbW1lcil0aHJvdyBuZXcgRXJyb3IoXCJIYW1tZXIuanMgaXMgbm90IGxvYWRlZCwgY2FuIG5vdCBiaW5kIFwiK3QrXCIgZXZlbnRcIik7cmV0dXJuITB9LGUucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMsaT10aGlzLm1hbmFnZXIuZ2V0Wm9uZSgpO3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSxpLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7dmFyIG89ci5fY29uZmlnLmJ1aWxkSGFtbWVyKHQpLHM9ZnVuY3Rpb24odCl7aS5ydW5HdWFyZGVkKGZ1bmN0aW9uKCl7bih0KX0pfTtyZXR1cm4gby5vbihlLHMpLGZ1bmN0aW9uKCl7cmV0dXJuIG8ub2ZmKGUscyl9fSl9LGUucHJvdG90eXBlLmlzQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5ldmVudHMuaW5kZXhPZih0KT4tMX0sZS5kZWNvcmF0b3JzPVt7dHlwZTpuLkluamVjdGFibGV9XSxlLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOkd0LGRlY29yYXRvcnM6W3t0eXBlOm4uSW5qZWN0LGFyZ3M6W1d0XX1dfV19LGV9KF90KSwkdD10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sUXQ9W1wiYWx0XCIsXCJjb250cm9sXCIsXCJtZXRhXCIsXCJzaGlmdFwiXSxZdD17YWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0LmFsdEtleX0sY29udHJvbDpmdW5jdGlvbih0KXtyZXR1cm4gdC5jdHJsS2V5fSxtZXRhOmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1ldGFLZXl9LHNoaWZ0OmZ1bmN0aW9uKHQpe3JldHVybiB0LnNoaWZ0S2V5fX0sS3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuY2FsbCh0aGlzKX1yZXR1cm4gJHQoZSx0KSxlLnByb3RvdHlwZS5zdXBwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9ZS5wYXJzZUV2ZW50TmFtZSh0KX0sZS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LG4scil7dmFyIGk9ZS5wYXJzZUV2ZW50TmFtZShuKSxvPWUuZXZlbnRDYWxsYmFjayhpLmZ1bGxLZXkscix0aGlzLm1hbmFnZXIuZ2V0Wm9uZSgpKTtyZXR1cm4gdGhpcy5tYW5hZ2VyLmdldFpvbmUoKS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe3JldHVybiBhKCkub25BbmRDYW5jZWwodCxpLmRvbUV2ZW50TmFtZSxvKX0pfSxlLnBhcnNlRXZlbnROYW1lPWZ1bmN0aW9uKHQpe3ZhciBuPXQudG9Mb3dlckNhc2UoKS5zcGxpdChcIi5cIikscj1uLnNoaWZ0KCk7aWYoMD09PW4ubGVuZ3RofHxcImtleWRvd25cIiE9PXImJlwia2V5dXBcIiE9PXIpcmV0dXJuIG51bGw7dmFyIGk9ZS5fbm9ybWFsaXplS2V5KG4ucG9wKCkpLG89XCJcIjtpZihRdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPW4uaW5kZXhPZih0KTtlPi0xJiYobi5zcGxpY2UoZSwxKSxvKz10K1wiLlwiKX0pLG8rPWksMCE9bi5sZW5ndGh8fDA9PT1pLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgcz17fTtyZXR1cm4gcy5kb21FdmVudE5hbWU9cixzLmZ1bGxLZXk9byxzfSxlLmdldEV2ZW50RnVsbEtleT1mdW5jdGlvbih0KXt2YXIgZT1cIlwiLG49YSgpLmdldEV2ZW50S2V5KHQpO3JldHVybiBuPW4udG9Mb3dlckNhc2UoKSxcIiBcIj09PW4/bj1cInNwYWNlXCI6XCIuXCI9PT1uJiYobj1cImRvdFwiKSxRdC5mb3JFYWNoKGZ1bmN0aW9uKHIpe2lmKHIhPW4pe3ZhciBpPVl0W3JdO2kodCkmJihlKz1yK1wiLlwiKX19KSxlKz1ufSxlLmV2ZW50Q2FsbGJhY2s9ZnVuY3Rpb24odCxuLHIpe3JldHVybiBmdW5jdGlvbihpKXtlLmdldEV2ZW50RnVsbEtleShpKT09PXQmJnIucnVuR3VhcmRlZChmdW5jdGlvbigpe3JldHVybiBuKGkpfSl9fSxlLl9ub3JtYWxpemVLZXk9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2VcImVzY1wiOnJldHVyblwiZXNjYXBlXCI7ZGVmYXVsdDpyZXR1cm4gdH19LGUuZGVjb3JhdG9ycz1be3R5cGU6bi5JbmplY3RhYmxlfV0sZS5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybltdfSxlfShfdCksWnQ9L14oPzooPzpodHRwcz98bWFpbHRvfGZ0cHx0ZWx8ZmlsZSk6fFteJjpcXC8/I10qKD86W1xcLz8jXXwkKSkvZ2ksSnQ9L15kYXRhOig/OmltYWdlXFwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwKXx2aWRlb1xcLyg/Om1wZWd8bXA0fG9nZ3x3ZWJtKXxhdWRpb1xcLyg/Om1wM3xvZ2F8b2dnfG9wdXMpKTtiYXNlNjQsW2EtejAtOStcXC9dKz0qJC9pLHRlPW51bGwsZWU9bnVsbCxuZT1SKFwiYXJlYSxicixjb2wsaHIsaW1nLHdiclwiKSxyZT1SKFwiY29sZ3JvdXAsZGQsZHQsbGkscCx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCx0clwiKSxpZT1SKFwicnAscnRcIiksb2U9SShpZSxyZSksc2U9SShyZSxSKFwiYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJsb2NrcXVvdGUsY2FwdGlvbixjZW50ZXIsZGVsLGRldGFpbHMsZGlhbG9nLGRpcixkaXYsZGwsZmlndXJlLGZpZ2NhcHRpb24sZm9vdGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhlYWRlcixoZ3JvdXAsaHIsaW5zLG1haW4sbWFwLG1lbnUsbmF2LG9sLHByZSxzZWN0aW9uLHN1bW1hcnksdGFibGUsdWxcIikpLGFlPUkoaWUsUihcImEsYWJicixhY3JvbnltLGF1ZGlvLGIsYmRpLGJkbyxiaWcsYnIsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGltZyxpbnMsa2JkLGxhYmVsLG1hcCxtYXJrLHBpY3R1cmUscSxydWJ5LHJwLHJ0LHMsc2FtcCxzbWFsbCxzb3VyY2Usc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0cmFjayx0dCx1LHZhcix2aWRlb1wiKSksdWU9SShuZSxzZSxhZSxvZSksY2U9UihcImJhY2tncm91bmQsY2l0ZSxocmVmLGl0ZW10eXBlLGxvbmdkZXNjLHBvc3RlcixzcmMseGxpbms6aHJlZlwiKSxsZT1SKFwic3Jjc2V0XCIpLHBlPVIoXCJhYmJyLGFjY2Vzc2tleSxhbGlnbixhbHQsYXV0b3BsYXksYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhcixjb2xvcixjb2xzLGNvbHNwYW4sY29tcGFjdCxjb250cm9scyxjb29yZHMsZGF0ZXRpbWUsZGVmYXVsdCxkaXIsZG93bmxvYWQsZmFjZSxoZWFkZXJzLGhlaWdodCxoaWRkZW4saHJlZmxhbmcsaHNwYWNlLGlzbWFwLGl0ZW1zY29wZSxpdGVtcHJvcCxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9vcCxtZWRpYSxtdXRlZCxub2hyZWYsbm93cmFwLG9wZW4scHJlbG9hZCxyZWwscmV2LHJvbGUscm93cyxyb3dzcGFuLHJ1bGVzLHNjb3BlLHNjcm9sbGluZyxzaGFwZSxzaXplLHNpemVzLHNwYW4sc3JjbGFuZyxzdGFydCxzdW1tYXJ5LHRhYmluZGV4LHRhcmdldCx0aXRsZSx0cmFuc2xhdGUsdHlwZSx1c2VtYXAsdmFsaWduLHZhbHVlLHZzcGFjZSx3aWR0aFwiKSxoZT1JKGNlLGxlLHBlKSxmZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnNhbml0aXplZFNvbWV0aGluZz0hMSx0aGlzLmJ1Zj1bXX1yZXR1cm4gdC5wcm90b3R5cGUuc2FuaXRpemVDaGlsZHJlbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5maXJzdENoaWxkO2U7KWlmKGVlLmlzRWxlbWVudE5vZGUoZSk/dGhpcy5zdGFydEVsZW1lbnQoZSk6ZWUuaXNUZXh0Tm9kZShlKT90aGlzLmNoYXJzKGVlLm5vZGVWYWx1ZShlKSk6dGhpcy5zYW5pdGl6ZWRTb21ldGhpbmc9ITAsZWUuZmlyc3RDaGlsZChlKSllPWVlLmZpcnN0Q2hpbGQoZSk7ZWxzZSBmb3IoO2U7KXtpZihlZS5pc0VsZW1lbnROb2RlKGUpJiZ0aGlzLmVuZEVsZW1lbnQoZSksZWUubmV4dFNpYmxpbmcoZSkpe2U9ZWUubmV4dFNpYmxpbmcoZSk7YnJlYWt9ZT1lZS5wYXJlbnRFbGVtZW50KGUpfXJldHVybiB0aGlzLmJ1Zi5qb2luKFwiXCIpfSx0LnByb3RvdHlwZS5zdGFydEVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWVlLm5vZGVOYW1lKHQpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHVlLmhhc093blByb3BlcnR5KG4pPyh0aGlzLmJ1Zi5wdXNoKFwiPFwiKSx0aGlzLmJ1Zi5wdXNoKG4pLGVlLmF0dHJpYnV0ZU1hcCh0KS5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7dmFyIHI9bi50b0xvd2VyQ2FzZSgpO3JldHVybiBoZS5oYXNPd25Qcm9wZXJ0eShyKT8oY2Vbcl0mJih0PUEodCkpLGxlW3JdJiYodD1NKHQpKSxlLmJ1Zi5wdXNoKFwiIFwiKSxlLmJ1Zi5wdXNoKG4pLGUuYnVmLnB1c2goJz1cIicpLGUuYnVmLnB1c2goTih0KSksdm9pZCBlLmJ1Zi5wdXNoKCdcIicpKTp2b2lkKGUuc2FuaXRpemVkU29tZXRoaW5nPSEwKX0pLHZvaWQgdGhpcy5idWYucHVzaChcIj5cIikpOnZvaWQodGhpcy5zYW5pdGl6ZWRTb21ldGhpbmc9ITApfSx0LnByb3RvdHlwZS5lbmRFbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlPWVlLm5vZGVOYW1lKHQpLnRvTG93ZXJDYXNlKCk7dWUuaGFzT3duUHJvcGVydHkoZSkmJiFuZS5oYXNPd25Qcm9wZXJ0eShlKSYmKHRoaXMuYnVmLnB1c2goXCI8L1wiKSx0aGlzLmJ1Zi5wdXNoKGUpLHRoaXMuYnVmLnB1c2goXCI+XCIpKX0sdC5wcm90b3R5cGUuY2hhcnM9ZnVuY3Rpb24odCl7dGhpcy5idWYucHVzaChOKHQpKX0sdH0oKSxkZT0vW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nLHllPS8oW15cXCMtfiB8IV0pL2csbWU9XCJbLSwuXFxcIiclXyEjIGEtekEtWjAtOV0rXCIsdmU9XCIoPzptYXRyaXh8dHJhbnNsYXRlfHNjYWxlfHJvdGF0ZXxza2V3fHBlcnNwZWN0aXZlKSg/Olh8WXwzZCk/XCIsZ2U9XCIoPzpyZ2J8aHNsKWE/XCIsX2U9XCIoPzpyZXBlYXRpbmctKT8oPzpsaW5lYXJ8cmFkaWFsKS1ncmFkaWVudFwiLGJlPVwiKD86Y2FsY3xhdHRyKVwiLHdlPVwiXFxcXChbLTAtOS4lLCAjYS16QS1aXStcXFxcKVwiLENlPW5ldyBSZWdFeHAoXCJeKFwiK21lK1wifFwiKyhcIig/OlwiK3ZlK1wifFwiK2dlK1wifFwiK19lK1wifFwiK2JlK1wiKVwiKSsod2UrXCIpJFwiKSxcImdcIiksRWU9L151cmxcXCgoW14pXSspXFwpJC8sU2U9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LHhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuc2FuaXRpemU9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmJ5cGFzc1NlY3VyaXR5VHJ1c3RIdG1sPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuYnlwYXNzU2VjdXJpdHlUcnVzdFN0eWxlPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuYnlwYXNzU2VjdXJpdHlUcnVzdFNjcmlwdD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmJ5cGFzc1NlY3VyaXR5VHJ1c3RVcmw9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5ieXBhc3NTZWN1cml0eVRydXN0UmVzb3VyY2VVcmw9ZnVuY3Rpb24odCl7fSx0fSgpLFBlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gU2UoZSx0KSxlLnByb3RvdHlwZS5zYW5pdGl6ZT1mdW5jdGlvbih0LGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7c3dpdGNoKHQpe2Nhc2Ugbi5TZWN1cml0eUNvbnRleHQuTk9ORTpyZXR1cm4gZTtjYXNlIG4uU2VjdXJpdHlDb250ZXh0LkhUTUw6cmV0dXJuIGUgaW5zdGFuY2VvZiBUZT9lLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHk6KHRoaXMuY2hlY2tOb3RTYWZlVmFsdWUoZSxcIkhUTUxcIiksaihTdHJpbmcoZSkpKTtjYXNlIG4uU2VjdXJpdHlDb250ZXh0LlNUWUxFOnJldHVybiBlIGluc3RhbmNlb2YgQWU/ZS5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5Oih0aGlzLmNoZWNrTm90U2FmZVZhbHVlKGUsXCJTdHlsZVwiKSxMKGUpKTtjYXNlIG4uU2VjdXJpdHlDb250ZXh0LlNDUklQVDppZihlIGluc3RhbmNlb2YgTWUpcmV0dXJuIGUuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTt0aHJvdyB0aGlzLmNoZWNrTm90U2FmZVZhbHVlKGUsXCJTY3JpcHRcIiksbmV3IEVycm9yKFwidW5zYWZlIHZhbHVlIHVzZWQgaW4gYSBzY3JpcHQgY29udGV4dFwiKTtjYXNlIG4uU2VjdXJpdHlDb250ZXh0LlVSTDpyZXR1cm4gZSBpbnN0YW5jZW9mIFJlfHxlIGluc3RhbmNlb2Yga2U/ZS5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5Oih0aGlzLmNoZWNrTm90U2FmZVZhbHVlKGUsXCJVUkxcIiksQShTdHJpbmcoZSkpKTtjYXNlIG4uU2VjdXJpdHlDb250ZXh0LlJFU09VUkNFX1VSTDppZihlIGluc3RhbmNlb2YgUmUpcmV0dXJuIGUuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTt0aHJvdyB0aGlzLmNoZWNrTm90U2FmZVZhbHVlKGUsXCJSZXNvdXJjZVVSTFwiKSxuZXcgRXJyb3IoXCJ1bnNhZmUgdmFsdWUgdXNlZCBpbiBhIHJlc291cmNlIFVSTCBjb250ZXh0IChzZWUgaHR0cDovL2cuY28vbmcvc2VjdXJpdHkjeHNzKVwiKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgU2VjdXJpdHlDb250ZXh0IFwiK3QrXCIgKHNlZSBodHRwOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpXCIpfX0sZS5wcm90b3R5cGUuY2hlY2tOb3RTYWZlVmFsdWU9ZnVuY3Rpb24odCxlKXtpZih0IGluc3RhbmNlb2YgT2UpdGhyb3cgbmV3IEVycm9yKFwiUmVxdWlyZWQgYSBzYWZlIFwiK2UrXCIsIGdvdCBhIFwiK3QuZ2V0VHlwZU5hbWUoKStcIiAoc2VlIGh0dHA6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylcIil9LGUucHJvdG90eXBlLmJ5cGFzc1NlY3VyaXR5VHJ1c3RIdG1sPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgVGUodCl9LGUucHJvdG90eXBlLmJ5cGFzc1NlY3VyaXR5VHJ1c3RTdHlsZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEFlKHQpfSxlLnByb3RvdHlwZS5ieXBhc3NTZWN1cml0eVRydXN0U2NyaXB0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTWUodCl9LGUucHJvdG90eXBlLmJ5cGFzc1NlY3VyaXR5VHJ1c3RVcmw9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBrZSh0KX0sZS5wcm90b3R5cGUuYnlwYXNzU2VjdXJpdHlUcnVzdFJlc291cmNlVXJsPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUmUodCl9LGUuZGVjb3JhdG9ycz1be3R5cGU6bi5JbmplY3RhYmxlfV0sZS5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybltdfSxlfSh4ZSksT2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eT10fXJldHVybiB0LnByb3RvdHlwZS5nZXRUeXBlTmFtZT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlNhZmVWYWx1ZSBtdXN0IHVzZSBbcHJvcGVydHldPWJpbmRpbmc6IFwiK3RoaXMuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eStcIiAoc2VlIGh0dHA6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylcIn0sdH0oKSxUZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFNlKGUsdCksZS5wcm90b3R5cGUuZ2V0VHlwZU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm5cIkhUTUxcIn0sZX0oT2UpLEFlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gU2UoZSx0KSxlLnByb3RvdHlwZS5nZXRUeXBlTmFtZT1mdW5jdGlvbigpe3JldHVyblwiU3R5bGVcIn0sZX0oT2UpLE1lPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gU2UoZSx0KSxlLnByb3RvdHlwZS5nZXRUeXBlTmFtZT1mdW5jdGlvbigpe3JldHVyblwiU2NyaXB0XCJ9LGV9KE9lKSxrZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIFNlKGUsdCksZS5wcm90b3R5cGUuZ2V0VHlwZU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm5cIlVSTFwifSxlfShPZSksUmU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBTZShlLHQpLGUucHJvdG90eXBlLmdldFR5cGVOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuXCJSZXNvdXJjZVVSTFwifSxlfShPZSksSWU9W3twcm92aWRlOm4uUExBVEZPUk1fSU5JVElBTElaRVIsdXNlVmFsdWU6RixtdWx0aTohMH0se3Byb3ZpZGU6ZS5QbGF0Zm9ybUxvY2F0aW9uLHVzZUNsYXNzOmh0fV0sTmU9W3twcm92aWRlOm4uU2FuaXRpemVyLHVzZUV4aXN0aW5nOnhlfSx7cHJvdmlkZTp4ZSx1c2VDbGFzczpQZX1dLERlPW4uY3JlYXRlUGxhdGZvcm1GYWN0b3J5KG4ucGxhdGZvcm1Db3JlLFwiYnJvd3NlclwiLEllKSxqZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyTW9kdWxlIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLiBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gY29tbW9uIGRpcmVjdGl2ZXMgc3VjaCBhcyBOZ0lmIGFuZCBOZ0ZvciBmcm9tIGEgbGF6eSBsb2FkZWQgbW9kdWxlLCBpbXBvcnQgQ29tbW9uTW9kdWxlIGluc3RlYWQuXCIpfXJldHVybiB0LmRlY29yYXRvcnM9W3t0eXBlOm4uTmdNb2R1bGUsYXJnczpbe3Byb3ZpZGVyczpbTmUse3Byb3ZpZGU6bi5FcnJvckhhbmRsZXIsdXNlRmFjdG9yeTpVLGRlcHM6W119LHtwcm92aWRlOm10LHVzZUZhY3Rvcnk6SCxkZXBzOltdfSx7cHJvdmlkZTp2dCx1c2VDbGFzczpCdCxtdWx0aTohMH0se3Byb3ZpZGU6dnQsdXNlQ2xhc3M6S3QsbXVsdGk6ITB9LHtwcm92aWRlOnZ0LHVzZUNsYXNzOlh0LG11bHRpOiEwfSx7cHJvdmlkZTpXdCx1c2VDbGFzczpHdH0se3Byb3ZpZGU6T3QsdXNlQ2xhc3M6VHR9LHtwcm92aWRlOm4uUm9vdFJlbmRlcmVyLHVzZUV4aXN0aW5nOk90fSx7cHJvdmlkZTp3dCx1c2VFeGlzdGluZzpDdH0se3Byb3ZpZGU6USx1c2VGYWN0b3J5OkJ9LEN0LG4uVGVzdGFiaWxpdHksZ3QsVXQsZHRdLGV4cG9ydHM6W2UuQ29tbW9uTW9kdWxlLG4uQXBwbGljYXRpb25Nb2R1bGVdfV19XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnQsZGVjb3JhdG9yczpbe3R5cGU6bi5PcHRpb25hbH0se3R5cGU6bi5Ta2lwU2VsZn1dfV19LHR9KCksVmU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93fHx7fSxMZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLm1zUGVyVGljaz10LHRoaXMubnVtVGlja3M9ZX1yZXR1cm4gdH0oKSxGZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5wcm9maWxlcj1uZXcgVWUodCl9cmV0dXJuIHR9KCksVWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuYXBwUmVmPXQuaW5qZWN0b3IuZ2V0KG4uQXBwbGljYXRpb25SZWYpfXJldHVybiB0LnByb3RvdHlwZS50aW1lQ2hhbmdlRGV0ZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQucmVjb3JkLG49XCJDaGFuZ2UgRGV0ZWN0aW9uXCIsaT1yKFZlLmNvbnNvbGUucHJvZmlsZSk7ZSYmaSYmVmUuY29uc29sZS5wcm9maWxlKG4pO2Zvcih2YXIgbz1hKCkucGVyZm9ybWFuY2VOb3coKSxzPTA7czw1fHxhKCkucGVyZm9ybWFuY2VOb3coKS1vPDUwMDspdGhpcy5hcHBSZWYudGljaygpLHMrKzt2YXIgdT1hKCkucGVyZm9ybWFuY2VOb3coKTtlJiZpJiZWZS5jb25zb2xlLnByb2ZpbGVFbmQobik7dmFyIGM9KHUtbykvcztyZXR1cm4gVmUuY29uc29sZS5sb2coXCJyYW4gXCIrcytcIiBjaGFuZ2UgZGV0ZWN0aW9uIGN5Y2xlc1wiKSxWZS5jb25zb2xlLmxvZyhjLnRvRml4ZWQoMikrXCIgbXMgcGVyIGNoZWNrXCIpLG5ldyBMZShjLHMpfSx0fSgpLEhlPVksQmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LmFsbD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hMH19LHQuY3NzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hIXIoZS5uYXRpdmVFbGVtZW50KSYmYSgpLmVsZW1lbnRNYXRjaGVzKGUubmF0aXZlRWxlbWVudCx0KX19LHQuZGlyZWN0aXZlPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5wcm92aWRlclRva2Vucy5pbmRleE9mKHQpIT09LTF9fSx0fSgpLHFlPXtCcm93c2VyUGxhdGZvcm1Mb2NhdGlvbjpodCxEb21BZGFwdGVyOkosQnJvd3NlckRvbUFkYXB0ZXI6Y3QsQnJvd3NlckdldFRlc3RhYmlsaXR5OmZ0LGdldERPTTphLHNldFJvb3REb21BZGFwdGVyOnUsRG9tUm9vdFJlbmRlcmVyXzpUdCxEb21Sb290UmVuZGVyZXI6T3QsTkFNRVNQQUNFX1VSSVM6U3Qsc2hpbUNvbnRlbnRBdHRyaWJ1dGU6YixzaGltSG9zdEF0dHJpYnV0ZTp3LGZsYXR0ZW5TdHlsZXM6QyxzcGxpdE5hbWVzcGFjZTpTLGlzTmFtZXNwYWNlZDpFLERvbVNoYXJlZFN0eWxlc0hvc3Q6Q3QsU2hhcmVkU3R5bGVzSG9zdDp3dCxFTEVNRU5UX1BST0JFX1BST1ZJREVSUzpVdCxEb21FdmVudHNQbHVnaW46QnQsS2V5RXZlbnRzUGx1Z2luOkt0LEhhbW1lckdlc3R1cmVzUGx1Z2luOlh0LGluaXREb21BZGFwdGVyOkYsSU5URVJOQUxfQlJPV1NFUl9QTEFURk9STV9QUk9WSURFUlM6SWUsQlJPV1NFUl9TQU5JVElaQVRJT05fUFJPVklERVJTOk5lLFdlYkFuaW1hdGlvbnNEcml2ZXI6ZXR9LHplPW5ldyBuLlZlcnNpb24oXCIyLjQuOFwiKTt0LkJyb3dzZXJNb2R1bGU9amUsdC5wbGF0Zm9ybUJyb3dzZXI9RGUsdC5UaXRsZT1kdCx0LmRpc2FibGVEZWJ1Z1Rvb2xzPXosdC5lbmFibGVEZWJ1Z1Rvb2xzPXEsdC5BbmltYXRpb25Ecml2ZXI9USx0LkJ5PUJlLHQuTmdQcm9iZVRva2VuPUZ0LHQuRE9DVU1FTlQ9bXQsdC5FVkVOVF9NQU5BR0VSX1BMVUdJTlM9dnQsdC5FdmVudE1hbmFnZXI9Z3QsdC5IQU1NRVJfR0VTVFVSRV9DT05GSUc9V3QsdC5IYW1tZXJHZXN0dXJlQ29uZmlnPUd0LHQuRG9tU2FuaXRpemVyPXhlLHQuVkVSU0lPTj16ZSx0Ll9fcGxhdGZvcm1fYnJvd3Nlcl9wcml2YXRlX189cWV9KSxmdW5jdGlvbihpLG8pe1wib2JqZWN0XCI9PXR5cGVvZiBuJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygcj9vKG4sZShcIkBhbmd1bGFyL2NvcmVcIiksZShcInJ4anMvT2JzZXJ2YWJsZVwiKSxlKFwiQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3NlclwiKSk6dC5yZWdpc3RlckR5bmFtaWMoXCI0MVwiLFtcImNcIixcIjE3XCIsXCJlXCJdLCExLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBvP28uY2FsbChlLGUsdChcImNcIiksdChcIjE3XCIpLHQoXCJlXCIpKTpvfSl9KHRoaXMsZnVuY3Rpb24odCxlLG4scil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0KXtpZihcInN0cmluZ1wiIT10eXBlb2YgdClyZXR1cm4gdDtzd2l0Y2godC50b1VwcGVyQ2FzZSgpKXtjYXNlXCJHRVRcIjpyZXR1cm4gbS5HZXQ7Y2FzZVwiUE9TVFwiOnJldHVybiBtLlBvc3Q7Y2FzZVwiUFVUXCI6cmV0dXJuIG0uUHV0O2Nhc2VcIkRFTEVURVwiOnJldHVybiBtLkRlbGV0ZTtjYXNlXCJPUFRJT05TXCI6cmV0dXJuIG0uT3B0aW9ucztjYXNlXCJIRUFEXCI6cmV0dXJuIG0uSGVhZDtjYXNlXCJQQVRDSFwiOnJldHVybiBtLlBhdGNofXRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXF1ZXN0IG1ldGhvZC4gVGhlIG1ldGhvZCBcIicrdCsnXCIgaXMgbm90IHN1cHBvcnRlZC4nKX1mdW5jdGlvbiBvKHQpe3JldHVyblwicmVzcG9uc2VVUkxcImluIHQ/dC5yZXNwb25zZVVSTDovXlgtUmVxdWVzdC1VUkw6L20udGVzdCh0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpKT90LmdldFJlc3BvbnNlSGVhZGVyKFwiWC1SZXF1ZXN0LVVSTFwiKTp2b2lkIDB9ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGU9bmV3IFVpbnQxNkFycmF5KHQubGVuZ3RoKSxuPTAscj10Lmxlbmd0aDtuPHI7bisrKWVbbl09dC5jaGFyQ29kZUF0KG4pO3JldHVybiBlLmJ1ZmZlcn1mdW5jdGlvbiBhKHQpe3ZvaWQgMD09PXQmJih0PVwiXCIpO3ZhciBlPW5ldyBNYXA7aWYodC5sZW5ndGg+MCl7dmFyIG49dC5zcGxpdChcIiZcIik7bi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXQuaW5kZXhPZihcIj1cIikscj1uPT0tMT9bdCxcIlwiXTpbdC5zbGljZSgwLG4pLHQuc2xpY2UobisxKV0saT1yWzBdLG89clsxXSxzPWUuZ2V0KGkpfHxbXTtzLnB1c2gobyksZS5zZXQoaSxzKX0pfXJldHVybiBlfWZ1bmN0aW9uIHUodCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC8lNDAvZ2ksXCJAXCIpLnJlcGxhY2UoLyUzQS9naSxcIjpcIikucmVwbGFjZSgvJTI0L2dpLFwiJFwiKS5yZXBsYWNlKC8lMkMvZ2ksXCIsXCIpLnJlcGxhY2UoLyUzQi9naSxcIjtcIikucmVwbGFjZSgvJTJCL2dpLFwiK1wiKS5yZXBsYWNlKC8lM0QvZ2ksXCI9XCIpLnJlcGxhY2UoLyUzRi9naSxcIj9cIikucmVwbGFjZSgvJTJGL2dpLFwiL1wiKX1mdW5jdGlvbiBjKCl7dmFyIHQ9XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdz93aW5kb3c6e307cmV0dXJuIG51bGw9PT1qJiYoaj10W0RdPXt9KSxqfWZ1bmN0aW9uIGwodCxlKXtyZXR1cm4gdC5jcmVhdGVDb25uZWN0aW9uKGUpLnJlc3BvbnNlfWZ1bmN0aW9uIHAodCxlLG4scil7dmFyIGk9dDtyZXR1cm4gZT9pLm1lcmdlKG5ldyBZKHttZXRob2Q6ZS5tZXRob2R8fG4sdXJsOmUudXJsfHxyLHNlYXJjaDplLnNlYXJjaCxoZWFkZXJzOmUuaGVhZGVycyxib2R5OmUuYm9keSx3aXRoQ3JlZGVudGlhbHM6ZS53aXRoQ3JlZGVudGlhbHMscmVzcG9uc2VUeXBlOmUucmVzcG9uc2VUeXBlfSkpOmkubWVyZ2UobmV3IFkoe21ldGhvZDpuLHVybDpyfSkpfWZ1bmN0aW9uIGgoKXtyZXR1cm4gbmV3IFh9ZnVuY3Rpb24gZih0LGUpe3JldHVybiBuZXcgc3QodCxlKX1mdW5jdGlvbiBkKHQsZSl7cmV0dXJuIG5ldyBhdCh0LGUpfXZhciB5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fSx0LmRlY29yYXRvcnM9W3t0eXBlOmUuSW5qZWN0YWJsZX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdH0oKSxtPXt9O20uR2V0PTAsbS5Qb3N0PTEsbS5QdXQ9MixtLkRlbGV0ZT0zLG0uT3B0aW9ucz00LG0uSGVhZD01LG0uUGF0Y2g9NixtW20uR2V0XT1cIkdldFwiLG1bbS5Qb3N0XT1cIlBvc3RcIixtW20uUHV0XT1cIlB1dFwiLG1bbS5EZWxldGVdPVwiRGVsZXRlXCIsbVttLk9wdGlvbnNdPVwiT3B0aW9uc1wiLG1bbS5IZWFkXT1cIkhlYWRcIixtW20uUGF0Y2hdPVwiUGF0Y2hcIjt2YXIgdj17fTt2LlVuc2VudD0wLHYuT3Blbj0xLHYuSGVhZGVyc1JlY2VpdmVkPTIsdi5Mb2FkaW5nPTMsdi5Eb25lPTQsdi5DYW5jZWxsZWQ9NSx2W3YuVW5zZW50XT1cIlVuc2VudFwiLHZbdi5PcGVuXT1cIk9wZW5cIix2W3YuSGVhZGVyc1JlY2VpdmVkXT1cIkhlYWRlcnNSZWNlaXZlZFwiLHZbdi5Mb2FkaW5nXT1cIkxvYWRpbmdcIix2W3YuRG9uZV09XCJEb25lXCIsdlt2LkNhbmNlbGxlZF09XCJDYW5jZWxsZWRcIjt2YXIgZz17fTtnLkJhc2ljPTAsZy5Db3JzPTEsZy5EZWZhdWx0PTIsZy5FcnJvcj0zLGcuT3BhcXVlPTQsZ1tnLkJhc2ljXT1cIkJhc2ljXCIsZ1tnLkNvcnNdPVwiQ29yc1wiLGdbZy5EZWZhdWx0XT1cIkRlZmF1bHRcIixnW2cuRXJyb3JdPVwiRXJyb3JcIixnW2cuT3BhcXVlXT1cIk9wYXF1ZVwiO3ZhciBfPXt9O18uTk9ORT0wLF8uSlNPTj0xLF8uRk9STT0yLF8uRk9STV9EQVRBPTMsXy5URVhUPTQsXy5CTE9CPTUsXy5BUlJBWV9CVUZGRVI9NixfW18uTk9ORV09XCJOT05FXCIsX1tfLkpTT05dPVwiSlNPTlwiLF9bXy5GT1JNXT1cIkZPUk1cIixfW18uRk9STV9EQVRBXT1cIkZPUk1fREFUQVwiLF9bXy5URVhUXT1cIlRFWFRcIixfW18uQkxPQl09XCJCTE9CXCIsX1tfLkFSUkFZX0JVRkZFUl09XCJBUlJBWV9CVUZGRVJcIjt2YXIgYj17fTtiLlRleHQ9MCxiLkpzb249MSxiLkFycmF5QnVmZmVyPTIsYi5CbG9iPTMsYltiLlRleHRdPVwiVGV4dFwiLGJbYi5Kc29uXT1cIkpzb25cIixiW2IuQXJyYXlCdWZmZXJdPVwiQXJyYXlCdWZmZXJcIixiW2IuQmxvYl09XCJCbG9iXCI7dmFyIHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPXRoaXM7aWYodGhpcy5faGVhZGVycz1uZXcgTWFwLHRoaXMuX25vcm1hbGl6ZWROYW1lcz1uZXcgTWFwLGUpcmV0dXJuIGUgaW5zdGFuY2VvZiB0P3ZvaWQgZS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLmFwcGVuZChlLHQpfSl9KTp2b2lkIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9QXJyYXkuaXNBcnJheShlW3RdKT9lW3RdOltlW3RdXTtuLmRlbGV0ZSh0KSxyLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIG4uYXBwZW5kKHQsZSl9KX0pfXJldHVybiB0LmZyb21SZXNwb25zZUhlYWRlclN0cmluZz1mdW5jdGlvbihlKXt2YXIgbj1uZXcgdDtyZXR1cm4gZS5zcGxpdChcIlxcblwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5kZXhPZihcIjpcIik7aWYoZT4wKXt2YXIgcj10LnNsaWNlKDAsZSksaT10LnNsaWNlKGUrMSkudHJpbSgpO24uc2V0KHIsaSl9fSksbn0sdC5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRBbGwodCk7bnVsbD09PW4/dGhpcy5zZXQodCxlKTpuLnB1c2goZSl9LHQucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt2YXIgZT10LnRvTG93ZXJDYXNlKCk7dGhpcy5fbm9ybWFsaXplZE5hbWVzLmRlbGV0ZShlKSx0aGlzLl9oZWFkZXJzLmRlbGV0ZShlKX0sdC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2hlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihuLHIpe3JldHVybiB0KG4sZS5fbm9ybWFsaXplZE5hbWVzLmdldChyKSxlLl9oZWFkZXJzKX0pfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBbGwodCk7cmV0dXJuIG51bGw9PT1lP251bGw6ZS5sZW5ndGg+MD9lWzBdOm51bGx9LHQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faGVhZGVycy5oYXModC50b0xvd2VyQ2FzZSgpKX0sdC5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX25vcm1hbGl6ZWROYW1lcy52YWx1ZXMoKSl9LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe0FycmF5LmlzQXJyYXkoZSk/ZS5sZW5ndGgmJnRoaXMuX2hlYWRlcnMuc2V0KHQudG9Mb3dlckNhc2UoKSxbZS5qb2luKFwiLFwiKV0pOnRoaXMuX2hlYWRlcnMuc2V0KHQudG9Mb3dlckNhc2UoKSxbZV0pLHRoaXMubWF5QmVTZXROb3JtYWxpemVkTmFtZSh0KX0sdC5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5faGVhZGVycy52YWx1ZXMoKSl9LHQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT17fTtyZXR1cm4gdGhpcy5faGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKG4scil7dmFyIGk9W107bi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBpLnB1c2guYXBwbHkoaSx0LnNwbGl0KFwiLFwiKSl9KSxlW3QuX25vcm1hbGl6ZWROYW1lcy5nZXQocildPWl9KSxlfSx0LnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzKHQpP3RoaXMuX2hlYWRlcnMuZ2V0KHQudG9Mb3dlckNhc2UoKSk6bnVsbH0sdC5wcm90b3R5cGUuZW50cmllcz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignXCJlbnRyaWVzXCIgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZCBvbiBIZWFkZXJzIGNsYXNzJyl9LHQucHJvdG90eXBlLm1heUJlU2V0Tm9ybWFsaXplZE5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9dC50b0xvd2VyQ2FzZSgpO3RoaXMuX25vcm1hbGl6ZWROYW1lcy5oYXMoZSl8fHRoaXMuX25vcm1hbGl6ZWROYW1lcy5zZXQoZSx0KX0sdH0oKSxDPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT12b2lkIDA9PT10P3t9OnQsbj1lLmJvZHkscj1lLnN0YXR1cyxpPWUuaGVhZGVycyxvPWUuc3RhdHVzVGV4dCxzPWUudHlwZSxhPWUudXJsO3RoaXMuYm9keT1udWxsIT1uP246bnVsbCx0aGlzLnN0YXR1cz1udWxsIT1yP3I6bnVsbCx0aGlzLmhlYWRlcnM9bnVsbCE9aT9pOm51bGwsdGhpcy5zdGF0dXNUZXh0PW51bGwhPW8/bzpudWxsLHRoaXMudHlwZT1udWxsIT1zP3M6bnVsbCx0aGlzLnVybD1udWxsIT1hP2E6bnVsbH1yZXR1cm4gdC5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KHtib2R5OmUmJm51bGwhPWUuYm9keT9lLmJvZHk6dGhpcy5ib2R5LHN0YXR1czplJiZudWxsIT1lLnN0YXR1cz9lLnN0YXR1czp0aGlzLnN0YXR1cyxoZWFkZXJzOmUmJm51bGwhPWUuaGVhZGVycz9lLmhlYWRlcnM6dGhpcy5oZWFkZXJzLHN0YXR1c1RleHQ6ZSYmbnVsbCE9ZS5zdGF0dXNUZXh0P2Uuc3RhdHVzVGV4dDp0aGlzLnN0YXR1c1RleHQsdHlwZTplJiZudWxsIT1lLnR5cGU/ZS50eXBlOnRoaXMudHlwZSx1cmw6ZSYmbnVsbCE9ZS51cmw/ZS51cmw6dGhpcy51cmx9KX0sdH0oKSxTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt0LmNhbGwodGhpcyx7c3RhdHVzOjIwMCxzdGF0dXNUZXh0OlwiT2tcIix0eXBlOmcuRGVmYXVsdCxoZWFkZXJzOm5ldyB3fSl9cmV0dXJuIEMobix0KSxuLmRlY29yYXRvcnM9W3t0eXBlOmUuSW5qZWN0YWJsZX1dLG4uY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sbn0oRSkseD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZUNvbm5lY3Rpb249ZnVuY3Rpb24odCl7fSx0fSgpLFA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpLE89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5jb25maWd1cmVSZXF1ZXN0PWZ1bmN0aW9uKHQpe30sdH0oKSxUPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj0yMDAmJnQ8MzAwfSxBPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZW5jb2RlS2V5PWZ1bmN0aW9uKHQpe3JldHVybiB1KHQpfSx0LnByb3RvdHlwZS5lbmNvZGVWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdSh0KX0sdH0oKSxNPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PXQmJih0PVwiXCIpLHZvaWQgMD09PWUmJihlPW5ldyBBKSx0aGlzLnJhd1BhcmFtcz10LHRoaXMucXVlcnlFbmNvZGVyPWUsdGhpcy5wYXJhbXNNYXA9YSh0KX1yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgdChcIlwiLHRoaXMucXVlcnlFbmNvZGVyKTtyZXR1cm4gZS5hcHBlbmRBbGwodGhpcyksZX0sdC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhcmFtc01hcC5oYXModCl9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnBhcmFtc01hcC5nZXQodCk7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZVswXTpudWxsfSx0LnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGFyYW1zTWFwLmdldCh0KXx8W119LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWV8fG51bGw9PT1lKXJldHVybiB2b2lkIHRoaXMuZGVsZXRlKHQpO3ZhciBuPXRoaXMucGFyYW1zTWFwLmdldCh0KXx8W107bi5sZW5ndGg9MCxuLnB1c2goZSksdGhpcy5wYXJhbXNNYXAuc2V0KHQsbil9LHQucHJvdG90eXBlLnNldEFsbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3QucGFyYW1zTWFwLmZvckVhY2goZnVuY3Rpb24odCxuKXt2YXIgcj1lLnBhcmFtc01hcC5nZXQobil8fFtdO3IubGVuZ3RoPTAsci5wdXNoKHRbMF0pLGUucGFyYW1zTWFwLnNldChuLHIpfSl9LHQucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PWUmJm51bGwhPT1lKXt2YXIgbj10aGlzLnBhcmFtc01hcC5nZXQodCl8fFtdO24ucHVzaChlKSx0aGlzLnBhcmFtc01hcC5zZXQodCxuKX19LHQucHJvdG90eXBlLmFwcGVuZEFsbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3QucGFyYW1zTWFwLmZvckVhY2goZnVuY3Rpb24odCxuKXtmb3IodmFyIHI9ZS5wYXJhbXNNYXAuZ2V0KG4pfHxbXSxpPTA7aTx0Lmxlbmd0aDsrK2kpci5wdXNoKHRbaV0pO2UucGFyYW1zTWFwLnNldChuLHIpfSl9LHQucHJvdG90eXBlLnJlcGxhY2VBbGw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0LnBhcmFtc01hcC5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7dmFyIHI9ZS5wYXJhbXNNYXAuZ2V0KG4pfHxbXTtyLmxlbmd0aD0wO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7KytpKXIucHVzaCh0W2ldKTtlLnBhcmFtc01hcC5zZXQobixyKX0pfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1bXTtyZXR1cm4gdGhpcy5wYXJhbXNNYXAuZm9yRWFjaChmdW5jdGlvbihuLHIpe24uZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gZS5wdXNoKHQucXVlcnlFbmNvZGVyLmVuY29kZUtleShyKStcIj1cIit0LnF1ZXJ5RW5jb2Rlci5lbmNvZGVWYWx1ZShuKSl9KX0pLGUuam9pbihcIiZcIil9LHQucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt0aGlzLnBhcmFtc01hcC5kZWxldGUodCl9LHR9KCksaz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmpzb249ZnVuY3Rpb24oKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5fYm9keT9KU09OLnBhcnNlKHRoaXMuX2JvZHkpOnRoaXMuX2JvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9KU09OLnBhcnNlKHRoaXMudGV4dCgpKTp0aGlzLl9ib2R5fSx0LnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvZHkgaW5zdGFuY2VvZiBNP3RoaXMuX2JvZHkudG9TdHJpbmcoKTp0aGlzLl9ib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheSh0aGlzLl9ib2R5KSk6bnVsbD09dGhpcy5fYm9keT9cIlwiOlwib2JqZWN0XCI9PXR5cGVvZiB0aGlzLl9ib2R5P0pTT04uc3RyaW5naWZ5KHRoaXMuX2JvZHksbnVsbCwyKTp0aGlzLl9ib2R5LnRvU3RyaW5nKCl9LHQucHJvdG90eXBlLmFycmF5QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj90aGlzLl9ib2R5OnModGhpcy50ZXh0KCkpfSx0LnByb3RvdHlwZS5ibG9iPWZ1bmN0aW9uKCl7aWYodGhpcy5fYm9keSBpbnN0YW5jZW9mIEJsb2IpcmV0dXJuIHRoaXMuX2JvZHk7aWYodGhpcy5fYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBuZXcgQmxvYihbdGhpcy5fYm9keV0pO3Rocm93IG5ldyBFcnJvcihcIlRoZSByZXF1ZXN0IGJvZHkgaXNuJ3QgZWl0aGVyIGEgYmxvYiBvciBhbiBhcnJheSBidWZmZXJcIil9LHR9KCksUj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzKSx0aGlzLl9ib2R5PWUuYm9keSx0aGlzLnN0YXR1cz1lLnN0YXR1cyx0aGlzLm9rPXRoaXMuc3RhdHVzPj0yMDAmJnRoaXMuc3RhdHVzPD0yOTksdGhpcy5zdGF0dXNUZXh0PWUuc3RhdHVzVGV4dCx0aGlzLmhlYWRlcnM9ZS5oZWFkZXJzLHRoaXMudHlwZT1lLnR5cGUsdGhpcy51cmw9ZS51cmx9cmV0dXJuIFIoZSx0KSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiUmVzcG9uc2Ugd2l0aCBzdGF0dXM6IFwiK3RoaXMuc3RhdHVzK1wiIFwiK3RoaXMuc3RhdHVzVGV4dCtcIiBmb3IgVVJMOiBcIit0aGlzLnVybH0sZX0oayksTj0wLEQ9XCJfX25nX2pzb25wX19cIixqPW51bGwsVj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7cmV0dXJuIGUuc3JjPXQsZX0sdC5wcm90b3R5cGUubmV4dFJlcXVlc3RJRD1mdW5jdGlvbigpe3JldHVyblwiX19yZXFcIitOKyt9LHQucHJvdG90eXBlLnJlcXVlc3RDYWxsYmFjaz1mdW5jdGlvbih0KXtyZXR1cm4gRCtcIi5cIit0K1wiLmZpbmlzaGVkXCJ9LHQucHJvdG90eXBlLmV4cG9zZUNvbm5lY3Rpb249ZnVuY3Rpb24odCxlKXt2YXIgbj1jKCk7blt0XT1lfSx0LnByb3RvdHlwZS5yZW1vdmVDb25uZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPWMoKTtlW3RdPW51bGx9LHQucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCl7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KX0sdC5wcm90b3R5cGUuY2xlYW51cD1mdW5jdGlvbih0KXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX0sdC5kZWNvcmF0b3JzPVt7dHlwZTplLkluamVjdGFibGV9XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW119LHR9KCksTD10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sRj1cIkpTT05QIGluamVjdGVkIHNjcmlwdCBkaWQgbm90IGludm9rZSBjYWxsYmFjay5cIixVPVwiSlNPTlAgcmVxdWVzdHMgbXVzdCB1c2UgR0VUIHJlcXVlc3QgbWV0aG9kLlwiLEg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5maW5pc2hlZD1mdW5jdGlvbih0KXt9LHR9KCksQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscixpKXt2YXIgbz10aGlzO2lmKHQuY2FsbCh0aGlzKSx0aGlzLl9kb209cix0aGlzLmJhc2VSZXNwb25zZU9wdGlvbnM9aSx0aGlzLl9maW5pc2hlZD0hMSxlLm1ldGhvZCE9PW0uR2V0KXRocm93IG5ldyBUeXBlRXJyb3IoVSk7dGhpcy5yZXF1ZXN0PWUsdGhpcy5yZXNwb25zZT1uZXcgbi5PYnNlcnZhYmxlKGZ1bmN0aW9uKHQpe28ucmVhZHlTdGF0ZT12LkxvYWRpbmc7dmFyIG49by5faWQ9ci5uZXh0UmVxdWVzdElEKCk7ci5leHBvc2VDb25uZWN0aW9uKG4sbyk7dmFyIHM9ci5yZXF1ZXN0Q2FsbGJhY2soby5faWQpLGE9ZS51cmw7YS5pbmRleE9mKFwiPUpTT05QX0NBTExCQUNLJlwiKT4tMT9hPWEucmVwbGFjZShcIj1KU09OUF9DQUxMQkFDSyZcIixcIj1cIitzK1wiJlwiKTphLmxhc3RJbmRleE9mKFwiPUpTT05QX0NBTExCQUNLXCIpPT09YS5sZW5ndGgtXCI9SlNPTlBfQ0FMTEJBQ0tcIi5sZW5ndGgmJihhPWEuc3Vic3RyaW5nKDAsYS5sZW5ndGgtXCI9SlNPTlBfQ0FMTEJBQ0tcIi5sZW5ndGgpKyhcIj1cIitzKSk7dmFyIHU9by5fc2NyaXB0PXIuYnVpbGQoYSksYz1mdW5jdGlvbihlKXtpZihvLnJlYWR5U3RhdGUhPT12LkNhbmNlbGxlZCl7aWYoby5yZWFkeVN0YXRlPXYuRG9uZSxyLmNsZWFudXAodSksIW8uX2ZpbmlzaGVkKXt2YXIgbj1uZXcgRSh7Ym9keTpGLHR5cGU6Zy5FcnJvcix1cmw6YX0pO3JldHVybiBpJiYobj1pLm1lcmdlKG4pKSx2b2lkIHQuZXJyb3IobmV3IEkobikpfXZhciBzPW5ldyBFKHtib2R5Om8uX3Jlc3BvbnNlRGF0YSx1cmw6YX0pO28uYmFzZVJlc3BvbnNlT3B0aW9ucyYmKHM9by5iYXNlUmVzcG9uc2VPcHRpb25zLm1lcmdlKHMpKSx0Lm5leHQobmV3IEkocykpLHQuY29tcGxldGUoKX19LGw9ZnVuY3Rpb24oZSl7aWYoby5yZWFkeVN0YXRlIT09di5DYW5jZWxsZWQpe28ucmVhZHlTdGF0ZT12LkRvbmUsci5jbGVhbnVwKHUpO3ZhciBuPW5ldyBFKHtib2R5OmUubWVzc2FnZSx0eXBlOmcuRXJyb3J9KTtpJiYobj1pLm1lcmdlKG4pKSx0LmVycm9yKG5ldyBJKG4pKX19O3JldHVybiB1LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsYyksdS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixsKSxyLnNlbmQodSksZnVuY3Rpb24oKXtvLnJlYWR5U3RhdGU9di5DYW5jZWxsZWQsdS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLGMpLFxudS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIixsKSxvLl9kb20uY2xlYW51cCh1KX19KX1yZXR1cm4gTChlLHQpLGUucHJvdG90eXBlLmZpbmlzaGVkPWZ1bmN0aW9uKHQpe3RoaXMuX2ZpbmlzaGVkPSEwLHRoaXMuX2RvbS5yZW1vdmVDb25uZWN0aW9uKHRoaXMuX2lkKSx0aGlzLnJlYWR5U3RhdGUhPT12LkNhbmNlbGxlZCYmKHRoaXMuX3Jlc3BvbnNlRGF0YT10KX0sZX0oSCkscT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIEwoZSx0KSxlfSh4KSx6PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSxuKXt0LmNhbGwodGhpcyksdGhpcy5fYnJvd3NlckpTT05QPWUsdGhpcy5fYmFzZVJlc3BvbnNlT3B0aW9ucz1ufXJldHVybiBMKG4sdCksbi5wcm90b3R5cGUuY3JlYXRlQ29ubmVjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEIodCx0aGlzLl9icm93c2VySlNPTlAsdGhpcy5fYmFzZVJlc3BvbnNlT3B0aW9ucyl9LG4uZGVjb3JhdG9ycz1be3R5cGU6ZS5JbmplY3RhYmxlfV0sbi5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpWfSx7dHlwZTpFfV19LG59KHEpLFc9L15cXClcXF1cXH0nLD9cXG4vLEc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxyKXt2YXIgaT10aGlzO3RoaXMucmVxdWVzdD10LHRoaXMucmVzcG9uc2U9bmV3IG4uT2JzZXJ2YWJsZShmdW5jdGlvbihuKXt2YXIgcz1lLmJ1aWxkKCk7cy5vcGVuKG1bdC5tZXRob2RdLnRvVXBwZXJDYXNlKCksdC51cmwpLG51bGwhPXQud2l0aENyZWRlbnRpYWxzJiYocy53aXRoQ3JlZGVudGlhbHM9dC53aXRoQ3JlZGVudGlhbHMpO3ZhciBhPWZ1bmN0aW9uKCl7dmFyIGU9MTIyMz09PXMuc3RhdHVzPzIwNDpzLnN0YXR1cyxpPW51bGw7MjA0IT09ZSYmKGk9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHMucmVzcG9uc2U/cy5yZXNwb25zZVRleHQ6cy5yZXNwb25zZSxcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9aS5yZXBsYWNlKFcsXCJcIikpKSwwPT09ZSYmKGU9aT8yMDA6MCk7dmFyIGE9dy5mcm9tUmVzcG9uc2VIZWFkZXJTdHJpbmcocy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSksdT1vKHMpfHx0LnVybCxjPXMuc3RhdHVzVGV4dHx8XCJPS1wiLGw9bmV3IEUoe2JvZHk6aSxzdGF0dXM6ZSxoZWFkZXJzOmEsc3RhdHVzVGV4dDpjLHVybDp1fSk7bnVsbCE9ciYmKGw9ci5tZXJnZShsKSk7dmFyIHA9bmV3IEkobCk7cmV0dXJuIHAub2s9VChlKSxwLm9rPyhuLm5leHQocCksdm9pZCBuLmNvbXBsZXRlKCkpOnZvaWQgbi5lcnJvcihwKX0sdT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgRSh7Ym9keTp0LHR5cGU6Zy5FcnJvcixzdGF0dXM6cy5zdGF0dXMsc3RhdHVzVGV4dDpzLnN0YXR1c1RleHR9KTtudWxsIT1yJiYoZT1yLm1lcmdlKGUpKSxuLmVycm9yKG5ldyBJKGUpKX07aWYoaS5zZXREZXRlY3RlZENvbnRlbnRUeXBlKHQscyksbnVsbD09dC5oZWFkZXJzJiYodC5oZWFkZXJzPW5ldyB3KSx0LmhlYWRlcnMuaGFzKFwiQWNjZXB0XCIpfHx0LmhlYWRlcnMuYXBwZW5kKFwiQWNjZXB0XCIsXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLypcIiksdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odCxlKXtyZXR1cm4gcy5zZXRSZXF1ZXN0SGVhZGVyKGUsdC5qb2luKFwiLFwiKSl9KSxudWxsIT10LnJlc3BvbnNlVHlwZSYmbnVsbCE9cy5yZXNwb25zZVR5cGUpc3dpdGNoKHQucmVzcG9uc2VUeXBlKXtjYXNlIGIuQXJyYXlCdWZmZXI6cy5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiO2JyZWFrO2Nhc2UgYi5Kc29uOnMucmVzcG9uc2VUeXBlPVwianNvblwiO2JyZWFrO2Nhc2UgYi5UZXh0OnMucmVzcG9uc2VUeXBlPVwidGV4dFwiO2JyZWFrO2Nhc2UgYi5CbG9iOnMucmVzcG9uc2VUeXBlPVwiYmxvYlwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVGhlIHNlbGVjdGVkIHJlc3BvbnNlVHlwZSBpcyBub3Qgc3VwcG9ydGVkXCIpfXJldHVybiBzLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsYSkscy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIix1KSxzLnNlbmQoaS5yZXF1ZXN0LmdldEJvZHkoKSksZnVuY3Rpb24oKXtzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsYSkscy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIix1KSxzLmFib3J0KCl9fSl9cmV0dXJuIHQucHJvdG90eXBlLnNldERldGVjdGVkQ29udGVudFR5cGU9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10LmhlYWRlcnN8fG51bGw9PXQuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIikpc3dpdGNoKHQuY29udGVudFR5cGUpe2Nhc2UgXy5OT05FOmJyZWFrO2Nhc2UgXy5KU09OOmUuc2V0UmVxdWVzdEhlYWRlcihcImNvbnRlbnQtdHlwZVwiLFwiYXBwbGljYXRpb24vanNvblwiKTticmVhaztjYXNlIF8uRk9STTplLnNldFJlcXVlc3RIZWFkZXIoXCJjb250ZW50LXR5cGVcIixcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04XCIpO2JyZWFrO2Nhc2UgXy5URVhUOmUuc2V0UmVxdWVzdEhlYWRlcihcImNvbnRlbnQtdHlwZVwiLFwidGV4dC9wbGFpblwiKTticmVhaztjYXNlIF8uQkxPQjp2YXIgbj10LmJsb2IoKTtuLnR5cGUmJmUuc2V0UmVxdWVzdEhlYWRlcihcImNvbnRlbnQtdHlwZVwiLG4udHlwZSl9fSx0fSgpLFg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dm9pZCAwPT09dCYmKHQ9XCJYU1JGLVRPS0VOXCIpLHZvaWQgMD09PWUmJihlPVwiWC1YU1JGLVRPS0VOXCIpLHRoaXMuX2Nvb2tpZU5hbWU9dCx0aGlzLl9oZWFkZXJOYW1lPWV9cmV0dXJuIHQucHJvdG90eXBlLmNvbmZpZ3VyZVJlcXVlc3Q9ZnVuY3Rpb24odCl7dmFyIGU9ci5fX3BsYXRmb3JtX2Jyb3dzZXJfcHJpdmF0ZV9fLmdldERPTSgpLmdldENvb2tpZSh0aGlzLl9jb29raWVOYW1lKTtlJiZ0LmhlYWRlcnMuc2V0KHRoaXMuX2hlYWRlck5hbWUsZSl9LHR9KCksJD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuX2Jyb3dzZXJYSFI9dCx0aGlzLl9iYXNlUmVzcG9uc2VPcHRpb25zPWUsdGhpcy5feHNyZlN0cmF0ZWd5PW59cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZUNvbm5lY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3hzcmZTdHJhdGVneS5jb25maWd1cmVSZXF1ZXN0KHQpLG5ldyBHKHQsdGhpcy5fYnJvd3NlclhIUix0aGlzLl9iYXNlUmVzcG9uc2VPcHRpb25zKX0sdC5kZWNvcmF0b3JzPVt7dHlwZTplLkluamVjdGFibGV9XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnl9LHt0eXBlOkV9LHt0eXBlOk99XX0sdH0oKSxRPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxZPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT12b2lkIDA9PT10P3t9OnQsbj1lLm1ldGhvZCxyPWUuaGVhZGVycyxvPWUuYm9keSxzPWUudXJsLGE9ZS5zZWFyY2gsdT1lLndpdGhDcmVkZW50aWFscyxjPWUucmVzcG9uc2VUeXBlO3RoaXMubWV0aG9kPW51bGwhPW4/aShuKTpudWxsLHRoaXMuaGVhZGVycz1udWxsIT1yP3I6bnVsbCx0aGlzLmJvZHk9bnVsbCE9bz9vOm51bGwsdGhpcy51cmw9bnVsbCE9cz9zOm51bGwsdGhpcy5zZWFyY2g9bnVsbCE9YT9cInN0cmluZ1wiPT10eXBlb2YgYT9uZXcgTShhKTphOm51bGwsdGhpcy53aXRoQ3JlZGVudGlhbHM9bnVsbCE9dT91Om51bGwsdGhpcy5yZXNwb25zZVR5cGU9bnVsbCE9Yz9jOm51bGx9cmV0dXJuIHQucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdCh7bWV0aG9kOmUmJm51bGwhPWUubWV0aG9kP2UubWV0aG9kOnRoaXMubWV0aG9kLGhlYWRlcnM6ZSYmbnVsbCE9ZS5oZWFkZXJzP2UuaGVhZGVyczpuZXcgdyh0aGlzLmhlYWRlcnMpLGJvZHk6ZSYmbnVsbCE9ZS5ib2R5P2UuYm9keTp0aGlzLmJvZHksdXJsOmUmJm51bGwhPWUudXJsP2UudXJsOnRoaXMudXJsLHNlYXJjaDplJiZudWxsIT1lLnNlYXJjaD9cInN0cmluZ1wiPT10eXBlb2YgZS5zZWFyY2g/bmV3IE0oZS5zZWFyY2gpOmUuc2VhcmNoLmNsb25lKCk6dGhpcy5zZWFyY2gsd2l0aENyZWRlbnRpYWxzOmUmJm51bGwhPWUud2l0aENyZWRlbnRpYWxzP2Uud2l0aENyZWRlbnRpYWxzOnRoaXMud2l0aENyZWRlbnRpYWxzLHJlc3BvbnNlVHlwZTplJiZudWxsIT1lLnJlc3BvbnNlVHlwZT9lLnJlc3BvbnNlVHlwZTp0aGlzLnJlc3BvbnNlVHlwZX0pfSx0fSgpLEs9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3QuY2FsbCh0aGlzLHttZXRob2Q6bS5HZXQsaGVhZGVyczpuZXcgd30pfXJldHVybiBRKG4sdCksbi5kZWNvcmF0b3JzPVt7dHlwZTplLkluamVjdGFibGV9XSxuLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW119LG59KFkpLFo9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LEo9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyk7dmFyIG49ZS51cmw7aWYodGhpcy51cmw9ZS51cmwsZS5zZWFyY2gpe3ZhciByPWUuc2VhcmNoLnRvU3RyaW5nKCk7aWYoci5sZW5ndGg+MCl7dmFyIG89XCI/XCI7dGhpcy51cmwuaW5kZXhPZihcIj9cIikhPS0xJiYobz1cIiZcIj09dGhpcy51cmxbdGhpcy51cmwubGVuZ3RoLTFdP1wiXCI6XCImXCIpLHRoaXMudXJsPW4rbytyfX10aGlzLl9ib2R5PWUuYm9keSx0aGlzLm1ldGhvZD1pKGUubWV0aG9kKSx0aGlzLmhlYWRlcnM9bmV3IHcoZS5oZWFkZXJzKSx0aGlzLmNvbnRlbnRUeXBlPXRoaXMuZGV0ZWN0Q29udGVudFR5cGUoKSx0aGlzLndpdGhDcmVkZW50aWFscz1lLndpdGhDcmVkZW50aWFscyx0aGlzLnJlc3BvbnNlVHlwZT1lLnJlc3BvbnNlVHlwZX1yZXR1cm4gWihlLHQpLGUucHJvdG90eXBlLmRldGVjdENvbnRlbnRUeXBlPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIikpe2Nhc2VcImFwcGxpY2F0aW9uL2pzb25cIjpyZXR1cm4gXy5KU09OO2Nhc2VcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOnJldHVybiBfLkZPUk07Y2FzZVwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiOnJldHVybiBfLkZPUk1fREFUQTtjYXNlXCJ0ZXh0L3BsYWluXCI6Y2FzZVwidGV4dC9odG1sXCI6cmV0dXJuIF8uVEVYVDtjYXNlXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjpyZXR1cm4gdGhpcy5fYm9keSBpbnN0YW5jZW9mIGl0P18uQVJSQVlfQlVGRkVSOl8uQkxPQjtkZWZhdWx0OnJldHVybiB0aGlzLmRldGVjdENvbnRlbnRUeXBlRnJvbUJvZHkoKX19LGUucHJvdG90eXBlLmRldGVjdENvbnRlbnRUeXBlRnJvbUJvZHk9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dGhpcy5fYm9keT9fLk5PTkU6dGhpcy5fYm9keSBpbnN0YW5jZW9mIE0/Xy5GT1JNOnRoaXMuX2JvZHkgaW5zdGFuY2VvZiBudD9fLkZPUk1fREFUQTp0aGlzLl9ib2R5IGluc3RhbmNlb2YgcnQ/Xy5CTE9COnRoaXMuX2JvZHkgaW5zdGFuY2VvZiBpdD9fLkFSUkFZX0JVRkZFUjp0aGlzLl9ib2R5JiZcIm9iamVjdFwiPT10eXBlb2YgdGhpcy5fYm9keT9fLkpTT046Xy5URVhUfSxlLnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuY29udGVudFR5cGUpe2Nhc2UgXy5KU09OOnJldHVybiB0aGlzLnRleHQoKTtjYXNlIF8uRk9STTpyZXR1cm4gdGhpcy50ZXh0KCk7Y2FzZSBfLkZPUk1fREFUQTpyZXR1cm4gdGhpcy5fYm9keTtjYXNlIF8uVEVYVDpyZXR1cm4gdGhpcy50ZXh0KCk7Y2FzZSBfLkJMT0I6cmV0dXJuIHRoaXMuYmxvYigpO2Nhc2UgXy5BUlJBWV9CVUZGRVI6cmV0dXJuIHRoaXMuYXJyYXlCdWZmZXIoKTtkZWZhdWx0OnJldHVybiBudWxsfX0sZX0oayksdHQ9ZnVuY3Rpb24oKXt9LGV0PVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3c/d2luZG93OnR0LG50PWV0LkZvcm1EYXRhfHx0dCxydD1ldC5CbG9ifHx0dCxpdD1ldC5BcnJheUJ1ZmZlcnx8dHQsb3Q9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LHN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2JhY2tlbmQ9dCx0aGlzLl9kZWZhdWx0T3B0aW9ucz1lfXJldHVybiB0LnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKHQsZSl7dmFyIG47aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpbj1sKHRoaXMuX2JhY2tlbmQsbmV3IEoocCh0aGlzLl9kZWZhdWx0T3B0aW9ucyxlLG0uR2V0LHQpKSk7ZWxzZXtpZighKHQgaW5zdGFuY2VvZiBKKSl0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgdXJsIHN0cmluZyBvciBSZXF1ZXN0IGluc3RhbmNlLlwiKTtuPWwodGhpcy5fYmFja2VuZCx0KX1yZXR1cm4gbn0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVxdWVzdChuZXcgSihwKHRoaXMuX2RlZmF1bHRPcHRpb25zLGUsbS5HZXQsdCkpKX0sdC5wcm90b3R5cGUucG9zdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMucmVxdWVzdChuZXcgSihwKHRoaXMuX2RlZmF1bHRPcHRpb25zLm1lcmdlKG5ldyBZKHtib2R5OmV9KSksbixtLlBvc3QsdCkpKX0sdC5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KG5ldyBKKHAodGhpcy5fZGVmYXVsdE9wdGlvbnMubWVyZ2UobmV3IFkoe2JvZHk6ZX0pKSxuLG0uUHV0LHQpKSl9LHQucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlcXVlc3QobmV3IEoocCh0aGlzLl9kZWZhdWx0T3B0aW9ucyxlLG0uRGVsZXRlLHQpKSl9LHQucHJvdG90eXBlLnBhdGNoPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KG5ldyBKKHAodGhpcy5fZGVmYXVsdE9wdGlvbnMubWVyZ2UobmV3IFkoe2JvZHk6ZX0pKSxuLG0uUGF0Y2gsdCkpKX0sdC5wcm90b3R5cGUuaGVhZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlcXVlc3QobmV3IEoocCh0aGlzLl9kZWZhdWx0T3B0aW9ucyxlLG0uSGVhZCx0KSkpfSx0LnByb3RvdHlwZS5vcHRpb25zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVxdWVzdChuZXcgSihwKHRoaXMuX2RlZmF1bHRPcHRpb25zLGUsbS5PcHRpb25zLHQpKSl9LHQuZGVjb3JhdG9ycz1be3R5cGU6ZS5JbmplY3RhYmxlfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTp4fSx7dHlwZTpZfV19LHR9KCksYXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlLG4pe3QuY2FsbCh0aGlzLGUsbil9cmV0dXJuIG90KG4sdCksbi5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1uZXcgSihwKHRoaXMuX2RlZmF1bHRPcHRpb25zLGUsbS5HZXQsdCkpKSwhKHQgaW5zdGFuY2VvZiBKKSl0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgdXJsIHN0cmluZyBvciBSZXF1ZXN0IGluc3RhbmNlLlwiKTtpZih0Lm1ldGhvZCE9PW0uR2V0KXRocm93IG5ldyBFcnJvcihcIkpTT05QIHJlcXVlc3RzIG11c3QgdXNlIEdFVCByZXF1ZXN0IG1ldGhvZC5cIik7cmV0dXJuIG49bCh0aGlzLl9iYWNrZW5kLHQpfSxuLmRlY29yYXRvcnM9W3t0eXBlOmUuSW5qZWN0YWJsZX1dLG4uY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6eH0se3R5cGU6WX1dfSxufShzdCksdXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LmRlY29yYXRvcnM9W3t0eXBlOmUuTmdNb2R1bGUsYXJnczpbe3Byb3ZpZGVyczpbe3Byb3ZpZGU6c3QsdXNlRmFjdG9yeTpmLGRlcHM6WyQsWV19LHkse3Byb3ZpZGU6WSx1c2VDbGFzczpLfSx7cHJvdmlkZTpFLHVzZUNsYXNzOlN9LCQse3Byb3ZpZGU6Tyx1c2VGYWN0b3J5Omh9XX1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybltdfSx0fSgpLGN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5kZWNvcmF0b3JzPVt7dHlwZTplLk5nTW9kdWxlLGFyZ3M6W3twcm92aWRlcnM6W3twcm92aWRlOmF0LHVzZUZhY3Rvcnk6ZCxkZXBzOltxLFldfSxWLHtwcm92aWRlOlksdXNlQ2xhc3M6S30se3Byb3ZpZGU6RSx1c2VDbGFzczpTfSx7cHJvdmlkZTpxLHVzZUNsYXNzOnp9XX1dfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybltdfSx0fSgpLGx0PW5ldyBlLlZlcnNpb24oXCIyLjQuOFwiKTt0LkJyb3dzZXJYaHI9eSx0LkpTT05QQmFja2VuZD1xLHQuSlNPTlBDb25uZWN0aW9uPUgsdC5Db29raWVYU1JGU3RyYXRlZ3k9WCx0LlhIUkJhY2tlbmQ9JCx0LlhIUkNvbm5lY3Rpb249Ryx0LkJhc2VSZXF1ZXN0T3B0aW9ucz1LLHQuUmVxdWVzdE9wdGlvbnM9WSx0LkJhc2VSZXNwb25zZU9wdGlvbnM9Uyx0LlJlc3BvbnNlT3B0aW9ucz1FLHQuUmVhZHlTdGF0ZT12LHQuUmVxdWVzdE1ldGhvZD1tLHQuUmVzcG9uc2VDb250ZW50VHlwZT1iLHQuUmVzcG9uc2VUeXBlPWcsdC5IZWFkZXJzPXcsdC5IdHRwPXN0LHQuSnNvbnA9YXQsdC5IdHRwTW9kdWxlPXV0LHQuSnNvbnBNb2R1bGU9Y3QsdC5Db25uZWN0aW9uPVAsdC5Db25uZWN0aW9uQmFja2VuZD14LHQuWFNSRlN0cmF0ZWd5PU8sdC5SZXF1ZXN0PUosdC5SZXNwb25zZT1JLHQuUXVlcnlFbmNvZGVyPUEsdC5VUkxTZWFyY2hQYXJhbXM9TSx0LlZFUlNJT049bHR9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjNiXCIsW1wiMjJcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbi4gQXJlIHlvdSBsb29raW5nIGZvciBgbWFwVG8oKWA/XCIpO3JldHVybiB0aGlzLmxpZnQobmV3IHModCxlKSl9dmFyIGk9KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSxvPXQoXCIyMlwiKTtlLm1hcD1yO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMucHJvamVjdD10LHRoaXMudGhpc0FyZz1lfXJldHVybiB0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBhKHQsdGhpcy5wcm9qZWN0LHRoaXMudGhpc0FyZykpfSx0fSgpO2UuTWFwT3BlcmF0b3I9czt2YXIgYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyxlKSx0aGlzLnByb2plY3Q9bix0aGlzLmNvdW50PTAsdGhpcy50aGlzQXJnPXJ8fHRoaXN9cmV0dXJuIGkoZSx0KSxlLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbih0KXt2YXIgZTt0cnl7ZT10aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsdCx0aGlzLmNvdW50KyspfWNhdGNoKHQpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfSxlfShvLlN1YnNjcmliZXIpfSksdC5yZWdpc3RlckR5bmFtaWMoXCI0NlwiLFtcIjE3XCIsXCIzYlwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsdChcIjE3XCIpKSxpPXQoXCIzYlwiKTtyLk9ic2VydmFibGUucHJvdG90eXBlLm1hcD1pLm1hcH0pLHQucmVnaXN0ZXJEeW5hbWljKFwiMzJcIixbXCIyMlwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSxpPXQoXCIyMlwiKSxvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLm5vdGlmeU5leHQ9ZnVuY3Rpb24odCxlLG4scixpKXt0aGlzLmRlc3RpbmF0aW9uLm5leHQoZSl9LGUucHJvdG90eXBlLm5vdGlmeUVycm9yPWZ1bmN0aW9uKHQsZSl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX0sZS5wcm90b3R5cGUubm90aWZ5Q29tcGxldGU9ZnVuY3Rpb24odCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfSxlfShpLlN1YnNjcmliZXIpO2UuT3V0ZXJTdWJzY3JpYmVyPW99KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjI1XCIsW10sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuc3Vic2NyaWJlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRoZW59dGhpc3x8c2VsZjtlLmlzUHJvbWlzZT1yfSksdC5yZWdpc3RlckR5bmFtaWMoXCIxY1wiLFtcIjFiXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlPXQuU3ltYm9sO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpcmV0dXJuIGUuaXRlcmF0b3J8fChlLml0ZXJhdG9yPWUoXCJpdGVyYXRvciBwb2x5ZmlsbFwiKSksZS5pdGVyYXRvcjt2YXIgbj10LlNldDtpZihuJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuZXcgbilbXCJAQGl0ZXJhdG9yXCJdKXJldHVyblwiQEBpdGVyYXRvclwiO3ZhciByPXQuTWFwO2lmKHIpZm9yKHZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIucHJvdG90eXBlKSxvPTA7bzxpLmxlbmd0aDsrK28pe3ZhciBzPWlbb107aWYoXCJlbnRyaWVzXCIhPT1zJiZcInNpemVcIiE9PXMmJnIucHJvdG90eXBlW3NdPT09ci5wcm90b3R5cGUuZW50cmllcylyZXR1cm4gc31yZXR1cm5cIkBAaXRlcmF0b3JcIn12YXIgaT0odGhpc3x8c2VsZix0KFwiMWJcIikpO2Uuc3ltYm9sSXRlcmF0b3JQb255ZmlsbD1yLGUuJCRpdGVyYXRvcj1yKGkucm9vdCl9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjQ3XCIsW1wiMjJcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLGUmJmUuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSksaT10KFwiMjJcIiksbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyksdGhpcy5wYXJlbnQ9ZSx0aGlzLm91dGVyVmFsdWU9bix0aGlzLm91dGVySW5kZXg9cix0aGlzLmluZGV4PTB9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbih0KXt0aGlzLnBhcmVudC5ub3RpZnlOZXh0KHRoaXMub3V0ZXJWYWx1ZSx0LHRoaXMub3V0ZXJJbmRleCx0aGlzLmluZGV4KyssdGhpcyl9LGUucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbih0KXt0aGlzLnBhcmVudC5ub3RpZnlFcnJvcih0LHRoaXMpLHRoaXMudW5zdWJzY3JpYmUoKX0sZS5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyksdGhpcy51bnN1YnNjcmliZSgpfSxlfShpLlN1YnNjcmliZXIpO2UuSW5uZXJTdWJzY3JpYmVyPW99KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjMxXCIsW1wiMWJcIixcIjI0XCIsXCIyNVwiLFwiNDhcIixcIjE3XCIsXCIxY1wiLFwiNDdcIixcIjI4XCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuLHIpe3ZhciBoPW5ldyBsLklubmVyU3Vic2NyaWJlcih0LG4scik7aWYoaC5jbG9zZWQpcmV0dXJuIG51bGw7aWYoZSBpbnN0YW5jZW9mIHUuT2JzZXJ2YWJsZSlyZXR1cm4gZS5faXNTY2FsYXI/KGgubmV4dChlLnZhbHVlKSxoLmNvbXBsZXRlKCksbnVsbCk6ZS5zdWJzY3JpYmUoaCk7aWYoby5pc0FycmF5KGUpKXtmb3IodmFyIGY9MCxkPWUubGVuZ3RoO2Y8ZCYmIWguY2xvc2VkO2YrKyloLm5leHQoZVtmXSk7aC5jbG9zZWR8fGguY29tcGxldGUoKX1lbHNle2lmKHMuaXNQcm9taXNlKGUpKXJldHVybiBlLnRoZW4oZnVuY3Rpb24odCl7aC5jbG9zZWR8fChoLm5leHQodCksaC5jb21wbGV0ZSgpKX0sZnVuY3Rpb24odCl7cmV0dXJuIGguZXJyb3IodCl9KS50aGVuKG51bGwsZnVuY3Rpb24odCl7aS5yb290LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyB0fSl9KSxoO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGVbYy4kJGl0ZXJhdG9yXSlmb3IodmFyIHk9ZVtjLiQkaXRlcmF0b3JdKCk7Oyl7dmFyIG09eS5uZXh0KCk7aWYobS5kb25lKXtoLmNvbXBsZXRlKCk7YnJlYWt9aWYoaC5uZXh0KG0udmFsdWUpLGguY2xvc2VkKWJyZWFrfWVsc2UgaWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZVtwLiQkb2JzZXJ2YWJsZV0pe3ZhciB2PWVbcC4kJG9ic2VydmFibGVdKCk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygdi5zdWJzY3JpYmUpcmV0dXJuIHYuc3Vic2NyaWJlKG5ldyBsLklubmVyU3Vic2NyaWJlcih0LG4scikpO2guZXJyb3IobmV3IFR5cGVFcnJvcihcIlByb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlXCIpKX1lbHNle3ZhciBnPWEuaXNPYmplY3QoZSk/XCJhbiBpbnZhbGlkIG9iamVjdFwiOlwiJ1wiK2UrXCInXCIsXz1cIllvdSBwcm92aWRlZCBcIitnK1wiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS5cIjtoLmVycm9yKG5ldyBUeXBlRXJyb3IoXykpfX1yZXR1cm4gbnVsbH12YXIgaT0odGhpc3x8c2VsZix0KFwiMWJcIikpLG89dChcIjI0XCIpLHM9dChcIjI1XCIpLGE9dChcIjQ4XCIpLHU9dChcIjE3XCIpLGM9dChcIjFjXCIpLGw9dChcIjQ3XCIpLHA9dChcIjI4XCIpO2Uuc3Vic2NyaWJlVG9SZXN1bHQ9cn0pLHQucmVnaXN0ZXJEeW5hbWljKFwiM2NcIixbXCIzMlwiLFwiMzFcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9bmV3IGEodCksbj10aGlzLmxpZnQoZSk7cmV0dXJuIGUuY2F1Z2h0PW59dmFyIGk9KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSxvPXQoXCIzMlwiKSxzPXQoXCIzMVwiKTtlLl9jYXRjaD1yO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnNlbGVjdG9yPXR9cmV0dXJuIHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IHUodCx0aGlzLnNlbGVjdG9yLHRoaXMuY2F1Z2h0KSl9LHR9KCksdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyxlKSx0aGlzLnNlbGVjdG9yPW4sdGhpcy5jYXVnaHQ9cn1yZXR1cm4gaShlLHQpLGUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzU3RvcHBlZCl7dmFyIGU9dm9pZCAwO3RyeXtlPXRoaXMuc2VsZWN0b3IodCx0aGlzLmNhdWdodCl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX10aGlzLnVuc3Vic2NyaWJlKCksdGhpcy5kZXN0aW5hdGlvbi5yZW1vdmUodGhpcykscy5zdWJzY3JpYmVUb1Jlc3VsdCh0aGlzLGUpfX0sZX0oby5PdXRlclN1YnNjcmliZXIpfSksdC5yZWdpc3RlckR5bmFtaWMoXCI0OVwiLFtcIjE3XCIsXCIzY1wiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsdChcIjE3XCIpKSxpPXQoXCIzY1wiKTtyLk9ic2VydmFibGUucHJvdG90eXBlLmNhdGNoPWkuX2NhdGNoLHIuT2JzZXJ2YWJsZS5wcm90b3R5cGUuX2NhdGNoPWkuX2NhdGNofSksdC5yZWdpc3RlckR5bmFtaWMoXCIxNVwiLFtcIjFiXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlPXRoaXM7aWYodHx8KGkucm9vdC5SeCYmaS5yb290LlJ4LmNvbmZpZyYmaS5yb290LlJ4LmNvbmZpZy5Qcm9taXNlP3Q9aS5yb290LlJ4LmNvbmZpZy5Qcm9taXNlOmkucm9vdC5Qcm9taXNlJiYodD1pLnJvb3QuUHJvbWlzZSkpLCF0KXRocm93IG5ldyBFcnJvcihcIm5vIFByb21pc2UgaW1wbCBmb3VuZFwiKTtyZXR1cm4gbmV3IHQoZnVuY3Rpb24odCxuKXt2YXIgcjtlLnN1YnNjcmliZShmdW5jdGlvbih0KXtyZXR1cm4gcj10fSxmdW5jdGlvbih0KXtyZXR1cm4gbih0KX0sZnVuY3Rpb24oKXtyZXR1cm4gdChyKX0pfSl9dmFyIGk9KHRoaXN8fHNlbGYsdChcIjFiXCIpKTtlLnRvUHJvbWlzZT1yfSksdC5yZWdpc3RlckR5bmFtaWMoXCI0YVwiLFtcIjE3XCIsXCIxNVwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsdChcIjE3XCIpKSxpPXQoXCIxNVwiKTtyLk9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZT1pLnRvUHJvbWlzZX0pLHQucmVnaXN0ZXJEeW5hbWljKFwiNGJcIixbXCIxN1wiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSxpPXQoXCIxN1wiKSxvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyksdGhpcy5lcnJvcj1lLHRoaXMuc2NoZWR1bGVyPW59cmV0dXJuIHIoZSx0KSxlLmNyZWF0ZT1mdW5jdGlvbih0LG4pe3JldHVybiBuZXcgZSh0LG4pfSxlLmRpc3BhdGNoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZXJyb3Isbj10LnN1YnNjcmliZXI7bi5lcnJvcihlKX0sZS5wcm90b3R5cGUuX3N1YnNjcmliZT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLmVycm9yLHI9dGhpcy5zY2hlZHVsZXI7cmV0dXJuIHI/ci5zY2hlZHVsZShlLmRpc3BhdGNoLDAse2Vycm9yOm4sc3Vic2NyaWJlcjp0fSk6dm9pZCB0LmVycm9yKG4pfSxlfShpLk9ic2VydmFibGUpO2UuRXJyb3JPYnNlcnZhYmxlPW99KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjRjXCIsW1wiNGJcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLHQoXCI0YlwiKSk7ZS5fdGhyb3c9ci5FcnJvck9ic2VydmFibGUuY3JlYXRlfSksdC5yZWdpc3RlckR5bmFtaWMoXCI0ZFwiLFtcIjE3XCIsXCI0Y1wiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsdChcIjE3XCIpKSxpPXQoXCI0Y1wiKTtyLk9ic2VydmFibGUudGhyb3c9aS5fdGhyb3d9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjNlXCIsW1wiY1wiLFwiNDFcIixcIjRlXCIsXCI0NlwiLFwiNDlcIixcIjRhXCIsXCI0ZFwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsZSYmZS5fX2RlY29yYXRlfHxmdW5jdGlvbih0LGUsbixyKXt2YXIgaSxvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/ZTpudWxsPT09cj9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTpyO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsbixyKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShpPXRbYV0pJiYocz0obzwzP2kocyk6bz4zP2koZSxuLHMpOmkoZSxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4scyksc30pLGk9ZSYmZS5fX21ldGFkYXRhfHxmdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKHQsZSl9LG89dChcImNcIikscz10KFwiNDFcIiksYT10KFwiNGVcIik7dChcIjQ2XCIpLHQoXCI0OVwiKSx0KFwiNGFcIiksdChcIjRkXCIpO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuaHR0cD10LHRoaXMuYXBwPWUsdGhpcy5fYXV0aFVybD10aGlzLmFwcC5TZXJ2ZXIsdGhpcy5fdG9rZW5Vcmw9dGhpcy5hcHAuRmlsZVNlcnZlcix0aGlzLmhlYWRlcnM9bmV3IHMuSGVhZGVycyh7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL1gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifSksdGhpcy5qaGVhZGVycz1uZXcgcy5IZWFkZXJzKHtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSksdGhpcy5vcHRpb25zPW5ldyBzLlJlcXVlc3RPcHRpb25zKHtoZWFkZXJzOnRoaXMuaGVhZGVyc30pLHRoaXMuam9wdGlvbnM9bmV3IHMuUmVxdWVzdE9wdGlvbnMoe2hlYWRlcnM6dGhpcy5qaGVhZGVyc30pLHRoaXMudG9rZW5QYXJhbXM9XCJncmFudF90eXBlPXBhc3N3b3JkJmNsaWVudF9pZD1teUNsaWVudCZzY29wZT1vZmZsaW5lX2FjY2VzcyBwcm9maWxlIGVtYWlsIHJvbGVzXCIsdGhpcy5yZWZyZXNoUGFyYW1zPVwiZ3JhbnRfdHlwZT1yZWZyZXNoX3Rva2VuJnJlZnJlc2hfdG9rZW49XCIrbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJyZWZyZXNoX2tleVwiKStcIiZzY29wZT1vZmZsaW5lX2FjY2VzcyBwcm9maWxlIGVtYWlsIHJvbGVzXCJ9cmV0dXJuIHQucHJvdG90eXBlLmdldFVzZXJJbmZvPWZ1bmN0aW9uKCl7aWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdXRoX2tleVwiKSlyZXR1cm4gdGhpcy5hdXRoaGVhZGVycz1uZXcgcy5IZWFkZXJzKHtBdXRob3JpemF0aW9uOlwiQmVhcmVyIFwiK2xvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aF9rZXlcIil9KSx0aGlzLkF1dGhvcHRpb25zPW5ldyBzLlJlcXVlc3RPcHRpb25zKHtoZWFkZXJzOnRoaXMuYXV0aGhlYWRlcnN9KSx0aGlzLmh0dHAuZ2V0KHRoaXMuX2F1dGhVcmwrXCIvYXBpL21pc2MvZ2V0VXNlckluZm9cIix0aGlzLkF1dGhvcHRpb25zKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuanNvbigpfSkuY2F0Y2godGhpcy5oYW5kbGVFcnJvcil9LHQucHJvdG90eXBlLmxvZ291dD1mdW5jdGlvbigpe2lmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aF9rZXlcIikpcmV0dXJuIHRoaXMuYXV0aGhlYWRlcnM9bmV3IHMuSGVhZGVycyh7QXV0aG9yaXphdGlvbjpcIkJlYXJlciBcIitsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhfa2V5XCIpfSksdGhpcy5BdXRob3B0aW9ucz1uZXcgcy5SZXF1ZXN0T3B0aW9ucyh7aGVhZGVyczp0aGlzLmF1dGhoZWFkZXJzfSksdGhpcy5odHRwLmdldCh0aGlzLl90b2tlblVybCtcIi9jb25uZWN0L2xvZ291dFwiLHRoaXMuQXV0aG9wdGlvbnMpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdH0pLmNhdGNoKHRoaXMuaGFuZGxlRXJyb3IpfSx0LnByb3RvdHlwZS5Mb2dpbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5odHRwLnBvc3QodGhpcy5fdG9rZW5VcmwrXCIvY29ubmVjdC92ZXJpZnljb2RlXCIsdGhpcy50b2tlblBhcmFtcytcIiZ1c2VybmFtZT1cIit0LnVzZXJOYW1lK1wiJnBhc3N3b3JkPVwiK3QucGFzc3dvcmQsdGhpcy5vcHRpb25zKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuanNvbigpfSkuY2F0Y2godGhpcy5oYW5kbGVFcnJvcil9LHQucHJvdG90eXBlLmNoYW5nZXBhc3N3b3JkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF1dGhoZWFkZXJzPW5ldyBzLkhlYWRlcnMoe0F1dGhvcml6YXRpb246XCJCZWFyZXIgXCIrbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdXRoX2tleVwiKX0pLHRoaXMuQXV0aG9wdGlvbnM9bmV3IHMuUmVxdWVzdE9wdGlvbnMoe2hlYWRlcnM6dGhpcy5hdXRoaGVhZGVyc30pLHRoaXMuaHR0cC5wb3N0KHRoaXMuX2F1dGhVcmwrXCIvYXBpL2FjY291bnQvdXBkYXRlcHJvZmlsZT9wYXNzd29yZD1cIit0LnBhc3N3b3JkK1wiJm9sZHBhc3N3b3JkPVwiK3Qub2xkcGFzc3dvcmQrXCImdXNlcm5hbWU9XCIrdC51c2VybmFtZSx0aGlzLkF1dGhvcHRpb25zKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuanNvbigpfSkuY2F0Y2godGhpcy5oYW5kbGVFcnJvcil9LHQucHJvdG90eXBlLnJlZnJlc2hMb2dpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmh0dHAucG9zdCh0aGlzLl9hdXRoVXJsK1wiL2Nvbm5lY3QvdmVyaWZ5Y29kZVwiLHRoaXMucmVmcmVzaFBhcmFtcyx0aGlzLm9wdGlvbnMpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5qc29uKCl9KS5jYXRjaCh0aGlzLmhhbmRsZUVycm9yKX0sdC5wcm90b3R5cGUuc2VuZG90cD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5odHRwLnBvc3QodGhpcy5fYXV0aFVybCtcIi9hcGkvYWNjb3VudC9zZW5kT3RwP3VzZXJuYW1lPVwiK3QsdGhpcy5vcHRpb25zKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuanNvbigpfSkuY2F0Y2godGhpcy5oYW5kbGVFcnJvcil9LHQucHJvdG90eXBlLlJlZ2lzdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPUpTT04uc3RyaW5naWZ5KHQpO3JldHVybiB0aGlzLmh0dHAucG9zdCh0aGlzLl9hdXRoVXJsK1wiL2FwaS9hY2NvdW50L3JlZ2lzdGVyXCIsZSx0aGlzLmpvcHRpb25zKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuanNvbigpfSkuY2F0Y2godGhpcy5oYW5kbGVFcnJvcil9LHQucHJvdG90eXBlLnB1dFVzZXI9ZnVuY3Rpb24odCl7dmFyIGU9SlNPTi5zdHJpbmdpZnkodCk7cmV0dXJuIHRoaXMuaHR0cC5wb3N0KHRoaXMuX2F1dGhVcmwrXCIvYXBpL2FjY291bnQvdXBkYXRlVXNlclwiLGUsdGhpcy5qb3B0aW9ucykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmpzb24oKX0pLmNhdGNoKHRoaXMuaGFuZGxlRXJyb3IpfSx0LnByb3RvdHlwZS5wdXRVc2VyUGFzc3dvcmQ9ZnVuY3Rpb24odCl7dGhpcy5hdXRoaGVhZGVycz1uZXcgcy5IZWFkZXJzKHtBdXRob3JpemF0aW9uOlwiQmVhcmVyIFwiK2xvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aF9rZXlcIil9KSx0aGlzLkF1dGhvcHRpb25zPW5ldyBzLlJlcXVlc3RPcHRpb25zKHtoZWFkZXJzOnRoaXMuYXV0aGhlYWRlcnN9KTt2YXIgZT1KU09OLnN0cmluZ2lmeSh0KTtyZXR1cm4gdGhpcy5odHRwLnBvc3QodGhpcy5fYXV0aFVybCtcIi9hcGkvYWNjb3VudC9SZXNldFRvT3JpZ2luYWxQYXNzd29yZFwiLGUsdGhpcy5qb3B0aW9ucykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmpzb24oKX0pLmNhdGNoKHRoaXMuaGFuZGxlRXJyb3IpfSx0LnByb3RvdHlwZS5oYW5kbGVFcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gNDAxPT09dC5zdGF0dXM/UHJvbWlzZS5yZWplY3QoXCI0MDFcIik6KGNvbnNvbGUuZXJyb3IoXCJBbiBlcnJvciBvY2N1cnJlZFwiLHQpLFByb21pc2UucmVqZWN0KHQubWVzc2FnZXx8dC5qc29uKCkpKX0sdD1yKFtvLkluamVjdGFibGUoKSxpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbcy5IdHRwLGEuQ29uZmlndXJhdGlvbl0pXSx0KX0oKTtlLmF1dGhzZXJ2aWNlPXV9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjNhXCIsW1wiMTZcIixcIjRmXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZixlJiZlLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pLGk9dChcIjE2XCIpLG89dChcIjRmXCIpLHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyksdGhpcy5fdmFsdWU9ZX1yZXR1cm4gcihlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInZhbHVlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFZhbHVlKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX3N1YnNjcmliZT1mdW5jdGlvbihlKXt2YXIgbj10LnByb3RvdHlwZS5fc3Vic2NyaWJlLmNhbGwodGhpcyxlKTtyZXR1cm4gbiYmIW4uY2xvc2VkJiZlLm5leHQodGhpcy5fdmFsdWUpLG59LGUucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7aWYodGhpcy5oYXNFcnJvcil0aHJvdyB0aGlzLnRocm93bkVycm9yO2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBvLk9iamVjdFVuc3Vic2NyaWJlZEVycm9yO3JldHVybiB0aGlzLl92YWx1ZX0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcyx0aGlzLl92YWx1ZT1lKX0sZX0oaS5TdWJqZWN0KTtlLkJlaGF2aW9yU3ViamVjdD1zfSksdC5yZWdpc3RlckR5bmFtaWMoXCI1MFwiLFtcImNcIixcIjNhXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZixlJiZlLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSksaT1lJiZlLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sbz10KFwiY1wiKSxzPXQoXCIzYVwiKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuY2VoY2tTdGF0dXM9bmV3IG8uRXZlbnRFbWl0dGVyLHRoaXMubG9nb3V0PW5ldyBvLkV2ZW50RW1pdHRlcix0aGlzLm1vZGFsc3RhdHVzPW5ldyBvLkV2ZW50RW1pdHRlcix0aGlzLmNsb3NlbW9kYWw9bmV3IG8uRXZlbnRFbWl0dGVyLHRoaXMuZGVmYXVsdHNoYXJlPW5ldyB1LHRoaXMuVXNlclN0YXR1cz1uZXcgcy5CZWhhdmlvclN1YmplY3QodGhpcy5kZWZhdWx0c2hhcmUpfXJldHVybiB0LnByb3RvdHlwZS5lbWl0Tm90TG9nZ2VkSW49ZnVuY3Rpb24oKXt0aGlzLmNlaGNrU3RhdHVzLmVtaXQobnVsbCl9LHQucHJvdG90eXBlLmVtaXRMb2dPdXQ9ZnVuY3Rpb24oKXt0aGlzLmxvZ291dC5lbWl0KG51bGwpfSx0LnByb3RvdHlwZS5nZXRMb2dnZWRJbkVtaXR0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWhja1N0YXR1c30sdC5wcm90b3R5cGUuZ2V0TG9nZ2VkT3V0RW1pdHRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvZ291dH0sdC5wcm90b3R5cGUuZW1pdG9wZW5tb2RhbD1mdW5jdGlvbigpe3RoaXMubW9kYWxzdGF0dXMuZW1pdChudWxsKX0sdC5wcm90b3R5cGUuZW1pdGNsb3NlbW9kYWw9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlbW9kYWwuZW1pdChudWxsKX0sdC5wcm90b3R5cGUuZW1pdG9wZW5tb2RhbEVtaXR0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RhbHN0YXR1c30sdC5wcm90b3R5cGUuZW1pdGNsb3NlbW9kYWxFbWl0dGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvc2Vtb2RhbH0sdC5wcm90b3R5cGUuYnJvYWRjYXN0VGV4dENoYW5nZT1mdW5jdGlvbih0KXt0aGlzLlVzZXJTdGF0dXMubmV4dCh0KX0sdD1yKFtvLkluamVjdGFibGUoKSxpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLHQpfSgpO2UuQXV0aExvZ2luU2VydmljZT1hO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTtlLlNoYXJlZFVzZXJEZXRhaWxzTW9kZWw9dX0pLHQucmVnaXN0ZXJEeW5hbWljKFwiNGZcIixbXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsZSYmZS5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KSxpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyxcIm9iamVjdCB1bnN1YnNjcmliZWRcIik7dGhpcy5uYW1lPWUubmFtZT1cIk9iamVjdFVuc3Vic2NyaWJlZEVycm9yXCIsdGhpcy5zdGFjaz1lLnN0YWNrLHRoaXMubWVzc2FnZT1lLm1lc3NhZ2V9cmV0dXJuIHIoZSx0KSxlfShFcnJvcik7ZS5PYmplY3RVbnN1YnNjcmliZWRFcnJvcj1pfSksdC5yZWdpc3RlckR5bmFtaWMoXCI1MVwiLFtcIjUyXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZixlJiZlLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pLGk9dChcIjUyXCIpLG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3QuY2FsbCh0aGlzKSx0aGlzLnN1YmplY3Q9ZSx0aGlzLnN1YnNjcmliZXI9bix0aGlzLmNsb3NlZD0hMX1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuY2xvc2VkKXt0aGlzLmNsb3NlZD0hMDt2YXIgdD10aGlzLnN1YmplY3QsZT10Lm9ic2VydmVycztpZih0aGlzLnN1YmplY3Q9bnVsbCxlJiYwIT09ZS5sZW5ndGgmJiF0LmlzU3RvcHBlZCYmIXQuY2xvc2VkKXt2YXIgbj1lLmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKTtuIT09LTEmJmUuc3BsaWNlKG4sMSl9fX0sZX0oaS5TdWJzY3JpcHRpb24pO2UuU3ViamVjdFN1YnNjcmlwdGlvbj1vfSksdC5yZWdpc3RlckR5bmFtaWMoXCIxNlwiLFtcIjE3XCIsXCIyMlwiLFwiNTJcIixcIjRmXCIsXCI1MVwiLFwiNTNcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLGUmJmUuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSksaT10KFwiMTdcIiksbz10KFwiMjJcIikscz10KFwiNTJcIiksYT10KFwiNGZcIiksdT10KFwiNTFcIiksYz10KFwiNTNcIiksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUpLHRoaXMuZGVzdGluYXRpb249ZX1yZXR1cm4gcihlLHQpLGV9KG8uU3Vic2NyaWJlcik7ZS5TdWJqZWN0U3Vic2NyaWJlcj1sO3ZhciBwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmNhbGwodGhpcyksdGhpcy5vYnNlcnZlcnM9W10sdGhpcy5jbG9zZWQ9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsdGhpcy5oYXNFcnJvcj0hMSx0aGlzLnRocm93bkVycm9yPW51bGx9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZVtjLiQkcnhTdWJzY3JpYmVyXT1mdW5jdGlvbigpe3JldHVybiBuZXcgbCh0aGlzKX0sZS5wcm90b3R5cGUubGlmdD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgaCh0aGlzLHRoaXMpO3JldHVybiBlLm9wZXJhdG9yPXQsZX0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbih0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgYS5PYmplY3RVbnN1YnNjcmliZWRFcnJvcjtpZighdGhpcy5pc1N0b3BwZWQpZm9yKHZhciBlPXRoaXMub2JzZXJ2ZXJzLG49ZS5sZW5ndGgscj1lLnNsaWNlKCksaT0wO2k8bjtpKyspcltpXS5uZXh0KHQpfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgYS5PYmplY3RVbnN1YnNjcmliZWRFcnJvcjt0aGlzLmhhc0Vycm9yPSEwLHRoaXMudGhyb3duRXJyb3I9dCx0aGlzLmlzU3RvcHBlZD0hMDtmb3IodmFyIGU9dGhpcy5vYnNlcnZlcnMsbj1lLmxlbmd0aCxyPWUuc2xpY2UoKSxpPTA7aTxuO2krKylyW2ldLmVycm9yKHQpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfSxlLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBhLk9iamVjdFVuc3Vic2NyaWJlZEVycm9yO3RoaXMuaXNTdG9wcGVkPSEwO2Zvcih2YXIgdD10aGlzLm9ic2VydmVycyxlPXQubGVuZ3RoLG49dC5zbGljZSgpLHI9MDtyPGU7cisrKW5bcl0uY29tcGxldGUoKTt0aGlzLm9ic2VydmVycy5sZW5ndGg9MH0sZS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLmNsb3NlZD0hMCx0aGlzLm9ic2VydmVycz1udWxsfSxlLnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBhLk9iamVjdFVuc3Vic2NyaWJlZEVycm9yO3JldHVybiB0aGlzLmhhc0Vycm9yPyh0LmVycm9yKHRoaXMudGhyb3duRXJyb3IpLHMuU3Vic2NyaXB0aW9uLkVNUFRZKTp0aGlzLmlzU3RvcHBlZD8odC5jb21wbGV0ZSgpLHMuU3Vic2NyaXB0aW9uLkVNUFRZKToodGhpcy5vYnNlcnZlcnMucHVzaCh0KSxuZXcgdS5TdWJqZWN0U3Vic2NyaXB0aW9uKHRoaXMsdCkpfSxlLnByb3RvdHlwZS5hc09ic2VydmFibGU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgaS5PYnNlcnZhYmxlO3JldHVybiB0LnNvdXJjZT10aGlzLHR9LGUuY3JlYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBoKHQsZSl9LGV9KGkuT2JzZXJ2YWJsZSk7ZS5TdWJqZWN0PXA7dmFyIGg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3QuY2FsbCh0aGlzKSx0aGlzLmRlc3RpbmF0aW9uPWUsdGhpcy5zb3VyY2U9bn1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kZXN0aW5hdGlvbjtlJiZlLm5leHQmJmUubmV4dCh0KX0sZS5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kZXN0aW5hdGlvbjtlJiZlLmVycm9yJiZ0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfSxlLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZGVzdGluYXRpb247dCYmdC5jb21wbGV0ZSYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfSxlLnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc291cmNlO3JldHVybiBlP3RoaXMuc291cmNlLnN1YnNjcmliZSh0KTpzLlN1YnNjcmlwdGlvbi5FTVBUWX0sZX0ocCk7ZS5Bbm9ueW1vdXNTdWJqZWN0PWh9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjI0XCIsW10sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3RoaXN8fHNlbGY7ZS5pc0FycmF5PUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGh9fSksdC5yZWdpc3RlckR5bmFtaWMoXCI0OFwiLFtdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiBudWxsIT10JiZcIm9iamVjdFwiPT10eXBlb2YgdH10aGlzfHxzZWxmO2UuaXNPYmplY3Q9cn0pLHQucmVnaXN0ZXJEeW5hbWljKFwiNTRcIixbXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fXRoaXN8fHNlbGY7ZS5pc0Z1bmN0aW9uPXJ9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjU1XCIsW1wiNTZcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt0cnl7cmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKHQpe3JldHVybiBzLmVycm9yT2JqZWN0LmU9dCxzLmVycm9yT2JqZWN0fX1mdW5jdGlvbiBpKHQpe3JldHVybiBvPXQscn12YXIgbyxzPSh0aGlzfHxzZWxmLHQoXCI1NlwiKSk7ZS50cnlDYXRjaD1pfSksdC5yZWdpc3RlckR5bmFtaWMoXCI1NlwiLFtdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0aGlzfHxzZWxmO2UuZXJyb3JPYmplY3Q9e2U6e319fSksdC5yZWdpc3RlckR5bmFtaWMoXCI1N1wiLFtdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZixlJiZlLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pLGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyksdGhpcy5lcnJvcnM9ZTt2YXIgbj1FcnJvci5jYWxsKHRoaXMsZT9lLmxlbmd0aCtcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcbiAgXCIrZS5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4gZSsxK1wiKSBcIit0LnRvU3RyaW5nKCl9KS5qb2luKFwiXFxuICBcIik6XCJcIik7dGhpcy5uYW1lPW4ubmFtZT1cIlVuc3Vic2NyaXB0aW9uRXJyb3JcIix0aGlzLnN0YWNrPW4uc3RhY2ssdGhpcy5tZXNzYWdlPW4ubWVzc2FnZX1yZXR1cm4gcihlLHQpLGV9KEVycm9yKTtlLlVuc3Vic2NyaXB0aW9uRXJyb3I9aX0pLHQucmVnaXN0ZXJEeW5hbWljKFwiNTJcIixbXCIyNFwiLFwiNDhcIixcIjU0XCIsXCI1NVwiLFwiNTZcIixcIjU3XCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZix0KFwiMjRcIikpLGk9dChcIjQ4XCIpLG89dChcIjU0XCIpLHM9dChcIjU1XCIpLGE9dChcIjU2XCIpLHU9dChcIjU3XCIpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY2xvc2VkPSExLHQmJih0aGlzLl91bnN1YnNjcmliZT10KX1yZXR1cm4gdC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt2YXIgdCxlPSExO2lmKCF0aGlzLmNsb3NlZCl7dGhpcy5jbG9zZWQ9ITA7dmFyIG49dGhpcyxjPW4uX3Vuc3Vic2NyaWJlLGw9bi5fc3Vic2NyaXB0aW9ucztpZih0aGlzLl9zdWJzY3JpcHRpb25zPW51bGwsby5pc0Z1bmN0aW9uKGMpKXt2YXIgcD1zLnRyeUNhdGNoKGMpLmNhbGwodGhpcyk7cD09PWEuZXJyb3JPYmplY3QmJihlPSEwLCh0PXR8fFtdKS5wdXNoKGEuZXJyb3JPYmplY3QuZSkpfWlmKHIuaXNBcnJheShsKSlmb3IodmFyIGg9LTEsZj1sLmxlbmd0aDsrK2g8Zjspe3ZhciBkPWxbaF07aWYoaS5pc09iamVjdChkKSl7dmFyIHA9cy50cnlDYXRjaChkLnVuc3Vic2NyaWJlKS5jYWxsKGQpO2lmKHA9PT1hLmVycm9yT2JqZWN0KXtlPSEwLHQ9dHx8W107dmFyIHk9YS5lcnJvck9iamVjdC5lO3kgaW5zdGFuY2VvZiB1LlVuc3Vic2NyaXB0aW9uRXJyb3I/dD10LmNvbmNhdCh5LmVycm9ycyk6dC5wdXNoKHkpfX19aWYoZSl0aHJvdyBuZXcgdS5VbnN1YnNjcmlwdGlvbkVycm9yKHQpfX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe2lmKCFlfHxlPT09dC5FTVBUWSlyZXR1cm4gdC5FTVBUWTtpZihlPT09dGhpcylyZXR1cm4gdGhpczt2YXIgbj1lO3N3aXRjaCh0eXBlb2YgZSl7Y2FzZVwiZnVuY3Rpb25cIjpuPW5ldyB0KGUpO2Nhc2VcIm9iamVjdFwiOmlmKG4uY2xvc2VkfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBuLnVuc3Vic2NyaWJlKWJyZWFrO3RoaXMuY2xvc2VkP24udW5zdWJzY3JpYmUoKToodGhpcy5fc3Vic2NyaXB0aW9uc3x8KHRoaXMuX3N1YnNjcmlwdGlvbnM9W10pKS5wdXNoKG4pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwidW5yZWNvZ25pemVkIHRlYXJkb3duIFwiK2UrXCIgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLlwiKX1yZXR1cm4gbn0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKG51bGwhPWUmJmUhPT10aGlzJiZlIT09dC5FTVBUWSl7dmFyIG49dGhpcy5fc3Vic2NyaXB0aW9ucztpZihuKXt2YXIgcj1uLmluZGV4T2YoZSk7ciE9PS0xJiZuLnNwbGljZShyLDEpfX19LHQuRU1QVFk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2xvc2VkPSEwLHR9KG5ldyB0KSx0fSgpO2UuU3Vic2NyaXB0aW9uPWN9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjIyXCIsW1wiNTRcIixcIjUyXCIsXCI1OFwiLFwiNTNcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLGUmJmUuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSksaT10KFwiNTRcIiksbz10KFwiNTJcIikscz10KFwiNThcIiksYT10KFwiNTNcIiksdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKG4scixpKXtzd2l0Y2godC5jYWxsKHRoaXMpLHRoaXMuc3luY0Vycm9yVmFsdWU9bnVsbCx0aGlzLnN5bmNFcnJvclRocm93bj0hMSx0aGlzLnN5bmNFcnJvclRocm93YWJsZT0hMSx0aGlzLmlzU3RvcHBlZD0hMSxhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6dGhpcy5kZXN0aW5hdGlvbj1zLmVtcHR5O2JyZWFrO2Nhc2UgMTppZighbil7dGhpcy5kZXN0aW5hdGlvbj1zLmVtcHR5O2JyZWFrfWlmKFwib2JqZWN0XCI9PXR5cGVvZiBuKXtuIGluc3RhbmNlb2YgZT8odGhpcy5kZXN0aW5hdGlvbj1uLHRoaXMuZGVzdGluYXRpb24uYWRkKHRoaXMpKToodGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITAsdGhpcy5kZXN0aW5hdGlvbj1uZXcgYyh0aGlzLG4pKTticmVha31kZWZhdWx0OnRoaXMuc3luY0Vycm9yVGhyb3dhYmxlPSEwLHRoaXMuZGVzdGluYXRpb249bmV3IGModGhpcyxuLHIsaSl9fXJldHVybiByKGUsdCksZS5wcm90b3R5cGVbYS4kJHJ4U3Vic2NyaWJlcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZS5jcmVhdGU9ZnVuY3Rpb24odCxuLHIpe3ZhciBpPW5ldyBlKHQsbixyKTtyZXR1cm4gaS5zeW5jRXJyb3JUaHJvd2FibGU9ITEsaX0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbih0KXt0aGlzLmlzU3RvcHBlZHx8dGhpcy5fbmV4dCh0KX0sZS5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLl9lcnJvcih0KSl9LGUucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLl9jb21wbGV0ZSgpKX0sZS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHQucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcykpfSxlLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbih0KXt0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9LGUucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbih0KXt0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpLHRoaXMudW5zdWJzY3JpYmUoKX0sZS5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX0sZX0oby5TdWJzY3JpcHRpb24pO2UuU3Vic2NyaWJlcj11O3ZhciBjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIsbyl7dC5jYWxsKHRoaXMpLHRoaXMuX3BhcmVudD1lO3ZhciBzLGE9dGhpcztpLmlzRnVuY3Rpb24obik/cz1uOm4mJihhPW4scz1uLm5leHQscj1uLmVycm9yLG89bi5jb21wbGV0ZSxpLmlzRnVuY3Rpb24oYS51bnN1YnNjcmliZSkmJnRoaXMuYWRkKGEudW5zdWJzY3JpYmUuYmluZChhKSksYS51bnN1YnNjcmliZT10aGlzLnVuc3Vic2NyaWJlLmJpbmQodGhpcykpLHRoaXMuX2NvbnRleHQ9YSx0aGlzLl9uZXh0PXMsdGhpcy5fZXJyb3I9cix0aGlzLl9jb21wbGV0ZT1vfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbih0KXtpZighdGhpcy5pc1N0b3BwZWQmJnRoaXMuX25leHQpe3ZhciBlPXRoaXMuX3BhcmVudDtlLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9fdHJ5T3JTZXRFcnJvcihlLHRoaXMuX25leHQsdCkmJnRoaXMudW5zdWJzY3JpYmUoKTp0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LHQpfX0sZS5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24odCl7aWYoIXRoaXMuaXNTdG9wcGVkKXt2YXIgZT10aGlzLl9wYXJlbnQ7aWYodGhpcy5fZXJyb3IpZS5zeW5jRXJyb3JUaHJvd2FibGU/KHRoaXMuX190cnlPclNldEVycm9yKGUsdGhpcy5fZXJyb3IsdCksdGhpcy51bnN1YnNjcmliZSgpKToodGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fZXJyb3IsdCksdGhpcy51bnN1YnNjcmliZSgpKTtlbHNle2lmKCFlLnN5bmNFcnJvclRocm93YWJsZSl0aHJvdyB0aGlzLnVuc3Vic2NyaWJlKCksdDtlLnN5bmNFcnJvclZhbHVlPXQsZS5zeW5jRXJyb3JUaHJvd249ITAsdGhpcy51bnN1YnNjcmliZSgpfX19LGUucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNTdG9wcGVkKXt2YXIgdD10aGlzLl9wYXJlbnQ7dGhpcy5fY29tcGxldGU/dC5zeW5jRXJyb3JUaHJvd2FibGU/KHRoaXMuX190cnlPclNldEVycm9yKHQsdGhpcy5fY29tcGxldGUpLHRoaXMudW5zdWJzY3JpYmUoKSk6KHRoaXMuX190cnlPclVuc3ViKHRoaXMuX2NvbXBsZXRlKSx0aGlzLnVuc3Vic2NyaWJlKCkpOnRoaXMudW5zdWJzY3JpYmUoKX19LGUucHJvdG90eXBlLl9fdHJ5T3JVbnN1Yj1mdW5jdGlvbih0LGUpe3RyeXt0LmNhbGwodGhpcy5fY29udGV4dCxlKX1jYXRjaCh0KXt0aHJvdyB0aGlzLnVuc3Vic2NyaWJlKCksdH19LGUucHJvdG90eXBlLl9fdHJ5T3JTZXRFcnJvcj1mdW5jdGlvbih0LGUsbil7dHJ5e2UuY2FsbCh0aGlzLl9jb250ZXh0LG4pfWNhdGNoKGUpe3JldHVybiB0LnN5bmNFcnJvclZhbHVlPWUsdC5zeW5jRXJyb3JUaHJvd249ITAsITB9cmV0dXJuITF9LGUucHJvdG90eXBlLl91bnN1YnNjcmliZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BhcmVudDt0aGlzLl9jb250ZXh0PW51bGwsdGhpcy5fcGFyZW50PW51bGwsdC51bnN1YnNjcmliZSgpfSxlfSh1KX0pLHQucmVnaXN0ZXJEeW5hbWljKFwiNTNcIixbXCIxYlwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsdChcIjFiXCIpKSxpPXIucm9vdC5TeW1ib2w7ZS4kJHJ4U3Vic2NyaWJlcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmZvcj9pLmZvcihcInJ4U3Vic2NyaWJlclwiKTpcIkBAcnhTdWJzY3JpYmVyXCJ9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjU4XCIsW10sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3RoaXN8fHNlbGY7ZS5lbXB0eT17Y2xvc2VkOiEwLG5leHQ6ZnVuY3Rpb24odCl7fSxlcnJvcjpmdW5jdGlvbih0KXt0aHJvdyB0fSxjb21wbGV0ZTpmdW5jdGlvbigpe319fSksdC5yZWdpc3RlckR5bmFtaWMoXCI1OVwiLFtcIjIyXCIsXCI1M1wiLFwiNThcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4pe2lmKHQpe2lmKHQgaW5zdGFuY2VvZiBpLlN1YnNjcmliZXIpcmV0dXJuIHQ7aWYodFtvLiQkcnhTdWJzY3JpYmVyXSlyZXR1cm4gdFtvLiQkcnhTdWJzY3JpYmVyXSgpfXJldHVybiB0fHxlfHxuP25ldyBpLlN1YnNjcmliZXIodCxlLG4pOm5ldyBpLlN1YnNjcmliZXIocy5lbXB0eSl9dmFyIGk9KHRoaXN8fHNlbGYsdChcIjIyXCIpKSxvPXQoXCI1M1wiKSxzPXQoXCI1OFwiKTtlLnRvU3Vic2NyaWJlcj1yfSksdC5yZWdpc3RlckR5bmFtaWMoXCIxYlwiLFtdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcblwidXNlIHN0cmljdFwiO3ZhciByPXRoaXN8fHNlbGY7aWYoZS5yb290PVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy53aW5kb3c9PT13aW5kb3cmJndpbmRvd3x8XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYuc2VsZj09PXNlbGYmJnNlbGZ8fFwib2JqZWN0XCI9PXR5cGVvZiByJiZyLmdsb2JhbD09PXImJnIsIWUucm9vdCl0aHJvdyBuZXcgRXJyb3IoXCJSeEpTIGNvdWxkIG5vdCBmaW5kIGFueSBnbG9iYWwgY29udGV4dCAod2luZG93LCBzZWxmLCBnbG9iYWwpXCIpfSksdC5yZWdpc3RlckR5bmFtaWMoXCIyOFwiLFtcIjFiXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlLG49dC5TeW1ib2w7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uLm9ic2VydmFibGU/ZT1uLm9ic2VydmFibGU6KGU9bihcIm9ic2VydmFibGVcIiksbi5vYnNlcnZhYmxlPWUpOmU9XCJAQG9ic2VydmFibGVcIixlfXZhciBpPSh0aGlzfHxzZWxmLHQoXCIxYlwiKSk7ZS5nZXRTeW1ib2xPYnNlcnZhYmxlPXIsZS4kJG9ic2VydmFibGU9cihpLnJvb3QpfSksdC5yZWdpc3RlckR5bmFtaWMoXCIxN1wiLFtcIjFiXCIsXCI1OVwiLFwiMjhcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLHQoXCIxYlwiKSksaT10KFwiNTlcIiksbz10KFwiMjhcIikscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5faXNTY2FsYXI9ITEsdCYmKHRoaXMuX3N1YnNjcmliZT10KX1yZXR1cm4gdC5wcm90b3R5cGUubGlmdD1mdW5jdGlvbihlKXt2YXIgbj1uZXcgdDtyZXR1cm4gbi5zb3VyY2U9dGhpcyxuLm9wZXJhdG9yPWUsbn0sdC5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLm9wZXJhdG9yLG89aS50b1N1YnNjcmliZXIodCxlLG4pO2lmKHI/ci5jYWxsKG8sdGhpcy5zb3VyY2UpOm8uYWRkKHRoaXMuX3N1YnNjcmliZShvKSksby5zeW5jRXJyb3JUaHJvd2FibGUmJihvLnN5bmNFcnJvclRocm93YWJsZT0hMSxvLnN5bmNFcnJvclRocm93bikpdGhyb3cgby5zeW5jRXJyb3JWYWx1ZTtyZXR1cm4gb30sdC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYoZXx8KHIucm9vdC5SeCYmci5yb290LlJ4LmNvbmZpZyYmci5yb290LlJ4LmNvbmZpZy5Qcm9taXNlP2U9ci5yb290LlJ4LmNvbmZpZy5Qcm9taXNlOnIucm9vdC5Qcm9taXNlJiYoZT1yLnJvb3QuUHJvbWlzZSkpLCFlKXRocm93IG5ldyBFcnJvcihcIm5vIFByb21pc2UgaW1wbCBmb3VuZFwiKTtyZXR1cm4gbmV3IGUoZnVuY3Rpb24oZSxyKXt2YXIgaT1uLnN1YnNjcmliZShmdW5jdGlvbihlKXtpZihpKXRyeXt0KGUpfWNhdGNoKHQpe3IodCksaS51bnN1YnNjcmliZSgpfWVsc2UgdChlKX0scixlKX0pfSx0LnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNvdXJjZS5zdWJzY3JpYmUodCl9LHQucHJvdG90eXBlW28uJCRvYnNlcnZhYmxlXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoZSl9LHR9KCk7ZS5PYnNlcnZhYmxlPXN9KSxmdW5jdGlvbihpLG8pe1wib2JqZWN0XCI9PXR5cGVvZiBuJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygcj9vKG4sZShcInJ4anMvc3ltYm9sL29ic2VydmFibGVcIiksZShcInJ4anMvU3ViamVjdFwiKSxlKFwicnhqcy9PYnNlcnZhYmxlXCIpKTp0LnJlZ2lzdGVyRHluYW1pYyhcImNcIixbXCIyOFwiLFwiMTZcIixcIjE3XCJdLCExLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBvP28uY2FsbChlLGUsdChcIjI4XCIpLHQoXCIxNlwiKSx0KFwiMTdcIikpOm99KX0odGhpcyxmdW5jdGlvbih0LGUsbixyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe1pvbmUuY3VycmVudC5zY2hlZHVsZU1pY3JvVGFzayhcInNjaGVkdWxlTWljcm90YXNrXCIsdCl9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdC5uYW1lfHx0eXBlb2YgdH1mdW5jdGlvbiBzKHQpe3JldHVybiBudWxsIT10fWZ1bmN0aW9uIGEodCl7cmV0dXJuIG51bGw9PXR9ZnVuY3Rpb24gdSh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdDtpZihudWxsPT10KXJldHVyblwiXCIrdDtpZih0Lm92ZXJyaWRkZW5OYW1lKXJldHVyblwiXCIrdC5vdmVycmlkZGVuTmFtZTtpZih0Lm5hbWUpcmV0dXJuXCJcIit0Lm5hbWU7dmFyIGU9dC50b1N0cmluZygpLG49ZS5pbmRleE9mKFwiXFxuXCIpO3JldHVybiBuPT09LTE/ZTplLnN1YnN0cmluZygwLG4pfWZ1bmN0aW9uIGModCxlKXtyZXR1cm4gdD09PWV8fFwibnVtYmVyXCI9PXR5cGVvZiB0JiZcIm51bWJlclwiPT10eXBlb2YgZSYmaXNOYU4odCkmJmlzTmFOKGUpfWZ1bmN0aW9uIGwodCl7cmV0dXJuIG51bGwhPT10JiYoXCJmdW5jdGlvblwiPT10eXBlb2YgdHx8XCJvYmplY3RcIj09dHlwZW9mIHQpfWZ1bmN0aW9uIHAodCl7Y29uc29sZS5sb2codCl9ZnVuY3Rpb24gaCh0KXtjb25zb2xlLndhcm4odCl9ZnVuY3Rpb24gZigpe2lmKCFmZSlpZihwZS5TeW1ib2wmJlN5bWJvbC5pdGVyYXRvcilmZT1TeW1ib2wuaXRlcmF0b3I7ZWxzZSBmb3IodmFyIHQ9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTWFwLnByb3RvdHlwZSksZT0wO2U8dC5sZW5ndGg7KytlKXt2YXIgbj10W2VdO1wiZW50cmllc1wiIT09biYmXCJzaXplXCIhPT1uJiZNYXAucHJvdG90eXBlW25dPT09TWFwLnByb3RvdHlwZS5lbnRyaWVzJiYoZmU9bil9cmV0dXJuIGZlfWZ1bmN0aW9uIGQodCl7cmV0dXJuIWwodCl9ZnVuY3Rpb24geSh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0Lmhhc093blByb3BlcnR5KFwiYW5ub3RhdGlvblwiKSYmKHQ9dC5hbm5vdGF0aW9uKSx0fWZ1bmN0aW9uIG0odCxlKXtpZih0PT09T2JqZWN0fHx0PT09U3RyaW5nfHx0PT09RnVuY3Rpb258fHQ9PT1OdW1iZXJ8fHQ9PT1BcnJheSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4gbm90IHVzZSBuYXRpdmUgXCIrdSh0KStcIiBhcyBjb25zdHJ1Y3RvclwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpe3ZhciBuPXQscj1uLmxlbmd0aC0xLGk9dFtyXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXRocm93IG5ldyBFcnJvcihcIkxhc3QgcG9zaXRpb24gb2YgQ2xhc3MgbWV0aG9kIGFycmF5IG11c3QgYmUgRnVuY3Rpb24gaW4ga2V5IFwiK2UrXCIgd2FzICdcIit1KGkpK1wiJ1wiKTtpZihyIT1pLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJOdW1iZXIgb2YgYW5ub3RhdGlvbnMgKFwiK3IrXCIpIGRvZXMgbm90IG1hdGNoIG51bWJlciBvZiBhcmd1bWVudHMgKFwiK2kubGVuZ3RoK1wiKSBpbiB0aGUgZnVuY3Rpb246IFwiK3UoaSkpO2Zvcih2YXIgbz1bXSxzPTAsYT1uLmxlbmd0aC0xO3M8YTtzKyspe3ZhciBjPVtdO28ucHVzaChjKTt2YXIgbD1uW3NdO2lmKEFycmF5LmlzQXJyYXkobCkpZm9yKHZhciBwPTA7cDxsLmxlbmd0aDtwKyspYy5wdXNoKHkobFtwXSkpO2Vsc2VcImZ1bmN0aW9uXCI9PXR5cGVvZiBsP2MucHVzaCh5KGwpKTpjLnB1c2gobCl9cmV0dXJuIHllLmRlZmluZU1ldGFkYXRhKFwicGFyYW1ldGVyc1wiLG8saSksaX10aHJvdyBuZXcgRXJyb3IoXCJPbmx5IEZ1bmN0aW9uIG9yIEFycmF5IGlzIHN1cHBvcnRlZCBpbiBDbGFzcyBkZWZpbml0aW9uIGZvciBrZXkgJ1wiK2UrXCInIGlzICdcIit1KHQpK1wiJ1wiKX1mdW5jdGlvbiB2KHQpe3ZhciBlPW0odC5oYXNPd25Qcm9wZXJ0eShcImNvbnN0cnVjdG9yXCIpP3QuY29uc3RydWN0b3I6dm9pZCAwLFwiY29uc3RydWN0b3JcIiksbj1lLnByb3RvdHlwZTtpZih0Lmhhc093blByb3BlcnR5KFwiZXh0ZW5kc1wiKSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdC5leHRlbmRzKXRocm93IG5ldyBFcnJvcihcIkNsYXNzIGRlZmluaXRpb24gJ2V4dGVuZHMnIHByb3BlcnR5IG11c3QgYmUgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB3YXM6IFwiK3UodC5leHRlbmRzKSk7ZS5wcm90b3R5cGU9bj1PYmplY3QuY3JlYXRlKHQuZXh0ZW5kcy5wcm90b3R5cGUpfWZvcih2YXIgciBpbiB0KVwiZXh0ZW5kc1wiIT09ciYmXCJwcm90b3R5cGVcIiE9PXImJnQuaGFzT3duUHJvcGVydHkocikmJihuW3JdPW0odFtyXSxyKSk7dGhpcyYmdGhpcy5hbm5vdGF0aW9ucyBpbnN0YW5jZW9mIEFycmF5JiZ5ZS5kZWZpbmVNZXRhZGF0YShcImFubm90YXRpb25zXCIsdGhpcy5hbm5vdGF0aW9ucyxlKTt2YXIgaT1lLm5hbWU7cmV0dXJuIGkmJlwiY29uc3RydWN0b3JcIiE9PWl8fChlLm92ZXJyaWRkZW5OYW1lPVwiY2xhc3NcIitkZSsrKSxlfWZ1bmN0aW9uIGcodCxlLG4scil7ZnVuY3Rpb24gaSh0KXtpZigheWV8fCF5ZS5nZXRPd25NZXRhZGF0YSl0aHJvd1wicmVmbGVjdC1tZXRhZGF0YSBzaGltIGlzIHJlcXVpcmVkIHdoZW4gdXNpbmcgY2xhc3MgZGVjb3JhdG9yc1wiO2lmKHRoaXMgaW5zdGFuY2VvZiBpKXJldHVybiBvLmNhbGwodGhpcyx0KSx0aGlzO3ZhciBlPW5ldyBpKHQpLG49XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcyYmQXJyYXkuaXNBcnJheSh0aGlzLmFubm90YXRpb25zKT90aGlzLmFubm90YXRpb25zOltdO24ucHVzaChlKTt2YXIgcz1mdW5jdGlvbih0KXt2YXIgbj15ZS5nZXRPd25NZXRhZGF0YShcImFubm90YXRpb25zXCIsdCl8fFtdO3JldHVybiBuLnB1c2goZSkseWUuZGVmaW5lTWV0YWRhdGEoXCJhbm5vdGF0aW9uc1wiLG4sdCksdH07cmV0dXJuIHMuYW5ub3RhdGlvbnM9bixzLkNsYXNzPXYsciYmcihzKSxzfXZvaWQgMD09PXImJihyPW51bGwpO3ZhciBvPV8oW2VdKTtyZXR1cm4gbiYmKGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKSxpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiQFwiK3R9LGkuYW5ub3RhdGlvbkNscz1pLGl9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyxuPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bci0wXT1hcmd1bWVudHNbcl07dC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7dmFyIGk9bltyXTtpZihBcnJheS5pc0FycmF5KHQpKWVbdFswXV09dm9pZCAwPT09aT90WzFdOmk7ZWxzZSBmb3IodmFyIG8gaW4gdCllW29dPWkmJmkuaGFzT3duUHJvcGVydHkobyk/aVtvXTp0W29dfSl9fWZ1bmN0aW9uIGIodCxlLG4pe2Z1bmN0aW9uIHIoKXtmdW5jdGlvbiB0KHQsZSxuKXtmb3IodmFyIHI9eWUuZ2V0T3duTWV0YWRhdGEoXCJwYXJhbWV0ZXJzXCIsdCl8fFtdO3IubGVuZ3RoPD1uOylyLnB1c2gobnVsbCk7cmV0dXJuIHJbbl09cltuXXx8W10scltuXS5wdXNoKG8pLHllLmRlZmluZU1ldGFkYXRhKFwicGFyYW1ldGVyc1wiLHIsdCksdH1mb3IodmFyIGU9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTBdPWFyZ3VtZW50c1tuXTtpZih0aGlzIGluc3RhbmNlb2YgcilyZXR1cm4gaS5hcHBseSh0aGlzLGUpLHRoaXM7dmFyIG89bmV3KChzPXIpLmJpbmQuYXBwbHkocyxbdm9pZCAwXS5jb25jYXQoZSkpKTtyZXR1cm4gdC5hbm5vdGF0aW9uPW8sdDt2YXIgc312YXIgaT1fKGUpO3JldHVybiBuJiYoci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkpLHIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJAXCIrdH0sci5hbm5vdGF0aW9uQ2xzPXIscn1mdW5jdGlvbiB3KHQsZSxuKXtmdW5jdGlvbiByKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZS0wXT1hcmd1bWVudHNbZV07aWYodGhpcyBpbnN0YW5jZW9mIHIpcmV0dXJuIGkuYXBwbHkodGhpcyx0KSx0aGlzO3ZhciBuPW5ldygobz1yKS5iaW5kLmFwcGx5KG8sW3ZvaWQgMF0uY29uY2F0KHQpKSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIHI9eWUuZ2V0T3duTWV0YWRhdGEoXCJwcm9wTWV0YWRhdGFcIix0LmNvbnN0cnVjdG9yKXx8e307cltlXT1yLmhhc093blByb3BlcnR5KGUpJiZyW2VdfHxbXSxyW2VdLnVuc2hpZnQobikseWUuZGVmaW5lTWV0YWRhdGEoXCJwcm9wTWV0YWRhdGFcIixyLHQuY29uc3RydWN0b3IpfTt2YXIgb312YXIgaT1fKGUpO3JldHVybiBuJiYoci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkpLHIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJAXCIrdH0sci5hbm5vdGF0aW9uQ2xzPXIscn1mdW5jdGlvbiBDKHQpe3JldHVybiBhKHQpfHx0PT09TWUuRGVmYXVsdH1mdW5jdGlvbiBFKHQpe3JldHVybiB0Ll9fZm9yd2FyZF9yZWZfXz1FLHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdSh0aGlzKCkpfSx0fWZ1bmN0aW9uIFModCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5oYXNPd25Qcm9wZXJ0eShcIl9fZm9yd2FyZF9yZWZfX1wiKSYmdC5fX2ZvcndhcmRfcmVmX189PT1FP3QoKTp0fWZ1bmN0aW9uIHgodCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoOysrbil7aWYoZS5pbmRleE9mKHRbbl0pPi0xKXJldHVybiBlLnB1c2godFtuXSksZTtlLnB1c2godFtuXSl9cmV0dXJuIGV9ZnVuY3Rpb24gUCh0KXtpZih0Lmxlbmd0aD4xKXt2YXIgZT14KHQuc2xpY2UoKS5yZXZlcnNlKCkpLG49ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHUodC50b2tlbil9KTtyZXR1cm5cIiAoXCIrbi5qb2luKFwiIC0+IFwiKStcIilcIn1yZXR1cm5cIlwifWZ1bmN0aW9uIE8odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdH1mdW5jdGlvbiBUKHQpe3JldHVybiB0P3QubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZSxuPWUuYW5ub3RhdGlvbkNscyxyPXQuYXJncz90LmFyZ3M6W107cmV0dXJuIG5ldyhuLmJpbmQuYXBwbHkobixbdm9pZCAwXS5jb25jYXQocikpKX0pOltdfWZ1bmN0aW9uIEEodCl7dmFyIGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxuPWU/ZS5jb25zdHJ1Y3RvcjpudWxsO3JldHVybiBufHxPYmplY3R9ZnVuY3Rpb24gTSh0KXt2YXIgZSxuO2lmKHQudXNlQ2xhc3Mpe3ZhciByPVModC51c2VDbGFzcyk7ZT1Ubi5mYWN0b3J5KHIpLG49aihyKX1lbHNlIHQudXNlRXhpc3Rpbmc/KGU9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LG49W0FuLmZyb21LZXkoX24uZ2V0KHQudXNlRXhpc3RpbmcpKV0pOnQudXNlRmFjdG9yeT8oZT10LnVzZUZhY3Rvcnksbj1EKHQudXNlRmFjdG9yeSx0LmRlcHMpKTooZT1mdW5jdGlvbigpe3JldHVybiB0LnVzZVZhbHVlfSxuPU1uKTtyZXR1cm4gbmV3IFJuKGUsbil9ZnVuY3Rpb24gayh0KXtyZXR1cm4gbmV3IGtuKF9uLmdldCh0LnByb3ZpZGUpLFtNKHQpXSx0Lm11bHRpKX1mdW5jdGlvbiBSKHQpe3ZhciBlPU4odCxbXSksbj1lLm1hcChrKSxyPUkobixuZXcgTWFwKTtyZXR1cm4gQXJyYXkuZnJvbShyLnZhbHVlcygpKX1mdW5jdGlvbiBJKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0saT1lLmdldChyLmtleS5pZCk7aWYoaSl7aWYoci5tdWx0aVByb3ZpZGVyIT09aS5tdWx0aVByb3ZpZGVyKXRocm93IG5ldyBnbihpLHIpO2lmKHIubXVsdGlQcm92aWRlcilmb3IodmFyIG89MDtvPHIucmVzb2x2ZWRGYWN0b3JpZXMubGVuZ3RoO28rKylpLnJlc29sdmVkRmFjdG9yaWVzLnB1c2goci5yZXNvbHZlZEZhY3Rvcmllc1tvXSk7ZWxzZSBlLnNldChyLmtleS5pZCxyKX1lbHNle3ZhciBzPXZvaWQgMDtzPXIubXVsdGlQcm92aWRlcj9uZXcga24oci5rZXksci5yZXNvbHZlZEZhY3Rvcmllcy5zbGljZSgpLHIubXVsdGlQcm92aWRlcik6cixlLnNldChyLmtleS5pZCxzKX19cmV0dXJuIGV9ZnVuY3Rpb24gTih0LGUpe3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIENuKWUucHVzaCh7cHJvdmlkZTp0LHVzZUNsYXNzOnR9KTtlbHNlIGlmKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ2b2lkIDAhPT10LnByb3ZpZGUpZS5wdXNoKHQpO2Vsc2V7aWYoISh0IGluc3RhbmNlb2YgQXJyYXkpKXRocm93IG5ldyB5bih0KTtOKHQsZSl9fSksZX1mdW5jdGlvbiBEKHQsZSl7aWYoZSl7dmFyIG49ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuW3RdfSk7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBWKHQsZSxuKX0pfXJldHVybiBqKHQpfWZ1bmN0aW9uIGoodCl7dmFyIGU9VG4ucGFyYW1ldGVycyh0KTtpZighZSlyZXR1cm5bXTtpZihlLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXR9KSl0aHJvdyBuZXcgbW4odCxlKTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIFYodCxuLGUpfSl9ZnVuY3Rpb24gVih0LGUsbil7dmFyIHI9bnVsbCxpPSExO2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiBlIGluc3RhbmNlb2YgbWU/TChlLnRva2VuLGksbnVsbCk6TChlLGksbnVsbCk7Zm9yKHZhciBvPW51bGwscz0wO3M8ZS5sZW5ndGg7KytzKXt2YXIgYT1lW3NdO2EgaW5zdGFuY2VvZiBDbj9yPWE6YSBpbnN0YW5jZW9mIG1lP3I9YS50b2tlbjphIGluc3RhbmNlb2YgdmU/aT0hMDooYSBpbnN0YW5jZW9mIF9lfHxhIGluc3RhbmNlb2YgYmUpJiYobz1hKX1pZihyPVMociksbnVsbCE9cilyZXR1cm4gTChyLGksbyk7dGhyb3cgbmV3IG1uKHQsbil9ZnVuY3Rpb24gTCh0LGUsbil7cmV0dXJuIG5ldyBBbihfbi5nZXQodCksZSxuKX1mdW5jdGlvbiBGKHQsZSl7Zm9yKHZhciBuPW5ldyBBcnJheSh0Ll9wcm92aWRlcnMubGVuZ3RoKSxyPTA7cjx0Ll9wcm92aWRlcnMubGVuZ3RoOysrciluW3JdPWUodC5nZXRQcm92aWRlckF0SW5kZXgocikpO3JldHVybiBufWZ1bmN0aW9uIFUodCl7cmV0dXJuISFsKHQpJiYoQXJyYXkuaXNBcnJheSh0KXx8ISh0IGluc3RhbmNlb2YgTWFwKSYmZigpaW4gdCl9ZnVuY3Rpb24gSCh0LGUsbil7Zm9yKHZhciByPXRbZigpXSgpLGk9ZVtmKCldKCk7Oyl7dmFyIG89ci5uZXh0KCkscz1pLm5leHQoKTtpZihvLmRvbmUmJnMuZG9uZSlyZXR1cm4hMDtpZihvLmRvbmV8fHMuZG9uZSlyZXR1cm4hMTtpZighbihvLnZhbHVlLHMudmFsdWUpKXJldHVybiExfX1mdW5jdGlvbiBCKHQsZSl7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyllKHRbbl0pO2Vsc2UgZm9yKHZhciByPXRbZigpXSgpLGk9dm9pZCAwOyEoaT1yLm5leHQoKSkuZG9uZTspZShpLnZhbHVlKX1mdW5jdGlvbiBxKHQpe3JldHVybiEhdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50aGVufWZ1bmN0aW9uIHoodCl7cmV0dXJuISghdHx8IXRbZS4kJG9ic2VydmFibGVdKX1mdW5jdGlvbiBXKCl7cmV0dXJuXCJcIitHKCkrRygpK0coKX1mdW5jdGlvbiBHKCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoOTcrTWF0aC5mbG9vcigyNSpNYXRoLnJhbmRvbSgpKSl9ZnVuY3Rpb24gWCgpe3Rocm93IG5ldyBFcnJvcihcIlJ1bnRpbWUgY29tcGlsZXIgaXMgbm90IGxvYWRlZFwiKX1mdW5jdGlvbiAkKHQsZSxuKXt2YXIgcj10LnByZXZpb3VzSW5kZXg7aWYobnVsbD09PXIpcmV0dXJuIHI7dmFyIGk9MDtyZXR1cm4gbiYmcjxuLmxlbmd0aCYmKGk9bltyXSkscitlK2l9ZnVuY3Rpb24gUSh0LGUpe3JldHVybiBVKHQpJiZVKGUpP0godCxlLFEpOiEoVSh0KXx8ZCh0KXx8VShlKXx8ZChlKSl8fGModCxlKX1mdW5jdGlvbiBZKHQsZSxuLHIsaSl7cmV0dXJuIG5ldyB4cihcIlwiK0ZyKyssdCxlLG4scixpKX1mdW5jdGlvbiBLKHQsZSl7ZS5wdXNoKHQpfWZ1bmN0aW9uIFoodCxlKXtmb3IodmFyIG49XCJcIixyPTA7cjwyKnQ7cis9MiluPW4rZVtyXSt0dChlW3IrMV0pO3JldHVybiBuK2VbMip0XX1mdW5jdGlvbiBKKHQsZSxuLHIsaSxvLHMsYSx1LGMsbCxwLGgsZixkLHksbSx2LGcsXyl7c3dpdGNoKHQpe2Nhc2UgMTpyZXR1cm4gZSt0dChuKStyO2Nhc2UgMjpyZXR1cm4gZSt0dChuKStyK3R0KGkpK287Y2FzZSAzOnJldHVybiBlK3R0KG4pK3IrdHQoaSkrbyt0dChzKSthO2Nhc2UgNDpyZXR1cm4gZSt0dChuKStyK3R0KGkpK28rdHQocykrYSt0dCh1KStjO2Nhc2UgNTpyZXR1cm4gZSt0dChuKStyK3R0KGkpK28rdHQocykrYSt0dCh1KStjK3R0KGwpK3A7Y2FzZSA2OnJldHVybiBlK3R0KG4pK3IrdHQoaSkrbyt0dChzKSthK3R0KHUpK2MrdHQobCkrcCt0dChoKStmO2Nhc2UgNzpyZXR1cm4gZSt0dChuKStyK3R0KGkpK28rdHQocykrYSt0dCh1KStjK3R0KGwpK3ArdHQoaCkrZit0dChkKSt5O2Nhc2UgODpyZXR1cm4gZSt0dChuKStyK3R0KGkpK28rdHQocykrYSt0dCh1KStjK3R0KGwpK3ArdHQoaCkrZit0dChkKSt5K3R0KG0pK3Y7Y2FzZSA5OnJldHVybiBlK3R0KG4pK3IrdHQoaSkrbyt0dChzKSthK3R0KHUpK2MrdHQobCkrcCt0dChoKStmK3R0KGQpK3krdHQobSkrdit0dChnKStfO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiRG9lcyBub3Qgc3VwcG9ydCBtb3JlIHRoYW4gOSBleHByZXNzaW9uc1wiKX19ZnVuY3Rpb24gdHQodCl7cmV0dXJuIG51bGwhPXQ/dC50b1N0cmluZygpOlwiXCJ9ZnVuY3Rpb24gZXQodCxlLG4pe2lmKHQpe2lmKCFRKGUsbikpdGhyb3cgbmV3IERyKGUsbik7cmV0dXJuITF9cmV0dXJuIWMoZSxuKX1mdW5jdGlvbiBudCh0LGUpe3JldHVybiB0fWZ1bmN0aW9uIHJ0KHQpe3ZhciBlLG49bXI7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBjKG4scil8fChuPXIsZT10KHIpKSxlfX1mdW5jdGlvbiBpdCh0KXt2YXIgZSxuPW1yLHI9bXI7cmV0dXJuIGZ1bmN0aW9uKGksbyl7cmV0dXJuIGMobixpKSYmYyhyLG8pfHwobj1pLHI9byxlPXQoaSxvKSksZX19ZnVuY3Rpb24gb3QodCl7dmFyIGUsbj1tcixyPW1yLGk9bXI7cmV0dXJuIGZ1bmN0aW9uKG8scyxhKXtyZXR1cm4gYyhuLG8pJiZjKHIscykmJmMoaSxhKXx8KG49byxyPXMsaT1hLGU9dChvLHMsYSkpLGV9fWZ1bmN0aW9uIHN0KHQpe3ZhciBlLG4scixpLG87cmV0dXJuIG49cj1pPW89bXIsZnVuY3Rpb24ocyxhLHUsbCl7cmV0dXJuIGMobixzKSYmYyhyLGEpJiZjKGksdSkmJmMobyxsKXx8KG49cyxyPWEsaT11LG89bCxlPXQocyxhLHUsbCkpLGV9fWZ1bmN0aW9uIGF0KHQpe3ZhciBlLG4scixpLG8scztyZXR1cm4gbj1yPWk9bz1zPW1yLGZ1bmN0aW9uKGEsdSxsLHAsaCl7cmV0dXJuIGMobixhKSYmYyhyLHUpJiZjKGksbCkmJmMobyxwKSYmYyhzLGgpfHwobj1hLHI9dSxpPWwsbz1wLHM9aCxlPXQoYSx1LGwscCxoKSksZX19ZnVuY3Rpb24gdXQodCl7dmFyIGUsbixyLGksbyxzLGE7cmV0dXJuIG49cj1pPW89cz1hPW1yLGZ1bmN0aW9uKHUsbCxwLGgsZixkKXtyZXR1cm4gYyhuLHUpJiZjKHIsbCkmJmMoaSxwKSYmYyhvLGgpJiZjKHMsZikmJmMoYSxkKXx8KG49dSxyPWwsaT1wLG89aCxzPWYsYT1kLGU9dCh1LGwscCxoLGYsZCkpLGV9fWZ1bmN0aW9uIGN0KHQpe3ZhciBlLG4scixpLG8scyxhLHU7cmV0dXJuIG49cj1pPW89cz1hPXU9bXIsZnVuY3Rpb24obCxwLGgsZixkLHksbSl7cmV0dXJuIGMobixsKSYmYyhyLHApJiZjKGksaCkmJmMobyxmKSYmYyhzLGQpJiZjKGEseSkmJmModSxtKXx8KG49bCxyPXAsaT1oLG89ZixzPWQsYT15LHU9bSxlPXQobCxwLGgsZixkLHksbSkpLGV9fWZ1bmN0aW9uIGx0KHQpe3ZhciBlLG4scixpLG8scyxhLHUsbDtyZXR1cm4gbj1yPWk9bz1zPWE9dT1sPW1yLGZ1bmN0aW9uKHAsaCxmLGQseSxtLHYsZyl7cmV0dXJuIGMobixwKSYmYyhyLGgpJiZjKGksZikmJmMobyxkKSYmYyhzLHkpJiZjKGEsbSkmJmModSx2KSYmYyhsLGcpfHwobj1wLHI9aCxpPWYsbz1kLHM9eSxhPW0sdT12LGw9ZyxlPXQocCxoLGYsZCx5LG0sdixnKSksZX19ZnVuY3Rpb24gcHQodCl7dmFyIGUsbixyLGksbyxzLGEsdSxsLHA7cmV0dXJuIG49cj1pPW89cz1hPXU9bD1wPW1yLGZ1bmN0aW9uKGgsZixkLHksbSx2LGcsXyxiKXtyZXR1cm4gYyhuLGgpJiZjKHIsZikmJmMoaSxkKSYmYyhvLHkpJiZjKHMsbSkmJmMoYSx2KSYmYyh1LGcpJiZjKGwsXykmJmMocCxiKXx8KG49aCxyPWYsaT1kLG89eSxzPW0sYT12LHU9ZyxsPV8scD1iLGU9dChoLGYsZCx5LG0sdixnLF8sYikpLGV9fWZ1bmN0aW9uIGh0KHQpe3ZhciBlLG4scixpLG8scyxhLHUsbCxwLGg7cmV0dXJuIG49cj1pPW89cz1hPXU9bD1wPWg9bXIsZnVuY3Rpb24oZixkLHksbSx2LGcsXyxiLHcsQyl7cmV0dXJuIGMobixmKSYmYyhyLGQpJiZjKGkseSkmJmMobyxtKSYmYyhzLHYpJiZjKGEsZykmJmModSxfKSYmYyhsLGIpJiZjKHAsdykmJmMoaCxDKXx8KG49ZixyPWQsaT15LG89bSxzPXYsYT1nLHU9XyxsPWIscD13LGg9QyxlPXQoZixkLHksbSx2LGcsXyxiLHcsQykpLGV9fWZ1bmN0aW9uIGZ0KHQsZSxuKXtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe2R0KHQsZSxyLG5bcl0uY3VycmVudFZhbHVlKX0pfWZ1bmN0aW9uIGR0KHQsZSxuLHIpe3RyeXt0LnNldEJpbmRpbmdEZWJ1Z0luZm8oZSxcIm5nLXJlZmxlY3QtXCIreXQobikscj9yLnRvU3RyaW5nKCk6bnVsbCl9Y2F0Y2gocil7dC5zZXRCaW5kaW5nRGVidWdJbmZvKGUsXCJuZy1yZWZsZWN0LVwiK3l0KG4pLFwiW0VSUk9SXSBFeGNlcHRpb24gd2hpbGUgdHJ5aW5nIHRvIHNlcmlhbGl6ZSB0aGUgdmFsdWVcIil9fWZ1bmN0aW9uIHl0KHQpe3JldHVybiB0LnJlcGxhY2UoQnIsZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlLTBdPWFyZ3VtZW50c1tlXTtyZXR1cm5cIi1cIit0WzFdLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBtdCh0LGUsbixyLGkpe2Zvcih2YXIgbz10LmNyZWF0ZUVsZW1lbnQoZSxuLGkpLHM9MDtzPHIubGVuZ3RoO3MrPTIpdC5zZXRFbGVtZW50QXR0cmlidXRlKG8sci5nZXQocyksci5nZXQocysxKSk7cmV0dXJuIG99ZnVuY3Rpb24gdnQodCxlLG4scixpKXt2YXIgbztpZihzKHIpKXtvPXQuc2VsZWN0Um9vdEVsZW1lbnQocixpKTtmb3IodmFyIGE9MDthPG4ubGVuZ3RoO2ErPTIpdC5zZXRFbGVtZW50QXR0cmlidXRlKG8sbi5nZXQoYSksbi5nZXQoYSsxKSk7dC5zZXRFbGVtZW50QXR0cmlidXRlKG8sXCJuZy12ZXJzaW9uXCIsZW4uZnVsbCl9ZWxzZSBvPW10KHQsbnVsbCxlLG4saSk7cmV0dXJuIG99ZnVuY3Rpb24gZ3QodCxlLG4scil7Zm9yKHZhciBpPXd0KG4ubGVuZ3RoLzIpLG89MDtvPG4ubGVuZ3RoO28rPTIpe3ZhciBzPW4uZ2V0KG8pLGE9bi5nZXQobysxKSx1PXZvaWQgMDt1PWE/dC5yZW5kZXJlci5saXN0ZW5HbG9iYWwoYSxzLHIuYmluZCh0LGErXCI6XCIrcykpOnQucmVuZGVyZXIubGlzdGVuKGUscyxyLmJpbmQodCxzKSksaS5zZXQoby8yLHUpfXJldHVybiBfdC5iaW5kKG51bGwsaSl9ZnVuY3Rpb24gX3QodCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspdC5nZXQoZSkoKX1mdW5jdGlvbiBidCgpe31mdW5jdGlvbiB3dCh0KXt2YXIgZTtyZXR1cm4gbmV3KGU9dDw9Mj96cjp0PD00P1dyOnQ8PTg/R3I6dDw9MTY/WHI6JHIpKHQpfWZ1bmN0aW9uIEN0KCl7dmFyIHQ9aGUud3RmO3JldHVybiEoIXR8fCEoTXI9dC50cmFjZSkpJiYoa3I9TXIuZXZlbnRzLCEwKX1mdW5jdGlvbiBFdCh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSxrci5jcmVhdGVTY29wZSh0LGUpfWZ1bmN0aW9uIFN0KHQsZSl7cmV0dXJuIE1yLmxlYXZlU2NvcGUodCxlKSxlfWZ1bmN0aW9uIHh0KHQsZSl7cmV0dXJuIE1yLmJlZ2luVGltZVJhbmdlKHQsZSl9ZnVuY3Rpb24gUHQodCl7TXIuZW5kVGltZVJhbmdlKHQpfWZ1bmN0aW9uIE90KHQsZSl7cmV0dXJuIG51bGx9ZnVuY3Rpb24gVHQodCl7ZGk9dH1mdW5jdGlvbiBBdCgpe2lmKHZpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlbmFibGUgcHJvZCBtb2RlIGFmdGVyIHBsYXRmb3JtIHNldHVwLlwiKTttaT0hMX1mdW5jdGlvbiBNdCgpe3JldHVybiB2aT0hMCxtaX1mdW5jdGlvbiBrdCh0KXtpZihSciYmIVJyLmRlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBjYW4gYmUgb25seSBvbmUgcGxhdGZvcm0uIERlc3Ryb3kgdGhlIHByZXZpb3VzIG9uZSB0byBjcmVhdGUgYSBuZXcgb25lLlwiKTtScj10LmdldChfaSk7dmFyIGU9dC5nZXQoem4sbnVsbCk7cmV0dXJuIGUmJmUuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdCgpfSksUnJ9ZnVuY3Rpb24gUnQodCxlLG4pe3ZvaWQgMD09PW4mJihuPVtdKTt2YXIgcj1uZXcgQ2UoXCJQbGF0Zm9ybTogXCIrZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksRHQoKXx8KHQ/dChuLmNvbmNhdChlKS5jb25jYXQoe3Byb3ZpZGU6cix1c2VWYWx1ZTohMH0pKTprdChObi5yZXNvbHZlQW5kQ3JlYXRlKG4uY29uY2F0KGUpLmNvbmNhdCh7cHJvdmlkZTpyLHVzZVZhbHVlOiEwfSkpKSksSXQocil9fWZ1bmN0aW9uIEl0KHQpe3ZhciBlPUR0KCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiTm8gcGxhdGZvcm0gZXhpc3RzIVwiKTtpZighZS5pbmplY3Rvci5nZXQodCxudWxsKSl0aHJvdyBuZXcgRXJyb3IoXCJBIHBsYXRmb3JtIHdpdGggYSBkaWZmZXJlbnQgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBjcmVhdGVkLiBQbGVhc2UgZGVzdHJveSBpdCBmaXJzdC5cIik7cmV0dXJuIGV9ZnVuY3Rpb24gTnQoKXtSciYmIVJyLmRlc3Ryb3llZCYmUnIuZGVzdHJveSgpfWZ1bmN0aW9uIER0KCl7cmV0dXJuIFJyJiYhUnIuZGVzdHJveWVkP1JyOm51bGx9ZnVuY3Rpb24ganQodCxlKXt0cnl7dmFyIG49ZSgpO3JldHVybiBxKG4pP24uY2F0Y2goZnVuY3Rpb24oZSl7dGhyb3cgdC5oYW5kbGVFcnJvcihlKSxlfSk6bn1jYXRjaChlKXt0aHJvdyB0LmhhbmRsZUVycm9yKGUpLGV9fWZ1bmN0aW9uIFZ0KHQsZSl7dmFyIG49QWkuZ2V0KHQpO2lmKG4pdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIG1vZHVsZSByZWdpc3RlcmVkIGZvciBcIit0K1wiIC0gXCIrbi5tb2R1bGVUeXBlLm5hbWUrXCIgdnMgXCIrZS5tb2R1bGVUeXBlLm5hbWUpO0FpLnNldCh0LGUpfWZ1bmN0aW9uIEx0KHQpe3ZhciBlPUFpLmdldCh0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBtb2R1bGUgd2l0aCBJRCBcIit0K1wiIGxvYWRlZFwiKTtyZXR1cm4gZX1mdW5jdGlvbiBGdCh0LGUsbil7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgJ1wiK24rXCInIGluICdcIitlK1wiJ1wiKTtyZXR1cm4gdH1mdW5jdGlvbiBVdCh0KXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQubmF0aXZlRWxlbWVudH0pfWZ1bmN0aW9uIEh0KHQsZSxuKXt0LmNoaWxkTm9kZXMuZm9yRWFjaChmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgJGkmJihlKHQpJiZuLnB1c2godCksSHQodCxlLG4pKX0pfWZ1bmN0aW9uIEJ0KHQsZSxuKXt0IGluc3RhbmNlb2YgJGkmJnQuY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UodCkmJm4ucHVzaCh0KSx0IGluc3RhbmNlb2YgJGkmJkJ0KHQsZSxuKX0pfWZ1bmN0aW9uIHF0KHQpe3JldHVybiBRaS5nZXQodCl9ZnVuY3Rpb24genQodCl7UWkuc2V0KHQubmF0aXZlTm9kZSx0KX1mdW5jdGlvbiBXdCh0KXtRaS5kZWxldGUodC5uYXRpdmVOb2RlKX1mdW5jdGlvbiBHdCgpe3JldHVybiBUbn1mdW5jdGlvbiBYdCgpe3JldHVybiBFcn1mdW5jdGlvbiAkdCgpe3JldHVybiBTcn1mdW5jdGlvbiBRdCh0KXtyZXR1cm4gdHx8XCJlbi1VU1wifWZ1bmN0aW9uIFl0KHQsZSl7dm9pZCAwPT09ZSYmKGU9bnVsbCk7dmFyIG49ZTtpZighcyhuKSl7dmFyIHI9e307bj1uZXcgYm8oW3JdLDEpfXJldHVybiBuZXcgd28odCxuKX1mdW5jdGlvbiBLdCh0KXtyZXR1cm4gbmV3IFNvKHQpfWZ1bmN0aW9uIFp0KHQpe3JldHVybiBuZXcgRW8odCl9ZnVuY3Rpb24gSnQodCl7dmFyIGUsbj1udWxsO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P2U9W3RdOihlPUFycmF5LmlzQXJyYXkodCk/dDpbdF0sZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQub2Zmc2V0O3MoZSkmJihuPW51bGw9PW4/cGFyc2VGbG9hdChlKTpuKX0pKSxuZXcgYm8oZSxuKX1mdW5jdGlvbiB0ZSh0LGUpe3JldHVybiBuZXcgbW8odCxlKX1mdW5jdGlvbiBlZSh0KXtyZXR1cm4gbmV3IF9vKHQpfWZ1bmN0aW9uIG5lKHQsZSl7dmFyIG49QXJyYXkuaXNBcnJheShlKT9uZXcgRW8oZSk6ZTtyZXR1cm4gbmV3IHZvKHQsbil9ZnVuY3Rpb24gcmUodCxlKXtyZXR1cm4gbmV3IGZvKHQsZSl9ZnVuY3Rpb24gaWUodCxlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciByPXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPWVbdF07clt0XT1pPT1obz9uOmkudG9TdHJpbmcoKX0pLE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24odCl7cyhyW3RdKXx8KHJbdF09bil9KSxyfWZ1bmN0aW9uIG9lKHQsZSxuKXt2YXIgcj1uLmxlbmd0aC0xLGk9blswXSxvPWNlKGkuc3R5bGVzLnN0eWxlcyksYT17fSx1PSExO09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49dFtlXTtvW2VdfHwob1tlXT1uLGFbZV09bix1PSEwKX0pO3ZhciBjPUxuLm1lcmdlKHt9LG8pLGw9bltyXTtsLnN0eWxlcy5zdHlsZXMudW5zaGlmdChlKTt2YXIgcD1jZShsLnN0eWxlcy5zdHlsZXMpLGg9e30sZj0hMTtyZXR1cm4gT2JqZWN0LmtleXMoYykuZm9yRWFjaChmdW5jdGlvbih0KXtzKHBbdF0pfHwoaFt0XT1obyxmPSEwKX0pLGYmJmwuc3R5bGVzLnN0eWxlcy5wdXNoKGgpLE9iamVjdC5rZXlzKHApLmZvckVhY2goZnVuY3Rpb24odCl7cyhvW3RdKXx8KGFbdF09aG8sdT0hMCl9KSx1JiZpLnN0eWxlcy5zdHlsZXMucHVzaChhKSxhZSh0LFtlXSksbn1mdW5jdGlvbiBzZSh0KXt2YXIgZT17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPW51bGx9KSxlfWZ1bmN0aW9uIGFlKHQsZSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3ZhciBuPXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBpPWVbcl07aT09bm8mJihpPXRbcl0scyhpKXx8KGk9aG8pKSx0W3JdPWksbltyXT1pfSksbn0pfWZ1bmN0aW9uIHVlKHQsZSxuKXtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe2Uuc2V0RWxlbWVudFN0eWxlKHQscixuW3JdKX0pfWZ1bmN0aW9uIGNlKHQpe3ZhciBlPXt9O3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7T2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihuKXtlW25dPXRbbl19KX0pLGV9ZnVuY3Rpb24gbGUodCxlKXt0IGluc3RhbmNlb2Ygc298fHQgaW5zdGFuY2VvZiBsbz90LnBsYXllcnMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbGUodCxlKX0pOmUucHVzaCh0KX12YXIgcGU7cGU9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9cInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZT9zZWxmOmdsb2JhbDp3aW5kb3c7dmFyIGhlPXBlO2hlLmFzc2VydD1mdW5jdGlvbih0KXt9O3ZhciBmZT1udWxsLGRlPTAseWU9aGUuUmVmbGVjdCxtZT1iKFwiSW5qZWN0XCIsW1tcInRva2VuXCIsdm9pZCAwXV0pLHZlPWIoXCJPcHRpb25hbFwiLFtdKSxnZT1nKFwiSW5qZWN0YWJsZVwiLFtdKSxfZT1iKFwiU2VsZlwiLFtdKSxiZT1iKFwiU2tpcFNlbGZcIixbXSksd2U9YihcIkhvc3RcIixbXSksQ2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2Rlc2M9dH1yZXR1cm4gdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlRva2VuIFwiK3RoaXMuX2Rlc2N9LHQuZGVjb3JhdG9ycz1be3R5cGU6Z2V9XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW251bGxdfSx0fSgpLEVlPW5ldyBDZShcIkFuYWx5emVGb3JFbnRyeUNvbXBvbmVudHNcIiksU2U9YihcIkF0dHJpYnV0ZVwiLFtbXCJhdHRyaWJ1dGVOYW1lXCIsdm9pZCAwXV0pLHhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKSxQZT13KFwiQ29udGVudENoaWxkcmVuXCIsW1tcInNlbGVjdG9yXCIsdm9pZCAwXSx7Zmlyc3Q6ITEsaXNWaWV3UXVlcnk6ITEsZGVzY2VuZGFudHM6ITEscmVhZDp2b2lkIDB9XSx4ZSksT2U9dyhcIkNvbnRlbnRDaGlsZFwiLFtbXCJzZWxlY3RvclwiLHZvaWQgMF0se2ZpcnN0OiEwLGlzVmlld1F1ZXJ5OiExLGRlc2NlbmRhbnRzOiEwLHJlYWQ6dm9pZCAwfV0seGUpLFRlPXcoXCJWaWV3Q2hpbGRyZW5cIixbW1wic2VsZWN0b3JcIix2b2lkIDBdLHtmaXJzdDohMSxpc1ZpZXdRdWVyeTohMCxkZXNjZW5kYW50czohMCxyZWFkOnZvaWQgMH1dLHhlKSxBZT13KFwiVmlld0NoaWxkXCIsW1tcInNlbGVjdG9yXCIsdm9pZCAwXSx7Zmlyc3Q6ITAsaXNWaWV3UXVlcnk6ITAsZGVzY2VuZGFudHM6ITAscmVhZDp2b2lkIDB9XSx4ZSksTWU9e307TWUuT25QdXNoPTAsTWUuRGVmYXVsdD0xLE1lW01lLk9uUHVzaF09XCJPblB1c2hcIixNZVtNZS5EZWZhdWx0XT1cIkRlZmF1bHRcIjt2YXIga2U9e307a2UuQ2hlY2tPbmNlPTAsa2UuQ2hlY2tlZD0xLGtlLkNoZWNrQWx3YXlzPTIsa2UuRGV0YWNoZWQ9MyxrZS5FcnJvcmVkPTQsa2UuRGVzdHJveWVkPTUsa2Vba2UuQ2hlY2tPbmNlXT1cIkNoZWNrT25jZVwiLGtlW2tlLkNoZWNrZWRdPVwiQ2hlY2tlZFwiLGtlW2tlLkNoZWNrQWx3YXlzXT1cIkNoZWNrQWx3YXlzXCIsa2Vba2UuRGV0YWNoZWRdPVwiRGV0YWNoZWRcIixrZVtrZS5FcnJvcmVkXT1cIkVycm9yZWRcIixrZVtrZS5EZXN0cm95ZWRdPVwiRGVzdHJveWVkXCI7dmFyIFJlPWcoXCJEaXJlY3RpdmVcIix7c2VsZWN0b3I6dm9pZCAwLGlucHV0czp2b2lkIDAsb3V0cHV0czp2b2lkIDAsaG9zdDp2b2lkIDAscHJvdmlkZXJzOnZvaWQgMCxleHBvcnRBczp2b2lkIDAscXVlcmllczp2b2lkIDB9KSxJZT1nKFwiQ29tcG9uZW50XCIse3NlbGVjdG9yOnZvaWQgMCxpbnB1dHM6dm9pZCAwLG91dHB1dHM6dm9pZCAwLGhvc3Q6dm9pZCAwLGV4cG9ydEFzOnZvaWQgMCxtb2R1bGVJZDp2b2lkIDAscHJvdmlkZXJzOnZvaWQgMCx2aWV3UHJvdmlkZXJzOnZvaWQgMCxjaGFuZ2VEZXRlY3Rpb246TWUuRGVmYXVsdCxxdWVyaWVzOnZvaWQgMCx0ZW1wbGF0ZVVybDp2b2lkIDAsdGVtcGxhdGU6dm9pZCAwLHN0eWxlVXJsczp2b2lkIDAsc3R5bGVzOnZvaWQgMCxhbmltYXRpb25zOnZvaWQgMCxlbmNhcHN1bGF0aW9uOnZvaWQgMCxpbnRlcnBvbGF0aW9uOnZvaWQgMCxlbnRyeUNvbXBvbmVudHM6dm9pZCAwfSxSZSksTmU9ZyhcIlBpcGVcIix7bmFtZTp2b2lkIDAscHVyZTohMH0pLERlPXcoXCJJbnB1dFwiLFtbXCJiaW5kaW5nUHJvcGVydHlOYW1lXCIsdm9pZCAwXV0pLGplPXcoXCJPdXRwdXRcIixbW1wiYmluZGluZ1Byb3BlcnR5TmFtZVwiLHZvaWQgMF1dKSxWZT13KFwiSG9zdEJpbmRpbmdcIixbW1wiaG9zdFByb3BlcnR5TmFtZVwiLHZvaWQgMF1dKSxMZT13KFwiSG9zdExpc3RlbmVyXCIsW1tcImV2ZW50TmFtZVwiLHZvaWQgMF0sW1wiYXJnc1wiLFtdXV0pLEZlPXt9O0ZlLk9uSW5pdD0wLEZlLk9uRGVzdHJveT0xLEZlLkRvQ2hlY2s9MixGZS5PbkNoYW5nZXM9MyxGZS5BZnRlckNvbnRlbnRJbml0PTQsRmUuQWZ0ZXJDb250ZW50Q2hlY2tlZD01LEZlLkFmdGVyVmlld0luaXQ9NixGZS5BZnRlclZpZXdDaGVja2VkPTcsRmVbRmUuT25Jbml0XT1cIk9uSW5pdFwiLEZlW0ZlLk9uRGVzdHJveV09XCJPbkRlc3Ryb3lcIixGZVtGZS5Eb0NoZWNrXT1cIkRvQ2hlY2tcIixGZVtGZS5PbkNoYW5nZXNdPVwiT25DaGFuZ2VzXCIsRmVbRmUuQWZ0ZXJDb250ZW50SW5pdF09XCJBZnRlckNvbnRlbnRJbml0XCIsRmVbRmUuQWZ0ZXJDb250ZW50Q2hlY2tlZF09XCJBZnRlckNvbnRlbnRDaGVja2VkXCIsRmVbRmUuQWZ0ZXJWaWV3SW5pdF09XCJBZnRlclZpZXdJbml0XCIsRmVbRmUuQWZ0ZXJWaWV3Q2hlY2tlZF09XCJBZnRlclZpZXdDaGVja2VkXCI7dmFyIFVlPVtGZS5PbkluaXQsRmUuT25EZXN0cm95LEZlLkRvQ2hlY2ssRmUuT25DaGFuZ2VzLEZlLkFmdGVyQ29udGVudEluaXQsRmUuQWZ0ZXJDb250ZW50Q2hlY2tlZCxGZS5BZnRlclZpZXdJbml0LEZlLkFmdGVyVmlld0NoZWNrZWRdLEhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUubmdPbkNoYW5nZXM9ZnVuY3Rpb24odCl7fSx0fSgpLEJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LHR9KCkscWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5uZ0RvQ2hlY2s9ZnVuY3Rpb24oKXt9LHR9KCksemU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe30sdH0oKSxXZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLm5nQWZ0ZXJDb250ZW50SW5pdD1mdW5jdGlvbigpe30sdH0oKSxHZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLm5nQWZ0ZXJDb250ZW50Q2hlY2tlZD1mdW5jdGlvbigpe30sdH0oKSxYZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdD1mdW5jdGlvbigpe30sdH0oKSwkZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLm5nQWZ0ZXJWaWV3Q2hlY2tlZD1mdW5jdGlvbigpe30sdH0oKSxRZT17bmFtZTpcImN1c3RvbS1lbGVtZW50c1wifSxZZT17bmFtZTpcIm5vLWVycm9ycy1zY2hlbWFcIn0sS2U9ZyhcIk5nTW9kdWxlXCIse3Byb3ZpZGVyczp2b2lkIDAsZGVjbGFyYXRpb25zOnZvaWQgMCxpbXBvcnRzOnZvaWQgMCxleHBvcnRzOnZvaWQgMCxlbnRyeUNvbXBvbmVudHM6dm9pZCAwLGJvb3RzdHJhcDp2b2lkIDAsc2NoZW1hczp2b2lkIDAsaWQ6dm9pZCAwfSksWmU9e307WmUuRW11bGF0ZWQ9MCxaZS5OYXRpdmU9MSxaZS5Ob25lPTIsWmVbWmUuRW11bGF0ZWRdPVwiRW11bGF0ZWRcIixaZVtaZS5OYXRpdmVdPVwiTmF0aXZlXCIsWmVbWmUuTm9uZV09XCJOb25lXCI7dmFyIEplPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT12b2lkIDA9PT10P3t9OnQsbj1lLnRlbXBsYXRlVXJsLHI9ZS50ZW1wbGF0ZSxpPWUuZW5jYXBzdWxhdGlvbixvPWUuc3R5bGVzLHM9ZS5zdHlsZVVybHMsYT1lLmFuaW1hdGlvbnMsdT1lLmludGVycG9sYXRpb247dGhpcy50ZW1wbGF0ZVVybD1uLHRoaXMudGVtcGxhdGU9cix0aGlzLnN0eWxlVXJscz1zLHRoaXMuc3R5bGVzPW8sdGhpcy5lbmNhcHN1bGF0aW9uPWksdGhpcy5hbmltYXRpb25zPWEsdGhpcy5pbnRlcnBvbGF0aW9uPXV9cmV0dXJuIHR9KCksdG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZnVsbD10fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJtYWpvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mdWxsLnNwbGl0KFwiLlwiKVswXX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJtaW5vclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mdWxsLnNwbGl0KFwiLlwiKVsxXX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJwYXRjaFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mdWxsLnNwbGl0KFwiLlwiKS5zbGljZSgyKS5qb2luKFwiLlwiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0fSgpLGVuPW5ldyB0bihcIjIuNC44XCIpLG5uPW5ldyBPYmplY3Qscm49bm4sb249ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT1ubiksZT09PW5uKXRocm93IG5ldyBFcnJvcihcIk5vIHByb3ZpZGVyIGZvciBcIit1KHQpK1wiIVwiKTtyZXR1cm4gZX0sdH0oKSxzbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe30sdC5USFJPV19JRl9OT1RfRk9VTkQ9bm4sdC5OVUxMPW5ldyBvbix0fSgpLGFuPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSx1bj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUpO3ZhciBuPW5ldyBFcnJvcihlKTt0aGlzLl9uYXRpdmVFcnJvcj1ufXJldHVybiBhbihlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm1lc3NhZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25hdGl2ZUVycm9yLm1lc3NhZ2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9uYXRpdmVFcnJvci5tZXNzYWdlPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmF0aXZlRXJyb3IubmFtZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzdGFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmF0aXZlRXJyb3Iuc3RhY2t9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9uYXRpdmVFcnJvci5zdGFjaz10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25hdGl2ZUVycm9yLnRvU3RyaW5nKCl9LGV9KEVycm9yKSxjbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMsZStcIiBjYXVzZWQgYnk6IFwiKyhuIGluc3RhbmNlb2YgRXJyb3I/bi5tZXNzYWdlOm4pKSx0aGlzLm9yaWdpbmFsRXJyb3I9bn1yZXR1cm4gYW4oZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzdGFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5vcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgRXJyb3I/dGhpcy5vcmlnaW5hbEVycm9yOnRoaXMuX25hdGl2ZUVycm9yKS5zdGFja30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlfSh1biksbG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LHBuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzLFwiREkgRXJyb3JcIiksdGhpcy5rZXlzPVtuXSx0aGlzLmluamVjdG9ycz1bZV0sdGhpcy5jb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlPXIsdGhpcy5tZXNzYWdlPXRoaXMuY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZSh0aGlzLmtleXMpfXJldHVybiBsbihlLHQpLGUucHJvdG90eXBlLmFkZEtleT1mdW5jdGlvbih0LGUpe3RoaXMuaW5qZWN0b3JzLnB1c2godCksdGhpcy5rZXlzLnB1c2goZSksdGhpcy5tZXNzYWdlPXRoaXMuY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZSh0aGlzLmtleXMpfSxlfSh1biksaG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3QuY2FsbCh0aGlzLGUsbixmdW5jdGlvbih0KXt2YXIgZT11KHRbMF0udG9rZW4pO3JldHVyblwiTm8gcHJvdmlkZXIgZm9yIFwiK2UrXCIhXCIrUCh0KX0pfXJldHVybiBsbihlLHQpLGV9KHBuKSxmbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMsZSxuLGZ1bmN0aW9uKHQpe3JldHVyblwiQ2Fubm90IGluc3RhbnRpYXRlIGN5Y2xpYyBkZXBlbmRlbmN5IVwiK1AodCl9KX1yZXR1cm4gbG4oZSx0KSxlfShwbiksZG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpKXt0LmNhbGwodGhpcyxcIkRJIEVycm9yXCIsbiksdGhpcy5rZXlzPVtpXSx0aGlzLmluamVjdG9ycz1bZV19cmV0dXJuIGxuKGUsdCksZS5wcm90b3R5cGUuYWRkS2V5PWZ1bmN0aW9uKHQsZSl7dGhpcy5pbmplY3RvcnMucHVzaCh0KSx0aGlzLmtleXMucHVzaChlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibWVzc2FnZVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD11KHRoaXMua2V5c1swXS50b2tlbik7cmV0dXJuIHRoaXMub3JpZ2luYWxFcnJvci5tZXNzYWdlK1wiOiBFcnJvciBkdXJpbmcgaW5zdGFudGlhdGlvbiBvZiBcIit0K1wiIVwiK1AodGhpcy5rZXlzKStcIi5cIn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjYXVzZUtleVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlzWzBdfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGV9KGNuKSx5bj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLFwiSW52YWxpZCBwcm92aWRlciAtIG9ubHkgaW5zdGFuY2VzIG9mIFByb3ZpZGVyIGFuZCBUeXBlIGFyZSBhbGxvd2VkLCBnb3Q6IFwiK2UpfXJldHVybiBsbihlLHQpLGV9KHVuKSxtbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKG4scil7dC5jYWxsKHRoaXMsZS5fZ2VuTWVzc2FnZShuLHIpKX1yZXR1cm4gbG4oZSx0KSxlLl9nZW5NZXNzYWdlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe3ZhciBvPWVbcl07byYmMCE9by5sZW5ndGg/bi5wdXNoKG8ubWFwKHUpLmpvaW4oXCIgXCIpKTpuLnB1c2goXCI/XCIpfXJldHVyblwiQ2Fubm90IHJlc29sdmUgYWxsIHBhcmFtZXRlcnMgZm9yICdcIit1KHQpK1wiJyhcIituLmpvaW4oXCIsIFwiKStcIikuIE1ha2Ugc3VyZSB0aGF0IGFsbCB0aGUgcGFyYW1ldGVycyBhcmUgZGVjb3JhdGVkIHdpdGggSW5qZWN0IG9yIGhhdmUgdmFsaWQgdHlwZSBhbm5vdGF0aW9ucyBhbmQgdGhhdCAnXCIrdSh0KStcIicgaXMgZGVjb3JhdGVkIHdpdGggSW5qZWN0YWJsZS5cIn0sZX0odW4pLHZuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsXCJJbmRleCBcIitlK1wiIGlzIG91dC1vZi1ib3VuZHMuXCIpfXJldHVybiBsbihlLHQpLGV9KHVuKSxnbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMsXCJDYW5ub3QgbWl4IG11bHRpIHByb3ZpZGVycyBhbmQgcmVndWxhciBwcm92aWRlcnMsIGdvdDogXCIrZS50b1N0cmluZygpK1wiIFwiK24udG9TdHJpbmcoKSl9cmV0dXJuIGxuKGUsdCksZX0odW4pLF9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2lmKHRoaXMudG9rZW49dCx0aGlzLmlkPWUsIXQpdGhyb3cgbmV3IEVycm9yKFwiVG9rZW4gbXVzdCBiZSBkZWZpbmVkIVwiKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZGlzcGxheU5hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUodGhpcy50b2tlbil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHduLmdldChTKHQpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJudW1iZXJPZktleXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHduLm51bWJlck9mS2V5c30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0fSgpLGJuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2FsbEtleXM9bmV3IE1hcH1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBfbilyZXR1cm4gdDtpZih0aGlzLl9hbGxLZXlzLmhhcyh0KSlyZXR1cm4gdGhpcy5fYWxsS2V5cy5nZXQodCk7dmFyIGU9bmV3IF9uKHQsX24ubnVtYmVyT2ZLZXlzKTtyZXR1cm4gdGhpcy5fYWxsS2V5cy5zZXQodCxlKSxlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJudW1iZXJPZktleXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FsbEtleXMuc2l6ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0fSgpLHduPW5ldyBibixDbj1GdW5jdGlvbixFbj0vXmZ1bmN0aW9uXFxzK1xcUytcXChcXClcXHMqe1xccyooXCJ1c2Ugc3RyaWN0XCI7KT9cXHMqKHJldHVyblxccyspP1xcUytcXC5hcHBseVxcKHRoaXMsXFxzKmFyZ3VtZW50c1xcKS8sU249ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JlZmxlY3Q9dHx8aGUuUmVmbGVjdH1yZXR1cm4gdC5wcm90b3R5cGUuaXNSZWZsZWN0aW9uRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZS5mYWN0b3J5PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMF09YXJndW1lbnRzW25dO3JldHVybiBuZXcodC5iaW5kLmFwcGx5KHQsW3ZvaWQgMF0uY29uY2F0KGUpKSl9fSx0LnByb3RvdHlwZS5femlwVHlwZXNBbmRBbm5vdGF0aW9ucz1mdW5jdGlvbih0LGUpe3ZhciBuO249XCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/bmV3IEFycmF5KGUubGVuZ3RoKTpuZXcgQXJyYXkodC5sZW5ndGgpO2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKVwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P25bcl09W106dFtyXSE9T2JqZWN0P25bcl09W3Rbcl1dOm5bcl09W10sZSYmcyhlW3JdKSYmKG5bcl09bltyXS5jb25jYXQoZVtyXSkpO3JldHVybiBufSx0LnByb3RvdHlwZS5fb3duUGFyYW1ldGVycz1mdW5jdGlvbih0LGUpe2lmKEVuLmV4ZWModC50b1N0cmluZygpKSlyZXR1cm4gbnVsbDtpZih0LnBhcmFtZXRlcnMmJnQucGFyYW1ldGVycyE9PWUucGFyYW1ldGVycylyZXR1cm4gdC5wYXJhbWV0ZXJzO3ZhciBuPXQuY3RvclBhcmFtZXRlcnM7aWYobiYmbiE9PWUuY3RvclBhcmFtZXRlcnMpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bigpOm4saT1yLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC50eXBlfSksbz1yLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdCYmVCh0LmRlY29yYXRvcnMpfSk7cmV0dXJuIHRoaXMuX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMoaSxvKX1pZihzKHRoaXMuX3JlZmxlY3QpJiZzKHRoaXMuX3JlZmxlY3QuZ2V0T3duTWV0YWRhdGEpKXt2YXIgbz10aGlzLl9yZWZsZWN0LmdldE93bk1ldGFkYXRhKFwicGFyYW1ldGVyc1wiLHQpLGk9dGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsdCk7aWYoaXx8bylyZXR1cm4gdGhpcy5femlwVHlwZXNBbmRBbm5vdGF0aW9ucyhpLG8pfXJldHVybiBuZXcgQXJyYXkodC5sZW5ndGgpLmZpbGwodm9pZCAwKX0sdC5wcm90b3R5cGUucGFyYW1ldGVycz1mdW5jdGlvbih0KXtpZighTyh0KSlyZXR1cm5bXTt2YXIgZT1BKHQpLG49dGhpcy5fb3duUGFyYW1ldGVycyh0LGUpO3JldHVybiBufHxlPT09T2JqZWN0fHwobj10aGlzLnBhcmFtZXRlcnMoZSkpLG58fFtdfSx0LnByb3RvdHlwZS5fb3duQW5ub3RhdGlvbnM9ZnVuY3Rpb24odCxlKXtpZih0LmFubm90YXRpb25zJiZ0LmFubm90YXRpb25zIT09ZS5hbm5vdGF0aW9ucyl7dmFyIG49dC5hbm5vdGF0aW9ucztyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuLmFubm90YXRpb25zJiYobj1uLmFubm90YXRpb25zKSxufXJldHVybiB0LmRlY29yYXRvcnMmJnQuZGVjb3JhdG9ycyE9PWUuZGVjb3JhdG9ycz9UKHQuZGVjb3JhdG9ycyk6dGhpcy5fcmVmbGVjdCYmdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YT90aGlzLl9yZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiYW5ub3RhdGlvbnNcIix0KTp2b2lkIDB9LHQucHJvdG90eXBlLmFubm90YXRpb25zPWZ1bmN0aW9uKHQpe2lmKCFPKHQpKXJldHVybltdO3ZhciBlPUEodCksbj10aGlzLl9vd25Bbm5vdGF0aW9ucyh0LGUpfHxbXSxyPWUhPT1PYmplY3Q/dGhpcy5hbm5vdGF0aW9ucyhlKTpbXTtyZXR1cm4gci5jb25jYXQobil9LHQucHJvdG90eXBlLl9vd25Qcm9wTWV0YWRhdGE9ZnVuY3Rpb24odCxlKXtpZih0LnByb3BNZXRhZGF0YSYmdC5wcm9wTWV0YWRhdGEhPT1lLnByb3BNZXRhZGF0YSl7dmFyIG49dC5wcm9wTWV0YWRhdGE7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbi5wcm9wTWV0YWRhdGEmJihuPW4ucHJvcE1ldGFkYXRhKSxufWlmKHQucHJvcERlY29yYXRvcnMmJnQucHJvcERlY29yYXRvcnMhPT1lLnByb3BEZWNvcmF0b3JzKXt2YXIgcj10LnByb3BEZWNvcmF0b3JzLGk9e307cmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24odCl7aVt0XT1UKHJbdF0pfSksaX1pZih0aGlzLl9yZWZsZWN0JiZ0aGlzLl9yZWZsZWN0LmdldE93bk1ldGFkYXRhKXJldHVybiB0aGlzLl9yZWZsZWN0LmdldE93bk1ldGFkYXRhKFwicHJvcE1ldGFkYXRhXCIsdCl9LHQucHJvdG90eXBlLnByb3BNZXRhZGF0YT1mdW5jdGlvbih0KXtpZighTyh0KSlyZXR1cm57fTt2YXIgZT1BKHQpLG49e307aWYoZSE9PU9iamVjdCl7dmFyIHI9dGhpcy5wcm9wTWV0YWRhdGEoZSk7T2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbih0KXtuW3RdPXJbdF19KX12YXIgaT10aGlzLl9vd25Qcm9wTWV0YWRhdGEodCxlKTtyZXR1cm4gaSYmT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1bXTtuLmhhc093blByb3BlcnR5KHQpJiZlLnB1c2guYXBwbHkoZSxuW3RdKSxlLnB1c2guYXBwbHkoZSxpW3RdKSxuW3RdPWV9KSxufSx0LnByb3RvdHlwZS5oYXNMaWZlY3ljbGVIb29rPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBDbiYmZSBpbiB0LnByb3RvdHlwZX0sdC5wcm90b3R5cGUuZ2V0dGVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRnVuY3Rpb24oXCJvXCIsXCJyZXR1cm4gby5cIit0K1wiO1wiKX0sdC5wcm90b3R5cGUuc2V0dGVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRnVuY3Rpb24oXCJvXCIsXCJ2XCIsXCJyZXR1cm4gby5cIit0K1wiID0gdjtcIil9LHQucHJvdG90eXBlLm1ldGhvZD1mdW5jdGlvbih0KXt2YXIgZT1cImlmICghby5cIit0K1wiKSB0aHJvdyBuZXcgRXJyb3IoJ1xcXCJcIit0K1wiXFxcIiBpcyB1bmRlZmluZWQnKTtcXG4gICAgICAgIHJldHVybiBvLlwiK3QrXCIuYXBwbHkobywgYXJncyk7XCI7cmV0dXJuIG5ldyBGdW5jdGlvbihcIm9cIixcImFyZ3NcIixlKX0sdC5wcm90b3R5cGUuaW1wb3J0VXJpPWZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0LmZpbGVQYXRoP3QuZmlsZVBhdGg6XCIuL1wiK3UodCl9LHQucHJvdG90eXBlLnJlc29sdmVJZGVudGlmaWVyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbn0sdC5wcm90b3R5cGUucmVzb2x2ZUVudW09ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlXX0sdH0oKSx4bj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnBhcmFtZXRlcnM9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5hbm5vdGF0aW9ucz1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnByb3BNZXRhZGF0YT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmltcG9ydFVyaT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLnJlc29sdmVJZGVudGlmaWVyPWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLnJlc29sdmVFbnVtPWZ1bmN0aW9uKHQsZSl7fSx0fSgpLFBuPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxPbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzKSx0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXM9ZX1yZXR1cm4gUG4oZSx0KSxlLnByb3RvdHlwZS51cGRhdGVDYXBhYmlsaXRpZXM9ZnVuY3Rpb24odCl7dGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzPXR9LGUucHJvdG90eXBlLmZhY3Rvcnk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5mYWN0b3J5KHQpfSxlLnByb3RvdHlwZS5wYXJhbWV0ZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucGFyYW1ldGVycyh0KX0sZS5wcm90b3R5cGUuYW5ub3RhdGlvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5hbm5vdGF0aW9ucyh0KX0sZS5wcm90b3R5cGUucHJvcE1ldGFkYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvcE1ldGFkYXRhKHQpfSxlLnByb3RvdHlwZS5oYXNMaWZlY3ljbGVIb29rPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5oYXNMaWZlY3ljbGVIb29rKHQsZSl9LGUucHJvdG90eXBlLmdldHRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmdldHRlcih0KX0sZS5wcm90b3R5cGUuc2V0dGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuc2V0dGVyKHQpfSxlLnByb3RvdHlwZS5tZXRob2Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5tZXRob2QodCl9LGUucHJvdG90eXBlLmltcG9ydFVyaT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmltcG9ydFVyaSh0KX0sZS5wcm90b3R5cGUucmVzb2x2ZUlkZW50aWZpZXI9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucmVzb2x2ZUlkZW50aWZpZXIodCxlLG4pfSxlLnByb3RvdHlwZS5yZXNvbHZlRW51bT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucmVzb2x2ZUVudW0odCxlKX0sZX0oeG4pLFRuPW5ldyBPbihuZXcgU24pLEFuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5rZXk9dCx0aGlzLm9wdGlvbmFsPWUsdGhpcy52aXNpYmlsaXR5PW59cmV0dXJuIHQuZnJvbUtleT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoZSwhMSxudWxsKX0sdH0oKSxNbj1bXSxrbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMua2V5PXQsdGhpcy5yZXNvbHZlZEZhY3Rvcmllcz1lLHRoaXMubXVsdGlQcm92aWRlcj1ufXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyZXNvbHZlZEZhY3RvcnlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzb2x2ZWRGYWN0b3JpZXNbMF19LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdH0oKSxSbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmZhY3Rvcnk9dCx0aGlzLmRlcGVuZGVuY2llcz1lfXJldHVybiB0fSgpLEluPW5ldyBPYmplY3QsTm49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIFIodCl9LHQucmVzb2x2ZUFuZENyZWF0ZT1mdW5jdGlvbihlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciByPXQucmVzb2x2ZShlKTtyZXR1cm4gdC5mcm9tUmVzb2x2ZWRQcm92aWRlcnMocixuKX0sdC5mcm9tUmVzb2x2ZWRQcm92aWRlcnM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksbmV3IERuKHQsZSl9LHQucHJvdG90eXBlLnBhcmVudD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucmVzb2x2ZUFuZENyZWF0ZUNoaWxkPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuY3JlYXRlQ2hpbGRGcm9tUmVzb2x2ZWQ9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5yZXNvbHZlQW5kSW5zdGFudGlhdGU9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5pbnN0YW50aWF0ZVJlc29sdmVkPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7fSx0fSgpLERuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPW51bGwpLHRoaXMuX2NvbnN0cnVjdGlvbkNvdW50ZXI9MCx0aGlzLl9wcm92aWRlcnM9dCx0aGlzLl9wYXJlbnQ9ZTt2YXIgbj10Lmxlbmd0aDt0aGlzLmtleUlkcz1uZXcgQXJyYXkobiksdGhpcy5vYmpzPW5ldyBBcnJheShuKTtmb3IodmFyIHI9MDtyPG47cisrKXRoaXMua2V5SWRzW3JdPXRbcl0ua2V5LmlkLHRoaXMub2Jqc1tyXT1Jbn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXJuKSx0aGlzLl9nZXRCeUtleShfbi5nZXQodCksbnVsbCxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGFyZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJlbnR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucmVzb2x2ZUFuZENyZWF0ZUNoaWxkPWZ1bmN0aW9uKHQpe3ZhciBlPU5uLnJlc29sdmUodCk7cmV0dXJuIHRoaXMuY3JlYXRlQ2hpbGRGcm9tUmVzb2x2ZWQoZSk7XG59LHQucHJvdG90eXBlLmNyZWF0ZUNoaWxkRnJvbVJlc29sdmVkPWZ1bmN0aW9uKGUpe3ZhciBuPW5ldyB0KGUpO3JldHVybiBuLl9wYXJlbnQ9dGhpcyxufSx0LnByb3RvdHlwZS5yZXNvbHZlQW5kSW5zdGFudGlhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW5zdGFudGlhdGVSZXNvbHZlZChObi5yZXNvbHZlKFt0XSlbMF0pfSx0LnByb3RvdHlwZS5pbnN0YW50aWF0ZVJlc29sdmVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnN0YW50aWF0ZVByb3ZpZGVyKHQpfSx0LnByb3RvdHlwZS5nZXRQcm92aWRlckF0SW5kZXg9ZnVuY3Rpb24odCl7aWYodDwwfHx0Pj10aGlzLl9wcm92aWRlcnMubGVuZ3RoKXRocm93IG5ldyB2bih0KTtyZXR1cm4gdGhpcy5fcHJvdmlkZXJzW3RdfSx0LnByb3RvdHlwZS5fbmV3PWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2NvbnN0cnVjdGlvbkNvdW50ZXIrKz50aGlzLl9nZXRNYXhOdW1iZXJPZk9iamVjdHMoKSl0aHJvdyBuZXcgZm4odGhpcyx0LmtleSk7cmV0dXJuIHRoaXMuX2luc3RhbnRpYXRlUHJvdmlkZXIodCl9LHQucHJvdG90eXBlLl9nZXRNYXhOdW1iZXJPZk9iamVjdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYmpzLmxlbmd0aH0sdC5wcm90b3R5cGUuX2luc3RhbnRpYXRlUHJvdmlkZXI9ZnVuY3Rpb24odCl7aWYodC5tdWx0aVByb3ZpZGVyKXtmb3IodmFyIGU9bmV3IEFycmF5KHQucmVzb2x2ZWRGYWN0b3JpZXMubGVuZ3RoKSxuPTA7bjx0LnJlc29sdmVkRmFjdG9yaWVzLmxlbmd0aDsrK24pZVtuXT10aGlzLl9pbnN0YW50aWF0ZSh0LHQucmVzb2x2ZWRGYWN0b3JpZXNbbl0pO3JldHVybiBlfXJldHVybiB0aGlzLl9pbnN0YW50aWF0ZSh0LHQucmVzb2x2ZWRGYWN0b3JpZXNbMF0pfSx0LnByb3RvdHlwZS5faW5zdGFudGlhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyPXRoaXMsaT1lLmZhY3Rvcnk7dHJ5e249ZS5kZXBlbmRlbmNpZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiByLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KHQpfSl9Y2F0Y2goZSl7dGhyb3coZSBpbnN0YW5jZW9mIHBufHxlIGluc3RhbmNlb2YgZG4pJiZlLmFkZEtleSh0aGlzLHQua2V5KSxlfXZhciBvO3RyeXtvPWkuYXBwbHkodm9pZCAwLG4pfWNhdGNoKGUpe3Rocm93IG5ldyBkbih0aGlzLGUsZS5zdGFjayx0LmtleSl9cmV0dXJuIG99LHQucHJvdG90eXBlLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nZXRCeUtleSh0LmtleSx0LnZpc2liaWxpdHksdC5vcHRpb25hbD9udWxsOnJuKX0sdC5wcm90b3R5cGUuX2dldEJ5S2V5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD09PWpuP3RoaXM6ZSBpbnN0YW5jZW9mIF9lP3RoaXMuX2dldEJ5S2V5U2VsZih0LG4pOnRoaXMuX2dldEJ5S2V5RGVmYXVsdCh0LG4sZSl9LHQucHJvdG90eXBlLl9nZXRPYmpCeUtleUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5rZXlJZHMubGVuZ3RoO2UrKylpZih0aGlzLmtleUlkc1tlXT09PXQpcmV0dXJuIHRoaXMub2Jqc1tlXT09PUluJiYodGhpcy5vYmpzW2VdPXRoaXMuX25ldyh0aGlzLl9wcm92aWRlcnNbZV0pKSx0aGlzLm9ianNbZV07cmV0dXJuIElufSx0LnByb3RvdHlwZS5fdGhyb3dPck51bGw9ZnVuY3Rpb24odCxlKXtpZihlIT09cm4pcmV0dXJuIGU7dGhyb3cgbmV3IGhuKHRoaXMsdCl9LHQucHJvdG90eXBlLl9nZXRCeUtleVNlbGY9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9nZXRPYmpCeUtleUlkKHQuaWQpO3JldHVybiBuIT09SW4/bjp0aGlzLl90aHJvd09yTnVsbCh0LGUpfSx0LnByb3RvdHlwZS5fZ2V0QnlLZXlEZWZhdWx0PWZ1bmN0aW9uKGUsbixyKXt2YXIgaTtmb3IoaT1yIGluc3RhbmNlb2YgYmU/dGhpcy5fcGFyZW50OnRoaXM7aSBpbnN0YW5jZW9mIHQ7KXt2YXIgbz1pLHM9by5fZ2V0T2JqQnlLZXlJZChlLmlkKTtpZihzIT09SW4pcmV0dXJuIHM7aT1vLl9wYXJlbnR9cmV0dXJuIG51bGwhPT1pP2kuZ2V0KGUudG9rZW4sbik6dGhpcy5fdGhyb3dPck51bGwoZSxuKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZGlzcGxheU5hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9Rih0aGlzLGZ1bmN0aW9uKHQpe3JldHVybicgXCInK3Qua2V5LmRpc3BsYXlOYW1lKydcIiAnfSkuam9pbihcIiwgXCIpO3JldHVyblwiUmVmbGVjdGl2ZUluamVjdG9yKHByb3ZpZGVyczogW1wiK3QrXCJdKVwifSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheU5hbWV9LHR9KCksam49X24uZ2V0KHNuKSxWbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dm9pZCAwPT09dCYmKHQ9ITApLHRoaXMuX2NvbnNvbGU9Y29uc29sZSx0aGlzLnJldGhyb3dFcnJvcj10fXJldHVybiB0LnByb3RvdHlwZS5oYW5kbGVFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9maW5kT3JpZ2luYWxFcnJvcih0KSxuPXRoaXMuX2ZpbmRPcmlnaW5hbFN0YWNrKHQpLHI9dGhpcy5fZmluZENvbnRleHQodCk7aWYodGhpcy5fY29uc29sZS5lcnJvcihcIkVYQ0VQVElPTjogXCIrdGhpcy5fZXh0cmFjdE1lc3NhZ2UodCkpLGUmJnRoaXMuX2NvbnNvbGUuZXJyb3IoXCJPUklHSU5BTCBFWENFUFRJT046IFwiK3RoaXMuX2V4dHJhY3RNZXNzYWdlKGUpKSxuJiYodGhpcy5fY29uc29sZS5lcnJvcihcIk9SSUdJTkFMIFNUQUNLVFJBQ0U6XCIpLHRoaXMuX2NvbnNvbGUuZXJyb3IobikpLHImJih0aGlzLl9jb25zb2xlLmVycm9yKFwiRVJST1IgQ09OVEVYVDpcIiksdGhpcy5fY29uc29sZS5lcnJvcihyKSksdGhpcy5yZXRocm93RXJyb3IpdGhyb3cgdH0sdC5wcm90b3R5cGUuX2V4dHJhY3RNZXNzYWdlPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRXJyb3I/dC5tZXNzYWdlOnQudG9TdHJpbmcoKX0sdC5wcm90b3R5cGUuX2ZpbmRDb250ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0P3QuY29udGV4dD90LmNvbnRleHQ6dGhpcy5fZmluZENvbnRleHQodC5vcmlnaW5hbEVycm9yKTpudWxsfSx0LnByb3RvdHlwZS5fZmluZE9yaWdpbmFsRXJyb3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQub3JpZ2luYWxFcnJvcjtlJiZlLm9yaWdpbmFsRXJyb3I7KWU9ZS5vcmlnaW5hbEVycm9yO3JldHVybiBlfSx0LnByb3RvdHlwZS5fZmluZE9yaWdpbmFsU3RhY2s9ZnVuY3Rpb24odCl7aWYoISh0IGluc3RhbmNlb2YgRXJyb3IpKXJldHVybiBudWxsO2Zvcih2YXIgZT10LG49ZS5zdGFjaztlIGluc3RhbmNlb2YgRXJyb3ImJmUub3JpZ2luYWxFcnJvcjspZT1lLm9yaWdpbmFsRXJyb3IsZSBpbnN0YW5jZW9mIEVycm9yJiZlLnN0YWNrJiYobj1lLnN0YWNrKTtyZXR1cm4gbn0sdH0oKSxMbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQubWVyZ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49e30scj0wLGk9T2JqZWN0LmtleXModCk7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07bltvXT10W29dfWZvcih2YXIgcz0wLGE9T2JqZWN0LmtleXMoZSk7czxhLmxlbmd0aDtzKyspe3ZhciBvPWFbc107bltvXT1lW29dfXJldHVybiBufSx0LmVxdWFscz1mdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpLHI9T2JqZWN0LmtleXMoZSk7aWYobi5sZW5ndGghPXIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgbz1uW2ldO2lmKHRbb10hPT1lW29dKXJldHVybiExfXJldHVybiEwfSx0fSgpLEZuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5maW5kTGFzdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aC0xO24+PTA7bi0tKWlmKGUodFtuXSkpcmV0dXJuIHRbbl07cmV0dXJuIG51bGx9LHQucmVtb3ZlQWxsPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciByPXQuaW5kZXhPZihlW25dKTtyPi0xJiZ0LnNwbGljZShyLDEpfX0sdC5yZW1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmluZGV4T2YoZSk7cmV0dXJuIG4+LTEmJih0LnNwbGljZShuLDEpLCEwKX0sdC5lcXVhbHM9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aCE9ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9LHQuZmxhdHRlbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSxuKXt2YXIgcj1BcnJheS5pc0FycmF5KG4pP3QuZmxhdHRlbihuKTpuO3JldHVybiBlLmNvbmNhdChyKX0sW10pfSx0fSgpLFVuPW5ldyBDZShcIkFwcGxpY2F0aW9uIEluaXRpYWxpemVyXCIpLEhuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10aGlzO3RoaXMuX2RvbmU9ITE7dmFyIG49W107aWYodClmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXSgpO3EoaSkmJm4ucHVzaChpKX10aGlzLl9kb25lUHJvbWlzZT1Qcm9taXNlLmFsbChuKS50aGVuKGZ1bmN0aW9uKCl7ZS5fZG9uZT0hMH0pLDA9PT1uLmxlbmd0aCYmKHRoaXMuX2RvbmU9ITApfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkb25lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb25lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRvbmVQcm9taXNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb25lUHJvbWlzZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LmRlY29yYXRvcnM9W3t0eXBlOmdlfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpBcnJheSxkZWNvcmF0b3JzOlt7dHlwZTptZSxhcmdzOltVbl19LHt0eXBlOnZlfV19XX0sdH0oKSxCbj1uZXcgQ2UoXCJBcHBJZFwiKSxxbj17cHJvdmlkZTpCbix1c2VGYWN0b3J5OlcsZGVwczpbXX0sem49bmV3IENlKFwiUGxhdGZvcm0gSW5pdGlhbGl6ZXJcIiksV249bmV3IENlKFwiYXBwQm9vdHN0cmFwTGlzdGVuZXJcIiksR249bmV3IENlKFwiQXBwbGljYXRpb24gUGFja2FnZXMgUm9vdCBVUkxcIiksWG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24odCl7cCh0KX0sdC5wcm90b3R5cGUud2Fybj1mdW5jdGlvbih0KXtoKHQpfSx0LmRlY29yYXRvcnM9W3t0eXBlOmdlfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybltdfSx0fSgpLCRuPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxRbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLFwiQ2FuJ3QgY29tcGlsZSBzeW5jaHJvbm91c2x5IGFzIFwiK3UoZSkrXCIgaXMgc3RpbGwgYmVpbmcgbG9hZGVkIVwiKSx0aGlzLmNvbXBUeXBlPWV9cmV0dXJuICRuKGUsdCksZX0odW4pLFluPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMubmdNb2R1bGVGYWN0b3J5PXQsdGhpcy5jb21wb25lbnRGYWN0b3JpZXM9ZX1yZXR1cm4gdH0oKSxLbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNvbXBpbGVNb2R1bGVTeW5jPWZ1bmN0aW9uKHQpe3Rocm93IFgoKX0sdC5wcm90b3R5cGUuY29tcGlsZU1vZHVsZUFzeW5jPWZ1bmN0aW9uKHQpe3Rocm93IFgoKX0sdC5wcm90b3R5cGUuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jPWZ1bmN0aW9uKHQpe3Rocm93IFgoKX0sdC5wcm90b3R5cGUuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYz1mdW5jdGlvbih0KXt0aHJvdyBYKCl9LHQucHJvdG90eXBlLmdldE5nQ29udGVudFNlbGVjdG9ycz1mdW5jdGlvbih0KXt0aHJvdyBYKCl9LHQucHJvdG90eXBlLmNsZWFyQ2FjaGU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmNsZWFyQ2FjaGVGb3I9ZnVuY3Rpb24odCl7fSx0LmRlY29yYXRvcnM9W3t0eXBlOmdlfV0sdC5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybltdfSx0fSgpLFpuPW5ldyBDZShcImNvbXBpbGVyT3B0aW9uc1wiKSxKbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZUNvbXBpbGVyPWZ1bmN0aW9uKHQpe30sdH0oKSx0cj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5uYXRpdmVFbGVtZW50PXR9cmV0dXJuIHR9KCksZXI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LG5yPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dm9pZCAwPT09ZSYmKGU9ITEpLHQuY2FsbCh0aGlzKSx0aGlzLl9faXNBc3luYz1lfXJldHVybiBlcihlLHQpLGUucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsZSl9LGUucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihlLG4scil7dmFyIGksbz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0scz1mdW5jdGlvbigpe3JldHVybiBudWxsfTtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGU/KGk9dGhpcy5fX2lzQXN5bmM/ZnVuY3Rpb24odCl7c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBlLm5leHQodCl9KX06ZnVuY3Rpb24odCl7ZS5uZXh0KHQpfSxlLmVycm9yJiYobz10aGlzLl9faXNBc3luYz9mdW5jdGlvbih0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuZXJyb3IodCl9KX06ZnVuY3Rpb24odCl7ZS5lcnJvcih0KX0pLGUuY29tcGxldGUmJihzPXRoaXMuX19pc0FzeW5jP2Z1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBlLmNvbXBsZXRlKCl9KX06ZnVuY3Rpb24oKXtlLmNvbXBsZXRlKCl9KSk6KGk9dGhpcy5fX2lzQXN5bmM/ZnVuY3Rpb24odCl7c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBlKHQpfSl9OmZ1bmN0aW9uKHQpe2UodCl9LG4mJihvPXRoaXMuX19pc0FzeW5jP2Z1bmN0aW9uKHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gbih0KX0pfTpmdW5jdGlvbih0KXtuKHQpfSksciYmKHM9dGhpcy5fX2lzQXN5bmM/ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHIoKX0pfTpmdW5jdGlvbigpe3IoKX0pKSx0LnByb3RvdHlwZS5zdWJzY3JpYmUuY2FsbCh0aGlzLGksbyxzKX0sZX0obi5TdWJqZWN0KSxycj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dC5lbmFibGVMb25nU3RhY2tUcmFjZSxuPXZvaWQgMCE9PWUmJmU7aWYodGhpcy5faGFzUGVuZGluZ01pY3JvdGFza3M9ITEsdGhpcy5faGFzUGVuZGluZ01hY3JvdGFza3M9ITEsdGhpcy5faXNTdGFibGU9ITAsdGhpcy5fbmVzdGluZz0wLHRoaXMuX29uVW5zdGFibGU9bmV3IG5yKCExKSx0aGlzLl9vbk1pY3JvdGFza0VtcHR5PW5ldyBucighMSksdGhpcy5fb25TdGFibGU9bmV3IG5yKCExKSx0aGlzLl9vbkVycm9yRXZlbnRzPW5ldyBucighMSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIFpvbmUpdGhyb3cgbmV3IEVycm9yKFwiQW5ndWxhciByZXF1aXJlcyBab25lLmpzIHByb2x5ZmlsbC5cIik7Wm9uZS5hc3NlcnRab25lUGF0Y2hlZCgpLHRoaXMub3V0ZXI9dGhpcy5pbm5lcj1ab25lLmN1cnJlbnQsWm9uZS53dGZab25lU3BlYyYmKHRoaXMuaW5uZXI9dGhpcy5pbm5lci5mb3JrKFpvbmUud3RmWm9uZVNwZWMpKSxuJiZab25lLmxvbmdTdGFja1RyYWNlWm9uZVNwZWMmJih0aGlzLmlubmVyPXRoaXMuaW5uZXIuZm9yayhab25lLmxvbmdTdGFja1RyYWNlWm9uZVNwZWMpKSx0aGlzLmZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yKCl9cmV0dXJuIHQuaXNJbkFuZ3VsYXJab25lPWZ1bmN0aW9uKCl7cmV0dXJuIFpvbmUuY3VycmVudC5nZXQoXCJpc0FuZ3VsYXJab25lXCIpPT09ITB9LHQuYXNzZXJ0SW5Bbmd1bGFyWm9uZT1mdW5jdGlvbigpe2lmKCF0LmlzSW5Bbmd1bGFyWm9uZSgpKXRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIHRvIGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIG5vdCFcIil9LHQuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZT1mdW5jdGlvbigpe2lmKHQuaXNJbkFuZ3VsYXJab25lKCkpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgdG8gbm90IGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIVwiKX0sdC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlubmVyLnJ1bih0KX0sdC5wcm90b3R5cGUucnVuR3VhcmRlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbm5lci5ydW5HdWFyZGVkKHQpfSx0LnByb3RvdHlwZS5ydW5PdXRzaWRlQW5ndWxhcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vdXRlci5ydW4odCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uVW5zdGFibGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uVW5zdGFibGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25NaWNyb3Rhc2tFbXB0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25NaWNyb3Rhc2tFbXB0eX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblN0YWJsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25TdGFibGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25FcnJvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25FcnJvckV2ZW50c30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc1N0YWJsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTdGFibGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaGFzUGVuZGluZ01pY3JvdGFza3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImhhc1BlbmRpbmdNYWNyb3Rhc2tzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNQZW5kaW5nTWFjcm90YXNrc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jaGVja1N0YWJsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09dGhpcy5fbmVzdGluZyYmIXRoaXMuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzJiYhdGhpcy5faXNTdGFibGUpdHJ5e3RoaXMuX25lc3RpbmcrKyx0aGlzLl9vbk1pY3JvdGFza0VtcHR5LmVtaXQobnVsbCl9ZmluYWxseXtpZih0aGlzLl9uZXN0aW5nLS0sIXRoaXMuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzKXRyeXt0aGlzLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX29uU3RhYmxlLmVtaXQobnVsbCl9KX1maW5hbGx5e3RoaXMuX2lzU3RhYmxlPSEwfX19LHQucHJvdG90eXBlLmZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmlubmVyPXRoaXMuaW5uZXIuZm9yayh7bmFtZTpcImFuZ3VsYXJcIixwcm9wZXJ0aWVzOntpc0FuZ3VsYXJab25lOiEwfSxvbkludm9rZVRhc2s6ZnVuY3Rpb24oZSxuLHIsaSxvLHMpe3RyeXtyZXR1cm4gdC5vbkVudGVyKCksZS5pbnZva2VUYXNrKHIsaSxvLHMpfWZpbmFsbHl7dC5vbkxlYXZlKCl9fSxvbkludm9rZTpmdW5jdGlvbihlLG4scixpLG8scyxhKXt0cnl7cmV0dXJuIHQub25FbnRlcigpLGUuaW52b2tlKHIsaSxvLHMsYSl9ZmluYWxseXt0Lm9uTGVhdmUoKX19LG9uSGFzVGFzazpmdW5jdGlvbihlLG4scixpKXtlLmhhc1Rhc2socixpKSxuPT09ciYmKFwibWljcm9UYXNrXCI9PWkuY2hhbmdlP3Quc2V0SGFzTWljcm90YXNrKGkubWljcm9UYXNrKTpcIm1hY3JvVGFza1wiPT1pLmNoYW5nZSYmdC5zZXRIYXNNYWNyb3Rhc2soaS5tYWNyb1Rhc2spKX0sb25IYW5kbGVFcnJvcjpmdW5jdGlvbihlLG4scixpKXtyZXR1cm4gZS5oYW5kbGVFcnJvcihyLGkpLHQudHJpZ2dlckVycm9yKGkpLCExfX0pfSx0LnByb3RvdHlwZS5vbkVudGVyPWZ1bmN0aW9uKCl7dGhpcy5fbmVzdGluZysrLHRoaXMuX2lzU3RhYmxlJiYodGhpcy5faXNTdGFibGU9ITEsdGhpcy5fb25VbnN0YWJsZS5lbWl0KG51bGwpKX0sdC5wcm90b3R5cGUub25MZWF2ZT1mdW5jdGlvbigpe3RoaXMuX25lc3RpbmctLSx0aGlzLmNoZWNrU3RhYmxlKCl9LHQucHJvdG90eXBlLnNldEhhc01pY3JvdGFzaz1mdW5jdGlvbih0KXt0aGlzLl9oYXNQZW5kaW5nTWljcm90YXNrcz10LHRoaXMuY2hlY2tTdGFibGUoKX0sdC5wcm90b3R5cGUuc2V0SGFzTWFjcm90YXNrPWZ1bmN0aW9uKHQpe3RoaXMuX2hhc1BlbmRpbmdNYWNyb3Rhc2tzPXR9LHQucHJvdG90eXBlLnRyaWdnZXJFcnJvcj1mdW5jdGlvbih0KXt0aGlzLl9vbkVycm9yRXZlbnRzLmVtaXQodCl9LHR9KCksaXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3pvbmU9dCx0aGlzLmVudHJpZXM9W119cmV0dXJuIHQucHJvdG90eXBlLmVucXVldWU9ZnVuY3Rpb24odCl7dGhpcy5lbnRyaWVzLnB1c2godCl9LHQucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmVudHJpZXMubGVuZ3RoJiZ0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7UHJvbWlzZS5yZXNvbHZlKG51bGwpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC5fdHJpZ2dlckFuaW1hdGlvbnMoKX0pfSl9LHQucHJvdG90eXBlLl90cmlnZ2VyQW5pbWF0aW9ucz1mdW5jdGlvbigpe2Zvcihyci5hc3NlcnROb3RJbkFuZ3VsYXJab25lKCk7dGhpcy5lbnRyaWVzLmxlbmd0aDspe3ZhciB0PXRoaXMuZW50cmllcy5zaGlmdCgpO3QuaGFzU3RhcnRlZCgpfHx0LnBsYXkoKX19LHQuZGVjb3JhdG9ycz1be3R5cGU6Z2V9XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnJyfV19LHR9KCksb3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5zdXBwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gVSh0KX0sdC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBhcihlKX0sdH0oKSxzcj1mdW5jdGlvbih0LGUpe3JldHVybiBlfSxhcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fdHJhY2tCeUZuPXQsdGhpcy5fbGVuZ3RoPW51bGwsdGhpcy5fY29sbGVjdGlvbj1udWxsLHRoaXMuX2xpbmtlZFJlY29yZHM9bnVsbCx0aGlzLl91bmxpbmtlZFJlY29yZHM9bnVsbCx0aGlzLl9wcmV2aW91c0l0SGVhZD1udWxsLHRoaXMuX2l0SGVhZD1udWxsLHRoaXMuX2l0VGFpbD1udWxsLHRoaXMuX2FkZGl0aW9uc0hlYWQ9bnVsbCx0aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fbW92ZXNIZWFkPW51bGwsdGhpcy5fbW92ZXNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGwsdGhpcy5fcmVtb3ZhbHNUYWlsPW51bGwsdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZD1udWxsLHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWw9bnVsbCx0aGlzLl90cmFja0J5Rm49dGhpcy5fdHJhY2tCeUZufHxzcn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY29sbGVjdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sbGVjdGlvbn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5mb3JFYWNoSXRlbT1mdW5jdGlvbih0KXt2YXIgZTtmb3IoZT10aGlzLl9pdEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0KXQoZSl9LHQucHJvdG90eXBlLmZvckVhY2hPcGVyYXRpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2l0SGVhZCxuPXRoaXMuX3JlbW92YWxzSGVhZCxyPTAsaT1udWxsO2V8fG47KXt2YXIgbz0hbnx8ZSYmZS5jdXJyZW50SW5kZXg8JChuLHIsaSk/ZTpuLHM9JChvLHIsaSksYT1vLmN1cnJlbnRJbmRleDtpZihvPT09bilyLS0sbj1uLl9uZXh0UmVtb3ZlZDtlbHNlIGlmKGU9ZS5fbmV4dCxudWxsPT1vLnByZXZpb3VzSW5kZXgpcisrO2Vsc2V7aXx8KGk9W10pO3ZhciB1PXMtcixjPWEtcjtpZih1IT1jKXtmb3IodmFyIGw9MDtsPHU7bCsrKXt2YXIgcD1sPGkubGVuZ3RoP2lbbF06aVtsXT0wLGg9cCtsO2M8PWgmJmg8dSYmKGlbbF09cCsxKX12YXIgZj1vLnByZXZpb3VzSW5kZXg7aVtmXT1jLXV9fXMhPT1hJiZ0KG8scyxhKX19LHQucHJvdG90eXBlLmZvckVhY2hQcmV2aW91c0l0ZW09ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGU9dGhpcy5fcHJldmlvdXNJdEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UHJldmlvdXMpdChlKX0sdC5wcm90b3R5cGUuZm9yRWFjaEFkZGVkSXRlbT1mdW5jdGlvbih0KXt2YXIgZTtmb3IoZT10aGlzLl9hZGRpdGlvbnNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dEFkZGVkKXQoZSl9LHQucHJvdG90eXBlLmZvckVhY2hNb3ZlZEl0ZW09ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGU9dGhpcy5fbW92ZXNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dE1vdmVkKXQoZSl9LHQucHJvdG90eXBlLmZvckVhY2hSZW1vdmVkSXRlbT1mdW5jdGlvbih0KXt2YXIgZTtmb3IoZT10aGlzLl9yZW1vdmFsc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UmVtb3ZlZCl0KGUpfSx0LnByb3RvdHlwZS5mb3JFYWNoSWRlbnRpdHlDaGFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGU9dGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZDtudWxsIT09ZTtlPWUuX25leHRJZGVudGl0eUNoYW5nZSl0KGUpfSx0LnByb3RvdHlwZS5kaWZmPWZ1bmN0aW9uKHQpe2lmKGEodCkmJih0PVtdKSwhVSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB0cnlpbmcgdG8gZGlmZiAnXCIrdCtcIidcIik7cmV0dXJuIHRoaXMuY2hlY2sodCk/dGhpczpudWxsfSx0LnByb3RvdHlwZS5vbkRlc3Ryb3k9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5fcmVzZXQoKTt2YXIgbixyLGksbz10aGlzLl9pdEhlYWQscz0hMTtpZihBcnJheS5pc0FycmF5KHQpKXt2YXIgYT10O3RoaXMuX2xlbmd0aD10Lmxlbmd0aDtmb3IodmFyIHU9MDt1PHRoaXMuX2xlbmd0aDt1Kyspcj1hW3VdLGk9dGhpcy5fdHJhY2tCeUZuKHUsciksbnVsbCE9PW8mJmMoby50cmFja0J5SWQsaSk/KHMmJihvPXRoaXMuX3ZlcmlmeVJlaW5zZXJ0aW9uKG8scixpLHUpKSxjKG8uaXRlbSxyKXx8dGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UobyxyKSk6KG89dGhpcy5fbWlzbWF0Y2gobyxyLGksdSkscz0hMCksbz1vLl9uZXh0fWVsc2Ugbj0wLEIodCxmdW5jdGlvbih0KXtpPWUuX3RyYWNrQnlGbihuLHQpLG51bGwhPT1vJiZjKG8udHJhY2tCeUlkLGkpPyhzJiYobz1lLl92ZXJpZnlSZWluc2VydGlvbihvLHQsaSxuKSksYyhvLml0ZW0sdCl8fGUuX2FkZElkZW50aXR5Q2hhbmdlKG8sdCkpOihvPWUuX21pc21hdGNoKG8sdCxpLG4pLHM9ITApLG89by5fbmV4dCxuKyt9KSx0aGlzLl9sZW5ndGg9bjtyZXR1cm4gdGhpcy5fdHJ1bmNhdGUobyksdGhpcy5fY29sbGVjdGlvbj10LHRoaXMuaXNEaXJ0eX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaXNEaXJ0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2FkZGl0aW9uc0hlYWR8fG51bGwhPT10aGlzLl9tb3Zlc0hlYWR8fG51bGwhPT10aGlzLl9yZW1vdmFsc0hlYWR8fG51bGwhPT10aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLl9yZXNldD1mdW5jdGlvbigpe2lmKHRoaXMuaXNEaXJ0eSl7dmFyIHQ9dm9pZCAwLGU9dm9pZCAwO2Zvcih0PXRoaXMuX3ByZXZpb3VzSXRIZWFkPXRoaXMuX2l0SGVhZDtudWxsIT09dDt0PXQuX25leHQpdC5fbmV4dFByZXZpb3VzPXQuX25leHQ7Zm9yKHQ9dGhpcy5fYWRkaXRpb25zSGVhZDtudWxsIT09dDt0PXQuX25leHRBZGRlZCl0LnByZXZpb3VzSW5kZXg9dC5jdXJyZW50SW5kZXg7Zm9yKHRoaXMuX2FkZGl0aW9uc0hlYWQ9dGhpcy5fYWRkaXRpb25zVGFpbD1udWxsLHQ9dGhpcy5fbW92ZXNIZWFkO251bGwhPT10O3Q9ZSl0LnByZXZpb3VzSW5kZXg9dC5jdXJyZW50SW5kZXgsZT10Ll9uZXh0TW92ZWQ7dGhpcy5fbW92ZXNIZWFkPXRoaXMuX21vdmVzVGFpbD1udWxsLHRoaXMuX3JlbW92YWxzSGVhZD10aGlzLl9yZW1vdmFsc1RhaWw9bnVsbCx0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkPXRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWw9bnVsbH19LHQucHJvdG90eXBlLl9taXNtYXRjaD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaTtyZXR1cm4gbnVsbD09PXQ/aT10aGlzLl9pdFRhaWw6KGk9dC5fcHJldix0aGlzLl9yZW1vdmUodCkpLHQ9bnVsbD09PXRoaXMuX2xpbmtlZFJlY29yZHM/bnVsbDp0aGlzLl9saW5rZWRSZWNvcmRzLmdldChuLHIpLG51bGwhPT10PyhjKHQuaXRlbSxlKXx8dGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UodCxlKSx0aGlzLl9tb3ZlQWZ0ZXIodCxpLHIpKToodD1udWxsPT09dGhpcy5fdW5saW5rZWRSZWNvcmRzP251bGw6dGhpcy5fdW5saW5rZWRSZWNvcmRzLmdldChuKSxudWxsIT09dD8oYyh0Lml0ZW0sZSl8fHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHQsZSksdGhpcy5fcmVpbnNlcnRBZnRlcih0LGkscikpOnQ9dGhpcy5fYWRkQWZ0ZXIobmV3IHVyKGUsbiksaSxyKSksdH0sdC5wcm90b3R5cGUuX3ZlcmlmeVJlaW5zZXJ0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPW51bGw9PT10aGlzLl91bmxpbmtlZFJlY29yZHM/bnVsbDp0aGlzLl91bmxpbmtlZFJlY29yZHMuZ2V0KG4pO3JldHVybiBudWxsIT09aT90PXRoaXMuX3JlaW5zZXJ0QWZ0ZXIoaSx0Ll9wcmV2LHIpOnQuY3VycmVudEluZGV4IT1yJiYodC5jdXJyZW50SW5kZXg9cix0aGlzLl9hZGRUb01vdmVzKHQscikpLHR9LHQucHJvdG90eXBlLl90cnVuY2F0ZT1mdW5jdGlvbih0KXtmb3IoO251bGwhPT10Oyl7dmFyIGU9dC5fbmV4dDt0aGlzLl9hZGRUb1JlbW92YWxzKHRoaXMuX3VubGluayh0KSksdD1lfW51bGwhPT10aGlzLl91bmxpbmtlZFJlY29yZHMmJnRoaXMuX3VubGlua2VkUmVjb3Jkcy5jbGVhcigpLG51bGwhPT10aGlzLl9hZGRpdGlvbnNUYWlsJiYodGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkPW51bGwpLG51bGwhPT10aGlzLl9tb3Zlc1RhaWwmJih0aGlzLl9tb3Zlc1RhaWwuX25leHRNb3ZlZD1udWxsKSxudWxsIT09dGhpcy5faXRUYWlsJiYodGhpcy5faXRUYWlsLl9uZXh0PW51bGwpLG51bGwhPT10aGlzLl9yZW1vdmFsc1RhaWwmJih0aGlzLl9yZW1vdmFsc1RhaWwuX25leHRSZW1vdmVkPW51bGwpLG51bGwhPT10aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsJiYodGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbC5fbmV4dElkZW50aXR5Q2hhbmdlPW51bGwpfSx0LnByb3RvdHlwZS5fcmVpbnNlcnRBZnRlcj1mdW5jdGlvbih0LGUsbil7bnVsbCE9PXRoaXMuX3VubGlua2VkUmVjb3JkcyYmdGhpcy5fdW5saW5rZWRSZWNvcmRzLnJlbW92ZSh0KTt2YXIgcj10Ll9wcmV2UmVtb3ZlZCxpPXQuX25leHRSZW1vdmVkO3JldHVybiBudWxsPT09cj90aGlzLl9yZW1vdmFsc0hlYWQ9aTpyLl9uZXh0UmVtb3ZlZD1pLG51bGw9PT1pP3RoaXMuX3JlbW92YWxzVGFpbD1yOmkuX3ByZXZSZW1vdmVkPXIsdGhpcy5faW5zZXJ0QWZ0ZXIodCxlLG4pLHRoaXMuX2FkZFRvTW92ZXModCxuKSx0fSx0LnByb3RvdHlwZS5fbW92ZUFmdGVyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5fdW5saW5rKHQpLHRoaXMuX2luc2VydEFmdGVyKHQsZSxuKSx0aGlzLl9hZGRUb01vdmVzKHQsbiksdH0sdC5wcm90b3R5cGUuX2FkZEFmdGVyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5faW5zZXJ0QWZ0ZXIodCxlLG4pLG51bGw9PT10aGlzLl9hZGRpdGlvbnNUYWlsP3RoaXMuX2FkZGl0aW9uc1RhaWw9dGhpcy5fYWRkaXRpb25zSGVhZD10OnRoaXMuX2FkZGl0aW9uc1RhaWw9dGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkPXQsdH0sdC5wcm90b3R5cGUuX2luc2VydEFmdGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1udWxsPT09ZT90aGlzLl9pdEhlYWQ6ZS5fbmV4dDtyZXR1cm4gdC5fbmV4dD1yLHQuX3ByZXY9ZSxudWxsPT09cj90aGlzLl9pdFRhaWw9dDpyLl9wcmV2PXQsbnVsbD09PWU/dGhpcy5faXRIZWFkPXQ6ZS5fbmV4dD10LG51bGw9PT10aGlzLl9saW5rZWRSZWNvcmRzJiYodGhpcy5fbGlua2VkUmVjb3Jkcz1uZXcgbHIpLHRoaXMuX2xpbmtlZFJlY29yZHMucHV0KHQpLHQuY3VycmVudEluZGV4PW4sdH0sdC5wcm90b3R5cGUuX3JlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWRkVG9SZW1vdmFscyh0aGlzLl91bmxpbmsodCkpfSx0LnByb3RvdHlwZS5fdW5saW5rPWZ1bmN0aW9uKHQpe251bGwhPT10aGlzLl9saW5rZWRSZWNvcmRzJiZ0aGlzLl9saW5rZWRSZWNvcmRzLnJlbW92ZSh0KTt2YXIgZT10Ll9wcmV2LG49dC5fbmV4dDtyZXR1cm4gbnVsbD09PWU/dGhpcy5faXRIZWFkPW46ZS5fbmV4dD1uLG51bGw9PT1uP3RoaXMuX2l0VGFpbD1lOm4uX3ByZXY9ZSx0fSx0LnByb3RvdHlwZS5fYWRkVG9Nb3Zlcz1mdW5jdGlvbih0LGUpe3JldHVybiB0LnByZXZpb3VzSW5kZXg9PT1lP3Q6KG51bGw9PT10aGlzLl9tb3Zlc1RhaWw/dGhpcy5fbW92ZXNUYWlsPXRoaXMuX21vdmVzSGVhZD10OnRoaXMuX21vdmVzVGFpbD10aGlzLl9tb3Zlc1RhaWwuX25leHRNb3ZlZD10LHQpfSx0LnByb3RvdHlwZS5fYWRkVG9SZW1vdmFscz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09PXRoaXMuX3VubGlua2VkUmVjb3JkcyYmKHRoaXMuX3VubGlua2VkUmVjb3Jkcz1uZXcgbHIpLHRoaXMuX3VubGlua2VkUmVjb3Jkcy5wdXQodCksdC5jdXJyZW50SW5kZXg9bnVsbCx0Ll9uZXh0UmVtb3ZlZD1udWxsLG51bGw9PT10aGlzLl9yZW1vdmFsc1RhaWw/KHRoaXMuX3JlbW92YWxzVGFpbD10aGlzLl9yZW1vdmFsc0hlYWQ9dCx0Ll9wcmV2UmVtb3ZlZD1udWxsKToodC5fcHJldlJlbW92ZWQ9dGhpcy5fcmVtb3ZhbHNUYWlsLHRoaXMuX3JlbW92YWxzVGFpbD10aGlzLl9yZW1vdmFsc1RhaWwuX25leHRSZW1vdmVkPXQpLHR9LHQucHJvdG90eXBlLl9hZGRJZGVudGl0eUNoYW5nZT1mdW5jdGlvbih0LGUpe3JldHVybiB0Lml0ZW09ZSxudWxsPT09dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbD90aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsPXRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ9dDp0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsPXRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwuX25leHRJZGVudGl0eUNoYW5nZT10LHR9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9W107dGhpcy5mb3JFYWNoSXRlbShmdW5jdGlvbihlKXtyZXR1cm4gdC5wdXNoKGUpfSk7dmFyIGU9W107dGhpcy5mb3JFYWNoUHJldmlvdXNJdGVtKGZ1bmN0aW9uKHQpe3JldHVybiBlLnB1c2godCl9KTt2YXIgbj1bXTt0aGlzLmZvckVhY2hBZGRlZEl0ZW0oZnVuY3Rpb24odCl7cmV0dXJuIG4ucHVzaCh0KX0pO3ZhciByPVtdO3RoaXMuZm9yRWFjaE1vdmVkSXRlbShmdW5jdGlvbih0KXtyZXR1cm4gci5wdXNoKHQpfSk7dmFyIGk9W107dGhpcy5mb3JFYWNoUmVtb3ZlZEl0ZW0oZnVuY3Rpb24odCl7cmV0dXJuIGkucHVzaCh0KX0pO3ZhciBvPVtdO3JldHVybiB0aGlzLmZvckVhY2hJZGVudGl0eUNoYW5nZShmdW5jdGlvbih0KXtyZXR1cm4gby5wdXNoKHQpfSksXCJjb2xsZWN0aW9uOiBcIit0LmpvaW4oXCIsIFwiKStcIlxcbnByZXZpb3VzOiBcIitlLmpvaW4oXCIsIFwiKStcIlxcbmFkZGl0aW9uczogXCIrbi5qb2luKFwiLCBcIikrXCJcXG5tb3ZlczogXCIrci5qb2luKFwiLCBcIikrXCJcXG5yZW1vdmFsczogXCIraS5qb2luKFwiLCBcIikrXCJcXG5pZGVudGl0eUNoYW5nZXM6IFwiK28uam9pbihcIiwgXCIpK1wiXFxuXCJ9LHR9KCksdXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5pdGVtPXQsdGhpcy50cmFja0J5SWQ9ZSx0aGlzLmN1cnJlbnRJbmRleD1udWxsLHRoaXMucHJldmlvdXNJbmRleD1udWxsLHRoaXMuX25leHRQcmV2aW91cz1udWxsLHRoaXMuX3ByZXY9bnVsbCx0aGlzLl9uZXh0PW51bGwsdGhpcy5fcHJldkR1cD1udWxsLHRoaXMuX25leHREdXA9bnVsbCx0aGlzLl9wcmV2UmVtb3ZlZD1udWxsLHRoaXMuX25leHRSZW1vdmVkPW51bGwsdGhpcy5fbmV4dEFkZGVkPW51bGwsdGhpcy5fbmV4dE1vdmVkPW51bGwsdGhpcy5fbmV4dElkZW50aXR5Q2hhbmdlPW51bGx9cmV0dXJuIHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldmlvdXNJbmRleD09PXRoaXMuY3VycmVudEluZGV4P3UodGhpcy5pdGVtKTp1KHRoaXMuaXRlbSkrXCJbXCIrdSh0aGlzLnByZXZpb3VzSW5kZXgpK1wiLT5cIit1KHRoaXMuY3VycmVudEluZGV4KStcIl1cIn0sdH0oKSxjcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9oZWFkPW51bGwsdGhpcy5fdGFpbD1udWxsfXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7bnVsbD09PXRoaXMuX2hlYWQ/KHRoaXMuX2hlYWQ9dGhpcy5fdGFpbD10LHQuX25leHREdXA9bnVsbCx0Ll9wcmV2RHVwPW51bGwpOih0aGlzLl90YWlsLl9uZXh0RHVwPXQsdC5fcHJldkR1cD10aGlzLl90YWlsLHQuX25leHREdXA9bnVsbCx0aGlzLl90YWlsPXQpfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbjtmb3Iobj10aGlzLl9oZWFkO251bGwhPT1uO249bi5fbmV4dER1cClpZigobnVsbD09PWV8fGU8bi5jdXJyZW50SW5kZXgpJiZjKG4udHJhY2tCeUlkLHQpKXJldHVybiBuO3JldHVybiBudWxsfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5fcHJldkR1cCxuPXQuX25leHREdXA7cmV0dXJuIG51bGw9PT1lP3RoaXMuX2hlYWQ9bjplLl9uZXh0RHVwPW4sbnVsbD09PW4/dGhpcy5fdGFpbD1lOm4uX3ByZXZEdXA9ZSxudWxsPT09dGhpcy5faGVhZH0sdH0oKSxscj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLm1hcD1uZXcgTWFwfXJldHVybiB0LnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24odCl7dmFyIGU9dC50cmFja0J5SWQsbj10aGlzLm1hcC5nZXQoZSk7bnx8KG49bmV3IGNyLHRoaXMubWFwLnNldChlLG4pKSxuLmFkZCh0KX0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9bnVsbCk7dmFyIG49dCxyPXRoaXMubWFwLmdldChuKTtyZXR1cm4gcj9yLmdldCh0LGUpOm51bGx9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10LnRyYWNrQnlJZCxuPXRoaXMubWFwLmdldChlKTtyZXR1cm4gbi5yZW1vdmUodCkmJnRoaXMubWFwLmRlbGV0ZShlKSx0fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc0VtcHR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5tYXAuc2l6ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMubWFwLmNsZWFyKCl9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJfRHVwbGljYXRlTWFwKFwiK3UodGhpcy5tYXApK1wiKVwifSx0fSgpLHByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuc3VwcG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBNYXB8fGwodCl9LHQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGhyfSx0fSgpLGhyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX3JlY29yZHM9bmV3IE1hcCx0aGlzLl9tYXBIZWFkPW51bGwsdGhpcy5fcHJldmlvdXNNYXBIZWFkPW51bGwsdGhpcy5fY2hhbmdlc0hlYWQ9bnVsbCx0aGlzLl9jaGFuZ2VzVGFpbD1udWxsLHRoaXMuX2FkZGl0aW9uc0hlYWQ9bnVsbCx0aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGwsdGhpcy5fcmVtb3ZhbHNUYWlsPW51bGx9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlzRGlydHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLl9hZGRpdGlvbnNIZWFkfHxudWxsIT09dGhpcy5fY2hhbmdlc0hlYWR8fG51bGwhPT10aGlzLl9yZW1vdmFsc0hlYWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZm9yRWFjaEl0ZW09ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGU9dGhpcy5fbWFwSGVhZDtudWxsIT09ZTtlPWUuX25leHQpdChlKX0sdC5wcm90b3R5cGUuZm9yRWFjaFByZXZpb3VzSXRlbT1mdW5jdGlvbih0KXt2YXIgZTtmb3IoZT10aGlzLl9wcmV2aW91c01hcEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UHJldmlvdXMpdChlKX0sdC5wcm90b3R5cGUuZm9yRWFjaENoYW5nZWRJdGVtPWZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlPXRoaXMuX2NoYW5nZXNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dENoYW5nZWQpdChlKX0sdC5wcm90b3R5cGUuZm9yRWFjaEFkZGVkSXRlbT1mdW5jdGlvbih0KXt2YXIgZTtmb3IoZT10aGlzLl9hZGRpdGlvbnNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dEFkZGVkKXQoZSl9LHQucHJvdG90eXBlLmZvckVhY2hSZW1vdmVkSXRlbT1mdW5jdGlvbih0KXt2YXIgZTtmb3IoZT10aGlzLl9yZW1vdmFsc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UmVtb3ZlZCl0KGUpfSx0LnByb3RvdHlwZS5kaWZmPWZ1bmN0aW9uKHQpe2lmKHQpe2lmKCEodCBpbnN0YW5jZW9mIE1hcHx8bCh0KSkpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJ1wiK3QrXCInXCIpfWVsc2UgdD1uZXcgTWFwO3JldHVybiB0aGlzLmNoZWNrKHQpP3RoaXM6bnVsbH0sdC5wcm90b3R5cGUub25EZXN0cm95PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX3Jlc2V0KCk7dmFyIG49dGhpcy5fcmVjb3JkcyxyPXRoaXMuX21hcEhlYWQsaT1udWxsLG89bnVsbCxzPSExO3JldHVybiB0aGlzLl9mb3JFYWNoKHQsZnVuY3Rpb24odCxhKXt2YXIgdTtyJiZhPT09ci5rZXk/KHU9cixlLl9tYXliZUFkZFRvQ2hhbmdlcyh1LHQpKToocz0hMCxudWxsIT09ciYmKGUuX3JlbW92ZUZyb21TZXEoaSxyKSxlLl9hZGRUb1JlbW92YWxzKHIpKSxuLmhhcyhhKT8odT1uLmdldChhKSxlLl9tYXliZUFkZFRvQ2hhbmdlcyh1LHQpKToodT1uZXcgZnIoYSksbi5zZXQoYSx1KSx1LmN1cnJlbnRWYWx1ZT10LGUuX2FkZFRvQWRkaXRpb25zKHUpKSkscyYmKGUuX2lzSW5SZW1vdmFscyh1KSYmZS5fcmVtb3ZlRnJvbVJlbW92YWxzKHUpLG51bGw9PW8/ZS5fbWFwSGVhZD11Om8uX25leHQ9dSksaT1yLG89dSxyPXImJnIuX25leHR9KSx0aGlzLl90cnVuY2F0ZShpLHIpLHRoaXMuaXNEaXJ0eX0sdC5wcm90b3R5cGUuX3Jlc2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5pc0RpcnR5KXt2YXIgdD12b2lkIDA7Zm9yKHQ9dGhpcy5fcHJldmlvdXNNYXBIZWFkPXRoaXMuX21hcEhlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0KXQuX25leHRQcmV2aW91cz10Ll9uZXh0O2Zvcih0PXRoaXMuX2NoYW5nZXNIZWFkO251bGwhPT10O3Q9dC5fbmV4dENoYW5nZWQpdC5wcmV2aW91c1ZhbHVlPXQuY3VycmVudFZhbHVlO2Zvcih0PXRoaXMuX2FkZGl0aW9uc0hlYWQ7bnVsbCE9dDt0PXQuX25leHRBZGRlZCl0LnByZXZpb3VzVmFsdWU9dC5jdXJyZW50VmFsdWU7dGhpcy5fY2hhbmdlc0hlYWQ9dGhpcy5fY2hhbmdlc1RhaWw9bnVsbCx0aGlzLl9hZGRpdGlvbnNIZWFkPXRoaXMuX2FkZGl0aW9uc1RhaWw9bnVsbCx0aGlzLl9yZW1vdmFsc0hlYWQ9dGhpcy5fcmVtb3ZhbHNUYWlsPW51bGx9fSx0LnByb3RvdHlwZS5fdHJ1bmNhdGU9ZnVuY3Rpb24odCxlKXtmb3IoO251bGwhPT1lOyl7bnVsbD09PXQ/dGhpcy5fbWFwSGVhZD1udWxsOnQuX25leHQ9bnVsbDt2YXIgbj1lLl9uZXh0O3RoaXMuX2FkZFRvUmVtb3ZhbHMoZSksdD1lLGU9bn1mb3IodmFyIHI9dGhpcy5fcmVtb3ZhbHNIZWFkO251bGwhPT1yO3I9ci5fbmV4dFJlbW92ZWQpci5wcmV2aW91c1ZhbHVlPXIuY3VycmVudFZhbHVlLHIuY3VycmVudFZhbHVlPW51bGwsdGhpcy5fcmVjb3Jkcy5kZWxldGUoci5rZXkpfSx0LnByb3RvdHlwZS5fbWF5YmVBZGRUb0NoYW5nZXM9ZnVuY3Rpb24odCxlKXtjKGUsdC5jdXJyZW50VmFsdWUpfHwodC5wcmV2aW91c1ZhbHVlPXQuY3VycmVudFZhbHVlLHQuY3VycmVudFZhbHVlPWUsdGhpcy5fYWRkVG9DaGFuZ2VzKHQpKX0sdC5wcm90b3R5cGUuX2lzSW5SZW1vdmFscz1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXRoaXMuX3JlbW92YWxzSGVhZHx8bnVsbCE9PXQuX25leHRSZW1vdmVkfHxudWxsIT09dC5fcHJldlJlbW92ZWR9LHQucHJvdG90eXBlLl9hZGRUb1JlbW92YWxzPWZ1bmN0aW9uKHQpe251bGw9PT10aGlzLl9yZW1vdmFsc0hlYWQ/dGhpcy5fcmVtb3ZhbHNIZWFkPXRoaXMuX3JlbW92YWxzVGFpbD10Oih0aGlzLl9yZW1vdmFsc1RhaWwuX25leHRSZW1vdmVkPXQsdC5fcHJldlJlbW92ZWQ9dGhpcy5fcmVtb3ZhbHNUYWlsLHRoaXMuX3JlbW92YWxzVGFpbD10KX0sdC5wcm90b3R5cGUuX3JlbW92ZUZyb21TZXE9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLl9uZXh0O251bGw9PT10P3RoaXMuX21hcEhlYWQ9bjp0Ll9uZXh0PW4sZS5fbmV4dD1udWxsfSx0LnByb3RvdHlwZS5fcmVtb3ZlRnJvbVJlbW92YWxzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX3ByZXZSZW1vdmVkLG49dC5fbmV4dFJlbW92ZWQ7bnVsbD09PWU/dGhpcy5fcmVtb3ZhbHNIZWFkPW46ZS5fbmV4dFJlbW92ZWQ9bixudWxsPT09bj90aGlzLl9yZW1vdmFsc1RhaWw9ZTpuLl9wcmV2UmVtb3ZlZD1lLHQuX3ByZXZSZW1vdmVkPXQuX25leHRSZW1vdmVkPW51bGx9LHQucHJvdG90eXBlLl9hZGRUb0FkZGl0aW9ucz1mdW5jdGlvbih0KXtudWxsPT09dGhpcy5fYWRkaXRpb25zSGVhZD90aGlzLl9hZGRpdGlvbnNIZWFkPXRoaXMuX2FkZGl0aW9uc1RhaWw9dDoodGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkPXQsdGhpcy5fYWRkaXRpb25zVGFpbD10KX0sdC5wcm90b3R5cGUuX2FkZFRvQ2hhbmdlcz1mdW5jdGlvbih0KXtudWxsPT09dGhpcy5fY2hhbmdlc0hlYWQ/dGhpcy5fY2hhbmdlc0hlYWQ9dGhpcy5fY2hhbmdlc1RhaWw9dDoodGhpcy5fY2hhbmdlc1RhaWwuX25leHRDaGFuZ2VkPXQsdGhpcy5fY2hhbmdlc1RhaWw9dCl9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQsZT1bXSxuPVtdLHI9W10saT1bXSxvPVtdO2Zvcih0PXRoaXMuX21hcEhlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0KWUucHVzaCh1KHQpKTtmb3IodD10aGlzLl9wcmV2aW91c01hcEhlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0UHJldmlvdXMpbi5wdXNoKHUodCkpO2Zvcih0PXRoaXMuX2NoYW5nZXNIZWFkO251bGwhPT10O3Q9dC5fbmV4dENoYW5nZWQpci5wdXNoKHUodCkpO2Zvcih0PXRoaXMuX2FkZGl0aW9uc0hlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0QWRkZWQpaS5wdXNoKHUodCkpO2Zvcih0PXRoaXMuX3JlbW92YWxzSGVhZDtudWxsIT09dDt0PXQuX25leHRSZW1vdmVkKW8ucHVzaCh1KHQpKTtyZXR1cm5cIm1hcDogXCIrZS5qb2luKFwiLCBcIikrXCJcXG5wcmV2aW91czogXCIrbi5qb2luKFwiLCBcIikrXCJcXG5hZGRpdGlvbnM6IFwiK2kuam9pbihcIiwgXCIpK1wiXFxuY2hhbmdlczogXCIrci5qb2luKFwiLCBcIikrXCJcXG5yZW1vdmFsczogXCIrby5qb2luKFwiLCBcIikrXCJcXG5cIn0sdC5wcm90b3R5cGUuX2ZvckVhY2g9ZnVuY3Rpb24odCxlKXt0IGluc3RhbmNlb2YgTWFwP3QuZm9yRWFjaChlKTpPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBlKHRbbl0sbil9KX0sdH0oKSxmcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5rZXk9dCx0aGlzLnByZXZpb3VzVmFsdWU9bnVsbCx0aGlzLmN1cnJlbnRWYWx1ZT1udWxsLHRoaXMuX25leHRQcmV2aW91cz1udWxsLHRoaXMuX25leHQ9bnVsbCx0aGlzLl9uZXh0QWRkZWQ9bnVsbCx0aGlzLl9uZXh0UmVtb3ZlZD1udWxsLHRoaXMuX3ByZXZSZW1vdmVkPW51bGwsdGhpcy5fbmV4dENoYW5nZWQ9bnVsbH1yZXR1cm4gdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gYyh0aGlzLnByZXZpb3VzVmFsdWUsdGhpcy5jdXJyZW50VmFsdWUpP3UodGhpcy5rZXkpOnUodGhpcy5rZXkpK1wiW1wiK3UodGhpcy5wcmV2aW91c1ZhbHVlKStcIi0+XCIrdSh0aGlzLmN1cnJlbnRWYWx1ZSkrXCJdXCJ9LHR9KCksZHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZmFjdG9yaWVzPXR9cmV0dXJuIHQuY3JlYXRlPWZ1bmN0aW9uKGUsbil7aWYocyhuKSl7dmFyIHI9bi5mYWN0b3JpZXMuc2xpY2UoKTtyZXR1cm4gZT1lLmNvbmNhdChyKSxuZXcgdChlKX1yZXR1cm4gbmV3IHQoZSl9LHQuZXh0ZW5kPWZ1bmN0aW9uKGUpe3JldHVybntwcm92aWRlOnQsdXNlRmFjdG9yeTpmdW5jdGlvbihuKXtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXh0ZW5kIEl0ZXJhYmxlRGlmZmVycyB3aXRob3V0IGEgcGFyZW50IGluamVjdG9yXCIpO3JldHVybiB0LmNyZWF0ZShlLG4pfSxkZXBzOltbdCxuZXcgYmUsbmV3IHZlXV19fSx0LnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmFjdG9yaWVzLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3VwcG9ydHModCl9KTtpZihzKGUpKXJldHVybiBlO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICdcIit0K1wiJyBvZiB0eXBlICdcIitvKHQpK1wiJ1wiKX0sdH0oKSx5cj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5mYWN0b3JpZXM9dH1yZXR1cm4gdC5jcmVhdGU9ZnVuY3Rpb24oZSxuKXtpZihzKG4pKXt2YXIgcj1uLmZhY3Rvcmllcy5zbGljZSgpO3JldHVybiBlPWUuY29uY2F0KHIpLG5ldyB0KGUpfXJldHVybiBuZXcgdChlKX0sdC5leHRlbmQ9ZnVuY3Rpb24oZSl7cmV0dXJue3Byb3ZpZGU6dCx1c2VGYWN0b3J5OmZ1bmN0aW9uKG4pe2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBleHRlbmQgS2V5VmFsdWVEaWZmZXJzIHdpdGhvdXQgYSBwYXJlbnQgaW5qZWN0b3JcIik7cmV0dXJuIHQuY3JlYXRlKGUsbil9LGRlcHM6W1t0LG5ldyBiZSxuZXcgdmVdXX19LHQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5mYWN0b3JpZXMuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdXBwb3J0cyh0KX0pO2lmKHMoZSkpcmV0dXJuIGU7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJ1wiK3QrXCInXCIpfSx0fSgpLG1yPXt0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiQ0RfSU5JVF9WQUxVRVwifX0sdnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMud3JhcHBlZD10fXJldHVybiB0LndyYXA9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KGUpfSx0fSgpLGdyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuaGFzV3JhcHBlZFZhbHVlPSExfXJldHVybiB0LnByb3RvdHlwZS51bndyYXA9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB2cj8odGhpcy5oYXNXcmFwcGVkVmFsdWU9ITAsdC53cmFwcGVkKTp0fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuaGFzV3JhcHBlZFZhbHVlPSExfSx0fSgpLF9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMucHJldmlvdXNWYWx1ZT10LHRoaXMuY3VycmVudFZhbHVlPWV9cmV0dXJuIHQucHJvdG90eXBlLmlzRmlyc3RDaGFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2aW91c1ZhbHVlPT09bXJ9LHR9KCksYnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5tYXJrRm9yQ2hlY2s9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZGV0ZWN0Q2hhbmdlcz1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuY2hlY2tOb0NoYW5nZXM9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnJlYXR0YWNoPWZ1bmN0aW9uKCl7fSx0fSgpLHdyPVtuZXcgcHJdLENyPVtuZXcgb3JdLEVyPW5ldyBkcihDciksU3I9bmV3IHlyKHdyKSx4cj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8pe3RoaXMuaWQ9dCx0aGlzLnRlbXBsYXRlVXJsPWUsdGhpcy5zbG90Q291bnQ9bix0aGlzLmVuY2Fwc3VsYXRpb249cix0aGlzLnN0eWxlcz1pLHRoaXMuYW5pbWF0aW9ucz1vfXJldHVybiB0fSgpLFByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuaW5qZWN0b3I9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmNvbXBvbmVudD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucHJvdmlkZXJUb2tlbnM9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnJlZmVyZW5jZXM9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmNvbnRleHQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnNvdXJjZT1mdW5jdGlvbigpe30sdH0oKSxPcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnNlbGVjdFJvb3RFbGVtZW50PWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLmNyZWF0ZVZpZXdSb290PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuY3JlYXRlVGVtcGxhdGVBbmNob3I9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmNyZWF0ZVRleHQ9ZnVuY3Rpb24odCxlLG4pe30sdC5wcm90b3R5cGUucHJvamVjdE5vZGVzPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5hdHRhY2hWaWV3QWZ0ZXI9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmRldGFjaFZpZXc9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5kZXN0cm95Vmlldz1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUubGlzdGVuPWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLmxpc3Rlbkdsb2JhbD1mdW5jdGlvbih0LGUsbil7fSx0LnByb3RvdHlwZS5zZXRFbGVtZW50UHJvcGVydHk9ZnVuY3Rpb24odCxlLG4pe30sdC5wcm90b3R5cGUuc2V0RWxlbWVudEF0dHJpYnV0ZT1mdW5jdGlvbih0LGUsbil7fSx0LnByb3RvdHlwZS5zZXRCaW5kaW5nRGVidWdJbmZvPWZ1bmN0aW9uKHQsZSxuKXt9LHQucHJvdG90eXBlLnNldEVsZW1lbnRDbGFzcz1mdW5jdGlvbih0LGUsbil7fSx0LnByb3RvdHlwZS5zZXRFbGVtZW50U3R5bGU9ZnVuY3Rpb24odCxlLG4pe30sdC5wcm90b3R5cGUuaW52b2tlRWxlbWVudE1ldGhvZD1mdW5jdGlvbih0LGUsbil7fSx0LnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLHMpe30sdH0oKSxUcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnJlbmRlckNvbXBvbmVudD1mdW5jdGlvbih0KXt9LHR9KCksQXI9e307QXIuTk9ORT0wLEFyLkhUTUw9MSxBci5TVFlMRT0yLEFyLlNDUklQVD0zLEFyLlVSTD00LEFyLlJFU09VUkNFX1VSTD01LEFyW0FyLk5PTkVdPVwiTk9ORVwiLEFyW0FyLkhUTUxdPVwiSFRNTFwiLEFyW0FyLlNUWUxFXT1cIlNUWUxFXCIsQXJbQXIuU0NSSVBUXT1cIlNDUklQVFwiLEFyW0FyLlVSTF09XCJVUkxcIixBcltBci5SRVNPVVJDRV9VUkxdPVwiUkVTT1VSQ0VfVVJMXCI7dmFyIE1yLGtyLFJyLElyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuc2FuaXRpemU9ZnVuY3Rpb24odCxlKXt9LHR9KCksTnI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LERyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgcj1cIkV4cHJlc3Npb24gaGFzIGNoYW5nZWQgYWZ0ZXIgaXQgd2FzIGNoZWNrZWQuIFByZXZpb3VzIHZhbHVlOiAnXCIrZStcIicuIEN1cnJlbnQgdmFsdWU6ICdcIituK1wiJy5cIjtlPT09bXImJihyKz1cIiBJdCBzZWVtcyBsaWtlIHRoZSB2aWV3IGhhcyBiZWVuIGNyZWF0ZWQgYWZ0ZXIgaXRzIHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuIGhhdmUgYmVlbiBkaXJ0eSBjaGVja2VkLiBIYXMgaXQgYmVlbiBjcmVhdGVkIGluIGEgY2hhbmdlIGRldGVjdGlvbiBob29rID9cIiksdC5jYWxsKHRoaXMscil9cmV0dXJuIE5yKGUsdCksZX0odW4pLGpyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxcIkVycm9yIGluIFwiK24uc291cmNlLGUpLHRoaXMuY29udGV4dD1ufXJldHVybiBOcihlLHQpLGV9KGNuKSxWcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLFwiQXR0ZW1wdCB0byB1c2UgYSBkZXN0cm95ZWQgdmlldzogXCIrZSl9cmV0dXJuIE5yKGUsdCksZX0odW4pLExyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fcmVuZGVyZXI9dCx0aGlzLmFuaW1hdGlvblF1ZXVlPW4sdGhpcy5zYW5pdGl6ZXI9ZX1yZXR1cm4gdC5wcm90b3R5cGUucmVuZGVyQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZW5kZXJlci5yZW5kZXJDb21wb25lbnQodCl9LHQuZGVjb3JhdG9ycz1be3R5cGU6Z2V9XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOlRyfSx7dHlwZTpJcn0se3R5cGU6aXJ9XX0sdH0oKSxGcj0wLFVyPVtdLEhyPXt9LEJyPS8oW0EtWl0pL2cscXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5sZW5ndGg9MH1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7fSx0fSgpLHpyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5sZW5ndGg9dCx0aGlzLl92MD1lLHRoaXMuX3YxPW59cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSAwOnJldHVybiB0aGlzLl92MDtjYXNlIDE6cmV0dXJuIHRoaXMuX3YxO2RlZmF1bHQ6cmV0dXJufX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQpe2Nhc2UgMDp0aGlzLl92MD1lO2JyZWFrO2Nhc2UgMTp0aGlzLl92MT1lfX0sdH0oKSxXcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXt0aGlzLmxlbmd0aD10LHRoaXMuX3YwPWUsdGhpcy5fdjE9bix0aGlzLl92Mj1yLHRoaXMuX3YzPWl9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSAwOnJldHVybiB0aGlzLl92MDtjYXNlIDE6cmV0dXJuIHRoaXMuX3YxO2Nhc2UgMjpyZXR1cm4gdGhpcy5fdjI7Y2FzZSAzOnJldHVybiB0aGlzLl92MztkZWZhdWx0OnJldHVybn19LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3N3aXRjaCh0KXtjYXNlIDA6dGhpcy5fdjA9ZTticmVhaztjYXNlIDE6dGhpcy5fdjE9ZTticmVhaztjYXNlIDI6dGhpcy5fdjI9ZTticmVhaztjYXNlIDM6dGhpcy5fdjM9ZX19LHR9KCksR3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsaSxvLHMsYSx1KXt0aGlzLmxlbmd0aD10LHRoaXMuX3YwPWUsdGhpcy5fdjE9bix0aGlzLl92Mj1yLHRoaXMuX3YzPWksdGhpcy5fdjQ9byx0aGlzLl92NT1zLHRoaXMuX3Y2PWEsdGhpcy5fdjc9dX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHRoaXMuX3YwO2Nhc2UgMTpyZXR1cm4gdGhpcy5fdjE7Y2FzZSAyOnJldHVybiB0aGlzLl92MjtjYXNlIDM6cmV0dXJuIHRoaXMuX3YzO2Nhc2UgNDpyZXR1cm4gdGhpcy5fdjQ7Y2FzZSA1OnJldHVybiB0aGlzLl92NTtjYXNlIDY6cmV0dXJuIHRoaXMuX3Y2O2Nhc2UgNzpyZXR1cm4gdGhpcy5fdjc7ZGVmYXVsdDpyZXR1cm59fSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtzd2l0Y2godCl7Y2FzZSAwOnRoaXMuX3YwPWU7YnJlYWs7Y2FzZSAxOnRoaXMuX3YxPWU7YnJlYWs7Y2FzZSAyOnRoaXMuX3YyPWU7YnJlYWs7Y2FzZSAzOnRoaXMuX3YzPWU7YnJlYWs7Y2FzZSA0OnRoaXMuX3Y0PWU7YnJlYWs7Y2FzZSA1OnRoaXMuX3Y1PWU7YnJlYWs7Y2FzZSA2OnRoaXMuX3Y2PWU7YnJlYWs7Y2FzZSA3OnRoaXMuX3Y3PWV9fSx0fSgpLFhyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyxzLGEsdSxjLGwscCxoLGYsZCx5LG0pe3RoaXMubGVuZ3RoPXQsdGhpcy5fdjA9ZSx0aGlzLl92MT1uLHRoaXMuX3YyPXIsdGhpcy5fdjM9aSx0aGlzLl92ND1vLHRoaXMuX3Y1PXMsdGhpcy5fdjY9YSx0aGlzLl92Nz11LHRoaXMuX3Y4PWMsdGhpcy5fdjk9bCx0aGlzLl92MTA9cCx0aGlzLl92MTE9aCx0aGlzLl92MTI9Zix0aGlzLl92MTM9ZCx0aGlzLl92MTQ9eSx0aGlzLl92MTU9bX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHRoaXMuX3YwO2Nhc2UgMTpyZXR1cm4gdGhpcy5fdjE7Y2FzZSAyOnJldHVybiB0aGlzLl92MjtjYXNlIDM6cmV0dXJuIHRoaXMuX3YzO2Nhc2UgNDpyZXR1cm4gdGhpcy5fdjQ7Y2FzZSA1OnJldHVybiB0aGlzLl92NTtjYXNlIDY6cmV0dXJuIHRoaXMuX3Y2O2Nhc2UgNzpyZXR1cm4gdGhpcy5fdjc7Y2FzZSA4OnJldHVybiB0aGlzLl92ODtjYXNlIDk6cmV0dXJuIHRoaXMuX3Y5O2Nhc2UgMTA6cmV0dXJuIHRoaXMuX3YxMDtjYXNlIDExOnJldHVybiB0aGlzLl92MTE7Y2FzZSAxMjpyZXR1cm4gdGhpcy5fdjEyO2Nhc2UgMTM6cmV0dXJuIHRoaXMuX3YxMztjYXNlIDE0OnJldHVybiB0aGlzLl92MTQ7Y2FzZSAxNTpyZXR1cm4gdGhpcy5fdjE1O2RlZmF1bHQ6cmV0dXJufX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQpe2Nhc2UgMDp0aGlzLl92MD1lO2JyZWFrO2Nhc2UgMTp0aGlzLl92MT1lO2JyZWFrO2Nhc2UgMjp0aGlzLl92Mj1lO2JyZWFrO2Nhc2UgMzp0aGlzLl92Mz1lO2JyZWFrO2Nhc2UgNDp0aGlzLl92ND1lO2JyZWFrO2Nhc2UgNTp0aGlzLl92NT1lO2JyZWFrO2Nhc2UgNjp0aGlzLl92Nj1lO2JyZWFrO2Nhc2UgNzp0aGlzLl92Nz1lO2JyZWFrO2Nhc2UgODp0aGlzLl92OD1lO2JyZWFrO2Nhc2UgOTp0aGlzLl92OT1lO2JyZWFrO2Nhc2UgMTA6dGhpcy5fdjEwPWU7YnJlYWs7Y2FzZSAxMTp0aGlzLl92MTE9ZTticmVhaztjYXNlIDEyOnRoaXMuX3YxMj1lO2JyZWFrO2Nhc2UgMTM6dGhpcy5fdjEzPWU7YnJlYWs7Y2FzZSAxNDp0aGlzLl92MTQ9ZTticmVhaztjYXNlIDE1OnRoaXMuX3YxNT1lfX0sdH0oKSwkcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07dGhpcy5sZW5ndGg9dCx0aGlzLl92YWx1ZXM9ZX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl92YWx1ZXNbdF19LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbHVlc1t0XT1lfSx0fSgpLFFyPW5ldyBxcixZcj1PYmplY3QuZnJlZXplKHtWaWV3VXRpbHM6THIsY3JlYXRlUmVuZGVyQ29tcG9uZW50VHlwZTpZLGFkZFRvQXJyYXk6SyxpbnRlcnBvbGF0ZTpaLGlubGluZUludGVycG9sYXRlOkosY2hlY2tCaW5kaW5nOmV0LGNhc3RCeVZhbHVlOm50LFxuRU1QVFlfQVJSQVk6VXIsRU1QVFlfTUFQOkhyLHB1cmVQcm94eTE6cnQscHVyZVByb3h5MjppdCxwdXJlUHJveHkzOm90LHB1cmVQcm94eTQ6c3QscHVyZVByb3h5NTphdCxwdXJlUHJveHk2OnV0LHB1cmVQcm94eTc6Y3QscHVyZVByb3h5ODpsdCxwdXJlUHJveHk5OnB0LHB1cmVQcm94eTEwOmh0LHNldEJpbmRpbmdEZWJ1Z0luZm9Gb3JDaGFuZ2VzOmZ0LHNldEJpbmRpbmdEZWJ1Z0luZm86ZHQsY3JlYXRlUmVuZGVyRWxlbWVudDptdCxzZWxlY3RPckNyZWF0ZVJlbmRlckhvc3RFbGVtZW50OnZ0LHN1YnNjcmliZVRvUmVuZGVyRWxlbWVudDpndCxub29wOmJ0LElubGluZUFycmF5Mjp6cixJbmxpbmVBcnJheTQ6V3IsSW5saW5lQXJyYXk4OkdyLElubGluZUFycmF5MTY6WHIsSW5saW5lQXJyYXlEeW5hbWljOiRyLEVNUFRZX0lOTElORV9BUlJBWTpRcn0pLEtyPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxacj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmxvY2F0aW9uPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5pbmplY3Rvcj1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuaW5zdGFuY2U9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmhvc3RWaWV3PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5jaGFuZ2VEZXRlY3RvclJlZj1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuY29tcG9uZW50VHlwZT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUub25EZXN0cm95PWZ1bmN0aW9uKHQpe30sdH0oKSxKcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGkpe3QuY2FsbCh0aGlzKSx0aGlzLl9pbmRleD1lLHRoaXMuX3BhcmVudFZpZXc9bix0aGlzLl9uYXRpdmVFbGVtZW50PXIsdGhpcy5fY29tcG9uZW50PWl9cmV0dXJuIEtyKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibG9jYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0cih0aGlzLl9uYXRpdmVFbGVtZW50KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpbmplY3RvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyZW50Vmlldy5pbmplY3Rvcih0aGlzLl9pbmRleCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaW5zdGFuY2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJob3N0Vmlld1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyZW50Vmlldy5yZWZ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY2hhbmdlRGV0ZWN0b3JSZWZcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcmVudFZpZXcucmVmfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImNvbXBvbmVudFR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudC5jb25zdHJ1Y3Rvcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50Vmlldy5kZXRhY2hBbmREZXN0cm95KCl9LGUucHJvdG90eXBlLm9uRGVzdHJveT1mdW5jdGlvbih0KXt0aGlzLmhvc3RWaWV3Lm9uRGVzdHJveSh0KX0sZX0oWnIpLHRpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5zZWxlY3Rvcj10LHRoaXMuX3ZpZXdDbGFzcz1lLHRoaXMuX2NvbXBvbmVudFR5cGU9bn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY29tcG9uZW50VHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcG9uZW50VHlwZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PW4mJihuPW51bGwpO3ZhciByPXQuZ2V0KExyKTtlfHwoZT1bXSk7dmFyIGk9bmV3IHRoaXMuX3ZpZXdDbGFzcyhyLG51bGwsbnVsbCxudWxsKTtyZXR1cm4gaS5jcmVhdGVIb3N0VmlldyhuLHQsZSl9LHR9KCksZWk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LG5pPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsXCJObyBjb21wb25lbnQgZmFjdG9yeSBmb3VuZCBmb3IgXCIrdShlKStcIi4gRGlkIHlvdSBhZGQgaXQgdG8gQE5nTW9kdWxlLmVudHJ5Q29tcG9uZW50cz9cIiksdGhpcy5jb21wb25lbnQ9ZX1yZXR1cm4gZWkoZSx0KSxlfSh1bikscmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeT1mdW5jdGlvbih0KXt0aHJvdyBuZXcgbmkodCl9LHR9KCksaWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeT1mdW5jdGlvbih0KXt9LHQuTlVMTD1uZXcgcmksdH0oKSxvaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9wYXJlbnQ9ZSx0aGlzLl9mYWN0b3JpZXM9bmV3IE1hcDtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTt0aGlzLl9mYWN0b3JpZXMuc2V0KHIuY29tcG9uZW50VHlwZSxyKX19cmV0dXJuIHQucHJvdG90eXBlLnJlc29sdmVDb21wb25lbnRGYWN0b3J5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2ZhY3Rvcmllcy5nZXQodCk7cmV0dXJuIGV8fChlPXRoaXMuX3BhcmVudC5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0KSksZX0sdH0oKSxzaT1DdCgpLGFpPXNpP0V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE90fSx1aT1zaT9TdDpmdW5jdGlvbih0LGUpe3JldHVybiBlfSxjaT1zaT94dDpmdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSxsaT1zaT9QdDpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0scGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX25nWm9uZT10LHRoaXMuX3BlbmRpbmdDb3VudD0wLHRoaXMuX2lzWm9uZVN0YWJsZT0hMCx0aGlzLl9kaWRXb3JrPSExLHRoaXMuX2NhbGxiYWNrcz1bXSx0aGlzLl93YXRjaEFuZ3VsYXJFdmVudHMoKX1yZXR1cm4gdC5wcm90b3R5cGUuX3dhdGNoQW5ndWxhckV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fbmdab25lLm9uVW5zdGFibGUuc3Vic2NyaWJlKHtuZXh0OmZ1bmN0aW9uKCl7dC5fZGlkV29yaz0hMCx0Ll9pc1pvbmVTdGFibGU9ITF9fSksdGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7dC5fbmdab25lLm9uU3RhYmxlLnN1YnNjcmliZSh7bmV4dDpmdW5jdGlvbigpe3JyLmFzc2VydE5vdEluQW5ndWxhclpvbmUoKSxpKGZ1bmN0aW9uKCl7dC5faXNab25lU3RhYmxlPSEwLHQuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKX0pfX0pfSl9LHQucHJvdG90eXBlLmluY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZW5kaW5nQ291bnQrPTEsdGhpcy5fZGlkV29yaz0hMCx0aGlzLl9wZW5kaW5nQ291bnR9LHQucHJvdG90eXBlLmRlY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudD1mdW5jdGlvbigpe2lmKHRoaXMuX3BlbmRpbmdDb3VudC09MSx0aGlzLl9wZW5kaW5nQ291bnQ8MCl0aHJvdyBuZXcgRXJyb3IoXCJwZW5kaW5nIGFzeW5jIHJlcXVlc3RzIGJlbG93IHplcm9cIik7cmV0dXJuIHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKSx0aGlzLl9wZW5kaW5nQ291bnR9LHQucHJvdG90eXBlLmlzU3RhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzWm9uZVN0YWJsZSYmMD09dGhpcy5fcGVuZGluZ0NvdW50JiYhdGhpcy5fbmdab25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzfSx0LnByb3RvdHlwZS5fcnVuQ2FsbGJhY2tzSWZSZWFkeT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5pc1N0YWJsZSgpP2koZnVuY3Rpb24oKXtmb3IoOzAhPT10Ll9jYWxsYmFja3MubGVuZ3RoOyl0Ll9jYWxsYmFja3MucG9wKCkodC5fZGlkV29yayk7dC5fZGlkV29yaz0hMX0pOnRoaXMuX2RpZFdvcms9ITB9LHQucHJvdG90eXBlLndoZW5TdGFibGU9ZnVuY3Rpb24odCl7dGhpcy5fY2FsbGJhY2tzLnB1c2godCksdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpfSx0LnByb3RvdHlwZS5nZXRQZW5kaW5nUmVxdWVzdENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudH0sdC5wcm90b3R5cGUuZmluZEJpbmRpbmdzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5bXX0sdC5wcm90b3R5cGUuZmluZFByb3ZpZGVycz1mdW5jdGlvbih0LGUsbil7cmV0dXJuW119LHQuZGVjb3JhdG9ycz1be3R5cGU6Z2V9XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnJyfV19LHR9KCksaGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fYXBwbGljYXRpb25zPW5ldyBNYXAsZGkuYWRkVG9XaW5kb3codGhpcyl9cmV0dXJuIHQucHJvdG90eXBlLnJlZ2lzdGVyQXBwbGljYXRpb249ZnVuY3Rpb24odCxlKXt0aGlzLl9hcHBsaWNhdGlvbnMuc2V0KHQsZSl9LHQucHJvdG90eXBlLmdldFRlc3RhYmlsaXR5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hcHBsaWNhdGlvbnMuZ2V0KHQpfSx0LnByb3RvdHlwZS5nZXRBbGxUZXN0YWJpbGl0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fYXBwbGljYXRpb25zLnZhbHVlcygpKX0sdC5wcm90b3R5cGUuZ2V0QWxsUm9vdEVsZW1lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fYXBwbGljYXRpb25zLmtleXMoKSl9LHQucHJvdG90eXBlLmZpbmRUZXN0YWJpbGl0eUluVHJlZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMCksZGkuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHRoaXMsdCxlKX0sdC5kZWNvcmF0b3JzPVt7dHlwZTpnZX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdH0oKSxmaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmFkZFRvV2luZG93PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuZmluZFRlc3RhYmlsaXR5SW5UcmVlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbnVsbH0sdH0oKSxkaT1uZXcgZmkseWk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LG1pPSEwLHZpPSExLGdpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMubmFtZT10LHRoaXMudG9rZW49ZX1yZXR1cm4gdH0oKSxfaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmJvb3RzdHJhcE1vZHVsZUZhY3Rvcnk9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5ib290c3RyYXBNb2R1bGU9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLm9uRGVzdHJveT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmluamVjdG9yPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5kZXN0cm95ZWQ9ZnVuY3Rpb24oKXt9LHR9KCksYmk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyksdGhpcy5faW5qZWN0b3I9ZSx0aGlzLl9tb2R1bGVzPVtdLHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnM9W10sdGhpcy5fZGVzdHJveWVkPSExfXJldHVybiB5aShlLHQpLGUucHJvdG90eXBlLm9uRGVzdHJveT1mdW5jdGlvbih0KXt0aGlzLl9kZXN0cm95TGlzdGVuZXJzLnB1c2godCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImluamVjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmplY3Rvcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rlc3Ryb3llZH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7aWYodGhpcy5fZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcIlRoZSBwbGF0Zm9ybSBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZCFcIik7dGhpcy5fbW9kdWxlcy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVzdHJveSgpfSksdGhpcy5fZGVzdHJveUxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0KCl9KSx0aGlzLl9kZXN0cm95ZWQ9ITB9LGUucHJvdG90eXBlLmJvb3RzdHJhcE1vZHVsZUZhY3Rvcnk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2Jvb3RzdHJhcE1vZHVsZUZhY3RvcnlXaXRoWm9uZSh0LG51bGwpfSxlLnByb3RvdHlwZS5fYm9vdHN0cmFwTW9kdWxlRmFjdG9yeVdpdGhab25lPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZXx8KGU9bmV3IHJyKHtlbmFibGVMb25nU3RhY2tUcmFjZTpNdCgpfSkpLGUucnVuKGZ1bmN0aW9uKCl7dmFyIHI9Tm4ucmVzb2x2ZUFuZENyZWF0ZShbe3Byb3ZpZGU6cnIsdXNlVmFsdWU6ZX1dLG4uaW5qZWN0b3IpLGk9dC5jcmVhdGUociksbz1pLmluamVjdG9yLmdldChWbixudWxsKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJObyBFcnJvckhhbmRsZXIuIElzIHBsYXRmb3JtIG1vZHVsZSAoQnJvd3Nlck1vZHVsZSkgaW5jbHVkZWQ/XCIpO3JldHVybiBpLm9uRGVzdHJveShmdW5jdGlvbigpe3JldHVybiBGbi5yZW1vdmUobi5fbW9kdWxlcyxpKX0pLGUub25FcnJvci5zdWJzY3JpYmUoe25leHQ6ZnVuY3Rpb24odCl7by5oYW5kbGVFcnJvcih0KX19KSxqdChvLGZ1bmN0aW9uKCl7dmFyIHQ9aS5pbmplY3Rvci5nZXQoSG4pO3JldHVybiB0LmRvbmVQcm9taXNlLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbi5fbW9kdWxlRG9Cb290c3RyYXAoaSksaX0pfSl9KX0sZS5wcm90b3R5cGUuYm9vdHN0cmFwTW9kdWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVtdKSx0aGlzLl9ib290c3RyYXBNb2R1bGVXaXRoWm9uZSh0LGUsbnVsbCl9LGUucHJvdG90eXBlLl9ib290c3RyYXBNb2R1bGVXaXRoWm9uZT1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzO3ZvaWQgMD09PWUmJihlPVtdKTt2YXIgbz10aGlzLmluamVjdG9yLmdldChKbikscz1vLmNyZWF0ZUNvbXBpbGVyKEFycmF5LmlzQXJyYXkoZSk/ZTpbZV0pO3JldHVybiByP3MuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYyh0KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPXQubmdNb2R1bGVGYWN0b3J5LG89dC5jb21wb25lbnRGYWN0b3JpZXM7cmV0dXJuIHIobyksaS5fYm9vdHN0cmFwTW9kdWxlRmFjdG9yeVdpdGhab25lKGUsbil9KTpzLmNvbXBpbGVNb2R1bGVBc3luYyh0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLl9ib290c3RyYXBNb2R1bGVGYWN0b3J5V2l0aFpvbmUodCxuKX0pfSxlLnByb3RvdHlwZS5fbW9kdWxlRG9Cb290c3RyYXA9ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmplY3Rvci5nZXQod2kpO2lmKHQuYm9vdHN0cmFwRmFjdG9yaWVzLmxlbmd0aD4wKXQuYm9vdHN0cmFwRmFjdG9yaWVzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuYm9vdHN0cmFwKHQpfSk7ZWxzZXtpZighdC5pbnN0YW5jZS5uZ0RvQm9vdHN0cmFwKXRocm93IG5ldyBFcnJvcihcIlRoZSBtb2R1bGUgXCIrdSh0Lmluc3RhbmNlLmNvbnN0cnVjdG9yKSsnIHdhcyBib290c3RyYXBwZWQsIGJ1dCBpdCBkb2VzIG5vdCBkZWNsYXJlIFwiQE5nTW9kdWxlLmJvb3RzdHJhcFwiIGNvbXBvbmVudHMgbm9yIGEgXCJuZ0RvQm9vdHN0cmFwXCIgbWV0aG9kLiBQbGVhc2UgZGVmaW5lIG9uZSBvZiB0aGVzZS4nKTt0Lmluc3RhbmNlLm5nRG9Cb290c3RyYXAoZSl9dGhpcy5fbW9kdWxlcy5wdXNoKHQpfSxlLmRlY29yYXRvcnM9W3t0eXBlOmdlfV0sZS5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpzbn1dfSxlfShfaSksd2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5ib290c3RyYXA9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS50aWNrPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5jb21wb25lbnRUeXBlcz1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuY29tcG9uZW50cz1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuYXR0YWNoVmlldz1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmRldGFjaFZpZXc9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS52aWV3Q291bnQ9ZnVuY3Rpb24oKXt9LHR9KCksQ2k9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpLG8scyxhLHUpe3ZhciBjPXRoaXM7dC5jYWxsKHRoaXMpLHRoaXMuX3pvbmU9ZSx0aGlzLl9jb25zb2xlPW4sdGhpcy5faW5qZWN0b3I9cix0aGlzLl9leGNlcHRpb25IYW5kbGVyPWksdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyPW8sdGhpcy5faW5pdFN0YXR1cz1zLHRoaXMuX3Rlc3RhYmlsaXR5UmVnaXN0cnk9YSx0aGlzLl90ZXN0YWJpbGl0eT11LHRoaXMuX2Jvb3RzdHJhcExpc3RlbmVycz1bXSx0aGlzLl9yb290Q29tcG9uZW50cz1bXSx0aGlzLl9yb290Q29tcG9uZW50VHlwZXM9W10sdGhpcy5fdmlld3M9W10sdGhpcy5fcnVubmluZ1RpY2s9ITEsdGhpcy5fZW5mb3JjZU5vTmV3Q2hhbmdlcz0hMSx0aGlzLl9lbmZvcmNlTm9OZXdDaGFuZ2VzPU10KCksdGhpcy5fem9uZS5vbk1pY3JvdGFza0VtcHR5LnN1YnNjcmliZSh7bmV4dDpmdW5jdGlvbigpe2MuX3pvbmUucnVuKGZ1bmN0aW9uKCl7Yy50aWNrKCl9KX19KX1yZXR1cm4geWkoZSx0KSxlLnByb3RvdHlwZS5hdHRhY2hWaWV3PWZ1bmN0aW9uKHQpe3ZhciBlPXQuaW50ZXJuYWxWaWV3O3RoaXMuX3ZpZXdzLnB1c2goZSksZS5hdHRhY2hUb0FwcFJlZih0aGlzKX0sZS5wcm90b3R5cGUuZGV0YWNoVmlldz1mdW5jdGlvbih0KXt2YXIgZT10LmludGVybmFsVmlldztGbi5yZW1vdmUodGhpcy5fdmlld3MsZSksZS5kZXRhY2goKX0sZS5wcm90b3R5cGUuYm9vdHN0cmFwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMuX2luaXRTdGF0dXMuZG9uZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYm9vdHN0cmFwIGFzIHRoZXJlIGFyZSBzdGlsbCBhc3luY2hyb25vdXMgaW5pdGlhbGl6ZXJzIHJ1bm5pbmcuIEJvb3RzdHJhcCBjb21wb25lbnRzIGluIHRoZSBgbmdEb0Jvb3RzdHJhcGAgbWV0aG9kIG9mIHRoZSByb290IG1vZHVsZS5cIik7dmFyIG47bj10IGluc3RhbmNlb2YgdGk/dDp0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCksdGhpcy5fcm9vdENvbXBvbmVudFR5cGVzLnB1c2gobi5jb21wb25lbnRUeXBlKTt2YXIgcj1uLmNyZWF0ZSh0aGlzLl9pbmplY3RvcixbXSxuLnNlbGVjdG9yKTtyLm9uRGVzdHJveShmdW5jdGlvbigpe2UuX3VubG9hZENvbXBvbmVudChyKX0pO3ZhciBpPXIuaW5qZWN0b3IuZ2V0KHBpLG51bGwpO3JldHVybiBpJiZyLmluamVjdG9yLmdldChoaSkucmVnaXN0ZXJBcHBsaWNhdGlvbihyLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQsaSksdGhpcy5fbG9hZENvbXBvbmVudChyKSxNdCgpJiZ0aGlzLl9jb25zb2xlLmxvZyhcIkFuZ3VsYXIgaXMgcnVubmluZyBpbiB0aGUgZGV2ZWxvcG1lbnQgbW9kZS4gQ2FsbCBlbmFibGVQcm9kTW9kZSgpIHRvIGVuYWJsZSB0aGUgcHJvZHVjdGlvbiBtb2RlLlwiKSxyfSxlLnByb3RvdHlwZS5fbG9hZENvbXBvbmVudD1mdW5jdGlvbih0KXt0aGlzLmF0dGFjaFZpZXcodC5ob3N0VmlldyksdGhpcy50aWNrKCksdGhpcy5fcm9vdENvbXBvbmVudHMucHVzaCh0KTt2YXIgZT10aGlzLl9pbmplY3Rvci5nZXQoV24sW10pLmNvbmNhdCh0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnMpO2UuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZSh0KX0pfSxlLnByb3RvdHlwZS5fdW5sb2FkQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3RoaXMuZGV0YWNoVmlldyh0Lmhvc3RWaWV3KSxGbi5yZW1vdmUodGhpcy5fcm9vdENvbXBvbmVudHMsdCl9LGUucHJvdG90eXBlLnRpY2s9ZnVuY3Rpb24oKXtpZih0aGlzLl9ydW5uaW5nVGljayl0aHJvdyBuZXcgRXJyb3IoXCJBcHBsaWNhdGlvblJlZi50aWNrIGlzIGNhbGxlZCByZWN1cnNpdmVseVwiKTt2YXIgdD1lLl90aWNrU2NvcGUoKTt0cnl7dGhpcy5fcnVubmluZ1RpY2s9ITAsdGhpcy5fdmlld3MuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWYuZGV0ZWN0Q2hhbmdlcygpfSksdGhpcy5fZW5mb3JjZU5vTmV3Q2hhbmdlcyYmdGhpcy5fdmlld3MuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWYuY2hlY2tOb0NoYW5nZXMoKX0pfWZpbmFsbHl7dGhpcy5fcnVubmluZ1RpY2s9ITEsdWkodCl9fSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX3ZpZXdzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5kZXN0cm95KCl9KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidmlld0NvdW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3cy5sZW5ndGh9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY29tcG9uZW50VHlwZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jvb3RDb21wb25lbnRUeXBlc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjb21wb25lbnRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290Q29tcG9uZW50c30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLl90aWNrU2NvcGU9YWkoXCJBcHBsaWNhdGlvblJlZiN0aWNrKClcIiksZS5kZWNvcmF0b3JzPVt7dHlwZTpnZX1dLGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6cnJ9LHt0eXBlOlhufSx7dHlwZTpzbn0se3R5cGU6Vm59LHt0eXBlOmlpfSx7dHlwZTpIbn0se3R5cGU6aGksZGVjb3JhdG9yczpbe3R5cGU6dmV9XX0se3R5cGU6cGksZGVjb3JhdG9yczpbe3R5cGU6dmV9XX1dfSxlfSh3aSksRWk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LFNpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuaW5qZWN0b3I9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuaW5zdGFuY2U9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLm9uRGVzdHJveT1mdW5jdGlvbih0KXt9LHR9KCkseGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5faW5qZWN0b3JDbGFzcz10LHRoaXMuX21vZHVsZVR5cGU9ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibW9kdWxlVHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kdWxlVHlwZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCl7dHx8KHQ9c24uTlVMTCk7dmFyIGU9bmV3IHRoaXMuX2luamVjdG9yQ2xhc3ModCk7cmV0dXJuIGUuY3JlYXRlKCksZX0sdH0oKSxQaT1uZXcgT2JqZWN0LE9pPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzLG4sZS5nZXQoaWksaWkuTlVMTCkpLHRoaXMucGFyZW50PWUsdGhpcy5ib290c3RyYXBGYWN0b3JpZXM9cix0aGlzLl9kZXN0cm95TGlzdGVuZXJzPVtdLHRoaXMuX2Rlc3Ryb3llZD0hMX1yZXR1cm4gRWkoZSx0KSxlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXt0aGlzLmluc3RhbmNlPXRoaXMuY3JlYXRlSW50ZXJuYWwoKX0sZS5wcm90b3R5cGUuY3JlYXRlSW50ZXJuYWw9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPXJuKSx0PT09c258fHQ9PT1paSlyZXR1cm4gdGhpczt2YXIgbj10aGlzLmdldEludGVybmFsKHQsUGkpO3JldHVybiBuPT09UGk/dGhpcy5wYXJlbnQuZ2V0KHQsZSk6bn0sZS5wcm90b3R5cGUuZ2V0SW50ZXJuYWw9ZnVuY3Rpb24odCxlKXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImluamVjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImNvbXBvbmVudEZhY3RvcnlSZXNvbHZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7aWYodGhpcy5fZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcIlRoZSBuZyBtb2R1bGUgXCIrdSh0aGlzLmluc3RhbmNlLmNvbnN0cnVjdG9yKStcIiBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZC5cIik7dGhpcy5fZGVzdHJveWVkPSEwLHRoaXMuZGVzdHJveUludGVybmFsKCksdGhpcy5fZGVzdHJveUxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0KCl9KX0sZS5wcm90b3R5cGUub25EZXN0cm95PWZ1bmN0aW9uKHQpe3RoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMucHVzaCh0KX0sZS5wcm90b3R5cGUuZGVzdHJveUludGVybmFsPWZ1bmN0aW9uKCl7fSxlfShvaSksVGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe30sdH0oKSxBaT1uZXcgTWFwLE1pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2RpcnR5PSEwLHRoaXMuX3Jlc3VsdHM9W10sdGhpcy5fZW1pdHRlcj1uZXcgbnJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNoYW5nZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VtaXR0ZXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibGVuZ3RoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN1bHRzLmxlbmd0aH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJmaXJzdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVzdWx0c1swXX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJsYXN0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN1bHRzW3RoaXMubGVuZ3RoLTFdfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5tYXAodCl9LHQucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5maWx0ZXIodCl9LHQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMuZmluZCh0KX0sdC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMucmVkdWNlKHQsZSl9LHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7dGhpcy5fcmVzdWx0cy5mb3JFYWNoKHQpfSx0LnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZXN1bHRzLnNvbWUodCl9LHQucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5zbGljZSgpfSx0LnByb3RvdHlwZVtmKCldPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHNbZigpXSgpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN1bHRzLnRvU3RyaW5nKCl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3Jlc3VsdHM9Rm4uZmxhdHRlbih0KSx0aGlzLl9kaXJ0eT0hMX0sdC5wcm90b3R5cGUubm90aWZ5T25DaGFuZ2VzPWZ1bmN0aW9uKCl7dGhpcy5fZW1pdHRlci5lbWl0KHRoaXMpfSx0LnByb3RvdHlwZS5zZXREaXJ0eT1mdW5jdGlvbigpe3RoaXMuX2RpcnR5PSEwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkaXJ0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlydHl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdH0oKSxraT1cIiNcIixSaT1cIk5nRmFjdG9yeVwiLElpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKSxOaT17ZmFjdG9yeVBhdGhQcmVmaXg6XCJcIixmYWN0b3J5UGF0aFN1ZmZpeDpcIi5uZ2ZhY3RvcnlcIn0sRGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fY29tcGlsZXI9dCx0aGlzLl9jb25maWc9ZXx8Tml9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29tcGlsZXIgaW5zdGFuY2VvZiBLbjtyZXR1cm4gZT90aGlzLmxvYWRGYWN0b3J5KHQpOnRoaXMubG9hZEFuZENvbXBpbGUodCl9LHQucHJvdG90eXBlLmxvYWRBbmRDb21waWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnNwbGl0KGtpKSxyPW5bMF0saT1uWzFdO3JldHVybiB2b2lkIDA9PT1pJiYoaT1cImRlZmF1bHRcIiksU3lzdGVtLmltcG9ydChyKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0W2ldfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gRnQodCxyLGkpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5fY29tcGlsZXIuY29tcGlsZU1vZHVsZUFzeW5jKHQpfSl9LHQucHJvdG90eXBlLmxvYWRGYWN0b3J5PWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoa2kpLG49ZVswXSxyPWVbMV0saT1SaTtyZXR1cm4gdm9pZCAwPT09ciYmKHI9XCJkZWZhdWx0XCIsaT1cIlwiKSxTeXN0ZW0uaW1wb3J0KHRoaXMuX2NvbmZpZy5mYWN0b3J5UGF0aFByZWZpeCtuK3RoaXMuX2NvbmZpZy5mYWN0b3J5UGF0aFN1ZmZpeCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdFtyK2ldfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gRnQodCxuLHIpfSl9LHQuZGVjb3JhdG9ycz1be3R5cGU6Z2V9XSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOktufSx7dHlwZTpJaSxkZWNvcmF0b3JzOlt7dHlwZTp2ZX1dfV19LHR9KCksamk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LFZpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZWxlbWVudFJlZj1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuY3JlYXRlRW1iZWRkZWRWaWV3PWZ1bmN0aW9uKHQpe30sdH0oKSxMaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyKXt0LmNhbGwodGhpcyksdGhpcy5fcGFyZW50Vmlldz1lLHRoaXMuX25vZGVJbmRleD1uLHRoaXMuX25hdGl2ZUVsZW1lbnQ9cn1yZXR1cm4gamkoZSx0KSxlLnByb3RvdHlwZS5jcmVhdGVFbWJlZGRlZFZpZXc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcGFyZW50Vmlldy5jcmVhdGVFbWJlZGRlZFZpZXdJbnRlcm5hbCh0aGlzLl9ub2RlSW5kZXgpO3JldHVybiBlLmNyZWF0ZSh0fHx7fSksZS5yZWZ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImVsZW1lbnRSZWZcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0cih0aGlzLl9uYXRpdmVFbGVtZW50KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlfShWaSksRmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5lbGVtZW50PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5pbmplY3Rvcj1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucGFyZW50SW5qZWN0b3I9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmNyZWF0ZUVtYmVkZGVkVmlldz1mdW5jdGlvbih0LGUsbil7fSx0LnByb3RvdHlwZS5jcmVhdGVDb21wb25lbnQ9ZnVuY3Rpb24odCxlLG4scil7fSx0LnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLm1vdmU9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5kZXRhY2g9ZnVuY3Rpb24odCl7fSx0fSgpLFVpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9lbGVtZW50PXQsdGhpcy5fY3JlYXRlQ29tcG9uZW50SW5Db250YWluZXJTY29wZT1haShcIlZpZXdDb250YWluZXJSZWYjY3JlYXRlQ29tcG9uZW50KClcIiksdGhpcy5faW5zZXJ0U2NvcGU9YWkoXCJWaWV3Q29udGFpbmVyUmVmI2luc2VydCgpXCIpLHRoaXMuX3JlbW92ZVNjb3BlPWFpKFwiVmlld0NvbnRhaW5lclJlZiNyZW1vdmUoKVwiKSx0aGlzLl9kZXRhY2hTY29wZT1haShcIlZpZXdDb250YWluZXJSZWYjZGV0YWNoKClcIil9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZWxlbWVudC5uZXN0ZWRWaWV3c1t0XS5yZWZ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImxlbmd0aFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9lbGVtZW50Lm5lc3RlZFZpZXdzO3JldHVybiBzKHQpP3QubGVuZ3RoOjB9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZWxlbWVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWxlbWVudC5lbGVtZW50UmVmfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImluamVjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbGVtZW50LmluamVjdG9yfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBhcmVudEluamVjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbGVtZW50LnBhcmVudEluamVjdG9yfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNyZWF0ZUVtYmVkZGVkVmlldz1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09biYmKG49LTEpO3ZhciByPXQuY3JlYXRlRW1iZWRkZWRWaWV3KGUpO3JldHVybiB0aGlzLmluc2VydChyLG4pLHJ9LHQucHJvdG90eXBlLmNyZWF0ZUNvbXBvbmVudD1mdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1lJiYoZT0tMSksdm9pZCAwPT09biYmKG49bnVsbCksdm9pZCAwPT09ciYmKHI9bnVsbCk7dmFyIGk9dGhpcy5fY3JlYXRlQ29tcG9uZW50SW5Db250YWluZXJTY29wZSgpLG89bnx8dGhpcy5fZWxlbWVudC5wYXJlbnRJbmplY3RvcixzPXQuY3JlYXRlKG8scik7cmV0dXJuIHRoaXMuaW5zZXJ0KHMuaG9zdFZpZXcsZSksdWkoaSxzKX0sdC5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9LTEpO3ZhciBuPXRoaXMuX2luc2VydFNjb3BlKCk7ZT09LTEmJihlPXRoaXMubGVuZ3RoKTt2YXIgcj10O3JldHVybiB0aGlzLl9lbGVtZW50LmF0dGFjaFZpZXcoci5pbnRlcm5hbFZpZXcsZSksdWkobixyKX0sdC5wcm90b3R5cGUubW92ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2luc2VydFNjb3BlKCk7aWYoZSE9LTEpe3ZhciByPXQ7cmV0dXJuIHRoaXMuX2VsZW1lbnQubW92ZVZpZXcoci5pbnRlcm5hbFZpZXcsZSksdWkobixyKX19LHQucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGVuZ3RoP3RoaXMuX2VsZW1lbnQubmVzdGVkVmlld3MuaW5kZXhPZih0LmludGVybmFsVmlldyk6LTF9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0tMSk7dmFyIGU9dGhpcy5fcmVtb3ZlU2NvcGUoKTt0PT0tMSYmKHQ9dGhpcy5sZW5ndGgtMSk7dmFyIG49dGhpcy5fZWxlbWVudC5kZXRhY2hWaWV3KHQpO24uZGVzdHJveSgpLHVpKGUpfSx0LnByb3RvdHlwZS5kZXRhY2g9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LTEpO3ZhciBlPXRoaXMuX2RldGFjaFNjb3BlKCk7dD09LTEmJih0PXRoaXMubGVuZ3RoLTEpO3ZhciBuPXRoaXMuX2VsZW1lbnQuZGV0YWNoVmlldyh0KTtyZXR1cm4gdWkoZSxuLnJlZil9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubGVuZ3RoLTE7dD49MDt0LS0pdGhpcy5yZW1vdmUodCl9LHR9KCksSGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LEJpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gSGkoZSx0KSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5kZXN0cm95ZWQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLm9uRGVzdHJveT1mdW5jdGlvbih0KXt9LGV9KGJyKSxxaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIEhpKGUsdCksZS5wcm90b3R5cGUuY29udGV4dD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUucm9vdE5vZGVzPWZ1bmN0aW9uKCl7fSxlfShCaSksemk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fdmlldz10LHRoaXMuYW5pbWF0aW9uUXVldWU9ZSx0aGlzLl92aWV3PXQsdGhpcy5fb3JpZ2luYWxNb2RlPXRoaXMuX3ZpZXcuY2RNb2RlfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpbnRlcm5hbFZpZXdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXd9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicm9vdE5vZGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3LmZsYXRSb290Tm9kZXN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY29udGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlldy5jb250ZXh0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRlc3Ryb3llZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlldy5kZXN0cm95ZWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUubWFya0ZvckNoZWNrPWZ1bmN0aW9uKCl7dGhpcy5fdmlldy5tYXJrUGF0aFRvUm9vdEFzQ2hlY2tPbmNlKCl9LHQucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuX3ZpZXcuY2RNb2RlPWtlLkRldGFjaGVkfSx0LnByb3RvdHlwZS5kZXRlY3RDaGFuZ2VzPWZ1bmN0aW9uKCl7dGhpcy5fdmlldy5kZXRlY3RDaGFuZ2VzKCExKSx0aGlzLmFuaW1hdGlvblF1ZXVlLmZsdXNoKCl9LHQucHJvdG90eXBlLmNoZWNrTm9DaGFuZ2VzPWZ1bmN0aW9uKCl7dGhpcy5fdmlldy5kZXRlY3RDaGFuZ2VzKCEwKX0sdC5wcm90b3R5cGUucmVhdHRhY2g9ZnVuY3Rpb24oKXt0aGlzLl92aWV3LmNkTW9kZT10aGlzLl9vcmlnaW5hbE1vZGUsdGhpcy5tYXJrRm9yQ2hlY2soKX0sdC5wcm90b3R5cGUub25EZXN0cm95PWZ1bmN0aW9uKHQpe3RoaXMuX3ZpZXcuZGlzcG9zYWJsZXN8fCh0aGlzLl92aWV3LmRpc3Bvc2FibGVzPVtdKSx0aGlzLl92aWV3LmRpc3Bvc2FibGVzLnB1c2godCl9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl92aWV3LmRldGFjaEFuZERlc3Ryb3koKX0sdH0oKSxXaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sR2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5uYW1lPXQsdGhpcy5jYWxsYmFjaz1lfXJldHVybiB0fSgpLFhpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fZGVidWdJbmZvPW4sdGhpcy5uYXRpdmVOb2RlPXQsZSYmZSBpbnN0YW5jZW9mICRpP2UuYWRkQ2hpbGQodGhpcyk6dGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmxpc3RlbmVycz1bXX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaW5qZWN0b3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlYnVnSW5mbz90aGlzLl9kZWJ1Z0luZm8uaW5qZWN0b3I6bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb21wb25lbnRJbnN0YW5jZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVidWdJbmZvP3RoaXMuX2RlYnVnSW5mby5jb21wb25lbnQ6bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb250ZXh0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWJ1Z0luZm8/dGhpcy5fZGVidWdJbmZvLmNvbnRleHQ6bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyZWZlcmVuY2VzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWJ1Z0luZm8/dGhpcy5fZGVidWdJbmZvLnJlZmVyZW5jZXM6bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJwcm92aWRlclRva2Vuc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVidWdJbmZvP3RoaXMuX2RlYnVnSW5mby5wcm92aWRlclRva2VuczpudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInNvdXJjZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVidWdJbmZvP3RoaXMuX2RlYnVnSW5mby5zb3VyY2U6bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0fSgpLCRpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzLGUsbixyKSx0aGlzLnByb3BlcnRpZXM9e30sdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMuY2xhc3Nlcz17fSx0aGlzLnN0eWxlcz17fSx0aGlzLmNoaWxkTm9kZXM9W10sdGhpcy5uYXRpdmVFbGVtZW50PWV9cmV0dXJuIFdpKGUsdCksZS5wcm90b3R5cGUuYWRkQ2hpbGQ9ZnVuY3Rpb24odCl7dCYmKHRoaXMuY2hpbGROb2Rlcy5wdXNoKHQpLHQucGFyZW50PXRoaXMpfSxlLnByb3RvdHlwZS5yZW1vdmVDaGlsZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoaWxkTm9kZXMuaW5kZXhPZih0KTtlIT09LTEmJih0LnBhcmVudD1udWxsLHRoaXMuY2hpbGROb2Rlcy5zcGxpY2UoZSwxKSl9LGUucHJvdG90eXBlLmluc2VydENoaWxkcmVuQWZ0ZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmNoaWxkTm9kZXMuaW5kZXhPZih0KTtpZihuIT09LTEpe3ZhciByPXRoaXMuY2hpbGROb2Rlcy5zbGljZSgwLG4rMSksaT10aGlzLmNoaWxkTm9kZXMuc2xpY2UobisxKTt0aGlzLmNoaWxkTm9kZXM9ci5jb25jYXQoZSxpKTtmb3IodmFyIG89MDtvPGUubGVuZ3RoOysrbyl7dmFyIHM9ZVtvXTtzLnBhcmVudCYmcy5wYXJlbnQucmVtb3ZlQ2hpbGQocykscy5wYXJlbnQ9dGhpc319fSxlLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnF1ZXJ5QWxsKHQpO3JldHVybiBlWzBdfHxudWxsfSxlLnByb3RvdHlwZS5xdWVyeUFsbD1mdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gSHQodGhpcyx0LGUpLGV9LGUucHJvdG90eXBlLnF1ZXJ5QWxsTm9kZXM9ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIEJ0KHRoaXMsdCxlKSxlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjaGlsZHJlblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZE5vZGVzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV9KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50cmlnZ2VyRXZlbnRIYW5kbGVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihuKXtuLm5hbWU9PXQmJm4uY2FsbGJhY2soZSl9KX0sZX0oWGkpLFFpPW5ldyBNYXAsWWk9W2JpLHtwcm92aWRlOl9pLHVzZUV4aXN0aW5nOmJpfSx7cHJvdmlkZTpPbix1c2VGYWN0b3J5Okd0LGRlcHM6W119LHtwcm92aWRlOnhuLHVzZUV4aXN0aW5nOk9ufSxoaSxYbl0sS2k9UnQobnVsbCxcImNvcmVcIixZaSksWmk9bmV3IENlKFwiTG9jYWxlSWRcIiksSmk9bmV3IENlKFwiVHJhbnNsYXRpb25zXCIpLHRvPW5ldyBDZShcIlRyYW5zbGF0aW9uc0Zvcm1hdFwiKSxlbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuZGVjb3JhdG9ycz1be3R5cGU6S2UsYXJnczpbe3Byb3ZpZGVyczpbQ2kse3Byb3ZpZGU6d2ksdXNlRXhpc3Rpbmc6Q2l9LEhuLEtuLHFuLExyLGlyLHtwcm92aWRlOmRyLHVzZUZhY3Rvcnk6WHR9LHtwcm92aWRlOnlyLHVzZUZhY3Rvcnk6JHR9LHtwcm92aWRlOlppLHVzZUZhY3Rvcnk6UXQsZGVwczpbW25ldyBtZShaaSksbmV3IHZlLG5ldyBiZV1dfV19XX1dLHQuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdH0oKSxubz1cInRydWVcIixybz1cIipcIixpbz1cIipcIixvbz1cInZvaWRcIixzbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dGhpczt0aGlzLl9wbGF5ZXJzPXQsdGhpcy5fb25Eb25lRm5zPVtdLHRoaXMuX29uU3RhcnRGbnM9W10sdGhpcy5fZmluaXNoZWQ9ITEsdGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9kZXN0cm95ZWQ9ITEsdGhpcy5wYXJlbnRQbGF5ZXI9bnVsbDt2YXIgbj0wLHI9dGhpcy5fcGxheWVycy5sZW5ndGg7MD09cj9pKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX29uRmluaXNoKCl9KTp0aGlzLl9wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7dC5wYXJlbnRQbGF5ZXI9ZSx0Lm9uRG9uZShmdW5jdGlvbigpeysrbj49ciYmZS5fb25GaW5pc2goKX0pfSl9cmV0dXJuIHQucHJvdG90eXBlLl9vbkZpbmlzaD1mdW5jdGlvbigpe3RoaXMuX2ZpbmlzaGVkfHwodGhpcy5fZmluaXNoZWQ9ITAsdGhpcy5fb25Eb25lRm5zLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQoKX0pLHRoaXMuX29uRG9uZUZucz1bXSl9LHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5pdCgpfSl9LHQucHJvdG90eXBlLm9uU3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5fb25TdGFydEZucy5wdXNoKHQpfSx0LnByb3RvdHlwZS5vbkRvbmU9ZnVuY3Rpb24odCl7dGhpcy5fb25Eb25lRm5zLnB1c2godCl9LHQucHJvdG90eXBlLmhhc1N0YXJ0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRlZH0sdC5wcm90b3R5cGUucGxheT1mdW5jdGlvbigpe3ModGhpcy5wYXJlbnRQbGF5ZXIpfHx0aGlzLmluaXQoKSx0aGlzLmhhc1N0YXJ0ZWQoKXx8KHRoaXMuX29uU3RhcnRGbnMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdCgpfSksdGhpcy5fb25TdGFydEZucz1bXSx0aGlzLl9zdGFydGVkPSEwKSx0aGlzLl9wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQucGxheSgpfSl9LHQucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBhdXNlKCl9KX0sdC5wcm90b3R5cGUucmVzdGFydD1mdW5jdGlvbigpe3RoaXMuX3BsYXllcnMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXN0YXJ0KCl9KX0sdC5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7dGhpcy5fb25GaW5pc2goKSx0aGlzLl9wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQuZmluaXNoKCl9KX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2Rlc3Ryb3llZHx8KHRoaXMuX29uRmluaXNoKCksdGhpcy5fcGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRlc3Ryb3koKX0pLHRoaXMuX2Rlc3Ryb3llZD0hMCl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fcGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlc2V0KCl9KSx0aGlzLl9kZXN0cm95ZWQ9ITEsdGhpcy5fZmluaXNoZWQ9ITEsdGhpcy5fc3RhcnRlZD0hMX0sdC5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24odCl7dGhpcy5fcGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uuc2V0UG9zaXRpb24odCl9KX0sdC5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgdD0wO3JldHVybiB0aGlzLl9wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49ZS5nZXRQb3NpdGlvbigpO3Q9TWF0aC5taW4obix0KX0pLHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBsYXllcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BsYXllcnN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdH0oKSxhbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLm9mZnNldD10LHRoaXMuc3R5bGVzPWV9cmV0dXJuIHR9KCksdW89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5vbkRvbmU9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5vblN0YXJ0PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuaGFzU3RhcnRlZD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucGxheT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnJlc3RhcnQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBhcmVudFBsYXllclwiLHtnZXQ6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJOT1QgSU1QTEVNRU5URUQ6IEJhc2UgQ2xhc3NcIil9LHNldDpmdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJOT1QgSU1QTEVNRU5URUQ6IEJhc2UgQ2xhc3NcIil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdH0oKSxjbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgdD10aGlzO3RoaXMuX29uRG9uZUZucz1bXSx0aGlzLl9vblN0YXJ0Rm5zPVtdLHRoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5wYXJlbnRQbGF5ZXI9bnVsbCxpKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX29uRmluaXNoKCl9KX1yZXR1cm4gdC5wcm90b3R5cGUuX29uRmluaXNoPWZ1bmN0aW9uKCl7dGhpcy5fb25Eb25lRm5zLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQoKX0pLHRoaXMuX29uRG9uZUZucz1bXX0sdC5wcm90b3R5cGUub25TdGFydD1mdW5jdGlvbih0KXt0aGlzLl9vblN0YXJ0Rm5zLnB1c2godCl9LHQucHJvdG90eXBlLm9uRG9uZT1mdW5jdGlvbih0KXt0aGlzLl9vbkRvbmVGbnMucHVzaCh0KX0sdC5wcm90b3R5cGUuaGFzU3RhcnRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydGVkfSx0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7dGhpcy5oYXNTdGFydGVkKCl8fCh0aGlzLl9vblN0YXJ0Rm5zLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQoKX0pLHRoaXMuX29uU3RhcnRGbnM9W10pLHRoaXMuX3N0YXJ0ZWQ9ITB9LHQucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5yZXN0YXJ0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oKXt0aGlzLl9vbkZpbmlzaCgpfSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiAwfSx0fSgpLGxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10aGlzO3RoaXMuX3BsYXllcnM9dCx0aGlzLl9jdXJyZW50SW5kZXg9MCx0aGlzLl9vbkRvbmVGbnM9W10sdGhpcy5fb25TdGFydEZucz1bXSx0aGlzLl9maW5pc2hlZD0hMSx0aGlzLl9zdGFydGVkPSExLHRoaXMuX2Rlc3Ryb3llZD0hMSx0aGlzLnBhcmVudFBsYXllcj1udWxsLHRoaXMuX3BsYXllcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0LnBhcmVudFBsYXllcj1lfSksdGhpcy5fb25OZXh0KCExKX1yZXR1cm4gdC5wcm90b3R5cGUuX29uTmV4dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCF0aGlzLl9maW5pc2hlZClpZigwPT10aGlzLl9wbGF5ZXJzLmxlbmd0aCl0aGlzLl9hY3RpdmVQbGF5ZXI9bmV3IGNvLGkoZnVuY3Rpb24oKXtyZXR1cm4gZS5fb25GaW5pc2goKX0pO2Vsc2UgaWYodGhpcy5fY3VycmVudEluZGV4Pj10aGlzLl9wbGF5ZXJzLmxlbmd0aCl0aGlzLl9hY3RpdmVQbGF5ZXI9bmV3IGNvLHRoaXMuX29uRmluaXNoKCk7ZWxzZXt2YXIgbj10aGlzLl9wbGF5ZXJzW3RoaXMuX2N1cnJlbnRJbmRleCsrXTtuLm9uRG9uZShmdW5jdGlvbigpe3JldHVybiBlLl9vbk5leHQoITApfSksdGhpcy5fYWN0aXZlUGxheWVyPW4sdCYmbi5wbGF5KCl9fSx0LnByb3RvdHlwZS5fb25GaW5pc2g9ZnVuY3Rpb24oKXt0aGlzLl9maW5pc2hlZHx8KHRoaXMuX2ZpbmlzaGVkPSEwLHRoaXMuX29uRG9uZUZucy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0KCl9KSx0aGlzLl9vbkRvbmVGbnM9W10pfSx0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5fcGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmluaXQoKX0pfSx0LnByb3RvdHlwZS5vblN0YXJ0PWZ1bmN0aW9uKHQpe3RoaXMuX29uU3RhcnRGbnMucHVzaCh0KX0sdC5wcm90b3R5cGUub25Eb25lPWZ1bmN0aW9uKHQpe3RoaXMuX29uRG9uZUZucy5wdXNoKHQpfSx0LnByb3RvdHlwZS5oYXNTdGFydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXJ0ZWR9LHQucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24oKXtzKHRoaXMucGFyZW50UGxheWVyKXx8dGhpcy5pbml0KCksdGhpcy5oYXNTdGFydGVkKCl8fCh0aGlzLl9vblN0YXJ0Rm5zLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQoKX0pLHRoaXMuX29uU3RhcnRGbnM9W10sdGhpcy5fc3RhcnRlZD0hMCksdGhpcy5fYWN0aXZlUGxheWVyLnBsYXkoKX0sdC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmVQbGF5ZXIucGF1c2UoKX0sdC5wcm90b3R5cGUucmVzdGFydD1mdW5jdGlvbigpe3RoaXMucmVzZXQoKSx0aGlzLl9wbGF5ZXJzLmxlbmd0aD4wJiZ0aGlzLl9wbGF5ZXJzWzBdLnJlc3RhcnQoKX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQucmVzZXQoKX0pLHRoaXMuX2Rlc3Ryb3llZD0hMSx0aGlzLl9maW5pc2hlZD0hMSx0aGlzLl9zdGFydGVkPSExfSx0LnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oKXt0aGlzLl9vbkZpbmlzaCgpLHRoaXMuX3BsYXllcnMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5maW5pc2goKX0pfSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveWVkfHwodGhpcy5fb25GaW5pc2goKSx0aGlzLl9wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVzdHJveSgpfSksdGhpcy5fZGVzdHJveWVkPSEwLHRoaXMuX2FjdGl2ZVBsYXllcj1uZXcgY28pfSx0LnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9wbGF5ZXJzWzBdLnNldFBvc2l0aW9uKHQpfSx0LnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wbGF5ZXJzWzBdLmdldFBvc2l0aW9uKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBsYXllcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BsYXllcnN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdH0oKSxwbz10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0saG89XCIqXCIsZm89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5uYW1lPXQsdGhpcy5kZWZpbml0aW9ucz1lfXJldHVybiB0fSgpLHlvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKSxtbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMpLHRoaXMuc3RhdGVOYW1lRXhwcj1lLHRoaXMuc3R5bGVzPW59cmV0dXJuIHBvKGUsdCksZX0oeW8pLHZvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyksdGhpcy5zdGF0ZUNoYW5nZUV4cHI9ZSx0aGlzLnN0ZXBzPW59cmV0dXJuIHBvKGUsdCksZX0oeW8pLGdvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKSxfbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzKSx0aGlzLnN0ZXBzPWV9cmV0dXJuIHBvKGUsdCksZX0oZ28pLGJvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2b2lkIDA9PT1uJiYobj1udWxsKSx0LmNhbGwodGhpcyksdGhpcy5zdHlsZXM9ZSx0aGlzLm9mZnNldD1ufXJldHVybiBwbyhlLHQpLGV9KGdvKSx3bz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMpLHRoaXMudGltaW5ncz1lLHRoaXMuc3R5bGVzPW59cmV0dXJuIHBvKGUsdCksZX0oZ28pLENvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmNhbGwodGhpcyl9cmV0dXJuIHBvKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3RlcHNcIix7Z2V0OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiTk9UIElNUExFTUVOVEVEOiBCYXNlIENsYXNzXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGV9KGdvKSxFbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzKSx0aGlzLl9zdGVwcz1lfXJldHVybiBwbyhlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInN0ZXBzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVwc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlfShDbyksU289ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyksdGhpcy5fc3RlcHM9ZX1yZXR1cm4gcG8oZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzdGVwc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlcHN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZX0oQ28pLHhvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnN0eWxlcz10fXJldHVybiB0fSgpLFBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10LmZyb21TdGF0ZSxuPXQudG9TdGF0ZSxyPXQudG90YWxUaW1lLGk9dC5waGFzZU5hbWU7dGhpcy5mcm9tU3RhdGU9ZSx0aGlzLnRvU3RhdGU9bix0aGlzLnRvdGFsVGltZT1yLHRoaXMucGhhc2VOYW1lPWl9cmV0dXJuIHR9KCksT289ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMuX3BsYXllcj10LHRoaXMuX2Zyb21TdGF0ZT1lLHRoaXMuX3RvU3RhdGU9bix0aGlzLl90b3RhbFRpbWU9cn1yZXR1cm4gdC5wcm90b3R5cGUuX2NyZWF0ZUV2ZW50PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUG8oe2Zyb21TdGF0ZTp0aGlzLl9mcm9tU3RhdGUsdG9TdGF0ZTp0aGlzLl90b1N0YXRlLHRvdGFsVGltZTp0aGlzLl90b3RhbFRpbWUscGhhc2VOYW1lOnR9KX0sdC5wcm90b3R5cGUub25TdGFydD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49Wm9uZS5jdXJyZW50LndyYXAoZnVuY3Rpb24oKXtyZXR1cm4gdChlLl9jcmVhdGVFdmVudChcInN0YXJ0XCIpKX0sXCJwbGF5ZXIub25TdGFydFwiKTt0aGlzLl9wbGF5ZXIub25TdGFydChuKX0sdC5wcm90b3R5cGUub25Eb25lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1ab25lLmN1cnJlbnQud3JhcChmdW5jdGlvbigpe3JldHVybiB0KGUuX2NyZWF0ZUV2ZW50KFwiZG9uZVwiKSl9LFwicGxheWVyLm9uRG9uZVwiKTt0aGlzLl9wbGF5ZXIub25Eb25lKG4pfSx0fSgpLFRvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9kZWxlZ2F0ZT10fXJldHVybiB0LnByb3RvdHlwZS5yZW5kZXJDb21wb25lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBBbyh0aGlzLl9kZWxlZ2F0ZS5yZW5kZXJDb21wb25lbnQodCkpfSx0fSgpLEFvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9kZWxlZ2F0ZT10fXJldHVybiB0LnByb3RvdHlwZS5zZWxlY3RSb290RWxlbWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2RlbGVnYXRlLnNlbGVjdFJvb3RFbGVtZW50KHQsZSkscj1uZXcgJGkobixudWxsLGUpO3JldHVybiB6dChyKSxufSx0LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLl9kZWxlZ2F0ZS5jcmVhdGVFbGVtZW50KHQsZSxuKSxpPW5ldyAkaShyLHF0KHQpLG4pO3JldHVybiBpLm5hbWU9ZSx6dChpKSxyfSx0LnByb3RvdHlwZS5jcmVhdGVWaWV3Um9vdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuY3JlYXRlVmlld1Jvb3QodCl9LHQucHJvdG90eXBlLmNyZWF0ZVRlbXBsYXRlQW5jaG9yPWZ1bmN0aW9uKHQsZSl7XG52YXIgbj10aGlzLl9kZWxlZ2F0ZS5jcmVhdGVUZW1wbGF0ZUFuY2hvcih0LGUpLHI9bmV3IFhpKG4scXQodCksZSk7cmV0dXJuIHp0KHIpLG59LHQucHJvdG90eXBlLmNyZWF0ZVRleHQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2RlbGVnYXRlLmNyZWF0ZVRleHQodCxlLG4pLGk9bmV3IFhpKHIscXQodCksbik7cmV0dXJuIHp0KGkpLHJ9LHQucHJvdG90eXBlLnByb2plY3ROb2Rlcz1mdW5jdGlvbih0LGUpe3ZhciBuPXF0KHQpO2lmKHMobikmJm4gaW5zdGFuY2VvZiAkaSl7dmFyIHI9bjtlLmZvckVhY2goZnVuY3Rpb24odCl7ci5hZGRDaGlsZChxdCh0KSl9KX10aGlzLl9kZWxlZ2F0ZS5wcm9qZWN0Tm9kZXModCxlKX0sdC5wcm90b3R5cGUuYXR0YWNoVmlld0FmdGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49cXQodCk7aWYocyhuKSl7dmFyIHI9bi5wYXJlbnQ7aWYoZS5sZW5ndGg+MCYmcyhyKSl7dmFyIGk9W107ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBpLnB1c2gocXQodCkpfSksci5pbnNlcnRDaGlsZHJlbkFmdGVyKG4saSl9fXRoaXMuX2RlbGVnYXRlLmF0dGFjaFZpZXdBZnRlcih0LGUpfSx0LnByb3RvdHlwZS5kZXRhY2hWaWV3PWZ1bmN0aW9uKHQpe3QuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1xdCh0KTtzKGUpJiZzKGUucGFyZW50KSYmZS5wYXJlbnQucmVtb3ZlQ2hpbGQoZSl9KSx0aGlzLl9kZWxlZ2F0ZS5kZXRhY2hWaWV3KHQpfSx0LnByb3RvdHlwZS5kZXN0cm95Vmlldz1mdW5jdGlvbih0LGUpe2U9ZXx8W10sZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1d0KHF0KHQpKX0pLHRoaXMuX2RlbGVnYXRlLmRlc3Ryb3lWaWV3KHQsZSl9LHQucHJvdG90eXBlLmxpc3Rlbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9cXQodCk7cmV0dXJuIHMocikmJnIubGlzdGVuZXJzLnB1c2gobmV3IEdpKGUsbikpLHRoaXMuX2RlbGVnYXRlLmxpc3Rlbih0LGUsbil9LHQucHJvdG90eXBlLmxpc3Rlbkdsb2JhbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmxpc3Rlbkdsb2JhbCh0LGUsbil9LHQucHJvdG90eXBlLnNldEVsZW1lbnRQcm9wZXJ0eT1mdW5jdGlvbih0LGUsbil7dmFyIHI9cXQodCk7cyhyKSYmciBpbnN0YW5jZW9mICRpJiYoci5wcm9wZXJ0aWVzW2VdPW4pLHRoaXMuX2RlbGVnYXRlLnNldEVsZW1lbnRQcm9wZXJ0eSh0LGUsbil9LHQucHJvdG90eXBlLnNldEVsZW1lbnRBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXF0KHQpO3MocikmJnIgaW5zdGFuY2VvZiAkaSYmKHIuYXR0cmlidXRlc1tlXT1uKSx0aGlzLl9kZWxlZ2F0ZS5zZXRFbGVtZW50QXR0cmlidXRlKHQsZSxuKX0sdC5wcm90b3R5cGUuc2V0QmluZGluZ0RlYnVnSW5mbz1mdW5jdGlvbih0LGUsbil7dGhpcy5fZGVsZWdhdGUuc2V0QmluZGluZ0RlYnVnSW5mbyh0LGUsbil9LHQucHJvdG90eXBlLnNldEVsZW1lbnRDbGFzcz1mdW5jdGlvbih0LGUsbil7dmFyIHI9cXQodCk7cyhyKSYmciBpbnN0YW5jZW9mICRpJiYoci5jbGFzc2VzW2VdPW4pLHRoaXMuX2RlbGVnYXRlLnNldEVsZW1lbnRDbGFzcyh0LGUsbil9LHQucHJvdG90eXBlLnNldEVsZW1lbnRTdHlsZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9cXQodCk7cyhyKSYmciBpbnN0YW5jZW9mICRpJiYoci5zdHlsZXNbZV09biksdGhpcy5fZGVsZWdhdGUuc2V0RWxlbWVudFN0eWxlKHQsZSxuKX0sdC5wcm90b3R5cGUuaW52b2tlRWxlbWVudE1ldGhvZD1mdW5jdGlvbih0LGUsbil7dGhpcy5fZGVsZWdhdGUuaW52b2tlRWxlbWVudE1ldGhvZCh0LGUsbil9LHQucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9kZWxlZ2F0ZS5zZXRUZXh0KHQsZSl9LHQucHJvdG90eXBlLmFuaW1hdGU9ZnVuY3Rpb24odCxlLG4scixpLG8scyl7cmV0dXJuIHZvaWQgMD09PXMmJihzPVtdKSx0aGlzLl9kZWxlZ2F0ZS5hbmltYXRlKHQsZSxuLHIsaSxvLHMpfSx0fSgpLE1vPXt9O01vLkhPU1Q9MCxNby5DT01QT05FTlQ9MSxNby5FTUJFRERFRD0yLE1vW01vLkhPU1RdPVwiSE9TVFwiLE1vW01vLkNPTVBPTkVOVF09XCJDT01QT05FTlRcIixNb1tNby5FTUJFRERFRF09XCJFTUJFRERFRFwiO3ZhciBrbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMucHJvdmlkZXJUb2tlbnM9dCx0aGlzLmNvbXBvbmVudFRva2VuPWUsdGhpcy5yZWZUb2tlbnM9bn1yZXR1cm4gdH0oKSxSbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scil7dGhpcy5fdmlldz10LHRoaXMuX25vZGVJbmRleD1lLHRoaXMuX3RwbFJvdz1uLHRoaXMuX3RwbENvbD1yfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJfc3RhdGljTm9kZUluZm9cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHModGhpcy5fbm9kZUluZGV4KT90aGlzLl92aWV3LnN0YXRpY05vZGVEZWJ1Z0luZm9zW3RoaXMuX25vZGVJbmRleF06bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb250ZXh0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3LmNvbnRleHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY29tcG9uZW50XCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0YXRpY05vZGVJbmZvO3JldHVybiBzKHQpJiZzKHQuY29tcG9uZW50VG9rZW4pP3RoaXMuaW5qZWN0b3IuZ2V0KHQuY29tcG9uZW50VG9rZW4pOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY29tcG9uZW50UmVuZGVyRWxlbWVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fdmlldztzKHQucGFyZW50VmlldykmJnQudHlwZSE9PU1vLkNPTVBPTkVOVDspdD10LnBhcmVudFZpZXc7cmV0dXJuIHQucGFyZW50RWxlbWVudH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpbmplY3RvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlldy5pbmplY3Rvcih0aGlzLl9ub2RlSW5kZXgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInJlbmRlck5vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHModGhpcy5fbm9kZUluZGV4KSYmdGhpcy5fdmlldy5hbGxOb2Rlcz90aGlzLl92aWV3LmFsbE5vZGVzW3RoaXMuX25vZGVJbmRleF06bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJwcm92aWRlclRva2Vuc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdGF0aWNOb2RlSW5mbztyZXR1cm4gcyh0KT90LnByb3ZpZGVyVG9rZW5zOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwic291cmNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3LmNvbXBvbmVudFR5cGUudGVtcGxhdGVVcmwrXCI6XCIrdGhpcy5fdHBsUm93K1wiOlwiK3RoaXMuX3RwbENvbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyZWZlcmVuY2VzXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT17fSxuPXRoaXMuX3N0YXRpY05vZGVJbmZvO2lmKHMobikpe3ZhciByPW4ucmVmVG9rZW5zO09iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGksbz1yW25dO2k9YShvKT90Ll92aWV3LmFsbE5vZGVzP3QuX3ZpZXcuYWxsTm9kZXNbdC5fbm9kZUluZGV4XTpudWxsOnQuX3ZpZXcuaW5qZWN0b3JHZXQobyx0Ll9ub2RlSW5kZXgsbnVsbCksZVtuXT1pfSl9cmV0dXJuIGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdH0oKSxJbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9tYXA9bmV3IE1hcCx0aGlzLl9hbGxQbGF5ZXJzPVtdfXJldHVybiB0LnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbWFwLmdldCh0KTtpZihzKG4pKXJldHVybiBuW2VdfSx0LnByb3RvdHlwZS5maW5kQWxsUGxheWVyc0J5RWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXAuZ2V0KHQpO3JldHVybiBlP09iamVjdC5rZXlzKGUpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pOltdfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX21hcC5nZXQodCk7cyhyKXx8KHI9e30pO3ZhciBpPXJbZV07cyhpKSYmdGhpcy5yZW1vdmUodCxlKSxyW2VdPW4sdGhpcy5fYWxsUGxheWVycy5wdXNoKG4pLHRoaXMuX21hcC5zZXQodCxyKX0sdC5wcm90b3R5cGUuZ2V0QWxsUGxheWVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbGxQbGF5ZXJzfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciByPXRoaXMuX21hcC5nZXQodCk7aWYocil7dmFyIGk9cltlXTtpZighbnx8aT09PW4pe2RlbGV0ZSByW2VdO3ZhciBvPXRoaXMuX2FsbFBsYXllcnMuaW5kZXhPZihpKTt0aGlzLl9hbGxQbGF5ZXJzLnNwbGljZShvLDEpLDA9PT1PYmplY3Qua2V5cyhyKS5sZW5ndGgmJnRoaXMuX21hcC5kZWxldGUodCl9fX0sdH0oKSxObz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fYW5pbWF0aW9uUXVldWU9dCx0aGlzLl9wbGF5ZXJzPW5ldyBJb31yZXR1cm4gdC5wcm90b3R5cGUub25BbGxBY3RpdmVBbmltYXRpb25zRG9uZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wbGF5ZXJzLmdldEFsbFBsYXllcnMoKTtlLmxlbmd0aD9uZXcgc28oZSkub25Eb25lKGZ1bmN0aW9uKCl7cmV0dXJuIHQoKX0pOnQoKX0sdC5wcm90b3R5cGUucXVldWVBbmltYXRpb249ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7dGhpcy5fYW5pbWF0aW9uUXVldWUuZW5xdWV1ZShuKSx0aGlzLl9wbGF5ZXJzLnNldCh0LGUsbiksbi5vbkRvbmUoZnVuY3Rpb24oKXtyZXR1cm4gci5fcGxheWVycy5yZW1vdmUodCxlLG4pfSl9LHQucHJvdG90eXBlLmdldEFuaW1hdGlvblBsYXllcnM9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1udWxsKTt2YXIgbj1bXTtpZihlKXt2YXIgcj10aGlzLl9wbGF5ZXJzLmZpbmQodCxlKTtyJiZsZShyLG4pfWVsc2UgdGhpcy5fcGxheWVycy5maW5kQWxsUGxheWVyc0J5RWxlbWVudCh0KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBsZSh0LG4pfSk7cmV0dXJuIG59LHR9KCksRG89dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9LGpvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyksdGhpcy5fdmlldz1lLHRoaXMuX25vZGVJbmRleD1ufXJldHVybiBEbyhlLHQpLGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1ybiksdGhpcy5fdmlldy5pbmplY3RvckdldCh0LHRoaXMuX25vZGVJbmRleCxlKX0sZX0oc24pLFZvPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSxMbz1haShcIkFwcFZpZXcjY2hlY2soYXNjaWkgaWQpXCIpLEZvPW5ldyBPYmplY3QsVW89bmV3IE9iamVjdCxIbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpLG8scyxhLHUpe3ZvaWQgMD09PXUmJih1PW51bGwpLHRoaXMuY2xheno9dCx0aGlzLmNvbXBvbmVudFR5cGU9ZSx0aGlzLnR5cGU9bix0aGlzLnZpZXdVdGlscz1yLHRoaXMucGFyZW50Vmlldz1pLHRoaXMucGFyZW50SW5kZXg9byx0aGlzLnBhcmVudEVsZW1lbnQ9cyx0aGlzLmNkTW9kZT1hLHRoaXMuZGVjbGFyZWRWaWV3Q29udGFpbmVyPXUsdGhpcy5udW1iZXJPZkNoZWNrcz0wLHRoaXMucmVmPW5ldyB6aSh0aGlzLHIuYW5pbWF0aW9uUXVldWUpLG49PT1Nby5DT01QT05FTlR8fG49PT1Nby5IT1NUP3RoaXMucmVuZGVyZXI9ci5yZW5kZXJDb21wb25lbnQoZSk6dGhpcy5yZW5kZXJlcj1pLnJlbmRlcmVyLHRoaXMuX2RpcmVjdFJlbmRlcmVyPXRoaXMucmVuZGVyZXIuZGlyZWN0UmVuZGVyZXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFuaW1hdGlvbkNvbnRleHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvbkNvbnRleHR8fCh0aGlzLl9hbmltYXRpb25Db250ZXh0PW5ldyBObyh0aGlzLnZpZXdVdGlscy5hbmltYXRpb25RdWV1ZSkpLHRoaXMuX2FuaW1hdGlvbkNvbnRleHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZGVzdHJveWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNkTW9kZT09PWtlLkRlc3Ryb3llZH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGV4dD10LHRoaXMuY3JlYXRlSW50ZXJuYWwobnVsbCl9LHQucHJvdG90eXBlLmNyZWF0ZUhvc3RWaWV3PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5jb250ZXh0PUZvLHRoaXMuX2hhc0V4dGVybmFsSG9zdEVsZW1lbnQ9cyh0KSx0aGlzLl9ob3N0SW5qZWN0b3I9ZSx0aGlzLl9ob3N0UHJvamVjdGFibGVOb2Rlcz1uLHRoaXMuY3JlYXRlSW50ZXJuYWwodCl9LHQucHJvdG90eXBlLmNyZWF0ZUludGVybmFsPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS5jcmVhdGVFbWJlZGRlZFZpZXdJbnRlcm5hbD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dGhpcy5sYXN0Um9vdE5vZGU9dCx0aGlzLmFsbE5vZGVzPWUsdGhpcy5kaXNwb3NhYmxlcz1uLHRoaXMudHlwZT09PU1vLkNPTVBPTkVOVCYmdGhpcy5kaXJ0eVBhcmVudFF1ZXJpZXNJbnRlcm5hbCgpfSx0LnByb3RvdHlwZS5pbmplY3RvckdldD1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49cm4pO2Zvcih2YXIgcj1VbyxpPXRoaXM7cj09PVVvOylzKGUpJiYocj1pLmluamVjdG9yR2V0SW50ZXJuYWwodCxlLFVvKSkscj09PVVvJiZpLnR5cGU9PT1Nby5IT1NUJiYocj1pLl9ob3N0SW5qZWN0b3IuZ2V0KHQsbikpLGU9aS5wYXJlbnRJbmRleCxpPWkucGFyZW50VmlldztyZXR1cm4gcn0sdC5wcm90b3R5cGUuaW5qZWN0b3JHZXRJbnRlcm5hbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG59LHQucHJvdG90eXBlLmluamVjdG9yPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgam8odGhpcyx0KX0sdC5wcm90b3R5cGUuZGV0YWNoQW5kRGVzdHJveT1mdW5jdGlvbigpe3RoaXMudmlld0NvbnRhaW5lcj90aGlzLnZpZXdDb250YWluZXIuZGV0YWNoVmlldyh0aGlzLnZpZXdDb250YWluZXIubmVzdGVkVmlld3MuaW5kZXhPZih0aGlzKSk6dGhpcy5hcHBSZWY/dGhpcy5hcHBSZWYuZGV0YWNoVmlldyh0aGlzLnJlZik6dGhpcy5faGFzRXh0ZXJuYWxIb3N0RWxlbWVudCYmdGhpcy5kZXRhY2goKSx0aGlzLmRlc3Ryb3koKX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5jZE1vZGUhPT1rZS5EZXN0cm95ZWQpe3ZhciBlPXRoaXMudHlwZT09PU1vLkNPTVBPTkVOVD90aGlzLnBhcmVudEVsZW1lbnQ6bnVsbDtpZih0aGlzLmRpc3Bvc2FibGVzKWZvcih2YXIgbj0wO248dGhpcy5kaXNwb3NhYmxlcy5sZW5ndGg7bisrKXRoaXMuZGlzcG9zYWJsZXNbbl0oKTt0aGlzLmRlc3Ryb3lJbnRlcm5hbCgpLHRoaXMuZGlydHlQYXJlbnRRdWVyaWVzSW50ZXJuYWwoKSx0aGlzLl9hbmltYXRpb25Db250ZXh0P3RoaXMuX2FuaW1hdGlvbkNvbnRleHQub25BbGxBY3RpdmVBbmltYXRpb25zRG9uZShmdW5jdGlvbigpe3JldHVybiB0LnJlbmRlcmVyLmRlc3Ryb3lWaWV3KGUsdC5hbGxOb2Rlcyl9KTp0aGlzLnJlbmRlcmVyLmRlc3Ryb3lWaWV3KGUsdGhpcy5hbGxOb2RlcyksdGhpcy5jZE1vZGU9a2UuRGVzdHJveWVkfX0sdC5wcm90b3R5cGUuZGVzdHJveUludGVybmFsPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5kZXRhY2hJbnRlcm5hbD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZGV0YWNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLmRldGFjaEludGVybmFsKCksdGhpcy5fYW5pbWF0aW9uQ29udGV4dD90aGlzLl9hbmltYXRpb25Db250ZXh0Lm9uQWxsQWN0aXZlQW5pbWF0aW9uc0RvbmUoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcmVuZGVyRGV0YWNoKCl9KTp0aGlzLl9yZW5kZXJEZXRhY2goKSx0aGlzLmRlY2xhcmVkVmlld0NvbnRhaW5lciYmdGhpcy5kZWNsYXJlZFZpZXdDb250YWluZXIhPT10aGlzLnZpZXdDb250YWluZXImJnRoaXMuZGVjbGFyZWRWaWV3Q29udGFpbmVyLnByb2plY3RlZFZpZXdzKXt2YXIgZT10aGlzLmRlY2xhcmVkVmlld0NvbnRhaW5lci5wcm9qZWN0ZWRWaWV3cyxuPWUuaW5kZXhPZih0aGlzKTtuPj1lLmxlbmd0aC0xP2UucG9wKCk6ZS5zcGxpY2UobiwxKX10aGlzLmFwcFJlZj1udWxsLHRoaXMudmlld0NvbnRhaW5lcj1udWxsLHRoaXMuZGlydHlQYXJlbnRRdWVyaWVzSW50ZXJuYWwoKX0sdC5wcm90b3R5cGUuX3JlbmRlckRldGFjaD1mdW5jdGlvbigpe3RoaXMuX2RpcmVjdFJlbmRlcmVyP3RoaXMudmlzaXRSb290Tm9kZXNJbnRlcm5hbCh0aGlzLl9kaXJlY3RSZW5kZXJlci5yZW1vdmUsbnVsbCk6dGhpcy5yZW5kZXJlci5kZXRhY2hWaWV3KHRoaXMuZmxhdFJvb3ROb2Rlcyl9LHQucHJvdG90eXBlLmF0dGFjaFRvQXBwUmVmPWZ1bmN0aW9uKHQpe2lmKHRoaXMudmlld0NvbnRhaW5lcil0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIFZpZXdDb250YWluZXIhXCIpO3RoaXMuYXBwUmVmPXQsdGhpcy5kaXJ0eVBhcmVudFF1ZXJpZXNJbnRlcm5hbCgpfSx0LnByb3RvdHlwZS5hdHRhY2hBZnRlcj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuYXBwUmVmKXRocm93IG5ldyBFcnJvcihcIlRoaXMgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoZSBBcHBsaWNhdGlvblJlZiFcIik7dGhpcy5fcmVuZGVyQXR0YWNoKHQsZSksdGhpcy52aWV3Q29udGFpbmVyPXQsdGhpcy5kZWNsYXJlZFZpZXdDb250YWluZXImJnRoaXMuZGVjbGFyZWRWaWV3Q29udGFpbmVyIT09dCYmKHRoaXMuZGVjbGFyZWRWaWV3Q29udGFpbmVyLnByb2plY3RlZFZpZXdzfHwodGhpcy5kZWNsYXJlZFZpZXdDb250YWluZXIucHJvamVjdGVkVmlld3M9W10pLHRoaXMuZGVjbGFyZWRWaWV3Q29udGFpbmVyLnByb2plY3RlZFZpZXdzLnB1c2godGhpcykpLHRoaXMuZGlydHlQYXJlbnRRdWVyaWVzSW50ZXJuYWwoKX0sdC5wcm90b3R5cGUubW92ZUFmdGVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcmVuZGVyQXR0YWNoKHQsZSksdGhpcy5kaXJ0eVBhcmVudFF1ZXJpZXNJbnRlcm5hbCgpfSx0LnByb3RvdHlwZS5fcmVuZGVyQXR0YWNoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZT9lLmxhc3RSb290Tm9kZTp0Lm5hdGl2ZUVsZW1lbnQ7aWYodGhpcy5fZGlyZWN0UmVuZGVyZXIpe3ZhciByPXRoaXMuX2RpcmVjdFJlbmRlcmVyLm5leHRTaWJsaW5nKG4pO2lmKHIpdGhpcy52aXNpdFJvb3ROb2Rlc0ludGVybmFsKHRoaXMuX2RpcmVjdFJlbmRlcmVyLmluc2VydEJlZm9yZSxyKTtlbHNle3ZhciBpPXRoaXMuX2RpcmVjdFJlbmRlcmVyLnBhcmVudEVsZW1lbnQobik7aSYmdGhpcy52aXNpdFJvb3ROb2Rlc0ludGVybmFsKHRoaXMuX2RpcmVjdFJlbmRlcmVyLmFwcGVuZENoaWxkLGkpfX1lbHNlIHRoaXMucmVuZGVyZXIuYXR0YWNoVmlld0FmdGVyKG4sdGhpcy5mbGF0Um9vdE5vZGVzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY2hhbmdlRGV0ZWN0b3JSZWZcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVmfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImZsYXRSb290Tm9kZXNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMudmlzaXRSb290Tm9kZXNJbnRlcm5hbChLLHQpLHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucHJvamVjdE5vZGVzPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZGlyZWN0UmVuZGVyZXIpdGhpcy52aXNpdFByb2plY3RlZE5vZGVzKGUsdGhpcy5fZGlyZWN0UmVuZGVyZXIuYXBwZW5kQ2hpbGQsdCk7ZWxzZXt2YXIgbj1bXTt0aGlzLnZpc2l0UHJvamVjdGVkTm9kZXMoZSxLLG4pLHRoaXMucmVuZGVyZXIucHJvamVjdE5vZGVzKHQsbil9fSx0LnByb3RvdHlwZS52aXNpdFByb2plY3RlZE5vZGVzPWZ1bmN0aW9uKHQsZSxuKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlIE1vLkVNQkVEREVEOnRoaXMucGFyZW50Vmlldy52aXNpdFByb2plY3RlZE5vZGVzKHQsZSxuKTticmVhaztjYXNlIE1vLkNPTVBPTkVOVDppZih0aGlzLnBhcmVudFZpZXcudHlwZT09PU1vLkhPU1QpZm9yKHZhciByPXRoaXMucGFyZW50Vmlldy5faG9zdFByb2plY3RhYmxlTm9kZXNbdF18fFtdLGk9MDtpPHIubGVuZ3RoO2krKyllKHJbaV0sbik7ZWxzZSB0aGlzLnBhcmVudFZpZXcudmlzaXRQcm9qZWN0YWJsZU5vZGVzSW50ZXJuYWwodGhpcy5wYXJlbnRJbmRleCx0LGUsbil9fSx0LnByb3RvdHlwZS52aXNpdFJvb3ROb2Rlc0ludGVybmFsPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS52aXNpdFByb2plY3RhYmxlTm9kZXNJbnRlcm5hbD1mdW5jdGlvbih0LGUsbixyKXt9LHQucHJvdG90eXBlLmRpcnR5UGFyZW50UXVlcmllc0ludGVybmFsPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5pbnRlcm5hbERldGVjdENoYW5nZXM9ZnVuY3Rpb24odCl7dGhpcy5jZE1vZGUhPT1rZS5EZXRhY2hlZCYmdGhpcy5kZXRlY3RDaGFuZ2VzKHQpfSx0LnByb3RvdHlwZS5kZXRlY3RDaGFuZ2VzPWZ1bmN0aW9uKHQpe3ZhciBlPUxvKHRoaXMuY2xhenopO3RoaXMuY2RNb2RlIT09a2UuQ2hlY2tlZCYmdGhpcy5jZE1vZGUhPT1rZS5FcnJvcmVkJiYodGhpcy5jZE1vZGU9PT1rZS5EZXN0cm95ZWQmJnRoaXMudGhyb3dEZXN0cm95ZWRFcnJvcihcImRldGVjdENoYW5nZXNcIiksdGhpcy5kZXRlY3RDaGFuZ2VzSW50ZXJuYWwodCksdGhpcy5jZE1vZGU9PT1rZS5DaGVja09uY2UmJih0aGlzLmNkTW9kZT1rZS5DaGVja2VkKSx0aGlzLm51bWJlck9mQ2hlY2tzKyssdWkoZSkpfSx0LnByb3RvdHlwZS5kZXRlY3RDaGFuZ2VzSW50ZXJuYWw9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5tYXJrQXNDaGVja09uY2U9ZnVuY3Rpb24oKXt0aGlzLmNkTW9kZT1rZS5DaGVja09uY2V9LHQucHJvdG90eXBlLm1hcmtQYXRoVG9Sb290QXNDaGVja09uY2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcztzKHQpJiZ0LmNkTW9kZSE9PWtlLkRldGFjaGVkOyl0LmNkTW9kZT09PWtlLkNoZWNrZWQmJih0LmNkTW9kZT1rZS5DaGVja09uY2UpLHQ9dC50eXBlPT09TW8uQ09NUE9ORU5UP3QucGFyZW50Vmlldzp0LnZpZXdDb250YWluZXI/dC52aWV3Q29udGFpbmVyLnBhcmVudFZpZXc6bnVsbH0sdC5wcm90b3R5cGUuZXZlbnRIYW5kbGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0fSx0LnByb3RvdHlwZS50aHJvd0Rlc3Ryb3llZEVycm9yPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBWcih0KX0sdH0oKSxCbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixyLGksbyxzLGEsdSxjLGwpe3ZvaWQgMD09PWwmJihsPW51bGwpLHQuY2FsbCh0aGlzLGUsbixyLGksbyxzLGEsdSxsKSx0aGlzLnN0YXRpY05vZGVEZWJ1Z0luZm9zPWMsdGhpcy5fY3VycmVudERlYnVnQ29udGV4dD1udWxsfXJldHVybiBWbyhlLHQpLGUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihlKXt0aGlzLl9yZXNldERlYnVnKCk7dHJ5e3JldHVybiB0LnByb3RvdHlwZS5jcmVhdGUuY2FsbCh0aGlzLGUpfWNhdGNoKHQpe3Rocm93IHRoaXMuX3JldGhyb3dXaXRoQ29udGV4dCh0KSx0fX0sZS5wcm90b3R5cGUuY3JlYXRlSG9zdFZpZXc9ZnVuY3Rpb24oZSxuLHIpe3ZvaWQgMD09PXImJihyPW51bGwpLHRoaXMuX3Jlc2V0RGVidWcoKTt0cnl7cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZUhvc3RWaWV3LmNhbGwodGhpcyxlLG4scil9Y2F0Y2godCl7dGhyb3cgdGhpcy5fcmV0aHJvd1dpdGhDb250ZXh0KHQpLHR9fSxlLnByb3RvdHlwZS5pbmplY3RvckdldD1mdW5jdGlvbihlLG4scil7dGhpcy5fcmVzZXREZWJ1ZygpO3RyeXtyZXR1cm4gdC5wcm90b3R5cGUuaW5qZWN0b3JHZXQuY2FsbCh0aGlzLGUsbixyKX1jYXRjaCh0KXt0aHJvdyB0aGlzLl9yZXRocm93V2l0aENvbnRleHQodCksdH19LGUucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuX3Jlc2V0RGVidWcoKTt0cnl7dC5wcm90b3R5cGUuZGV0YWNoLmNhbGwodGhpcyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5fcmV0aHJvd1dpdGhDb250ZXh0KHQpLHR9fSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fcmVzZXREZWJ1ZygpO3RyeXt0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9Y2F0Y2godCl7dGhyb3cgdGhpcy5fcmV0aHJvd1dpdGhDb250ZXh0KHQpLHR9fSxlLnByb3RvdHlwZS5kZXRlY3RDaGFuZ2VzPWZ1bmN0aW9uKGUpe3RoaXMuX3Jlc2V0RGVidWcoKTt0cnl7dC5wcm90b3R5cGUuZGV0ZWN0Q2hhbmdlcy5jYWxsKHRoaXMsZSl9Y2F0Y2godCl7dGhyb3cgdGhpcy5fcmV0aHJvd1dpdGhDb250ZXh0KHQpLHR9fSxlLnByb3RvdHlwZS5fcmVzZXREZWJ1Zz1mdW5jdGlvbigpe3RoaXMuX2N1cnJlbnREZWJ1Z0NvbnRleHQ9bnVsbH0sZS5wcm90b3R5cGUuZGVidWc9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLl9jdXJyZW50RGVidWdDb250ZXh0PW5ldyBSbyh0aGlzLHQsZSxuKX0sZS5wcm90b3R5cGUuX3JldGhyb3dXaXRoQ29udGV4dD1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBqcikmJih0IGluc3RhbmNlb2YgRHJ8fCh0aGlzLmNkTW9kZT1rZS5FcnJvcmVkKSxzKHRoaXMuX2N1cnJlbnREZWJ1Z0NvbnRleHQpKSl0aHJvdyBuZXcganIodCx0aGlzLl9jdXJyZW50RGVidWdDb250ZXh0KX0sZS5wcm90b3R5cGUuZXZlbnRIYW5kbGVyPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMscj10LnByb3RvdHlwZS5ldmVudEhhbmRsZXIuY2FsbCh0aGlzLGUpO3JldHVybiBmdW5jdGlvbih0LGUpe24uX3Jlc2V0RGVidWcoKTt0cnl7cmV0dXJuIHIuY2FsbChuLHQsZSl9Y2F0Y2godCl7dGhyb3cgbi5fcmV0aHJvd1dpdGhDb250ZXh0KHQpLHR9fX0sZX0oSG8pLHFvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXt0aGlzLmluZGV4PXQsdGhpcy5wYXJlbnRJbmRleD1lLHRoaXMucGFyZW50Vmlldz1uLHRoaXMubmF0aXZlRWxlbWVudD1yfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJlbGVtZW50UmVmXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgdHIodGhpcy5uYXRpdmVFbGVtZW50KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ2Y1JlZlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFVpKHRoaXMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBhcmVudEluamVjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudFZpZXcuaW5qZWN0b3IodGhpcy5wYXJlbnRJbmRleCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaW5qZWN0b3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50Vmlldy5pbmplY3Rvcih0aGlzLmluZGV4KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kZXRlY3RDaGFuZ2VzSW5OZXN0ZWRWaWV3cz1mdW5jdGlvbih0KXtpZih0aGlzLm5lc3RlZFZpZXdzKWZvcih2YXIgZT0wO2U8dGhpcy5uZXN0ZWRWaWV3cy5sZW5ndGg7ZSsrKXRoaXMubmVzdGVkVmlld3NbZV0uZGV0ZWN0Q2hhbmdlcyh0KX0sdC5wcm90b3R5cGUuZGVzdHJveU5lc3RlZFZpZXdzPWZ1bmN0aW9uKCl7aWYodGhpcy5uZXN0ZWRWaWV3cylmb3IodmFyIHQ9MDt0PHRoaXMubmVzdGVkVmlld3MubGVuZ3RoO3QrKyl0aGlzLm5lc3RlZFZpZXdzW3RdLmRlc3Ryb3koKX0sdC5wcm90b3R5cGUudmlzaXROZXN0ZWRWaWV3Um9vdE5vZGVzPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5uZXN0ZWRWaWV3cylmb3IodmFyIG49MDtuPHRoaXMubmVzdGVkVmlld3MubGVuZ3RoO24rKyl0aGlzLm5lc3RlZFZpZXdzW25dLnZpc2l0Um9vdE5vZGVzSW50ZXJuYWwodCxlKX0sdC5wcm90b3R5cGUubWFwTmVzdGVkVmlld3M9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtpZih0aGlzLm5lc3RlZFZpZXdzKWZvcih2YXIgcj0wO3I8dGhpcy5uZXN0ZWRWaWV3cy5sZW5ndGg7cisrKXt2YXIgaT10aGlzLm5lc3RlZFZpZXdzW3JdO2kuY2xheno9PT10JiZuLnB1c2goZShpKSl9aWYodGhpcy5wcm9qZWN0ZWRWaWV3cylmb3IodmFyIHI9MDtyPHRoaXMucHJvamVjdGVkVmlld3MubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5wcm9qZWN0ZWRWaWV3c1tyXTtvLmNsYXp6PT09dCYmbi5wdXNoKGUobykpfXJldHVybiBufSx0LnByb3RvdHlwZS5tb3ZlVmlldz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubmVzdGVkVmlld3MuaW5kZXhPZih0KTtpZih0LnR5cGU9PT1Nby5DT01QT05FTlQpdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9uZW50IHZpZXdzIGNhbid0IGJlIG1vdmVkIVwiKTt2YXIgcj10aGlzLm5lc3RlZFZpZXdzO251bGw9PXImJihyPVtdLHRoaXMubmVzdGVkVmlld3M9ciksci5zcGxpY2UobiwxKSxyLnNwbGljZShlLDAsdCk7dmFyIGk9ZT4wP3JbZS0xXTpudWxsO3QubW92ZUFmdGVyKHRoaXMsaSl9LHQucHJvdG90eXBlLmF0dGFjaFZpZXc9ZnVuY3Rpb24odCxlKXtpZih0LnR5cGU9PT1Nby5DT01QT05FTlQpdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9uZW50IHZpZXdzIGNhbid0IGJlIG1vdmVkIVwiKTt2YXIgbj10aGlzLm5lc3RlZFZpZXdzO251bGw9PW4mJihuPVtdLHRoaXMubmVzdGVkVmlld3M9biksZT49bi5sZW5ndGg/bi5wdXNoKHQpOm4uc3BsaWNlKGUsMCx0KTt2YXIgcj1lPjA/bltlLTFdOm51bGw7dC5hdHRhY2hBZnRlcih0aGlzLHIpfSx0LnByb3RvdHlwZS5kZXRhY2hWaWV3PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubmVzdGVkVmlld3NbdF07aWYodD49dGhpcy5uZXN0ZWRWaWV3cy5sZW5ndGgtMT90aGlzLm5lc3RlZFZpZXdzLnBvcCgpOnRoaXMubmVzdGVkVmlld3Muc3BsaWNlKHQsMSksZS50eXBlPT09TW8uQ09NUE9ORU5UKXRocm93IG5ldyBFcnJvcihcIkNvbXBvbmVudCB2aWV3cyBjYW4ndCBiZSBtb3ZlZCFcIik7cmV0dXJuIGUuZGV0YWNoKCksZX0sdH0oKSx6bz17aXNEZWZhdWx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3k6QyxDaGFuZ2VEZXRlY3RvclN0YXR1czprZSxjb25zdHJ1Y3REZXBlbmRlbmNpZXM6RCxMaWZlY3ljbGVIb29rczpGZSxMSUZFQ1lDTEVfSE9PS1NfVkFMVUVTOlVlLFJlZmxlY3RvclJlYWRlcjp4bixDb2RlZ2VuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyOm9pLENvbXBvbmVudFJlZl86SnIsVmlld0NvbnRhaW5lcjpxbyxBcHBWaWV3OkhvLERlYnVnQXBwVmlldzpCbyxOZ01vZHVsZUluamVjdG9yOk9pLHJlZ2lzdGVyTW9kdWxlRmFjdG9yeTpWdCxWaWV3VHlwZTpNbyx2aWV3X3V0aWxzOllyLFZpZXdNZXRhZGF0YTpKZSxEZWJ1Z0NvbnRleHQ6Um8sU3RhdGljTm9kZURlYnVnSW5mbzprbyxkZXZNb2RlRXF1YWw6USxVTklOSVRJQUxJWkVEOm1yLFZhbHVlVW53cmFwcGVyOmdyLFJlbmRlckRlYnVnSW5mbzpQcixUZW1wbGF0ZVJlZl86TGksUmVmbGVjdGlvbkNhcGFiaWxpdGllczpTbixtYWtlRGVjb3JhdG9yOmcsRGVidWdEb21Sb290UmVuZGVyZXI6VG8sQ29uc29sZTpYbixyZWZsZWN0b3I6VG4sUmVmbGVjdG9yOk9uLE5vT3BBbmltYXRpb25QbGF5ZXI6Y28sQW5pbWF0aW9uUGxheWVyOnVvLEFuaW1hdGlvblNlcXVlbmNlUGxheWVyOmxvLEFuaW1hdGlvbkdyb3VwUGxheWVyOnNvLEFuaW1hdGlvbktleWZyYW1lOmFvLHByZXBhcmVGaW5hbEFuaW1hdGlvblN0eWxlczppZSxiYWxhbmNlQW5pbWF0aW9uS2V5ZnJhbWVzOm9lLGZsYXR0ZW5TdHlsZXM6Y2UsY2xlYXJTdHlsZXM6c2UscmVuZGVyU3R5bGVzOnVlLGNvbGxlY3RBbmRSZXNvbHZlU3R5bGVzOmFlLEFQUF9JRF9SQU5ET01fUFJPVklERVI6cW4sQW5pbWF0aW9uU3R5bGVzOnhvLEFOWV9TVEFURTpybyxERUZBVUxUX1NUQVRFOmlvLEVNUFRZX1NUQVRFOm9vLEZJTExfU1RZTEVfRkxBRzpubyxDb21wb25lbnRTdGlsbExvYWRpbmdFcnJvcjpRbixpc1Byb21pc2U6cSxpc09ic2VydmFibGU6eixBbmltYXRpb25UcmFuc2l0aW9uOk9vfTt0LmNyZWF0ZVBsYXRmb3JtPWt0LHQuYXNzZXJ0UGxhdGZvcm09SXQsdC5kZXN0cm95UGxhdGZvcm09TnQsdC5nZXRQbGF0Zm9ybT1EdCx0LlBsYXRmb3JtUmVmPV9pLHQuQXBwbGljYXRpb25SZWY9d2ksdC5lbmFibGVQcm9kTW9kZT1BdCx0LmlzRGV2TW9kZT1NdCx0LmNyZWF0ZVBsYXRmb3JtRmFjdG9yeT1SdCx0Lk5nUHJvYmVUb2tlbj1naSx0LkFQUF9JRD1Cbix0LlBBQ0tBR0VfUk9PVF9VUkw9R24sdC5QTEFURk9STV9JTklUSUFMSVpFUj16bix0LkFQUF9CT09UU1RSQVBfTElTVEVORVI9V24sdC5BUFBfSU5JVElBTElaRVI9VW4sdC5BcHBsaWNhdGlvbkluaXRTdGF0dXM9SG4sdC5EZWJ1Z0VsZW1lbnQ9JGksdC5EZWJ1Z05vZGU9WGksdC5hc05hdGl2ZUVsZW1lbnRzPVV0LHQuZ2V0RGVidWdOb2RlPXF0LHQuVGVzdGFiaWxpdHk9cGksdC5UZXN0YWJpbGl0eVJlZ2lzdHJ5PWhpLHQuc2V0VGVzdGFiaWxpdHlHZXR0ZXI9VHQsdC5UUkFOU0xBVElPTlM9SmksdC5UUkFOU0xBVElPTlNfRk9STUFUPXRvLHQuTE9DQUxFX0lEPVppLHQuQXBwbGljYXRpb25Nb2R1bGU9ZW8sdC53dGZDcmVhdGVTY29wZT1haSx0Lnd0ZkxlYXZlPXVpLHQud3RmU3RhcnRUaW1lUmFuZ2U9Y2ksdC53dGZFbmRUaW1lUmFuZ2U9bGksdC5UeXBlPUNuLHQuRXZlbnRFbWl0dGVyPW5yLHQuRXJyb3JIYW5kbGVyPVZuLHQuQW5pbWF0aW9uVHJhbnNpdGlvbkV2ZW50PVBvLHQuQW5pbWF0aW9uUGxheWVyPXVvLHQuQW5pbWF0aW9uU3R5bGVzPXhvLHQuQW5pbWF0aW9uS2V5ZnJhbWU9YW8sdC5TYW5pdGl6ZXI9SXIsdC5TZWN1cml0eUNvbnRleHQ9QXIsdC5BTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTPUVlLHQuQXR0cmlidXRlPVNlLHQuQ29udGVudENoaWxkPU9lLHQuQ29udGVudENoaWxkcmVuPVBlLHQuUXVlcnk9eGUsdC5WaWV3Q2hpbGQ9QWUsdC5WaWV3Q2hpbGRyZW49VGUsdC5Db21wb25lbnQ9SWUsdC5EaXJlY3RpdmU9UmUsdC5Ib3N0QmluZGluZz1WZSx0Lkhvc3RMaXN0ZW5lcj1MZSx0LklucHV0PURlLHQuT3V0cHV0PWplLHQuUGlwZT1OZSx0LkFmdGVyQ29udGVudENoZWNrZWQ9R2UsdC5BZnRlckNvbnRlbnRJbml0PVdlLHQuQWZ0ZXJWaWV3Q2hlY2tlZD0kZSx0LkFmdGVyVmlld0luaXQ9WGUsdC5Eb0NoZWNrPXFlLHQuT25DaGFuZ2VzPUhlLHQuT25EZXN0cm95PXplLHQuT25Jbml0PUJlLHQuQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQT1RZSx0Lk5PX0VSUk9SU19TQ0hFTUE9WWUsdC5OZ01vZHVsZT1LZSx0LlZpZXdFbmNhcHN1bGF0aW9uPVplLHQuVmVyc2lvbj10bix0LlZFUlNJT049ZW4sdC5DbGFzcz12LHQuZm9yd2FyZFJlZj1FLHQucmVzb2x2ZUZvcndhcmRSZWY9Uyx0LkluamVjdG9yPXNuLHQuUmVmbGVjdGl2ZUluamVjdG9yPU5uLHQuUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeT1Sbix0LlJlZmxlY3RpdmVLZXk9X24sdC5PcGFxdWVUb2tlbj1DZSx0LkluamVjdD1tZSx0Lk9wdGlvbmFsPXZlLHQuSW5qZWN0YWJsZT1nZSx0LlNlbGY9X2UsdC5Ta2lwU2VsZj1iZSx0Lkhvc3Q9d2UsdC5OZ1pvbmU9cnIsdC5SZW5kZXJDb21wb25lbnRUeXBlPXhyLHQuUmVuZGVyZXI9T3IsdC5Sb290UmVuZGVyZXI9VHIsdC5DT01QSUxFUl9PUFRJT05TPVpuLHQuQ29tcGlsZXI9S24sdC5Db21waWxlckZhY3Rvcnk9Sm4sdC5Nb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzPVluLHQuQ29tcG9uZW50RmFjdG9yeT10aSx0LkNvbXBvbmVudFJlZj1acix0LkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1paSx0LkVsZW1lbnRSZWY9dHIsdC5OZ01vZHVsZUZhY3Rvcnk9eGksdC5OZ01vZHVsZVJlZj1TaSx0Lk5nTW9kdWxlRmFjdG9yeUxvYWRlcj1UaSx0LmdldE1vZHVsZUZhY3Rvcnk9THQsdC5RdWVyeUxpc3Q9TWksdC5TeXN0ZW1Kc05nTW9kdWxlTG9hZGVyPURpLHQuU3lzdGVtSnNOZ01vZHVsZUxvYWRlckNvbmZpZz1JaSx0LlRlbXBsYXRlUmVmPVZpLHQuVmlld0NvbnRhaW5lclJlZj1GaSx0LkVtYmVkZGVkVmlld1JlZj1xaSx0LlZpZXdSZWY9QmksdC5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneT1NZSx0LkNoYW5nZURldGVjdG9yUmVmPWJyLHQuQ29sbGVjdGlvbkNoYW5nZVJlY29yZD11cix0LkRlZmF1bHRJdGVyYWJsZURpZmZlcj1hcix0Lkl0ZXJhYmxlRGlmZmVycz1kcix0LktleVZhbHVlQ2hhbmdlUmVjb3JkPWZyLHQuS2V5VmFsdWVEaWZmZXJzPXlyLHQuU2ltcGxlQ2hhbmdlPV9yLHQuV3JhcHBlZFZhbHVlPXZyLHQucGxhdGZvcm1Db3JlPUtpLHQuX19jb3JlX3ByaXZhdGVfXz16byx0LkFVVE9fU1RZTEU9aG8sdC5BbmltYXRpb25FbnRyeU1ldGFkYXRhPWZvLHQuQW5pbWF0aW9uU3RhdGVNZXRhZGF0YT15byx0LkFuaW1hdGlvblN0YXRlRGVjbGFyYXRpb25NZXRhZGF0YT1tbyx0LkFuaW1hdGlvblN0YXRlVHJhbnNpdGlvbk1ldGFkYXRhPXZvLHQuQW5pbWF0aW9uTWV0YWRhdGE9Z28sdC5BbmltYXRpb25LZXlmcmFtZXNTZXF1ZW5jZU1ldGFkYXRhPV9vLHQuQW5pbWF0aW9uU3R5bGVNZXRhZGF0YT1ibyx0LkFuaW1hdGlvbkFuaW1hdGVNZXRhZGF0YT13byx0LkFuaW1hdGlvbldpdGhTdGVwc01ldGFkYXRhPUNvLHQuQW5pbWF0aW9uU2VxdWVuY2VNZXRhZGF0YT1Fbyx0LkFuaW1hdGlvbkdyb3VwTWV0YWRhdGE9U28sdC5hbmltYXRlPVl0LHQuZ3JvdXA9S3QsdC5zZXF1ZW5jZT1adCx0LnN0eWxlPUp0LHQuc3RhdGU9dGUsdC5rZXlmcmFtZXM9ZWUsdC50cmFuc2l0aW9uPW5lLHQudHJpZ2dlcj1yZX0pLHQucmVnaXN0ZXJEeW5hbWljKFwiNGVcIixbXCJjXCJdLCEwLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj0odGhpc3x8c2VsZixlJiZlLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKGk9dFthXSkmJihzPShvPDM/aShzKTpvPjM/aShlLG4scyk6aShlLG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixzKSxzfSksaT1lJiZlLl9fbWV0YWRhdGF8fGZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEodCxlKX0sbz10KFwiY1wiKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuU2VydmVyPVwiaHR0cDovL2Jhc2Uua210cnQuaW5cIix0aGlzLkZpbGVTZXJ2ZXI9XCJodHRwOi8vYmFzZS5rbXRydC5pblwiLHRoaXMuSW1hZ2VTZXJ2ZXI9XCJodHRwOi8vYmFzZS5rbXRydC5pblwifXJldHVybiB0PXIoW28uSW5qZWN0YWJsZSgpLGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sdCl9KCk7ZS5Db25maWd1cmF0aW9uPXN9KSx0LnJlZ2lzdGVyRHluYW1pYyhcIjVhXCIsW1wiY1wiLFwiM2VcIixcIjUwXCIsXCI0ZVwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsZSYmZS5fX2RlY29yYXRlfHxmdW5jdGlvbih0LGUsbixyKXt2YXIgaSxvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/ZTpudWxsPT09cj9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTpyO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsbixyKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShpPXRbYV0pJiYocz0obzwzP2kocyk6bz4zP2koZSxuLHMpOmkoZSxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4scyksc30pLGk9ZSYmZS5fX21ldGFkYXRhfHxmdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKHQsZSl9LG89dChcImNcIikscz10KFwiM2VcIiksYT10KFwiNTBcIiksdT10KFwiNGVcIiksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQ9cihbby5OZ01vZHVsZSh7cHJvdmlkZXJzOltzLmF1dGhzZXJ2aWNlLHUuQ29uZmlndXJhdGlvbixhLkF1dGhMb2dpblNlcnZpY2VdfSksaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSx0KX0oKTtlLlNlcnZpY2VNb2R1bGU9Y30pLHQucmVnaXN0ZXJEeW5hbWljKFwiNWJcIixbXCJjXCIsXCJlXCIsXCI0MFwiLFwiNDFcIixcIjE0XCIsXCIxMFwiLFwiNDJcIixcIjNmXCIsXCI1YVwiXSwhMCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9KHRoaXN8fHNlbGYsZSYmZS5fX2RlY29yYXRlfHxmdW5jdGlvbih0LGUsbixyKXt2YXIgaSxvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/ZTpudWxsPT09cj9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTpyO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsbixyKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShpPXRbYV0pJiYocz0obzwzP2kocyk6bz4zP2koZSxuLHMpOmkoZSxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4scyksc30pLGk9ZSYmZS5fX21ldGFkYXRhfHxmdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKHQsZSl9LG89dChcImNcIikscz10KFwiZVwiKSxhPXQoXCI0MFwiKSx1PXQoXCI0MVwiKSxjPXQoXCIxNFwiKSxsPXQoXCIxMFwiKSxwPXQoXCI0MlwiKSxoPXQoXCIzZlwiKSxmPXQoXCI1YVwiKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdD1yKFtvLk5nTW9kdWxlKHtpbXBvcnRzOltzLkJyb3dzZXJNb2R1bGUsdS5IdHRwTW9kdWxlLGMuRm9ybXNNb2R1bGUscC5BY2NvdW50TW9kdWxlLGEuU2hhcmVkTW9kdWxlLGYuU2VydmljZU1vZHVsZSxhLnJvdXRpbmddLGRlY2xhcmF0aW9uczpbbC5BcHBDb21wb25lbnQsaC5NYXRlcmlhbGl6ZURpcmVjdGl2ZV0sYm9vdHN0cmFwOltsLkFwcENvbXBvbmVudF19KSxpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLHQpfSgpO2UuQXBwTW9kdWxlPWR9KSx0LnJlZ2lzdGVyRHluYW1pYyhcImFcIixbXCJkXCIsXCJmXCIsXCIzZlwiLFwiNWJcIl0sITAsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPSh0aGlzfHxzZWxmLHQoXCJkXCIpKTt0KFwiZlwiKSx0KFwiM2ZcIik7dmFyIGk9dChcIjViXCIpO3IucGxhdGZvcm1Ccm93c2VyRHluYW1pYygpLmJvb3RzdHJhcE1vZHVsZShpLkFwcE1vZHVsZSl9KX0pKGZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmU/bW9kdWxlLmV4cG9ydHM9dCgpOnQoKX0pO1xufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJWQ21Fc3dcIiksdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbnByb2Nlc3MubmV4dFRpY2sgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYW5TZXRJbW1lZGlhdGUgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgICYmIHdpbmRvdy5zZXRJbW1lZGlhdGU7XG4gICAgdmFyIGNhblBvc3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgICYmIHdpbmRvdy5wb3N0TWVzc2FnZSAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lclxuICAgIDtcblxuICAgIGlmIChjYW5TZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmKSB7IHJldHVybiB3aW5kb3cuc2V0SW1tZWRpYXRlKGYpIH07XG4gICAgfVxuXG4gICAgaWYgKGNhblBvc3QpIHtcbiAgICAgICAgdmFyIHF1ZXVlID0gW107XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gZXYuc291cmNlO1xuICAgICAgICAgICAgaWYgKChzb3VyY2UgPT09IHdpbmRvdyB8fCBzb3VyY2UgPT09IG51bGwpICYmIGV2LmRhdGEgPT09ICdwcm9jZXNzLXRpY2snKSB7XG4gICAgICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZuID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0VGljayhmbikge1xuICAgICAgICAgICAgcXVldWUucHVzaChmbik7XG4gICAgICAgICAgICB3aW5kb3cucG9zdE1lc3NhZ2UoJ3Byb2Nlc3MtdGljaycsICcqJyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZm4sIDApO1xuICAgIH07XG59KSgpO1xuXG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn1cblxuLy8gVE9ETyhzaHR5bG1hbilcbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuIl19
